(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var WR={exports:{}},Up={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function q8(){if(nk)return Up;nk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var a in r)a!=="key"&&(s[a]=r[a])}else s=r;return r=s.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Up.Fragment=t,Up.jsx=n,Up.jsxs=n,Up}var ik;function K8(){return ik||(ik=1,WR.exports=q8()),WR.exports}var I=K8(),jR={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function Y8(){if(rk)return Tt;rk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function R(F,X,ne){this.props=F,this.context=X,this.refs=S,this.updater=ne||v}R.prototype.isReactComponent={},R.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function x(){}x.prototype=R.prototype;function D(F,X,ne){this.props=F,this.context=X,this.refs=S,this.updater=ne||v}var T=D.prototype=new x;T.constructor=D,C(T,R.prototype),T.isPureReactComponent=!0;var k=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function _(F,X,ne,z,pe,De){return ne=De.ref,{$$typeof:e,type:F,key:X,ref:ne!==void 0?ne:null,props:De}}function M(F,X){return _(F.type,X,void 0,void 0,void 0,F.props)}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function B(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ne){return X[ne]})}var H=/\/+/g;function U(F,X){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):X.toString(36)}function G(){}function J(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(G,G):(F.status="pending",F.then(function(X){F.status==="pending"&&(F.status="fulfilled",F.value=X)},function(X){F.status==="pending"&&(F.status="rejected",F.reason=X)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ie(F,X,ne,z,pe){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(De){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case e:case t:xe=!0;break;case h:return xe=F._init,ie(xe(F._payload),X,ne,z,pe)}}if(xe)return pe=pe(F),xe=z===""?"."+U(F,0):z,k(pe)?(ne="",xe!=null&&(ne=xe.replace(H,"$&/")+"/"),ie(pe,X,ne,"",function(ze){return ze})):pe!=null&&(N(pe)&&(pe=M(pe,ne+(pe.key==null||F&&F.key===pe.key?"":(""+pe.key).replace(H,"$&/")+"/")+xe)),X.push(pe)),1;xe=0;var lt=z===""?".":z+":";if(k(F))for(var qe=0;qe<F.length;qe++)z=F[qe],De=lt+U(z,qe),xe+=ie(z,X,ne,De,pe);else if(qe=g(F),typeof qe=="function")for(F=qe.call(F),qe=0;!(z=F.next()).done;)z=z.value,De=lt+U(z,qe++),xe+=ie(z,X,ne,De,pe);else if(De==="object"){if(typeof F.then=="function")return ie(J(F),X,ne,z,pe);throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(F,X,ne){if(F==null)return F;var z=[],pe=0;return ie(F,z,"","",function(De){return X.call(ne,De,pe++)}),z}function Q(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(ne){(F._status===0||F._status===-1)&&(F._status=1,F._result=ne)},function(ne){(F._status===0||F._status===-1)&&(F._status=2,F._result=ne)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var ee=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function fe(){}return Tt.Children={map:$,forEach:function(F,X,ne){$(F,function(){X.apply(this,arguments)},ne)},count:function(F){var X=0;return $(F,function(){X++}),X},toArray:function(F){return $(F,function(X){return X})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Tt.Component=R,Tt.Fragment=n,Tt.Profiler=r,Tt.PureComponent=D,Tt.StrictMode=i,Tt.Suspense=l,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return L.H.useMemoCache(F)}},Tt.cache=function(F){return function(){return F.apply(null,arguments)}},Tt.cloneElement=function(F,X,ne){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var z=C({},F.props),pe=F.key,De=void 0;if(X!=null)for(xe in X.ref!==void 0&&(De=void 0),X.key!==void 0&&(pe=""+X.key),X)!P.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(z[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)z.children=ne;else if(1<xe){for(var lt=Array(xe),qe=0;qe<xe;qe++)lt[qe]=arguments[qe+2];z.children=lt}return _(F.type,pe,void 0,void 0,De,z)},Tt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Tt.createElement=function(F,X,ne){var z,pe={},De=null;if(X!=null)for(z in X.key!==void 0&&(De=""+X.key),X)P.call(X,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(pe[z]=X[z]);var xe=arguments.length-2;if(xe===1)pe.children=ne;else if(1<xe){for(var lt=Array(xe),qe=0;qe<xe;qe++)lt[qe]=arguments[qe+2];pe.children=lt}if(F&&F.defaultProps)for(z in xe=F.defaultProps,xe)pe[z]===void 0&&(pe[z]=xe[z]);return _(F,De,void 0,void 0,null,pe)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(F){return{$$typeof:a,render:F}},Tt.isValidElement=N,Tt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:Q}},Tt.memo=function(F,X){return{$$typeof:u,type:F,compare:X===void 0?null:X}},Tt.startTransition=function(F){var X=L.T,ne={};L.T=ne;try{var z=F(),pe=L.S;pe!==null&&pe(ne,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(fe,ee)}catch(De){ee(De)}finally{L.T=X}},Tt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Tt.use=function(F){return L.H.use(F)},Tt.useActionState=function(F,X,ne){return L.H.useActionState(F,X,ne)},Tt.useCallback=function(F,X){return L.H.useCallback(F,X)},Tt.useContext=function(F){return L.H.useContext(F)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(F,X){return L.H.useDeferredValue(F,X)},Tt.useEffect=function(F,X,ne){var z=L.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(F,X)},Tt.useId=function(){return L.H.useId()},Tt.useImperativeHandle=function(F,X,ne){return L.H.useImperativeHandle(F,X,ne)},Tt.useInsertionEffect=function(F,X){return L.H.useInsertionEffect(F,X)},Tt.useLayoutEffect=function(F,X){return L.H.useLayoutEffect(F,X)},Tt.useMemo=function(F,X){return L.H.useMemo(F,X)},Tt.useOptimistic=function(F,X){return L.H.useOptimistic(F,X)},Tt.useReducer=function(F,X,ne){return L.H.useReducer(F,X,ne)},Tt.useRef=function(F){return L.H.useRef(F)},Tt.useState=function(F){return L.H.useState(F)},Tt.useSyncExternalStore=function(F,X,ne){return L.H.useSyncExternalStore(F,X,ne)},Tt.useTransition=function(){return L.H.useTransition()},Tt.version="19.1.1",Tt}var sk;function Db(){return sk||(sk=1,jR.exports=Y8()),jR.exports}var b=Db();const K=wf(b);var $R={exports:{}},Wp={},qR={exports:{}},KR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok;function X8(){return ok||(ok=1,function(e){function t($,Q){var ee=$.length;$.push(Q);e:for(;0<ee;){var fe=ee-1>>>1,F=$[fe];if(0<r(F,Q))$[fe]=Q,$[ee]=F,ee=fe;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Q=$[0],ee=$.pop();if(ee!==Q){$[0]=ee;e:for(var fe=0,F=$.length,X=F>>>1;fe<X;){var ne=2*(fe+1)-1,z=$[ne],pe=ne+1,De=$[pe];if(0>r(z,ee))pe<F&&0>r(De,z)?($[fe]=De,$[pe]=ee,fe=pe):($[fe]=z,$[ne]=ee,fe=ne);else if(pe<F&&0>r(De,ee))$[fe]=De,$[pe]=ee,fe=pe;else break e}}return Q}function r($,Q){var ee=$.sortIndex-Q.sortIndex;return ee!==0?ee:$.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,g=3,v=!1,C=!1,S=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k($){for(var Q=n(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=$)i(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(u)}}function L($){if(S=!1,k($),!C)if(n(l)!==null)C=!0,P||(P=!0,U());else{var Q=n(u);Q!==null&&ie(L,Q.startTime-$)}}var P=!1,_=-1,M=5,N=-1;function B(){return R?!0:!(e.unstable_now()-N<M)}function H(){if(R=!1,P){var $=e.unstable_now();N=$;var Q=!0;try{e:{C=!1,S&&(S=!1,D(_),_=-1),v=!0;var ee=g;try{t:{for(k($),p=n(l);p!==null&&!(p.expirationTime>$&&B());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,g=p.priorityLevel;var F=fe(p.expirationTime<=$);if($=e.unstable_now(),typeof F=="function"){p.callback=F,k($),Q=!0;break t}p===n(l)&&i(l),k($)}else i(l);p=n(l)}if(p!==null)Q=!0;else{var X=n(u);X!==null&&ie(L,X.startTime-$),Q=!1}}break e}finally{p=null,g=ee,v=!1}Q=void 0}}finally{Q?U():P=!1}}}var U;if(typeof T=="function")U=function(){T(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=H,U=function(){J.postMessage(null)}}else U=function(){x(H,0)};function ie($,Q){_=x(function(){$(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ee=g;g=Q;try{return $()}finally{g=ee}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=g;g=$;try{return Q()}finally{g=ee}},e.unstable_scheduleCallback=function($,Q,ee){var fe=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ee+F,$={id:h++,callback:Q,priorityLevel:$,startTime:ee,expirationTime:F,sortIndex:-1},ee>fe?($.sortIndex=ee,t(u,$),n(l)===null&&$===n(u)&&(S?(D(_),_=-1):S=!0,ie(L,ee-fe))):($.sortIndex=F,t(l,$),C||v||(C=!0,P||(P=!0,U()))),$},e.unstable_shouldYield=B,e.unstable_wrapCallback=function($){var Q=g;return function(){var ee=g;g=Q;try{return $.apply(this,arguments)}finally{g=ee}}}}(KR)),KR}var ak;function Q8(){return ak||(ak=1,qR.exports=X8()),qR.exports}var YR={exports:{}},Ji={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk;function Z8(){if(lk)return Ji;lk=1;var e=Db();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:l,containerInfo:u,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ji.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ji.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(l,u,null,h)},Ji.flushSync=function(l){var u=o.T,h=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=u,i.p=h,i.d.f()}},Ji.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},Ji.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Ji.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,p=a(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&i.d.X(l,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ji.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},Ji.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=a(h,u.crossOrigin);i.d.L(l,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ji.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=a(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},Ji.requestFormReset=function(l){i.d.r(l)},Ji.unstable_batchedUpdates=function(l,u){return l(u)},Ji.useFormState=function(l,u,h){return o.H.useFormState(l,u,h)},Ji.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ji.version="19.1.1",Ji}var ck;function bH(){if(ck)return YR.exports;ck=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),YR.exports=Z8(),YR.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk;function J8(){if(uk)return Wp;uk=1;var e=Q8(),t=Db(),n=bH();function i(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var d=c,f=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(f=d.return),c=d.return;while(c)}return d.tag===3?f:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(s(c)!==c)throw Error(i(188))}function l(c){var d=c.alternate;if(!d){if(d=s(c),d===null)throw Error(i(188));return d!==c?null:c}for(var f=c,m=d;;){var w=f.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){f=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===f)return a(w),c;if(E===m)return a(w),d;E=E.sibling}throw Error(i(188))}if(f.return!==m.return)f=w,m=E;else{for(var V=!1,W=w.child;W;){if(W===f){V=!0,f=w,m=E;break}if(W===m){V=!0,m=w,f=E;break}W=W.sibling}if(!V){for(W=E.child;W;){if(W===f){V=!0,f=E,m=w;break}if(W===m){V=!0,m=E,f=w;break}W=W.sibling}if(!V)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?c:d}function u(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=u(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=H&&c[H]||c["@@iterator"],typeof c=="function"?c:null)}var G=Symbol.for("react.client.reference");function J(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===G?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case C:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case N:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case T:return(c.displayName||"Context")+".Provider";case D:return(c._context.displayName||"Context")+".Consumer";case k:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return d=c.displayName||null,d!==null?d:J(c.type)||"Memo";case M:d=c._payload,c=c._init;try{return J(c(d))}catch{}}return null}var ie=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],F=-1;function X(c){return{current:c}}function ne(c){0>F||(c.current=fe[F],fe[F]=null,F--)}function z(c,d){F++,fe[F]=c.current,c.current=d}var pe=X(null),De=X(null),xe=X(null),lt=X(null);function qe(c,d){switch(z(xe,d),z(De,c),z(pe,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?I_(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=I_(d),c=F_(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}ne(pe),z(pe,c)}function ze(){ne(pe),ne(De),ne(xe)}function nt(c){c.memoizedState!==null&&z(lt,c);var d=pe.current,f=F_(d,c.type);d!==f&&(z(De,c),z(pe,f))}function ct(c){De.current===c&&(ne(pe),ne(De)),lt.current===c&&(ne(lt),Vp._currentValue=ee)}var mt=Object.prototype.hasOwnProperty,Ot=e.unstable_scheduleCallback,ke=e.unstable_cancelCallback,Le=e.unstable_shouldYield,Qe=e.unstable_requestPaint,Ne=e.unstable_now,Ze=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,st=e.unstable_UserBlockingPriority,St=e.unstable_NormalPriority,Et=e.unstable_LowPriority,Mt=e.unstable_IdlePriority,mn=e.log,Vn=e.unstable_setDisableYieldValue,te=null,ve=null;function Pe(c){if(typeof mn=="function"&&Vn(c),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(te,c)}catch{}}var Ve=Math.clz32?Math.clz32:bi,Lt=Math.log,Dn=Math.LN2;function bi(c){return c>>>=0,c===0?32:31-(Lt(c)/Dn|0)|0}var ti=256,Qi=4194304;function hi(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Mn(c,d,f){var m=c.pendingLanes;if(m===0)return 0;var w=0,E=c.suspendedLanes,V=c.pingedLanes;c=c.warmLanes;var W=m&134217727;return W!==0?(m=W&~E,m!==0?w=hi(m):(V&=W,V!==0?w=hi(V):f||(f=W&~c,f!==0&&(w=hi(f))))):(W=m&~E,W!==0?w=hi(W):V!==0?w=hi(V):f||(f=m&~c,f!==0&&(w=hi(f)))),w===0?0:d!==0&&d!==w&&(d&E)===0&&(E=w&-w,f=d&-d,E>=f||E===32&&(f&4194048)!==0)?d:w}function fi(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Si(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(){var c=ti;return ti<<=1,(ti&4194048)===0&&(ti=256),c}function Bc(){var c=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),c}function fs(c){for(var d=[],f=0;31>f;f++)d.push(c);return d}function Ys(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function cl(c,d,f,m,w,E){var V=c.pendingLanes;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=f,c.entangledLanes&=f,c.errorRecoveryDisabledLanes&=f,c.shellSuspendCounter=0;var W=c.entanglements,q=c.expirationTimes,le=c.hiddenUpdates;for(f=V&~f;0<f;){var ye=31-Ve(f),be=1<<ye;W[ye]=0,q[ye]=-1;var de=le[ye];if(de!==null)for(le[ye]=null,ye=0;ye<de.length;ye++){var he=de[ye];he!==null&&(he.lane&=-536870913)}f&=~be}m!==0&&ur(c,m,0),E!==0&&w===0&&c.tag!==0&&(c.suspendedLanes|=E&~(V&~d))}function ur(c,d,f){c.pendingLanes|=d,c.suspendedLanes&=~d;var m=31-Ve(d);c.entangledLanes|=d,c.entanglements[m]=c.entanglements[m]|1073741824|f&4194090}function mo(c,d){var f=c.entangledLanes|=d;for(c=c.entanglements;f;){var m=31-Ve(f),w=1<<m;w&d|c[m]&d&&(c[m]|=d),f&=~w}}function vo(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ul(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Y(){var c=Q.p;return c!==0?c:(c=window.event,c===void 0?32:X_(c.type))}function se(c,d){var f=Q.p;try{return Q.p=c,d()}finally{Q.p=f}}var ce=Math.random().toString(36).slice(2),Se="__reactFiber$"+ce,Te="__reactProps$"+ce,Be="__reactContainer$"+ce,Ke="__reactEvents$"+ce,Ue="__reactListeners$"+ce,We="__reactHandles$"+ce,rt="__reactResources$"+ce,je="__reactMarker$"+ce;function $e(c){delete c[Se],delete c[Te],delete c[Ke],delete c[Ue],delete c[We]}function Rt(c){var d=c[Se];if(d)return d;for(var f=c.parentNode;f;){if(d=f[Be]||f[Se]){if(f=d.alternate,d.child!==null||f!==null&&f.child!==null)for(c=O_(c);c!==null;){if(f=c[Se])return f;c=O_(c)}return d}c=f,f=c.parentNode}return null}function $t(c){if(c=c[Se]||c[Be]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function vn(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(i(33))}function Kt(c){var d=c[rt];return d||(d=c[rt]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function wt(c){c[je]=!0}var Yt=new Set,Rr={};function Oi(c,d){Ei(c,d),Ei(c+"Capture",d)}function Ei(c,d){for(Rr[c]=d,c=0;c<d.length;c++)Yt.add(d[c])}var dr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},zr={};function ps(c){return mt.call(zr,c)?!0:mt.call(dl,c)?!1:dr.test(c)?zr[c]=!0:(dl[c]=!0,!1)}function Ur(c,d,f){if(ps(d))if(f===null)c.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var m=d.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+f)}}function hr(c,d,f){if(f===null)c.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+f)}}function yt(c,d,f,m){if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttributeNS(d,f,""+m)}}var An,ha;function fr(c){if(An===void 0)try{throw Error()}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);An=d&&d[1]||"",ha=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+c+ha}var Cn=!1;function Xs(c,d){if(!c||Cn)return"";Cn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(d){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(he){var de=he}Reflect.construct(c,[],be)}else{try{be.call()}catch(he){de=he}c.call(be.prototype)}}else{try{throw Error()}catch(he){de=he}(be=c())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),V=E[0],W=E[1];if(V&&W){var q=V.split(`
`),le=W.split(`
`);for(w=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;w<le.length&&!le[w].includes("DetermineComponentFrameRoot");)w++;if(m===q.length||w===le.length)for(m=q.length-1,w=le.length-1;1<=m&&0<=w&&q[m]!==le[w];)w--;for(;1<=m&&0<=w;m--,w--)if(q[m]!==le[w]){if(m!==1||w!==1)do if(m--,w--,0>w||q[m]!==le[w]){var ye=`
`+q[m].replace(" at new "," at ");return c.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",c.displayName)),ye}while(1<=m&&0<=w);break}}}finally{Cn=!1,Error.prepareStackTrace=f}return(f=c?c.displayName||c.name:"")?fr(f):""}function hl(c){switch(c.tag){case 26:case 27:case 5:return fr(c.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Xs(c.type,!1);case 11:return Xs(c.type.render,!1);case 1:return Xs(c.type,!0);case 31:return fr("Activity");default:return""}}function fl(c){try{var d="";do d+=hl(c),c=c.return;while(c);return d}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function pr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function $f(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function KS(c){var d=$f(c)?"checked":"value",f=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),m=""+c[d];if(!c.hasOwnProperty(d)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,E=f.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return w.call(this)},set:function(V){m=""+V,E.call(this,V)}}),Object.defineProperty(c,d,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Rd(c){c._valueTracker||(c._valueTracker=KS(c))}function qf(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var f=d.getValue(),m="";return c&&(m=$f(c)?c.checked?"true":"false":c.value),c=m,c!==f?(d.setValue(c),!0):!1}function Hc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var YS=/[\n"\\]/g;function ni(c){return c.replace(YS,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Wr(c,d,f,m,w,E,V,W){c.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.type=V:c.removeAttribute("type"),d!=null?V==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+pr(d)):c.value!==""+pr(d)&&(c.value=""+pr(d)):V!=="submit"&&V!=="reset"||c.removeAttribute("value"),d!=null?pl(c,V,pr(d)):f!=null?pl(c,V,pr(f)):m!=null&&c.removeAttribute("value"),w==null&&E!=null&&(c.defaultChecked=!!E),w!=null&&(c.checked=w&&typeof w!="function"&&typeof w!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?c.name=""+pr(W):c.removeAttribute("name")}function Gc(c,d,f,m,w,E,V,W){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(c.type=E),d!=null||f!=null){if(!(E!=="submit"&&E!=="reset"||d!=null))return;f=f!=null?""+pr(f):"",d=d!=null?""+pr(d):f,W||d===c.value||(c.value=d),c.defaultValue=d}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,c.checked=W?c.checked:!!m,c.defaultChecked=!!m,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(c.name=V)}function pl(c,d,f){d==="number"&&Hc(c.ownerDocument)===c||c.defaultValue===""+f||(c.defaultValue=""+f)}function fa(c,d,f,m){if(c=c.options,d){d={};for(var w=0;w<f.length;w++)d["$"+f[w]]=!0;for(f=0;f<c.length;f++)w=d.hasOwnProperty("$"+c[f].value),c[f].selected!==w&&(c[f].selected=w),w&&m&&(c[f].defaultSelected=!0)}else{for(f=""+pr(f),d=null,w=0;w<c.length;w++){if(c[w].value===f){c[w].selected=!0,m&&(c[w].defaultSelected=!0);return}d!==null||c[w].disabled||(d=c[w])}d!==null&&(d.selected=!0)}}function un(c,d,f){if(d!=null&&(d=""+pr(d),d!==c.value&&(c.value=d),f==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=f!=null?""+pr(f):""}function zc(c,d,f,m){if(d==null){if(m!=null){if(f!=null)throw Error(i(92));if(ie(m)){if(1<m.length)throw Error(i(93));m=m[0]}f=m}f==null&&(f=""),d=f}f=pr(d),c.defaultValue=f,m=c.textContent,m===f&&m!==""&&m!==null&&(c.value=m)}function gs(c,d){if(d){var f=c.firstChild;if(f&&f===c.lastChild&&f.nodeType===3){f.nodeValue=d;return}}c.textContent=d}var Uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Av(c,d,f){var m=d.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":m?c.setProperty(d,f):typeof f!="number"||f===0||Uc.has(d)?d==="float"?c.cssFloat=f:c[d]=(""+f).trim():c[d]=f+"px"}function Kf(c,d,f){if(d!=null&&typeof d!="object")throw Error(i(62));if(c=c.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||d!=null&&d.hasOwnProperty(m)||(m.indexOf("--")===0?c.setProperty(m,""):m==="float"?c.cssFloat="":c[m]="");for(var w in d)m=d[w],d.hasOwnProperty(w)&&f[w]!==m&&Av(c,w,m)}else for(var E in d)d.hasOwnProperty(E)&&Av(c,E,d[E])}function Yf(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xd(c){return QS.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var pa=null;function ms(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ga=null,ma=null;function Xf(c){var d=$t(c);if(d&&(c=d.stateNode)){var f=c[Te]||null;e:switch(c=d.stateNode,d.type){case"input":if(Wr(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),d=f.name,f.type==="radio"&&d!=null){for(f=c;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ni(""+d)+'"][type="radio"]'),d=0;d<f.length;d++){var m=f[d];if(m!==c&&m.form===c.form){var w=m[Te]||null;if(!w)throw Error(i(90));Wr(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(d=0;d<f.length;d++)m=f[d],m.form===c.form&&qf(m)}break e;case"textarea":un(c,f.value,f.defaultValue);break e;case"select":d=f.value,d!=null&&fa(c,!!f.multiple,d,!1)}}}var yo=!1;function Pv(c,d,f){if(yo)return c(d,f);yo=!0;try{var m=c(d);return m}finally{if(yo=!1,(ga!==null||ma!==null)&&(Sy(),ga&&(d=ga,c=ma,ma=ga=null,Xf(d),c)))for(d=0;d<c.length;d++)Xf(c[d])}}function Wc(c,d){var f=c.stateNode;if(f===null)return null;var m=f[Te]||null;if(m===null)return null;f=m[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(c=c.type,m=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!m;break e;default:c=!1}if(c)return null;if(f&&typeof f!="function")throw Error(i(231,d,typeof f));return f}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(Qs)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){vs=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{vs=!1}var Co=null,gl=null,va=null;function Qf(){if(va)return va;var c,d=gl,f=d.length,m,w="value"in Co?Co.value:Co.textContent,E=w.length;for(c=0;c<f&&d[c]===w[c];c++);var V=f-c;for(m=1;m<=V&&d[f-m]===w[E-m];m++);return va=w.slice(c,1<m?1-m:void 0)}function wo(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function bo(){return!0}function Zf(){return!1}function Ri(c){function d(f,m,w,E,V){this._reactName=f,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=V,this.currentTarget=null;for(var W in c)c.hasOwnProperty(W)&&(f=c[W],this[W]=f?f(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?bo:Zf,this.isPropagationStopped=Zf,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),d}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Td=Ri(en),$c=h({},en,{view:0,detail:0}),Iv=Ri($c),Dd,Ad,So,qc=h({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==So&&(So&&c.type==="mousemove"?(Dd=c.screenX-So.screenX,Ad=c.screenY-So.screenY):Ad=Dd=0,So=c),Dd)},movementY:function(c){return"movementY"in c?c.movementY:Ad}}),ys=Ri(qc),Fv=h({},qc,{dataTransfer:0}),ZS=Ri(Fv),Kc=h({},$c,{relatedTarget:0}),Pd=Ri(Kc),Jf=h({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),Id=Ri(Jf),Mv=h({},en,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Fd=Ri(Mv),JS=h({},en,{data:0}),ep=Ri(JS),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=kv[c])?!!d[c]:!1}function Xc(){return tp}var Ov=h({},$c,{key:function(c){if(c.key){var d=Yc[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=wo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?_v[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(c){return c.type==="keypress"?wo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?wo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Md=Ri(Ov),Lv=h({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=Ri(Lv),ya=h({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),Nv=Ri(ya),Vv=h({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=Ri(Vv),Hv=h({},qc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),_d=Ri(Hv),gr=h({},en,{newState:0,oldState:0}),Gv=Ri(gr),zv=[9,13,27,32],Eo=Qs&&"CompositionEvent"in window,y=null;Qs&&"documentMode"in document&&(y=document.documentMode);var A=Qs&&"TextEvent"in window&&!y,O=Qs&&(!Eo||y&&8<y&&11>=y),j=" ",oe=!1;function me(c,d){switch(c){case"keyup":return zv.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fe(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Gt=!1;function pi(c,d){switch(c){case"compositionend":return Fe(d);case"keypress":return d.which!==32?null:(oe=!0,j);case"textInput":return c=d.data,c===j&&oe?null:c;default:return null}}function zt(c,d){if(Gt)return c==="compositionend"||!Eo&&me(c,d)?(c=Qf(),va=gl=Co=null,Gt=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return O&&d.locale!=="ko"?null:d.data;default:return null}}var xi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gi(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!xi[c.type]:d==="textarea"}function Ca(c,d,f,m){ga?ma?ma.push(m):ma=[m]:ga=m,d=Ay(d,"onChange"),0<d.length&&(f=new Td("onChange","change",null,f,m),c.push({event:f,listeners:d}))}var Li=null,Ro=null;function ip(c){x_(c,0)}function Uv(c){var d=vn(c);if(qf(d))return c}function $1(c,d){if(c==="change")return d}var q1=!1;if(Qs){var eE;if(Qs){var tE="oninput"in document;if(!tE){var K1=document.createElement("div");K1.setAttribute("oninput","return;"),tE=typeof K1.oninput=="function"}eE=tE}else eE=!1;q1=eE&&(!document.documentMode||9<document.documentMode)}function Y1(){Li&&(Li.detachEvent("onpropertychange",X1),Ro=Li=null)}function X1(c){if(c.propertyName==="value"&&Uv(Ro)){var d=[];Ca(d,Ro,c,ms(c)),Pv(ip,d)}}function E7(c,d,f){c==="focusin"?(Y1(),Li=d,Ro=f,Li.attachEvent("onpropertychange",X1)):c==="focusout"&&Y1()}function R7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Uv(Ro)}function x7(c,d){if(c==="click")return Uv(d)}function T7(c,d){if(c==="input"||c==="change")return Uv(d)}function D7(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var jr=typeof Object.is=="function"?Object.is:D7;function rp(c,d){if(jr(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var f=Object.keys(c),m=Object.keys(d);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var w=f[m];if(!mt.call(d,w)||!jr(c[w],d[w]))return!1}return!0}function Q1(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Z1(c,d){var f=Q1(c);c=0;for(var m;f;){if(f.nodeType===3){if(m=c+f.textContent.length,c<=d&&m>=d)return{node:f,offset:d-c};c=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Q1(f)}}function J1(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?J1(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function eF(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=Hc(c.document);d instanceof c.HTMLIFrameElement;){try{var f=typeof d.contentWindow.location.href=="string"}catch{f=!1}if(f)c=d.contentWindow;else break;d=Hc(c.document)}return d}function nE(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var A7=Qs&&"documentMode"in document&&11>=document.documentMode,kd=null,iE=null,sp=null,rE=!1;function tF(c,d,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;rE||kd==null||kd!==Hc(m)||(m=kd,"selectionStart"in m&&nE(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),sp&&rp(sp,m)||(sp=m,m=Ay(iE,"onSelect"),0<m.length&&(d=new Td("onSelect","select",null,d,f),c.push({event:d,listeners:m}),d.target=kd)))}function Qc(c,d){var f={};return f[c.toLowerCase()]=d.toLowerCase(),f["Webkit"+c]="webkit"+d,f["Moz"+c]="moz"+d,f}var Od={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionrun:Qc("Transition","TransitionRun"),transitionstart:Qc("Transition","TransitionStart"),transitioncancel:Qc("Transition","TransitionCancel"),transitionend:Qc("Transition","TransitionEnd")},sE={},nF={};Qs&&(nF=document.createElement("div").style,"AnimationEvent"in window||(delete Od.animationend.animation,delete Od.animationiteration.animation,delete Od.animationstart.animation),"TransitionEvent"in window||delete Od.transitionend.transition);function Zc(c){if(sE[c])return sE[c];if(!Od[c])return c;var d=Od[c],f;for(f in d)if(d.hasOwnProperty(f)&&f in nF)return sE[c]=d[f];return c}var iF=Zc("animationend"),rF=Zc("animationiteration"),sF=Zc("animationstart"),P7=Zc("transitionrun"),I7=Zc("transitionstart"),F7=Zc("transitioncancel"),oF=Zc("transitionend"),aF=new Map,oE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oE.push("scrollEnd");function Zs(c,d){aF.set(c,d),Oi(d,[c])}var lF=new WeakMap;function Cs(c,d){if(typeof c=="object"&&c!==null){var f=lF.get(c);return f!==void 0?f:(d={value:c,source:d,stack:fl(d)},lF.set(c,d),d)}return{value:c,source:d,stack:fl(d)}}var ws=[],Ld=0,aE=0;function Wv(){for(var c=Ld,d=aE=Ld=0;d<c;){var f=ws[d];ws[d++]=null;var m=ws[d];ws[d++]=null;var w=ws[d];ws[d++]=null;var E=ws[d];if(ws[d++]=null,m!==null&&w!==null){var V=m.pending;V===null?w.next=w:(w.next=V.next,V.next=w),m.pending=w}E!==0&&cF(f,w,E)}}function jv(c,d,f,m){ws[Ld++]=c,ws[Ld++]=d,ws[Ld++]=f,ws[Ld++]=m,aE|=m,c.lanes|=m,c=c.alternate,c!==null&&(c.lanes|=m)}function lE(c,d,f,m){return jv(c,d,f,m),$v(c)}function Nd(c,d){return jv(c,null,null,d),$v(c)}function cF(c,d,f){c.lanes|=f;var m=c.alternate;m!==null&&(m.lanes|=f);for(var w=!1,E=c.return;E!==null;)E.childLanes|=f,m=E.alternate,m!==null&&(m.childLanes|=f),E.tag===22&&(c=E.stateNode,c===null||c._visibility&1||(w=!0)),c=E,E=E.return;return c.tag===3?(E=c.stateNode,w&&d!==null&&(w=31-Ve(f),c=E.hiddenUpdates,m=c[w],m===null?c[w]=[d]:m.push(d),d.lane=f|536870912),E):null}function $v(c){if(50<Ip)throw Ip=0,pR=null,Error(i(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Vd={};function M7(c,d,f,m){this.tag=c,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(c,d,f,m){return new M7(c,d,f,m)}function cE(c){return c=c.prototype,!(!c||!c.isReactComponent)}function wa(c,d){var f=c.alternate;return f===null?(f=$r(c.tag,d,c.key,c.mode),f.elementType=c.elementType,f.type=c.type,f.stateNode=c.stateNode,f.alternate=c,c.alternate=f):(f.pendingProps=d,f.type=c.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=c.flags&65011712,f.childLanes=c.childLanes,f.lanes=c.lanes,f.child=c.child,f.memoizedProps=c.memoizedProps,f.memoizedState=c.memoizedState,f.updateQueue=c.updateQueue,d=c.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},f.sibling=c.sibling,f.index=c.index,f.ref=c.ref,f.refCleanup=c.refCleanup,f}function uF(c,d){c.flags&=65011714;var f=c.alternate;return f===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,d=f.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function qv(c,d,f,m,w,E){var V=0;if(m=c,typeof c=="function")cE(c)&&(V=1);else if(typeof c=="string")V=k8(c,f,pe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case N:return c=$r(31,f,d,w),c.elementType=N,c.lanes=E,c;case C:return Jc(f.children,w,E,d);case S:V=8,w|=24;break;case R:return c=$r(12,f,d,w|2),c.elementType=R,c.lanes=E,c;case L:return c=$r(13,f,d,w),c.elementType=L,c.lanes=E,c;case P:return c=$r(19,f,d,w),c.elementType=P,c.lanes=E,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case x:case T:V=10;break e;case D:V=9;break e;case k:V=11;break e;case _:V=14;break e;case M:V=16,m=null;break e}V=29,f=Error(i(130,c===null?"null":typeof c,"")),m=null}return d=$r(V,f,d,w),d.elementType=c,d.type=m,d.lanes=E,d}function Jc(c,d,f,m){return c=$r(7,c,m,d),c.lanes=f,c}function uE(c,d,f){return c=$r(6,c,null,d),c.lanes=f,c}function dE(c,d,f){return d=$r(4,c.children!==null?c.children:[],c.key,d),d.lanes=f,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Bd=[],Hd=0,Kv=null,Yv=0,bs=[],Ss=0,eu=null,ba=1,Sa="";function tu(c,d){Bd[Hd++]=Yv,Bd[Hd++]=Kv,Kv=c,Yv=d}function dF(c,d,f){bs[Ss++]=ba,bs[Ss++]=Sa,bs[Ss++]=eu,eu=c;var m=ba;c=Sa;var w=32-Ve(m)-1;m&=~(1<<w),f+=1;var E=32-Ve(d)+w;if(30<E){var V=w-w%5;E=(m&(1<<V)-1).toString(32),m>>=V,w-=V,ba=1<<32-Ve(d)+w|f<<w|m,Sa=E+c}else ba=1<<E|f<<w|m,Sa=c}function hE(c){c.return!==null&&(tu(c,1),dF(c,1,0))}function fE(c){for(;c===Kv;)Kv=Bd[--Hd],Bd[Hd]=null,Yv=Bd[--Hd],Bd[Hd]=null;for(;c===eu;)eu=bs[--Ss],bs[Ss]=null,Sa=bs[--Ss],bs[Ss]=null,ba=bs[--Ss],bs[Ss]=null}var mr=null,Bn=null,Xt=!1,nu=null,xo=!1,pE=Error(i(519));function iu(c){var d=Error(i(418,""));throw lp(Cs(d,c)),pE}function hF(c){var d=c.stateNode,f=c.type,m=c.memoizedProps;switch(d[Se]=c,d[Te]=m,f){case"dialog":kt("cancel",d),kt("close",d);break;case"iframe":case"object":case"embed":kt("load",d);break;case"video":case"audio":for(f=0;f<Mp.length;f++)kt(Mp[f],d);break;case"source":kt("error",d);break;case"img":case"image":case"link":kt("error",d),kt("load",d);break;case"details":kt("toggle",d);break;case"input":kt("invalid",d),Gc(d,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Rd(d);break;case"select":kt("invalid",d);break;case"textarea":kt("invalid",d),zc(d,m.value,m.defaultValue,m.children),Rd(d)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||d.textContent===""+f||m.suppressHydrationWarning===!0||P_(d.textContent,f)?(m.popover!=null&&(kt("beforetoggle",d),kt("toggle",d)),m.onScroll!=null&&kt("scroll",d),m.onScrollEnd!=null&&kt("scrollend",d),m.onClick!=null&&(d.onclick=Py),d=!0):d=!1,d||iu(c)}function fF(c){for(mr=c.return;mr;)switch(mr.tag){case 5:case 13:xo=!1;return;case 27:case 3:xo=!0;return;default:mr=mr.return}}function op(c){if(c!==mr)return!1;if(!Xt)return fF(c),Xt=!0,!1;var d=c.tag,f;if((f=d!==3&&d!==27)&&((f=d===5)&&(f=c.type,f=!(f!=="form"&&f!=="button")||IR(c.type,c.memoizedProps)),f=!f),f&&Bn&&iu(c),fF(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(f=c.data,f==="/$"){if(d===0){Bn=eo(c.nextSibling);break e}d--}else f!=="$"&&f!=="$!"&&f!=="$?"||d++;c=c.nextSibling}Bn=null}}else d===27?(d=Bn,Fl(c.type)?(c=kR,kR=null,Bn=c):Bn=d):Bn=mr?eo(c.stateNode.nextSibling):null;return!0}function ap(){Bn=mr=null,Xt=!1}function pF(){var c=nu;return c!==null&&(Dr===null?Dr=c:Dr.push.apply(Dr,c),nu=null),c}function lp(c){nu===null?nu=[c]:nu.push(c)}var gE=X(null),ru=null,Ea=null;function ml(c,d,f){z(gE,d._currentValue),d._currentValue=f}function Ra(c){c._currentValue=gE.current,ne(gE)}function mE(c,d,f){for(;c!==null;){var m=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,m!==null&&(m.childLanes|=d)):m!==null&&(m.childLanes&d)!==d&&(m.childLanes|=d),c===f)break;c=c.return}}function vE(c,d,f,m){var w=c.child;for(w!==null&&(w.return=c);w!==null;){var E=w.dependencies;if(E!==null){var V=w.child;E=E.firstContext;e:for(;E!==null;){var W=E;E=w;for(var q=0;q<d.length;q++)if(W.context===d[q]){E.lanes|=f,W=E.alternate,W!==null&&(W.lanes|=f),mE(E.return,f,c),m||(V=null);break e}E=W.next}}else if(w.tag===18){if(V=w.return,V===null)throw Error(i(341));V.lanes|=f,E=V.alternate,E!==null&&(E.lanes|=f),mE(V,f,c),V=null}else V=w.child;if(V!==null)V.return=w;else for(V=w;V!==null;){if(V===c){V=null;break}if(w=V.sibling,w!==null){w.return=V.return,V=w;break}V=V.return}w=V}}function cp(c,d,f,m){c=null;for(var w=d,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var V=w.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var W=w.type;jr(w.pendingProps.value,V.value)||(c!==null?c.push(W):c=[W])}}else if(w===lt.current){if(V=w.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(c!==null?c.push(Vp):c=[Vp])}w=w.return}c!==null&&vE(d,c,f,m),d.flags|=262144}function Xv(c){for(c=c.firstContext;c!==null;){if(!jr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function su(c){ru=c,Ea=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Zi(c){return gF(ru,c)}function Qv(c,d){return ru===null&&su(c),gF(c,d)}function gF(c,d){var f=d._currentValue;if(d={context:d,memoizedValue:f,next:null},Ea===null){if(c===null)throw Error(i(308));Ea=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Ea=Ea.next=d;return f}var _7=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(f,m){c.push(m)}};this.abort=function(){d.aborted=!0,c.forEach(function(f){return f()})}},k7=e.unstable_scheduleCallback,O7=e.unstable_NormalPriority,mi={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yE(){return{controller:new _7,data:new Map,refCount:0}}function up(c){c.refCount--,c.refCount===0&&k7(O7,function(){c.controller.abort()})}var dp=null,CE=0,Gd=0,zd=null;function L7(c,d){if(dp===null){var f=dp=[];CE=0,Gd=bR(),zd={status:"pending",value:void 0,then:function(m){f.push(m)}}}return CE++,d.then(mF,mF),d}function mF(){if(--CE===0&&dp!==null){zd!==null&&(zd.status="fulfilled");var c=dp;dp=null,Gd=0,zd=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function N7(c,d){var f=[],m={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return c.then(function(){m.status="fulfilled",m.value=d;for(var w=0;w<f.length;w++)(0,f[w])(d)},function(w){for(m.status="rejected",m.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),m}var vF=$.S;$.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&L7(c,d),vF!==null&&vF(c,d)};var ou=X(null);function wE(){var c=ou.current;return c!==null?c:wn.pooledCache}function Zv(c,d){d===null?z(ou,ou.current):z(ou,d.pool)}function yF(){var c=wE();return c===null?null:{parent:mi._currentValue,pool:c}}var hp=Error(i(460)),CF=Error(i(474)),Jv=Error(i(542)),bE={then:function(){}};function wF(c){return c=c.status,c==="fulfilled"||c==="rejected"}function ey(){}function bF(c,d,f){switch(f=c[f],f===void 0?c.push(d):f!==d&&(d.then(ey,ey),d=f),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,EF(c),c;default:if(typeof d.status=="string")d.then(ey,ey);else{if(c=wn,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=d,c.status="pending",c.then(function(m){if(d.status==="pending"){var w=d;w.status="fulfilled",w.value=m}},function(m){if(d.status==="pending"){var w=d;w.status="rejected",w.reason=m}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,EF(c),c}throw fp=d,hp}}var fp=null;function SF(){if(fp===null)throw Error(i(459));var c=fp;return fp=null,c}function EF(c){if(c===hp||c===Jv)throw Error(i(483))}var vl=!1;function SE(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function EE(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function yl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Cl(c,d,f){var m=c.updateQueue;if(m===null)return null;if(m=m.shared,(ln&2)!==0){var w=m.pending;return w===null?d.next=d:(d.next=w.next,w.next=d),m.pending=d,d=$v(c),cF(c,null,f),d}return jv(c,m,d,f),$v(c)}function pp(c,d,f){if(d=d.updateQueue,d!==null&&(d=d.shared,(f&4194048)!==0)){var m=d.lanes;m&=c.pendingLanes,f|=m,d.lanes=f,mo(c,f)}}function RE(c,d){var f=c.updateQueue,m=c.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var w=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var V={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};E===null?w=E=V:E=E.next=V,f=f.next}while(f!==null);E===null?w=E=d:E=E.next=d}else w=E=d;f={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},c.updateQueue=f;return}c=f.lastBaseUpdate,c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=d}var xE=!1;function gp(){if(xE){var c=zd;if(c!==null)throw c}}function mp(c,d,f,m){xE=!1;var w=c.updateQueue;vl=!1;var E=w.firstBaseUpdate,V=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var q=W,le=q.next;q.next=null,V===null?E=le:V.next=le,V=q;var ye=c.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==V&&(W===null?ye.firstBaseUpdate=le:W.next=le,ye.lastBaseUpdate=q))}if(E!==null){var be=w.baseState;V=0,ye=le=q=null,W=E;do{var de=W.lane&-536870913,he=de!==W.lane;if(he?(Ut&de)===de:(m&de)===de){de!==0&&de===Gd&&(xE=!0),ye!==null&&(ye=ye.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var pt=c,ot=W;de=d;var fn=f;switch(ot.tag){case 1:if(pt=ot.payload,typeof pt=="function"){be=pt.call(fn,be,de);break e}be=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ot.payload,de=typeof pt=="function"?pt.call(fn,be,de):pt,de==null)break e;be=h({},be,de);break e;case 2:vl=!0}}de=W.callback,de!==null&&(c.flags|=64,he&&(c.flags|=8192),he=w.callbacks,he===null?w.callbacks=[de]:he.push(de))}else he={lane:de,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(le=ye=he,q=be):ye=ye.next=he,V|=de;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;he=W,W=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);ye===null&&(q=be),w.baseState=q,w.firstBaseUpdate=le,w.lastBaseUpdate=ye,E===null&&(w.shared.lanes=0),Dl|=V,c.lanes=V,c.memoizedState=be}}function RF(c,d){if(typeof c!="function")throw Error(i(191,c));c.call(d)}function xF(c,d){var f=c.callbacks;if(f!==null)for(c.callbacks=null,c=0;c<f.length;c++)RF(f[c],d)}var Ud=X(null),ty=X(0);function TF(c,d){c=Fa,z(ty,c),z(Ud,d),Fa=c|d.baseLanes}function TE(){z(ty,Fa),z(Ud,Ud.current)}function DE(){Fa=ty.current,ne(Ud),ne(ty)}var wl=0,At=null,dn=null,ii=null,ny=!1,Wd=!1,au=!1,iy=0,vp=0,jd=null,V7=0;function qn(){throw Error(i(321))}function AE(c,d){if(d===null)return!1;for(var f=0;f<d.length&&f<c.length;f++)if(!jr(c[f],d[f]))return!1;return!0}function PE(c,d,f,m,w,E){return wl=E,At=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,$.H=c===null||c.memoizedState===null?cM:uM,au=!1,E=f(m,w),au=!1,Wd&&(E=AF(d,f,m,w)),DF(c),E}function DF(c){$.H=cy;var d=dn!==null&&dn.next!==null;if(wl=0,ii=dn=At=null,ny=!1,vp=0,jd=null,d)throw Error(i(300));c===null||Ti||(c=c.dependencies,c!==null&&Xv(c)&&(Ti=!0))}function AF(c,d,f,m){At=c;var w=0;do{if(Wd&&(jd=null),vp=0,Wd=!1,25<=w)throw Error(i(301));if(w+=1,ii=dn=null,c.updateQueue!=null){var E=c.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}$.H=j7,E=d(f,m)}while(Wd);return E}function B7(){var c=$.H,d=c.useState()[0];return d=typeof d.then=="function"?yp(d):d,c=c.useState()[0],(dn!==null?dn.memoizedState:null)!==c&&(At.flags|=1024),d}function IE(){var c=iy!==0;return iy=0,c}function FE(c,d,f){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~f}function ME(c){if(ny){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}ny=!1}wl=0,ii=dn=At=null,Wd=!1,vp=iy=0,jd=null}function xr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?At.memoizedState=ii=c:ii=ii.next=c,ii}function ri(){if(dn===null){var c=At.alternate;c=c!==null?c.memoizedState:null}else c=dn.next;var d=ii===null?At.memoizedState:ii.next;if(d!==null)ii=d,dn=c;else{if(c===null)throw At.alternate===null?Error(i(467)):Error(i(310));dn=c,c={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},ii===null?At.memoizedState=ii=c:ii=ii.next=c}return ii}function _E(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yp(c){var d=vp;return vp+=1,jd===null&&(jd=[]),c=bF(jd,c,d),d=At,(ii===null?d.memoizedState:ii.next)===null&&(d=d.alternate,$.H=d===null||d.memoizedState===null?cM:uM),c}function ry(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return yp(c);if(c.$$typeof===T)return Zi(c)}throw Error(i(438,String(c)))}function kE(c){var d=null,f=At.updateQueue;if(f!==null&&(d=f.memoCache),d==null){var m=At.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(d={data:m.data.map(function(w){return w.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),f===null&&(f=_E(),At.updateQueue=f),f.memoCache=d,f=d.data[d.index],f===void 0)for(f=d.data[d.index]=Array(c),m=0;m<c;m++)f[m]=B;return d.index++,f}function xa(c,d){return typeof d=="function"?d(c):d}function sy(c){var d=ri();return OE(d,dn,c)}function OE(c,d,f){var m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var w=c.baseQueue,E=m.pending;if(E!==null){if(w!==null){var V=w.next;w.next=E.next,E.next=V}d.baseQueue=w=E,m.pending=null}if(E=c.baseState,w===null)c.memoizedState=E;else{d=w.next;var W=V=null,q=null,le=d,ye=!1;do{var be=le.lane&-536870913;if(be!==le.lane?(Ut&be)===be:(wl&be)===be){var de=le.revertLane;if(de===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),be===Gd&&(ye=!0);else if((wl&de)===de){le=le.next,de===Gd&&(ye=!0);continue}else be={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},q===null?(W=q=be,V=E):q=q.next=be,At.lanes|=de,Dl|=de;be=le.action,au&&f(E,be),E=le.hasEagerState?le.eagerState:f(E,be)}else de={lane:be,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},q===null?(W=q=de,V=E):q=q.next=de,At.lanes|=be,Dl|=be;le=le.next}while(le!==null&&le!==d);if(q===null?V=E:q.next=W,!jr(E,c.memoizedState)&&(Ti=!0,ye&&(f=zd,f!==null)))throw f;c.memoizedState=E,c.baseState=V,c.baseQueue=q,m.lastRenderedState=E}return w===null&&(m.lanes=0),[c.memoizedState,m.dispatch]}function LE(c){var d=ri(),f=d.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var m=f.dispatch,w=f.pending,E=d.memoizedState;if(w!==null){f.pending=null;var V=w=w.next;do E=c(E,V.action),V=V.next;while(V!==w);jr(E,d.memoizedState)||(Ti=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),f.lastRenderedState=E}return[E,m]}function PF(c,d,f){var m=At,w=ri(),E=Xt;if(E){if(f===void 0)throw Error(i(407));f=f()}else f=d();var V=!jr((dn||w).memoizedState,f);V&&(w.memoizedState=f,Ti=!0),w=w.queue;var W=MF.bind(null,m,w,c);if(Cp(2048,8,W,[c]),w.getSnapshot!==d||V||ii!==null&&ii.memoizedState.tag&1){if(m.flags|=2048,$d(9,oy(),FF.bind(null,m,w,f,d),null),wn===null)throw Error(i(349));E||(wl&124)!==0||IF(m,d,f)}return f}function IF(c,d,f){c.flags|=16384,c={getSnapshot:d,value:f},d=At.updateQueue,d===null?(d=_E(),At.updateQueue=d,d.stores=[c]):(f=d.stores,f===null?d.stores=[c]:f.push(c))}function FF(c,d,f,m){d.value=f,d.getSnapshot=m,_F(d)&&kF(c)}function MF(c,d,f){return f(function(){_F(d)&&kF(c)})}function _F(c){var d=c.getSnapshot;c=c.value;try{var f=d();return!jr(c,f)}catch{return!0}}function kF(c){var d=Nd(c,2);d!==null&&Qr(d,c,2)}function NE(c){var d=xr();if(typeof c=="function"){var f=c;if(c=f(),au){Pe(!0);try{f()}finally{Pe(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:c},d}function OF(c,d,f,m){return c.baseState=f,OE(c,dn,typeof m=="function"?m:xa)}function H7(c,d,f,m,w){if(ly(c))throw Error(i(485));if(c=d.action,c!==null){var E={payload:w,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){E.listeners.push(V)}};$.T!==null?f(!0):E.isTransition=!1,m(E),f=d.pending,f===null?(E.next=d.pending=E,LF(d,E)):(E.next=f.next,d.pending=f.next=E)}}function LF(c,d){var f=d.action,m=d.payload,w=c.state;if(d.isTransition){var E=$.T,V={};$.T=V;try{var W=f(w,m),q=$.S;q!==null&&q(V,W),NF(c,d,W)}catch(le){VE(c,d,le)}finally{$.T=E}}else try{E=f(w,m),NF(c,d,E)}catch(le){VE(c,d,le)}}function NF(c,d,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){VF(c,d,m)},function(m){return VE(c,d,m)}):VF(c,d,f)}function VF(c,d,f){d.status="fulfilled",d.value=f,BF(d),c.state=f,d=c.pending,d!==null&&(f=d.next,f===d?c.pending=null:(f=f.next,d.next=f,LF(c,f)))}function VE(c,d,f){var m=c.pending;if(c.pending=null,m!==null){m=m.next;do d.status="rejected",d.reason=f,BF(d),d=d.next;while(d!==m)}c.action=null}function BF(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function HF(c,d){return d}function GF(c,d){if(Xt){var f=wn.formState;if(f!==null){e:{var m=At;if(Xt){if(Bn){t:{for(var w=Bn,E=xo;w.nodeType!==8;){if(!E){w=null;break t}if(w=eo(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){Bn=eo(w.nextSibling),m=w.data==="F!";break e}}iu(m)}m=!1}m&&(d=f[0])}}return f=xr(),f.memoizedState=f.baseState=d,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HF,lastRenderedState:d},f.queue=m,f=oM.bind(null,At,m),m.dispatch=f,m=NE(!1),E=UE.bind(null,At,!1,m.queue),m=xr(),w={state:d,dispatch:null,action:c,pending:null},m.queue=w,f=H7.bind(null,At,w,E,f),w.dispatch=f,m.memoizedState=c,[d,f,!1]}function zF(c){var d=ri();return UF(d,dn,c)}function UF(c,d,f){if(d=OE(c,d,HF)[0],c=sy(xa)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var m=yp(d)}catch(V){throw V===hp?Jv:V}else m=d;d=ri();var w=d.queue,E=w.dispatch;return f!==d.memoizedState&&(At.flags|=2048,$d(9,oy(),G7.bind(null,w,f),null)),[m,E,c]}function G7(c,d){c.action=d}function WF(c){var d=ri(),f=dn;if(f!==null)return UF(d,f,c);ri(),d=d.memoizedState,f=ri();var m=f.queue.dispatch;return f.memoizedState=c,[d,m,!1]}function $d(c,d,f,m){return c={tag:c,create:f,deps:m,inst:d,next:null},d=At.updateQueue,d===null&&(d=_E(),At.updateQueue=d),f=d.lastEffect,f===null?d.lastEffect=c.next=c:(m=f.next,f.next=c,c.next=m,d.lastEffect=c),c}function oy(){return{destroy:void 0,resource:void 0}}function jF(){return ri().memoizedState}function ay(c,d,f,m){var w=xr();m=m===void 0?null:m,At.flags|=c,w.memoizedState=$d(1|d,oy(),f,m)}function Cp(c,d,f,m){var w=ri();m=m===void 0?null:m;var E=w.memoizedState.inst;dn!==null&&m!==null&&AE(m,dn.memoizedState.deps)?w.memoizedState=$d(d,E,f,m):(At.flags|=c,w.memoizedState=$d(1|d,E,f,m))}function $F(c,d){ay(8390656,8,c,d)}function qF(c,d){Cp(2048,8,c,d)}function KF(c,d){return Cp(4,2,c,d)}function YF(c,d){return Cp(4,4,c,d)}function XF(c,d){if(typeof d=="function"){c=c();var f=d(c);return function(){typeof f=="function"?f():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function QF(c,d,f){f=f!=null?f.concat([c]):null,Cp(4,4,XF.bind(null,d,c),f)}function BE(){}function ZF(c,d){var f=ri();d=d===void 0?null:d;var m=f.memoizedState;return d!==null&&AE(d,m[1])?m[0]:(f.memoizedState=[c,d],c)}function JF(c,d){var f=ri();d=d===void 0?null:d;var m=f.memoizedState;if(d!==null&&AE(d,m[1]))return m[0];if(m=c(),au){Pe(!0);try{c()}finally{Pe(!1)}}return f.memoizedState=[m,d],m}function HE(c,d,f){return f===void 0||(wl&1073741824)!==0?c.memoizedState=d:(c.memoizedState=f,c=n_(),At.lanes|=c,Dl|=c,f)}function eM(c,d,f,m){return jr(f,d)?f:Ud.current!==null?(c=HE(c,f,m),jr(c,d)||(Ti=!0),c):(wl&42)===0?(Ti=!0,c.memoizedState=f):(c=n_(),At.lanes|=c,Dl|=c,d)}function tM(c,d,f,m,w){var E=Q.p;Q.p=E!==0&&8>E?E:8;var V=$.T,W={};$.T=W,UE(c,!1,d,f);try{var q=w(),le=$.S;if(le!==null&&le(W,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ye=N7(q,m);wp(c,d,ye,Xr(c))}else wp(c,d,m,Xr(c))}catch(be){wp(c,d,{then:function(){},status:"rejected",reason:be},Xr())}finally{Q.p=E,$.T=V}}function z7(){}function GE(c,d,f,m){if(c.tag!==5)throw Error(i(476));var w=nM(c).queue;tM(c,w,d,ee,f===null?z7:function(){return iM(c),f(m)})}function nM(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:ee},next:null};var f={};return d.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:f},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function iM(c){var d=nM(c).next.queue;wp(c,d,{},Xr())}function zE(){return Zi(Vp)}function rM(){return ri().memoizedState}function sM(){return ri().memoizedState}function U7(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var f=Xr();c=yl(f);var m=Cl(d,c,f);m!==null&&(Qr(m,d,f),pp(m,d,f)),d={cache:yE()},c.payload=d;return}d=d.return}}function W7(c,d,f){var m=Xr();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},ly(c)?aM(d,f):(f=lE(c,d,f,m),f!==null&&(Qr(f,c,m),lM(f,d,m)))}function oM(c,d,f){var m=Xr();wp(c,d,f,m)}function wp(c,d,f,m){var w={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(ly(c))aM(d,w);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var V=d.lastRenderedState,W=E(V,f);if(w.hasEagerState=!0,w.eagerState=W,jr(W,V))return jv(c,d,w,0),wn===null&&Wv(),!1}catch{}finally{}if(f=lE(c,d,w,m),f!==null)return Qr(f,c,m),lM(f,d,m),!0}return!1}function UE(c,d,f,m){if(m={lane:2,revertLane:bR(),action:m,hasEagerState:!1,eagerState:null,next:null},ly(c)){if(d)throw Error(i(479))}else d=lE(c,f,m,2),d!==null&&Qr(d,c,2)}function ly(c){var d=c.alternate;return c===At||d!==null&&d===At}function aM(c,d){Wd=ny=!0;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}function lM(c,d,f){if((f&4194048)!==0){var m=d.lanes;m&=c.pendingLanes,f|=m,d.lanes=f,mo(c,f)}}var cy={readContext:Zi,use:ry,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn},cM={readContext:Zi,use:ry,useCallback:function(c,d){return xr().memoizedState=[c,d===void 0?null:d],c},useContext:Zi,useEffect:$F,useImperativeHandle:function(c,d,f){f=f!=null?f.concat([c]):null,ay(4194308,4,XF.bind(null,d,c),f)},useLayoutEffect:function(c,d){return ay(4194308,4,c,d)},useInsertionEffect:function(c,d){ay(4,2,c,d)},useMemo:function(c,d){var f=xr();d=d===void 0?null:d;var m=c();if(au){Pe(!0);try{c()}finally{Pe(!1)}}return f.memoizedState=[m,d],m},useReducer:function(c,d,f){var m=xr();if(f!==void 0){var w=f(d);if(au){Pe(!0);try{f(d)}finally{Pe(!1)}}}else w=d;return m.memoizedState=m.baseState=w,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:w},m.queue=c,c=c.dispatch=W7.bind(null,At,c),[m.memoizedState,c]},useRef:function(c){var d=xr();return c={current:c},d.memoizedState=c},useState:function(c){c=NE(c);var d=c.queue,f=oM.bind(null,At,d);return d.dispatch=f,[c.memoizedState,f]},useDebugValue:BE,useDeferredValue:function(c,d){var f=xr();return HE(f,c,d)},useTransition:function(){var c=NE(!1);return c=tM.bind(null,At,c.queue,!0,!1),xr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,f){var m=At,w=xr();if(Xt){if(f===void 0)throw Error(i(407));f=f()}else{if(f=d(),wn===null)throw Error(i(349));(Ut&124)!==0||IF(m,d,f)}w.memoizedState=f;var E={value:f,getSnapshot:d};return w.queue=E,$F(MF.bind(null,m,E,c),[c]),m.flags|=2048,$d(9,oy(),FF.bind(null,m,E,f,d),null),f},useId:function(){var c=xr(),d=wn.identifierPrefix;if(Xt){var f=Sa,m=ba;f=(m&~(1<<32-Ve(m)-1)).toString(32)+f,d=""+d+"R"+f,f=iy++,0<f&&(d+="H"+f.toString(32)),d+=""}else f=V7++,d=""+d+"r"+f.toString(32)+"";return c.memoizedState=d},useHostTransitionStatus:zE,useFormState:GF,useActionState:GF,useOptimistic:function(c){var d=xr();d.memoizedState=d.baseState=c;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=f,d=UE.bind(null,At,!0,f),f.dispatch=d,[c,d]},useMemoCache:kE,useCacheRefresh:function(){return xr().memoizedState=U7.bind(null,At)}},uM={readContext:Zi,use:ry,useCallback:ZF,useContext:Zi,useEffect:qF,useImperativeHandle:QF,useInsertionEffect:KF,useLayoutEffect:YF,useMemo:JF,useReducer:sy,useRef:jF,useState:function(){return sy(xa)},useDebugValue:BE,useDeferredValue:function(c,d){var f=ri();return eM(f,dn.memoizedState,c,d)},useTransition:function(){var c=sy(xa)[0],d=ri().memoizedState;return[typeof c=="boolean"?c:yp(c),d]},useSyncExternalStore:PF,useId:rM,useHostTransitionStatus:zE,useFormState:zF,useActionState:zF,useOptimistic:function(c,d){var f=ri();return OF(f,dn,c,d)},useMemoCache:kE,useCacheRefresh:sM},j7={readContext:Zi,use:ry,useCallback:ZF,useContext:Zi,useEffect:qF,useImperativeHandle:QF,useInsertionEffect:KF,useLayoutEffect:YF,useMemo:JF,useReducer:LE,useRef:jF,useState:function(){return LE(xa)},useDebugValue:BE,useDeferredValue:function(c,d){var f=ri();return dn===null?HE(f,c,d):eM(f,dn.memoizedState,c,d)},useTransition:function(){var c=LE(xa)[0],d=ri().memoizedState;return[typeof c=="boolean"?c:yp(c),d]},useSyncExternalStore:PF,useId:rM,useHostTransitionStatus:zE,useFormState:WF,useActionState:WF,useOptimistic:function(c,d){var f=ri();return dn!==null?OF(f,dn,c,d):(f.baseState=c,[c,f.queue.dispatch])},useMemoCache:kE,useCacheRefresh:sM},qd=null,bp=0;function uy(c){var d=bp;return bp+=1,qd===null&&(qd=[]),bF(qd,c,d)}function Sp(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function dy(c,d){throw d.$$typeof===p?Error(i(525)):(c=Object.prototype.toString.call(d),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function dM(c){var d=c._init;return d(c._payload)}function hM(c){function d(re,Z){if(c){var ae=re.deletions;ae===null?(re.deletions=[Z],re.flags|=16):ae.push(Z)}}function f(re,Z){if(!c)return null;for(;Z!==null;)d(re,Z),Z=Z.sibling;return null}function m(re){for(var Z=new Map;re!==null;)re.key!==null?Z.set(re.key,re):Z.set(re.index,re),re=re.sibling;return Z}function w(re,Z){return re=wa(re,Z),re.index=0,re.sibling=null,re}function E(re,Z,ae){return re.index=ae,c?(ae=re.alternate,ae!==null?(ae=ae.index,ae<Z?(re.flags|=67108866,Z):ae):(re.flags|=67108866,Z)):(re.flags|=1048576,Z)}function V(re){return c&&re.alternate===null&&(re.flags|=67108866),re}function W(re,Z,ae,Ce){return Z===null||Z.tag!==6?(Z=uE(ae,re.mode,Ce),Z.return=re,Z):(Z=w(Z,ae),Z.return=re,Z)}function q(re,Z,ae,Ce){var Ge=ae.type;return Ge===C?ye(re,Z,ae.props.children,Ce,ae.key):Z!==null&&(Z.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===M&&dM(Ge)===Z.type)?(Z=w(Z,ae.props),Sp(Z,ae),Z.return=re,Z):(Z=qv(ae.type,ae.key,ae.props,null,re.mode,Ce),Sp(Z,ae),Z.return=re,Z)}function le(re,Z,ae,Ce){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=dE(ae,re.mode,Ce),Z.return=re,Z):(Z=w(Z,ae.children||[]),Z.return=re,Z)}function ye(re,Z,ae,Ce,Ge){return Z===null||Z.tag!==7?(Z=Jc(ae,re.mode,Ce,Ge),Z.return=re,Z):(Z=w(Z,ae),Z.return=re,Z)}function be(re,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=uE(""+Z,re.mode,ae),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case g:return ae=qv(Z.type,Z.key,Z.props,null,re.mode,ae),Sp(ae,Z),ae.return=re,ae;case v:return Z=dE(Z,re.mode,ae),Z.return=re,Z;case M:var Ce=Z._init;return Z=Ce(Z._payload),be(re,Z,ae)}if(ie(Z)||U(Z))return Z=Jc(Z,re.mode,ae,null),Z.return=re,Z;if(typeof Z.then=="function")return be(re,uy(Z),ae);if(Z.$$typeof===T)return be(re,Qv(re,Z),ae);dy(re,Z)}return null}function de(re,Z,ae,Ce){var Ge=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ge!==null?null:W(re,Z,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return ae.key===Ge?q(re,Z,ae,Ce):null;case v:return ae.key===Ge?le(re,Z,ae,Ce):null;case M:return Ge=ae._init,ae=Ge(ae._payload),de(re,Z,ae,Ce)}if(ie(ae)||U(ae))return Ge!==null?null:ye(re,Z,ae,Ce,null);if(typeof ae.then=="function")return de(re,Z,uy(ae),Ce);if(ae.$$typeof===T)return de(re,Z,Qv(re,ae),Ce);dy(re,ae)}return null}function he(re,Z,ae,Ce,Ge){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return re=re.get(ae)||null,W(Z,re,""+Ce,Ge);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return re=re.get(Ce.key===null?ae:Ce.key)||null,q(Z,re,Ce,Ge);case v:return re=re.get(Ce.key===null?ae:Ce.key)||null,le(Z,re,Ce,Ge);case M:var It=Ce._init;return Ce=It(Ce._payload),he(re,Z,ae,Ce,Ge)}if(ie(Ce)||U(Ce))return re=re.get(ae)||null,ye(Z,re,Ce,Ge,null);if(typeof Ce.then=="function")return he(re,Z,ae,uy(Ce),Ge);if(Ce.$$typeof===T)return he(re,Z,ae,Qv(Z,Ce),Ge);dy(Z,Ce)}return null}function pt(re,Z,ae,Ce){for(var Ge=null,It=null,Je=Z,ut=Z=0,Ai=null;Je!==null&&ut<ae.length;ut++){Je.index>ut?(Ai=Je,Je=null):Ai=Je.sibling;var qt=de(re,Je,ae[ut],Ce);if(qt===null){Je===null&&(Je=Ai);break}c&&Je&&qt.alternate===null&&d(re,Je),Z=E(qt,Z,ut),It===null?Ge=qt:It.sibling=qt,It=qt,Je=Ai}if(ut===ae.length)return f(re,Je),Xt&&tu(re,ut),Ge;if(Je===null){for(;ut<ae.length;ut++)Je=be(re,ae[ut],Ce),Je!==null&&(Z=E(Je,Z,ut),It===null?Ge=Je:It.sibling=Je,It=Je);return Xt&&tu(re,ut),Ge}for(Je=m(Je);ut<ae.length;ut++)Ai=he(Je,re,ut,ae[ut],Ce),Ai!==null&&(c&&Ai.alternate!==null&&Je.delete(Ai.key===null?ut:Ai.key),Z=E(Ai,Z,ut),It===null?Ge=Ai:It.sibling=Ai,It=Ai);return c&&Je.forEach(function(Ll){return d(re,Ll)}),Xt&&tu(re,ut),Ge}function ot(re,Z,ae,Ce){if(ae==null)throw Error(i(151));for(var Ge=null,It=null,Je=Z,ut=Z=0,Ai=null,qt=ae.next();Je!==null&&!qt.done;ut++,qt=ae.next()){Je.index>ut?(Ai=Je,Je=null):Ai=Je.sibling;var Ll=de(re,Je,qt.value,Ce);if(Ll===null){Je===null&&(Je=Ai);break}c&&Je&&Ll.alternate===null&&d(re,Je),Z=E(Ll,Z,ut),It===null?Ge=Ll:It.sibling=Ll,It=Ll,Je=Ai}if(qt.done)return f(re,Je),Xt&&tu(re,ut),Ge;if(Je===null){for(;!qt.done;ut++,qt=ae.next())qt=be(re,qt.value,Ce),qt!==null&&(Z=E(qt,Z,ut),It===null?Ge=qt:It.sibling=qt,It=qt);return Xt&&tu(re,ut),Ge}for(Je=m(Je);!qt.done;ut++,qt=ae.next())qt=he(Je,re,ut,qt.value,Ce),qt!==null&&(c&&qt.alternate!==null&&Je.delete(qt.key===null?ut:qt.key),Z=E(qt,Z,ut),It===null?Ge=qt:It.sibling=qt,It=qt);return c&&Je.forEach(function($8){return d(re,$8)}),Xt&&tu(re,ut),Ge}function fn(re,Z,ae,Ce){if(typeof ae=="object"&&ae!==null&&ae.type===C&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:e:{for(var Ge=ae.key;Z!==null;){if(Z.key===Ge){if(Ge=ae.type,Ge===C){if(Z.tag===7){f(re,Z.sibling),Ce=w(Z,ae.props.children),Ce.return=re,re=Ce;break e}}else if(Z.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===M&&dM(Ge)===Z.type){f(re,Z.sibling),Ce=w(Z,ae.props),Sp(Ce,ae),Ce.return=re,re=Ce;break e}f(re,Z);break}else d(re,Z);Z=Z.sibling}ae.type===C?(Ce=Jc(ae.props.children,re.mode,Ce,ae.key),Ce.return=re,re=Ce):(Ce=qv(ae.type,ae.key,ae.props,null,re.mode,Ce),Sp(Ce,ae),Ce.return=re,re=Ce)}return V(re);case v:e:{for(Ge=ae.key;Z!==null;){if(Z.key===Ge)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){f(re,Z.sibling),Ce=w(Z,ae.children||[]),Ce.return=re,re=Ce;break e}else{f(re,Z);break}else d(re,Z);Z=Z.sibling}Ce=dE(ae,re.mode,Ce),Ce.return=re,re=Ce}return V(re);case M:return Ge=ae._init,ae=Ge(ae._payload),fn(re,Z,ae,Ce)}if(ie(ae))return pt(re,Z,ae,Ce);if(U(ae)){if(Ge=U(ae),typeof Ge!="function")throw Error(i(150));return ae=Ge.call(ae),ot(re,Z,ae,Ce)}if(typeof ae.then=="function")return fn(re,Z,uy(ae),Ce);if(ae.$$typeof===T)return fn(re,Z,Qv(re,ae),Ce);dy(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Z!==null&&Z.tag===6?(f(re,Z.sibling),Ce=w(Z,ae),Ce.return=re,re=Ce):(f(re,Z),Ce=uE(ae,re.mode,Ce),Ce.return=re,re=Ce),V(re)):f(re,Z)}return function(re,Z,ae,Ce){try{bp=0;var Ge=fn(re,Z,ae,Ce);return qd=null,Ge}catch(Je){if(Je===hp||Je===Jv)throw Je;var It=$r(29,Je,null,re.mode);return It.lanes=Ce,It.return=re,It}finally{}}}var Kd=hM(!0),fM=hM(!1),Es=X(null),To=null;function bl(c){var d=c.alternate;z(vi,vi.current&1),z(Es,c),To===null&&(d===null||Ud.current!==null||d.memoizedState!==null)&&(To=c)}function pM(c){if(c.tag===22){if(z(vi,vi.current),z(Es,c),To===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(To=c)}}else Sl()}function Sl(){z(vi,vi.current),z(Es,Es.current)}function Ta(c){ne(Es),To===c&&(To=null),ne(vi)}var vi=X(0);function hy(c){for(var d=c;d!==null;){if(d.tag===13){var f=d.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||_R(f)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function WE(c,d,f,m){d=c.memoizedState,f=f(m,d),f=f==null?d:h({},d,f),c.memoizedState=f,c.lanes===0&&(c.updateQueue.baseState=f)}var jE={enqueueSetState:function(c,d,f){c=c._reactInternals;var m=Xr(),w=yl(m);w.payload=d,f!=null&&(w.callback=f),d=Cl(c,w,m),d!==null&&(Qr(d,c,m),pp(d,c,m))},enqueueReplaceState:function(c,d,f){c=c._reactInternals;var m=Xr(),w=yl(m);w.tag=1,w.payload=d,f!=null&&(w.callback=f),d=Cl(c,w,m),d!==null&&(Qr(d,c,m),pp(d,c,m))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var f=Xr(),m=yl(f);m.tag=2,d!=null&&(m.callback=d),d=Cl(c,m,f),d!==null&&(Qr(d,c,f),pp(d,c,f))}};function gM(c,d,f,m,w,E,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(m,E,V):d.prototype&&d.prototype.isPureReactComponent?!rp(f,m)||!rp(w,E):!0}function mM(c,d,f,m){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(f,m),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(f,m),d.state!==c&&jE.enqueueReplaceState(d,d.state,null)}function lu(c,d){var f=d;if("ref"in d){f={};for(var m in d)m!=="ref"&&(f[m]=d[m])}if(c=c.defaultProps){f===d&&(f=h({},f));for(var w in c)f[w]===void 0&&(f[w]=c[w])}return f}var fy=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function vM(c){fy(c)}function yM(c){console.error(c)}function CM(c){fy(c)}function py(c,d){try{var f=c.onUncaughtError;f(d.value,{componentStack:d.stack})}catch(m){setTimeout(function(){throw m})}}function wM(c,d,f){try{var m=c.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function $E(c,d,f){return f=yl(f),f.tag=3,f.payload={element:null},f.callback=function(){py(c,d)},f}function bM(c){return c=yl(c),c.tag=3,c}function SM(c,d,f,m){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var E=m.value;c.payload=function(){return w(E)},c.callback=function(){wM(d,f,m)}}var V=f.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){wM(d,f,m),typeof w!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var W=m.stack;this.componentDidCatch(m.value,{componentStack:W!==null?W:""})})}function $7(c,d,f,m,w){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(d=f.alternate,d!==null&&cp(d,f,w,!0),f=Es.current,f!==null){switch(f.tag){case 13:return To===null?mR():f.alternate===null&&Hn===0&&(Hn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,m===bE?f.flags|=16384:(d=f.updateQueue,d===null?f.updateQueue=new Set([m]):d.add(m),yR(c,m,w)),!1;case 22:return f.flags|=65536,m===bE?f.flags|=16384:(d=f.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=d):(f=d.retryQueue,f===null?d.retryQueue=new Set([m]):f.add(m)),yR(c,m,w)),!1}throw Error(i(435,f.tag))}return yR(c,m,w),mR(),!1}if(Xt)return d=Es.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=w,m!==pE&&(c=Error(i(422),{cause:m}),lp(Cs(c,f)))):(m!==pE&&(d=Error(i(423),{cause:m}),lp(Cs(d,f))),c=c.current.alternate,c.flags|=65536,w&=-w,c.lanes|=w,m=Cs(m,f),w=$E(c.stateNode,m,w),RE(c,w),Hn!==4&&(Hn=2)),!1;var E=Error(i(520),{cause:m});if(E=Cs(E,f),Pp===null?Pp=[E]:Pp.push(E),Hn!==4&&(Hn=2),d===null)return!0;m=Cs(m,f),f=d;do{switch(f.tag){case 3:return f.flags|=65536,c=w&-w,f.lanes|=c,c=$E(f.stateNode,m,c),RE(f,c),!1;case 1:if(d=f.type,E=f.stateNode,(f.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Al===null||!Al.has(E))))return f.flags|=65536,w&=-w,f.lanes|=w,w=bM(w),SM(w,c,f,m),RE(f,w),!1}f=f.return}while(f!==null);return!1}var EM=Error(i(461)),Ti=!1;function Ni(c,d,f,m){d.child=c===null?fM(d,null,f,m):Kd(d,c.child,f,m)}function RM(c,d,f,m,w){f=f.render;var E=d.ref;if("ref"in m){var V={};for(var W in m)W!=="ref"&&(V[W]=m[W])}else V=m;return su(d),m=PE(c,d,f,V,E,w),W=IE(),c!==null&&!Ti?(FE(c,d,w),Da(c,d,w)):(Xt&&W&&hE(d),d.flags|=1,Ni(c,d,m,w),d.child)}function xM(c,d,f,m,w){if(c===null){var E=f.type;return typeof E=="function"&&!cE(E)&&E.defaultProps===void 0&&f.compare===null?(d.tag=15,d.type=E,TM(c,d,E,m,w)):(c=qv(f.type,null,m,d,d.mode,w),c.ref=d.ref,c.return=d,d.child=c)}if(E=c.child,!eR(c,w)){var V=E.memoizedProps;if(f=f.compare,f=f!==null?f:rp,f(V,m)&&c.ref===d.ref)return Da(c,d,w)}return d.flags|=1,c=wa(E,m),c.ref=d.ref,c.return=d,d.child=c}function TM(c,d,f,m,w){if(c!==null){var E=c.memoizedProps;if(rp(E,m)&&c.ref===d.ref)if(Ti=!1,d.pendingProps=m=E,eR(c,w))(c.flags&131072)!==0&&(Ti=!0);else return d.lanes=c.lanes,Da(c,d,w)}return qE(c,d,f,m,w)}function DM(c,d,f){var m=d.pendingProps,w=m.children,E=c!==null?c.memoizedState:null;if(m.mode==="hidden"){if((d.flags&128)!==0){if(m=E!==null?E.baseLanes|f:f,c!==null){for(w=d.child=c.child,E=0;w!==null;)E=E|w.lanes|w.childLanes,w=w.sibling;d.childLanes=E&~m}else d.childLanes=0,d.child=null;return AM(c,d,m,f)}if((f&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Zv(d,E!==null?E.cachePool:null),E!==null?TF(d,E):TE(),pM(d);else return d.lanes=d.childLanes=536870912,AM(c,d,E!==null?E.baseLanes|f:f,f)}else E!==null?(Zv(d,E.cachePool),TF(d,E),Sl(),d.memoizedState=null):(c!==null&&Zv(d,null),TE(),Sl());return Ni(c,d,w,f),d.child}function AM(c,d,f,m){var w=wE();return w=w===null?null:{parent:mi._currentValue,pool:w},d.memoizedState={baseLanes:f,cachePool:w},c!==null&&Zv(d,null),TE(),pM(d),c!==null&&cp(c,d,m,!0),null}function gy(c,d){var f=d.ref;if(f===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(c===null||c.ref!==f)&&(d.flags|=4194816)}}function qE(c,d,f,m,w){return su(d),f=PE(c,d,f,m,void 0,w),m=IE(),c!==null&&!Ti?(FE(c,d,w),Da(c,d,w)):(Xt&&m&&hE(d),d.flags|=1,Ni(c,d,f,w),d.child)}function PM(c,d,f,m,w,E){return su(d),d.updateQueue=null,f=AF(d,m,f,w),DF(c),m=IE(),c!==null&&!Ti?(FE(c,d,E),Da(c,d,E)):(Xt&&m&&hE(d),d.flags|=1,Ni(c,d,f,E),d.child)}function IM(c,d,f,m,w){if(su(d),d.stateNode===null){var E=Vd,V=f.contextType;typeof V=="object"&&V!==null&&(E=Zi(V)),E=new f(m,E),d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=jE,d.stateNode=E,E._reactInternals=d,E=d.stateNode,E.props=m,E.state=d.memoizedState,E.refs={},SE(d),V=f.contextType,E.context=typeof V=="object"&&V!==null?Zi(V):Vd,E.state=d.memoizedState,V=f.getDerivedStateFromProps,typeof V=="function"&&(WE(d,f,V,m),E.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(V=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),V!==E.state&&jE.enqueueReplaceState(E,E.state,null),mp(d,m,E,w),gp(),E.state=d.memoizedState),typeof E.componentDidMount=="function"&&(d.flags|=4194308),m=!0}else if(c===null){E=d.stateNode;var W=d.memoizedProps,q=lu(f,W);E.props=q;var le=E.context,ye=f.contextType;V=Vd,typeof ye=="object"&&ye!==null&&(V=Zi(ye));var be=f.getDerivedStateFromProps;ye=typeof be=="function"||typeof E.getSnapshotBeforeUpdate=="function",W=d.pendingProps!==W,ye||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(W||le!==V)&&mM(d,E,m,V),vl=!1;var de=d.memoizedState;E.state=de,mp(d,m,E,w),gp(),le=d.memoizedState,W||de!==le||vl?(typeof be=="function"&&(WE(d,f,be,m),le=d.memoizedState),(q=vl||gM(d,f,q,m,de,le,V))?(ye||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(d.flags|=4194308)):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=m,d.memoizedState=le),E.props=m,E.state=le,E.context=V,m=q):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),m=!1)}else{E=d.stateNode,EE(c,d),V=d.memoizedProps,ye=lu(f,V),E.props=ye,be=d.pendingProps,de=E.context,le=f.contextType,q=Vd,typeof le=="object"&&le!==null&&(q=Zi(le)),W=f.getDerivedStateFromProps,(le=typeof W=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V!==be||de!==q)&&mM(d,E,m,q),vl=!1,de=d.memoizedState,E.state=de,mp(d,m,E,w),gp();var he=d.memoizedState;V!==be||de!==he||vl||c!==null&&c.dependencies!==null&&Xv(c.dependencies)?(typeof W=="function"&&(WE(d,f,W,m),he=d.memoizedState),(ye=vl||gM(d,f,ye,m,de,he,q)||c!==null&&c.dependencies!==null&&Xv(c.dependencies))?(le||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,he,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,he,q)),typeof E.componentDidUpdate=="function"&&(d.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof E.componentDidUpdate!="function"||V===c.memoizedProps&&de===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&de===c.memoizedState||(d.flags|=1024),d.memoizedProps=m,d.memoizedState=he),E.props=m,E.state=he,E.context=q,m=ye):(typeof E.componentDidUpdate!="function"||V===c.memoizedProps&&de===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&de===c.memoizedState||(d.flags|=1024),m=!1)}return E=m,gy(c,d),m=(d.flags&128)!==0,E||m?(E=d.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:E.render(),d.flags|=1,c!==null&&m?(d.child=Kd(d,c.child,null,w),d.child=Kd(d,null,f,w)):Ni(c,d,f,w),d.memoizedState=E.state,c=d.child):c=Da(c,d,w),c}function FM(c,d,f,m){return ap(),d.flags|=256,Ni(c,d,f,m),d.child}var KE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function YE(c){return{baseLanes:c,cachePool:yF()}}function XE(c,d,f){return c=c!==null?c.childLanes&~f:0,d&&(c|=Rs),c}function MM(c,d,f){var m=d.pendingProps,w=!1,E=(d.flags&128)!==0,V;if((V=E)||(V=c!==null&&c.memoizedState===null?!1:(vi.current&2)!==0),V&&(w=!0,d.flags&=-129),V=(d.flags&32)!==0,d.flags&=-33,c===null){if(Xt){if(w?bl(d):Sl(),Xt){var W=Bn,q;if(q=W){e:{for(q=W,W=xo;q.nodeType!==8;){if(!W){W=null;break e}if(q=eo(q.nextSibling),q===null){W=null;break e}}W=q}W!==null?(d.memoizedState={dehydrated:W,treeContext:eu!==null?{id:ba,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},q=$r(18,null,null,0),q.stateNode=W,q.return=d,d.child=q,mr=d,Bn=null,q=!0):q=!1}q||iu(d)}if(W=d.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return _R(W)?d.lanes=32:d.lanes=536870912,null;Ta(d)}return W=m.children,m=m.fallback,w?(Sl(),w=d.mode,W=my({mode:"hidden",children:W},w),m=Jc(m,w,f,null),W.return=d,m.return=d,W.sibling=m,d.child=W,w=d.child,w.memoizedState=YE(f),w.childLanes=XE(c,V,f),d.memoizedState=KE,m):(bl(d),QE(d,W))}if(q=c.memoizedState,q!==null&&(W=q.dehydrated,W!==null)){if(E)d.flags&256?(bl(d),d.flags&=-257,d=ZE(c,d,f)):d.memoizedState!==null?(Sl(),d.child=c.child,d.flags|=128,d=null):(Sl(),w=m.fallback,W=d.mode,m=my({mode:"visible",children:m.children},W),w=Jc(w,W,f,null),w.flags|=2,m.return=d,w.return=d,m.sibling=w,d.child=m,Kd(d,c.child,null,f),m=d.child,m.memoizedState=YE(f),m.childLanes=XE(c,V,f),d.memoizedState=KE,d=w);else if(bl(d),_R(W)){if(V=W.nextSibling&&W.nextSibling.dataset,V)var le=V.dgst;V=le,m=Error(i(419)),m.stack="",m.digest=V,lp({value:m,source:null,stack:null}),d=ZE(c,d,f)}else if(Ti||cp(c,d,f,!1),V=(f&c.childLanes)!==0,Ti||V){if(V=wn,V!==null&&(m=f&-f,m=(m&42)!==0?1:vo(m),m=(m&(V.suspendedLanes|f))!==0?0:m,m!==0&&m!==q.retryLane))throw q.retryLane=m,Nd(c,m),Qr(V,c,m),EM;W.data==="$?"||mR(),d=ZE(c,d,f)}else W.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=q.treeContext,Bn=eo(W.nextSibling),mr=d,Xt=!0,nu=null,xo=!1,c!==null&&(bs[Ss++]=ba,bs[Ss++]=Sa,bs[Ss++]=eu,ba=c.id,Sa=c.overflow,eu=d),d=QE(d,m.children),d.flags|=4096);return d}return w?(Sl(),w=m.fallback,W=d.mode,q=c.child,le=q.sibling,m=wa(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&65011712,le!==null?w=wa(le,w):(w=Jc(w,W,f,null),w.flags|=2),w.return=d,m.return=d,m.sibling=w,d.child=m,m=w,w=d.child,W=c.child.memoizedState,W===null?W=YE(f):(q=W.cachePool,q!==null?(le=mi._currentValue,q=q.parent!==le?{parent:le,pool:le}:q):q=yF(),W={baseLanes:W.baseLanes|f,cachePool:q}),w.memoizedState=W,w.childLanes=XE(c,V,f),d.memoizedState=KE,m):(bl(d),f=c.child,c=f.sibling,f=wa(f,{mode:"visible",children:m.children}),f.return=d,f.sibling=null,c!==null&&(V=d.deletions,V===null?(d.deletions=[c],d.flags|=16):V.push(c)),d.child=f,d.memoizedState=null,f)}function QE(c,d){return d=my({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function my(c,d){return c=$r(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function ZE(c,d,f){return Kd(d,c.child,null,f),c=QE(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function _M(c,d,f){c.lanes|=d;var m=c.alternate;m!==null&&(m.lanes|=d),mE(c.return,d,f)}function JE(c,d,f,m,w){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:w}:(E.isBackwards=d,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=f,E.tailMode=w)}function kM(c,d,f){var m=d.pendingProps,w=m.revealOrder,E=m.tail;if(Ni(c,d,m.children,f),m=vi.current,(m&2)!==0)m=m&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_M(c,f,d);else if(c.tag===19)_M(c,f,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}m&=1}switch(z(vi,m),w){case"forwards":for(f=d.child,w=null;f!==null;)c=f.alternate,c!==null&&hy(c)===null&&(w=f),f=f.sibling;f=w,f===null?(w=d.child,d.child=null):(w=f.sibling,f.sibling=null),JE(d,!1,w,f,E);break;case"backwards":for(f=null,w=d.child,d.child=null;w!==null;){if(c=w.alternate,c!==null&&hy(c)===null){d.child=w;break}c=w.sibling,w.sibling=f,f=w,w=c}JE(d,!0,f,null,E);break;case"together":JE(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Da(c,d,f){if(c!==null&&(d.dependencies=c.dependencies),Dl|=d.lanes,(f&d.childLanes)===0)if(c!==null){if(cp(c,d,f,!1),(f&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(i(153));if(d.child!==null){for(c=d.child,f=wa(c,c.pendingProps),d.child=f,f.return=d;c.sibling!==null;)c=c.sibling,f=f.sibling=wa(c,c.pendingProps),f.return=d;f.sibling=null}return d.child}function eR(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Xv(c)))}function q7(c,d,f){switch(d.tag){case 3:qe(d,d.stateNode.containerInfo),ml(d,mi,c.memoizedState.cache),ap();break;case 27:case 5:nt(d);break;case 4:qe(d,d.stateNode.containerInfo);break;case 10:ml(d,d.type,d.memoizedProps.value);break;case 13:var m=d.memoizedState;if(m!==null)return m.dehydrated!==null?(bl(d),d.flags|=128,null):(f&d.child.childLanes)!==0?MM(c,d,f):(bl(d),c=Da(c,d,f),c!==null?c.sibling:null);bl(d);break;case 19:var w=(c.flags&128)!==0;if(m=(f&d.childLanes)!==0,m||(cp(c,d,f,!1),m=(f&d.childLanes)!==0),w){if(m)return kM(c,d,f);d.flags|=128}if(w=d.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),z(vi,vi.current),m)break;return null;case 22:case 23:return d.lanes=0,DM(c,d,f);case 24:ml(d,mi,c.memoizedState.cache)}return Da(c,d,f)}function OM(c,d,f){if(c!==null)if(c.memoizedProps!==d.pendingProps)Ti=!0;else{if(!eR(c,f)&&(d.flags&128)===0)return Ti=!1,q7(c,d,f);Ti=(c.flags&131072)!==0}else Ti=!1,Xt&&(d.flags&1048576)!==0&&dF(d,Yv,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var m=d.elementType,w=m._init;if(m=w(m._payload),d.type=m,typeof m=="function")cE(m)?(c=lu(m,c),d.tag=1,d=IM(null,d,m,c,f)):(d.tag=0,d=qE(null,d,m,c,f));else{if(m!=null){if(w=m.$$typeof,w===k){d.tag=11,d=RM(null,d,m,c,f);break e}else if(w===_){d.tag=14,d=xM(null,d,m,c,f);break e}}throw d=J(m)||m,Error(i(306,d,""))}}return d;case 0:return qE(c,d,d.type,d.pendingProps,f);case 1:return m=d.type,w=lu(m,d.pendingProps),IM(c,d,m,w,f);case 3:e:{if(qe(d,d.stateNode.containerInfo),c===null)throw Error(i(387));m=d.pendingProps;var E=d.memoizedState;w=E.element,EE(c,d),mp(d,m,null,f);var V=d.memoizedState;if(m=V.cache,ml(d,mi,m),m!==E.cache&&vE(d,[mi],f,!0),gp(),m=V.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:V.cache},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){d=FM(c,d,m,f);break e}else if(m!==w){w=Cs(Error(i(424)),d),lp(w),d=FM(c,d,m,f);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Bn=eo(c.firstChild),mr=d,Xt=!0,nu=null,xo=!0,f=fM(d,null,m,f),d.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(ap(),m===w){d=Da(c,d,f);break e}Ni(c,d,m,f)}d=d.child}return d;case 26:return gy(c,d),c===null?(f=B_(d.type,null,d.pendingProps,null))?d.memoizedState=f:Xt||(f=d.type,c=d.pendingProps,m=Iy(xe.current).createElement(f),m[Se]=d,m[Te]=c,Bi(m,f,c),wt(m),d.stateNode=m):d.memoizedState=B_(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return nt(d),c===null&&Xt&&(m=d.stateNode=L_(d.type,d.pendingProps,xe.current),mr=d,xo=!0,w=Bn,Fl(d.type)?(kR=w,Bn=eo(m.firstChild)):Bn=w),Ni(c,d,d.pendingProps.children,f),gy(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Xt&&((w=m=Bn)&&(m=b8(m,d.type,d.pendingProps,xo),m!==null?(d.stateNode=m,mr=d,Bn=eo(m.firstChild),xo=!1,w=!0):w=!1),w||iu(d)),nt(d),w=d.type,E=d.pendingProps,V=c!==null?c.memoizedProps:null,m=E.children,IR(w,E)?m=null:V!==null&&IR(w,V)&&(d.flags|=32),d.memoizedState!==null&&(w=PE(c,d,B7,null,null,f),Vp._currentValue=w),gy(c,d),Ni(c,d,m,f),d.child;case 6:return c===null&&Xt&&((c=f=Bn)&&(f=S8(f,d.pendingProps,xo),f!==null?(d.stateNode=f,mr=d,Bn=null,c=!0):c=!1),c||iu(d)),null;case 13:return MM(c,d,f);case 4:return qe(d,d.stateNode.containerInfo),m=d.pendingProps,c===null?d.child=Kd(d,null,m,f):Ni(c,d,m,f),d.child;case 11:return RM(c,d,d.type,d.pendingProps,f);case 7:return Ni(c,d,d.pendingProps,f),d.child;case 8:return Ni(c,d,d.pendingProps.children,f),d.child;case 12:return Ni(c,d,d.pendingProps.children,f),d.child;case 10:return m=d.pendingProps,ml(d,d.type,m.value),Ni(c,d,m.children,f),d.child;case 9:return w=d.type._context,m=d.pendingProps.children,su(d),w=Zi(w),m=m(w),d.flags|=1,Ni(c,d,m,f),d.child;case 14:return xM(c,d,d.type,d.pendingProps,f);case 15:return TM(c,d,d.type,d.pendingProps,f);case 19:return kM(c,d,f);case 31:return m=d.pendingProps,f=d.mode,m={mode:m.mode,children:m.children},c===null?(f=my(m,f),f.ref=d.ref,d.child=f,f.return=d,d=f):(f=wa(c.child,m),f.ref=d.ref,d.child=f,f.return=d,d=f),d;case 22:return DM(c,d,f);case 24:return su(d),m=Zi(mi),c===null?(w=wE(),w===null&&(w=wn,E=yE(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=f),w=E),d.memoizedState={parent:m,cache:w},SE(d),ml(d,mi,w)):((c.lanes&f)!==0&&(EE(c,d),mp(d,null,null,f),gp()),w=c.memoizedState,E=d.memoizedState,w.parent!==m?(w={parent:m,cache:m},d.memoizedState=w,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=w),ml(d,mi,m)):(m=E.cache,ml(d,mi,m),m!==w.cache&&vE(d,[mi],f,!0))),Ni(c,d,d.pendingProps.children,f),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function Aa(c){c.flags|=4}function LM(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!W_(d)){if(d=Es.current,d!==null&&((Ut&4194048)===Ut?To!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||d!==To))throw fp=bE,CF;c.flags|=8192}}function vy(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Bc():536870912,c.lanes|=d,Zd|=d)}function Ep(c,d){if(!Xt)switch(c.tailMode){case"hidden":d=c.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?c.tail=null:f.sibling=null;break;case"collapsed":f=c.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:m.sibling=null}}function _n(c){var d=c.alternate!==null&&c.alternate.child===c.child,f=0,m=0;if(d)for(var w=c.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=m,c.childLanes=f,d}function K7(c,d,f){var m=d.pendingProps;switch(fE(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(d),null;case 1:return _n(d),null;case 3:return f=d.stateNode,m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Ra(mi),ze(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(c===null||c.child===null)&&(op(d)?Aa(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,pF())),_n(d),null;case 26:return f=d.memoizedState,c===null?(Aa(d),f!==null?(_n(d),LM(d,f)):(_n(d),d.flags&=-16777217)):f?f!==c.memoizedState?(Aa(d),_n(d),LM(d,f)):(_n(d),d.flags&=-16777217):(c.memoizedProps!==m&&Aa(d),_n(d),d.flags&=-16777217),null;case 27:ct(d),f=xe.current;var w=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==m&&Aa(d);else{if(!m){if(d.stateNode===null)throw Error(i(166));return _n(d),null}c=pe.current,op(d)?hF(d):(c=L_(w,m,f),d.stateNode=c,Aa(d))}return _n(d),null;case 5:if(ct(d),f=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==m&&Aa(d);else{if(!m){if(d.stateNode===null)throw Error(i(166));return _n(d),null}if(c=pe.current,op(d))hF(d);else{switch(w=Iy(xe.current),c){case 1:c=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:c=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":c=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":c=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":c=w.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?c.multiple=!0:m.size&&(c.size=m.size);break;default:c=typeof m.is=="string"?w.createElement(f,{is:m.is}):w.createElement(f)}}c[Se]=d,c[Te]=m;e:for(w=d.child;w!==null;){if(w.tag===5||w.tag===6)c.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break e;for(;w.sibling===null;){if(w.return===null||w.return===d)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}d.stateNode=c;e:switch(Bi(c,f,m),f){case"button":case"input":case"select":case"textarea":c=!!m.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Aa(d)}}return _n(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==m&&Aa(d);else{if(typeof m!="string"&&d.stateNode===null)throw Error(i(166));if(c=xe.current,op(d)){if(c=d.stateNode,f=d.memoizedProps,m=null,w=mr,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}c[Se]=d,c=!!(c.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||P_(c.nodeValue,f)),c||iu(d)}else c=Iy(c).createTextNode(m),c[Se]=d,d.stateNode=c}return _n(d),null;case 13:if(m=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(w=op(d),m!==null&&m.dehydrated!==null){if(c===null){if(!w)throw Error(i(318));if(w=d.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[Se]=d}else ap(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;_n(d),w=!1}else w=pF(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=w),w=!0;if(!w)return d.flags&256?(Ta(d),d):(Ta(d),null)}if(Ta(d),(d.flags&128)!==0)return d.lanes=f,d;if(f=m!==null,c=c!==null&&c.memoizedState!==null,f){m=d.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var E=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==w&&(m.flags|=2048)}return f!==c&&f&&(d.child.flags|=8192),vy(d,d.updateQueue),_n(d),null;case 4:return ze(),c===null&&xR(d.stateNode.containerInfo),_n(d),null;case 10:return Ra(d.type),_n(d),null;case 19:if(ne(vi),w=d.memoizedState,w===null)return _n(d),null;if(m=(d.flags&128)!==0,E=w.rendering,E===null)if(m)Ep(w,!1);else{if(Hn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(E=hy(c),E!==null){for(d.flags|=128,Ep(w,!1),c=E.updateQueue,d.updateQueue=c,vy(d,c),d.subtreeFlags=0,c=f,f=d.child;f!==null;)uF(f,c),f=f.sibling;return z(vi,vi.current&1|2),d.child}c=c.sibling}w.tail!==null&&Ne()>wy&&(d.flags|=128,m=!0,Ep(w,!1),d.lanes=4194304)}else{if(!m)if(c=hy(E),c!==null){if(d.flags|=128,m=!0,c=c.updateQueue,d.updateQueue=c,vy(d,c),Ep(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Xt)return _n(d),null}else 2*Ne()-w.renderingStartTime>wy&&f!==536870912&&(d.flags|=128,m=!0,Ep(w,!1),d.lanes=4194304);w.isBackwards?(E.sibling=d.child,d.child=E):(c=w.last,c!==null?c.sibling=E:d.child=E,w.last=E)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=Ne(),d.sibling=null,c=vi.current,z(vi,m?c&1|2:c&1),d):(_n(d),null);case 22:case 23:return Ta(d),DE(),m=d.memoizedState!==null,c!==null?c.memoizedState!==null!==m&&(d.flags|=8192):m&&(d.flags|=8192),m?(f&536870912)!==0&&(d.flags&128)===0&&(_n(d),d.subtreeFlags&6&&(d.flags|=8192)):_n(d),f=d.updateQueue,f!==null&&vy(d,f.retryQueue),f=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),m=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),m!==f&&(d.flags|=2048),c!==null&&ne(ou),null;case 24:return f=null,c!==null&&(f=c.memoizedState.cache),d.memoizedState.cache!==f&&(d.flags|=2048),Ra(mi),_n(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function Y7(c,d){switch(fE(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Ra(mi),ze(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return ct(d),null;case 13:if(Ta(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(i(340));ap()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return ne(vi),null;case 4:return ze(),null;case 10:return Ra(d.type),null;case 22:case 23:return Ta(d),DE(),c!==null&&ne(ou),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Ra(mi),null;case 25:return null;default:return null}}function NM(c,d){switch(fE(d),d.tag){case 3:Ra(mi),ze();break;case 26:case 27:case 5:ct(d);break;case 4:ze();break;case 13:Ta(d);break;case 19:ne(vi);break;case 10:Ra(d.type);break;case 22:case 23:Ta(d),DE(),c!==null&&ne(ou);break;case 24:Ra(mi)}}function Rp(c,d){try{var f=d.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var w=m.next;f=w;do{if((f.tag&c)===c){m=void 0;var E=f.create,V=f.inst;m=E(),V.destroy=m}f=f.next}while(f!==w)}}catch(W){yn(d,d.return,W)}}function El(c,d,f){try{var m=d.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var E=w.next;m=E;do{if((m.tag&c)===c){var V=m.inst,W=V.destroy;if(W!==void 0){V.destroy=void 0,w=d;var q=f,le=W;try{le()}catch(ye){yn(w,q,ye)}}}m=m.next}while(m!==E)}}catch(ye){yn(d,d.return,ye)}}function VM(c){var d=c.updateQueue;if(d!==null){var f=c.stateNode;try{xF(d,f)}catch(m){yn(c,c.return,m)}}}function BM(c,d,f){f.props=lu(c.type,c.memoizedProps),f.state=c.memoizedState;try{f.componentWillUnmount()}catch(m){yn(c,d,m)}}function xp(c,d){try{var f=c.ref;if(f!==null){switch(c.tag){case 26:case 27:case 5:var m=c.stateNode;break;case 30:m=c.stateNode;break;default:m=c.stateNode}typeof f=="function"?c.refCleanup=f(m):f.current=m}}catch(w){yn(c,d,w)}}function Do(c,d){var f=c.ref,m=c.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(w){yn(c,d,w)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){yn(c,d,w)}else f.current=null}function HM(c){var d=c.type,f=c.memoizedProps,m=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(w){yn(c,c.return,w)}}function tR(c,d,f){try{var m=c.stateNode;m8(m,c.type,f,d),m[Te]=d}catch(w){yn(c,c.return,w)}}function GM(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Fl(c.type)||c.tag===4}function nR(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||GM(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Fl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function iR(c,d,f){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(c,d):(d=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,d.appendChild(c),f=f._reactRootContainer,f!=null||d.onclick!==null||(d.onclick=Py));else if(m!==4&&(m===27&&Fl(c.type)&&(f=c.stateNode,d=null),c=c.child,c!==null))for(iR(c,d,f),c=c.sibling;c!==null;)iR(c,d,f),c=c.sibling}function yy(c,d,f){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?f.insertBefore(c,d):f.appendChild(c);else if(m!==4&&(m===27&&Fl(c.type)&&(f=c.stateNode),c=c.child,c!==null))for(yy(c,d,f),c=c.sibling;c!==null;)yy(c,d,f),c=c.sibling}function zM(c){var d=c.stateNode,f=c.memoizedProps;try{for(var m=c.type,w=d.attributes;w.length;)d.removeAttributeNode(w[0]);Bi(d,m,f),d[Se]=c,d[Te]=f}catch(E){yn(c,c.return,E)}}var Pa=!1,Kn=!1,rR=!1,UM=typeof WeakSet=="function"?WeakSet:Set,Di=null;function X7(c,d){if(c=c.containerInfo,AR=Ly,c=eF(c),nE(c)){if("selectionStart"in c)var f={start:c.selectionStart,end:c.selectionEnd};else e:{f=(f=c.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var V=0,W=-1,q=-1,le=0,ye=0,be=c,de=null;t:for(;;){for(var he;be!==f||w!==0&&be.nodeType!==3||(W=V+w),be!==E||m!==0&&be.nodeType!==3||(q=V+m),be.nodeType===3&&(V+=be.nodeValue.length),(he=be.firstChild)!==null;)de=be,be=he;for(;;){if(be===c)break t;if(de===f&&++le===w&&(W=V),de===E&&++ye===m&&(q=V),(he=be.nextSibling)!==null)break;be=de,de=be.parentNode}be=he}f=W===-1||q===-1?null:{start:W,end:q}}else f=null}f=f||{start:0,end:0}}else f=null;for(PR={focusedElem:c,selectionRange:f},Ly=!1,Di=d;Di!==null;)if(d=Di,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,Di=c;else for(;Di!==null;){switch(d=Di,E=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&E!==null){c=void 0,f=d,w=E.memoizedProps,E=E.memoizedState,m=f.stateNode;try{var pt=lu(f.type,w,f.elementType===f.type);c=m.getSnapshotBeforeUpdate(pt,E),m.__reactInternalSnapshotBeforeUpdate=c}catch(ot){yn(f,f.return,ot)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,f=c.nodeType,f===9)MR(c);else if(f===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":MR(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=d.sibling,c!==null){c.return=d.return,Di=c;break}Di=d.return}}function WM(c,d,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Rl(c,f),m&4&&Rp(5,f);break;case 1:if(Rl(c,f),m&4)if(c=f.stateNode,d===null)try{c.componentDidMount()}catch(V){yn(f,f.return,V)}else{var w=lu(f.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(w,d,c.__reactInternalSnapshotBeforeUpdate)}catch(V){yn(f,f.return,V)}}m&64&&VM(f),m&512&&xp(f,f.return);break;case 3:if(Rl(c,f),m&64&&(c=f.updateQueue,c!==null)){if(d=null,f.child!==null)switch(f.child.tag){case 27:case 5:d=f.child.stateNode;break;case 1:d=f.child.stateNode}try{xF(c,d)}catch(V){yn(f,f.return,V)}}break;case 27:d===null&&m&4&&zM(f);case 26:case 5:Rl(c,f),d===null&&m&4&&HM(f),m&512&&xp(f,f.return);break;case 12:Rl(c,f);break;case 13:Rl(c,f),m&4&&qM(c,f),m&64&&(c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(f=s8.bind(null,f),E8(c,f))));break;case 22:if(m=f.memoizedState!==null||Pa,!m){d=d!==null&&d.memoizedState!==null||Kn,w=Pa;var E=Kn;Pa=m,(Kn=d)&&!E?xl(c,f,(f.subtreeFlags&8772)!==0):Rl(c,f),Pa=w,Kn=E}break;case 30:break;default:Rl(c,f)}}function jM(c){var d=c.alternate;d!==null&&(c.alternate=null,jM(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&$e(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Pn=null,Tr=!1;function Ia(c,d,f){for(f=f.child;f!==null;)$M(c,d,f),f=f.sibling}function $M(c,d,f){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(te,f)}catch{}switch(f.tag){case 26:Kn||Do(f,d),Ia(c,d,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Kn||Do(f,d);var m=Pn,w=Tr;Fl(f.type)&&(Pn=f.stateNode,Tr=!1),Ia(c,d,f),kp(f.stateNode),Pn=m,Tr=w;break;case 5:Kn||Do(f,d);case 6:if(m=Pn,w=Tr,Pn=null,Ia(c,d,f),Pn=m,Tr=w,Pn!==null)if(Tr)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(f.stateNode)}catch(E){yn(f,d,E)}else try{Pn.removeChild(f.stateNode)}catch(E){yn(f,d,E)}break;case 18:Pn!==null&&(Tr?(c=Pn,k_(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,f.stateNode),zp(c)):k_(Pn,f.stateNode));break;case 4:m=Pn,w=Tr,Pn=f.stateNode.containerInfo,Tr=!0,Ia(c,d,f),Pn=m,Tr=w;break;case 0:case 11:case 14:case 15:Kn||El(2,f,d),Kn||El(4,f,d),Ia(c,d,f);break;case 1:Kn||(Do(f,d),m=f.stateNode,typeof m.componentWillUnmount=="function"&&BM(f,d,m)),Ia(c,d,f);break;case 21:Ia(c,d,f);break;case 22:Kn=(m=Kn)||f.memoizedState!==null,Ia(c,d,f),Kn=m;break;default:Ia(c,d,f)}}function qM(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{zp(c)}catch(f){yn(d,d.return,f)}}function Q7(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new UM),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new UM),d;default:throw Error(i(435,c.tag))}}function sR(c,d){var f=Q7(c);d.forEach(function(m){var w=o8.bind(null,c,m);f.has(m)||(f.add(m),m.then(w,w))})}function qr(c,d){var f=d.deletions;if(f!==null)for(var m=0;m<f.length;m++){var w=f[m],E=c,V=d,W=V;e:for(;W!==null;){switch(W.tag){case 27:if(Fl(W.type)){Pn=W.stateNode,Tr=!1;break e}break;case 5:Pn=W.stateNode,Tr=!1;break e;case 3:case 4:Pn=W.stateNode.containerInfo,Tr=!0;break e}W=W.return}if(Pn===null)throw Error(i(160));$M(E,V,w),Pn=null,Tr=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)KM(d,c),d=d.sibling}var Js=null;function KM(c,d){var f=c.alternate,m=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:qr(d,c),Kr(c),m&4&&(El(3,c,c.return),Rp(3,c),El(5,c,c.return));break;case 1:qr(d,c),Kr(c),m&512&&(Kn||f===null||Do(f,f.return)),m&64&&Pa&&(c=c.updateQueue,c!==null&&(m=c.callbacks,m!==null&&(f=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var w=Js;if(qr(d,c),Kr(c),m&512&&(Kn||f===null||Do(f,f.return)),m&4){var E=f!==null?f.memoizedState:null;if(m=c.memoizedState,f===null)if(m===null)if(c.stateNode===null){e:{m=c.type,f=c.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":E=w.getElementsByTagName("title")[0],(!E||E[je]||E[Se]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(m),w.head.insertBefore(E,w.querySelector("head > title"))),Bi(E,m,f),E[Se]=c,wt(E),m=E;break e;case"link":var V=z_("link","href",w).get(m+(f.href||""));if(V){for(var W=0;W<V.length;W++)if(E=V[W],E.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&E.getAttribute("rel")===(f.rel==null?null:f.rel)&&E.getAttribute("title")===(f.title==null?null:f.title)&&E.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){V.splice(W,1);break t}}E=w.createElement(m),Bi(E,m,f),w.head.appendChild(E);break;case"meta":if(V=z_("meta","content",w).get(m+(f.content||""))){for(W=0;W<V.length;W++)if(E=V[W],E.getAttribute("content")===(f.content==null?null:""+f.content)&&E.getAttribute("name")===(f.name==null?null:f.name)&&E.getAttribute("property")===(f.property==null?null:f.property)&&E.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&E.getAttribute("charset")===(f.charSet==null?null:f.charSet)){V.splice(W,1);break t}}E=w.createElement(m),Bi(E,m,f),w.head.appendChild(E);break;default:throw Error(i(468,m))}E[Se]=c,wt(E),m=E}c.stateNode=m}else U_(w,c.type,c.stateNode);else c.stateNode=G_(w,m,c.memoizedProps);else E!==m?(E===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):E.count--,m===null?U_(w,c.type,c.stateNode):G_(w,m,c.memoizedProps)):m===null&&c.stateNode!==null&&tR(c,c.memoizedProps,f.memoizedProps)}break;case 27:qr(d,c),Kr(c),m&512&&(Kn||f===null||Do(f,f.return)),f!==null&&m&4&&tR(c,c.memoizedProps,f.memoizedProps);break;case 5:if(qr(d,c),Kr(c),m&512&&(Kn||f===null||Do(f,f.return)),c.flags&32){w=c.stateNode;try{gs(w,"")}catch(he){yn(c,c.return,he)}}m&4&&c.stateNode!=null&&(w=c.memoizedProps,tR(c,w,f!==null?f.memoizedProps:w)),m&1024&&(rR=!0);break;case 6:if(qr(d,c),Kr(c),m&4){if(c.stateNode===null)throw Error(i(162));m=c.memoizedProps,f=c.stateNode;try{f.nodeValue=m}catch(he){yn(c,c.return,he)}}break;case 3:if(_y=null,w=Js,Js=Fy(d.containerInfo),qr(d,c),Js=w,Kr(c),m&4&&f!==null&&f.memoizedState.isDehydrated)try{zp(d.containerInfo)}catch(he){yn(c,c.return,he)}rR&&(rR=!1,YM(c));break;case 4:m=Js,Js=Fy(c.stateNode.containerInfo),qr(d,c),Kr(c),Js=m;break;case 12:qr(d,c),Kr(c);break;case 13:qr(d,c),Kr(c),c.child.flags&8192&&c.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(dR=Ne()),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,sR(c,m)));break;case 22:w=c.memoizedState!==null;var q=f!==null&&f.memoizedState!==null,le=Pa,ye=Kn;if(Pa=le||w,Kn=ye||q,qr(d,c),Kn=ye,Pa=le,Kr(c),m&8192)e:for(d=c.stateNode,d._visibility=w?d._visibility&-2:d._visibility|1,w&&(f===null||q||Pa||Kn||cu(c)),f=null,d=c;;){if(d.tag===5||d.tag===26){if(f===null){q=f=d;try{if(E=q.stateNode,w)V=E.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{W=q.stateNode;var be=q.memoizedProps.style,de=be!=null&&be.hasOwnProperty("display")?be.display:null;W.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(he){yn(q,q.return,he)}}}else if(d.tag===6){if(f===null){q=d;try{q.stateNode.nodeValue=w?"":q.memoizedProps}catch(he){yn(q,q.return,he)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}m&4&&(m=c.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,sR(c,f))));break;case 19:qr(d,c),Kr(c),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,sR(c,m)));break;case 30:break;case 21:break;default:qr(d,c),Kr(c)}}function Kr(c){var d=c.flags;if(d&2){try{for(var f,m=c.return;m!==null;){if(GM(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var w=f.stateNode,E=nR(c);yy(c,E,w);break;case 5:var V=f.stateNode;f.flags&32&&(gs(V,""),f.flags&=-33);var W=nR(c);yy(c,W,V);break;case 3:case 4:var q=f.stateNode.containerInfo,le=nR(c);iR(c,le,q);break;default:throw Error(i(161))}}catch(ye){yn(c,c.return,ye)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function YM(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;YM(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Rl(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)WM(c,d.alternate,d),d=d.sibling}function cu(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:El(4,d,d.return),cu(d);break;case 1:Do(d,d.return);var f=d.stateNode;typeof f.componentWillUnmount=="function"&&BM(d,d.return,f),cu(d);break;case 27:kp(d.stateNode);case 26:case 5:Do(d,d.return),cu(d);break;case 22:d.memoizedState===null&&cu(d);break;case 30:cu(d);break;default:cu(d)}c=c.sibling}}function xl(c,d,f){for(f=f&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var m=d.alternate,w=c,E=d,V=E.flags;switch(E.tag){case 0:case 11:case 15:xl(w,E,f),Rp(4,E);break;case 1:if(xl(w,E,f),m=E,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(le){yn(m,m.return,le)}if(m=E,w=m.updateQueue,w!==null){var W=m.stateNode;try{var q=w.shared.hiddenCallbacks;if(q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<q.length;w++)RF(q[w],W)}catch(le){yn(m,m.return,le)}}f&&V&64&&VM(E),xp(E,E.return);break;case 27:zM(E);case 26:case 5:xl(w,E,f),f&&m===null&&V&4&&HM(E),xp(E,E.return);break;case 12:xl(w,E,f);break;case 13:xl(w,E,f),f&&V&4&&qM(w,E);break;case 22:E.memoizedState===null&&xl(w,E,f),xp(E,E.return);break;case 30:break;default:xl(w,E,f)}d=d.sibling}}function oR(c,d){var f=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==f&&(c!=null&&c.refCount++,f!=null&&up(f))}function aR(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&up(c))}function Ao(c,d,f,m){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)XM(c,d,f,m),d=d.sibling}function XM(c,d,f,m){var w=d.flags;switch(d.tag){case 0:case 11:case 15:Ao(c,d,f,m),w&2048&&Rp(9,d);break;case 1:Ao(c,d,f,m);break;case 3:Ao(c,d,f,m),w&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&up(c)));break;case 12:if(w&2048){Ao(c,d,f,m),c=d.stateNode;try{var E=d.memoizedProps,V=E.id,W=E.onPostCommit;typeof W=="function"&&W(V,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(q){yn(d,d.return,q)}}else Ao(c,d,f,m);break;case 13:Ao(c,d,f,m);break;case 23:break;case 22:E=d.stateNode,V=d.alternate,d.memoizedState!==null?E._visibility&2?Ao(c,d,f,m):Tp(c,d):E._visibility&2?Ao(c,d,f,m):(E._visibility|=2,Yd(c,d,f,m,(d.subtreeFlags&10256)!==0)),w&2048&&oR(V,d);break;case 24:Ao(c,d,f,m),w&2048&&aR(d.alternate,d);break;default:Ao(c,d,f,m)}}function Yd(c,d,f,m,w){for(w=w&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var E=c,V=d,W=f,q=m,le=V.flags;switch(V.tag){case 0:case 11:case 15:Yd(E,V,W,q,w),Rp(8,V);break;case 23:break;case 22:var ye=V.stateNode;V.memoizedState!==null?ye._visibility&2?Yd(E,V,W,q,w):Tp(E,V):(ye._visibility|=2,Yd(E,V,W,q,w)),w&&le&2048&&oR(V.alternate,V);break;case 24:Yd(E,V,W,q,w),w&&le&2048&&aR(V.alternate,V);break;default:Yd(E,V,W,q,w)}d=d.sibling}}function Tp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var f=c,m=d,w=m.flags;switch(m.tag){case 22:Tp(f,m),w&2048&&oR(m.alternate,m);break;case 24:Tp(f,m),w&2048&&aR(m.alternate,m);break;default:Tp(f,m)}d=d.sibling}}var Dp=8192;function Xd(c){if(c.subtreeFlags&Dp)for(c=c.child;c!==null;)QM(c),c=c.sibling}function QM(c){switch(c.tag){case 26:Xd(c),c.flags&Dp&&c.memoizedState!==null&&L8(Js,c.memoizedState,c.memoizedProps);break;case 5:Xd(c);break;case 3:case 4:var d=Js;Js=Fy(c.stateNode.containerInfo),Xd(c),Js=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Dp,Dp=16777216,Xd(c),Dp=d):Xd(c));break;default:Xd(c)}}function ZM(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Ap(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var m=d[f];Di=m,e_(m,c)}ZM(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)JM(c),c=c.sibling}function JM(c){switch(c.tag){case 0:case 11:case 15:Ap(c),c.flags&2048&&El(9,c,c.return);break;case 3:Ap(c);break;case 12:Ap(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,Cy(c)):Ap(c);break;default:Ap(c)}}function Cy(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var m=d[f];Di=m,e_(m,c)}ZM(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:El(8,d,d.return),Cy(d);break;case 22:f=d.stateNode,f._visibility&2&&(f._visibility&=-3,Cy(d));break;default:Cy(d)}c=c.sibling}}function e_(c,d){for(;Di!==null;){var f=Di;switch(f.tag){case 0:case 11:case 15:El(8,f,d);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:up(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Di=m;else e:for(f=c;Di!==null;){m=Di;var w=m.sibling,E=m.return;if(jM(m),m===f){Di=null;break e}if(w!==null){w.return=E,Di=w;break e}Di=E}}}var Z7={getCacheForType:function(c){var d=Zi(mi),f=d.data.get(c);return f===void 0&&(f=c(),d.data.set(c,f)),f}},J7=typeof WeakMap=="function"?WeakMap:Map,ln=0,wn=null,_t=null,Ut=0,cn=0,Yr=null,Tl=!1,Qd=!1,lR=!1,Fa=0,Hn=0,Dl=0,uu=0,cR=0,Rs=0,Zd=0,Pp=null,Dr=null,uR=!1,dR=0,wy=1/0,by=null,Al=null,Vi=0,Pl=null,Jd=null,eh=0,hR=0,fR=null,t_=null,Ip=0,pR=null;function Xr(){if((ln&2)!==0&&Ut!==0)return Ut&-Ut;if($.T!==null){var c=Gd;return c!==0?c:bR()}return Y()}function n_(){Rs===0&&(Rs=(Ut&536870912)===0||Xt?da():536870912);var c=Es.current;return c!==null&&(c.flags|=32),Rs}function Qr(c,d,f){(c===wn&&(cn===2||cn===9)||c.cancelPendingCommit!==null)&&(th(c,0),Il(c,Ut,Rs,!1)),Ys(c,f),((ln&2)===0||c!==wn)&&(c===wn&&((ln&2)===0&&(uu|=f),Hn===4&&Il(c,Ut,Rs,!1)),Po(c))}function i_(c,d,f){if((ln&6)!==0)throw Error(i(327));var m=!f&&(d&124)===0&&(d&c.expiredLanes)===0||fi(c,d),w=m?n8(c,d):vR(c,d,!0),E=m;do{if(w===0){Qd&&!m&&Il(c,d,0,!1);break}else{if(f=c.current.alternate,E&&!e8(f)){w=vR(c,d,!1),E=!1;continue}if(w===2){if(E=d,c.errorRecoveryDisabledLanes&E)var V=0;else V=c.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){d=V;e:{var W=c;w=Pp;var q=W.current.memoizedState.isDehydrated;if(q&&(th(W,V).flags|=256),V=vR(W,V,!1),V!==2){if(lR&&!q){W.errorRecoveryDisabledLanes|=E,uu|=E,w=4;break e}E=Dr,Dr=w,E!==null&&(Dr===null?Dr=E:Dr.push.apply(Dr,E))}w=V}if(E=!1,w!==2)continue}}if(w===1){th(c,0),Il(c,d,0,!0);break}e:{switch(m=c,E=w,E){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:Il(m,d,Rs,!Tl);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(w=dR+300-Ne(),10<w)){if(Il(m,d,Rs,!Tl),Mn(m,0,!0)!==0)break e;m.timeoutHandle=M_(r_.bind(null,m,f,Dr,by,uR,d,Rs,uu,Zd,Tl,E,2,-0,0),w);break e}r_(m,f,Dr,by,uR,d,Rs,uu,Zd,Tl,E,0,-0,0)}}break}while(!0);Po(c)}function r_(c,d,f,m,w,E,V,W,q,le,ye,be,de,he){if(c.timeoutHandle=-1,be=d.subtreeFlags,(be&8192||(be&16785408)===16785408)&&(Np={stylesheets:null,count:0,unsuspend:O8},QM(d),be=N8(),be!==null)){c.cancelPendingCommit=be(d_.bind(null,c,d,E,f,m,w,V,W,q,ye,1,de,he)),Il(c,E,V,!le);return}d_(c,d,E,f,m,w,V,W,q)}function e8(c){for(var d=c;;){var f=d.tag;if((f===0||f===11||f===15)&&d.flags&16384&&(f=d.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var w=f[m],E=w.getSnapshot;w=w.value;try{if(!jr(E(),w))return!1}catch{return!1}}if(f=d.child,d.subtreeFlags&16384&&f!==null)f.return=d,d=f;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Il(c,d,f,m){d&=~cR,d&=~uu,c.suspendedLanes|=d,c.pingedLanes&=~d,m&&(c.warmLanes|=d),m=c.expirationTimes;for(var w=d;0<w;){var E=31-Ve(w),V=1<<E;m[E]=-1,w&=~V}f!==0&&ur(c,f,d)}function Sy(){return(ln&6)===0?(Fp(0),!1):!0}function gR(){if(_t!==null){if(cn===0)var c=_t.return;else c=_t,Ea=ru=null,ME(c),qd=null,bp=0,c=_t;for(;c!==null;)NM(c.alternate,c),c=c.return;_t=null}}function th(c,d){var f=c.timeoutHandle;f!==-1&&(c.timeoutHandle=-1,y8(f)),f=c.cancelPendingCommit,f!==null&&(c.cancelPendingCommit=null,f()),gR(),wn=c,_t=f=wa(c.current,null),Ut=d,cn=0,Yr=null,Tl=!1,Qd=fi(c,d),lR=!1,Zd=Rs=cR=uu=Dl=Hn=0,Dr=Pp=null,uR=!1,(d&8)!==0&&(d|=d&32);var m=c.entangledLanes;if(m!==0)for(c=c.entanglements,m&=d;0<m;){var w=31-Ve(m),E=1<<w;d|=c[w],m&=~E}return Fa=d,Wv(),f}function s_(c,d){At=null,$.H=cy,d===hp||d===Jv?(d=SF(),cn=3):d===CF?(d=SF(),cn=4):cn=d===EM?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Yr=d,_t===null&&(Hn=1,py(c,Cs(d,c.current)))}function o_(){var c=$.H;return $.H=cy,c===null?cy:c}function a_(){var c=$.A;return $.A=Z7,c}function mR(){Hn=4,Tl||(Ut&4194048)!==Ut&&Es.current!==null||(Qd=!0),(Dl&134217727)===0&&(uu&134217727)===0||wn===null||Il(wn,Ut,Rs,!1)}function vR(c,d,f){var m=ln;ln|=2;var w=o_(),E=a_();(wn!==c||Ut!==d)&&(by=null,th(c,d)),d=!1;var V=Hn;e:do try{if(cn!==0&&_t!==null){var W=_t,q=Yr;switch(cn){case 8:gR(),V=6;break e;case 3:case 2:case 9:case 6:Es.current===null&&(d=!0);var le=cn;if(cn=0,Yr=null,nh(c,W,q,le),f&&Qd){V=0;break e}break;default:le=cn,cn=0,Yr=null,nh(c,W,q,le)}}t8(),V=Hn;break}catch(ye){s_(c,ye)}while(!0);return d&&c.shellSuspendCounter++,Ea=ru=null,ln=m,$.H=w,$.A=E,_t===null&&(wn=null,Ut=0,Wv()),V}function t8(){for(;_t!==null;)l_(_t)}function n8(c,d){var f=ln;ln|=2;var m=o_(),w=a_();wn!==c||Ut!==d?(by=null,wy=Ne()+500,th(c,d)):Qd=fi(c,d);e:do try{if(cn!==0&&_t!==null){d=_t;var E=Yr;t:switch(cn){case 1:cn=0,Yr=null,nh(c,d,E,1);break;case 2:case 9:if(wF(E)){cn=0,Yr=null,c_(d);break}d=function(){cn!==2&&cn!==9||wn!==c||(cn=7),Po(c)},E.then(d,d);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:wF(E)?(cn=0,Yr=null,c_(d)):(cn=0,Yr=null,nh(c,d,E,7));break;case 5:var V=null;switch(_t.tag){case 26:V=_t.memoizedState;case 5:case 27:var W=_t;if(!V||W_(V)){cn=0,Yr=null;var q=W.sibling;if(q!==null)_t=q;else{var le=W.return;le!==null?(_t=le,Ey(le)):_t=null}break t}}cn=0,Yr=null,nh(c,d,E,5);break;case 6:cn=0,Yr=null,nh(c,d,E,6);break;case 8:gR(),Hn=6;break e;default:throw Error(i(462))}}i8();break}catch(ye){s_(c,ye)}while(!0);return Ea=ru=null,$.H=m,$.A=w,ln=f,_t!==null?0:(wn=null,Ut=0,Wv(),Hn)}function i8(){for(;_t!==null&&!Le();)l_(_t)}function l_(c){var d=OM(c.alternate,c,Fa);c.memoizedProps=c.pendingProps,d===null?Ey(c):_t=d}function c_(c){var d=c,f=d.alternate;switch(d.tag){case 15:case 0:d=PM(f,d,d.pendingProps,d.type,void 0,Ut);break;case 11:d=PM(f,d,d.pendingProps,d.type.render,d.ref,Ut);break;case 5:ME(d);default:NM(f,d),d=_t=uF(d,Fa),d=OM(f,d,Fa)}c.memoizedProps=c.pendingProps,d===null?Ey(c):_t=d}function nh(c,d,f,m){Ea=ru=null,ME(d),qd=null,bp=0;var w=d.return;try{if($7(c,w,d,f,Ut)){Hn=1,py(c,Cs(f,c.current)),_t=null;return}}catch(E){if(w!==null)throw _t=w,E;Hn=1,py(c,Cs(f,c.current)),_t=null;return}d.flags&32768?(Xt||m===1?c=!0:Qd||(Ut&536870912)!==0?c=!1:(Tl=c=!0,(m===2||m===9||m===3||m===6)&&(m=Es.current,m!==null&&m.tag===13&&(m.flags|=16384))),u_(d,c)):Ey(d)}function Ey(c){var d=c;do{if((d.flags&32768)!==0){u_(d,Tl);return}c=d.return;var f=K7(d.alternate,d,Fa);if(f!==null){_t=f;return}if(d=d.sibling,d!==null){_t=d;return}_t=d=c}while(d!==null);Hn===0&&(Hn=5)}function u_(c,d){do{var f=Y7(c.alternate,c);if(f!==null){f.flags&=32767,_t=f;return}if(f=c.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!d&&(c=c.sibling,c!==null)){_t=c;return}_t=c=f}while(c!==null);Hn=6,_t=null}function d_(c,d,f,m,w,E,V,W,q){c.cancelPendingCommit=null;do Ry();while(Vi!==0);if((ln&6)!==0)throw Error(i(327));if(d!==null){if(d===c.current)throw Error(i(177));if(E=d.lanes|d.childLanes,E|=aE,cl(c,f,E,V,W,q),c===wn&&(_t=wn=null,Ut=0),Jd=d,Pl=c,eh=f,hR=E,fR=w,t_=m,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,a8(St,function(){return m_(),null})):(c.callbackNode=null,c.callbackPriority=0),m=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,w=Q.p,Q.p=2,V=ln,ln|=4;try{X7(c,d,f)}finally{ln=V,Q.p=w,$.T=m}}Vi=1,h_(),f_(),p_()}}function h_(){if(Vi===1){Vi=0;var c=Pl,d=Jd,f=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var m=Q.p;Q.p=2;var w=ln;ln|=4;try{KM(d,c);var E=PR,V=eF(c.containerInfo),W=E.focusedElem,q=E.selectionRange;if(V!==W&&W&&W.ownerDocument&&J1(W.ownerDocument.documentElement,W)){if(q!==null&&nE(W)){var le=q.start,ye=q.end;if(ye===void 0&&(ye=le),"selectionStart"in W)W.selectionStart=le,W.selectionEnd=Math.min(ye,W.value.length);else{var be=W.ownerDocument||document,de=be&&be.defaultView||window;if(de.getSelection){var he=de.getSelection(),pt=W.textContent.length,ot=Math.min(q.start,pt),fn=q.end===void 0?ot:Math.min(q.end,pt);!he.extend&&ot>fn&&(V=fn,fn=ot,ot=V);var re=Z1(W,ot),Z=Z1(W,fn);if(re&&Z&&(he.rangeCount!==1||he.anchorNode!==re.node||he.anchorOffset!==re.offset||he.focusNode!==Z.node||he.focusOffset!==Z.offset)){var ae=be.createRange();ae.setStart(re.node,re.offset),he.removeAllRanges(),ot>fn?(he.addRange(ae),he.extend(Z.node,Z.offset)):(ae.setEnd(Z.node,Z.offset),he.addRange(ae))}}}}for(be=[],he=W;he=he.parentNode;)he.nodeType===1&&be.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<be.length;W++){var Ce=be[W];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Ly=!!AR,PR=AR=null}finally{ln=w,Q.p=m,$.T=f}}c.current=d,Vi=2}}function f_(){if(Vi===2){Vi=0;var c=Pl,d=Jd,f=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var m=Q.p;Q.p=2;var w=ln;ln|=4;try{WM(c,d.alternate,d)}finally{ln=w,Q.p=m,$.T=f}}Vi=3}}function p_(){if(Vi===4||Vi===3){Vi=0,Qe();var c=Pl,d=Jd,f=eh,m=t_;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Vi=5:(Vi=0,Jd=Pl=null,g_(c,c.pendingLanes));var w=c.pendingLanes;if(w===0&&(Al=null),ul(f),d=d.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(te,d,void 0,(d.current.flags&128)===128)}catch{}if(m!==null){d=$.T,w=Q.p,Q.p=2,$.T=null;try{for(var E=c.onRecoverableError,V=0;V<m.length;V++){var W=m[V];E(W.value,{componentStack:W.stack})}}finally{$.T=d,Q.p=w}}(eh&3)!==0&&Ry(),Po(c),w=c.pendingLanes,(f&4194090)!==0&&(w&42)!==0?c===pR?Ip++:(Ip=0,pR=c):Ip=0,Fp(0)}}function g_(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,up(d)))}function Ry(c){return h_(),f_(),p_(),m_()}function m_(){if(Vi!==5)return!1;var c=Pl,d=hR;hR=0;var f=ul(eh),m=$.T,w=Q.p;try{Q.p=32>f?32:f,$.T=null,f=fR,fR=null;var E=Pl,V=eh;if(Vi=0,Jd=Pl=null,eh=0,(ln&6)!==0)throw Error(i(331));var W=ln;if(ln|=4,JM(E.current),XM(E,E.current,V,f),ln=W,Fp(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(te,E)}catch{}return!0}finally{Q.p=w,$.T=m,g_(c,d)}}function v_(c,d,f){d=Cs(f,d),d=$E(c.stateNode,d,2),c=Cl(c,d,2),c!==null&&(Ys(c,2),Po(c))}function yn(c,d,f){if(c.tag===3)v_(c,c,f);else for(;d!==null;){if(d.tag===3){v_(d,c,f);break}else if(d.tag===1){var m=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Al===null||!Al.has(m))){c=Cs(f,c),f=bM(2),m=Cl(d,f,2),m!==null&&(SM(f,m,d,c),Ys(m,2),Po(m));break}}d=d.return}}function yR(c,d,f){var m=c.pingCache;if(m===null){m=c.pingCache=new J7;var w=new Set;m.set(d,w)}else w=m.get(d),w===void 0&&(w=new Set,m.set(d,w));w.has(f)||(lR=!0,w.add(f),c=r8.bind(null,c,d,f),d.then(c,c))}function r8(c,d,f){var m=c.pingCache;m!==null&&m.delete(d),c.pingedLanes|=c.suspendedLanes&f,c.warmLanes&=~f,wn===c&&(Ut&f)===f&&(Hn===4||Hn===3&&(Ut&62914560)===Ut&&300>Ne()-dR?(ln&2)===0&&th(c,0):cR|=f,Zd===Ut&&(Zd=0)),Po(c)}function y_(c,d){d===0&&(d=Bc()),c=Nd(c,d),c!==null&&(Ys(c,d),Po(c))}function s8(c){var d=c.memoizedState,f=0;d!==null&&(f=d.retryLane),y_(c,f)}function o8(c,d){var f=0;switch(c.tag){case 13:var m=c.stateNode,w=c.memoizedState;w!==null&&(f=w.retryLane);break;case 19:m=c.stateNode;break;case 22:m=c.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(d),y_(c,f)}function a8(c,d){return Ot(c,d)}var xy=null,ih=null,CR=!1,Ty=!1,wR=!1,du=0;function Po(c){c!==ih&&c.next===null&&(ih===null?xy=ih=c:ih=ih.next=c),Ty=!0,CR||(CR=!0,c8())}function Fp(c,d){if(!wR&&Ty){wR=!0;do for(var f=!1,m=xy;m!==null;){if(c!==0){var w=m.pendingLanes;if(w===0)var E=0;else{var V=m.suspendedLanes,W=m.pingedLanes;E=(1<<31-Ve(42|c)+1)-1,E&=w&~(V&~W),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(f=!0,S_(m,E))}else E=Ut,E=Mn(m,m===wn?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||fi(m,E)||(f=!0,S_(m,E));m=m.next}while(f);wR=!1}}function l8(){C_()}function C_(){Ty=CR=!1;var c=0;du!==0&&(v8()&&(c=du),du=0);for(var d=Ne(),f=null,m=xy;m!==null;){var w=m.next,E=w_(m,d);E===0?(m.next=null,f===null?xy=w:f.next=w,w===null&&(ih=f)):(f=m,(c!==0||(E&3)!==0)&&(Ty=!0)),m=w}Fp(c)}function w_(c,d){for(var f=c.suspendedLanes,m=c.pingedLanes,w=c.expirationTimes,E=c.pendingLanes&-62914561;0<E;){var V=31-Ve(E),W=1<<V,q=w[V];q===-1?((W&f)===0||(W&m)!==0)&&(w[V]=Si(W,d)):q<=d&&(c.expiredLanes|=W),E&=~W}if(d=wn,f=Ut,f=Mn(c,c===d?f:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m=c.callbackNode,f===0||c===d&&(cn===2||cn===9)||c.cancelPendingCommit!==null)return m!==null&&m!==null&&ke(m),c.callbackNode=null,c.callbackPriority=0;if((f&3)===0||fi(c,f)){if(d=f&-f,d===c.callbackPriority)return d;switch(m!==null&&ke(m),ul(f)){case 2:case 8:f=st;break;case 32:f=St;break;case 268435456:f=Mt;break;default:f=St}return m=b_.bind(null,c),f=Ot(f,m),c.callbackPriority=d,c.callbackNode=f,d}return m!==null&&m!==null&&ke(m),c.callbackPriority=2,c.callbackNode=null,2}function b_(c,d){if(Vi!==0&&Vi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var f=c.callbackNode;if(Ry()&&c.callbackNode!==f)return null;var m=Ut;return m=Mn(c,c===wn?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m===0?null:(i_(c,m,d),w_(c,Ne()),c.callbackNode!=null&&c.callbackNode===f?b_.bind(null,c):null)}function S_(c,d){if(Ry())return null;i_(c,d,!0)}function c8(){C8(function(){(ln&6)!==0?Ot(xt,l8):C_()})}function bR(){return du===0&&(du=da()),du}function E_(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:xd(""+c)}function R_(c,d){var f=d.ownerDocument.createElement("input");return f.name=d.name,f.value=d.value,c.id&&f.setAttribute("form",c.id),d.parentNode.insertBefore(f,d),c=new FormData(c),f.parentNode.removeChild(f),c}function u8(c,d,f,m,w){if(d==="submit"&&f&&f.stateNode===w){var E=E_((w[Te]||null).action),V=m.submitter;V&&(d=(d=V[Te]||null)?E_(d.formAction):V.getAttribute("formAction"),d!==null&&(E=d,V=null));var W=new Td("action","action",null,m,w);c.push({event:W,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(du!==0){var q=V?R_(w,V):new FormData(w);GE(f,{pending:!0,data:q,method:w.method,action:E},null,q)}}else typeof E=="function"&&(W.preventDefault(),q=V?R_(w,V):new FormData(w),GE(f,{pending:!0,data:q,method:w.method,action:E},E,q))},currentTarget:w}]})}}for(var SR=0;SR<oE.length;SR++){var ER=oE[SR],d8=ER.toLowerCase(),h8=ER[0].toUpperCase()+ER.slice(1);Zs(d8,"on"+h8)}Zs(iF,"onAnimationEnd"),Zs(rF,"onAnimationIteration"),Zs(sF,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(P7,"onTransitionRun"),Zs(I7,"onTransitionStart"),Zs(F7,"onTransitionCancel"),Zs(oF,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mp));function x_(c,d){d=(d&4)!==0;for(var f=0;f<c.length;f++){var m=c[f],w=m.event;m=m.listeners;e:{var E=void 0;if(d)for(var V=m.length-1;0<=V;V--){var W=m[V],q=W.instance,le=W.currentTarget;if(W=W.listener,q!==E&&w.isPropagationStopped())break e;E=W,w.currentTarget=le;try{E(w)}catch(ye){fy(ye)}w.currentTarget=null,E=q}else for(V=0;V<m.length;V++){if(W=m[V],q=W.instance,le=W.currentTarget,W=W.listener,q!==E&&w.isPropagationStopped())break e;E=W,w.currentTarget=le;try{E(w)}catch(ye){fy(ye)}w.currentTarget=null,E=q}}}}function kt(c,d){var f=d[Ke];f===void 0&&(f=d[Ke]=new Set);var m=c+"__bubble";f.has(m)||(T_(d,c,2,!1),f.add(m))}function RR(c,d,f){var m=0;d&&(m|=4),T_(f,c,m,d)}var Dy="_reactListening"+Math.random().toString(36).slice(2);function xR(c){if(!c[Dy]){c[Dy]=!0,Yt.forEach(function(f){f!=="selectionchange"&&(f8.has(f)||RR(f,!1,c),RR(f,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Dy]||(d[Dy]=!0,RR("selectionchange",!1,d))}}function T_(c,d,f,m){switch(X_(d)){case 2:var w=H8;break;case 8:w=G8;break;default:w=BR}f=w.bind(null,d,f,c),w=void 0,!vs||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(w=!0),m?w!==void 0?c.addEventListener(d,f,{capture:!0,passive:w}):c.addEventListener(d,f,!0):w!==void 0?c.addEventListener(d,f,{passive:w}):c.addEventListener(d,f,!1)}function TR(c,d,f,m,w){var E=m;if((d&1)===0&&(d&2)===0&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var W=m.stateNode.containerInfo;if(W===w)break;if(V===4)for(V=m.return;V!==null;){var q=V.tag;if((q===3||q===4)&&V.stateNode.containerInfo===w)return;V=V.return}for(;W!==null;){if(V=Rt(W),V===null)return;if(q=V.tag,q===5||q===6||q===26||q===27){m=E=V;continue e}W=W.parentNode}}m=m.return}Pv(function(){var le=E,ye=ms(f),be=[];e:{var de=aF.get(c);if(de!==void 0){var he=Td,pt=c;switch(c){case"keypress":if(wo(f)===0)break e;case"keydown":case"keyup":he=Md;break;case"focusin":pt="focus",he=Pd;break;case"focusout":pt="blur",he=Pd;break;case"beforeblur":case"afterblur":he=Pd;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ZS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Nv;break;case iF:case rF:case sF:he=Id;break;case oF:he=Bv;break;case"scroll":case"scrollend":he=Iv;break;case"wheel":he=_d;break;case"copy":case"cut":case"paste":he=Fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=np;break;case"toggle":case"beforetoggle":he=Gv}var ot=(d&4)!==0,fn=!ot&&(c==="scroll"||c==="scrollend"),re=ot?de!==null?de+"Capture":null:de;ot=[];for(var Z=le,ae;Z!==null;){var Ce=Z;if(ae=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||ae===null||re===null||(Ce=Wc(Z,re),Ce!=null&&ot.push(_p(Z,Ce,ae))),fn)break;Z=Z.return}0<ot.length&&(de=new he(de,pt,null,f,ye),be.push({event:de,listeners:ot}))}}if((d&7)===0){e:{if(de=c==="mouseover"||c==="pointerover",he=c==="mouseout"||c==="pointerout",de&&f!==pa&&(pt=f.relatedTarget||f.fromElement)&&(Rt(pt)||pt[Be]))break e;if((he||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,he?(pt=f.relatedTarget||f.toElement,he=le,pt=pt?Rt(pt):null,pt!==null&&(fn=s(pt),ot=pt.tag,pt!==fn||ot!==5&&ot!==27&&ot!==6)&&(pt=null)):(he=null,pt=le),he!==pt)){if(ot=ys,Ce="onMouseLeave",re="onMouseEnter",Z="mouse",(c==="pointerout"||c==="pointerover")&&(ot=np,Ce="onPointerLeave",re="onPointerEnter",Z="pointer"),fn=he==null?de:vn(he),ae=pt==null?de:vn(pt),de=new ot(Ce,Z+"leave",he,f,ye),de.target=fn,de.relatedTarget=ae,Ce=null,Rt(ye)===le&&(ot=new ot(re,Z+"enter",pt,f,ye),ot.target=ae,ot.relatedTarget=fn,Ce=ot),fn=Ce,he&&pt)t:{for(ot=he,re=pt,Z=0,ae=ot;ae;ae=rh(ae))Z++;for(ae=0,Ce=re;Ce;Ce=rh(Ce))ae++;for(;0<Z-ae;)ot=rh(ot),Z--;for(;0<ae-Z;)re=rh(re),ae--;for(;Z--;){if(ot===re||re!==null&&ot===re.alternate)break t;ot=rh(ot),re=rh(re)}ot=null}else ot=null;he!==null&&D_(be,de,he,ot,!1),pt!==null&&fn!==null&&D_(be,fn,pt,ot,!0)}}e:{if(de=le?vn(le):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var Ge=$1;else if(gi(de))if(q1)Ge=T7;else{Ge=R7;var It=E7}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?le&&Yf(le.elementType)&&(Ge=$1):Ge=x7;if(Ge&&(Ge=Ge(c,le))){Ca(be,Ge,f,ye);break e}It&&It(c,de,le),c==="focusout"&&le&&de.type==="number"&&le.memoizedProps.value!=null&&pl(de,"number",de.value)}switch(It=le?vn(le):window,c){case"focusin":(gi(It)||It.contentEditable==="true")&&(kd=It,iE=le,sp=null);break;case"focusout":sp=iE=kd=null;break;case"mousedown":rE=!0;break;case"contextmenu":case"mouseup":case"dragend":rE=!1,tF(be,f,ye);break;case"selectionchange":if(A7)break;case"keydown":case"keyup":tF(be,f,ye)}var Je;if(Eo)e:{switch(c){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Gt?me(c,f)&&(ut="onCompositionEnd"):c==="keydown"&&f.keyCode===229&&(ut="onCompositionStart");ut&&(O&&f.locale!=="ko"&&(Gt||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Gt&&(Je=Qf()):(Co=ye,gl="value"in Co?Co.value:Co.textContent,Gt=!0)),It=Ay(le,ut),0<It.length&&(ut=new ep(ut,c,null,f,ye),be.push({event:ut,listeners:It}),Je?ut.data=Je:(Je=Fe(f),Je!==null&&(ut.data=Je)))),(Je=A?pi(c,f):zt(c,f))&&(ut=Ay(le,"onBeforeInput"),0<ut.length&&(It=new ep("onBeforeInput","beforeinput",null,f,ye),be.push({event:It,listeners:ut}),It.data=Je)),u8(be,c,le,f,ye)}x_(be,d)})}function _p(c,d,f){return{instance:c,listener:d,currentTarget:f}}function Ay(c,d){for(var f=d+"Capture",m=[];c!==null;){var w=c,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=Wc(c,f),w!=null&&m.unshift(_p(c,w,E)),w=Wc(c,d),w!=null&&m.push(_p(c,w,E))),c.tag===3)return m;c=c.return}return[]}function rh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function D_(c,d,f,m,w){for(var E=d._reactName,V=[];f!==null&&f!==m;){var W=f,q=W.alternate,le=W.stateNode;if(W=W.tag,q!==null&&q===m)break;W!==5&&W!==26&&W!==27||le===null||(q=le,w?(le=Wc(f,E),le!=null&&V.unshift(_p(f,le,q))):w||(le=Wc(f,E),le!=null&&V.push(_p(f,le,q)))),f=f.return}V.length!==0&&c.push({event:d,listeners:V})}var p8=/\r\n?/g,g8=/\u0000|\uFFFD/g;function A_(c){return(typeof c=="string"?c:""+c).replace(p8,`
`).replace(g8,"")}function P_(c,d){return d=A_(d),A_(c)===d}function Py(){}function hn(c,d,f,m,w,E){switch(f){case"children":typeof m=="string"?d==="body"||d==="textarea"&&m===""||gs(c,m):(typeof m=="number"||typeof m=="bigint")&&d!=="body"&&gs(c,""+m);break;case"className":hr(c,"class",m);break;case"tabIndex":hr(c,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(c,f,m);break;case"style":Kf(c,m,E);break;case"data":if(d!=="object"){hr(c,"data",m);break}case"src":case"href":if(m===""&&(d!=="a"||f!=="href")){c.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(f);break}m=xd(""+m),c.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){c.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(f==="formAction"?(d!=="input"&&hn(c,d,"name",w.name,w,null),hn(c,d,"formEncType",w.formEncType,w,null),hn(c,d,"formMethod",w.formMethod,w,null),hn(c,d,"formTarget",w.formTarget,w,null)):(hn(c,d,"encType",w.encType,w,null),hn(c,d,"method",w.method,w,null),hn(c,d,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(f);break}m=xd(""+m),c.setAttribute(f,m);break;case"onClick":m!=null&&(c.onclick=Py);break;case"onScroll":m!=null&&kt("scroll",c);break;case"onScrollEnd":m!=null&&kt("scrollend",c);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(i(60));c.innerHTML=f}}break;case"multiple":c.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":c.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){c.removeAttribute("xlink:href");break}f=xd(""+m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(f,""+m):c.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(f,""):c.removeAttribute(f);break;case"capture":case"download":m===!0?c.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(f,m):c.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?c.setAttribute(f,m):c.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?c.removeAttribute(f):c.setAttribute(f,m);break;case"popover":kt("beforetoggle",c),kt("toggle",c),Ur(c,"popover",m);break;case"xlinkActuate":yt(c,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":yt(c,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":yt(c,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":yt(c,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":yt(c,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":yt(c,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":yt(c,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":yt(c,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":yt(c,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ur(c,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=XS.get(f)||f,Ur(c,f,m))}}function DR(c,d,f,m,w,E){switch(f){case"style":Kf(c,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(i(60));c.innerHTML=f}}break;case"children":typeof m=="string"?gs(c,m):(typeof m=="number"||typeof m=="bigint")&&gs(c,""+m);break;case"onScroll":m!=null&&kt("scroll",c);break;case"onScrollEnd":m!=null&&kt("scrollend",c);break;case"onClick":m!=null&&(c.onclick=Py);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),d=f.slice(2,w?f.length-7:void 0),E=c[Te]||null,E=E!=null?E[f]:null,typeof E=="function"&&c.removeEventListener(d,E,w),typeof m=="function")){typeof E!="function"&&E!==null&&(f in c?c[f]=null:c.hasAttribute(f)&&c.removeAttribute(f)),c.addEventListener(d,m,w);break e}f in c?c[f]=m:m===!0?c.setAttribute(f,""):Ur(c,f,m)}}}function Bi(c,d,f){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",c),kt("load",c);var m=!1,w=!1,E;for(E in f)if(f.hasOwnProperty(E)){var V=f[E];if(V!=null)switch(E){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:hn(c,d,E,V,f,null)}}w&&hn(c,d,"srcSet",f.srcSet,f,null),m&&hn(c,d,"src",f.src,f,null);return;case"input":kt("invalid",c);var W=E=V=w=null,q=null,le=null;for(m in f)if(f.hasOwnProperty(m)){var ye=f[m];if(ye!=null)switch(m){case"name":w=ye;break;case"type":V=ye;break;case"checked":q=ye;break;case"defaultChecked":le=ye;break;case"value":E=ye;break;case"defaultValue":W=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,d));break;default:hn(c,d,m,ye,f,null)}}Gc(c,E,W,q,le,V,w,!1),Rd(c);return;case"select":kt("invalid",c),m=V=E=null;for(w in f)if(f.hasOwnProperty(w)&&(W=f[w],W!=null))switch(w){case"value":E=W;break;case"defaultValue":V=W;break;case"multiple":m=W;default:hn(c,d,w,W,f,null)}d=E,f=V,c.multiple=!!m,d!=null?fa(c,!!m,d,!1):f!=null&&fa(c,!!m,f,!0);return;case"textarea":kt("invalid",c),E=w=m=null;for(V in f)if(f.hasOwnProperty(V)&&(W=f[V],W!=null))switch(V){case"value":m=W;break;case"defaultValue":w=W;break;case"children":E=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:hn(c,d,V,W,f,null)}zc(c,m,w,E),Rd(c);return;case"option":for(q in f)if(f.hasOwnProperty(q)&&(m=f[q],m!=null))switch(q){case"selected":c.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:hn(c,d,q,m,f,null)}return;case"dialog":kt("beforetoggle",c),kt("toggle",c),kt("cancel",c),kt("close",c);break;case"iframe":case"object":kt("load",c);break;case"video":case"audio":for(m=0;m<Mp.length;m++)kt(Mp[m],c);break;case"image":kt("error",c),kt("load",c);break;case"details":kt("toggle",c);break;case"embed":case"source":case"link":kt("error",c),kt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in f)if(f.hasOwnProperty(le)&&(m=f[le],m!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:hn(c,d,le,m,f,null)}return;default:if(Yf(d)){for(ye in f)f.hasOwnProperty(ye)&&(m=f[ye],m!==void 0&&DR(c,d,ye,m,f,void 0));return}}for(W in f)f.hasOwnProperty(W)&&(m=f[W],m!=null&&hn(c,d,W,m,f,null))}function m8(c,d,f,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,V=null,W=null,q=null,le=null,ye=null;for(he in f){var be=f[he];if(f.hasOwnProperty(he)&&be!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":q=be;default:m.hasOwnProperty(he)||hn(c,d,he,null,m,be)}}for(var de in m){var he=m[de];if(be=f[de],m.hasOwnProperty(de)&&(he!=null||be!=null))switch(de){case"type":E=he;break;case"name":w=he;break;case"checked":le=he;break;case"defaultChecked":ye=he;break;case"value":V=he;break;case"defaultValue":W=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(i(137,d));break;default:he!==be&&hn(c,d,de,he,m,be)}}Wr(c,V,W,q,le,ye,E,w);return;case"select":he=V=W=de=null;for(E in f)if(q=f[E],f.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":he=q;default:m.hasOwnProperty(E)||hn(c,d,E,null,m,q)}for(w in m)if(E=m[w],q=f[w],m.hasOwnProperty(w)&&(E!=null||q!=null))switch(w){case"value":de=E;break;case"defaultValue":W=E;break;case"multiple":V=E;default:E!==q&&hn(c,d,w,E,m,q)}d=W,f=V,m=he,de!=null?fa(c,!!f,de,!1):!!m!=!!f&&(d!=null?fa(c,!!f,d,!0):fa(c,!!f,f?[]:"",!1));return;case"textarea":he=de=null;for(W in f)if(w=f[W],f.hasOwnProperty(W)&&w!=null&&!m.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:hn(c,d,W,null,m,w)}for(V in m)if(w=m[V],E=f[V],m.hasOwnProperty(V)&&(w!=null||E!=null))switch(V){case"value":de=w;break;case"defaultValue":he=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==E&&hn(c,d,V,w,m,E)}un(c,de,he);return;case"option":for(var pt in f)if(de=f[pt],f.hasOwnProperty(pt)&&de!=null&&!m.hasOwnProperty(pt))switch(pt){case"selected":c.selected=!1;break;default:hn(c,d,pt,null,m,de)}for(q in m)if(de=m[q],he=f[q],m.hasOwnProperty(q)&&de!==he&&(de!=null||he!=null))switch(q){case"selected":c.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:hn(c,d,q,de,m,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in f)de=f[ot],f.hasOwnProperty(ot)&&de!=null&&!m.hasOwnProperty(ot)&&hn(c,d,ot,null,m,de);for(le in m)if(de=m[le],he=f[le],m.hasOwnProperty(le)&&de!==he&&(de!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,d));break;default:hn(c,d,le,de,m,he)}return;default:if(Yf(d)){for(var fn in f)de=f[fn],f.hasOwnProperty(fn)&&de!==void 0&&!m.hasOwnProperty(fn)&&DR(c,d,fn,void 0,m,de);for(ye in m)de=m[ye],he=f[ye],!m.hasOwnProperty(ye)||de===he||de===void 0&&he===void 0||DR(c,d,ye,de,m,he);return}}for(var re in f)de=f[re],f.hasOwnProperty(re)&&de!=null&&!m.hasOwnProperty(re)&&hn(c,d,re,null,m,de);for(be in m)de=m[be],he=f[be],!m.hasOwnProperty(be)||de===he||de==null&&he==null||hn(c,d,be,de,m,he)}var AR=null,PR=null;function Iy(c){return c.nodeType===9?c:c.ownerDocument}function I_(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function IR(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var FR=null;function v8(){var c=window.event;return c&&c.type==="popstate"?c===FR?!1:(FR=c,!0):(FR=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,y8=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,C8=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(c){return __.resolve(null).then(c).catch(w8)}:M_;function w8(c){setTimeout(function(){throw c})}function Fl(c){return c==="head"}function k_(c,d){var f=d,m=0,w=0;do{var E=f.nextSibling;if(c.removeChild(f),E&&E.nodeType===8)if(f=E.data,f==="/$"){if(0<m&&8>m){f=m;var V=c.ownerDocument;if(f&1&&kp(V.documentElement),f&2&&kp(V.body),f&4)for(f=V.head,kp(f),V=f.firstChild;V;){var W=V.nextSibling,q=V.nodeName;V[je]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&V.rel.toLowerCase()==="stylesheet"||f.removeChild(V),V=W}}if(w===0){c.removeChild(E),zp(d);return}w--}else f==="$"||f==="$?"||f==="$!"?w++:m=f.charCodeAt(0)-48;else m=0;f=E}while(f);zp(d)}function MR(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var f=d;switch(d=d.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":MR(f),$e(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}c.removeChild(f)}}function b8(c,d,f,m){for(;c.nodeType===1;){var w=f;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!m&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(m){if(!c[je])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(E=c.getAttribute("rel"),E==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(E!==w.rel||c.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||c.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||c.getAttribute("title")!==(w.title==null?null:w.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(E=c.getAttribute("src"),(E!==(w.src==null?null:w.src)||c.getAttribute("type")!==(w.type==null?null:w.type)||c.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&c.getAttribute("name")===E)return c}else return c;if(c=eo(c.nextSibling),c===null)break}return null}function S8(c,d,f){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=eo(c.nextSibling),c===null))return null;return c}function _R(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function E8(c,d){var f=c.ownerDocument;if(c.data!=="$?"||f.readyState==="complete")d();else{var m=function(){d(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),c._reactRetry=m}}function eo(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var kR=null;function O_(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var f=c.data;if(f==="$"||f==="$!"||f==="$?"){if(d===0)return c;d--}else f==="/$"&&d++}c=c.previousSibling}return null}function L_(c,d,f){switch(d=Iy(f),c){case"html":if(c=d.documentElement,!c)throw Error(i(452));return c;case"head":if(c=d.head,!c)throw Error(i(453));return c;case"body":if(c=d.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function kp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);$e(c)}var xs=new Map,N_=new Set;function Fy(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Ma=Q.d;Q.d={f:R8,r:x8,D:T8,C:D8,L:A8,m:P8,X:F8,S:I8,M:M8};function R8(){var c=Ma.f(),d=Sy();return c||d}function x8(c){var d=$t(c);d!==null&&d.tag===5&&d.type==="form"?iM(d):Ma.r(c)}var sh=typeof document>"u"?null:document;function V_(c,d,f){var m=sh;if(m&&typeof d=="string"&&d){var w=ni(d);w='link[rel="'+c+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),N_.has(w)||(N_.add(w),c={rel:c,crossOrigin:f,href:d},m.querySelector(w)===null&&(d=m.createElement("link"),Bi(d,"link",c),wt(d),m.head.appendChild(d)))}}function T8(c){Ma.D(c),V_("dns-prefetch",c,null)}function D8(c,d){Ma.C(c,d),V_("preconnect",c,d)}function A8(c,d,f){Ma.L(c,d,f);var m=sh;if(m&&c&&d){var w='link[rel="preload"][as="'+ni(d)+'"]';d==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+ni(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+ni(f.imageSizes)+'"]')):w+='[href="'+ni(c)+'"]';var E=w;switch(d){case"style":E=oh(c);break;case"script":E=ah(c)}xs.has(E)||(c=h({rel:"preload",href:d==="image"&&f&&f.imageSrcSet?void 0:c,as:d},f),xs.set(E,c),m.querySelector(w)!==null||d==="style"&&m.querySelector(Op(E))||d==="script"&&m.querySelector(Lp(E))||(d=m.createElement("link"),Bi(d,"link",c),wt(d),m.head.appendChild(d)))}}function P8(c,d){Ma.m(c,d);var f=sh;if(f&&c){var m=d&&typeof d.as=="string"?d.as:"script",w='link[rel="modulepreload"][as="'+ni(m)+'"][href="'+ni(c)+'"]',E=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=ah(c)}if(!xs.has(E)&&(c=h({rel:"modulepreload",href:c},d),xs.set(E,c),f.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Lp(E)))return}m=f.createElement("link"),Bi(m,"link",c),wt(m),f.head.appendChild(m)}}}function I8(c,d,f){Ma.S(c,d,f);var m=sh;if(m&&c){var w=Kt(m).hoistableStyles,E=oh(c);d=d||"default";var V=w.get(E);if(!V){var W={loading:0,preload:null};if(V=m.querySelector(Op(E)))W.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},f),(f=xs.get(E))&&OR(c,f);var q=V=m.createElement("link");wt(q),Bi(q,"link",c),q._p=new Promise(function(le,ye){q.onload=le,q.onerror=ye}),q.addEventListener("load",function(){W.loading|=1}),q.addEventListener("error",function(){W.loading|=2}),W.loading|=4,My(V,d,m)}V={type:"stylesheet",instance:V,count:1,state:W},w.set(E,V)}}}function F8(c,d){Ma.X(c,d);var f=sh;if(f&&c){var m=Kt(f).hoistableScripts,w=ah(c),E=m.get(w);E||(E=f.querySelector(Lp(w)),E||(c=h({src:c,async:!0},d),(d=xs.get(w))&&LR(c,d),E=f.createElement("script"),wt(E),Bi(E,"link",c),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function M8(c,d){Ma.M(c,d);var f=sh;if(f&&c){var m=Kt(f).hoistableScripts,w=ah(c),E=m.get(w);E||(E=f.querySelector(Lp(w)),E||(c=h({src:c,async:!0,type:"module"},d),(d=xs.get(w))&&LR(c,d),E=f.createElement("script"),wt(E),Bi(E,"link",c),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function B_(c,d,f,m){var w=(w=xe.current)?Fy(w):null;if(!w)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(d=oh(f.href),f=Kt(w).hoistableStyles,m=f.get(d),m||(m={type:"style",instance:null,count:0,state:null},f.set(d,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){c=oh(f.href);var E=Kt(w).hoistableStyles,V=E.get(c);if(V||(w=w.ownerDocument||w,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(c,V),(E=w.querySelector(Op(c)))&&!E._p&&(V.instance=E,V.state.loading=5),xs.has(c)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},xs.set(c,f),E||_8(w,c,f,V.state))),d&&m===null)throw Error(i(528,""));return V}if(d&&m!==null)throw Error(i(529,""));return null;case"script":return d=f.async,f=f.src,typeof f=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=ah(f),f=Kt(w).hoistableScripts,m=f.get(d),m||(m={type:"script",instance:null,count:0,state:null},f.set(d,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function oh(c){return'href="'+ni(c)+'"'}function Op(c){return'link[rel="stylesheet"]['+c+"]"}function H_(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function _8(c,d,f,m){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?m.loading=1:(d=c.createElement("link"),m.preload=d,d.addEventListener("load",function(){return m.loading|=1}),d.addEventListener("error",function(){return m.loading|=2}),Bi(d,"link",f),wt(d),c.head.appendChild(d))}function ah(c){return'[src="'+ni(c)+'"]'}function Lp(c){return"script[async]"+c}function G_(c,d,f){if(d.count++,d.instance===null)switch(d.type){case"style":var m=c.querySelector('style[data-href~="'+ni(f.href)+'"]');if(m)return d.instance=m,wt(m),m;var w=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(c.ownerDocument||c).createElement("style"),wt(m),Bi(m,"style",w),My(m,f.precedence,c),d.instance=m;case"stylesheet":w=oh(f.href);var E=c.querySelector(Op(w));if(E)return d.state.loading|=4,d.instance=E,wt(E),E;m=H_(f),(w=xs.get(w))&&OR(m,w),E=(c.ownerDocument||c).createElement("link"),wt(E);var V=E;return V._p=new Promise(function(W,q){V.onload=W,V.onerror=q}),Bi(E,"link",m),d.state.loading|=4,My(E,f.precedence,c),d.instance=E;case"script":return E=ah(f.src),(w=c.querySelector(Lp(E)))?(d.instance=w,wt(w),w):(m=f,(w=xs.get(E))&&(m=h({},f),LR(m,w)),c=c.ownerDocument||c,w=c.createElement("script"),wt(w),Bi(w,"link",m),c.head.appendChild(w),d.instance=w);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(m=d.instance,d.state.loading|=4,My(m,f.precedence,c));return d.instance}function My(c,d,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,E=w,V=0;V<m.length;V++){var W=m[V];if(W.dataset.precedence===d)E=W;else if(E!==w)break}E?E.parentNode.insertBefore(c,E.nextSibling):(d=f.nodeType===9?f.head:f,d.insertBefore(c,d.firstChild))}function OR(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function LR(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var _y=null;function z_(c,d,f){if(_y===null){var m=new Map,w=_y=new Map;w.set(f,m)}else w=_y,m=w.get(f),m||(m=new Map,w.set(f,m));if(m.has(c))return m;for(m.set(c,null),f=f.getElementsByTagName(c),w=0;w<f.length;w++){var E=f[w];if(!(E[je]||E[Se]||c==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var V=E.getAttribute(d)||"";V=c+V;var W=m.get(V);W?W.push(E):m.set(V,[E])}}return m}function U_(c,d,f){c=c.ownerDocument||c,c.head.insertBefore(f,d==="title"?c.querySelector("head > title"):null)}function k8(c,d,f){if(f===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function W_(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Np=null;function O8(){}function L8(c,d,f){if(Np===null)throw Error(i(475));var m=Np;if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=oh(f.href),E=c.querySelector(Op(w));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(m.count++,m=ky.bind(m),c.then(m,m)),d.state.loading|=4,d.instance=E,wt(E);return}E=c.ownerDocument||c,f=H_(f),(w=xs.get(w))&&OR(f,w),E=E.createElement("link"),wt(E);var V=E;V._p=new Promise(function(W,q){V.onload=W,V.onerror=q}),Bi(E,"link",f),d.instance=E}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(m.count++,d=ky.bind(m),c.addEventListener("load",d),c.addEventListener("error",d))}}function N8(){if(Np===null)throw Error(i(475));var c=Np;return c.stylesheets&&c.count===0&&NR(c,c.stylesheets),0<c.count?function(d){var f=setTimeout(function(){if(c.stylesheets&&NR(c,c.stylesheets),c.unsuspend){var m=c.unsuspend;c.unsuspend=null,m()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(f)}}:null}function ky(){if(this.count--,this.count===0){if(this.stylesheets)NR(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Oy=null;function NR(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Oy=new Map,d.forEach(V8,c),Oy=null,ky.call(c))}function V8(c,d){if(!(d.state.loading&4)){var f=Oy.get(c);if(f)var m=f.get(null);else{f=new Map,Oy.set(c,f);for(var w=c.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var V=w[E];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(f.set(V.dataset.precedence,V),m=V)}m&&f.set(null,m)}w=d.instance,V=w.getAttribute("data-precedence"),E=f.get(V)||m,E===m&&f.set(null,w),f.set(V,w),this.count++,m=ky.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),E?E.parentNode.insertBefore(w,E.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(w,c.firstChild)),d.state.loading|=4}}var Vp={$$typeof:T,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function B8(c,d,f,m,w,E,V,W){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function j_(c,d,f,m,w,E,V,W,q,le,ye,be){return c=new B8(c,d,f,V,W,q,le,be),d=1,E===!0&&(d|=24),E=$r(3,null,null,d),c.current=E,E.stateNode=c,d=yE(),d.refCount++,c.pooledCache=d,d.refCount++,E.memoizedState={element:m,isDehydrated:f,cache:d},SE(E),c}function $_(c){return c?(c=Vd,c):Vd}function q_(c,d,f,m,w,E){w=$_(w),m.context===null?m.context=w:m.pendingContext=w,m=yl(d),m.payload={element:f},E=E===void 0?null:E,E!==null&&(m.callback=E),f=Cl(c,m,d),f!==null&&(Qr(f,c,d),pp(f,c,d))}function K_(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var f=c.retryLane;c.retryLane=f!==0&&f<d?f:d}}function VR(c,d){K_(c,d),(c=c.alternate)&&K_(c,d)}function Y_(c){if(c.tag===13){var d=Nd(c,67108864);d!==null&&Qr(d,c,67108864),VR(c,67108864)}}var Ly=!0;function H8(c,d,f,m){var w=$.T;$.T=null;var E=Q.p;try{Q.p=2,BR(c,d,f,m)}finally{Q.p=E,$.T=w}}function G8(c,d,f,m){var w=$.T;$.T=null;var E=Q.p;try{Q.p=8,BR(c,d,f,m)}finally{Q.p=E,$.T=w}}function BR(c,d,f,m){if(Ly){var w=HR(m);if(w===null)TR(c,d,m,Ny,f),Q_(c,m);else if(U8(w,c,d,f,m))m.stopPropagation();else if(Q_(c,m),d&4&&-1<z8.indexOf(c)){for(;w!==null;){var E=$t(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var V=hi(E.pendingLanes);if(V!==0){var W=E;for(W.pendingLanes|=2,W.entangledLanes|=2;V;){var q=1<<31-Ve(V);W.entanglements[1]|=q,V&=~q}Po(E),(ln&6)===0&&(wy=Ne()+500,Fp(0))}}break;case 13:W=Nd(E,2),W!==null&&Qr(W,E,2),Sy(),VR(E,2)}if(E=HR(m),E===null&&TR(c,d,m,Ny,f),E===w)break;w=E}w!==null&&m.stopPropagation()}else TR(c,d,m,null,f)}}function HR(c){return c=ms(c),GR(c)}var Ny=null;function GR(c){if(Ny=null,c=Rt(c),c!==null){var d=s(c);if(d===null)c=null;else{var f=d.tag;if(f===13){if(c=o(d),c!==null)return c;c=null}else if(f===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Ny=c,null}function X_(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case xt:return 2;case st:return 8;case St:case Et:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var zR=!1,Ml=null,_l=null,kl=null,Bp=new Map,Hp=new Map,Ol=[],z8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(c,d){switch(c){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":Bp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hp.delete(d.pointerId)}}function Gp(c,d,f,m,w,E){return c===null||c.nativeEvent!==E?(c={blockedOn:d,domEventName:f,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},d!==null&&(d=$t(d),d!==null&&Y_(d)),c):(c.eventSystemFlags|=m,d=c.targetContainers,w!==null&&d.indexOf(w)===-1&&d.push(w),c)}function U8(c,d,f,m,w){switch(d){case"focusin":return Ml=Gp(Ml,c,d,f,m,w),!0;case"dragenter":return _l=Gp(_l,c,d,f,m,w),!0;case"mouseover":return kl=Gp(kl,c,d,f,m,w),!0;case"pointerover":var E=w.pointerId;return Bp.set(E,Gp(Bp.get(E)||null,c,d,f,m,w)),!0;case"gotpointercapture":return E=w.pointerId,Hp.set(E,Gp(Hp.get(E)||null,c,d,f,m,w)),!0}return!1}function Z_(c){var d=Rt(c.target);if(d!==null){var f=s(d);if(f!==null){if(d=f.tag,d===13){if(d=o(f),d!==null){c.blockedOn=d,se(c.priority,function(){if(f.tag===13){var m=Xr();m=vo(m);var w=Nd(f,m);w!==null&&Qr(w,f,m),VR(f,m)}});return}}else if(d===3&&f.stateNode.current.memoizedState.isDehydrated){c.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Vy(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var f=HR(c.nativeEvent);if(f===null){f=c.nativeEvent;var m=new f.constructor(f.type,f);pa=m,f.target.dispatchEvent(m),pa=null}else return d=$t(f),d!==null&&Y_(d),c.blockedOn=f,!1;d.shift()}return!0}function J_(c,d,f){Vy(c)&&f.delete(d)}function W8(){zR=!1,Ml!==null&&Vy(Ml)&&(Ml=null),_l!==null&&Vy(_l)&&(_l=null),kl!==null&&Vy(kl)&&(kl=null),Bp.forEach(J_),Hp.forEach(J_)}function By(c,d){c.blockedOn===d&&(c.blockedOn=null,zR||(zR=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W8)))}var Hy=null;function ek(c){Hy!==c&&(Hy=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hy===c&&(Hy=null);for(var d=0;d<c.length;d+=3){var f=c[d],m=c[d+1],w=c[d+2];if(typeof m!="function"){if(GR(m||f)===null)continue;break}var E=$t(f);E!==null&&(c.splice(d,3),d-=3,GE(E,{pending:!0,data:w,method:f.method,action:m},m,w))}}))}function zp(c){function d(q){return By(q,c)}Ml!==null&&By(Ml,c),_l!==null&&By(_l,c),kl!==null&&By(kl,c),Bp.forEach(d),Hp.forEach(d);for(var f=0;f<Ol.length;f++){var m=Ol[f];m.blockedOn===c&&(m.blockedOn=null)}for(;0<Ol.length&&(f=Ol[0],f.blockedOn===null);)Z_(f),f.blockedOn===null&&Ol.shift();if(f=(c.ownerDocument||c).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var w=f[m],E=f[m+1],V=w[Te]||null;if(typeof E=="function")V||ek(f);else if(V){var W=null;if(E&&E.hasAttribute("formAction")){if(w=E,V=E[Te]||null)W=V.formAction;else if(GR(w)!==null)continue}else W=V.action;typeof W=="function"?f[m+1]=W:(f.splice(m,3),m-=3),ek(f)}}}function UR(c){this._internalRoot=c}Gy.prototype.render=UR.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(i(409));var f=d.current,m=Xr();q_(f,m,c,d,null,null)},Gy.prototype.unmount=UR.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;q_(c.current,2,null,c,null,null),Sy(),d[Be]=null}};function Gy(c){this._internalRoot=c}Gy.prototype.unstable_scheduleHydration=function(c){if(c){var d=Y();c={blockedOn:null,target:c,priority:d};for(var f=0;f<Ol.length&&d!==0&&d<Ol[f].priority;f++);Ol.splice(f,0,c),f===0&&Z_(c)}};var tk=t.version;if(tk!=="19.1.1")throw Error(i(527,tk,"19.1.1"));Q.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=l(d),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var j8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zy.isDisabled&&zy.supportsFiber)try{te=zy.inject(j8),ve=zy}catch{}}return Wp.createRoot=function(c,d){if(!r(c))throw Error(i(299));var f=!1,m="",w=vM,E=yM,V=CM,W=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(m=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(E=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(W=d.unstable_transitionCallbacks)),d=j_(c,1,!1,null,null,f,m,w,E,V,W,null),c[Be]=d.current,xR(c),new UR(d)},Wp.hydrateRoot=function(c,d,f){if(!r(c))throw Error(i(299));var m=!1,w="",E=vM,V=yM,W=CM,q=null,le=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(E=f.onUncaughtError),f.onCaughtError!==void 0&&(V=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(q=f.unstable_transitionCallbacks),f.formState!==void 0&&(le=f.formState)),d=j_(c,1,!0,d,f??null,m,w,E,V,W,q,le),d.context=$_(null),f=d.current,m=Xr(),m=vo(m),w=yl(m),w.callback=null,Cl(f,w,m),f=m,d.current.lanes=f,Ys(d,f),Po(d),c[Be]=d.current,xR(c),new Gy(d)},Wp.version="19.1.1",Wp}var dk;function eq(){if(dk)return $R.exports;dk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$R.exports=J8(),$R.exports}var tq=eq();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SH=e=>{throw TypeError(e)},nq=(e,t,n)=>t.has(e)||SH("Cannot "+n),XR=(e,t,n)=>(nq(e,t,"read from private field"),n?n.call(e):t.get(e)),iq=(e,t,n)=>t.has(e)?SH("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),hk="popstate";function rq(e={}){function t(r,s){let{pathname:o="/",search:a="",hash:l=""}=sl(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Yg("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:uc(s))}function i(r,s){Un(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return oq(t,n,i,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Un(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sq(){return Math.random().toString(36).substring(2,10)}function fk(e,t){return{usr:e.state,key:e.key,idx:t}}function Yg(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sl(t):t,state:n,key:t&&t.key||i||sq()}}function uc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function oq(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let R=h(),x=R==null?null:R-u;u=R,l&&l({action:a,location:S.location,delta:x})}function g(R,x){a="PUSH";let D=Yg(S.location,R,x);n&&n(D,R),u=h()+1;let T=fk(D,u),k=S.createHref(D);try{o.pushState(T,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(k)}s&&l&&l({action:a,location:S.location,delta:1})}function v(R,x){a="REPLACE";let D=Yg(S.location,R,x);n&&n(D,R),u=h();let T=fk(D,u),k=S.createHref(D);o.replaceState(T,"",k),s&&l&&l({action:a,location:S.location,delta:0})}function C(R){return EH(R)}let S={get action(){return a},get location(){return e(r,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(hk,p),l=R,()=>{r.removeEventListener(hk,p),l=null}},createHref(R){return t(r,R)},createURL:C,encodeLocation(R){let x=C(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(R){return o.go(R)}};return S}function EH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:uc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var ug,pk=class{constructor(e){if(iq(this,ug,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(XR(this,ug).has(e))return XR(this,ug).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){XR(this,ug).set(e,t)}};ug=new WeakMap;var aq=new Set(["lazy","caseSensitive","path","id","index","children"]);function lq(e){return aq.has(e)}var cq=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function uq(e){return cq.has(e)}function dq(e){return e.index===!0}function Xg(e,t,n=[],i={},r=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Ft(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ft(r||!i[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),dq(s)){let u={...s,...t(s),id:l};return i[l]=u,u}else{let u={...s,...t(s),id:l,children:void 0};return i[l]=u,s.children&&(u.children=Xg(s.children,t,a,i,r)),u}})}function ql(e,t,n="/"){return TC(e,t,n,!1)}function TC(e,t,n,i){let r=typeof t=="string"?sl(t):t,s=Us(r.pathname||"/",n);if(s==null)return null;let o=RH(e);fq(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Rq(s);a=Sq(o[l],u,i)}return a}function hq(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}function RH(e,t=[],n=[],i=""){let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ft(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let u=Go([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ft(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),RH(s.children,t,h,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:wq(u,s.index),routesMeta:h})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))r(s,o);else for(let a of xH(s.path))r(s,o,a)}),t}function xH(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=xH(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function fq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bq(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var pq=/^:[\w-]+$/,gq=3,mq=2,vq=1,yq=10,Cq=-2,gk=e=>e==="*";function wq(e,t){let n=e.split("/"),i=n.length;return n.some(gk)&&(i+=Cq),t&&(i+=mq),n.filter(r=>!gk(r)).reduce((r,s)=>r+(pq.test(s)?gq:s===""?vq:yq),i)}function bq(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function Sq(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=cw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!p&&u&&n&&!i[i.length-1].route.index&&(p=cw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Go([s,p.pathname]),pathnameBase:Aq(Go([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Go([s,p.pathnameBase]))}return o}function cw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Eq(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:p},g)=>{if(h==="*"){let C=a[g]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=a[g];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Eq(e,t=!1,n=!0){Un(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function Rq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Us(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function xq({basename:e,pathname:t}){return t==="/"?e:Go([e,t])}function Tq(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?sl(e):e;return{pathname:n?n.startsWith("/")?n:Dq(n,t):t,search:Pq(i),hash:Iq(r)}}function Dq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function QR(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ab(e){let t=TH(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Pb(e,t,n,i=!1){let r;typeof e=="string"?r=sl(e):(r={...e},Ft(!r.pathname||!r.pathname.includes("?"),QR("?","pathname","search",r)),Ft(!r.pathname||!r.pathname.includes("#"),QR("#","pathname","hash",r)),Ft(!r.search||!r.search.includes("#"),QR("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=Tq(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Go=e=>e.join("/").replace(/\/\/+/g,"/"),Aq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Iq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,uw=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Qg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var DH=["POST","PUT","PATCH","DELETE"],Fq=new Set(DH),Mq=["GET",...DH],_q=new Set(Mq),kq=new Set([301,302,303,307,308]),Oq=new Set([307,308]),ZR={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lq={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Nq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tA=e=>Nq.test(e),Vq=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),AH="remix-router-transitions",PH=Symbol("ResetLoaderData");function Bq(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ft(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],r=e.mapRouteProperties||Vq,s={},o=Xg(e.routes,r,void 0,s),a,l=e.basename||"/",u=e.dataStrategy||Wq,h={unstable_middleware:!1,...e.future},p=null,g=new Set,v=null,C=null,S=null,R=e.hydrationData!=null,x=ql(o,e.history.location,l),D=!1,T=null,k;if(x==null&&!e.patchRoutesOnNavigation){let Y=Fs(404,{pathname:e.history.location.pathname}),{matches:se,route:ce}=Dk(o);k=!0,x=se,T={[ce.id]:Y}}else if(x&&!e.hydrationData&&ur(x,o,e.history.location.pathname).active&&(x=null),x)if(x.some(Y=>Y.route.lazy))k=!1;else if(!x.some(Y=>Y.route.loader))k=!0;else{let Y=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let ce=x.findIndex(Se=>se[Se.route.id]!==void 0);k=x.slice(0,ce+1).every(Se=>!Wx(Se.route,Y,se))}else k=x.every(ce=>!Wx(ce.route,Y,se))}else{k=!1,x=[];let Y=ur(null,o,e.history.location.pathname);Y.active&&Y.matches&&(D=!0,x=Y.matches)}let L,P={historyAction:e.history.action,location:e.history.location,matches:x,initialized:k,navigation:ZR,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},_="POP",M=!1,N,B=!1,H=new Map,U=null,G=!1,J=!1,ie=new Set,$=new Map,Q=0,ee=-1,fe=new Map,F=new Set,X=new Map,ne=new Map,z=new Set,pe=new Map,De,xe=null;function lt(){if(p=e.history.listen(({action:Y,location:se,delta:ce})=>{if(De){De(),De=void 0;return}Un(pe.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Si({currentLocation:P.location,nextLocation:se,historyAction:Y});if(Se&&ce!=null){let Te=new Promise(Be=>{De=Be});e.history.go(ce*-1),fi(Se,{state:"blocked",location:se,proceed(){fi(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Te.then(()=>e.history.go(ce))},reset(){let Be=new Map(P.blockers);Be.set(Se,jp),nt({blockers:Be})}});return}return ke(Y,se)}),n){tK(t,H);let Y=()=>nK(t,H);t.addEventListener("pagehide",Y),U=()=>t.removeEventListener("pagehide",Y)}return P.initialized||ke("POP",P.location,{initialHydration:!0}),L}function qe(){p&&p(),U&&U(),g.clear(),N&&N.abort(),P.fetchers.forEach((Y,se)=>Ve(se)),P.blockers.forEach((Y,se)=>Mn(se))}function ze(Y){return g.add(Y),()=>g.delete(Y)}function nt(Y,se={}){Y.matches&&(Y.matches=Y.matches.map(Te=>{let Be=s[Te.route.id],Ke=Te.route;return Ke.element!==Be.element||Ke.errorElement!==Be.errorElement||Ke.hydrateFallbackElement!==Be.hydrateFallbackElement?{...Te,route:Be}:Te})),P={...P,...Y};let ce=[],Se=[];P.fetchers.forEach((Te,Be)=>{Te.state==="idle"&&(z.has(Be)?ce.push(Be):Se.push(Be))}),z.forEach(Te=>{!P.fetchers.has(Te)&&!$.has(Te)&&ce.push(Te)}),[...g].forEach(Te=>Te(P,{deletedFetchers:ce,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),ce.forEach(Te=>Ve(Te)),Se.forEach(Te=>P.fetchers.delete(Te))}function ct(Y,se,{flushSync:ce}={}){let Se=P.actionData!=null&&P.navigation.formMethod!=null&&Fr(P.navigation.formMethod)&&P.navigation.state==="loading"&&Y.state?._isRedirect!==!0,Te;se.actionData?Object.keys(se.actionData).length>0?Te=se.actionData:Te=null:Se?Te=P.actionData:Te=null;let Be=se.loaderData?xk(P.loaderData,se.loaderData,se.matches||[],se.errors):P.loaderData,Ke=P.blockers;Ke.size>0&&(Ke=new Map(Ke),Ke.forEach((je,$e)=>Ke.set($e,jp)));let Ue=G?!1:cl(Y,se.matches||P.matches),We=M===!0||P.navigation.formMethod!=null&&Fr(P.navigation.formMethod)&&Y.state?._isRedirect!==!0;a&&(o=a,a=void 0),G||_==="POP"||(_==="PUSH"?e.history.push(Y,Y.state):_==="REPLACE"&&e.history.replace(Y,Y.state));let rt;if(_==="POP"){let je=H.get(P.location.pathname);je&&je.has(Y.pathname)?rt={currentLocation:P.location,nextLocation:Y}:H.has(Y.pathname)&&(rt={currentLocation:Y,nextLocation:P.location})}else if(B){let je=H.get(P.location.pathname);je?je.add(Y.pathname):(je=new Set([Y.pathname]),H.set(P.location.pathname,je)),rt={currentLocation:P.location,nextLocation:Y}}nt({...se,actionData:Te,loaderData:Be,historyAction:_,location:Y,initialized:!0,navigation:ZR,revalidation:"idle",restoreScrollPosition:Ue,preventScrollReset:We,blockers:Ke},{viewTransitionOpts:rt,flushSync:ce===!0}),_="POP",M=!1,B=!1,G=!1,J=!1,xe?.resolve(),xe=null}async function mt(Y,se){if(typeof Y=="number"){e.history.go(Y);return}let ce=Ux(P.location,P.matches,l,Y,se?.fromRouteId,se?.relative),{path:Se,submission:Te,error:Be}=mk(!1,ce,se),Ke=P.location,Ue=Yg(P.location,Se,se&&se.state);Ue={...Ue,...e.history.encodeLocation(Ue)};let We=se&&se.replace!=null?se.replace:void 0,rt="PUSH";We===!0?rt="REPLACE":We===!1||Te!=null&&Fr(Te.formMethod)&&Te.formAction===P.location.pathname+P.location.search&&(rt="REPLACE");let je=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,$e=(se&&se.flushSync)===!0,Rt=Si({currentLocation:Ke,nextLocation:Ue,historyAction:rt});if(Rt){fi(Rt,{state:"blocked",location:Ue,proceed(){fi(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),mt(Y,se)},reset(){let $t=new Map(P.blockers);$t.set(Rt,jp),nt({blockers:$t})}});return}await ke(rt,Ue,{submission:Te,pendingError:Be,preventScrollReset:je,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:$e})}function Ot(){xe||(xe=iK()),Vn(),nt({revalidation:"loading"});let Y=xe.promise;return P.navigation.state==="submitting"?Y:P.navigation.state==="idle"?(ke(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),Y):(ke(_||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:B===!0}),Y)}async function ke(Y,se,ce){N&&N.abort(),N=null,_=Y,G=(ce&&ce.startUninterruptedRevalidation)===!0,Ys(P.location,P.matches),M=(ce&&ce.preventScrollReset)===!0,B=(ce&&ce.enableViewTransition)===!0;let Se=a||o,Te=ce&&ce.overrideNavigation,Be=ce?.initialHydration&&P.matches&&P.matches.length>0&&!D?P.matches:ql(Se,se,l),Ke=(ce&&ce.flushSync)===!0;if(Be&&P.initialized&&!J&&Xq(P.location,se)&&!(ce&&ce.submission&&Fr(ce.submission.formMethod))){ct(se,{matches:Be},{flushSync:Ke});return}let Ue=ur(Be,Se,se.pathname);if(Ue.active&&Ue.matches&&(Be=Ue.matches),!Be){let{error:Kt,notFoundMatches:wt,route:Yt}=da(se.pathname);ct(se,{matches:wt,loaderData:{},errors:{[Yt.id]:Kt}},{flushSync:Ke});return}N=new AbortController;let We=gh(e.history,se,N.signal,ce&&ce.submission),rt=new pk(e.unstable_getContext?await e.unstable_getContext():void 0),je;if(ce&&ce.pendingError)je=[bu(Be).route.id,{type:"error",error:ce.pendingError}];else if(ce&&ce.submission&&Fr(ce.submission.formMethod)){let Kt=await Le(We,se,ce.submission,Be,rt,Ue.active,ce&&ce.initialHydration===!0,{replace:ce.replace,flushSync:Ke});if(Kt.shortCircuited)return;if(Kt.pendingActionResult){let[wt,Yt]=Kt.pendingActionResult;if(Jr(Yt)&&Qg(Yt.error)&&Yt.error.status===404){N=null,ct(se,{matches:Kt.matches,loaderData:{},errors:{[wt]:Yt.error}});return}}Be=Kt.matches||Be,je=Kt.pendingActionResult,Te=JR(se,ce.submission),Ke=!1,Ue.active=!1,We=gh(e.history,We.url,We.signal)}let{shortCircuited:$e,matches:Rt,loaderData:$t,errors:vn}=await Qe(We,se,Be,rt,Ue.active,Te,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,ce&&ce.initialHydration===!0,Ke,je);$e||(N=null,ct(se,{matches:Rt||Be,...Tk(je),loaderData:$t,errors:vn}))}async function Le(Y,se,ce,Se,Te,Be,Ke,Ue={}){Vn();let We=Jq(se,ce);if(nt({navigation:We},{flushSync:Ue.flushSync===!0}),Be){let $e=await mo(Se,se.pathname,Y.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let Rt=bu($e.partialMatches).route.id;return{matches:$e.partialMatches,pendingActionResult:[Rt,{type:"error",error:$e.error}]}}else if($e.matches)Se=$e.matches;else{let{notFoundMatches:Rt,error:$t,route:vn}=da(se.pathname);return{matches:Rt,pendingActionResult:[vn.id,{type:"error",error:$t}]}}}let rt,je=DC(Se,se);if(!je.route.action&&!je.route.lazy)rt={type:"error",error:Fs(405,{method:Y.method,pathname:se.pathname,routeId:je.route.id})};else{let $e=Ph(r,s,Y,Se,je,Ke?[]:i,Te),Rt=await Mt(Y,$e,Te,null);if(rt=Rt[je.route.id],!rt){for(let $t of Se)if(Rt[$t.route.id]){rt=Rt[$t.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(Eu(rt)){let $e;return Ue&&Ue.replace!=null?$e=Ue.replace:$e=Sk(rt.response.headers.get("Location"),new URL(Y.url),l)===P.location.pathname+P.location.search,await Et(Y,rt,!0,{submission:ce,replace:$e}),{shortCircuited:!0}}if(Jr(rt)){let $e=bu(Se,je.route.id);return(Ue&&Ue.replace)!==!0&&(_="PUSH"),{matches:Se,pendingActionResult:[$e.route.id,rt,je.route.id]}}return{matches:Se,pendingActionResult:[je.route.id,rt]}}async function Qe(Y,se,ce,Se,Te,Be,Ke,Ue,We,rt,je,$e){let Rt=Be||JR(se,Ke),$t=Ke||Ue||Pk(Rt),vn=!G&&!rt;if(Te){if(vn){let An=Ne($e);nt({navigation:Rt,...An!==void 0?{actionData:An}:{}},{flushSync:je})}let yt=await mo(ce,se.pathname,Y.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){let An=bu(yt.partialMatches).route.id;return{matches:yt.partialMatches,loaderData:{},errors:{[An]:yt.error}}}else if(yt.matches)ce=yt.matches;else{let{error:An,notFoundMatches:ha,route:fr}=da(se.pathname);return{matches:ha,loaderData:{},errors:{[fr.id]:An}}}}let Kt=a||o,{dsMatches:wt,revalidatingFetchers:Yt}=vk(Y,Se,r,s,e.history,P,ce,$t,se,rt?[]:i,rt===!0,J,ie,z,X,F,Kt,l,e.patchRoutesOnNavigation!=null,$e);if(ee=++Q,!e.dataStrategy&&!wt.some(yt=>yt.shouldLoad)&&Yt.length===0){let yt=ti();return ct(se,{matches:ce,loaderData:{},errors:$e&&Jr($e[1])?{[$e[0]]:$e[1].error}:null,...Tk($e),...yt?{fetchers:new Map(P.fetchers)}:{}},{flushSync:je}),{shortCircuited:!0}}if(vn){let yt={};if(!Te){yt.navigation=Rt;let An=Ne($e);An!==void 0&&(yt.actionData=An)}Yt.length>0&&(yt.fetchers=Ze(Yt)),nt(yt,{flushSync:je})}Yt.forEach(yt=>{Dn(yt.key),yt.controller&&$.set(yt.key,yt.controller)});let Rr=()=>Yt.forEach(yt=>Dn(yt.key));N&&N.signal.addEventListener("abort",Rr);let{loaderResults:Oi,fetcherResults:Ei}=await mn(wt,Yt,Y,Se);if(Y.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Rr),Yt.forEach(yt=>$.delete(yt.key));let dr=Uy(Oi);if(dr)return await Et(Y,dr.result,!0,{replace:We}),{shortCircuited:!0};if(dr=Uy(Ei),dr)return F.add(dr.key),await Et(Y,dr.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:dl,errors:zr}=Rk(P,ce,Oi,$e,Yt,Ei);rt&&P.errors&&(zr={...P.errors,...zr});let ps=ti(),Ur=Qi(ee),hr=ps||Ur||Yt.length>0;return{matches:ce,loaderData:dl,errors:zr,...hr?{fetchers:new Map(P.fetchers)}:{}}}function Ne(Y){if(Y&&!Jr(Y[1]))return{[Y[0]]:Y[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Ze(Y){return Y.forEach(se=>{let ce=P.fetchers.get(se.key),Se=$p(void 0,ce?ce.data:void 0);P.fetchers.set(se.key,Se)}),new Map(P.fetchers)}async function xt(Y,se,ce,Se){Dn(Y);let Te=(Se&&Se.flushSync)===!0,Be=a||o,Ke=Ux(P.location,P.matches,l,ce,se,Se?.relative),Ue=ql(Be,Ke,l),We=ur(Ue,Be,Ke);if(We.active&&We.matches&&(Ue=We.matches),!Ue){ve(Y,se,Fs(404,{pathname:Ke}),{flushSync:Te});return}let{path:rt,submission:je,error:$e}=mk(!0,Ke,Se);if($e){ve(Y,se,$e,{flushSync:Te});return}let Rt=new pk(e.unstable_getContext?await e.unstable_getContext():void 0),$t=(Se&&Se.preventScrollReset)===!0;if(je&&Fr(je.formMethod)){await st(Y,se,rt,Ue,Rt,We.active,Te,$t,je);return}X.set(Y,{routeId:se,path:rt}),await St(Y,se,rt,Ue,Rt,We.active,Te,$t,je)}async function st(Y,se,ce,Se,Te,Be,Ke,Ue,We){Vn(),X.delete(Y);let rt=P.fetchers.get(Y);te(Y,eK(We,rt),{flushSync:Ke});let je=new AbortController,$e=gh(e.history,ce,je.signal,We);if(Be){let Cn=await mo(Se,new URL($e.url).pathname,$e.signal,Y);if(Cn.type==="aborted")return;if(Cn.type==="error"){ve(Y,se,Cn.error,{flushSync:Ke});return}else if(Cn.matches)Se=Cn.matches;else{ve(Y,se,Fs(404,{pathname:ce}),{flushSync:Ke});return}}let Rt=DC(Se,ce);if(!Rt.route.action&&!Rt.route.lazy){let Cn=Fs(405,{method:We.formMethod,pathname:ce,routeId:se});ve(Y,se,Cn,{flushSync:Ke});return}$.set(Y,je);let $t=Q,vn=Ph(r,s,$e,Se,Rt,i,Te),wt=(await Mt($e,vn,Te,Y))[Rt.route.id];if($e.signal.aborted){$.get(Y)===je&&$.delete(Y);return}if(z.has(Y)){if(Eu(wt)||Jr(wt)){te(Y,Ul(void 0));return}}else{if(Eu(wt))if($.delete(Y),ee>$t){te(Y,Ul(void 0));return}else return F.add(Y),te(Y,$p(We)),Et($e,wt,!1,{fetcherSubmission:We,preventScrollReset:Ue});if(Jr(wt)){ve(Y,se,wt.error);return}}let Yt=P.navigation.location||P.location,Rr=gh(e.history,Yt,je.signal),Oi=a||o,Ei=P.navigation.state!=="idle"?ql(Oi,P.navigation.location,l):P.matches;Ft(Ei,"Didn't find any matches after fetcher action");let dr=++Q;fe.set(Y,dr);let dl=$p(We,wt.data);P.fetchers.set(Y,dl);let{dsMatches:zr,revalidatingFetchers:ps}=vk(Rr,Te,r,s,e.history,P,Ei,We,Yt,i,!1,J,ie,z,X,F,Oi,l,e.patchRoutesOnNavigation!=null,[Rt.route.id,wt]);ps.filter(Cn=>Cn.key!==Y).forEach(Cn=>{let Xs=Cn.key,hl=P.fetchers.get(Xs),fl=$p(void 0,hl?hl.data:void 0);P.fetchers.set(Xs,fl),Dn(Xs),Cn.controller&&$.set(Xs,Cn.controller)}),nt({fetchers:new Map(P.fetchers)});let Ur=()=>ps.forEach(Cn=>Dn(Cn.key));je.signal.addEventListener("abort",Ur);let{loaderResults:hr,fetcherResults:yt}=await mn(zr,ps,Rr,Te);if(je.signal.aborted)return;if(je.signal.removeEventListener("abort",Ur),fe.delete(Y),$.delete(Y),ps.forEach(Cn=>$.delete(Cn.key)),P.fetchers.has(Y)){let Cn=Ul(wt.data);P.fetchers.set(Y,Cn)}let An=Uy(hr);if(An)return Et(Rr,An.result,!1,{preventScrollReset:Ue});if(An=Uy(yt),An)return F.add(An.key),Et(Rr,An.result,!1,{preventScrollReset:Ue});let{loaderData:ha,errors:fr}=Rk(P,Ei,hr,void 0,ps,yt);Qi(dr),P.navigation.state==="loading"&&dr>ee?(Ft(_,"Expected pending action"),N&&N.abort(),ct(P.navigation.location,{matches:Ei,loaderData:ha,errors:fr,fetchers:new Map(P.fetchers)})):(nt({errors:fr,loaderData:xk(P.loaderData,ha,Ei,fr),fetchers:new Map(P.fetchers)}),J=!1)}async function St(Y,se,ce,Se,Te,Be,Ke,Ue,We){let rt=P.fetchers.get(Y);te(Y,$p(We,rt?rt.data:void 0),{flushSync:Ke});let je=new AbortController,$e=gh(e.history,ce,je.signal);if(Be){let Yt=await mo(Se,new URL($e.url).pathname,$e.signal,Y);if(Yt.type==="aborted")return;if(Yt.type==="error"){ve(Y,se,Yt.error,{flushSync:Ke});return}else if(Yt.matches)Se=Yt.matches;else{ve(Y,se,Fs(404,{pathname:ce}),{flushSync:Ke});return}}let Rt=DC(Se,ce);$.set(Y,je);let $t=Q,vn=Ph(r,s,$e,Se,Rt,i,Te),wt=(await Mt($e,vn,Te,Y))[Rt.route.id];if($.get(Y)===je&&$.delete(Y),!$e.signal.aborted){if(z.has(Y)){te(Y,Ul(void 0));return}if(Eu(wt))if(ee>$t){te(Y,Ul(void 0));return}else{F.add(Y),await Et($e,wt,!1,{preventScrollReset:Ue});return}if(Jr(wt)){ve(Y,se,wt.error);return}te(Y,Ul(wt.data))}}async function Et(Y,se,ce,{submission:Se,fetcherSubmission:Te,preventScrollReset:Be,replace:Ke}={}){se.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Ue=se.response.headers.get("Location");Ft(Ue,"Expected a Location header on the redirect Response"),Ue=Sk(Ue,new URL(Y.url),l);let We=Yg(P.location,Ue,{_isRedirect:!0});if(n){let vn=!1;if(se.response.headers.has("X-Remix-Reload-Document"))vn=!0;else if(tA(Ue)){const Kt=EH(Ue,!0);vn=Kt.origin!==t.location.origin||Us(Kt.pathname,l)==null}if(vn){Ke?t.location.replace(Ue):t.location.assign(Ue);return}}N=null;let rt=Ke===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:$e,formEncType:Rt}=P.navigation;!Se&&!Te&&je&&$e&&Rt&&(Se=Pk(P.navigation));let $t=Se||Te;if(Oq.has(se.response.status)&&$t&&Fr($t.formMethod))await ke(rt,We,{submission:{...$t,formAction:Ue},preventScrollReset:Be||M,enableViewTransition:ce?B:void 0});else{let vn=JR(We,Se);await ke(rt,We,{overrideNavigation:vn,fetcherSubmission:Te,preventScrollReset:Be||M,enableViewTransition:ce?B:void 0})}}async function Mt(Y,se,ce,Se){let Te,Be={};try{Te=await jq(u,Y,se,Se,ce,!1)}catch(Ke){return se.filter(Ue=>Ue.shouldLoad).forEach(Ue=>{Be[Ue.route.id]={type:"error",error:Ke}}),Be}if(Y.signal.aborted)return Be;for(let[Ke,Ue]of Object.entries(Te))if(Qq(Ue)){let We=Ue.result;Be[Ke]={type:"redirect",response:Kq(We,Y,Ke,se,l)}}else Be[Ke]=await qq(Ue);return Be}async function mn(Y,se,ce,Se){let Te=Mt(ce,Y,Se,null),Be=Promise.all(se.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let je=(await Mt(We.request,We.matches,Se,We.key))[We.match.route.id];return{[We.key]:je}}else return Promise.resolve({[We.key]:{type:"error",error:Fs(404,{pathname:We.path})}})})),Ke=await Te,Ue=(await Be).reduce((We,rt)=>Object.assign(We,rt),{});return{loaderResults:Ke,fetcherResults:Ue}}function Vn(){J=!0,X.forEach((Y,se)=>{$.has(se)&&ie.add(se),Dn(se)})}function te(Y,se,ce={}){P.fetchers.set(Y,se),nt({fetchers:new Map(P.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function ve(Y,se,ce,Se={}){let Te=bu(P.matches,se);Ve(Y),nt({errors:{[Te.route.id]:ce},fetchers:new Map(P.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function Pe(Y){return ne.set(Y,(ne.get(Y)||0)+1),z.has(Y)&&z.delete(Y),P.fetchers.get(Y)||Lq}function Ve(Y){let se=P.fetchers.get(Y);$.has(Y)&&!(se&&se.state==="loading"&&fe.has(Y))&&Dn(Y),X.delete(Y),fe.delete(Y),F.delete(Y),z.delete(Y),ie.delete(Y),P.fetchers.delete(Y)}function Lt(Y){let se=(ne.get(Y)||0)-1;se<=0?(ne.delete(Y),z.add(Y)):ne.set(Y,se),nt({fetchers:new Map(P.fetchers)})}function Dn(Y){let se=$.get(Y);se&&(se.abort(),$.delete(Y))}function bi(Y){for(let se of Y){let ce=Pe(se),Se=Ul(ce.data);P.fetchers.set(se,Se)}}function ti(){let Y=[],se=!1;for(let ce of F){let Se=P.fetchers.get(ce);Ft(Se,`Expected fetcher: ${ce}`),Se.state==="loading"&&(F.delete(ce),Y.push(ce),se=!0)}return bi(Y),se}function Qi(Y){let se=[];for(let[ce,Se]of fe)if(Se<Y){let Te=P.fetchers.get(ce);Ft(Te,`Expected fetcher: ${ce}`),Te.state==="loading"&&(Dn(ce),fe.delete(ce),se.push(ce))}return bi(se),se.length>0}function hi(Y,se){let ce=P.blockers.get(Y)||jp;return pe.get(Y)!==se&&pe.set(Y,se),ce}function Mn(Y){P.blockers.delete(Y),pe.delete(Y)}function fi(Y,se){let ce=P.blockers.get(Y)||jp;Ft(ce.state==="unblocked"&&se.state==="blocked"||ce.state==="blocked"&&se.state==="blocked"||ce.state==="blocked"&&se.state==="proceeding"||ce.state==="blocked"&&se.state==="unblocked"||ce.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${ce.state} -> ${se.state}`);let Se=new Map(P.blockers);Se.set(Y,se),nt({blockers:Se})}function Si({currentLocation:Y,nextLocation:se,historyAction:ce}){if(pe.size===0)return;pe.size>1&&Un(!1,"A router only supports one blocker at a time");let Se=Array.from(pe.entries()),[Te,Be]=Se[Se.length-1],Ke=P.blockers.get(Te);if(!(Ke&&Ke.state==="proceeding")&&Be({currentLocation:Y,nextLocation:se,historyAction:ce}))return Te}function da(Y){let se=Fs(404,{pathname:Y}),ce=a||o,{matches:Se,route:Te}=Dk(ce);return{notFoundMatches:Se,route:Te,error:se}}function Bc(Y,se,ce){if(v=Y,S=se,C=ce||null,!R&&P.navigation===ZR){R=!0;let Se=cl(P.location,P.matches);Se!=null&&nt({restoreScrollPosition:Se})}return()=>{v=null,S=null,C=null}}function fs(Y,se){return C&&C(Y,se.map(Se=>hq(Se,P.loaderData)))||Y.key}function Ys(Y,se){if(v&&S){let ce=fs(Y,se);v[ce]=S()}}function cl(Y,se){if(v){let ce=fs(Y,se),Se=v[ce];if(typeof Se=="number")return Se}return null}function ur(Y,se,ce){if(e.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:TC(se,ce,l,!0)}}else return{active:!0,matches:TC(se,ce,l,!0)||[]};return{active:!1,matches:null}}async function mo(Y,se,ce,Se){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Y};let Te=Y;for(;;){let Be=a==null,Ke=a||o,Ue=s;try{await e.patchRoutesOnNavigation({signal:ce,path:se,matches:Te,fetcherKey:Se,patch:(je,$e)=>{ce.aborted||yk(je,$e,Ke,Ue,r,!1)}})}catch(je){return{type:"error",error:je,partialMatches:Te}}finally{Be&&!ce.aborted&&(o=[...o])}if(ce.aborted)return{type:"aborted"};let We=ql(Ke,se,l);if(We)return{type:"success",matches:We};let rt=TC(Ke,se,l,!0);if(!rt||Te.length===rt.length&&Te.every((je,$e)=>je.route.id===rt[$e].route.id))return{type:"success",matches:null};Te=rt}}function vo(Y){s={},a=Xg(Y,r,void 0,s)}function ul(Y,se,ce=!1){let Se=a==null;yk(Y,se,a||o,s,r,ce),Se&&(o=[...o],nt({}))}return L={get basename(){return l},get future(){return h},get state(){return P},get routes(){return o},get window(){return t},initialize:lt,subscribe:ze,enableScrollRestoration:Bc,navigate:mt,fetch:xt,revalidate:Ot,createHref:Y=>e.history.createHref(Y),encodeLocation:Y=>e.history.encodeLocation(Y),getFetcher:Pe,deleteFetcher:Lt,dispose:qe,getBlocker:hi,deleteBlocker:Mn,patchRoutes:ul,_internalFetchControllers:$,_internalSetRoutes:vo,_internalSetStateDoNotUseOrYouWillBreakYourApp(Y){nt(Y)}},L}function Hq(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ux(e,t,n,i,r,s){let o,a;if(r){o=[];for(let u of t)if(o.push(u),u.route.id===r){a=u;break}}else o=t,a=t[t.length-1];let l=Pb(i||".",Ab(o),Us(e.pathname,n)||e.pathname,s==="path");if(i==null&&(l.search=e.search,l.hash=e.hash),(i==null||i===""||i===".")&&a){let u=nA(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let h=new URLSearchParams(l.search),p=h.getAll("index");h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=xq({basename:n,pathname:l.pathname})),uc(l)}function mk(e,t,n){if(!n||!Hq(n))return{path:t};if(n.formMethod&&!Zq(n.formMethod))return{path:t,error:Fs(405,{method:n.formMethod})};let i=()=>({path:t,error:Fs(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=OH(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fr(s))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,C])=>`${g}${v}=${C}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Fr(s))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Ft(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=$x(n.formData),l=n.formData;else if(n.body instanceof FormData)a=$x(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=Ek(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=Ek(a)}catch{return i()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Fr(u.formMethod))return{path:t,submission:u};let h=sl(t);return e&&h.search&&nA(h.search)&&a.append("index",""),h.search=`?${a}`,{path:uc(h),submission:u}}function vk(e,t,n,i,r,s,o,a,l,u,h,p,g,v,C,S,R,x,D,T){let k=T?Jr(T[1])?T[1].error:T[1].data:void 0,L=r.createURL(s.location),P=r.createURL(l),_;if(h&&s.errors){let G=Object.keys(s.errors)[0];_=o.findIndex(J=>J.route.id===G)}else if(T&&Jr(T[1])){let G=T[0];_=o.findIndex(J=>J.route.id===G)-1}let M=T?T[1].statusCode:void 0,N=M&&M>=400,B={currentUrl:L,currentParams:s.matches[0]?.params||{},nextUrl:P,nextParams:o[0].params,...a,actionResult:k,actionStatus:M},H=o.map((G,J)=>{let{route:ie}=G,$=null;if(_!=null&&J>_?$=!1:ie.lazy?$=!0:ie.loader==null?$=!1:h?$=Wx(ie,s.loaderData,s.errors):Gq(s.loaderData,s.matches[J],G)&&($=!0),$!==null)return jx(n,i,e,G,u,t,$);let Q=N?!1:p||L.pathname+L.search===P.pathname+P.search||L.search!==P.search||zq(s.matches[J],G),ee={...B,defaultShouldRevalidate:Q},fe=dw(G,ee);return jx(n,i,e,G,u,t,fe,ee)}),U=[];return C.forEach((G,J)=>{if(h||!o.some(ne=>ne.route.id===G.routeId)||v.has(J))return;let ie=s.fetchers.get(J),$=ie&&ie.state!=="idle"&&ie.data===void 0,Q=ql(R,G.path,x);if(!Q){if(D&&$)return;U.push({key:J,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(S.has(J))return;let ee=DC(Q,G.path),fe=new AbortController,F=gh(r,G.path,fe.signal),X=null;if(g.has(J))g.delete(J),X=Ph(n,i,F,Q,ee,u,t);else if($)p&&(X=Ph(n,i,F,Q,ee,u,t));else{let ne={...B,defaultShouldRevalidate:N?!1:p};dw(ee,ne)&&(X=Ph(n,i,F,Q,ee,u,t,ne))}X&&U.push({key:J,routeId:G.routeId,path:G.path,matches:X,match:ee,request:F,controller:fe})}),{dsMatches:H,revalidatingFetchers:U}}function Wx(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=t!=null&&e.id in t,r=n!=null&&n[e.id]!==void 0;return!i&&r?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!r}function Gq(e,t,n){let i=!t||n.route.id!==t.route.id,r=!e.hasOwnProperty(n.route.id);return i||r}function zq(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function dw(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function yk(e,t,n,i,r,s){let o;if(e){let u=i[e];Ft(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),o=u.children}else o=n;let a=[],l=[];if(t.forEach(u=>{let h=o.find(p=>IH(u,p));h?l.push({existingRoute:h,newRoute:u}):a.push(u)}),a.length>0){let u=Xg(a,r,[e||"_","patch",String(o?.length||"0")],i);o.push(...u)}if(s&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:h,newRoute:p}=l[u],g=h,[v]=Xg([p],r,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function IH(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>t.children?.some(r=>IH(n,r))):!1}var Ck=new WeakMap,FH=({key:e,route:t,manifest:n,mapRouteProperties:i})=>{let r=n[t.id];if(Ft(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let s=r.lazy[e];if(!s)return;let o=Ck.get(r);o||(o={},Ck.set(r,o));let a=o[e];if(a)return a;let l=(async()=>{let u=lq(e),p=r[e]!==void 0&&e!=="hasErrorBoundary";if(u)Un(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)Un(!1,`Route "${r.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(r,{[e]:g}),Object.assign(r,i(r)))}typeof r.lazy=="object"&&(r.lazy[e]=void 0,Object.values(r.lazy).every(g=>g===void 0)&&(r.lazy=void 0))})();return o[e]=l,l},wk=new WeakMap;function Uq(e,t,n,i,r){let s=n[e.id];if(Ft(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let h=wk.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let p=(async()=>{Ft(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),v={};for(let C in g){let S=g[C];if(S===void 0)continue;let R=uq(C),D=s[C]!==void 0&&C!=="hasErrorBoundary";R?Un(!R,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Un(!D,`Route "${s.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):v[C]=S}Object.assign(s,v),Object.assign(s,{...i(s),lazy:void 0})})();return wk.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),a=[],l;for(let h of o){if(r&&r.includes(h))continue;let p=FH({key:h,route:e,manifest:n,mapRouteProperties:i});p&&(a.push(p),h===t&&(l=p))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function bk(e){let t=e.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(t.map(r=>r.resolve()))).forEach((r,s)=>{n[t[s].route.id]=r}),n}async function Wq(e){return e.matches.some(t=>t.route.unstable_middleware)?MH(e,!1,()=>bk(e),(t,n)=>({[n]:{type:"error",result:t}})):bk(e)}async function MH(e,t,n,i){let{matches:r,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let u=r.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),h=await _H({request:s,params:o,context:a},u,t,l,n);return t?h:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let h=await i(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,h):h}}async function _H(e,t,n,i,r,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return i.handlerResult=await r(),i.handlerResult;let[l,u]=a,h=!1,p,g=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await _H(e,t,n,i,r,s+1)};try{let v=await u({request:e.request,params:e.params,context:e.context},g);return h?v===void 0?p:v:g()}catch(v){throw i.middlewareError?i.middlewareError.error!==v&&(i.middlewareError={routeId:l,error:v}):i.middlewareError={routeId:l,error:v},v}}function kH(e,t,n,i,r){let s=FH({key:"unstable_middleware",route:i.route,manifest:t,mapRouteProperties:e}),o=Uq(i.route,Fr(n.method)?"action":"loader",t,e,r);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function jx(e,t,n,i,r,s,o,a=null){let l=!1,u=kH(e,t,n,i,r);return{...i,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(h){return l=!0,a?typeof h=="boolean"?dw(i,{...a,defaultShouldRevalidate:h}):dw(i,a):o},resolve(h){return l||o||h&&!Fr(n.method)&&(i.route.lazy||i.route.loader)?$q({request:n,match:i,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Ph(e,t,n,i,r,s,o,a=null){return i.map(l=>l.route.id!==r.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:kH(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:jx(e,t,n,l,s,o,!0,a))}async function jq(e,t,n,i,r,s){n.some(u=>u._lazyPromises?.middleware)&&await Promise.all(n.map(u=>u._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:r,matches:n},l=await e({...o,fetcherKey:i,unstable_runClientMiddleware:u=>{let h=o;return MH(h,!1,()=>u({...h,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function $q({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:r,scopedContext:s}){let o,a,l=Fr(e.method),u=l?"action":"loader",h=p=>{let g,v=new Promise((R,x)=>g=x);a=()=>g(),e.signal.addEventListener("abort",a);let C=R=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...R!==void 0?[R]:[]),S=(async()=>{try{return{type:"data",result:await(r?r(x=>C(x)):C())}}catch(R){return{type:"error",result:R}}})();return Promise.race([S,v])};try{let p=l?t.route.action:t.route.loader;if(n||i)if(p){let g,[v]=await Promise.all([h(p).catch(C=>{g=C}),n,i]);if(g!==void 0)throw g;o=v}else{await n;let g=l?t.route.action:t.route.loader;if(g)[o]=await Promise.all([h(g),i]);else if(u==="action"){let v=new URL(e.url),C=v.pathname+v.search;throw Fs(405,{method:e.method,pathname:C,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await h(p);else{let g=new URL(e.url),v=g.pathname+g.search;throw Fs(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function qq(e){let{result:t,type:n}=e;if(LH(t)){let i;try{let r=t.headers.get("Content-Type");r&&/\bapplication\/json\b/.test(r)?t.body==null?i=null:i=await t.json():i=await t.text()}catch(r){return{type:"error",error:r}}return n==="error"?{type:"error",error:new uw(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:"data",data:i,statusCode:t.status,headers:t.headers}}return n==="error"?Ak(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new uw(t.init?.status||500,void 0,t.data),statusCode:Qg(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Qg(t)?t.status:void 0}:Ak(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Kq(e,t,n,i,r){let s=e.headers.get("Location");if(Ft(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!tA(s)){let o=i.slice(0,i.findIndex(a=>a.route.id===n)+1);s=Ux(new URL(t.url),o,r,s),e.headers.set("Location",s)}return e}function Sk(e,t,n){if(tA(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),s=Us(r.pathname,n)!=null;if(r.origin===t.origin&&s)return r.pathname+r.search+r.hash}return e}function gh(e,t,n,i){let r=e.createURL(OH(t)).toString(),s={signal:n};if(i&&Fr(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=$x(i.formData):s.body=i.formData}return new Request(r,s)}function $x(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function Ek(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function Yq(e,t,n,i=!1,r=!1){let s={},o=null,a,l=!1,u={},h=n&&Jr(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,v=t[g];if(Ft(!Eu(v),"Cannot handle redirect results in processLoaderData"),Jr(v)){let C=v.error;if(h!==void 0&&(C=h,h=void 0),o=o||{},r)o[g]=C;else{let S=bu(e,g);o[S.route.id]==null&&(o[S.route.id]=C)}i||(s[g]=PH),l||(l=!0,a=Qg(v.error)?v.error.status:500),v.headers&&(u[g]=v.headers)}else s[g]=v.data,v.statusCode&&v.statusCode!==200&&!l&&(a=v.statusCode),v.headers&&(u[g]=v.headers)}),h!==void 0&&n&&(o={[n[0]]:h},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Rk(e,t,n,i,r,s){let{loaderData:o,errors:a}=Yq(t,n,i);return r.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:h,controller:p}=l,g=s[u];if(Ft(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Jr(g)){let v=bu(e.matches,h?.route.id);a&&a[v.route.id]||(a={...a,[v.route.id]:g.error}),e.fetchers.delete(u)}else if(Eu(g))Ft(!1,"Unhandled fetcher revalidation redirect");else{let v=Ul(g.data);e.fetchers.set(u,v)}}),{loaderData:o,errors:a}}function xk(e,t,n,i){let r=Object.entries(t).filter(([,s])=>s!==PH).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(r[o]=e[o]),i&&i.hasOwnProperty(o))break}return r}function Tk(e){return e?Jr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function bu(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function Dk(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Fs(e,{pathname:t,routeId:n,method:i,type:r,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&t&&n?a=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",i&&t&&n?a=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(a=`Invalid request method "${i.toUpperCase()}"`)),new uw(e||500,o,new Error(a),!0)}function Uy(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,r]=t[n];if(Eu(r))return{key:i,result:r}}}function OH(e){let t=typeof e=="string"?sl(e):e;return uc({...t,hash:""})}function Xq(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Qq(e){return LH(e.result)&&kq.has(e.result.status)}function Jr(e){return e.type==="error"}function Eu(e){return(e&&e.type)==="redirect"}function Ak(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function LH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Zq(e){return _q.has(e.toUpperCase())}function Fr(e){return Fq.has(e.toUpperCase())}function nA(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function DC(e,t){let n=typeof t=="string"?sl(t).search:t.search;if(e[e.length-1].route.index&&nA(n||""))return e[e.length-1];let i=TH(e);return i[i.length-1]}function Pk(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:s,json:o}=e;if(!(!t||!n||!i)){if(r!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:t,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function JR(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Jq(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function $p(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eK(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ul(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tK(e,t){try{let n=e.sessionStorage.getItem(AH);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(r,new Set(s||[]))}}catch{}}function nK(e,t){if(t.size>0){let n={};for(let[i,r]of t)n[i]=[...r];try{e.sessionStorage.setItem(AH,JSON.stringify(n))}catch(i){Un(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function iK(){let e,t,n=new Promise((i,r)=>{e=async s=>{i(s);try{await n}catch{}},t=async s=>{r(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var dd=b.createContext(null);dd.displayName="DataRouter";var jm=b.createContext(null);jm.displayName="DataRouterState";b.createContext(!1);var iA=b.createContext({isTransitioning:!1});iA.displayName="ViewTransition";var NH=b.createContext(new Map);NH.displayName="Fetchers";var rK=b.createContext(null);rK.displayName="Await";var co=b.createContext(null);co.displayName="Navigation";var Ib=b.createContext(null);Ib.displayName="Location";var uo=b.createContext({outlet:null,matches:[],isDataRoute:!1});uo.displayName="Route";var rA=b.createContext(null);rA.displayName="RouteError";function sK(e,{relative:t}={}){Ft(bf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(co),{hash:r,pathname:s,search:o}=$m(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Go([n,s])),i.createHref({pathname:a,search:o,hash:r})}function bf(){return b.useContext(Ib)!=null}function ca(){return Ft(bf(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ib).location}var VH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BH(e){b.useContext(co).static||b.useLayoutEffect(e)}function sA(){let{isDataRoute:e}=b.useContext(uo);return e?wK():oK()}function oK(){Ft(bf(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(dd),{basename:t,navigator:n}=b.useContext(co),{matches:i}=b.useContext(uo),{pathname:r}=ca(),s=JSON.stringify(Ab(i)),o=b.useRef(!1);return BH(()=>{o.current=!0}),b.useCallback((l,u={})=>{if(Un(o.current,VH),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Pb(l,JSON.parse(s),r,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Go([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,s,r,e])}var aK=b.createContext(null);function lK(e){let t=b.useContext(uo).outlet;return t&&b.createElement(aK.Provider,{value:e},t)}function $m(e,{relative:t}={}){let{matches:n}=b.useContext(uo),{pathname:i}=ca(),r=JSON.stringify(Ab(n));return b.useMemo(()=>Pb(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function cK(e,t,n,i){Ft(bf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=b.useContext(co),{matches:s}=b.useContext(uo),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";HH(l,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=ca(),g;g=p;let v=g.pathname||"/",C=v;if(u!=="/"){let x=u.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=ql(e,{pathname:C});return Un(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Un(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pK(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Go([u,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Go([u,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i)}function uK(){let e=CK(),t=Qg(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:r},n):null,o)}var dK=b.createElement(uK,null),hK=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(uo.Provider,{value:this.props.routeContext},b.createElement(rA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fK({routeContext:e,match:t,children:n}){let i=b.useContext(dd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(uo.Provider,{value:e},n)}function pK(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n?.errors;if(s!=null){let l=r.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);Ft(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<r.length;l++){let u=r[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:p}=n,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((l,u,h)=>{let p,g=!1,v=null,C=null;n&&(p=s&&u.route.id?s[u.route.id]:void 0,v=u.route.errorElement||dK,o&&(a<0&&h===0?(HH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,C=null):a===h&&(g=!0,C=u.route.hydrateFallbackElement||null)));let S=t.concat(r.slice(0,h+1)),R=()=>{let x;return p?x=v:g?x=C:u.route.Component?x=b.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,b.createElement(fK,{match:u,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?b.createElement(hK,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}function oA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gK(e){let t=b.useContext(dd);return Ft(t,oA(e)),t}function mK(e){let t=b.useContext(jm);return Ft(t,oA(e)),t}function vK(e){let t=b.useContext(uo);return Ft(t,oA(e)),t}function aA(e){let t=vK(e),n=t.matches[t.matches.length-1];return Ft(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function yK(){return aA("useRouteId")}function CK(){let e=b.useContext(rA),t=mK("useRouteError"),n=aA("useRouteError");return e!==void 0?e:t.errors?.[n]}function wK(){let{router:e}=gK("useNavigate"),t=aA("useNavigate"),n=b.useRef(!1);return BH(()=>{n.current=!0}),b.useCallback(async(r,s={})=>{Un(n.current,VH),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var Ik={};function HH(e,t,n){!t&&!Ik[e]&&(Ik[e]=!0,Un(!1,n))}var Fk={};function Mk(e,t){!e&&!Fk[t]&&(Fk[t]=!0,console.warn(t))}function bK(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var SK=["HydrateFallback","hydrateFallbackElement"],EK=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function RK({router:e,flushSync:t}){let[n,i]=b.useState(e.state),[r,s]=b.useState(),[o,a]=b.useState({isTransitioning:!1}),[l,u]=b.useState(),[h,p]=b.useState(),[g,v]=b.useState(),C=b.useRef(new Map),S=b.useCallback((T,{deletedFetchers:k,flushSync:L,viewTransitionOpts:P})=>{T.fetchers.forEach((M,N)=>{M.data!==void 0&&C.current.set(N,M.data)}),k.forEach(M=>C.current.delete(M)),Mk(L===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Mk(P==null||_,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!_){t&&L?t(()=>i(T)):b.startTransition(()=>i(T));return}if(t&&L){t(()=>{h&&(l&&l.resolve(),h.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let M=e.window.document.startViewTransition(()=>{t(()=>i(T))});M.finished.finally(()=>{t(()=>{u(void 0),p(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>p(M));return}h?(l&&l.resolve(),h.skipTransition(),v({state:T,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(T),a({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,h,l]);b.useLayoutEffect(()=>e.subscribe(S),[e,S]),b.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new EK)},[o]),b.useEffect(()=>{if(l&&r&&e.window){let T=r,k=l.promise,L=e.window.document.startViewTransition(async()=>{b.startTransition(()=>i(T)),await k});L.finished.finally(()=>{u(void 0),p(void 0),s(void 0),a({isTransitioning:!1})}),p(L)}},[r,l,e.window]),b.useEffect(()=>{l&&r&&n.location.key===r.location.key&&l.resolve()},[l,h,n.location,r]),b.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[o.isTransitioning,g]);let R=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:T=>e.navigate(T),push:(T,k,L)=>e.navigate(T,{state:k,preventScrollReset:L?.preventScrollReset}),replace:(T,k,L)=>e.navigate(T,{replace:!0,state:k,preventScrollReset:L?.preventScrollReset})}),[e]),x=e.basename||"/",D=b.useMemo(()=>({router:e,navigator:R,static:!1,basename:x}),[e,R,x]);return b.createElement(b.Fragment,null,b.createElement(dd.Provider,{value:D},b.createElement(jm.Provider,{value:n},b.createElement(NH.Provider,{value:C.current},b.createElement(iA.Provider,{value:o},b.createElement(AK,{basename:x,location:n.location,navigationType:n.historyAction,navigator:R},b.createElement(xK,{routes:e.routes,future:e.future,state:n})))))),null)}var xK=b.memo(TK);function TK({routes:e,future:t,state:n}){return cK(e,void 0,n,t)}function Ih({to:e,replace:t,state:n,relative:i}){Ft(bf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=b.useContext(co);Un(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(uo),{pathname:o}=ca(),a=sA(),l=Pb(e,Ab(s),o,i==="path"),u=JSON.stringify(l);return b.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:i})},[a,u,i,t,n]),null}function DK(e){return lK(e.context)}function AK({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Ft(!bf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=sl(n));let{pathname:l="/",search:u="",hash:h="",state:p=null,key:g="default"}=n,v=b.useMemo(()=>{let C=Us(l,o);return C==null?null:{location:{pathname:C,search:u,hash:h,state:p,key:g},navigationType:i}},[o,l,u,h,p,g,i]);return Un(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:b.createElement(co.Provider,{value:a},b.createElement(Ib.Provider,{children:t,value:v}))}var AC="get",PC="application/x-www-form-urlencoded";function Fb(e){return e!=null&&typeof e.tagName=="string"}function PK(e){return Fb(e)&&e.tagName.toLowerCase()==="button"}function IK(e){return Fb(e)&&e.tagName.toLowerCase()==="form"}function FK(e){return Fb(e)&&e.tagName.toLowerCase()==="input"}function MK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _K(e,t){return e.button===0&&(!t||t==="_self")&&!MK(e)}var Wy=null;function kK(){if(Wy===null)try{new FormData(document.createElement("form"),0),Wy=!1}catch{Wy=!0}return Wy}var OK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e0(e){return e!=null&&!OK.has(e)?(Un(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${PC}"`),null):e}function LK(e,t){let n,i,r,s,o;if(IK(e)){let a=e.getAttribute("action");i=a?Us(a,t):null,n=e.getAttribute("method")||AC,r=e0(e.getAttribute("enctype"))||PC,s=new FormData(e)}else if(PK(e)||FK(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(i=l?Us(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||AC,r=e0(e.getAttribute("formenctype"))||e0(a.getAttribute("enctype"))||PC,s=new FormData(a,e),!kK()){let{name:u,type:h,value:p}=e;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,p)}}else{if(Fb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=AC,i=null,r=PC,o=e}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NK(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Us(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function VK(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function HK(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await VK(s,n);return o.links?o.links():[]}return[]}));return WK(i.flat(1).filter(BK).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _k(e,t,n,i,r,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function GK(e,t,{includeHydrateFallback:n}={}){return zK(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function zK(e){return[...new Set(e)]}function UK(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function WK(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let s=JSON.stringify(UK(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function GH(){let e=b.useContext(dd);return lA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jK(){let e=b.useContext(jm);return lA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cA=b.createContext(void 0);cA.displayName="FrameworkContext";function zH(){let e=b.useContext(cA);return lA(e,"You must render this element inside a <HydratedRouter> element"),e}function $K(e,t){let n=b.useContext(cA),[i,r]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=t,g=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=x=>{x.forEach(D=>{o(D.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return g.current&&R.observe(g.current),()=>{R.disconnect()}}},[e]),b.useEffect(()=>{if(i){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},C=()=>{r(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:qp(a,v),onBlur:qp(l,C),onMouseEnter:qp(u,v),onMouseLeave:qp(h,C),onTouchStart:qp(p,v)}]:[!1,g,{}]}function qp(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qK({page:e,...t}){let{router:n}=GH(),i=b.useMemo(()=>ql(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?b.createElement(YK,{page:e,matches:i,...t}):null}function KK(e){let{manifest:t,routeModules:n}=zH(),[i,r]=b.useState([]);return b.useEffect(()=>{let s=!1;return HK(e,t,n).then(o=>{s||r(o)}),()=>{s=!0}},[e,t,n]),i}function YK({page:e,matches:t,...n}){let i=ca(),{manifest:r,routeModules:s}=zH(),{basename:o}=GH(),{loaderData:a,matches:l}=jK(),u=b.useMemo(()=>_k(e,t,l,r,i,"data"),[e,t,l,r,i]),h=b.useMemo(()=>_k(e,t,l,r,i,"assets"),[e,t,l,r,i]),p=b.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,S=!1;if(t.forEach(x=>{let D=r.routes[x.route.id];!D||!D.hasLoader||(!u.some(T=>T.route.id===x.route.id)&&x.route.id in a&&s[x.route.id]?.shouldRevalidate||D.hasClientLoader?S=!0:C.add(x.route.id))}),C.size===0)return[];let R=NK(e,o,"data");return S&&C.size>0&&R.searchParams.set("_routes",t.filter(x=>C.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[o,a,i,r,u,t,e,s]),g=b.useMemo(()=>GK(h,r),[h,r]),v=KK(h);return b.createElement(b.Fragment,null,p.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),g.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),v.map(({key:C,link:S})=>b.createElement("link",{key:C,...S})))}function XK(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var UH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UH&&(window.__reactRouterVersion="7.7.1")}catch{}function QK(e,t){return Bq({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:rq({window:t?.window}),hydrationData:ZK(),routes:e,mapRouteProperties:bK,hydrationRouteProperties:SK,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function ZK(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:JK(e.errors)}),e}function JK(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&r.__type==="RouteErrorResponse")n[i]=new uw(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}var WH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jH=b.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p,...g},v){let{basename:C}=b.useContext(co),S=typeof u=="string"&&WH.test(u),R,x=!1;if(typeof u=="string"&&S&&(R=u,UH))try{let N=new URL(window.location.href),B=u.startsWith("//")?new URL(N.protocol+u):new URL(u),H=Us(B.pathname,C);B.origin===N.origin&&H!=null?u=H+B.search+B.hash:x=!0}catch{Un(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=sK(u,{relative:r}),[T,k,L]=$K(i,g),P=iY(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:p});function _(N){t&&t(N),N.defaultPrevented||P(N)}let M=b.createElement("a",{...g,...L,href:R||D,onClick:x||s?t:_,ref:XK(v,k),target:l,"data-discover":!S&&n==="render"?"true":void 0});return T&&!S?b.createElement(b.Fragment,null,M,b.createElement(qK,{page:D})):M});jH.displayName="Link";var eY=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let p=$m(o,{relative:u.relative}),g=ca(),v=b.useContext(jm),{navigator:C,basename:S}=b.useContext(co),R=v!=null&&lY(p)&&a===!0,x=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,D=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(D=D.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&S&&(T=Us(T,S)||T);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let L=D===x||!r&&D.startsWith(x)&&D.charAt(k)==="/",P=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),_={isActive:L,isPending:P,isTransitioning:R},M=L?t:void 0,N;typeof i=="function"?N=i(_):N=[i,L?"active":null,P?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(_):s;return b.createElement(jH,{...u,"aria-current":M,className:N,ref:h,style:B,to:o,viewTransition:a},typeof l=="function"?l(_):l)});eY.displayName="NavLink";var tY=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:o=AC,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:p,...g},v)=>{let C=oY(),S=aY(a,{relative:u}),R=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&WH.test(a),D=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let k=T.nativeEvent.submitter,L=k?.getAttribute("formmethod")||o;C(k||T.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:r,state:s,relative:u,preventScrollReset:h,viewTransition:p})};return b.createElement("form",{ref:v,method:R,action:S,onSubmit:i?l:D,...g,"data-discover":!x&&e==="render"?"true":void 0})});tY.displayName="Form";function nY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $H(e){let t=b.useContext(dd);return Ft(t,nY(e)),t}function iY(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=sA(),l=ca(),u=$m(e,{relative:s});return b.useCallback(h=>{if(_K(h,t)){h.preventDefault();let p=n!==void 0?n:uc(l)===uc(u);a(e,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,u,n,i,t,e,r,s,o])}var rY=0,sY=()=>`__${String(++rY)}__`;function oY(){let{router:e}=$H("useSubmit"),{basename:t}=b.useContext(co),n=yK();return b.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=LK(i,t);if(r.navigate===!1){let h=r.fetcherKey||sY();await e.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:u,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function aY(e,{relative:t}={}){let{basename:n}=b.useContext(co),i=b.useContext(uo);Ft(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...$m(e||".",{relative:t})},o=ca();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Go([n,s.pathname])),uc(s)}function lY(e,{relative:t}={}){let n=b.useContext(iA);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$H("useViewTransitionState"),r=$m(e,{relative:t});if(!n.isTransitioning)return!1;let s=Us(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Us(n.nextLocation.pathname,i)||n.nextLocation.pathname;return cw(r.pathname,o)!=null||cw(r.pathname,s)!=null}var Sf=bH();const ec=wf(Sf);function cY(e){return b.createElement(RK,{flushSync:Sf.flushSync,...e})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qn=function(){return Qn=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Qn.apply(this,arguments)};function ju(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function ar(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qx.apply(this,arguments)}function uA(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var uY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dY=uA(function(e){return uY.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function hY(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function fY(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var pY=function(){function e(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fY(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=hY(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}(),tr="-ms-",hw="-moz-",Qt="-webkit-",qH="comm",dA="rule",hA="decl",gY="@import",KH="@keyframes",mY=Math.abs,Mb=String.fromCharCode,vY=Object.assign;function yY(e,t){return Wi(e,0)^45?(((t<<2^Wi(e,0))<<2^Wi(e,1))<<2^Wi(e,2))<<2^Wi(e,3):0}function YH(e){return e.trim()}function CY(e,t){return(e=t.exec(e))?e[0]:e}function tn(e,t,n){return e.replace(t,n)}function Kx(e,t){return e.indexOf(t)}function Wi(e,t){return e.charCodeAt(t)|0}function Zg(e,t,n){return e.slice(t,n)}function ko(e){return e.length}function fA(e){return e.length}function jy(e,t){return t.push(e),e}function wY(e,t){return e.map(t).join("")}var _b=1,Xh=1,XH=0,Br=0,li=0,Ef="";function kb(e,t,n,i,r,s,o){return{value:e,root:t,parent:n,type:i,props:r,children:s,line:_b,column:Xh,length:o,return:""}}function Kp(e,t){return vY(kb("",null,null,"",null,null,0),e,{length:-e.length},t)}function bY(){return li}function SY(){return li=Br>0?Wi(Ef,--Br):0,Xh--,li===10&&(Xh=1,_b--),li}function as(){return li=Br<XH?Wi(Ef,Br++):0,Xh++,li===10&&(Xh=1,_b++),li}function zo(){return Wi(Ef,Br)}function IC(){return Br}function qm(e,t){return Zg(Ef,e,t)}function Jg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QH(e){return _b=Xh=1,XH=ko(Ef=e),Br=0,[]}function ZH(e){return Ef="",e}function FC(e){return YH(qm(Br-1,Yx(e===91?e+2:e===40?e+1:e)))}function EY(e){for(;(li=zo())&&li<33;)as();return Jg(e)>2||Jg(li)>3?"":" "}function RY(e,t){for(;--t&&as()&&!(li<48||li>102||li>57&&li<65||li>70&&li<97););return qm(e,IC()+(t<6&&zo()==32&&as()==32))}function Yx(e){for(;as();)switch(li){case e:return Br;case 34:case 39:e!==34&&e!==39&&Yx(li);break;case 40:e===41&&Yx(e);break;case 92:as();break}return Br}function xY(e,t){for(;as()&&e+li!==57;)if(e+li===84&&zo()===47)break;return"/*"+qm(t,Br-1)+"*"+Mb(e===47?e:as())}function TY(e){for(;!Jg(zo());)as();return qm(e,Br)}function kk(e){return ZH(MC("",null,null,null,[""],e=QH(e),0,[0],e))}function MC(e,t,n,i,r,s,o,a,l){for(var u=0,h=0,p=o,g=0,v=0,C=0,S=1,R=1,x=1,D=0,T="",k=r,L=s,P=i,_=T;R;)switch(C=D,D=as()){case 40:if(C!=108&&Wi(_,p-1)==58){Kx(_+=tn(FC(D),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:_+=FC(D);break;case 9:case 10:case 13:case 32:_+=EY(C);break;case 92:_+=RY(IC()-1,7);continue;case 47:switch(zo()){case 42:case 47:jy(DY(xY(as(),IC()),t,n),l);break;default:_+="/"}break;case 123*S:a[u++]=ko(_)*x;case 125*S:case 59:case 0:switch(D){case 0:case 125:R=0;case 59+h:v>0&&ko(_)-p&&jy(v>32?Lk(_+";",i,n,p-1):Lk(tn(_," ","")+";",i,n,p-2),l);break;case 59:_+=";";default:if(jy(P=Ok(_,t,n,u,h,r,a,T,k=[],L=[],p),s),D===123)if(h===0)MC(_,t,P,P,k,s,p,a,L);else switch(g===99&&Wi(_,3)===110?100:g){case 100:case 109:case 115:MC(e,P,P,i&&jy(Ok(e,P,P,0,0,r,a,T,r,k=[],p),L),r,L,p,a,i?k:L);break;default:MC(_,P,P,P,[""],L,0,a,L)}}u=h=v=0,S=x=1,T=_="",p=o;break;case 58:p=1+ko(_),v=C;default:if(S<1){if(D==123)--S;else if(D==125&&S++==0&&SY()==125)continue}switch(_+=Mb(D),D*S){case 38:x=h>0?1:(_+="\f",-1);break;case 44:a[u++]=(ko(_)-1)*x,x=1;break;case 64:zo()===45&&(_+=FC(as())),g=zo(),h=p=ko(T=_+=TY(IC())),D++;break;case 45:C===45&&ko(_)==2&&(S=0)}}return s}function Ok(e,t,n,i,r,s,o,a,l,u,h){for(var p=r-1,g=r===0?s:[""],v=fA(g),C=0,S=0,R=0;C<i;++C)for(var x=0,D=Zg(e,p+1,p=mY(S=o[C])),T=e;x<v;++x)(T=YH(S>0?g[x]+" "+D:tn(D,/&\f/g,g[x])))&&(l[R++]=T);return kb(e,t,n,r===0?dA:a,l,u,h)}function DY(e,t,n){return kb(e,t,n,qH,Mb(bY()),Zg(e,2,-2),0)}function Lk(e,t,n,i){return kb(e,t,n,hA,Zg(e,0,i),Zg(e,i+1,-1),i)}function Iu(e,t){for(var n="",i=fA(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function Nk(e,t,n,i){switch(e.type){case gY:case hA:return e.return=e.return||e.value;case qH:return"";case KH:return e.return=e.value+"{"+Iu(e.children,i)+"}";case dA:e.value=e.props.join(",")}return ko(n=Iu(e.children,i))?e.return=e.value+"{"+n+"}":""}function Vk(e){var t=fA(e);return function(n,i,r,s){for(var o="",a=0;a<t;a++)o+=e[a](n,i,r,s)||"";return o}}function AY(e){return function(t){t.root||(t=t.return)&&e(t)}}var PY=function(t){var n=new WeakMap;return function(i){if(n.has(i))return n.get(i);var r=t(i);return n.set(i,r),r}},IY=function(t,n,i){for(var r=0,s=0;r=s,s=zo(),r===38&&s===12&&(n[i]=1),!Jg(s);)as();return qm(t,Br)},FY=function(t,n){var i=-1,r=44;do switch(Jg(r)){case 0:r===38&&zo()===12&&(n[i]=1),t[i]+=IY(Br-1,n,i);break;case 2:t[i]+=FC(r);break;case 4:if(r===44){t[++i]=zo()===58?"&\f":"",n[i]=t[i].length;break}default:t[i]+=Mb(r)}while(r=as());return t},MY=function(t,n){return ZH(FY(QH(t),n))},Bk=new WeakMap,_Y=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,i=t.parent,r=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Bk.get(i))&&!r){Bk.set(t,!0);for(var s=[],o=MY(n,s),a=i.props,l=0,u=0;l<o.length;l++)for(var h=0;h<a.length;h++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},kY=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function JH(e,t){switch(yY(e,t)){case 5103:return Qt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Qt+e+hw+e+tr+e+e;case 6828:case 4268:return Qt+e+tr+e+e;case 6165:return Qt+e+tr+"flex-"+e+e;case 5187:return Qt+e+tn(e,/(\w+).+(:[^]+)/,Qt+"box-$1$2"+tr+"flex-$1$2")+e;case 5443:return Qt+e+tr+"flex-item-"+tn(e,/flex-|-self/,"")+e;case 4675:return Qt+e+tr+"flex-line-pack"+tn(e,/align-content|flex-|-self/,"")+e;case 5548:return Qt+e+tr+tn(e,"shrink","negative")+e;case 5292:return Qt+e+tr+tn(e,"basis","preferred-size")+e;case 6060:return Qt+"box-"+tn(e,"-grow","")+Qt+e+tr+tn(e,"grow","positive")+e;case 4554:return Qt+tn(e,/([^-])(transform)/g,"$1"+Qt+"$2")+e;case 6187:return tn(tn(tn(e,/(zoom-|grab)/,Qt+"$1"),/(image-set)/,Qt+"$1"),e,"")+e;case 5495:case 3959:return tn(e,/(image-set\([^]*)/,Qt+"$1$`$1");case 4968:return tn(tn(e,/(.+:)(flex-)?(.*)/,Qt+"box-pack:$3"+tr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qt+e+e;case 4095:case 3583:case 4068:case 2532:return tn(e,/(.+)-inline(.+)/,Qt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ko(e)-1-t>6)switch(Wi(e,t+1)){case 109:if(Wi(e,t+4)!==45)break;case 102:return tn(e,/(.+:)(.+)-([^]+)/,"$1"+Qt+"$2-$3$1"+hw+(Wi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Kx(e,"stretch")?JH(tn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Wi(e,t+1)!==115)break;case 6444:switch(Wi(e,ko(e)-3-(~Kx(e,"!important")&&10))){case 107:return tn(e,":",":"+Qt)+e;case 101:return tn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qt+(Wi(e,14)===45?"inline-":"")+"box$3$1"+Qt+"$2$3$1"+tr+"$2box$3")+e}break;case 5936:switch(Wi(e,t+11)){case 114:return Qt+e+tr+tn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Qt+e+tr+tn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Qt+e+tr+tn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Qt+e+tr+e+e}return e}var OY=function(t,n,i,r){if(t.length>-1&&!t.return)switch(t.type){case hA:t.return=JH(t.value,t.length);break;case KH:return Iu([Kp(t,{value:tn(t.value,"@","@"+Qt)})],r);case dA:if(t.length)return wY(t.props,function(s){switch(CY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Iu([Kp(t,{props:[tn(s,/:(read-\w+)/,":"+hw+"$1")]})],r);case"::placeholder":return Iu([Kp(t,{props:[tn(s,/:(plac\w+)/,":"+Qt+"input-$1")]}),Kp(t,{props:[tn(s,/:(plac\w+)/,":"+hw+"$1")]}),Kp(t,{props:[tn(s,/:(plac\w+)/,tr+"input-$1")]})],r)}return""})}},_C=typeof document<"u",LY=_C?void 0:PY(function(){return uA(function(){var e={};return function(t){return e[t]}})}),NY=[OY],eG=function(t){var n=t.key;if(_C&&n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(k){var L=k.getAttribute("data-emotion");L.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var r=t.stylisPlugins||NY,s={},o,a=[];_C&&(o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(k){for(var L=k.getAttribute("data-emotion").split(" "),P=1;P<L.length;P++)s[L[P]]=!0;a.push(k)}));var l,u=[_Y,kY];if(_C){var h,p=[Nk,AY(function(k){h.insert(k)})],g=Vk(u.concat(r,p)),v=function(L){return Iu(kk(L),g)};l=function(L,P,_,M){h=_,v(L?L+"{"+P.styles+"}":P.styles),M&&(T.inserted[P.name]=!0)}}else{var C=[Nk],S=Vk(u.concat(r,C)),R=function(L){return Iu(kk(L),S)},x=LY(r)(n),D=function(L,P){var _=P.name;return x[_]===void 0&&(x[_]=R(L?L+"{"+P.styles+"}":P.styles)),x[_]};l=function(L,P,_,M){var N=P.name,B=D(L,P);if(T.compat===void 0)return M&&(T.inserted[N]=!0),B;if(M)T.inserted[N]=B;else return B}}var T={key:n,sheet:new pY({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return T.sheet.hydrate(a),T},VY=typeof document<"u",Hk=function(t){return t()},BY=b.useInsertionEffect?b.useInsertionEffect:!1,HY=VY&&BY||Hk,GY=typeof document<"u",fw=b.createContext(typeof HTMLElement<"u"?eG({key:"css"}):null);fw.Provider;var tG=function(t){return b.forwardRef(function(n,i){var r=b.useContext(fw);return t(n,r,i)})};GY||(tG=function(t){return function(n){var i=b.useContext(fw);return i===null?(i=eG({key:"css"}),b.createElement(fw.Provider,{value:i},t(n,i))):t(n,i)}});var zY=b.createContext({}),Xx=typeof document<"u";function UY(e,t,n){var i="";return n.split(" ").forEach(function(r){e[r]!==void 0?t.push(e[r]+";"):i+=r+" "}),i}var nG=function(t,n,i){var r=t.key+"-"+n.name;(i===!1||Xx===!1&&t.compat!==void 0)&&t.registered[r]===void 0&&(t.registered[r]=n.styles)},WY=function(t,n,i){nG(t,n,i);var r=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s="",o=n;do{var a=t.insert(n===o?"."+r:"",o,t.sheet,!0);!Xx&&a!==void 0&&(s+=a),o=o.next}while(o!==void 0);if(!Xx&&s.length!==0)return s}};function jY(e){for(var t=0,n,i=0,r=e.length;r>=4;++i,r-=4)n=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $Y={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qY=/[A-Z]|^ms/g,KY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iG=function(t){return t.charCodeAt(1)===45},Gk=function(t){return t!=null&&typeof t!="boolean"},t0=uA(function(e){return iG(e)?e:e.replace(qY,"-$&").toLowerCase()}),zk=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(KY,function(i,r,s){return Oo={name:r,styles:s,next:Oo},r})}return $Y[t]!==1&&!iG(t)&&typeof n=="number"&&n!==0?n+"px":n};function em(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Oo={name:n.name,styles:n.styles,next:Oo},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)Oo={name:i.name,styles:i.styles,next:Oo},i=i.next;var r=n.styles+";";return r}return YY(e,t,n)}case"function":{if(e!==void 0){var s=Oo,o=n(e);return Oo=s,em(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function YY(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=em(e,t,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?i+=s+"{"+t[o]+"}":Gk(o)&&(i+=t0(s)+":"+zk(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)Gk(o[a])&&(i+=t0(s)+":"+zk(s,o[a])+";");else{var l=em(e,t,o);switch(s){case"animation":case"animationName":{i+=t0(s)+":"+l+";";break}default:i+=s+"{"+l+"}"}}}return i}var Uk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Oo,XY=function(t,n,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Oo=void 0;var o=t[0];o==null||o.raw===void 0?(r=!1,s+=em(i,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=em(i,n,t[a]),r&&(s+=o[a]);Uk.lastIndex=0;for(var l="",u;(u=Uk.exec(s))!==null;)l+="-"+u[1];var h=jY(s)+l;return{name:h,styles:s,next:Oo}},QY=dY,ZY=function(t){return t!=="theme"},Wk=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?QY:ZY},jk=function(t,n,i){var r;if(n){var s=n.shouldForwardProp;r=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof r!="function"&&i&&(r=t.__emotion_forwardProp),r},JY=typeof document<"u",eX=function(t){var n=t.cache,i=t.serialized,r=t.isStringTag;nG(n,i,r);var s=HY(function(){return WY(n,i,r)});if(!JY&&s!==void 0){for(var o,a=i.name,l=i.next;l!==void 0;)a+=" "+l.name,l=l.next;return b.createElement("style",(o={},o["data-emotion"]=n.key+" "+a,o.dangerouslySetInnerHTML={__html:s},o.nonce=n.sheet.nonce,o))}return null},tX=function e(t,n){var i=t.__emotion_real===t,r=i&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=jk(t,n,i),l=a||Wk(r),u=!l("as");return function(){var h=arguments,p=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{p.push(h[0][0]);for(var g=h.length,v=1;v<g;v++)p.push(h[v],h[0][v])}var C=tG(function(S,R,x){var D=u&&S.as||r,T="",k=[],L=S;if(S.theme==null){L={};for(var P in S)L[P]=S[P];L.theme=b.useContext(zY)}typeof S.className=="string"?T=UY(R.registered,k,S.className):S.className!=null&&(T=S.className+" ");var _=XY(p.concat(k),R.registered,L);T+=R.key+"-"+_.name,o!==void 0&&(T+=" "+o);var M=u&&a===void 0?Wk(D):l,N={};for(var B in S)u&&B==="as"||M(B)&&(N[B]=S[B]);return N.className=T,N.ref=x,b.createElement(b.Fragment,null,b.createElement(eX,{cache:R,serialized:_,isStringTag:typeof D=="string"}),b.createElement(D,N))});return C.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",C.defaultProps=t.defaultProps,C.__emotion_real=C,C.__emotion_base=r,C.__emotion_styles=p,C.__emotion_forwardProp=a,Object.defineProperty(C,"toString",{value:function(){return"."+o}}),C.withComponent=function(S,R){return e(S,qx({},n,R,{shouldForwardProp:jk(C,R,!0)})).apply(void 0,p)},C}},nX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_i=tX.bind();nX.forEach(function(e){_i[e]=_i(e)});var rG={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(rG);var yi=rG.exports,sG=K.createContext(void 0),iX=function(e){var t=e.children,n=K.useState({collapsed:!1,toggled:!1,broken:!1,rtl:!1,transitionDuration:300}),i=n[0],r=n[1],s=K.useCallback(function(u){r(function(h){return Qn(Qn({},h),u)})},[]),o=K.useCallback(function(){r(function(u){return Qn(Qn({},u),{collapsed:!u?.collapsed})})},[]),a=K.useCallback(function(){r(function(u){return Qn(Qn({},u),{toggled:!u?.toggled})})},[]),l=K.useMemo(function(){return Qn(Qn({},i),{updateSidebarState:s,updateCollapseState:o,updateToggleState:a})},[i,o,s,a]);return K.createElement(sG.Provider,{value:l},t)},oG=function(){var e=K.useContext(sG);return e},rX=function(e){var t=K.useState(!!e&&typeof window<"u"&&window.matchMedia(e).matches),n=t[0],i=t[1];return K.useEffect(function(){if(e){var r=window.matchMedia(e),s=function(){r.matches!==n&&i(r.matches)};return s(),r.addEventListener("change",s),function(){return r.removeEventListener("change",s)}}},[n,e]),n},Xn={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},Zt={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},sX=_i.div($k||($k=ar([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),$k,oX={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},aX=_i.aside(qk||(qk=ar([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")},function(e){var t=e.width;return t},function(e){var t=e.width;return t},Xn.collapsed,function(e){var t=e.collapsedWidth;return t},function(e){var t=e.collapsedWidth;return t},Xn.rtl,Xn.broken,function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")},Xn.collapsed,function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")},Xn.toggled,function(e){var t=e.rtl;return t?"":"left: 0;"},Xn.rtl,function(e){var t=e.width;return t},Xn.collapsed,function(e){var t=e.collapsedWidth;return t},Xn.toggled,function(e){var t=e.rootStyles;return t}),lX=_i.div(Kk||(Kk=ar([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""}),cX=_i.img(Yk||(Yk=ar([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),Xn.image),Ob=K.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),uX=K.forwardRef(function(e,t){var n,i=e.collapsed,r=e.toggled,s=e.onBackdropClick,o=e.onBreakPoint,a=e.width,l=a===void 0?"250px":a,u=e.collapsedWidth,h=u===void 0?"80px":u,p=e.defaultCollapsed,g=e.className,v=e.children,C=e.breakPoint,S=e.customBreakPoint,R=e.backgroundColor,x=R===void 0?"rgb(249, 249, 249, 0.7)":R,D=e.transitionDuration,T=D===void 0?300:D,k=e.image,L=e.rtl,P=e.rootStyles,_=ju(e,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),M=function(){if(S)return"(max-width: ".concat(S,")");if(C)return["xs","sm","md","lg","xl","xxl"].includes(C)?"(max-width: ".concat(oX[C],")"):C==="always"||C==="all"?(C==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(C,")")},N=K.useRef();N.current=function(ee){o?.(ee)};var B=rX(M()),H=K.useState(!1),U=H[0],G=H[1],J=oG(),ie=i??(!U&&p?!0:J?.collapsed),$=r??J?.toggled,Q=function(){s?.(),J?.updateSidebarState({toggled:!1})};return K.useEffect(function(){var ee;(ee=N.current)===null||ee===void 0||ee.call(N,B)},[B]),K.useEffect(function(){J?.updateSidebarState({broken:B,rtl:L,transitionDuration:T})},[B,J?.updateSidebarState,L,T]),K.useEffect(function(){U||(J?.updateSidebarState({collapsed:p}),G(!0))},[p,U,J?.updateSidebarState]),K.createElement(Ob.Provider,{value:{collapsed:ie,toggled:$,rtl:L,transitionDuration:T}},K.createElement(aX,Qn({ref:t,"data-testid":"".concat(Xn.root,"-test-id"),rtl:L,rootStyles:P,width:l,collapsedWidth:h,transitionDuration:T,className:yi(Xn.root,(n={},n[Xn.collapsed]=ie,n[Xn.toggled]=$,n[Xn.broken]=B,n[Xn.rtl]=L,n),g)},_),K.createElement(lX,{"data-testid":"".concat(Xn.container,"-test-id"),className:Xn.container,backgroundColor:x},v),k&&K.createElement(cX,{"data-testid":"".concat(Xn.image,"-test-id"),src:k,alt:"sidebar background",className:Xn.image}),B&&$&&K.createElement(sX,{"data-testid":"".concat(Xn.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:Q,onKeyPress:Q,className:Xn.backdrop})))}),qk,Kk,Yk,aG=_i.ul(Xk||(Xk=ar([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),Xk,dX=_i.nav(Qk||(Qk=ar([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),Zt.root,function(e){var t=e.rootStyles;return t}),lG=K.createContext(void 0),pw=K.createContext(0),hX=function(e,t){var n=e.children,i=e.className,r=e.transitionDuration,s=r===void 0?300:r,o=e.closeOnClick,a=o===void 0?!1:o,l=e.rootStyles,u=e.menuItemStyles,h=e.renderExpandIcon,p=ju(e,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),g=K.useMemo(function(){return{transitionDuration:s,closeOnClick:a,menuItemStyles:u,renderExpandIcon:h}},[s,a,u,h]);return K.createElement(lG.Provider,{value:g},K.createElement(pw.Provider,{value:0},K.createElement(dX,Qn({ref:t,className:yi(Zt.root,i),rootStyles:l},p),K.createElement(aG,null,n))))},fX=K.forwardRef(hX),Qk,pA=function(){var e=K.useContext(lG);if(e===void 0)throw new Error("Menu Component is required!");return e},pX=_i.div(Zk||(Zk=ar([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(e){var t=e.transitionDuration;return t},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(e){var t=e.defaultOpen;return t&&"height: auto;display: block;"},function(e){var t=e.collapsed,n=e.firstLevel,i=e.openWhenCollapsed;return t&&n?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(i?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(e){var t=e.rootStyles;return t}),gX=function(e,t){var n=e.children,i=e.open,r=e.openWhenCollapsed,s=e.firstLevel,o=e.collapsed,a=e.defaultOpen,l=ju(e,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),u=pA().transitionDuration,h=K.useState(a)[0];return K.createElement(pX,Qn({"data-testid":"".concat(Zt.subMenuContent,"-test-id"),ref:t,firstLevel:s,collapsed:o,open:i,openWhenCollapsed:r,transitionDuration:u,defaultOpen:h},l),K.createElement(aG,null,n))},mX=K.forwardRef(gX),Zk,cG=_i.span(Jk||(Jk=ar([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(e){var t=e.rootStyles;return t}),Jk,uG=_i.span(eO||(eO=ar([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 10px;":"margin-right: 10px;"},function(e){var t=e.rootStyles;return t}),eO,dG=_i.span(tO||(tO=ar([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 5px;":"margin-right: 5px;"},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),tO,hG=_i.span(nO||(nO=ar([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),nO,vX=_i.span(iO||(iO=ar([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(e){var t=e.collapsed,n=e.level,i=e.rtl;return t&&n===0&&`
    position: absolute;
    `.concat(i?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(e){var t=e.rootStyles;return t}),yX=_i.span(rO||(rO=ar([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(e){var t=e.rtl;return t?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"}),CX=_i.span(sO||(sO=ar([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),iO,rO,sO,Or="top",Ws="bottom",js="right",Lr="left",gA="auto",Km=[Or,Ws,js,Lr],Qh="start",tm="end",wX="clippingParents",fG="viewport",Yp="popper",bX="reference",oO=Km.reduce(function(e,t){return e.concat([t+"-"+Qh,t+"-"+tm])},[]),pG=[].concat(Km,[gA]).reduce(function(e,t){return e.concat([t,t+"-"+Qh,t+"-"+tm])},[]),SX="beforeRead",EX="read",RX="afterRead",xX="beforeMain",TX="main",DX="afterMain",AX="beforeWrite",PX="write",IX="afterWrite",FX=[SX,EX,RX,xX,TX,DX,AX,PX,IX];function ia(e){return e?(e.nodeName||"").toLowerCase():null}function Ks(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $u(e){var t=Ks(e).Element;return e instanceof t||e instanceof Element}function Bs(e){var t=Ks(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function mA(e){if(typeof ShadowRoot>"u")return!1;var t=Ks(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function MX(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},s=t.elements[n];!Bs(s)||!ia(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function _X(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=o.reduce(function(l,u){return l[u]="",l},{});!Bs(r)||!ia(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var kX={name:"applyStyles",enabled:!0,phase:"write",fn:MX,effect:_X,requires:["computeStyles"]};function Uo(e){return e.split("-")[0]}var Fu=Math.max,gw=Math.min,Zh=Math.round;function Qx(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function gG(){return!/^((?!chrome|android).)*safari/i.test(Qx())}function Jh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&Bs(e)&&(r=e.offsetWidth>0&&Zh(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Zh(i.height)/e.offsetHeight||1);var o=$u(e)?Ks(e):window,a=o.visualViewport,l=!gG()&&n,u=(i.left+(l&&a?a.offsetLeft:0))/r,h=(i.top+(l&&a?a.offsetTop:0))/s,p=i.width/r,g=i.height/s;return{width:p,height:g,top:h,right:u+p,bottom:h+g,left:u,x:u,y:h}}function vA(e){var t=Jh(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function mG(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&mA(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function qa(e){return Ks(e).getComputedStyle(e)}function OX(e){return["table","td","th"].indexOf(ia(e))>=0}function Dc(e){return(($u(e)?e.ownerDocument:e.document)||window.document).documentElement}function Lb(e){return ia(e)==="html"?e:e.assignedSlot||e.parentNode||(mA(e)?e.host:null)||Dc(e)}function aO(e){return!Bs(e)||qa(e).position==="fixed"?null:e.offsetParent}function LX(e){var t=/firefox/i.test(Qx()),n=/Trident/i.test(Qx());if(n&&Bs(e)){var i=qa(e);if(i.position==="fixed")return null}var r=Lb(e);for(mA(r)&&(r=r.host);Bs(r)&&["html","body"].indexOf(ia(r))<0;){var s=qa(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Ym(e){for(var t=Ks(e),n=aO(e);n&&OX(n)&&qa(n).position==="static";)n=aO(n);return n&&(ia(n)==="html"||ia(n)==="body"&&qa(n).position==="static")?t:n||LX(e)||t}function yA(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Eg(e,t,n){return Fu(e,gw(t,n))}function NX(e,t,n){var i=Eg(e,t,n);return i>n?n:i}function vG(){return{top:0,right:0,bottom:0,left:0}}function yG(e){return Object.assign({},vG(),e)}function CG(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var VX=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,yG(typeof t!="number"?t:CG(t,Km))};function BX(e){var t,n=e.state,i=e.name,r=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Uo(n.placement),l=yA(a),u=[Lr,js].indexOf(a)>=0,h=u?"height":"width";if(!(!s||!o)){var p=VX(r.padding,n),g=vA(s),v=l==="y"?Or:Lr,C=l==="y"?Ws:js,S=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],R=o[l]-n.rects.reference[l],x=Ym(s),D=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,T=S/2-R/2,k=p[v],L=D-g[h]-p[C],P=D/2-g[h]/2+T,_=Eg(k,P,L),M=l;n.modifiersData[i]=(t={},t[M]=_,t.centerOffset=_-P,t)}}function HX(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||mG(t.elements.popper,r)&&(t.elements.arrow=r))}var GX={name:"arrow",enabled:!0,phase:"main",fn:BX,effect:HX,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ef(e){return e.split("-")[1]}var zX={top:"auto",right:"auto",bottom:"auto",left:"auto"};function UX(e){var t=e.x,n=e.y,i=window,r=i.devicePixelRatio||1;return{x:Zh(t*r)/r||0,y:Zh(n*r)/r||0}}function lO(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,p=e.isFixed,g=o.x,v=g===void 0?0:g,C=o.y,S=C===void 0?0:C,R=typeof h=="function"?h({x:v,y:S}):{x:v,y:S};v=R.x,S=R.y;var x=o.hasOwnProperty("x"),D=o.hasOwnProperty("y"),T=Lr,k=Or,L=window;if(u){var P=Ym(n),_="clientHeight",M="clientWidth";if(P===Ks(n)&&(P=Dc(n),qa(P).position!=="static"&&a==="absolute"&&(_="scrollHeight",M="scrollWidth")),P=P,r===Or||(r===Lr||r===js)&&s===tm){k=Ws;var N=p&&P===L&&L.visualViewport?L.visualViewport.height:P[_];S-=N-i.height,S*=l?1:-1}if(r===Lr||(r===Or||r===Ws)&&s===tm){T=js;var B=p&&P===L&&L.visualViewport?L.visualViewport.width:P[M];v-=B-i.width,v*=l?1:-1}}var H=Object.assign({position:a},u&&zX),U=h===!0?UX({x:v,y:S}):{x:v,y:S};if(v=U.x,S=U.y,l){var G;return Object.assign({},H,(G={},G[k]=D?"0":"",G[T]=x?"0":"",G.transform=(L.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",G))}return Object.assign({},H,(t={},t[k]=D?S+"px":"",t[T]=x?v+"px":"",t.transform="",t))}function WX(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Uo(t.placement),variation:ef(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,lO(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,lO(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var jX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:WX,data:{}},$y={passive:!0};function $X(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Ks(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",n.update,$y)}),a&&l.addEventListener("resize",n.update,$y),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",n.update,$y)}),a&&l.removeEventListener("resize",n.update,$y)}}var qX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$X,data:{}},KX={left:"right",right:"left",bottom:"top",top:"bottom"};function kC(e){return e.replace(/left|right|bottom|top/g,function(t){return KX[t]})}var YX={start:"end",end:"start"};function cO(e){return e.replace(/start|end/g,function(t){return YX[t]})}function CA(e){var t=Ks(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function wA(e){return Jh(Dc(e)).left+CA(e).scrollLeft}function XX(e,t){var n=Ks(e),i=Dc(e),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var u=gG();(u||!u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+wA(e),y:l}}function QX(e){var t,n=Dc(e),i=CA(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=Fu(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Fu(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+wA(e),l=-i.scrollTop;return qa(r||n).direction==="rtl"&&(a+=Fu(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function bA(e){var t=qa(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function wG(e){return["html","body","#document"].indexOf(ia(e))>=0?e.ownerDocument.body:Bs(e)&&bA(e)?e:wG(Lb(e))}function Rg(e,t){var n;t===void 0&&(t=[]);var i=wG(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),s=Ks(i),o=r?[s].concat(s.visualViewport||[],bA(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(Rg(Lb(o)))}function Zx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ZX(e,t){var n=Jh(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function uO(e,t,n){return t===fG?Zx(XX(e,n)):$u(t)?ZX(t,n):Zx(QX(Dc(e)))}function JX(e){var t=Rg(Lb(e)),n=["absolute","fixed"].indexOf(qa(e).position)>=0,i=n&&Bs(e)?Ym(e):e;return $u(i)?t.filter(function(r){return $u(r)&&mG(r,i)&&ia(r)!=="body"}):[]}function eQ(e,t,n,i){var r=t==="clippingParents"?JX(e):[].concat(t),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,u){var h=uO(e,u,i);return l.top=Fu(h.top,l.top),l.right=gw(h.right,l.right),l.bottom=gw(h.bottom,l.bottom),l.left=Fu(h.left,l.left),l},uO(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function bG(e){var t=e.reference,n=e.element,i=e.placement,r=i?Uo(i):null,s=i?ef(i):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case Or:l={x:o,y:t.y-n.height};break;case Ws:l={x:o,y:t.y+t.height};break;case js:l={x:t.x+t.width,y:a};break;case Lr:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=r?yA(r):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case Qh:l[u]=l[u]-(t[h]/2-n[h]/2);break;case tm:l[u]=l[u]+(t[h]/2-n[h]/2);break}}return l}function nm(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?wX:a,u=n.rootBoundary,h=u===void 0?fG:u,p=n.elementContext,g=p===void 0?Yp:p,v=n.altBoundary,C=v===void 0?!1:v,S=n.padding,R=S===void 0?0:S,x=yG(typeof R!="number"?R:CG(R,Km)),D=g===Yp?bX:Yp,T=e.rects.popper,k=e.elements[C?D:g],L=eQ($u(k)?k:k.contextElement||Dc(e.elements.popper),l,h,o),P=Jh(e.elements.reference),_=bG({reference:P,element:T,placement:r}),M=Zx(Object.assign({},T,_)),N=g===Yp?M:P,B={top:L.top-N.top+x.top,bottom:N.bottom-L.bottom+x.bottom,left:L.left-N.left+x.left,right:N.right-L.right+x.right},H=e.modifiersData.offset;if(g===Yp&&H){var U=H[r];Object.keys(B).forEach(function(G){var J=[js,Ws].indexOf(G)>=0?1:-1,ie=[Or,Ws].indexOf(G)>=0?"y":"x";B[G]+=U[ie]*J})}return B}function tQ(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?pG:l,h=ef(i),p=h?a?oO:oO.filter(function(C){return ef(C)===h}):Km,g=p.filter(function(C){return u.indexOf(C)>=0});g.length===0&&(g=p);var v=g.reduce(function(C,S){return C[S]=nm(e,{placement:S,boundary:r,rootBoundary:s,padding:o})[Uo(S)],C},{});return Object.keys(v).sort(function(C,S){return v[C]-v[S]})}function nQ(e){if(Uo(e)===gA)return[];var t=kC(e);return[cO(e),t,cO(t)]}function iQ(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,C=v===void 0?!0:v,S=n.allowedAutoPlacements,R=t.options.placement,x=Uo(R),D=x===R,T=l||(D||!C?[kC(R)]:nQ(R)),k=[R].concat(T).reduce(function(pe,De){return pe.concat(Uo(De)===gA?tQ(t,{placement:De,boundary:h,rootBoundary:p,padding:u,flipVariations:C,allowedAutoPlacements:S}):De)},[]),L=t.rects.reference,P=t.rects.popper,_=new Map,M=!0,N=k[0],B=0;B<k.length;B++){var H=k[B],U=Uo(H),G=ef(H)===Qh,J=[Or,Ws].indexOf(U)>=0,ie=J?"width":"height",$=nm(t,{placement:H,boundary:h,rootBoundary:p,altBoundary:g,padding:u}),Q=J?G?js:Lr:G?Ws:Or;L[ie]>P[ie]&&(Q=kC(Q));var ee=kC(Q),fe=[];if(s&&fe.push($[U]<=0),a&&fe.push($[Q]<=0,$[ee]<=0),fe.every(function(pe){return pe})){N=H,M=!1;break}_.set(H,fe)}if(M)for(var F=C?3:1,X=function(De){var xe=k.find(function(lt){var qe=_.get(lt);if(qe)return qe.slice(0,De).every(function(ze){return ze})});if(xe)return N=xe,"break"},ne=F;ne>0;ne--){var z=X(ne);if(z==="break")break}t.placement!==N&&(t.modifiersData[i]._skip=!0,t.placement=N,t.reset=!0)}}var rQ={name:"flip",enabled:!0,phase:"main",fn:iQ,requiresIfExists:["offset"],data:{_skip:!1}};function dO(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function hO(e){return[Or,js,Ws,Lr].some(function(t){return e[t]>=0})}function sQ(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=nm(t,{elementContext:"reference"}),a=nm(t,{altBoundary:!0}),l=dO(o,i),u=dO(a,r,s),h=hO(l),p=hO(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}var oQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sQ};function aQ(e,t,n){var i=Uo(e),r=[Lr,Or].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Lr,js].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function lQ(e){var t=e.state,n=e.options,i=e.name,r=n.offset,s=r===void 0?[0,0]:r,o=pG.reduce(function(h,p){return h[p]=aQ(p,t.rects,s),h},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=o}var cQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lQ};function uQ(e){var t=e.state,n=e.name;t.modifiersData[n]=bG({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var dQ={name:"popperOffsets",enabled:!0,phase:"read",fn:uQ,data:{}};function hQ(e){return e==="x"?"y":"x"}function fQ(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.padding,g=n.tether,v=g===void 0?!0:g,C=n.tetherOffset,S=C===void 0?0:C,R=nm(t,{boundary:l,rootBoundary:u,padding:p,altBoundary:h}),x=Uo(t.placement),D=ef(t.placement),T=!D,k=yA(x),L=hQ(k),P=t.modifiersData.popperOffsets,_=t.rects.reference,M=t.rects.popper,N=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,B=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),H=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(P){if(s){var G,J=k==="y"?Or:Lr,ie=k==="y"?Ws:js,$=k==="y"?"height":"width",Q=P[k],ee=Q+R[J],fe=Q-R[ie],F=v?-M[$]/2:0,X=D===Qh?_[$]:M[$],ne=D===Qh?-M[$]:-_[$],z=t.elements.arrow,pe=v&&z?vA(z):{width:0,height:0},De=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:vG(),xe=De[J],lt=De[ie],qe=Eg(0,_[$],pe[$]),ze=T?_[$]/2-F-qe-xe-B.mainAxis:X-qe-xe-B.mainAxis,nt=T?-_[$]/2+F+qe+lt+B.mainAxis:ne+qe+lt+B.mainAxis,ct=t.elements.arrow&&Ym(t.elements.arrow),mt=ct?k==="y"?ct.clientTop||0:ct.clientLeft||0:0,Ot=(G=H?.[k])!=null?G:0,ke=Q+ze-Ot-mt,Le=Q+nt-Ot,Qe=Eg(v?gw(ee,ke):ee,Q,v?Fu(fe,Le):fe);P[k]=Qe,U[k]=Qe-Q}if(a){var Ne,Ze=k==="x"?Or:Lr,xt=k==="x"?Ws:js,st=P[L],St=L==="y"?"height":"width",Et=st+R[Ze],Mt=st-R[xt],mn=[Or,Lr].indexOf(x)!==-1,Vn=(Ne=H?.[L])!=null?Ne:0,te=mn?Et:st-_[St]-M[St]-Vn+B.altAxis,ve=mn?st+_[St]+M[St]-Vn-B.altAxis:Mt,Pe=v&&mn?NX(te,st,ve):Eg(v?te:Et,st,v?ve:Mt);P[L]=Pe,U[L]=Pe-st}t.modifiersData[i]=U}}var pQ={name:"preventOverflow",enabled:!0,phase:"main",fn:fQ,requiresIfExists:["offset"]};function gQ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function mQ(e){return e===Ks(e)||!Bs(e)?CA(e):gQ(e)}function vQ(e){var t=e.getBoundingClientRect(),n=Zh(t.width)/e.offsetWidth||1,i=Zh(t.height)/e.offsetHeight||1;return n!==1||i!==1}function yQ(e,t,n){n===void 0&&(n=!1);var i=Bs(t),r=Bs(t)&&vQ(t),s=Dc(t),o=Jh(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((ia(t)!=="body"||bA(s))&&(a=mQ(t)),Bs(t)?(l=Jh(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=wA(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function CQ(e){var t=new Map,n=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(s)}return e.forEach(function(s){n.has(s.name)||r(s)}),i}function wQ(e){var t=CQ(e);return FX.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function bQ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function SQ(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var fO={placement:"bottom",modifiers:[],strategy:"absolute"};function pO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function EQ(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,s=r===void 0?fO:r;return function(a,l,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},fO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],g=!1,v={state:h,setOptions:function(x){var D=typeof x=="function"?x(h.options):x;S(),h.options=Object.assign({},s,h.options,D),h.scrollParents={reference:$u(a)?Rg(a):a.contextElement?Rg(a.contextElement):[],popper:Rg(l)};var T=wQ(SQ([].concat(i,h.options.modifiers)));return h.orderedModifiers=T.filter(function(k){return k.enabled}),C(),v.update()},forceUpdate:function(){if(!g){var x=h.elements,D=x.reference,T=x.popper;if(pO(D,T)){h.rects={reference:yQ(D,Ym(T),h.options.strategy==="fixed"),popper:vA(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(B){return h.modifiersData[B.name]=Object.assign({},B.data)});for(var k=0;k<h.orderedModifiers.length;k++){if(h.reset===!0){h.reset=!1,k=-1;continue}var L=h.orderedModifiers[k],P=L.fn,_=L.options,M=_===void 0?{}:_,N=L.name;typeof P=="function"&&(h=P({state:h,options:M,name:N,instance:v})||h)}}}},update:bQ(function(){return new Promise(function(R){v.forceUpdate(),R(h)})}),destroy:function(){S(),g=!0}};if(!pO(a,l))return v;v.setOptions(u).then(function(R){!g&&u.onFirstUpdate&&u.onFirstUpdate(R)});function C(){h.orderedModifiers.forEach(function(R){var x=R.name,D=R.options,T=D===void 0?{}:D,k=R.effect;if(typeof k=="function"){var L=k({state:h,name:x,instance:v,options:T}),P=function(){};p.push(L||P)}})}function S(){p.forEach(function(R){return R()}),p=[]}return v}}var RQ=[qX,dQ,jX,kX,cQ,rQ,pQ,GX,oQ],xQ=EQ({defaultModifiers:RQ}),TQ=function(e){var t=e.level,n=e.buttonRef,i=e.contentRef,r=K.useContext(Ob),s=r.collapsed,o=r.toggled,a=r.transitionDuration,l=K.useRef();return K.useEffect(function(){return t===0&&s&&i.current&&n.current&&(l.current=xQ(n.current,i.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var u;return(u=l.current)===null||u===void 0?void 0:u.destroy()}},[t,s,i,n]),K.useEffect(function(){if(i.current&&n.current){var u=new ResizeObserver(function(){var h;(h=l.current)===null||h===void 0||h.update()});u.observe(i.current),u.observe(n.current)}setTimeout(function(){var h;(h=l.current)===null||h===void 0||h.update()},a)},[a,o,i,n]),{popperInstance:l.current}},SG=function(e){var t=e.rtl,n=e.level,i=e.collapsed,r=e.disabled,s=e.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(t?`padding-left: 20px;
           padding-right: `.concat(n===0?20:(i?n:n+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(n===0?20:(i?n:n+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(r&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(s&&"background-color: #e2eef9;",`
  
  `)},DQ=function(e,t){var n=e.className,i=e.component,r=e.children,s=ju(e,["className","component","children"]);if(i){if(typeof i=="string")return K.createElement(i,Qn(Qn({className:yi(n)},s),{ref:t}),r);var o=i.props,a=o.className,l=ju(o,["className"]);return K.cloneElement(i,Qn(Qn(Qn({className:yi(n,a)},s),l),{ref:t}),r)}else return K.createElement("a",Qn({ref:t,className:yi(n)},s),r)},EG=K.forwardRef(DQ),AQ=_i.li(gO||(gO=ar([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},Zt.button,function(e){var t=e.level,n=e.disabled,i=e.active,r=e.collapsed,s=e.rtl;return SG({level:t,disabled:n,active:i,collapsed:r,rtl:s})},function(e){var t=e.buttonStyles;return t}),PQ=function(e,t){var n,i=e.children,r=e.className,s=e.label,o=e.icon,a=e.title,l=e.prefix,u=e.suffix,h=e.open,p=e.defaultOpen,g=e.active,v=g===void 0?!1:g,C=e.disabled,S=C===void 0?!1:C,R=e.rootStyles,x=e.component,D=e.onOpenChange,T=e.onClick,k=e.onKeyUp,L=ju(e,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),P=K.useContext(pw),_=K.useContext(Ob),M=_.collapsed,N=_.rtl,B=_.transitionDuration,H=pA(),U=H.renderExpandIcon,G=H.closeOnClick,J=H.menuItemStyles,ie=H.transitionDuration,$=K.useState(!!p),Q=$[0],ee=$[1],fe=K.useState(!1),F=fe[0],X=fe[1],ne=K.useState(!1),z=ne[0],pe=ne[1],De=K.useRef(null),xe=K.useRef(null),lt=K.useRef(),qe=TQ({level:P,buttonRef:De,contentRef:xe}).popperInstance,ze=K.useCallback(function(){var Qe,Ne=xe.current;if(Ne){var Ze=(Qe=Ne?.querySelector(".".concat(Zt.subMenuContent," > ul")))===null||Qe===void 0?void 0:Qe.clientHeight;Ne.style.overflow="hidden",Ne.style.height="".concat(Ze,"px"),lt.current=setTimeout(function(){Ne.style.overflow="auto",Ne.style.height="auto"},ie)}},[ie]),nt=function(){var Qe,Ne=xe.current;if(Ne){var Ze=(Qe=Ne?.querySelector(".".concat(Zt.subMenuContent," > ul")))===null||Qe===void 0?void 0:Qe.clientHeight;Ne.style.overflow="hidden",Ne.style.height="".concat(Ze,"px"),Ne.offsetHeight,Ne.style.height="0px"}},ct=function(){P===0&&M||(typeof h>"u"?(clearTimeout(Number(lt.current)),Q?nt():ze(),D?.(!Q),ee(!Q)):D?.(!h))};K.useEffect(function(){!(P===0&&M)&&typeof h<"u"&&z&&(clearTimeout(Number(lt.current)),h?ze():nt())},[M,ze,s,P,D,h]);var mt=function(Qe){T?.(Qe),ct()},Ot=function(Qe){k?.(Qe),Qe.key==="Enter"&&ct()},ke=function(Qe){if(J){var Ne={level:P,disabled:S,active:v,isSubmenu:!0,open:h??Q},Ze=J.root,xt=J.button,st=J.label,St=J.icon,Et=J.prefix,Mt=J.suffix,mn=J.subMenuContent,Vn=J.SubMenuExpandIcon;switch(Qe){case"root":return typeof Ze=="function"?Ze(Ne):Ze;case"button":return typeof xt=="function"?xt(Ne):xt;case"label":return typeof st=="function"?st(Ne):st;case"icon":return typeof St=="function"?St(Ne):St;case"prefix":return typeof Et=="function"?Et(Ne):Et;case"suffix":return typeof Mt=="function"?Mt(Ne):Mt;case"SubMenuExpandIcon":return typeof Vn=="function"?Vn(Ne):Vn;case"subMenuContent":return typeof mn=="function"?mn(Ne):mn;default:return}}};K.useEffect(function(){setTimeout(function(){return qe?.update()},B),M&&P===0&&X(!1)},[M,P,N,B,qe]),K.useEffect(function(){var Qe=function(st){var St,Et,Mt;!F&&(!((St=De.current)===null||St===void 0)&&St.contains(st))?X(!0):(G&&!(!((Et=st.closest(".".concat(Zt.menuItemRoot)))===null||Et===void 0)&&Et.classList.contains(Zt.subMenuRoot))||!(!((Mt=xe.current)===null||Mt===void 0)&&Mt.contains(st))&&F)&&X(!1)},Ne=function(st){Qe(st.target)},Ze=function(st){st.key==="Enter"?Qe(st.target):st.key==="Escape"&&X(!1)},xt=function(){document.removeEventListener("click",Ne),document.removeEventListener("keyup",Ze)};return xt(),M&&P===0&&(document.addEventListener("click",Ne,!1),document.addEventListener("keyup",Ze,!1)),function(){xt()}},[M,P,G,F]),K.useEffect(function(){pe(!0)},[]);var Le=(n={},n[Zt.active]=v,n[Zt.disabled]=S,n[Zt.open]=h??Q,n);return K.createElement(AQ,{ref:t,className:yi(Zt.menuItemRoot,Zt.subMenuRoot,Le,r),menuItemStyles:ke("root"),level:P,collapsed:M,rtl:N,disabled:S,active:v,buttonStyles:ke("button"),rootStyles:R},K.createElement(EG,Qn({"data-testid":"".concat(Zt.button,"-test-id"),ref:De,title:a,className:yi(Zt.button,Le),onClick:mt,onKeyUp:Ot,component:x,tabIndex:0},L),o&&K.createElement(uG,{rtl:N,className:yi(Zt.icon,Le),rootStyles:ke("icon")},o),l&&K.createElement(dG,{collapsed:M,transitionDuration:B,firstLevel:P===0,className:yi(Zt.prefix,Le),rtl:N,rootStyles:ke("prefix")},l),K.createElement(cG,{className:yi(Zt.label,Le),rootStyles:ke("label")},s),u&&K.createElement(hG,{collapsed:M,transitionDuration:B,firstLevel:P===0,className:yi(Zt.suffix,Le),rootStyles:ke("suffix")},u),K.createElement(vX,{rtl:N,className:yi(Zt.SubMenuExpandIcon,Le),collapsed:M,level:P,rootStyles:ke("SubMenuExpandIcon")},U?U({level:P,disabled:S,active:v,open:h??Q}):M&&P===0?K.createElement(CX,null):K.createElement(yX,{rtl:N,open:h??Q}))),K.createElement(mX,{ref:xe,openWhenCollapsed:F,open:h??Q,firstLevel:P===0,collapsed:M,defaultOpen:h&&!z||p,className:yi(Zt.subMenuContent,Le),rootStyles:ke("subMenuContent")},K.createElement(pw.Provider,{value:P+1},i)))};K.forwardRef(PQ);var gO,IQ=_i.li(mO||(mO=ar([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},Zt.button,function(e){var t=e.level,n=e.disabled,i=e.active,r=e.collapsed,s=e.rtl;return SG({level:t,disabled:n,active:i,collapsed:r,rtl:s})},function(e){var t=e.buttonStyles;return t}),FQ=function(e,t){var n,i=e.children,r=e.icon,s=e.className,o=e.prefix,a=e.suffix,l=e.active,u=l===void 0?!1:l,h=e.disabled,p=h===void 0?!1:h,g=e.component,v=e.rootStyles,C=ju(e,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),S=K.useContext(pw),R=K.useContext(Ob),x=R.collapsed,D=R.rtl,T=R.transitionDuration,k=pA().menuItemStyles,L=function(_){if(k){var M={level:S,disabled:p,active:u,isSubmenu:!1},N=k.root,B=k.button,H=k.label,U=k.icon,G=k.prefix,J=k.suffix;switch(_){case"root":return typeof N=="function"?N(M):N;case"button":return typeof B=="function"?B(M):B;case"label":return typeof H=="function"?H(M):H;case"icon":return typeof U=="function"?U(M):U;case"prefix":return typeof G=="function"?G(M):G;case"suffix":return typeof J=="function"?J(M):J;default:return}}},P=(n={},n[Zt.active]=u,n[Zt.disabled]=p,n);return K.createElement(IQ,{ref:t,className:yi(Zt.menuItemRoot,P,s),menuItemStyles:L("root"),level:S,collapsed:x,rtl:D,disabled:p,active:u,buttonStyles:L("button"),rootStyles:v},K.createElement(EG,Qn({className:yi(Zt.button,P),"data-testid":"".concat(Zt.button,"-test-id"),component:g,tabIndex:0},C),r&&K.createElement(uG,{rtl:D,className:yi(Zt.icon,P),rootStyles:L("icon")},r),o&&K.createElement(dG,{collapsed:x,transitionDuration:T,firstLevel:S===0,className:yi(Zt.prefix,P),rtl:D,rootStyles:L("prefix")},o),K.createElement(cG,{className:yi(Zt.label,P),rootStyles:L("label")},i),a&&K.createElement(hG,{collapsed:x,transitionDuration:T,firstLevel:S===0,className:yi(Zt.suffix,P),rootStyles:L("suffix")},a)))},Nl=K.forwardRef(FQ),mO,MQ=function(e){var t=e.children;return console.warn("ProSidebarProvider is deprecated and will be removed in the next major release."),K.createElement(iX,null,t)},_Q=function(){var e=oG();if(e===void 0)throw new Error("useProSidebar must be used within a ProSidebarProvider. Please wrap your component with a ProSidebarProvider to use this hook.");var t=K.useCallback(function(i){i===void 0?e.updateCollapseState():e.updateSidebarState({collapsed:i})},[e.updateCollapseState,e.updateSidebarState]),n=K.useCallback(function(i){i===void 0?e.updateToggleState():e.updateSidebarState({toggled:i})},[e.updateToggleState,e.updateSidebarState]);return K.useEffect(function(){console.warn("useProSidebar is deprecated and will be removed in the next major release. Please use Sidebar props instead.")},[]),{collapseSidebar:t,toggleSidebar:n,collapsed:!!e.collapsed,broken:!!e.broken,toggled:!!e.toggled,rtl:!!e.rtl}},n0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vO;function kQ(){return vO||(vO=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(n0)),n0.exports}var OQ=kQ();const Xe=wf(OQ);function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},im.apply(null,arguments)}function RG(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function yO(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function LQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:String(t)}function NQ(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VQ(e,t,n){var i=b.useRef(e!==void 0),r=b.useState(t),s=r[0],o=r[1],a=e!==void 0,l=i.current;return i.current=a,!a&&l&&s!==t&&o(t),[a?e:s,b.useCallback(function(u){for(var h=arguments.length,p=new Array(h>1?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];n&&n.apply(void 0,[u].concat(p)),o(u)},[n])]}function SA(e,t){return Object.keys(t).reduce(function(n,i){var r,s=n,o=s[yO(i)],a=s[i],l=RG(s,[yO(i),i].map(LQ)),u=t[i],h=VQ(a,o,e[u]),p=h[0],g=h[1];return im({},l,(r={},r[i]=p,r[u]=g,r))},e)}function Jx(e,t){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jx(e,t)}function BQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jx(e,t)}const HQ=["xxl","xl","lg","md","sm","xs"],GQ="xs",Xm=b.createContext({prefixes:{},breakpoints:HQ,minBreakpoint:GQ}),{Consumer:jBe,Provider:$Be}=Xm;function at(e,t){const{prefixes:n}=b.useContext(Xm);return e||n[t]||t}function xG(){const{breakpoints:e}=b.useContext(Xm);return e}function TG(){const{minBreakpoint:e}=b.useContext(Xm);return e}function zQ(){const{dir:e}=b.useContext(Xm);return e==="rtl"}function Nb(e){return e&&e.ownerDocument||document}function UQ(e){var t=Nb(e);return t&&t.defaultView||window}function WQ(e,t){return UQ(e).getComputedStyle(e,t)}var jQ=/([A-Z])/g;function $Q(e){return e.replace(jQ,"-$1").toLowerCase()}var qQ=/^ms-/;function qy(e){return $Q(e).replace(qQ,"-ms-")}var KQ=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function YQ(e){return!!(e&&KQ.test(e))}function Ba(e,t){var n="",i="";if(typeof t=="string")return e.style.getPropertyValue(qy(t))||WQ(e).getPropertyValue(qy(t));Object.keys(t).forEach(function(r){var s=t[r];!s&&s!==0?e.style.removeProperty(qy(r)):YQ(r)?i+=r+"("+s+") ":n+=qy(r)+": "+s+";"}),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n}var i0={exports:{}},r0,CO;function XQ(){if(CO)return r0;CO=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return r0=e,r0}var s0,wO;function QQ(){if(wO)return s0;wO=1;var e=XQ();function t(){}function n(){}return n.resetWarningCache=t,s0=function(){function i(o,a,l,u,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},s0}var bO;function ZQ(){return bO||(bO=1,i0.exports=QQ()()),i0.exports}var JQ=ZQ();const Ha=wf(JQ),SO={disabled:!1},DG=K.createContext(null);var eZ=function(t){return t.scrollTop},dg="unmounted",jl="exited",no="entering",Oa="entered",rm="exiting",ol=function(e){BQ(t,e);function t(i,r){var s;s=e.call(this,i,r)||this;var o=r,a=o&&!o.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?a?(l=jl,s.appearStatus=no):l=Oa:i.unmountOnExit||i.mountOnEnter?l=dg:l=jl,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===dg?{status:jl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==no&&o!==Oa&&(s=no):(o===no||o===Oa)&&(s=rm)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,s,o,a;return s=o=a=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===no){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ec.findDOMNode(this);o&&eZ(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jl&&this.setState({status:dg})},n.performEnter=function(r){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[ec.findDOMNode(this),a],u=l[0],h=l[1],p=this.getTimeouts(),g=a?p.appear:p.enter;if(!r&&!o||SO.disabled){this.safeSetState({status:Oa},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:no},function(){s.props.onEntering(u,h),s.onTransitionEnd(g,function(){s.safeSetState({status:Oa},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ec.findDOMNode(this);if(!s||SO.disabled){this.safeSetState({status:jl},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:rm},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:jl},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},n.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ec.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===dg)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=RG(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return K.createElement(DG.Provider,{value:null},typeof o=="function"?o(r,a):K.cloneElement(K.Children.only(o),a))},t}(K.Component);ol.contextType=DG;ol.propTypes={};function lh(){}ol.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lh,onEntering:lh,onEntered:lh,onExit:lh,onExiting:lh,onExited:lh};ol.UNMOUNTED=dg;ol.EXITED=jl;ol.ENTERING=no;ol.ENTERED=Oa;ol.EXITING=rm;function tZ(e){return e.code==="Escape"||e.keyCode===27}function nZ(){const e=b.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Rf(e){if(!e||typeof e=="function")return null;const{major:t}=nZ();return t>=19?e.props.ref:e.ref}const xf=!!(typeof window<"u"&&window.document&&window.document.createElement);var eT=!1,tT=!1;try{var o0={get passive(){return eT=!0},get once(){return tT=eT=!0}};xf&&(window.addEventListener("test",o0,o0),window.removeEventListener("test",o0,!0))}catch{}function AG(e,t,n,i){if(i&&typeof i!="boolean"&&!tT){var r=i.once,s=i.capture,o=n;!tT&&r&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,eT?i:s)}e.addEventListener(t,n,i)}function nT(e,t,n,i){var r=i&&typeof i!="boolean"?i.capture:i;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)}function mw(e,t,n,i){return AG(e,t,n,i),function(){nT(e,t,n,i)}}function iZ(e,t,n,i){if(i===void 0&&(i=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,i),e.dispatchEvent(r)}}function rZ(e){var t=Ba(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function sZ(e,t,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||iZ(e,"transitionend",!0)},t+n),s=mw(e,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),s()}}function PG(e,t,n,i){n==null&&(n=rZ(e)||0);var r=sZ(e,n,i),s=mw(e,"transitionend",t);return function(){r(),s()}}function EO(e,t){const n=Ba(e,t)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function EA(e,t){const n=EO(e,"transitionDuration"),i=EO(e,"transitionDelay"),r=PG(e,s=>{s.target===e&&(r(),t(s))},n+i)}function Xp(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...r){t.apply(this,r),n.apply(this,r)}},null)}function IG(e){e.offsetHeight}const RO=e=>!e||typeof e=="function"?e:t=>{e.current=t};function oZ(e,t){const n=RO(e),i=RO(t);return r=>{n&&n(r),i&&i(r)}}function FG(e,t){return b.useMemo(()=>oZ(e,t),[e,t])}function aZ(e){return e&&"setState"in e?ec.findDOMNode(e):e??null}const Vb=K.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:r,onExited:s,addEndListener:o,children:a,childRef:l,...u},h)=>{const p=b.useRef(null),g=FG(p,l),v=P=>{g(aZ(P))},C=P=>_=>{P&&p.current&&P(p.current,_)},S=b.useCallback(C(e),[e]),R=b.useCallback(C(t),[t]),x=b.useCallback(C(n),[n]),D=b.useCallback(C(i),[i]),T=b.useCallback(C(r),[r]),k=b.useCallback(C(s),[s]),L=b.useCallback(C(o),[o]);return I.jsx(ol,{ref:h,...u,onEnter:S,onEntered:x,onEntering:R,onExit:D,onExited:k,onExiting:T,addEndListener:L,nodeRef:p,children:typeof a=="function"?(P,_)=>a(P,{..._,ref:v}):K.cloneElement(a,{ref:v})})});Vb.displayName="TransitionWrapper";const lZ={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function cZ(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,i=t[n],r=lZ[e];return i+parseInt(Ba(t,r[0]),10)+parseInt(Ba(t,r[1]),10)}const uZ={[jl]:"collapse",[rm]:"collapsing",[no]:"collapsing",[Oa]:"collapse show"},MG=K.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:r,className:s,children:o,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:h=!1,unmountOnExit:p=!1,appear:g=!1,getDimensionValue:v=cZ,...C},S)=>{const R=typeof a=="function"?a():a,x=b.useMemo(()=>Xp(P=>{P.style[R]="0"},e),[R,e]),D=b.useMemo(()=>Xp(P=>{const _=`scroll${R[0].toUpperCase()}${R.slice(1)}`;P.style[R]=`${P[_]}px`},t),[R,t]),T=b.useMemo(()=>Xp(P=>{P.style[R]=null},n),[R,n]),k=b.useMemo(()=>Xp(P=>{P.style[R]=`${v(R,P)}px`,IG(P)},i),[i,v,R]),L=b.useMemo(()=>Xp(P=>{P.style[R]=null},r),[R,r]);return I.jsx(Vb,{ref:S,addEndListener:EA,...C,"aria-expanded":C.role?l:null,onEnter:x,onEntering:D,onEntered:T,onExit:k,onExiting:L,childRef:Rf(o),in:l,timeout:u,mountOnEnter:h,unmountOnExit:p,appear:g,children:(P,_)=>K.cloneElement(o,{..._,className:Xe(s,o.props.className,uZ[P],R==="width"&&"collapse-horizontal")})})});MG.displayName="Collapse";function dZ(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function dc(e){const t=dZ(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Qm=e=>b.forwardRef((t,n)=>I.jsx("div",{...t,ref:n,className:Xe(t.className,e)})),_G=Qm("h4");_G.displayName="DivStyledAsH4";const kG=b.forwardRef(({className:e,bsPrefix:t,as:n=_G,...i},r)=>(t=at(t,"alert-heading"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));kG.displayName="AlertHeading";function hZ(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function La(e){const t=hZ(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function fZ(){const e=b.useRef(!0),t=b.useRef(()=>e.current);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function pZ(e){const t=b.useRef(null);return b.useEffect(()=>{t.current=e}),t.current}const gZ=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",mZ=typeof document<"u",xO=mZ||gZ?b.useLayoutEffect:b.useEffect,vZ=["as","disabled"];function yZ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function CZ(e){return!e||e.trim()==="#"}function RA({tagName:e,disabled:t,href:n,target:i,rel:r,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||i!=null||r!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},u];const h=g=>{if((t||e==="a"&&CZ(n))&&g.preventDefault(),t){g.stopPropagation();return}o?.(g)},p=g=>{g.key===" "&&(g.preventDefault(),h(g))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?i:void 0,"aria-disabled":t||void 0,rel:e==="a"?r:void 0,onClick:h,onKeyDown:p},u]}const OG=b.forwardRef((e,t)=>{let{as:n,disabled:i}=e,r=yZ(e,vZ);const[s,{tagName:o}]=RA(Object.assign({tagName:n,disabled:i},r));return I.jsx(o,Object.assign({},r,s,{ref:t}))});OG.displayName="Button";const wZ=["onKeyDown"];function bZ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function SZ(e){return!e||e.trim()==="#"}const LG=b.forwardRef((e,t)=>{let{onKeyDown:n}=e,i=bZ(e,wZ);const[r]=RA(Object.assign({tagName:"a"},i)),s=La(o=>{r.onKeyDown(o),n?.(o)});return SZ(i.href)||i.role==="button"?I.jsx("a",Object.assign({ref:t},i,r,{onKeyDown:s})):I.jsx("a",Object.assign({ref:t},i,{onKeyDown:n}))});LG.displayName="Anchor";const NG=b.forwardRef(({className:e,bsPrefix:t,as:n=LG,...i},r)=>(t=at(t,"alert-link"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));NG.displayName="AlertLink";const EZ={[no]:"show",[Oa]:"show"},tf=b.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:i,...r},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},a=b.useCallback((l,u)=>{IG(l),i?.(l,u)},[i]);return I.jsx(Vb,{ref:s,addEndListener:EA,...o,onEnter:a,childRef:Rf(t),children:(l,u)=>b.cloneElement(t,{...u,className:Xe("fade",e,t.props.className,EZ[l],n[l])})})});tf.displayName="Fade";const RZ={"aria-label":Ha.string,onClick:Ha.func,variant:Ha.oneOf(["white"])},Bb=b.forwardRef(({className:e,variant:t,"aria-label":n="Close",...i},r)=>I.jsx("button",{ref:r,type:"button",className:Xe("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...i}));Bb.displayName="CloseButton";Bb.propTypes=RZ;const VG=b.forwardRef((e,t)=>{const{bsPrefix:n,show:i=!0,closeLabel:r="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:u,dismissible:h,transition:p=tf,...g}=SA(e,{show:"onClose"}),v=at(n,"alert"),C=dc(x=>{u&&u(!1,x)}),S=p===!0?tf:p,R=I.jsxs("div",{role:"alert",...S?void 0:g,ref:t,className:Xe(o,v,l&&`${v}-${l}`,h&&`${v}-dismissible`),children:[h&&I.jsx(Bb,{onClick:C,"aria-label":r,variant:s}),a]});return S?I.jsx(S,{unmountOnExit:!0,...g,ref:void 0,in:i,children:R}):i?R:null});VG.displayName="Alert";const vw=Object.assign(VG,{Link:NG,Heading:kG}),iT=b.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:i,className:r,as:s="span",...o},a)=>{const l=at(e,"badge");return I.jsx(s,{ref:a,...o,className:Xe(r,l,n&&"rounded-pill",i&&`text-${i}`,t&&`bg-${t}`)})});iT.displayName="Badge";const Ki=b.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:i,active:r=!1,disabled:s=!1,className:o,...a},l)=>{const u=at(t,"btn"),[h,{tagName:p}]=RA({tagName:e,disabled:s,...a}),g=p;return I.jsx(g,{...h,...a,ref:l,disabled:s,className:Xe(o,u,r&&"active",n&&`${u}-${n}`,i&&`${u}-${i}`,a.href&&s&&"disabled")})});Ki.displayName="Button";const xA=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=at(t,"card-body"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));xA.displayName="CardBody";const BG=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=at(t,"card-footer"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));BG.displayName="CardFooter";const HG=b.createContext(null);HG.displayName="CardHeaderContext";const GG=b.forwardRef(({bsPrefix:e,className:t,as:n="div",...i},r)=>{const s=at(e,"card-header"),o=b.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return I.jsx(HG.Provider,{value:o,children:I.jsx(n,{ref:r,...i,className:Xe(t,s)})})});GG.displayName="CardHeader";const zG=b.forwardRef(({bsPrefix:e,className:t,variant:n,as:i="img",...r},s)=>{const o=at(e,"card-img");return I.jsx(i,{ref:s,className:Xe(n?`${o}-${n}`:o,t),...r})});zG.displayName="CardImg";const UG=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=at(t,"card-img-overlay"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));UG.displayName="CardImgOverlay";const WG=b.forwardRef(({className:e,bsPrefix:t,as:n="a",...i},r)=>(t=at(t,"card-link"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));WG.displayName="CardLink";const xZ=Qm("h6"),jG=b.forwardRef(({className:e,bsPrefix:t,as:n=xZ,...i},r)=>(t=at(t,"card-subtitle"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));jG.displayName="CardSubtitle";const $G=b.forwardRef(({className:e,bsPrefix:t,as:n="p",...i},r)=>(t=at(t,"card-text"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));$G.displayName="CardText";const TZ=Qm("h5"),qG=b.forwardRef(({className:e,bsPrefix:t,as:n=TZ,...i},r)=>(t=at(t,"card-title"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));qG.displayName="CardTitle";const KG=b.forwardRef(({bsPrefix:e,className:t,bg:n,text:i,border:r,body:s=!1,children:o,as:a="div",...l},u)=>{const h=at(e,"card");return I.jsx(a,{ref:u,...l,className:Xe(t,h,n&&`bg-${n}`,i&&`text-${i}`,r&&`border-${r}`),children:s?I.jsx(xA,{children:o}):o})});KG.displayName="Card";const pn=Object.assign(KG,{Img:zG,Title:qG,Subtitle:jG,Body:xA,Link:WG,Text:$G,Header:GG,Footer:BG,ImgOverlay:UG});function DZ(e){const t=b.useRef(e);return t.current=e,t}function AZ(e){const t=DZ(e);b.useEffect(()=>()=>t.current(),[])}function PZ(e,t){return b.Children.toArray(e).some(n=>b.isValidElement(n)&&n.type===t)}function IZ({as:e,bsPrefix:t,className:n,...i}){t=at(t,"col");const r=xG(),s=TG(),o=[],a=[];return r.forEach(l=>{const u=i[l];delete i[l];let h,p,g;typeof u=="object"&&u!=null?{span:h,offset:p,order:g}=u:h=u;const v=l!==s?`-${l}`:"";h&&o.push(h===!0?`${t}${v}`:`${t}${v}-${h}`),g!=null&&a.push(`order${v}-${g}`),p!=null&&a.push(`offset${v}-${p}`)}),[{...i,className:Xe(n,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const Wo=b.forwardRef((e,t)=>{const[{className:n,...i},{as:r="div",bsPrefix:s,spans:o}]=IZ(e);return I.jsx(r,{...i,ref:t,className:Xe(n,!o.length&&s)})});Wo.displayName="Col";const hc=b.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:i,...r},s)=>{const o=at(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return I.jsx(n,{ref:s,...r,className:Xe(i,t?`${o}${a}`:o)})});hc.displayName="Container";var FZ=Function.prototype.bind.call(Function.prototype.call,[].slice);function gu(e,t){return FZ(e.querySelectorAll(t))}function MZ(){const[,e]=b.useReducer(t=>t+1,0);return e}function TO(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const yw=b.createContext(null),TA=(e,t=null)=>e!=null?String(e):t||null,DA=b.createContext(null);DA.displayName="NavContext";const _Z="data-rr-ui-",kZ="rrUi";function Hb(e){return`${_Z}${e}`}function OZ(e){return`${kZ}${e}`}const YG=b.createContext(xf?window:void 0);YG.Provider;function AA(){return b.useContext(YG)}const LZ=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",NZ=typeof document<"u",VZ=NZ||LZ?b.useLayoutEffect:b.useEffect,XG=b.createContext(null);XG.displayName="InputGroupContext";const Zm=b.createContext(null);Zm.displayName="NavbarContext";const BZ={type:Ha.string,tooltip:Ha.bool,as:Ha.elementType},Gb=b.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:i=!1,...r},s)=>I.jsx(e,{...r,ref:s,className:Xe(t,`${n}-${i?"tooltip":"feedback"}`)}));Gb.displayName="Feedback";Gb.propTypes=BZ;const Ka=b.createContext({}),Jm=b.forwardRef(({id:e,bsPrefix:t,className:n,type:i="checkbox",isValid:r=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=b.useContext(Ka);return t=at(t,"form-check-input"),I.jsx(o,{...a,ref:l,type:i,id:e||u,className:Xe(n,t,r&&"is-valid",s&&"is-invalid")})});Jm.displayName="FormCheckInput";const Cw=b.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...i},r)=>{const{controlId:s}=b.useContext(Ka);return e=at(e,"form-check-label"),I.jsx("label",{...i,ref:r,htmlFor:n||s,className:Xe(t,e)})});Cw.displayName="FormCheckLabel";const QG=b.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:i=!1,reverse:r=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:h,className:p,style:g,title:v="",type:C="checkbox",label:S,children:R,as:x="input",...D},T)=>{t=at(t,"form-check"),n=at(n,"form-switch");const{controlId:k}=b.useContext(Ka),L=b.useMemo(()=>({controlId:e||k}),[k,e]),P=!R&&S!=null&&S!==!1||PZ(R,Cw),_=I.jsx(Jm,{...D,type:C==="switch"?"checkbox":C,ref:T,isValid:o,isInvalid:a,disabled:s,as:x});return I.jsx(Ka.Provider,{value:L,children:I.jsx("div",{style:g,className:Xe(p,P&&t,i&&`${t}-inline`,r&&`${t}-reverse`,C==="switch"&&n),children:R||I.jsxs(I.Fragment,{children:[_,P&&I.jsx(Cw,{title:v,children:S}),u&&I.jsx(Gb,{type:h,tooltip:l,children:u})]})})})});QG.displayName="FormCheck";const ww=Object.assign(QG,{Input:Jm,Label:Cw}),ZG=b.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:i,id:r,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:h="input",...p},g)=>{const{controlId:v}=b.useContext(Ka);return e=at(e,"form-control"),I.jsx(h,{...p,type:t,size:i,ref:g,readOnly:u,id:r||v,className:Xe(s,l?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",a&&"is-invalid")})});ZG.displayName="FormControl";const HZ=Object.assign(ZG,{Feedback:Gb}),JG=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=at(t,"form-floating"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));JG.displayName="FormFloating";const PA=b.forwardRef(({controlId:e,as:t="div",...n},i)=>{const r=b.useMemo(()=>({controlId:e}),[e]);return I.jsx(Ka.Provider,{value:r,children:I.jsx(t,{...n,ref:i})})});PA.displayName="FormGroup";const ez=b.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:i=!1,className:r,htmlFor:s,...o},a)=>{const{controlId:l}=b.useContext(Ka);t=at(t,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const h=Xe(r,t,i&&"visually-hidden",n&&u);return s=s||l,n?I.jsx(Wo,{ref:a,as:"label",className:h,htmlFor:s,...o}):I.jsx(e,{ref:a,className:h,htmlFor:s,...o})});ez.displayName="FormLabel";const tz=b.forwardRef(({bsPrefix:e,className:t,id:n,...i},r)=>{const{controlId:s}=b.useContext(Ka);return e=at(e,"form-range"),I.jsx("input",{...i,type:"range",ref:r,className:Xe(t,e),id:n||s})});tz.displayName="FormRange";const nz=b.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:i,isValid:r=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=b.useContext(Ka);return e=at(e,"form-select"),I.jsx("select",{...a,size:n,ref:l,className:Xe(i,e,t&&`${e}-${t}`,r&&"is-valid",s&&"is-invalid"),id:o||u})});nz.displayName="FormSelect";const iz=b.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:i,...r},s)=>(e=at(e,"form-text"),I.jsx(n,{...r,ref:s,className:Xe(t,e,i&&"text-muted")})));iz.displayName="FormText";const rz=b.forwardRef((e,t)=>I.jsx(ww,{...e,ref:t,type:"switch"}));rz.displayName="Switch";const GZ=Object.assign(rz,{Input:ww.Input,Label:ww.Label}),bw=b.forwardRef(({bsPrefix:e,className:t,children:n,controlId:i,label:r,...s},o)=>(e=at(e,"form-floating"),I.jsxs(PA,{ref:o,className:Xe(t,e),controlId:i,...s,children:[n,I.jsx("label",{htmlFor:i,children:r})]})));bw.displayName="FloatingLabel";const zZ={_ref:Ha.any,validated:Ha.bool,as:Ha.elementType},IA=b.forwardRef(({className:e,validated:t,as:n="form",...i},r)=>I.jsx(n,{...i,ref:r,className:Xe(e,t&&"was-validated")}));IA.displayName="Form";IA.propTypes=zZ;const Pt=Object.assign(IA,{Group:PA,Control:HZ,Floating:JG,Check:ww,Switch:GZ,Label:ez,Text:iz,Range:tz,Select:nz,FloatingLabel:bw}),zb=b.forwardRef(({className:e,bsPrefix:t,as:n="span",...i},r)=>(t=at(t,"input-group-text"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));zb.displayName="InputGroupText";const UZ=e=>I.jsx(zb,{children:I.jsx(Jm,{type:"checkbox",...e})}),WZ=e=>I.jsx(zb,{children:I.jsx(Jm,{type:"radio",...e})}),sz=b.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:i,as:r="div",...s},o)=>{e=at(e,"input-group");const a=b.useMemo(()=>({}),[]);return I.jsx(XG.Provider,{value:a,children:I.jsx(r,{ref:o,...s,className:Xe(i,e,t&&`${e}-${t}`,n&&"has-validation")})})});sz.displayName="InputGroup";const Ru=Object.assign(sz,{Text:zb,Radio:WZ,Checkbox:UZ}),DO=e=>!e||typeof e=="function"?e:t=>{e.current=t};function jZ(e,t){const n=DO(e),i=DO(t);return r=>{n&&n(r),i&&i(r)}}function Ub(e,t){return b.useMemo(()=>jZ(e,t),[e,t])}const oz=b.createContext(null),$Z=["as","active","eventKey"];function qZ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function az({key:e,onClick:t,active:n,id:i,role:r,disabled:s}){const o=b.useContext(yw),a=b.useContext(DA),l=b.useContext(oz);let u=n;const h={role:r};if(a){!r&&a.role==="tablist"&&(h.role="tab");const p=a.getControllerId(e??null),g=a.getControlledId(e??null);h[Hb("event-key")]=e,h.id=p||i,u=n==null&&e!=null?a.activeKey===e:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(h["aria-controls"]=g)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=La(p=>{s||(t?.(p),e!=null&&o&&!p.isPropagationStopped()&&o(e,p))}),[h,{isActive:u}]}const lz=b.forwardRef((e,t)=>{let{as:n=OG,active:i,eventKey:r}=e,s=qZ(e,$Z);const[o,a]=az(Object.assign({key:TA(r,s.href),active:i},s));return o[Hb("active")]=a.isActive,I.jsx(n,Object.assign({},s,o,{ref:t}))});lz.displayName="NavItem";const KZ=["as","onSelect","activeKey","role","onKeyDown"];function YZ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}const AO=()=>{},PO=Hb("event-key"),cz=b.forwardRef((e,t)=>{let{as:n="div",onSelect:i,activeKey:r,role:s,onKeyDown:o}=e,a=YZ(e,KZ);const l=MZ(),u=b.useRef(!1),h=b.useContext(yw),p=b.useContext(oz);let g,v;p&&(s=s||"tablist",r=p.activeKey,g=p.getControlledId,v=p.getControllerId);const C=b.useRef(null),S=T=>{const k=C.current;if(!k)return null;const L=gu(k,`[${PO}]:not([aria-disabled=true])`),P=k.querySelector("[aria-selected=true]");if(!P||P!==document.activeElement)return null;const _=L.indexOf(P);if(_===-1)return null;let M=_+T;return M>=L.length&&(M=0),M<0&&(M=L.length-1),L[M]},R=(T,k)=>{T!=null&&(i?.(T,k),h?.(T,k))},x=T=>{if(o?.(T),!p)return;let k;switch(T.key){case"ArrowLeft":case"ArrowUp":k=S(-1);break;case"ArrowRight":case"ArrowDown":k=S(1);break;default:return}k&&(T.preventDefault(),R(k.dataset[OZ("EventKey")]||null,T),u.current=!0,l())};b.useEffect(()=>{if(C.current&&u.current){const T=C.current.querySelector(`[${PO}][aria-selected=true]`);T?.focus()}u.current=!1});const D=Ub(t,C);return I.jsx(yw.Provider,{value:R,children:I.jsx(DA.Provider,{value:{role:s,activeKey:TA(r),getControlledId:g||AO,getControllerId:v||AO},children:I.jsx(n,Object.assign({},a,{onKeyDown:x,ref:D,role:s}))})})});cz.displayName="Nav";const XZ=Object.assign(cz,{Item:lz}),uz=b.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:i,className:r,variant:s,action:o,as:a,...l},u)=>{e=at(e,"list-group-item");const[h,p]=az({key:TA(i,l.href),active:t,...l}),g=dc(C=>{if(n){C.preventDefault(),C.stopPropagation();return}h.onClick(C)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const v=a||(o?l.href?"a":"button":"div");return I.jsx(v,{ref:u,...l,...h,onClick:g,className:Xe(r,e,p.isActive&&"active",n&&"disabled",s&&`${e}-${s}`,o&&`${e}-action`)})});uz.displayName="ListGroupItem";const dz=b.forwardRef((e,t)=>{const{className:n,bsPrefix:i,variant:r,horizontal:s,numbered:o,as:a="div",...l}=SA(e,{activeKey:"onSelect"}),u=at(i,"list-group");let h;return s&&(h=s===!0?"horizontal":`horizontal-${s}`),I.jsx(XZ,{ref:t,...l,as:a,className:Xe(n,u,r&&`${u}-${r}`,h&&`${u}-${h}`,o&&`${u}-numbered`)})});dz.displayName="ListGroup";const io=Object.assign(dz,{Item:uz});var Ky;function IO(e){if((!Ky&&Ky!==0||e)&&xf){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ky=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ky}function QZ(){return b.useState(null)}function a0(e){e===void 0&&(e=Nb());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function ZZ(e){const t=b.useRef(e);return t.current=e,t}function JZ(e){const t=ZZ(e);b.useEffect(()=>()=>t.current(),[])}function eJ(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const FO=Hb("modal-open");class FA{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return eJ(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[i]:r.style[i]},t.scrollBarWidth&&(n[i]=`${parseInt(Ba(r,i)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(FO,""),Ba(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(FO),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const l0=(e,t)=>xf?e==null?(t||Nb()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function tJ(e,t){const n=AA(),[i,r]=b.useState(()=>l0(e,n?.document));if(!i){const s=l0(e);s&&r(s)}return b.useEffect(()=>{},[t,i]),b.useEffect(()=>{const s=l0(e);s!==i&&r(s)},[e,i]),i}function nJ({children:e,in:t,onExited:n,mountOnEnter:i,unmountOnExit:r}){const s=b.useRef(null),o=b.useRef(t),a=La(n);b.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const l=Ub(s,Rf(e)),u=b.cloneElement(e,{ref:l});return t?u:r||!o.current&&i?null:u}const iJ=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function rJ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function sJ(e){let{onEnter:t,onEntering:n,onEntered:i,onExit:r,onExiting:s,onExited:o,addEndListener:a,children:l}=e,u=rJ(e,iJ);const h=b.useRef(null),p=Ub(h,Rf(l)),g=k=>L=>{k&&h.current&&k(h.current,L)},v=b.useCallback(g(t),[t]),C=b.useCallback(g(n),[n]),S=b.useCallback(g(i),[i]),R=b.useCallback(g(r),[r]),x=b.useCallback(g(s),[s]),D=b.useCallback(g(o),[o]),T=b.useCallback(g(a),[a]);return Object.assign({},u,{nodeRef:h},t&&{onEnter:v},n&&{onEntering:C},i&&{onEntered:S},r&&{onExit:R},s&&{onExiting:x},o&&{onExited:D},a&&{addEndListener:T},{children:typeof l=="function"?(k,L)=>l(k,Object.assign({},L,{ref:p})):b.cloneElement(l,{ref:p})})}const oJ=["component"];function aJ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}const lJ=b.forwardRef((e,t)=>{let{component:n}=e,i=aJ(e,oJ);const r=sJ(i);return I.jsx(n,Object.assign({ref:t},r))});function cJ({in:e,onTransition:t}){const n=b.useRef(null),i=b.useRef(!0),r=La(t);return xO(()=>{if(!n.current)return;let s=!1;return r({in:e,element:n.current,initial:i.current,isStale:()=>s}),()=>{s=!0}},[e,r]),xO(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function uJ({children:e,in:t,onExited:n,onEntered:i,transition:r}){const[s,o]=b.useState(!t);t&&s&&o(!1);const a=cJ({in:!!t,onTransition:u=>{const h=()=>{u.isStale()||(u.in?i?.(u.element,u.initial):(o(!0),n?.(u.element)))};Promise.resolve(r(u)).then(h,p=>{throw u.in||o(!0),p})}}),l=Ub(a,Rf(e));return s&&!t?null:b.cloneElement(e,{ref:l})}function MO(e,t,n){return e?I.jsx(lJ,Object.assign({},n,{component:e})):t?I.jsx(uJ,Object.assign({},n,{transition:t})):I.jsx(nJ,Object.assign({},n))}const dJ=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function hJ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}let c0;function fJ(e){return c0||(c0=new FA({ownerDocument:e?.document})),c0}function pJ(e){const t=AA(),n=e||fJ(t),i=b.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:b.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:b.useCallback(r=>{i.current.backdrop=r},[])})}const hz=b.forwardRef((e,t)=>{let{show:n=!1,role:i="dialog",className:r,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:p,runTransition:g,backdropTransition:v,runBackdropTransition:C,autoFocus:S=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:D,renderDialog:T,renderBackdrop:k=Le=>I.jsx("div",Object.assign({},Le)),manager:L,container:P,onShow:_,onHide:M=()=>{},onExit:N,onExited:B,onExiting:H,onEnter:U,onEntering:G,onEntered:J}=e,ie=hJ(e,dJ);const $=AA(),Q=tJ(P),ee=pJ(L),fe=fZ(),F=pZ(n),[X,ne]=b.useState(!n),z=b.useRef(null);b.useImperativeHandle(t,()=>ee,[ee]),xf&&!F&&n&&(z.current=a0($?.document)),n&&X&&ne(!1);const pe=La(()=>{if(ee.add(),nt.current=mw(document,"keydown",qe),ze.current=mw(document,"focus",()=>setTimeout(xe),!0),_&&_(),S){var Le,Qe;const Ne=a0((Le=(Qe=ee.dialog)==null?void 0:Qe.ownerDocument)!=null?Le:$?.document);ee.dialog&&Ne&&!TO(ee.dialog,Ne)&&(z.current=Ne,ee.dialog.focus())}}),De=La(()=>{if(ee.remove(),nt.current==null||nt.current(),ze.current==null||ze.current(),x){var Le;(Le=z.current)==null||Le.focus==null||Le.focus(D),z.current=null}});b.useEffect(()=>{!n||!Q||pe()},[n,Q,pe]),b.useEffect(()=>{X&&De()},[X,De]),JZ(()=>{De()});const xe=La(()=>{if(!R||!fe()||!ee.isTopModal())return;const Le=a0($?.document);ee.dialog&&Le&&!TO(ee.dialog,Le)&&ee.dialog.focus()}),lt=La(Le=>{Le.target===Le.currentTarget&&(u?.(Le),a===!0&&M())}),qe=La(Le=>{l&&tZ(Le)&&ee.isTopModal()&&(h?.(Le),Le.defaultPrevented||M())}),ze=b.useRef(),nt=b.useRef(),ct=(...Le)=>{ne(!0),B?.(...Le)};if(!Q)return null;const mt=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},ie,{style:s,className:r,tabIndex:-1});let Ot=T?T(mt):I.jsx("div",Object.assign({},mt,{children:b.cloneElement(o,{role:"document"})}));Ot=MO(p,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:H,onExited:ct,onEnter:U,onEntering:G,onEntered:J,children:Ot});let ke=null;return a&&(ke=k({ref:ee.setBackdropRef,onClick:lt}),ke=MO(v,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ke})),I.jsx(I.Fragment,{children:ec.createPortal(I.jsxs(I.Fragment,{children:[ke,Ot]}),Q)})});hz.displayName="Modal";const fz=Object.assign(hz,{Manager:FA});function gJ(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function mJ(e,t){e.classList?e.classList.add(t):gJ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function _O(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function vJ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=_O(e.className,t):e.setAttribute("class",_O(e.className&&e.className.baseVal||"",t))}const ch={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class pz extends FA{adjustAndStore(t,n,i){const r=n.style[t];n.dataset[t]=r,Ba(n,{[t]:`${parseFloat(Ba(n,t))+i}px`})}restore(t,n){const i=n.dataset[t];i!==void 0&&(delete n.dataset[t],Ba(n,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(mJ(n,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";gu(n,ch.FIXED_CONTENT).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth)),gu(n,ch.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-t.scrollBarWidth)),gu(n,ch.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();vJ(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";gu(n,ch.FIXED_CONTENT).forEach(s=>this.restore(i,s)),gu(n,ch.STICKY_CONTENT).forEach(s=>this.restore(r,s)),gu(n,ch.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let u0;function gz(e){return u0||(u0=new pz(e)),u0}const mz=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=at(t,"modal-body"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));mz.displayName="ModalBody";const MA=b.createContext({onHide(){}}),_A=b.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:i,size:r,fullscreen:s,children:o,scrollable:a,...l},u)=>{e=at(e,"modal");const h=`${e}-dialog`,p=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return I.jsx("div",{...l,ref:u,className:Xe(h,t,r&&`${e}-${r}`,i&&`${h}-centered`,a&&`${h}-scrollable`,s&&p),children:I.jsx("div",{className:Xe(`${e}-content`,n),children:o})})});_A.displayName="ModalDialog";const vz=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=at(t,"modal-footer"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));vz.displayName="ModalFooter";const kA=b.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:i,children:r,...s},o)=>{const a=b.useContext(MA),l=dc(()=>{a?.onHide(),i?.()});return I.jsxs("div",{ref:o,...s,children:[r,n&&I.jsx(Bb,{"aria-label":e,variant:t,onClick:l})]})});kA.displayName="AbstractModalHeader";const yz=b.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:i=!1,...r},s)=>(e=at(e,"modal-header"),I.jsx(kA,{ref:s,...r,className:Xe(t,e),closeLabel:n,closeButton:i})));yz.displayName="ModalHeader";const yJ=Qm("h4"),Cz=b.forwardRef(({className:e,bsPrefix:t,as:n=yJ,...i},r)=>(t=at(t,"modal-title"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));Cz.displayName="ModalTitle";function CJ(e){return I.jsx(tf,{...e,timeout:null})}function wJ(e){return I.jsx(tf,{...e,timeout:null})}const wz=b.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:i,contentClassName:r,children:s,dialogAs:o=_A,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":u,"aria-label":h,show:p=!1,animation:g=!0,backdrop:v=!0,keyboard:C=!0,onEscapeKeyDown:S,onShow:R,onHide:x,container:D,autoFocus:T=!0,enforceFocus:k=!0,restoreFocus:L=!0,restoreFocusOptions:P,onEntered:_,onExit:M,onExiting:N,onEnter:B,onEntering:H,onExited:U,backdropClassName:G,manager:J,...ie},$)=>{const[Q,ee]=b.useState({}),[fe,F]=b.useState(!1),X=b.useRef(!1),ne=b.useRef(!1),z=b.useRef(null),[pe,De]=QZ(),xe=FG($,De),lt=dc(x),qe=zQ();e=at(e,"modal");const ze=b.useMemo(()=>({onHide:lt}),[lt]);function nt(){return J||gz({isRTL:qe})}function ct(te){if(!xf)return;const ve=nt().getScrollbarWidth()>0,Pe=te.scrollHeight>Nb(te).documentElement.clientHeight;ee({paddingRight:ve&&!Pe?IO():void 0,paddingLeft:!ve&&Pe?IO():void 0})}const mt=dc(()=>{pe&&ct(pe.dialog)});AZ(()=>{nT(window,"resize",mt),z.current==null||z.current()});const Ot=()=>{X.current=!0},ke=te=>{X.current&&pe&&te.target===pe.dialog&&(ne.current=!0),X.current=!1},Le=()=>{F(!0),z.current=PG(pe.dialog,()=>{F(!1)})},Qe=te=>{te.target===te.currentTarget&&Le()},Ne=te=>{if(v==="static"){Qe(te);return}if(ne.current||te.target!==te.currentTarget){ne.current=!1;return}x?.()},Ze=te=>{C?S?.(te):(te.preventDefault(),v==="static"&&Le())},xt=(te,ve)=>{te&&ct(te),B?.(te,ve)},st=te=>{z.current==null||z.current(),M?.(te)},St=(te,ve)=>{H?.(te,ve),AG(window,"resize",mt)},Et=te=>{te&&(te.style.display=""),U?.(te),nT(window,"resize",mt)},Mt=b.useCallback(te=>I.jsx("div",{...te,className:Xe(`${e}-backdrop`,G,!g&&"show")}),[g,G,e]),mn={...n,...Q};mn.display="block";const Vn=te=>I.jsx("div",{role:"dialog",...te,style:mn,className:Xe(t,e,fe&&`${e}-static`,!g&&"show"),onClick:v?Ne:void 0,onMouseUp:ke,"data-bs-theme":a,"aria-label":h,"aria-labelledby":l,"aria-describedby":u,children:I.jsx(o,{...ie,onMouseDown:Ot,className:i,contentClassName:r,children:s})});return I.jsx(MA.Provider,{value:ze,children:I.jsx(fz,{show:p,ref:xe,backdrop:v,container:D,keyboard:!0,autoFocus:T,enforceFocus:k,restoreFocus:L,restoreFocusOptions:P,onEscapeKeyDown:Ze,onShow:R,onHide:x,onEnter:xt,onEntering:St,onEntered:_,onExit:st,onExiting:N,onExited:Et,manager:nt(),transition:g?CJ:void 0,backdropTransition:g?wJ:void 0,renderBackdrop:Mt,renderDialog:Vn})})});wz.displayName="Modal";const zi=Object.assign(wz,{Body:mz,Header:yz,Title:Cz,Footer:vz,Dialog:_A,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),bz=b.forwardRef(({bsPrefix:e,className:t,as:n,...i},r)=>{e=at(e,"navbar-brand");const s=n||(i.href?"a":"span");return I.jsx(s,{...i,ref:r,className:Xe(t,e)})});bz.displayName="NavbarBrand";const Sz=b.forwardRef(({children:e,bsPrefix:t,...n},i)=>{t=at(t,"navbar-collapse");const r=b.useContext(Zm);return I.jsx(MG,{in:!!(r&&r.expanded),...n,children:I.jsx("div",{ref:i,className:t,children:e})})});Sz.displayName="NavbarCollapse";const Ez=b.forwardRef(({bsPrefix:e,className:t,children:n,label:i="Toggle navigation",as:r="button",onClick:s,...o},a)=>{e=at(e,"navbar-toggler");const{onToggle:l,expanded:u}=b.useContext(Zm)||{},h=dc(p=>{s&&s(p),l&&l()});return r==="button"&&(o.type="button"),I.jsx(r,{...o,ref:a,onClick:h,"aria-label":i,className:Xe(t,e,!u&&"collapsed"),children:n||I.jsx("span",{className:`${e}-icon`})})});Ez.displayName="NavbarToggle";const rT=new WeakMap,kO=(e,t)=>{if(!e||!t)return;const n=rT.get(t)||new Map;rT.set(t,n);let i=n.get(e);return i||(i=t.matchMedia(e),i.refCount=0,n.set(i.media,i)),i};function bJ(e,t=typeof window>"u"?void 0:window){const n=kO(e,t),[i,r]=b.useState(()=>n?n.matches:!1);return VZ(()=>{let s=kO(e,t);if(!s)return r(!1);let o=rT.get(t);const a=()=>{r(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[e]),i}function SJ(e){const t=Object.keys(e);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function i(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function r(a){const l=i(a);let u=e[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(a){let l=e[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,u){let h;typeof a=="object"?(h=a,u=l,l=!0):(l=l||!0,h={[a]:l});let p=b.useMemo(()=>Object.entries(h).reduce((g,[v,C])=>((C==="up"||C===!0)&&(g=n(g,s(v))),(C==="down"||C===!0)&&(g=n(g,r(v))),g),""),[JSON.stringify(h)]);return bJ(p,u)}return o}const EJ=SJ({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Rz=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=at(t,"offcanvas-body"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));Rz.displayName="OffcanvasBody";const RJ={[no]:"show",[Oa]:"show"},xz=b.forwardRef(({bsPrefix:e,className:t,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(e=at(e,"offcanvas"),I.jsx(Vb,{ref:l,addEndListener:EA,in:i,mountOnEnter:r,unmountOnExit:s,appear:o,...a,childRef:Rf(n),children:(u,h)=>b.cloneElement(n,{...h,className:Xe(t,n.props.className,(u===no||u===rm)&&`${e}-toggling`,RJ[u])})})));xz.displayName="OffcanvasToggling";const Tz=b.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:i=!1,...r},s)=>(e=at(e,"offcanvas-header"),I.jsx(kA,{ref:s,...r,className:Xe(t,e),closeLabel:n,closeButton:i})));Tz.displayName="OffcanvasHeader";const xJ=Qm("h5"),Dz=b.forwardRef(({className:e,bsPrefix:t,as:n=xJ,...i},r)=>(t=at(t,"offcanvas-title"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));Dz.displayName="OffcanvasTitle";function TJ(e){return I.jsx(xz,{...e})}function DJ(e){return I.jsx(tf,{...e})}const Az=b.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":i,placement:r="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:h,onShow:p,onHide:g,container:v,autoFocus:C=!0,enforceFocus:S=!0,restoreFocus:R=!0,restoreFocusOptions:x,onEntered:D,onExit:T,onExiting:k,onEnter:L,onEntering:P,onExited:_,backdropClassName:M,manager:N,renderStaticNode:B=!1,...H},U)=>{const G=b.useRef();e=at(e,"offcanvas");const[J,ie]=b.useState(!1),$=dc(g),Q=EJ(s||"xs","up");b.useEffect(()=>{ie(s?o&&!Q:o)},[o,s,Q]);const ee=b.useMemo(()=>({onHide:$}),[$]);function fe(){return N||(u?(G.current||(G.current=new pz({handleContainerOverflow:!1})),G.current):gz())}const F=(pe,...De)=>{pe&&(pe.style.visibility="visible"),L?.(pe,...De)},X=(pe,...De)=>{pe&&(pe.style.visibility=""),_?.(...De)},ne=b.useCallback(pe=>I.jsx("div",{...pe,className:Xe(`${e}-backdrop`,M)}),[M,e]),z=pe=>I.jsx("div",{...pe,...H,className:Xe(t,s?`${e}-${s}`:e,`${e}-${r}`),"aria-labelledby":i,children:n});return I.jsxs(I.Fragment,{children:[!J&&(s||B)&&z({}),I.jsx(MA.Provider,{value:ee,children:I.jsx(fz,{show:J,ref:U,backdrop:a,container:v,keyboard:l,autoFocus:C,enforceFocus:S&&!u,restoreFocus:R,restoreFocusOptions:x,onEscapeKeyDown:h,onShow:p,onHide:$,onEnter:F,onEntering:P,onEntered:D,onExit:T,onExiting:k,onExited:X,manager:fe(),transition:TJ,backdropTransition:DJ,renderBackdrop:ne,renderDialog:z})})]})});Az.displayName="Offcanvas";const hg=Object.assign(Az,{Body:Rz,Header:Tz,Title:Dz}),Pz=b.forwardRef(({onHide:e,...t},n)=>{const i=b.useContext(Zm),r=dc(()=>{i==null||i.onToggle==null||i.onToggle(),e?.()});return I.jsx(hg,{ref:n,show:!!(i!=null&&i.expanded),...t,renderStaticNode:!0,onHide:r})});Pz.displayName="NavbarOffcanvas";const Iz=b.forwardRef(({className:e,bsPrefix:t,as:n="span",...i},r)=>(t=at(t,"navbar-text"),I.jsx(n,{ref:r,className:Xe(e,t),...i})));Iz.displayName="NavbarText";const Fz=b.forwardRef((e,t)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:h,onToggle:p,onSelect:g,collapseOnSelect:v=!1,...C}=SA(e,{expanded:"onToggle"}),S=at(n,"navbar"),R=b.useCallback((...T)=>{g?.(...T),v&&h&&p?.(!1)},[g,v,h,p]);C.role===void 0&&u!=="nav"&&(C.role="navigation");let x=`${S}-expand`;typeof i=="string"&&(x=`${x}-${i}`);const D=b.useMemo(()=>({onToggle:()=>p?.(!h),bsPrefix:S,expanded:!!h,expand:i}),[S,h,i,p]);return I.jsx(Zm.Provider,{value:D,children:I.jsx(yw.Provider,{value:R,children:I.jsx(u,{ref:t,...C,className:Xe(l,S,i&&x,r&&`${S}-${r}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});Fz.displayName="Navbar";const AJ=Object.assign(Fz,{Brand:bz,Collapse:Sz,Offcanvas:Pz,Text:Iz,Toggle:Ez}),qu=b.forwardRef(({bsPrefix:e,className:t,as:n="div",...i},r)=>{const s=at(e,"row"),o=xG(),a=TG(),l=`${s}-cols`,u=[];return o.forEach(h=>{const p=i[h];delete i[h];let g;p!=null&&typeof p=="object"?{cols:g}=p:g=p;const v=h!==a?`-${h}`:"";g!=null&&u.push(`${l}${v}-${g}`)}),I.jsx(n,{ref:r,...i,className:Xe(t,s,...u)})});qu.displayName="Row";const fc=b.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:i,as:r="div",className:s,...o},a)=>{e=at(e,"spinner");const l=`${e}-${n}`;return I.jsx(r,{ref:a,...o,className:Xe(s,l,i&&`${l}-${i}`,t&&`text-${t}`)})});fc.displayName="Spinner";const Mz=b.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:i,borderless:r,hover:s,size:o,variant:a,responsive:l,...u},h)=>{const p=at(e,"table"),g=Xe(t,p,a&&`${p}-${a}`,o&&`${p}-${o}`,n&&`${p}-${typeof n=="string"?`striped-${n}`:"striped"}`,i&&`${p}-bordered`,r&&`${p}-borderless`,s&&`${p}-hover`),v=I.jsx("table",{...u,className:g,ref:h});if(l){let C=`${p}-responsive`;return typeof l=="string"&&(C=`${C}-${l}`),I.jsx("div",{className:C,children:v})}return v});Mz.displayName="Table";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),OO=e=>{const t=IJ(e);return t.charAt(0).toUpperCase()+t.slice(1)},_z=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),FJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...MJ,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:_z("lucide",r),...!s&&!FJ(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,h])=>b.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=(e,t)=>{const n=b.forwardRef(({className:i,...r},s)=>b.createElement(_J,{ref:s,iconNode:t,className:_z(`lucide-${PJ(OO(e))}`,`lucide-${e}`,i),...r}));return n.displayName=OO(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LO=wi("arrow-right",kJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],OA=wi("bot",OJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],NJ=wi("eye-off",LJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BJ=wi("eye",VJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],GJ=wi("info",HJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],UJ=wi("layers",zJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jJ=wi("log-out",WJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qJ=wi("mail",$J);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],YJ=wi("map",KJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],QJ=wi("menu",XJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wb=wi("plus",ZJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eee=wi("refresh-cw",JJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nee=wi("save",tee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LA=wi("search",iee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],see=wi("send",ree);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kz=wi("trash-2",oee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NA=wi("user-plus",aee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oz=wi("user",lee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ga=wi("users",cee),uee=()=>{};var NO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},dee=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Nz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(g=64)),i.push(n[h],n[p],n[g],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lz(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dee(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||p==null)throw new hee;const g=s<<2|a>>4;if(i.push(g),u!==64){const v=a<<4&240|u>>2;if(i.push(v),p!==64){const C=u<<6&192|p;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fee=function(e){const t=Lz(e);return Nz.encodeByteArray(t,!0)},Sw=function(e){return fee(e).replace(/\./g,"")},Vz=function(e){try{return Nz.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gee=()=>pee().__FIREBASE_DEFAULTS__,mee=()=>{if(typeof process>"u"||typeof NO>"u")return;const e=NO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vee=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Vz(e[1]);return t&&JSON.parse(t)},jb=()=>{try{return uee()||gee()||mee()||vee()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Bz=e=>jb()?.emulatorHosts?.[e],Hz=e=>{const t=Bz(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Gz=()=>jb()?.config,zz=e=>jb()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VA(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Sw(JSON.stringify(n)),Sw(JSON.stringify(o)),""].join(".")}const xg={};function Cee(){const e={prod:[],emulator:[]};for(const t of Object.keys(xg))xg[t]?e.emulator.push(t):e.prod.push(t);return e}function wee(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let VO=!1;function BA(e,t){if(typeof window>"u"||typeof document>"u"||!Ac(window.location.host)||xg[e]===t||xg[e]||VO)return;xg[e]=t;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=Cee().prod.length>0;function o(){const g=document.getElementById(i);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{VO=!0,o()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=wee(i),v=n("text"),C=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),D=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;a(T),h(R,S);const k=u();l(D,x),T.append(D,C,R,k),document.body.appendChild(T)}s?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function See(){const e=jb()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Eee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ree(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tee(){const e=or();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Dee(){return!See()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aee(){try{return typeof indexedDB=="object"}catch{return!1}}function Pee(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee="FirebaseError";class ho extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Iee,Object.setPrototypeOf(this,ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ev.prototype.create)}}class ev{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?Fee(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ho(r,a,i)}}function Fee(e,t){return e.replace(Mee,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Mee=/\{\$([^}]+)}/g;function _ee(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ku(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(BO(s)&&BO(o)){if(!Ku(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function BO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function fg(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function pg(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function kee(e,t){const n=new Oee(e,t);return n.subscribe.bind(n)}class Oee{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Lee(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=d0),r.error===void 0&&(r.error=d0),r.complete===void 0&&(r.complete=d0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lee(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function d0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(e){return e&&e._delegate?e._delegate:e}let pc=class{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nee=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new yee;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Bee(t))try{this.getOrInitializeService({instanceIdentifier:mu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=mu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=mu){return this.instances.has(t)}getOptions(t=mu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Vee(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=mu){return this.component?this.component.multipleInstances?t:mu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Vee(e){return e===mu?void 0:e}function Bee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Nee(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Nt||(Nt={}));const Gee={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},zee=Nt.INFO,Uee={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Wee=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Uee[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class HA{constructor(t){this.name=t,this._logLevel=zee,this._logHandler=Wee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Gee[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const jee=(e,t)=>t.some(n=>e instanceof n);let HO,GO;function $ee(){return HO||(HO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qee(){return GO||(GO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wz=new WeakMap,sT=new WeakMap,jz=new WeakMap,h0=new WeakMap,GA=new WeakMap;function Kee(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(nc(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Wz.set(n,e)}).catch(()=>{}),GA.set(t,e),t}function Yee(e){if(sT.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});sT.set(e,t)}let oT={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sT.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jz.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Xee(e){oT=e(oT)}function Qee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(f0(this),t,...n);return jz.set(i,t.sort?t.sort():[t]),nc(i)}:qee().includes(e)?function(...t){return e.apply(f0(this),t),nc(Wz.get(this))}:function(...t){return nc(e.apply(f0(this),t))}}function Zee(e){return typeof e=="function"?Qee(e):(e instanceof IDBTransaction&&Yee(e),jee(e,$ee())?new Proxy(e,oT):e)}function nc(e){if(e instanceof IDBRequest)return Kee(e);if(h0.has(e))return h0.get(e);const t=Zee(e);return t!==e&&(h0.set(e,t),GA.set(t,e)),t}const f0=e=>GA.get(e);function Jee(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=nc(o);return i&&o.addEventListener("upgradeneeded",l=>{i(nc(o.result),l.oldVersion,l.newVersion,nc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ete=["get","getKey","getAll","getAllKeys","count"],tte=["put","add","delete","clear"],p0=new Map;function zO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(p0.get(t))return p0.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=tte.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ete.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return p0.set(t,s),s}Xee(e=>({...e,get:(t,n,i)=>zO(t,n)||e.get(t,n,i),has:(t,n)=>!!zO(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ite(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ite(e){return e.getComponent()?.type==="VERSION"}const aT="@firebase/app",UO="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new HA("@firebase/app"),rte="@firebase/app-compat",ste="@firebase/analytics-compat",ote="@firebase/analytics",ate="@firebase/app-check-compat",lte="@firebase/app-check",cte="@firebase/auth",ute="@firebase/auth-compat",dte="@firebase/database",hte="@firebase/data-connect",fte="@firebase/database-compat",pte="@firebase/functions",gte="@firebase/functions-compat",mte="@firebase/installations",vte="@firebase/installations-compat",yte="@firebase/messaging",Cte="@firebase/messaging-compat",wte="@firebase/performance",bte="@firebase/performance-compat",Ste="@firebase/remote-config",Ete="@firebase/remote-config-compat",Rte="@firebase/storage",xte="@firebase/storage-compat",Tte="@firebase/firestore",Dte="@firebase/ai",Ate="@firebase/firestore-compat",Pte="firebase",Ite="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="[DEFAULT]",Fte={[aT]:"fire-core",[rte]:"fire-core-compat",[ote]:"fire-analytics",[ste]:"fire-analytics-compat",[lte]:"fire-app-check",[ate]:"fire-app-check-compat",[cte]:"fire-auth",[ute]:"fire-auth-compat",[dte]:"fire-rtdb",[hte]:"fire-data-connect",[fte]:"fire-rtdb-compat",[pte]:"fire-fn",[gte]:"fire-fn-compat",[mte]:"fire-iid",[vte]:"fire-iid-compat",[yte]:"fire-fcm",[Cte]:"fire-fcm-compat",[wte]:"fire-perf",[bte]:"fire-perf-compat",[Ste]:"fire-rc",[Ete]:"fire-rc-compat",[Rte]:"fire-gcs",[xte]:"fire-gcs-compat",[Tte]:"fire-fst",[Ate]:"fire-fst-compat",[Dte]:"fire-vertex","fire-js":"fire-js",[Pte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map,Mte=new Map,cT=new Map;function WO(e,t){try{e.container.addComponent(t)}catch(n){Ya.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yu(e){const t=e.name;if(cT.has(t))return Ya.debug(`There were multiple attempts to register component ${t}.`),!1;cT.set(t,e);for(const n of Ew.values())WO(n,e);for(const n of Mte.values())WO(n,e);return!0}function $b(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function es(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ic=new ev("app","Firebase",_te);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ic.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=Ite;function $z(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:lT,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ic.create("bad-app-name",{appName:String(r)});if(n||(n=Gz()),!n)throw ic.create("no-options");const s=Ew.get(r);if(s){if(Ku(n,s.options)&&Ku(i,s.config))return s;throw ic.create("duplicate-app",{appName:r})}const o=new Hee(r);for(const l of cT.values())o.addComponent(l);const a=new kte(n,i,o);return Ew.set(r,a),a}function zA(e=lT){const t=Ew.get(e);if(!t&&e===lT&&Gz())return $z();if(!t)throw ic.create("no-app",{appName:e});return t}function jo(e,t,n){let i=Fte[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${t}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ya.warn(o.join(" "));return}Yu(new pc(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote="firebase-heartbeat-database",Lte=1,sm="firebase-heartbeat-store";let g0=null;function qz(){return g0||(g0=Jee(Ote,Lte,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(sm)}catch(n){console.warn(n)}}}}).catch(e=>{throw ic.create("idb-open",{originalErrorMessage:e.message})})),g0}async function Nte(e){try{const n=(await qz()).transaction(sm),i=await n.objectStore(sm).get(Kz(e));return await n.done,i}catch(t){if(t instanceof ho)Ya.warn(t.message);else{const n=ic.create("idb-get",{originalErrorMessage:t?.message});Ya.warn(n.message)}}}async function jO(e,t){try{const i=(await qz()).transaction(sm,"readwrite");await i.objectStore(sm).put(t,Kz(e)),await i.done}catch(n){if(n instanceof ho)Ya.warn(n.message);else{const i=ic.create("idb-set",{originalErrorMessage:n?.message});Ya.warn(i.message)}}}function Kz(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=1024,Bte=30;class Hte{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zte(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$O();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Bte){const r=Ute(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ya.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$O(),{heartbeatsToSend:n,unsentEntries:i}=Gte(this._heartbeatsCache.heartbeats),r=Sw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ya.warn(t),""}}}function $O(){return new Date().toISOString().substring(0,10)}function Gte(e,t=Vte){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),qO(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),qO(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zte{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aee()?Pee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nte(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return jO(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return jO(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function qO(e){return Sw(JSON.stringify({version:2,heartbeats:e})).length}function Ute(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(e){Yu(new pc("platform-logger",t=>new nte(t),"PRIVATE")),Yu(new pc("heartbeat",t=>new Hte(t),"PRIVATE")),jo(aT,UO,e),jo(aT,UO,"esm2020"),jo("fire-js","")}Wte("");var jte="firebase",$te="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo(jte,$te,"app");const qte="AIzaSyCw5stPCkMrXawbxzgT-aFT8Q3_swl5Ms4",Kte="tutordecolonial.firebaseapp.com",Yte="tutordecolonial",Xte="tutordecolonial.firebasestorage.app",Qte="1086836762849",Zte="1:1086836762849:web:ed4d9b2715c421e4eeafa0",Jte={apiKey:qte,authDomain:Kte,projectId:Yte,storageBucket:Xte,messagingSenderId:Qte,appId:Zte};function Yz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ene=Yz,Xz=new ev("auth","Firebase",Yz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new HA("@firebase/auth");function tne(e,...t){Rw.logLevel<=Nt.WARN&&Rw.warn(`Auth (${hd}): ${e}`,...t)}function OC(e,...t){Rw.logLevel<=Nt.ERROR&&Rw.error(`Auth (${hd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e,...t){throw UA(e,...t)}function $o(e,...t){return UA(e,...t)}function Qz(e,t,n){const i={...ene(),[t]:n};return new ev("auth","Firebase",i).create(t,{appName:e.name})}function za(e){return Qz(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UA(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Xz.create(e,...t)}function ht(e,t,...n){if(!e)throw UA(t,...n)}function Na(e){const t="INTERNAL ASSERTION FAILED: "+e;throw OC(t),new Error(t)}function Xa(e,t){e||Na(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof self<"u"&&self.location?.href||""}function nne(){return KO()==="http:"||KO()==="https:"}function KO(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nne()||Ree()||"connection"in navigator)?navigator.onLine:!0}function rne(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xa(n>t,"Short delay should be less than long delay!"),this.isMobile=bee()||xee()}get(){return ine()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e,t){Xa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ane=new nv(3e4,6e4);function Pc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ic(e,t,n,i,r={}){return Jz(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=tv({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...s};return Eee()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Ac(e.emulatorConfig.host)&&(u.credentials="include"),Zz.fetch()(await eU(e,e.config.apiHost,n,a),u)})}async function Jz(e,t,n){e._canInitEmulator=!1;const i={...sne,...t};try{const r=new cne(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yy(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yy(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yy(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yy(e,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Qz(e,h,u);ao(e,h)}}catch(r){if(r instanceof ho)throw r;ao(e,"network-request-failed",{message:String(r)})}}async function iv(e,t,n,i,r={}){const s=await Ic(e,t,n,i,r);return"mfaPendingCredential"in s&&ao(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function eU(e,t,n,i){const r=`${t}${n}?${i}`,s=e,o=s.config.emulator?WA(e.config,r):`${e.config.apiScheme}://${r}`;return one.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function lne(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cne{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($o(this.auth,"network-request-failed")),ane.get())})}}function Yy(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=$o(e,t,i);return r.customData._tokenResponse=n,r}function YO(e){return e!==void 0&&e.enterprise!==void 0}class une{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return lne(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dne(e,t){return Ic(e,"GET","/v2/recaptchaConfig",Pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hne(e,t){return Ic(e,"POST","/v1/accounts:delete",t)}async function xw(e,t){return Ic(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fne(e,t=!1){const n=Wn(e),i=await n.getIdToken(t),r=jA(i);ht(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Tg(m0(r.auth_time)),issuedAtTime:Tg(m0(r.iat)),expirationTime:Tg(m0(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function m0(e){return Number(e)*1e3}function jA(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return OC("JWT malformed, contained fewer than 3 sections"),null;try{const r=Vz(n);return r?JSON.parse(r):(OC("Failed to decode base64 JWT payload"),null)}catch(r){return OC("Caught error parsing JWT payload as JSON",r?.toString()),null}}function XO(e){const t=jA(e);return ht(t,"internal-error"),ht(typeof t.exp<"u","internal-error"),ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ho&&pne(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function pne({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tg(this.lastLoginAt),this.creationTime=Tg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(e){const t=e.auth,n=await e.getIdToken(),i=await om(e,xw(t,{idToken:n}));ht(i?.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=r.providerUserInfo?.length?tU(r.providerUserInfo):[],o=vne(e.providerData,s),a=e.isAnonymous,l=!(e.email&&r.passwordHash)&&!o?.length,u=a?l:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new dT(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function mne(e){const t=Wn(e);await Tw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vne(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function tU(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yne(e,t){const n=await Jz(e,{},async()=>{const i=tv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=await eU(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:i};return e.emulatorConfig&&Ac(e.emulatorConfig.host)&&(l.credentials="include"),Zz.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Cne(e,t){return Ic(e,"POST","/v2/accounts:revokeToken",Pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ht(t.idToken,"internal-error"),ht(typeof t.idToken<"u","internal-error"),ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):XO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ht(t.length!==0,"internal-error");const n=XO(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await yne(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Fh;return i&&(ht(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(ht(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(ht(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fh,this.toJSON())}_performRefresh(){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(e,t){ht(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ro{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new gne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new dT(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await om(this,this.stsTokenManager.getToken(this.auth,t));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fne(this,t)}reload(){return mne(this)}_assign(t){this!==t&&(ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ro({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Tw(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(es(this.auth.app))return Promise.reject(za(this.auth));const t=await this.getIdToken();return await om(this,hne(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:C,stsTokenManager:S}=n;ht(p&&S,t,"internal-error");const R=Fh.fromJSON(this.name,S);ht(typeof p=="string",t,"internal-error"),Vl(i,t.name),Vl(r,t.name),ht(typeof g=="boolean",t,"internal-error"),ht(typeof v=="boolean",t,"internal-error"),Vl(s,t.name),Vl(o,t.name),Vl(a,t.name),Vl(l,t.name),Vl(u,t.name),Vl(h,t.name);const x=new ro({uid:p,auth:t,email:r,emailVerified:g,displayName:i,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:R,createdAt:u,lastLoginAt:h});return C&&Array.isArray(C)&&(x.providerData=C.map(D=>({...D}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(t,n,i=!1){const r=new Fh;r.updateFromServerResponse(n);const s=new ro({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Tw(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];ht(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?tU(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Fh;a.updateFromIdToken(i);const l=new ro({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new dT(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Map;function Va(e){Xa(e instanceof Function,"Expected a class definition");let t=QO.get(e);return t?(Xa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,QO.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nU.type="NONE";const ZO=nU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(e,t,n){return`firebase:${e}:${t}:${n}`}class Mh{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=LC(this.userKey,r.apiKey,s),this.fullPersistenceKey=LC("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await xw(this.auth,{idToken:t}).catch(()=>{});return n?ro._fromGetAccountInfoResponse(this.auth,n,t):null}return ro._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Mh(Va(ZO),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Va(ZO);const o=LC(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let p;if(typeof h=="string"){const g=await xw(t,{idToken:h}).catch(()=>{});if(!g)break;p=await ro._fromGetAccountInfoResponse(t,g,h)}else p=ro._fromJSON(t,h);u!==s&&(a=p),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mh(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Mh(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oU(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iU(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lU(t))return"Blackberry";if(cU(t))return"Webos";if(rU(t))return"Safari";if((t.includes("chrome/")||sU(t))&&!t.includes("edge/"))return"Chrome";if(aU(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function iU(e=or()){return/firefox\//i.test(e)}function rU(e=or()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sU(e=or()){return/crios\//i.test(e)}function oU(e=or()){return/iemobile/i.test(e)}function aU(e=or()){return/android/i.test(e)}function lU(e=or()){return/blackberry/i.test(e)}function cU(e=or()){return/webos/i.test(e)}function $A(e=or()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wne(e=or()){return $A(e)&&!!window.navigator?.standalone}function bne(){return Tee()&&document.documentMode===10}function uU(e=or()){return $A(e)||aU(e)||cU(e)||lU(e)||/windows phone/i.test(e)||oU(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(e,t=[]){let n;switch(e){case"Browser":n=JO(or());break;case"Worker":n=`${JO(or())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hd}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ene(e,t={}){return Ic(e,"GET","/v2/passwordPolicy",Pc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=6;class xne{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rne,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eL(this),this.idTokenSubscription=new eL(this),this.beforeStateQueue=new Sne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Va(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mh.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await xw(this,{idToken:t}),i=await ro._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(es(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=i?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Tw(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rne()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(es(this.app))return Promise.reject(za(this));const n=t?Wn(t):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return es(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return es(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ene(this),n=new xne(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ev("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Cne(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Va(t)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await Mh.create(this,[Va(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tne(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fd(e){return Wn(e)}class eL{constructor(t){this.auth=t,this.observer=null,this.addObserver=kee(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dne(e){qb=e}function hU(e){return qb.loadJS(e)}function Ane(){return qb.recaptchaEnterpriseScript}function Pne(){return qb.gapiScript}function Ine(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class Fne{constructor(){this.enterprise=new Mne}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Mne{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const _ne="recaptcha-enterprise",fU="NO_RECAPTCHA";class kne{constructor(t){this.type=_ne,this.auth=fd(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{dne(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new une(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;YO(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(fU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fne().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&YO(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ane();l.length!==0&&(l+=a),hU(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function tL(e,t,n,i=!1,r=!1){const s=new kne(e);let o;if(r)o=fU;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hT(e,t,n,i,r){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await tL(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await tL(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function One(e,t){const n=$b(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ku(s,t??{}))return r;ao(r,"already-initialized")}return n.initialize({options:t})}function Lne(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Va);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function Nne(e,t,n){const i=fd(e);ht(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=pU(t),{host:o,port:a}=Vne(t),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ht(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ht(Ku(u,i.config.emulator)&&Ku(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Ac(o)?(VA(`${s}//${o}${l}`),BA("Auth",!0)):Bne()}function pU(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vne(e){const t=pU(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:nL(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:nL(o)}}}function nL(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Bne(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Na("not implemented")}_getIdTokenResponse(t){return Na("not implemented")}_linkToIdToken(t,n){return Na("not implemented")}_getReauthenticationResolver(t){return Na("not implemented")}}async function Hne(e,t){return Ic(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gne(e,t){return iv(e,"POST","/v1/accounts:signInWithPassword",Pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zne(e,t){return iv(e,"POST","/v1/accounts:signInWithEmailLink",Pc(e,t))}async function Une(e,t){return iv(e,"POST","/v1/accounts:signInWithEmailLink",Pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends qA{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new am(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new am(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hT(t,n,"signInWithPassword",Gne);case"emailLink":return zne(t,{email:this._email,oobCode:this._password});default:ao(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hT(t,i,"signUpPassword",Hne);case"emailLink":return Une(t,{idToken:n,email:this._email,oobCode:this._password});default:ao(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(e,t){return iv(e,"POST","/v1/accounts:signInWithIdp",Pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wne="http://localhost";class Xu extends qA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ao("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const o=new Xu(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return _h(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,_h(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_h(t,n)}buildRequest(){const t={requestUri:Wne,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=tv(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jne(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $ne(e){const t=fg(pg(e)).link,n=t?fg(pg(t)).deep_link_id:null,i=fg(pg(e)).deep_link_id;return(i?fg(pg(i)).link:null)||i||n||t||e}class KA{constructor(t){const n=fg(pg(t)),i=n.apiKey??null,r=n.oobCode??null,s=jne(n.mode??null);ht(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$ne(t);try{return new KA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.providerId=Tf.PROVIDER_ID}static credential(t,n){return am._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=KA.parseLink(n);return ht(i,"argument-error"),am._fromEmailAndCode(t,i.code,i.tenantId)}}Tf.PROVIDER_ID="password";Tf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends gU{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends rv{constructor(){super("facebook.com")}static credential(t){return Xu._fromParams({providerId:Kl.PROVIDER_ID,signInMethod:Kl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kl.credentialFromTaggedObject(t)}static credentialFromError(t){return Kl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kl.credential(t.oauthAccessToken)}catch{return null}}}Kl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends rv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xu._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Yl.credentialFromTaggedObject(t)}static credentialFromError(t){return Yl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Yl.credential(n,i)}catch{return null}}}Yl.GOOGLE_SIGN_IN_METHOD="google.com";Yl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends rv{constructor(){super("github.com")}static credential(t){return Xu._fromParams({providerId:Xl.PROVIDER_ID,signInMethod:Xl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xl.credentialFromTaggedObject(t)}static credentialFromError(t){return Xl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xl.credential(t.oauthAccessToken)}catch{return null}}}Xl.GITHUB_SIGN_IN_METHOD="github.com";Xl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends rv{constructor(){super("twitter.com")}static credential(t,n){return Xu._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ql.credentialFromTaggedObject(t)}static credentialFromError(t){return Ql.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ql.credential(n,i)}catch{return null}}}Ql.TWITTER_SIGN_IN_METHOD="twitter.com";Ql.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qne(e,t){return iv(e,"POST","/v1/accounts:signUp",Pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await ro._fromIdTokenResponse(t,i,r),o=iL(i);return new Qu({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=iL(i);return new Qu({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function iL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends ho{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Dw.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Dw(t,n,i,r)}}function mU(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dw._fromErrorAndOperation(e,s,t,i):s})}async function Kne(e,t,n=!1){const i=await om(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qu._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yne(e,t,n=!1){const{auth:i}=e;if(es(i.app))return Promise.reject(za(i));const r="reauthenticate";try{const s=await om(e,mU(i,r,t,e),n);ht(s.idToken,i,"internal-error");const o=jA(s.idToken);ht(o,i,"internal-error");const{sub:a}=o;return ht(e.uid===a,i,"user-mismatch"),Qu._forOperation(e,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ao(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(e,t,n=!1){if(es(e.app))return Promise.reject(za(e));const i="signIn",r=await mU(e,i,t),s=await Qu._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Xne(e,t){return vU(fd(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(e){const t=fd(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Qne(e,t,n){if(es(e.app))return Promise.reject(za(e));const i=fd(e),o=await hT(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qne).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yU(e),l}),a=await Qu._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function Zne(e,t,n){return es(e.app)?Promise.reject(za(e)):Xne(Wn(e),Tf.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yU(e),i})}function Jne(e,t,n,i){return Wn(e).onIdTokenChanged(t,n,i)}function eie(e,t,n){return Wn(e).beforeAuthStateChanged(t,n)}function tie(e){return Wn(e).signOut()}const Aw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Aw,"1"),this.storage.removeItem(Aw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie=1e3,iie=10;class wU extends CU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uU(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);bne()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,iie):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},nie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}wU.type="LOCAL";const rie=wU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU extends CU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}bU.type="SESSION";const SU=bU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Kb(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await sie(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=YA("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(){return window}function aie(e){qo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(){return typeof qo().WorkerGlobalScope<"u"&&typeof qo().importScripts=="function"}async function lie(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cie(){return navigator?.serviceWorker?.controller||null}function uie(){return EU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firebaseLocalStorageDb",die=1,Pw="firebaseLocalStorage",xU="fbase_key";class sv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yb(e,t){return e.transaction([Pw],t?"readwrite":"readonly").objectStore(Pw)}function hie(){const e=indexedDB.deleteDatabase(RU);return new sv(e).toPromise()}function fT(){const e=indexedDB.open(RU,die);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Pw,{keyPath:xU})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Pw)?t(i):(i.close(),await hie(),t(await fT()))})})}async function rL(e,t,n){const i=Yb(e,!0).put({[xU]:t,value:n});return new sv(i).toPromise()}async function fie(e,t){const n=Yb(e,!1).get(t),i=await new sv(n).toPromise();return i===void 0?null:i.value}function sL(e,t){const n=Yb(e,!0).delete(t);return new sv(n).toPromise()}const pie=800,gie=3;class TU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fT(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>gie)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kb._getInstance(uie()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lie(),!this.activeServiceWorker)return;this.sender=new oie(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fT();return await rL(t,Aw,"1"),await sL(t,Aw),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>rL(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>fie(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sL(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Yb(r,!1).getAll();return new sv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TU.type="LOCAL";const mie=TU;new nv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vie(e,t){return t?Va(t):(ht(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends qA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _h(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _h(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _h(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function yie(e){return vU(e.auth,new XA(e),e.bypassAuthState)}function Cie(e){const{auth:t,user:n}=e;return ht(n,t,"internal-error"),Yne(n,new XA(e),e.bypassAuthState)}async function wie(e){const{auth:t,user:n}=e;return ht(n,t,"internal-error"),Kne(n,new XA(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yie;case"linkViaPopup":case"linkViaRedirect":return wie;case"reauthViaPopup":case"reauthViaRedirect":return Cie;default:ao(this.auth,"internal-error")}}resolve(t){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie=new nv(2e3,1e4);class Sh extends DU{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Sh.currentPopupAction&&Sh.currentPopupAction.cancel(),Sh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ht(t,this.auth,"internal-error"),t}async onExecution(){Xa(this.filter.length===1,"Popup operations only handle one event");const t=YA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($o(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($o(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sh.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($o(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bie.get())};t()}}Sh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sie="pendingRedirect",NC=new Map;class Eie extends DU{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=NC.get(this.auth._key());if(!t){try{const i=await Rie(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}NC.set(this.auth._key(),t)}return this.bypassAuthState||NC.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rie(e,t){const n=Die(t),i=Tie(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function xie(e,t){NC.set(e._key(),t)}function Tie(e){return Va(e._redirectPersistence)}function Die(e){return LC(Sie,e.config.apiKey,e.name)}async function Aie(e,t,n=!1){if(es(e.app))return Promise.reject(za(e));const i=fd(e),r=vie(i,t),o=await new Eie(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie=600*1e3;class Iie{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Fie(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!AU(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError($o(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Pie&&this.cachedEventUids.clear(),this.cachedEventUids.has(oL(t))}saveEventToCache(t){this.cachedEventUids.add(oL(t)),this.lastProcessedEventTime=Date.now()}}function oL(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function AU({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Fie(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AU(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mie(e,t={}){return Ic(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kie=/^https?/;async function Oie(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Mie(e);for(const n of t)try{if(Lie(n))return}catch{}ao(e,"unauthorized-domain")}function Lie(e){const t=uT(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!kie.test(n))return!1;if(_ie.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nie=new nv(3e4,6e4);function aL(){const e=qo().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Vie(e){return new Promise((t,n)=>{function i(){aL(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aL(),n($o(e,"network-request-failed"))},timeout:Nie.get()})}if(qo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(qo().gapi?.load)i();else{const r=Ine("iframefcb");return qo()[r]=()=>{gapi.load?i():n($o(e,"network-request-failed"))},hU(`${Pne()}?onload=${r}`).catch(s=>n(s))}}).catch(t=>{throw VC=null,t})}let VC=null;function Bie(e){return VC=VC||Vie(e),VC}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hie=new nv(5e3,15e3),Gie="__/auth/iframe",zie="emulator/auth/iframe",Uie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jie(e){const t=e.config;ht(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?WA(t,zie):`https://${e.config.authDomain}/${Gie}`,i={apiKey:t.apiKey,appName:e.name,v:hd},r=Wie.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${tv(i).slice(1)}`}async function $ie(e){const t=await Bie(e),n=qo().gapi;return ht(n,e,"internal-error"),t.open({where:document.body,url:jie(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uie,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=$o(e,"network-request-failed"),a=qo().setTimeout(()=>{s(o)},Hie.get());function l(){qo().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kie=500,Yie=600,Xie="_blank",Qie="http://localhost";class lL{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zie(e,t,n,i=Kie,r=Yie){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l={...qie,width:i.toString(),height:r.toString(),top:s,left:o},u=or().toLowerCase();n&&(a=sU(u)?Xie:n),iU(u)&&(t=t||Qie,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,C])=>`${g}${v}=${C},`,"");if(wne(u)&&a!=="_self")return Jie(t||"",a),new lL(null);const p=window.open(t||"",a,h);ht(p,e,"popup-blocked");try{p.focus()}catch{}return new lL(p)}function Jie(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere="__/auth/handler",tre="emulator/auth/handler",nre=encodeURIComponent("fac");async function cL(e,t,n,i,r,s){ht(e.config.authDomain,e,"auth-domain-config-required"),ht(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:hd,eventId:r};if(t instanceof gU){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",_ee(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(t instanceof rv){const h=t.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await e._getAppCheckToken(),u=l?`#${nre}=${encodeURIComponent(l)}`:"";return`${ire(e)}?${tv(a).slice(1)}${u}`}function ire({config:e}){return e.emulator?WA(e,tre):`https://${e.authDomain}/${ere}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="webStorageSupport";class rre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SU,this._completeRedirectFn=Aie,this._overrideRedirectResult=xie}async _openPopup(t,n,i,r){Xa(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await cL(t,n,i,uT(),r);return Zie(t,s,YA())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await cL(t,n,i,uT(),r);return aie(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Xa(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await $ie(t),i=new Iie(t);return n.register("authEvent",r=>(ht(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(v0,{type:v0},r=>{const s=r?.[0]?.[v0];s!==void 0&&n(!!s),ao(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Oie(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uU()||rU()||$A()}}const sre=rre;var uL="@firebase/auth",dL="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lre(e){Yu(new pc("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ht(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dU(e)},u=new Tne(i,r,s,l);return Lne(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Yu(new pc("auth-internal",t=>{const n=fd(t.getProvider("auth").getImmediate());return(i=>new ore(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jo(uL,dL,are(e)),jo(uL,dL,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cre=300,ure=zz("authIdTokenMaxAge")||cre;let hL=null;const dre=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ure)return;const r=n?.token;hL!==r&&(hL=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function hre(e=zA()){const t=$b(e,"auth");if(t.isInitialized())return t.getImmediate();const n=One(e,{popupRedirectResolver:sre,persistence:[mie,rie,SU]}),i=zz("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=dre(s.toString());eie(n,o,()=>o(n.currentUser)),Jne(n,a=>o(a))}}const r=Bz("auth");return r&&Nne(n,`http://${r}`),n}function fre(){return document.getElementsByTagName("head")?.[0]??document}Dne({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=$o("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",fre().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lre("Browser");var fL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rc,PU;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,M){function N(){}N.prototype=M.prototype,_.D=M.prototype,_.prototype=new N,_.prototype.constructor=_,_.C=function(B,H,U){for(var G=Array(arguments.length-2),J=2;J<arguments.length;J++)G[J-2]=arguments[J];return M.prototype[H].apply(B,G)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(_,M,N){N||(N=0);var B=Array(16);if(typeof M=="string")for(var H=0;16>H;++H)B[H]=M.charCodeAt(N++)|M.charCodeAt(N++)<<8|M.charCodeAt(N++)<<16|M.charCodeAt(N++)<<24;else for(H=0;16>H;++H)B[H]=M[N++]|M[N++]<<8|M[N++]<<16|M[N++]<<24;M=_.g[0],N=_.g[1],H=_.g[2];var U=_.g[3],G=M+(U^N&(H^U))+B[0]+3614090360&4294967295;M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[1]+3905402710&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[2]+606105819&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[3]+3250441966&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(U^N&(H^U))+B[4]+4118548399&4294967295,M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[5]+1200080426&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[6]+2821735955&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[7]+4249261313&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(U^N&(H^U))+B[8]+1770035416&4294967295,M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[9]+2336552879&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[10]+4294925233&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[11]+2304563134&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(U^N&(H^U))+B[12]+1804603682&4294967295,M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[13]+4254626195&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[14]+2792965006&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[15]+1236535329&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(H^U&(N^H))+B[1]+4129170786&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[6]+3225465664&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[11]+643717713&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[0]+3921069994&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(H^U&(N^H))+B[5]+3593408605&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[10]+38016083&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[15]+3634488961&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[4]+3889429448&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(H^U&(N^H))+B[9]+568446438&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[14]+3275163606&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[3]+4107603335&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[8]+1163531501&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(H^U&(N^H))+B[13]+2850285829&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[2]+4243563512&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[7]+1735328473&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[12]+2368359562&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(N^H^U)+B[5]+4294588738&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[8]+2272392833&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[11]+1839030562&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[14]+4259657740&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(N^H^U)+B[1]+2763975236&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[4]+1272893353&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[7]+4139469664&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[10]+3200236656&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(N^H^U)+B[13]+681279174&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[0]+3936430074&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[3]+3572445317&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[6]+76029189&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(N^H^U)+B[9]+3654602809&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[12]+3873151461&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[15]+530742520&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[2]+3299628645&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(H^(N|~U))+B[0]+4096336452&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[7]+1126891415&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[14]+2878612391&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[5]+4237533241&4294967295,N=H+(G<<21&4294967295|G>>>11),G=M+(H^(N|~U))+B[12]+1700485571&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[3]+2399980690&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[10]+4293915773&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[1]+2240044497&4294967295,N=H+(G<<21&4294967295|G>>>11),G=M+(H^(N|~U))+B[8]+1873313359&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[15]+4264355552&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[6]+2734768916&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[13]+1309151649&4294967295,N=H+(G<<21&4294967295|G>>>11),G=M+(H^(N|~U))+B[4]+4149444226&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[11]+3174756917&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[2]+718787259&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[9]+3951481745&4294967295,_.g[0]=_.g[0]+M&4294967295,_.g[1]=_.g[1]+(H+(G<<21&4294967295|G>>>11))&4294967295,_.g[2]=_.g[2]+H&4294967295,_.g[3]=_.g[3]+U&4294967295}i.prototype.u=function(_,M){M===void 0&&(M=_.length);for(var N=M-this.blockSize,B=this.B,H=this.h,U=0;U<M;){if(H==0)for(;U<=N;)r(this,_,U),U+=this.blockSize;if(typeof _=="string"){for(;U<M;)if(B[H++]=_.charCodeAt(U++),H==this.blockSize){r(this,B),H=0;break}}else for(;U<M;)if(B[H++]=_[U++],H==this.blockSize){r(this,B),H=0;break}}this.h=H,this.o+=M},i.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var M=1;M<_.length-8;++M)_[M]=0;var N=8*this.o;for(M=_.length-8;M<_.length;++M)_[M]=N&255,N/=256;for(this.u(_),_=Array(16),M=N=0;4>M;++M)for(var B=0;32>B;B+=8)_[N++]=this.g[M]>>>B&255;return _};function s(_,M){var N=a;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=M(_)}function o(_,M){this.h=M;for(var N=[],B=!0,H=_.length-1;0<=H;H--){var U=_[H]|0;B&&U==M||(N[H]=U,B=!1)}this.g=N}var a={};function l(_){return-128<=_&&128>_?s(_,function(M){return new o([M|0],0>M?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return p;if(0>_)return R(u(-_));for(var M=[],N=1,B=0;_>=N;B++)M[B]=_/N|0,N*=4294967296;return new o(M,0)}function h(_,M){if(_.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(_.charAt(0)=="-")return R(h(_.substring(1),M));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(M,8)),B=p,H=0;H<_.length;H+=8){var U=Math.min(8,_.length-H),G=parseInt(_.substring(H,H+U),M);8>U?(U=u(Math.pow(M,U)),B=B.j(U).add(u(G))):(B=B.j(N),B=B.add(u(G)))}return B}var p=l(0),g=l(1),v=l(16777216);e=o.prototype,e.m=function(){if(S(this))return-R(this).m();for(var _=0,M=1,N=0;N<this.g.length;N++){var B=this.i(N);_+=(0<=B?B:4294967296+B)*M,M*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C(this))return"0";if(S(this))return"-"+R(this).toString(_);for(var M=u(Math.pow(_,6)),N=this,B="";;){var H=k(N,M).g;N=x(N,H.j(M));var U=((0<N.g.length?N.g[0]:N.h)>>>0).toString(_);if(N=H,C(N))return U+B;for(;6>U.length;)U="0"+U;B=U+B}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function C(_){if(_.h!=0)return!1;for(var M=0;M<_.g.length;M++)if(_.g[M]!=0)return!1;return!0}function S(_){return _.h==-1}e.l=function(_){return _=x(this,_),S(_)?-1:C(_)?0:1};function R(_){for(var M=_.g.length,N=[],B=0;B<M;B++)N[B]=~_.g[B];return new o(N,~_.h).add(g)}e.abs=function(){return S(this)?R(this):this},e.add=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0,H=0;H<=M;H++){var U=B+(this.i(H)&65535)+(_.i(H)&65535),G=(U>>>16)+(this.i(H)>>>16)+(_.i(H)>>>16);B=G>>>16,U&=65535,G&=65535,N[H]=G<<16|U}return new o(N,N[N.length-1]&-2147483648?-1:0)};function x(_,M){return _.add(R(M))}e.j=function(_){if(C(this)||C(_))return p;if(S(this))return S(_)?R(this).j(R(_)):R(R(this).j(_));if(S(_))return R(this.j(R(_)));if(0>this.l(v)&&0>_.l(v))return u(this.m()*_.m());for(var M=this.g.length+_.g.length,N=[],B=0;B<2*M;B++)N[B]=0;for(B=0;B<this.g.length;B++)for(var H=0;H<_.g.length;H++){var U=this.i(B)>>>16,G=this.i(B)&65535,J=_.i(H)>>>16,ie=_.i(H)&65535;N[2*B+2*H]+=G*ie,D(N,2*B+2*H),N[2*B+2*H+1]+=U*ie,D(N,2*B+2*H+1),N[2*B+2*H+1]+=G*J,D(N,2*B+2*H+1),N[2*B+2*H+2]+=U*J,D(N,2*B+2*H+2)}for(B=0;B<M;B++)N[B]=N[2*B+1]<<16|N[2*B];for(B=M;B<2*M;B++)N[B]=0;return new o(N,0)};function D(_,M){for(;(_[M]&65535)!=_[M];)_[M+1]+=_[M]>>>16,_[M]&=65535,M++}function T(_,M){this.g=_,this.h=M}function k(_,M){if(C(M))throw Error("division by zero");if(C(_))return new T(p,p);if(S(_))return M=k(R(_),M),new T(R(M.g),R(M.h));if(S(M))return M=k(_,R(M)),new T(R(M.g),M.h);if(30<_.g.length){if(S(_)||S(M))throw Error("slowDivide_ only works with positive integers.");for(var N=g,B=M;0>=B.l(_);)N=L(N),B=L(B);var H=P(N,1),U=P(B,1);for(B=P(B,2),N=P(N,2);!C(B);){var G=U.add(B);0>=G.l(_)&&(H=H.add(N),U=G),B=P(B,1),N=P(N,1)}return M=x(_,H.j(M)),new T(H,M)}for(H=p;0<=_.l(M);){for(N=Math.max(1,Math.floor(_.m()/M.m())),B=Math.ceil(Math.log(N)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),U=u(N),G=U.j(M);S(G)||0<G.l(_);)N-=B,U=u(N),G=U.j(M);C(U)&&(U=g),H=H.add(U),_=x(_,G)}return new T(H,_)}e.A=function(_){return k(this,_).h},e.and=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0;B<M;B++)N[B]=this.i(B)&_.i(B);return new o(N,this.h&_.h)},e.or=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0;B<M;B++)N[B]=this.i(B)|_.i(B);return new o(N,this.h|_.h)},e.xor=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0;B<M;B++)N[B]=this.i(B)^_.i(B);return new o(N,this.h^_.h)};function L(_){for(var M=_.g.length+1,N=[],B=0;B<M;B++)N[B]=_.i(B)<<1|_.i(B-1)>>>31;return new o(N,_.h)}function P(_,M){var N=M>>5;M%=32;for(var B=_.g.length-N,H=[],U=0;U<B;U++)H[U]=0<M?_.i(U+N)>>>M|_.i(U+N+1)<<32-M:_.i(U+N);return new o(H,_.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,PU=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,rc=o}).apply(typeof fL<"u"?fL:typeof self<"u"?self:typeof window<"u"?window:{});var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IU,gg,FU,BC,pT,MU,_U,kU;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,A,O){return y==Array.prototype||y==Object.prototype||(y[A]=O.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xy=="object"&&Xy];for(var A=0;A<y.length;++A){var O=y[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var i=n(this);function r(y,A){if(A)e:{var O=i;y=y.split(".");for(var j=0;j<y.length-1;j++){var oe=y[j];if(!(oe in O))break e;O=O[oe]}y=y[y.length-1],j=O[y],A=A(j),A!=j&&A!=null&&t(O,y,{configurable:!0,writable:!0,value:A})}}function s(y,A){y instanceof String&&(y+="");var O=0,j=!1,oe={next:function(){if(!j&&O<y.length){var me=O++;return{value:A(me,y[me]),done:!1}}return j=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}r("Array.prototype.values",function(y){return y||function(){return s(this,function(A,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(y){var A=typeof y;return A=A!="object"?A:y?Array.isArray(y)?"array":A:"null",A=="array"||A=="object"&&typeof y.length=="number"}function u(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function h(y,A,O){return y.call.apply(y.bind,arguments)}function p(y,A,O){if(!y)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,j),y.apply(A,oe)}}return function(){return y.apply(A,arguments)}}function g(y,A,O){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(y,A){var O=Array.prototype.slice.call(arguments,1);return function(){var j=O.slice();return j.push.apply(j,arguments),y.apply(this,j)}}function C(y,A){function O(){}O.prototype=A.prototype,y.aa=A.prototype,y.prototype=new O,y.prototype.constructor=y,y.Qb=function(j,oe,me){for(var Fe=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)Fe[Gt-2]=arguments[Gt];return A.prototype[oe].apply(j,Fe)}}function S(y){const A=y.length;if(0<A){const O=Array(A);for(let j=0;j<A;j++)O[j]=y[j];return O}return[]}function R(y,A){for(let O=1;O<arguments.length;O++){const j=arguments[O];if(l(j)){const oe=y.length||0,me=j.length||0;y.length=oe+me;for(let Fe=0;Fe<me;Fe++)y[oe+Fe]=j[Fe]}else y.push(j)}}class x{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function D(y){return/^[\s\xa0]*$/.test(y)}function T(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function k(y){return k[" "](y),y}k[" "]=function(){};var L=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(y,A,O){for(const j in y)A.call(O,y[j],j,y)}function _(y,A){for(const O in y)A.call(void 0,y[O],O,y)}function M(y){const A={};for(const O in y)A[O]=y[O];return A}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(y,A){let O,j;for(let oe=1;oe<arguments.length;oe++){j=arguments[oe];for(O in j)y[O]=j[O];for(let me=0;me<N.length;me++)O=N[me],Object.prototype.hasOwnProperty.call(j,O)&&(y[O]=j[O])}}function H(y){var A=1;y=y.split(":");const O=[];for(;0<A&&y.length;)O.push(y.shift()),A--;return y.length&&O.push(y.join(":")),O}function U(y){a.setTimeout(()=>{throw y},0)}function G(){var y=fe;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class J{constructor(){this.h=this.g=null}add(A,O){const j=ie.get();j.set(A,O),this.h?this.h.next=j:this.g=j,this.h=j}}var ie=new x(()=>new $,y=>y.reset());class ${constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ee=!1,fe=new J,F=()=>{const y=a.Promise.resolve(void 0);Q=()=>{y.then(X)}};var X=()=>{for(var y;y=G();){try{y.h.call(y.g)}catch(O){U(O)}var A=ie;A.j(y),100>A.h&&(A.h++,y.next=A.g,A.g=y)}ee=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};a.addEventListener("test",O,A),a.removeEventListener("test",O,A)}catch{}return y}();function De(y,A){if(z.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var O=this.type=y.type,j=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget){if(L){e:{try{k(A.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(A=null)}}else O=="mouseover"?A=y.fromElement:O=="mouseout"&&(A=y.toElement);this.relatedTarget=A,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:xe[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&De.aa.h.call(this)}}C(De,z);var xe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ze(y,A,O,j,oe){this.listener=y,this.proxy=null,this.src=A,this.type=O,this.capture=!!j,this.ha=oe,this.key=++qe,this.da=this.fa=!1}function nt(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ct(y){this.src=y,this.g={},this.h=0}ct.prototype.add=function(y,A,O,j,oe){var me=y.toString();y=this.g[me],y||(y=this.g[me]=[],this.h++);var Fe=Ot(y,A,j,oe);return-1<Fe?(A=y[Fe],O||(A.fa=!1)):(A=new ze(A,this.src,me,!!j,oe),A.fa=O,y.push(A)),A};function mt(y,A){var O=A.type;if(O in y.g){var j=y.g[O],oe=Array.prototype.indexOf.call(j,A,void 0),me;(me=0<=oe)&&Array.prototype.splice.call(j,oe,1),me&&(nt(A),y.g[O].length==0&&(delete y.g[O],y.h--))}}function Ot(y,A,O,j){for(var oe=0;oe<y.length;++oe){var me=y[oe];if(!me.da&&me.listener==A&&me.capture==!!O&&me.ha==j)return oe}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Le={};function Qe(y,A,O,j,oe){if(Array.isArray(A)){for(var me=0;me<A.length;me++)Qe(y,A[me],O,j,oe);return null}return O=Vn(O),y&&y[lt]?y.K(A,O,u(j)?!!j.capture:!1,oe):Ne(y,A,O,!1,j,oe)}function Ne(y,A,O,j,oe,me){if(!A)throw Error("Invalid event type");var Fe=u(oe)?!!oe.capture:!!oe,Gt=Mt(y);if(Gt||(y[ke]=Gt=new ct(y)),O=Gt.add(A,O,j,Fe,me),O.proxy)return O;if(j=Ze(),O.proxy=j,j.src=y,j.listener=O,y.addEventListener)pe||(oe=Fe),oe===void 0&&(oe=!1),y.addEventListener(A.toString(),j,oe);else if(y.attachEvent)y.attachEvent(St(A.toString()),j);else if(y.addListener&&y.removeListener)y.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ze(){function y(O){return A.call(y.src,y.listener,O)}const A=Et;return y}function xt(y,A,O,j,oe){if(Array.isArray(A))for(var me=0;me<A.length;me++)xt(y,A[me],O,j,oe);else j=u(j)?!!j.capture:!!j,O=Vn(O),y&&y[lt]?(y=y.i,A=String(A).toString(),A in y.g&&(me=y.g[A],O=Ot(me,O,j,oe),-1<O&&(nt(me[O]),Array.prototype.splice.call(me,O,1),me.length==0&&(delete y.g[A],y.h--)))):y&&(y=Mt(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Ot(A,O,j,oe)),(O=-1<y?A[y]:null)&&st(O))}function st(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[lt])mt(A.i,y);else{var O=y.type,j=y.proxy;A.removeEventListener?A.removeEventListener(O,j,y.capture):A.detachEvent?A.detachEvent(St(O),j):A.addListener&&A.removeListener&&A.removeListener(j),(O=Mt(A))?(mt(O,y),O.h==0&&(O.src=null,A[ke]=null)):nt(y)}}}function St(y){return y in Le?Le[y]:Le[y]="on"+y}function Et(y,A){if(y.da)y=!0;else{A=new De(A,this);var O=y.listener,j=y.ha||y.src;y.fa&&st(y),y=O.call(j,A)}return y}function Mt(y){return y=y[ke],y instanceof ct?y:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(y){return typeof y=="function"?y:(y[mn]||(y[mn]=function(A){return y.handleEvent(A)}),y[mn])}function te(){ne.call(this),this.i=new ct(this),this.M=this,this.F=null}C(te,ne),te.prototype[lt]=!0,te.prototype.removeEventListener=function(y,A,O,j){xt(this,y,A,O,j)};function ve(y,A){var O,j=y.F;if(j)for(O=[];j;j=j.F)O.push(j);if(y=y.M,j=A.type||A,typeof A=="string")A=new z(A,y);else if(A instanceof z)A.target=A.target||y;else{var oe=A;A=new z(j,y),B(A,oe)}if(oe=!0,O)for(var me=O.length-1;0<=me;me--){var Fe=A.g=O[me];oe=Pe(Fe,j,!0,A)&&oe}if(Fe=A.g=y,oe=Pe(Fe,j,!0,A)&&oe,oe=Pe(Fe,j,!1,A)&&oe,O)for(me=0;me<O.length;me++)Fe=A.g=O[me],oe=Pe(Fe,j,!1,A)&&oe}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var y=this.i,A;for(A in y.g){for(var O=y.g[A],j=0;j<O.length;j++)nt(O[j]);delete y.g[A],y.h--}}this.F=null},te.prototype.K=function(y,A,O,j){return this.i.add(String(y),A,!1,O,j)},te.prototype.L=function(y,A,O,j){return this.i.add(String(y),A,!0,O,j)};function Pe(y,A,O,j){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();for(var oe=!0,me=0;me<A.length;++me){var Fe=A[me];if(Fe&&!Fe.da&&Fe.capture==O){var Gt=Fe.listener,pi=Fe.ha||Fe.src;Fe.fa&&mt(y.i,Fe),oe=Gt.call(pi,j)!==!1&&oe}}return oe&&!j.defaultPrevented}function Ve(y,A,O){if(typeof y=="function")O&&(y=g(y,O));else if(y&&typeof y.handleEvent=="function")y=g(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(y,A||0)}function Lt(y){y.g=Ve(()=>{y.g=null,y.i&&(y.i=!1,Lt(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Dn extends ne{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(y){ne.call(this),this.h=y,this.g={}}C(bi,ne);var ti=[];function Qi(y){P(y.g,function(A,O){this.g.hasOwnProperty(O)&&st(A)},y),y.g={}}bi.prototype.N=function(){bi.aa.N.call(this),Qi(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=a.JSON.stringify,Mn=a.JSON.parse,fi=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function Si(){}Si.prototype.h=null;function da(y){return y.h||(y.h=y.i())}function Bc(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ys(){z.call(this,"d")}C(Ys,z);function cl(){z.call(this,"c")}C(cl,z);var ur={},mo=null;function vo(){return mo=mo||new te}ur.La="serverreachability";function ul(y){z.call(this,ur.La,y)}C(ul,z);function Y(y){const A=vo();ve(A,new ul(A))}ur.STAT_EVENT="statevent";function se(y,A){z.call(this,ur.STAT_EVENT,y),this.stat=A}C(se,z);function ce(y){const A=vo();ve(A,new se(A,y))}ur.Ma="timingevent";function Se(y,A){z.call(this,ur.Ma,y),this.size=A}C(Se,z);function Te(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},A)}function Be(){this.g=!0}Be.prototype.xa=function(){this.g=!1};function Ke(y,A,O,j,oe,me){y.info(function(){if(y.g)if(me)for(var Fe="",Gt=me.split("&"),pi=0;pi<Gt.length;pi++){var zt=Gt[pi].split("=");if(1<zt.length){var xi=zt[0];zt=zt[1];var gi=xi.split("_");Fe=2<=gi.length&&gi[1]=="type"?Fe+(xi+"="+zt+"&"):Fe+(xi+"=redacted&")}}else Fe=null;else Fe=me;return"XMLHTTP REQ ("+j+") [attempt "+oe+"]: "+A+`
`+O+`
`+Fe})}function Ue(y,A,O,j,oe,me,Fe){y.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+oe+"]: "+A+`
`+O+`
`+me+" "+Fe})}function We(y,A,O,j){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+je(y,O)+(j?" "+j:"")})}function rt(y,A){y.info(function(){return"TIMEOUT: "+A})}Be.prototype.info=function(){};function je(y,A){if(!y.g)return A;if(!A)return null;try{var O=JSON.parse(A);if(O){for(y=0;y<O.length;y++)if(Array.isArray(O[y])){var j=O[y];if(!(2>j.length)){var oe=j[1];if(Array.isArray(oe)&&!(1>oe.length)){var me=oe[0];if(me!="noop"&&me!="stop"&&me!="close")for(var Fe=1;Fe<oe.length;Fe++)oe[Fe]=""}}}}return hi(O)}catch{return A}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$t;function vn(){}C(vn,Si),vn.prototype.g=function(){return new XMLHttpRequest},vn.prototype.i=function(){return{}},$t=new vn;function Kt(y,A,O,j){this.j=y,this.i=A,this.l=O,this.R=j||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var Yt={},Rr={};function Oi(y,A,O){y.L=1,y.v=zc(Wr(A)),y.m=O,y.P=!0,Ei(y,null)}function Ei(y,A){y.F=Date.now(),zr(y),y.A=Wr(y.v);var O=y.A,j=y.R;Array.isArray(j)||(j=[String(j)]),Xf(O.i,"t",j),y.C=0,O=y.j.J,y.h=new wt,y.g=Bv(y.j,O?A:null,!y.m),0<y.O&&(y.M=new Dn(g(y.Y,y,y.g),y.O)),A=y.U,O=y.g,j=y.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(ti[0]=oe.toString()),oe=ti);for(var me=0;me<oe.length;me++){var Fe=Qe(O,oe[me],j||A.handleEvent,!1,A.h||A);if(!Fe)break;A.g[Fe.key]=Fe}A=y.H?M(y.H):{},y.m?(y.u||(y.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,A)):(y.u="GET",y.g.ea(y.A,y.u,null,A)),Y(),Ke(y.i,y.u,y.A,y.l,y.R,y.m)}Kt.prototype.ca=function(y){y=y.target;const A=this.M;A&&ys(y)==3?A.j():this.Y(y)},Kt.prototype.Y=function(y){try{if(y==this.g)e:{const gi=ys(this.g);var A=this.g.Ba();const Ca=this.g.Z();if(!(3>gi)&&(gi!=3||this.g&&(this.h.h||this.g.oa()||Fv(this.g)))){this.J||gi!=4||A==7||(A==8||0>=Ca?Y(3):Y(2)),Ur(this);var O=this.g.Z();this.X=O;t:if(dr(this)){var j=Fv(this.g);y="";var oe=j.length,me=ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yt(this),hr(this);var Fe="";break t}this.h.i=new a.TextDecoder}for(A=0;A<oe;A++)this.h.h=!0,y+=this.h.i.decode(j[A],{stream:!(me&&A==oe-1)});j.length=0,this.h.g+=y,this.C=0,Fe=this.h.g}else Fe=this.g.oa();if(this.o=O==200,Ue(this.i,this.u,this.A,this.l,this.R,gi,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,pi=this.g;if((Gt=pi.g?pi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Gt)){var zt=Gt;break t}}zt=null}if(O=zt)We(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,An(this,O);else{this.o=!1,this.s=3,ce(12),yt(this),hr(this);break e}}if(this.P){O=!0;let Li;for(;!this.J&&this.C<Fe.length;)if(Li=dl(this,Fe),Li==Rr){gi==4&&(this.s=4,ce(14),O=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==Yt){this.s=4,ce(15),We(this.i,this.l,Fe,"[Invalid Chunk]"),O=!1;break}else We(this.i,this.l,Li,null),An(this,Li);if(dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gi!=4||Fe.length!=0||this.h.h||(this.s=1,ce(16),O=!1),this.o=this.o&&O,!O)We(this.i,this.l,Fe,"[Invalid Chunked Response]"),yt(this),hr(this);else if(0<Fe.length&&!this.W){this.W=!0;var xi=this.j;xi.g==this&&xi.ba&&!xi.M&&(xi.j.info("Great, no buffering proxy detected. Bytes received: "+Fe.length),Xc(xi),xi.M=!0,ce(11))}}else We(this.i,this.l,Fe,null),An(this,Fe);gi==4&&yt(this),this.o&&!this.J&&(gi==4?Lv(this.j,this):(this.o=!1,zr(this)))}else ZS(this.g),O==400&&0<Fe.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),yt(this),hr(this)}}}catch{}finally{}};function dr(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function dl(y,A){var O=y.C,j=A.indexOf(`
`,O);return j==-1?Rr:(O=Number(A.substring(O,j)),isNaN(O)?Yt:(j+=1,j+O>A.length?Rr:(A=A.slice(j,j+O),y.C=j+O,A)))}Kt.prototype.cancel=function(){this.J=!0,yt(this)};function zr(y){y.S=Date.now()+y.I,ps(y,y.I)}function ps(y,A){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Te(g(y.ba,y),A)}function Ur(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Kt.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(rt(this.i,this.A),this.L!=2&&(Y(),ce(17)),yt(this),this.s=2,hr(this)):ps(this,this.S-y)};function hr(y){y.j.G==0||y.J||Lv(y.j,y)}function yt(y){Ur(y);var A=y.M;A&&typeof A.ma=="function"&&A.ma(),y.M=null,Qi(y.U),y.g&&(A=y.g,y.g=null,A.abort(),A.ma())}function An(y,A){try{var O=y.j;if(O.G!=0&&(O.g==y||hl(O.h,y))){if(!y.K&&hl(O.h,y)&&O.G==3){try{var j=O.Da.g.parse(A)}catch{j=null}if(Array.isArray(j)&&j.length==3){var oe=j;if(oe[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<y.F)Md(O),Id(O);else break e;tp(O),ce(18)}}else O.za=oe[1],0<O.za-O.T&&37500>oe[2]&&O.F&&O.v==0&&!O.C&&(O.C=Te(g(O.Za,O),6e3));if(1>=Xs(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else ya(O,11)}else if((y.K||O.g==y)&&Md(O),!D(A))for(oe=O.Da.g.parse(A),A=0;A<oe.length;A++){let zt=oe[A];if(O.T=zt[0],zt=zt[1],O.G==2)if(zt[0]=="c"){O.K=zt[1],O.ia=zt[2];const xi=zt[3];xi!=null&&(O.la=xi,O.j.info("VER="+O.la));const gi=zt[4];gi!=null&&(O.Aa=gi,O.j.info("SVER="+O.Aa));const Ca=zt[5];Ca!=null&&typeof Ca=="number"&&0<Ca&&(j=1.5*Ca,O.L=j,O.j.info("backChannelRequestTimeoutMs_="+j)),j=O;const Li=y.g;if(Li){const Ro=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var me=j.h;me.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(fl(me,me.h),me.h=null))}if(j.D){const ip=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;ip&&(j.ya=ip,un(j.I,j.D,ip))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-y.F,O.j.info("Handshake RTT: "+O.R+"ms")),j=O;var Fe=y;if(j.qa=Vv(j,j.J?j.ia:null,j.W),Fe.K){pr(j.h,Fe);var Gt=Fe,pi=j.L;pi&&(Gt.I=pi),Gt.B&&(Ur(Gt),zr(Gt)),j.g=Fe}else kv(j);0<O.i.length&&Fd(O)}else zt[0]!="stop"&&zt[0]!="close"||ya(O,7);else O.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?ya(O,7):Jf(O):zt[0]!="noop"&&O.l&&O.l.ta(zt),O.v=0)}}Y(4)}catch{}}var ha=class{constructor(y,A){this.g=y,this.map=A}};function fr(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Xs(y){return y.h?1:y.g?y.g.size:0}function hl(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function fl(y,A){y.g?y.g.add(A):y.h=A}function pr(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}fr.prototype.cancel=function(){if(this.i=$f(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function $f(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const O of y.g.values())A=A.concat(O.D);return A}return S(y.i)}function KS(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var A=[],O=y.length,j=0;j<O;j++)A.push(y[j]);return A}A=[],O=0;for(j in y)A[O++]=y[j];return A}function Rd(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var A=[];y=y.length;for(var O=0;O<y;O++)A.push(O);return A}A=[],O=0;for(const j in y)A[O++]=j;return A}}}function qf(y,A){if(y.forEach&&typeof y.forEach=="function")y.forEach(A,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,A,void 0);else for(var O=Rd(y),j=KS(y),oe=j.length,me=0;me<oe;me++)A.call(void 0,j[me],O&&O[me],y)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YS(y,A){if(y){y=y.split("&");for(var O=0;O<y.length;O++){var j=y[O].indexOf("="),oe=null;if(0<=j){var me=y[O].substring(0,j);oe=y[O].substring(j+1)}else me=y[O];A(me,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ni(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof ni){this.h=y.h,Gc(this,y.j),this.o=y.o,this.g=y.g,pl(this,y.s),this.l=y.l;var A=y.i,O=new pa;O.i=A.i,A.g&&(O.g=new Map(A.g),O.h=A.h),fa(this,O),this.m=y.m}else y&&(A=String(y).match(Hc))?(this.h=!1,Gc(this,A[1]||"",!0),this.o=gs(A[2]||""),this.g=gs(A[3]||"",!0),pl(this,A[4]),this.l=gs(A[5]||"",!0),fa(this,A[6]||"",!0),this.m=gs(A[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}ni.prototype.toString=function(){var y=[],A=this.j;A&&y.push(Uc(A,Kf,!0),":");var O=this.g;return(O||A=="file")&&(y.push("//"),(A=this.o)&&y.push(Uc(A,Kf,!0),"@"),y.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&y.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(Uc(O,O.charAt(0)=="/"?XS:Yf,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",Uc(O,xd)),y.join("")};function Wr(y){return new ni(y)}function Gc(y,A,O){y.j=O?gs(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function pl(y,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);y.s=A}else y.s=null}function fa(y,A,O){A instanceof pa?(y.i=A,Pv(y.i,y.h)):(O||(A=Uc(A,QS)),y.i=new pa(A,y.h))}function un(y,A,O){y.i.set(A,O)}function zc(y){return un(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function gs(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Uc(y,A,O){return typeof y=="string"?(y=encodeURI(y).replace(A,Av),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Av(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Kf=/[#\/\?@]/g,Yf=/[#\?:]/g,XS=/[#\?]/g,QS=/[#\?@]/g,xd=/#/g;function pa(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function ms(y){y.g||(y.g=new Map,y.h=0,y.i&&YS(y.i,function(A,O){y.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}e=pa.prototype,e.add=function(y,A){ms(this),this.i=null,y=yo(this,y);var O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(A),this.h+=1,this};function ga(y,A){ms(y),A=yo(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function ma(y,A){return ms(y),A=yo(y,A),y.g.has(A)}e.forEach=function(y,A){ms(this),this.g.forEach(function(O,j){O.forEach(function(oe){y.call(A,oe,j,this)},this)},this)},e.na=function(){ms(this);const y=Array.from(this.g.values()),A=Array.from(this.g.keys()),O=[];for(let j=0;j<A.length;j++){const oe=y[j];for(let me=0;me<oe.length;me++)O.push(A[j])}return O},e.V=function(y){ms(this);let A=[];if(typeof y=="string")ma(this,y)&&(A=A.concat(this.g.get(yo(this,y))));else{y=Array.from(this.g.values());for(let O=0;O<y.length;O++)A=A.concat(y[O])}return A},e.set=function(y,A){return ms(this),this.i=null,y=yo(this,y),ma(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},e.get=function(y,A){return y?(y=this.V(y),0<y.length?String(y[0]):A):A};function Xf(y,A,O){ga(y,A),0<O.length&&(y.i=null,y.g.set(yo(y,A),S(O)),y.h+=O.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(var O=0;O<A.length;O++){var j=A[O];const me=encodeURIComponent(String(j)),Fe=this.V(j);for(j=0;j<Fe.length;j++){var oe=me;Fe[j]!==""&&(oe+="="+encodeURIComponent(String(Fe[j]))),y.push(oe)}}return this.i=y.join("&")};function yo(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function Pv(y,A){A&&!y.j&&(ms(y),y.i=null,y.g.forEach(function(O,j){var oe=j.toLowerCase();j!=oe&&(ga(this,j),Xf(this,oe,O))},y)),y.j=A}function Wc(y,A){const O=new Be;if(a.Image){const j=new Image;j.onload=v(vs,O,"TestLoadImage: loaded",!0,A,j),j.onerror=v(vs,O,"TestLoadImage: error",!1,A,j),j.onabort=v(vs,O,"TestLoadImage: abort",!1,A,j),j.ontimeout=v(vs,O,"TestLoadImage: timeout",!1,A,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=y}else A(!1)}function Qs(y,A){const O=new Be,j=new AbortController,oe=setTimeout(()=>{j.abort(),vs(O,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:j.signal}).then(me=>{clearTimeout(oe),me.ok?vs(O,"TestPingServer: ok",!0,A):vs(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(oe),vs(O,"TestPingServer: error",!1,A)})}function vs(y,A,O,j,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),j(O)}catch{}}function jc(){this.g=new fi}function Co(y,A,O){const j=O||"";try{qf(y,function(oe,me){let Fe=oe;u(oe)&&(Fe=hi(oe)),A.push(j+me+"="+encodeURIComponent(Fe))})}catch(oe){throw A.push(j+"type="+encodeURIComponent("_badmap")),oe}}function gl(y){this.l=y.Ub||null,this.j=y.eb||!1}C(gl,Si),gl.prototype.g=function(){return new va(this.l,this.j)},gl.prototype.i=function(y){return function(){return y}}({});function va(y,A){te.call(this),this.D=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(va,te),e=va.prototype,e.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=A,this.readyState=1,bo(this)},e.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(A.body=y),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=0},e.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qf(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qf(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}e.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?wo(this):bo(this),this.readyState==3&&Qf(this)}},e.Ra=function(y){this.g&&(this.response=this.responseText=y,wo(this))},e.Qa=function(y){this.g&&(this.response=y,wo(this))},e.ga=function(){this.g&&wo(this)};function wo(y){y.readyState=4,y.l=null,y.j=null,y.v=null,bo(y)}e.setRequestHeader=function(y,A){this.u.append(y,A)},e.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=A.next();return y.join(`\r
`)};function bo(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Zf(y){let A="";return P(y,function(O,j){A+=j,A+=":",A+=O,A+=`\r
`}),A}function Ri(y,A,O){e:{for(j in O){var j=!1;break e}j=!0}j||(O=Zf(O),typeof y=="string"?O!=null&&encodeURIComponent(String(O)):un(y,A,O))}function en(y){te.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(en,te);var Td=/^https?$/i,$c=["POST","PUT"];e=en.prototype,e.Ha=function(y){this.J=y},e.ea=function(y,A,O,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$t.g(),this.v=this.o?da(this.o):da($t),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(me){Iv(this,me);return}if(y=O||"",O=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var oe in j)O.set(oe,j[oe]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const me of j.keys())O.set(me,j.get(me));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(O.keys()).find(me=>me.toLowerCase()=="content-type"),oe=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call($c,A,void 0))||j||oe||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Fe]of O)this.g.setRequestHeader(me,Fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qc(this),this.u=!0,this.g.send(y),this.u=!1}catch(me){Iv(this,me)}};function Iv(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.m=5,Dd(y),So(y)}function Dd(y){y.A||(y.A=!0,ve(y,"complete"),ve(y,"error"))}e.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ve(this,"complete"),ve(this,"abort"),So(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),So(this,!0)),en.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ad(this):this.bb())},e.bb=function(){Ad(this)};function Ad(y){if(y.h&&typeof o<"u"&&(!y.v[1]||ys(y)!=4||y.Z()!=2)){if(y.u&&ys(y)==4)Ve(y.Ea,0,y);else if(ve(y,"readystatechange"),ys(y)==4){y.h=!1;try{const Fe=y.Z();e:switch(Fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var j;if(j=Fe===0){var oe=String(y.D).match(Hc)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),j=!Td.test(oe?oe.toLowerCase():"")}O=j}if(O)ve(y,"complete"),ve(y,"success");else{y.m=6;try{var me=2<ys(y)?y.g.statusText:""}catch{me=""}y.l=me+" ["+y.Z()+"]",Dd(y)}}finally{So(y)}}}}function So(y,A){if(y.g){qc(y);const O=y.g,j=y.v[0]?()=>{}:null;y.g=null,y.v=null,A||ve(y,"ready");try{O.onreadystatechange=j}catch{}}}function qc(y){y.I&&(a.clearTimeout(y.I),y.I=null)}e.isActive=function(){return!!this.g};function ys(y){return y.g?y.g.readyState:0}e.Z=function(){try{return 2<ys(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),Mn(A)}};function Fv(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ZS(y){const A={};y=(y.g&&2<=ys(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<y.length;j++){if(D(y[j]))continue;var O=H(y[j]);const oe=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const me=A[oe]||[];A[oe]=me,me.push(O)}_(A,function(j){return j.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kc(y,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||A}function Pd(y){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kc("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kc("baseRetryDelayMs",5e3,y),this.cb=Kc("retryDelaySeedMs",1e4,y),this.Wa=Kc("forwardChannelMaxRetries",2,y),this.wa=Kc("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(y&&y.concurrentRequestLimit),this.Da=new jc,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Pd.prototype,e.la=8,e.G=1,e.connect=function(y,A,O,j){ce(0),this.W=y,this.H=A||{},O&&j!==void 0&&(this.H.OSID=O,this.H.OAID=j),this.F=this.X,this.I=Vv(this,null,this.W),Fd(this)};function Jf(y){if(Mv(y),y.G==3){var A=y.U++,O=Wr(y.I);if(un(O,"SID",y.K),un(O,"RID",A),un(O,"TYPE","terminate"),Yc(y,O),A=new Kt(y,y.j,A),A.L=2,A.v=zc(Wr(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!O&&a.Image&&(new Image().src=A.v,O=!0),O||(A.g=Bv(A.j,null),A.g.ea(A.v)),A.F=Date.now(),zr(A)}Nv(y)}function Id(y){y.g&&(Xc(y),y.g.cancel(),y.g=null)}function Mv(y){Id(y),y.u&&(a.clearTimeout(y.u),y.u=null),Md(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function Fd(y){if(!Cn(y.h)&&!y.s){y.s=!0;var A=y.Ga;Q||F(),ee||(Q(),ee=!0),fe.add(A,y),y.B=0}}function JS(y,A){return Xs(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=A.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Te(g(y.Ga,y,A),np(y,y.B)),y.B++,!0)}e.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const oe=new Kt(this,this.j,y);let me=this.o;if(this.S&&(me?(me=M(me),B(me,this.S)):me=this.S),this.m!==null||this.O||(oe.H=me,me=null),this.P)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var j=this.i[O];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(A+=j,4096<A){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=_v(this,oe,A),O=Wr(this.I),un(O,"RID",y),un(O,"CVER",22),this.D&&un(O,"X-HTTP-Session-Id",this.D),Yc(this,O),me&&(this.O?A="headers="+encodeURIComponent(String(Zf(me)))+"&"+A:this.m&&Ri(O,this.m,me)),fl(this.h,oe),this.Ua&&un(O,"TYPE","init"),this.P?(un(O,"$req",A),un(O,"SID","null"),oe.T=!0,Oi(oe,O,null)):Oi(oe,O,A),this.G=2}}else this.G==3&&(y?ep(this,y):this.i.length==0||Cn(this.h)||ep(this))};function ep(y,A){var O;A?O=A.l:O=y.U++;const j=Wr(y.I);un(j,"SID",y.K),un(j,"RID",O),un(j,"AID",y.T),Yc(y,j),y.m&&y.o&&Ri(j,y.m,y.o),O=new Kt(y,y.j,O,y.B+1),y.m===null&&(O.H=y.o),A&&(y.i=A.D.concat(y.i)),A=_v(y,O,1e3),O.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),fl(y.h,O),Oi(O,j,A)}function Yc(y,A){y.H&&P(y.H,function(O,j){un(A,j,O)}),y.l&&qf({},function(O,j){un(A,j,O)})}function _v(y,A,O){O=Math.min(y.i.length,O);var j=y.l?g(y.l.Na,y.l,y):null;e:{var oe=y.i;let me=-1;for(;;){const Fe=["count="+O];me==-1?0<O?(me=oe[0].g,Fe.push("ofs="+me)):me=0:Fe.push("ofs="+me);let Gt=!0;for(let pi=0;pi<O;pi++){let zt=oe[pi].g;const xi=oe[pi].map;if(zt-=me,0>zt)me=Math.max(0,oe[pi].g-100),Gt=!1;else try{Co(xi,Fe,"req"+zt+"_")}catch{j&&j(xi)}}if(Gt){j=Fe.join("&");break e}}}return y=y.i.splice(0,O),A.D=y,j}function kv(y){if(!y.g&&!y.u){y.Y=1;var A=y.Fa;Q||F(),ee||(Q(),ee=!0),fe.add(A,y),y.v=0}}function tp(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Te(g(y.Fa,y),np(y,y.v)),y.v++,!0)}e.Fa=function(){if(this.u=null,Ov(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Te(g(this.ab,this),y)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Id(this),Ov(this))};function Xc(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function Ov(y){y.g=new Kt(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var A=Wr(y.qa);un(A,"RID","rpc"),un(A,"SID",y.K),un(A,"AID",y.T),un(A,"CI",y.F?"0":"1"),!y.F&&y.ja&&un(A,"TO",y.ja),un(A,"TYPE","xmlhttp"),Yc(y,A),y.m&&y.o&&Ri(A,y.m,y.o),y.L&&(y.g.I=y.L);var O=y.g;y=y.ia,O.L=1,O.v=zc(Wr(A)),O.m=null,O.P=!0,Ei(O,y)}e.Za=function(){this.C!=null&&(this.C=null,Id(this),tp(this),ce(19))};function Md(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function Lv(y,A){var O=null;if(y.g==A){Md(y),Xc(y),y.g=null;var j=2}else if(hl(y.h,A))O=A.D,pr(y.h,A),j=1;else return;if(y.G!=0){if(A.o)if(j==1){O=A.m?A.m.length:0,A=Date.now()-A.F;var oe=y.B;j=vo(),ve(j,new Se(j,O)),Fd(y)}else kv(y);else if(oe=A.s,oe==3||oe==0&&0<A.X||!(j==1&&JS(y,A)||j==2&&tp(y)))switch(O&&0<O.length&&(A=y.h,A.i=A.i.concat(O)),oe){case 1:ya(y,5);break;case 4:ya(y,10);break;case 3:ya(y,6);break;default:ya(y,2)}}}function np(y,A){let O=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(O*=2),O*A}function ya(y,A){if(y.j.info("Error code "+A),A==2){var O=g(y.fb,y),j=y.Xa;const oe=!j;j=new ni(j||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gc(j,"https"),zc(j),oe?Wc(j.toString(),O):Qs(j.toString(),O)}else ce(2);y.G=0,y.l&&y.l.sa(A),Nv(y),Mv(y)}e.fb=function(y){y?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Nv(y){if(y.G=0,y.ka=[],y.l){const A=$f(y.h);(A.length!=0||y.i.length!=0)&&(R(y.ka,A),R(y.ka,y.i),y.h.i.length=0,S(y.i),y.i.length=0),y.l.ra()}}function Vv(y,A,O){var j=O instanceof ni?Wr(O):new ni(O);if(j.g!="")A&&(j.g=A+"."+j.g),pl(j,j.s);else{var oe=a.location;j=oe.protocol,A=A?A+"."+oe.hostname:oe.hostname,oe=+oe.port;var me=new ni(null);j&&Gc(me,j),A&&(me.g=A),oe&&pl(me,oe),O&&(me.l=O),j=me}return O=y.D,A=y.ya,O&&A&&un(j,O,A),un(j,"VER",y.la),Yc(y,j),j}function Bv(y,A,O){if(A&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Ca&&!y.pa?new en(new gl({eb:O})):new en(y.pa),A.Ha(y.J),A}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hv(){}e=Hv.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function _d(){}_d.prototype.g=function(y,A){return new gr(y,A)};function gr(y,A){te.call(this),this.g=new Pd(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(y?y["X-WebChannel-Client-Profile"]=A.va:y={"X-WebChannel-Client-Profile":A.va}),this.g.S=y,(y=A&&A.Sb)&&!D(y)&&(this.g.m=y),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!D(A)&&(this.g.D=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new Eo(this)}C(gr,te),gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Jf(this.g)},gr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.u&&(O={},O.__data__=hi(y),y=O);A.i.push(new ha(A.Ya++,y)),A.G==3&&Fd(A)},gr.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,gr.aa.N.call(this)};function Gv(y){Ys.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const O in A){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}C(Gv,Ys);function zv(){cl.call(this),this.status=1}C(zv,cl);function Eo(y){this.g=y}C(Eo,Hv),Eo.prototype.ua=function(){ve(this.g,"a")},Eo.prototype.ta=function(y){ve(this.g,new Gv(y))},Eo.prototype.sa=function(y){ve(this.g,new zv)},Eo.prototype.ra=function(){ve(this.g,"b")},_d.prototype.createWebChannel=_d.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,kU=function(){return new _d},_U=function(){return vo()},MU=ur,pT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,BC=$e,Rt.COMPLETE="complete",FU=Rt,Bc.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",te.prototype.listen=te.prototype.K,gg=Bc,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,IU=en}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});const pL="@firebase/firestore",gL="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new HA("@firebase/firestore");function mh(){return Zu.logLevel}function He(e,...t){if(Zu.logLevel<=Nt.DEBUG){const n=t.map(QA);Zu.debug(`Firestore (${Df}): ${e}`,...n)}}function Qa(e,...t){if(Zu.logLevel<=Nt.ERROR){const n=t.map(QA);Zu.error(`Firestore (${Df}): ${e}`,...n)}}function nf(e,...t){if(Zu.logLevel<=Nt.WARN){const n=t.map(QA);Zu.warn(`Firestore (${Df}): ${e}`,...n)}}function QA(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,OU(e,i,n)}function OU(e,t,n){let i=`FIRESTORE (${Df}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qa(i),new Error(i)}function an(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||OU(t,r,i)}function bt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends ho{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nr.UNAUTHENTICATED))}shutdown(){}}class gre{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mre{constructor(t){this.t=t,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){an(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ua,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ua)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(an(typeof i.accessToken=="string",31837,{l:i}),new LU(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return an(t===null||typeof t=="string",2055,{h:t}),new nr(t)}}class vre{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yre{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new vre(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cre{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,es(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){an(this.o===void 0,3512);const i=s=>{s.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mL(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(an(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wre(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=wre(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function Vt(e,t){return e<t?-1:e>t?1:0}function gT(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return y0(r)===y0(s)?Vt(r,s):y0(r)?1:-1}return Vt(e.length,t.length)}const bre=55296,Sre=57343;function y0(e){const t=e.charCodeAt(0);return t>=bre&&t<=Sre}function rf(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="__name__";class _o{constructor(t,n,i){n===void 0?n=0:n>t.length&&ft(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&ft(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return _o.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _o?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=_o.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return Vt(t.length,n.length)}static compareSegments(t,n){const i=_o.isNumericId(t),r=_o.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?_o.extractNumericId(t).compare(_o.extractNumericId(n)):gT(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rc.fromString(t.substring(4,t.length-2))}}class Sn extends _o{construct(t,n,i){return new Sn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Sn(n)}static emptyPath(){return new Sn([])}}const Ere=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ji extends _o{construct(t,n,i){return new ji(t,n,i)}static isValidIdentifier(t){return Ere.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ji.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vL}static keyField(){return new ji([vL])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Oe(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new Oe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Oe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Oe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ji(n)}static emptyPath(){return new ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.path=t}static fromPath(t){return new it(Sn.fromString(t))}static fromName(t){return new it(Sn.fromString(t).popFirst(5))}static empty(){return new it(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Sn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Sn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new Sn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(e,t,n){if(!n)throw new Oe(we.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Rre(e,t,n,i){if(t===!0&&i===!0)throw new Oe(we.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function yL(e){if(!it.isDocumentKey(e))throw new Oe(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function CL(e){if(it.isDocumentKey(e))throw new Oe(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function VU(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Xb(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ft(12329,{type:typeof e})}function Nr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xb(e);throw new Oe(we.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e,t){const n={typeString:e};return t&&(n.value=t),n}function ov(e,t){if(!VU(e))throw new Oe(we.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const o=e[i];if(r&&typeof o!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new Oe(we.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=-62135596800,bL=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(t){return xn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*bL);return new xn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Oe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<wL)throw new Oe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bL}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ov(t,xn._jsonSchema))return new xn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-wL;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xn._jsonSchemaVersion="firestore/timestamp/1.0",xn._jsonSchema={type:di("string",xn._jsonSchemaVersion),seconds:di("number"),nanoseconds:di("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new xn(0,0))}static max(){return new Ct(new xn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function xre(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Ct.fromTimestamp(i===1e9?new xn(n+1,0):new xn(n,i));return new gc(r,it.empty(),t)}function Tre(e){return new gc(e.readTime,e.key,lm)}class gc{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new gc(Ct.min(),it.empty(),lm)}static max(){return new gc(Ct.max(),it.empty(),lm)}}function Dre(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=it.comparator(e.documentKey,t.documentKey),n!==0?n:Vt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(e){if(e.code!==we.FAILED_PRECONDITION||e.message!==Are)throw e;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ee((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ee.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ee.reject(n)}static resolve(t){return new Ee((n,i)=>{n(t)})}static reject(t){return new Ee((n,i)=>{i(t)})}static waitFor(t){return new Ee((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=Ee.resolve(!1);for(const i of t)n=n.next(r=>r?Ee.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new Ee((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(t,n){return new Ee((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function Ire(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pf(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=-1;function Zb(e){return e==null}function Iw(e){return e===0&&1/e==-1/0}function Fre(e){return typeof e=="number"&&Number.isInteger(e)&&!Iw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="";function Mre(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=SL(t)),t=_re(e.get(n),t);return SL(t)}function _re(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case BU:n+="";break;default:n+=s}}return n}function SL(e){return e+BU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function HU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,n){this.comparator=t,this.root=n||Ui.EMPTY}insert(t,n){return new Ln(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(t){return new Ln(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qy(this.root,t,this.comparator,!0)}}class Qy{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ui{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Ui.RED,this.left=r??Ui.EMPTY,this.right=s??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Ui(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Ui.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1;Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new Ui(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.comparator=t,this.data=new Ln(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new RL(this.data.getIterator())}getIteratorFrom(t){return new RL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ci)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ci(this.comparator);return n.data=t,n}}class RL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.fields=t,t.sort(ji.comparator)}static empty(){return new ts([])}unionWith(t){let n=new Ci(ji.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ts(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return rf(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GU("Invalid base64 string: "+s):s}}(t);return new Xi(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Xi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const kre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(e){if(an(!!e,39018),typeof e=="string"){let t=0;const n=kre.exec(e);if(an(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zn(e.seconds),nanos:Zn(e.nanos)}}function Zn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function vc(e){return typeof e=="string"?Xi.fromBase64String(e):Xi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="server_timestamp",UU="__type__",WU="__previous_value__",jU="__local_write_time__";function eP(e){return(e?.mapValue?.fields||{})[UU]?.stringValue===zU}function Jb(e){const t=e.mapValue.fields[WU];return eP(t)?Jb(t):t}function cm(e){const t=mc(e.mapValue.fields[jU].timestampValue);return new xn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(t,n,i,r,s,o,a,l,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Fw="(default)";class um{constructor(t,n){this.projectId=t,this.database=n||Fw}static empty(){return new um("","")}get isDefaultDatabase(){return this.database===Fw}isEqual(t){return t instanceof um&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="__type__",Lre="__max__",Zy={mapValue:{}},qU="__vector__",Mw="value";function yc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?eP(e)?4:Vre(e)?9007199254740991:Nre(e)?10:11:ft(28295,{value:e})}function ra(e,t){if(e===t)return!0;const n=yc(e);if(n!==yc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cm(e).isEqual(cm(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=mc(r.timestampValue),a=mc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return vc(r.bytesValue).isEqual(vc(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Zn(r.geoPointValue.latitude)===Zn(s.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Zn(r.integerValue)===Zn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Zn(r.doubleValue),a=Zn(s.doubleValue);return o===a?Iw(o)===Iw(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return rf(e.arrayValue.values||[],t.arrayValue.values||[],ra);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(EL(o)!==EL(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ra(o[l],a[l])))return!1;return!0}(e,t);default:return ft(52216,{left:e})}}function dm(e,t){return(e.values||[]).find(n=>ra(n,t))!==void 0}function sf(e,t){if(e===t)return 0;const n=yc(e),i=yc(t);if(n!==i)return Vt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Zn(s.integerValue||s.doubleValue),l=Zn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return xL(e.timestampValue,t.timestampValue);case 4:return xL(cm(e),cm(t));case 5:return gT(e.stringValue,t.stringValue);case 6:return function(s,o){const a=vc(s),l=vc(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Vt(a[u],l[u]);if(h!==0)return h}return Vt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Vt(Zn(s.latitude),Zn(o.latitude));return a!==0?a:Vt(Zn(s.longitude),Zn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return TL(e.arrayValue,t.arrayValue);case 10:return function(s,o){const a=s.fields||{},l=o.fields||{},u=a[Mw]?.arrayValue,h=l[Mw]?.arrayValue,p=Vt(u?.values?.length||0,h?.values?.length||0);return p!==0?p:TL(u,h)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Zy.mapValue&&o===Zy.mapValue)return 0;if(s===Zy.mapValue)return 1;if(o===Zy.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=gT(l[p],h[p]);if(g!==0)return g;const v=sf(a[l[p]],u[h[p]]);if(v!==0)return v}return Vt(l.length,h.length)}(e.mapValue,t.mapValue);default:throw ft(23264,{he:n})}}function xL(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Vt(e,t);const n=mc(e),i=mc(t),r=Vt(n.seconds,i.seconds);return r!==0?r:Vt(n.nanos,i.nanos)}function TL(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=sf(n[r],i[r]);if(s)return s}return Vt(n.length,i.length)}function of(e){return mT(e)}function mT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=mc(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return vc(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return it.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=mT(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${mT(n.fields[o])}`;return r+"}"}(e.mapValue):ft(61005,{value:e})}function HC(e){switch(yc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jb(e);return t?16+HC(t):16;case 5:return 2*e.stringValue.length;case 6:return vc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+HC(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Fc(i.fields,(s,o)=>{r+=s.length+HC(o)}),r}(e.mapValue);default:throw ft(13486,{value:e})}}function DL(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function vT(e){return!!e&&"integerValue"in e}function tP(e){return!!e&&"arrayValue"in e}function AL(e){return!!e&&"nullValue"in e}function PL(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function GC(e){return!!e&&"mapValue"in e}function Nre(e){return(e?.mapValue?.fields||{})[$U]?.stringValue===qU}function Dg(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Fc(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Dg(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dg(e.arrayValue.values[n]);return t}return{...e}}function Vre(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Lre}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.value=t}static empty(){return new _r({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!GC(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dg(n)}setAll(t){let n=ji.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Dg(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());GC(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ra(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];GC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Fc(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new _r(Dg(this.value))}}function KU(e){const t=[];return Fc(e.fields,(n,i)=>{const r=new ji([n]);if(GC(i)){const s=KU(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new ts(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new rr(t,0,Ct.min(),Ct.min(),Ct.min(),_r.empty(),0)}static newFoundDocument(t,n,i,r){return new rr(t,1,n,Ct.min(),i,r,0)}static newNoDocument(t,n){return new rr(t,2,n,Ct.min(),Ct.min(),_r.empty(),0)}static newUnknownDocument(t,n){return new rr(t,3,n,Ct.min(),Ct.min(),_r.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,n){this.position=t,this.inclusive=n}}function IL(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=it.comparator(it.fromName(o.referenceValue),n.key):i=sf(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function FL(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ra(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n="asc"){this.field=t,this.dir=n}}function Bre(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{}class ui extends YU{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Gre(t,n,i):n==="array-contains"?new Wre(t,i):n==="in"?new jre(t,i):n==="not-in"?new $re(t,i):n==="array-contains-any"?new qre(t,i):new ui(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new zre(t,i):new Ure(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sf(n,this.value)):n!==null&&yc(this.value)===yc(n)&&this.matchesComparison(sf(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lo extends YU{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new lo(t,n)}matches(t){return XU(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XU(e){return e.op==="and"}function QU(e){return Hre(e)&&XU(e)}function Hre(e){for(const t of e.filters)if(t instanceof lo)return!1;return!0}function yT(e){if(e instanceof ui)return e.field.canonicalString()+e.op.toString()+of(e.value);if(QU(e))return e.filters.map(t=>yT(t)).join(",");{const t=e.filters.map(n=>yT(n)).join(",");return`${e.op}(${t})`}}function ZU(e,t){return e instanceof ui?function(i,r){return r instanceof ui&&i.op===r.op&&i.field.isEqual(r.field)&&ra(i.value,r.value)}(e,t):e instanceof lo?function(i,r){return r instanceof lo&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&ZU(o,r.filters[a]),!0):!1}(e,t):void ft(19439)}function JU(e){return e instanceof ui?function(n){return`${n.field.canonicalString()} ${n.op} ${of(n.value)}`}(e):e instanceof lo?function(n){return n.op.toString()+" {"+n.getFilters().map(JU).join(" ,")+"}"}(e):"Filter"}class Gre extends ui{constructor(t,n,i){super(t,n,i),this.key=it.fromName(i.referenceValue)}matches(t){const n=it.comparator(t.key,this.key);return this.matchesComparison(n)}}class zre extends ui{constructor(t,n){super(t,"in",n),this.keys=e4("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Ure extends ui{constructor(t,n){super(t,"not-in",n),this.keys=e4("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function e4(e,t){return(t.arrayValue?.values||[]).map(n=>it.fromName(n.referenceValue))}class Wre extends ui{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return tP(n)&&dm(n.arrayValue,this.value)}}class jre extends ui{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&dm(this.value.arrayValue,n)}}class $re extends ui{constructor(t,n){super(t,"not-in",n)}matches(t){if(dm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dm(this.value.arrayValue,n)}}class qre extends ui{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!tP(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>dm(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function ML(e,t=null,n=[],i=[],r=null,s=null,o=null){return new Kre(e,t,n,i,r,s,o)}function nP(e){const t=bt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>yT(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Zb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>of(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>of(i)).join(",")),t.Te=n}return t.Te}function iP(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bre(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ZU(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!FL(e.startAt,t.startAt)&&FL(e.endAt,t.endAt)}function CT(e){return it.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yre(e,t,n,i,r,s,o,a){return new If(e,t,n,i,r,s,o,a)}function eS(e){return new If(e)}function _L(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function t4(e){return e.collectionGroup!==null}function Ag(e){const t=bt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ci(ji.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new hm(s,i))}),n.has(ji.keyField().canonicalString())||t.Ie.push(new hm(ji.keyField(),i))}return t.Ie}function Ko(e){const t=bt(e);return t.Ee||(t.Ee=Xre(t,Ag(e))),t.Ee}function Xre(e,t){if(e.limitType==="F")return ML(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new hm(r.field,s)});const n=e.endAt?new _w(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new _w(e.startAt.position,e.startAt.inclusive):null;return ML(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function wT(e,t){const n=e.filters.concat([t]);return new If(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bT(e,t,n){return new If(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tS(e,t){return iP(Ko(e),Ko(t))&&e.limitType===t.limitType}function n4(e){return`${nP(Ko(e))}|lt:${e.limitType}`}function vh(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>JU(r)).join(", ")}]`),Zb(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>of(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>of(r)).join(",")),`Target(${i})`}(Ko(e))}; limitType=${e.limitType})`}function nS(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):it.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Ag(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=IL(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Ag(i),r)||i.endAt&&!function(o,a,l){const u=IL(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Ag(i),r))}(e,t)}function Qre(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function i4(e){return(t,n)=>{let i=!1;for(const r of Ag(e)){const s=Zre(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Zre(e,t,n){const i=e.field.isKeyField()?it.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?sf(l,u):ft(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ft(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Fc(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return HU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=new Ln(it.comparator);function Za(){return Jre}const r4=new Ln(it.comparator);function mg(...e){let t=r4;for(const n of e)t=t.insert(n.key,n);return t}function s4(e){let t=r4;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function xu(){return Pg()}function o4(){return Pg()}function Pg(){return new pd(e=>e.toString(),(e,t)=>e.isEqual(t))}const ese=new Ln(it.comparator),tse=new Ci(it.comparator);function Bt(...e){let t=tse;for(const n of e)t=t.add(n);return t}const nse=new Ci(Vt);function ise(){return nse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iw(t)?"-0":t}}function a4(e){return{integerValue:""+e}}function rse(e,t){return Fre(t)?a4(t):rP(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this._=void 0}}function sse(e,t,n){return e instanceof fm?function(r,s){const o={fields:{[UU]:{stringValue:zU},[jU]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&eP(s)&&(s=Jb(s)),s&&(o.fields[WU]=s),{mapValue:o}}(n,t):e instanceof pm?c4(e,t):e instanceof gm?u4(e,t):function(r,s){const o=l4(r,s),a=kL(o)+kL(r.Ae);return vT(o)&&vT(r.Ae)?a4(a):rP(r.serializer,a)}(e,t)}function ose(e,t,n){return e instanceof pm?c4(e,t):e instanceof gm?u4(e,t):n}function l4(e,t){return e instanceof kw?function(i){return vT(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class fm extends iS{}class pm extends iS{constructor(t){super(),this.elements=t}}function c4(e,t){const n=d4(t);for(const i of e.elements)n.some(r=>ra(r,i))||n.push(i);return{arrayValue:{values:n}}}class gm extends iS{constructor(t){super(),this.elements=t}}function u4(e,t){let n=d4(t);for(const i of e.elements)n=n.filter(r=>!ra(r,i));return{arrayValue:{values:n}}}class kw extends iS{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function kL(e){return Zn(e.integerValue||e.doubleValue)}function d4(e){return tP(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(t,n){this.field=t,this.transform=n}}function lse(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof pm&&r instanceof pm||i instanceof gm&&r instanceof gm?rf(i.elements,r.elements,ra):i instanceof kw&&r instanceof kw?ra(i.Ae,r.Ae):i instanceof fm&&r instanceof fm}(e.transform,t.transform)}class cse{constructor(t,n){this.version=t,this.transformResults=n}}class Hs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hs}static exists(t){return new Hs(void 0,t)}static updateTime(t){return new Hs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zC(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class rS{}function h4(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new sP(e.key,Hs.none()):new av(e.key,e.data,Hs.none());{const n=e.data,i=_r.empty();let r=new Ci(ji.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Mc(e.key,i,new ts(r.toArray()),Hs.none())}}function use(e,t,n){e instanceof av?function(r,s,o){const a=r.value.clone(),l=LL(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Mc?function(r,s,o){if(!zC(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=LL(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(f4(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Ig(e,t,n,i){return e instanceof av?function(s,o,a,l){if(!zC(s.precondition,o))return a;const u=s.value.clone(),h=NL(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof Mc?function(s,o,a,l){if(!zC(s.precondition,o))return a;const u=NL(s.fieldTransforms,l,o),h=o.data;return h.setAll(f4(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,o,a){return zC(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function dse(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=l4(i.transform,r||null);s!=null&&(n===null&&(n=_r.empty()),n.set(i.field,s))}return n||null}function OL(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&rf(i,r,(s,o)=>lse(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class av extends rS{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mc extends rS{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f4(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function LL(e,t,n){const i=new Map;an(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,ose(o,a,n[r]))}return i}function NL(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,sse(s,o,t))}return i}class sP extends rS{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hse extends rS{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&use(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ig(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ig(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=o4();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=h4(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Ct.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Bt())}isEqual(t){return this.batchId===t.batchId&&rf(this.mutations,t.mutations,(n,i)=>OL(n,i))&&rf(this.baseMutations,t.baseMutations,(n,i)=>OL(n,i))}}class oP{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){an(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return ese}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new oP(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si,Wt;function mse(e){switch(e){case we.OK:return ft(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return ft(15467,{code:e})}}function p4(e){if(e===void 0)return Qa("GRPC error has no .code"),we.UNKNOWN;switch(e){case si.OK:return we.OK;case si.CANCELLED:return we.CANCELLED;case si.UNKNOWN:return we.UNKNOWN;case si.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case si.INTERNAL:return we.INTERNAL;case si.UNAVAILABLE:return we.UNAVAILABLE;case si.UNAUTHENTICATED:return we.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case si.NOT_FOUND:return we.NOT_FOUND;case si.ALREADY_EXISTS:return we.ALREADY_EXISTS;case si.PERMISSION_DENIED:return we.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case si.ABORTED:return we.ABORTED;case si.OUT_OF_RANGE:return we.OUT_OF_RANGE;case si.UNIMPLEMENTED:return we.UNIMPLEMENTED;case si.DATA_LOSS:return we.DATA_LOSS;default:return ft(39323,{code:e})}}(Wt=si||(si={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vse(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse=new rc([4294967295,4294967295],0);function VL(e){const t=vse().encode(e),n=new PU;return n.update(t),new Uint8Array(n.digest())}function BL(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new rc([n,i],0),new rc([r,s],0)]}class aP{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vg(`Invalid padding: ${n}`);if(i<0)throw new vg(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new vg(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new vg(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rc.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(rc.fromNumber(i)));return r.compare(yse)===1&&(r=new rc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=VL(t),[i,r]=BL(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);if(!this.we(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new aP(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=VL(t),[i,r]=BL(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class vg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,lv.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new sS(Ct.min(),r,new Ln(Vt),Za(),Bt())}}class lv{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new lv(i,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,n,i,r){this.be=t,this.removedTargetIds=n,this.key=i,this.De=r}}class g4{constructor(t,n){this.targetId=t,this.Ce=n}}class m4{constructor(t,n,i=Xi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class HL{constructor(){this.ve=0,this.Fe=GL(),this.Me=Xi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),i=Bt();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ft(38017,{changeType:s})}}),new lv(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=GL()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,an(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cse{constructor(t){this.Ge=t,this.ze=new Map,this.je=Za(),this.Je=Jy(),this.He=Jy(),this.Ye=new Ln(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(CT(s))if(i===0){const o=new it(s.path);this.et(n,o,rr.newNoDocument(o,Ct.min()))}else an(i===1,20013,{expectedCount:i});else{const o=this._t(n);if(o!==i){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=vc(i).toUint8Array()}catch(l){if(l instanceof GU)return nf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new aP(o,r,s)}catch(l){return nf(l instanceof vg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&CT(a.target)){const l=new it(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,rr.newNoDocument(l,t))}s.Be&&(n.set(o,s.ke()),s.qe())}});let i=Bt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const r=new sS(t,n,this.Ye,this.je,i);return this.je=Za(),this.Je=Jy(),this.He=Jy(),this.Ye=new Ln(Vt),r}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new HL,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ci(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ci(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||He("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new HL),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Jy(){return new Ln(it.comparator)}function GL(){return new Ln(it.comparator)}const wse={asc:"ASCENDING",desc:"DESCENDING"},bse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sse={and:"AND",or:"OR"};class Ese{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ST(e,t){return e.useProto3Json||Zb(t)?t:{value:t}}function Ow(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function v4(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Rse(e,t){return Ow(e,t.toTimestamp())}function Yo(e){return an(!!e,49232),Ct.fromTimestamp(function(n){const i=mc(n);return new xn(i.seconds,i.nanos)}(e))}function lP(e,t){return ET(e,t).canonicalString()}function ET(e,t){const n=function(r){return new Sn(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function y4(e){const t=Sn.fromString(e);return an(E4(t),10190,{key:t.toString()}),t}function RT(e,t){return lP(e.databaseId,t.path)}function C0(e,t){const n=y4(t);if(n.get(1)!==e.databaseId.projectId)throw new Oe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new it(w4(n))}function C4(e,t){return lP(e.databaseId,t)}function xse(e){const t=y4(e);return t.length===4?Sn.emptyPath():w4(t)}function xT(e){return new Sn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function w4(e){return an(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function zL(e,t,n){return{name:RT(e,t),fields:n.value.mapValue.fields}}function Tse(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ft(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(an(h===void 0||typeof h=="string",58123),Xi.fromBase64String(h||"")):(an(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Xi.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const h=u.code===void 0?we.UNKNOWN:p4(u.code);return new Oe(h,u.message||"")}(o);n=new m4(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=C0(e,i.document.name),s=Yo(i.document.updateTime),o=i.document.createTime?Yo(i.document.createTime):Ct.min(),a=new _r({mapValue:{fields:i.document.fields}}),l=rr.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];n=new UC(u,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=C0(e,i.document),s=i.readTime?Yo(i.readTime):Ct.min(),o=rr.newNoDocument(r,s),a=i.removedTargetIds||[];n=new UC([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=C0(e,i.document),s=i.removedTargetIds||[];n=new UC([],s,r,null)}else{if(!("filter"in t))return ft(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new gse(r,s),a=i.targetId;n=new g4(a,o)}}return n}function Dse(e,t){let n;if(t instanceof av)n={update:zL(e,t.key,t.value)};else if(t instanceof sP)n={delete:RT(e,t.key)};else if(t instanceof Mc)n={update:zL(e,t.key,t.data),updateMask:Lse(t.fieldMask)};else{if(!(t instanceof hse))return ft(16599,{Vt:t.type});n={verify:RT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof fm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kw)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ft(20930,{transform:o.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Rse(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ft(27497)}(e,t.precondition)),n}function Ase(e,t){return e&&e.length>0?(an(t!==void 0,14353),e.map(n=>function(r,s){let o=r.updateTime?Yo(r.updateTime):Yo(s);return o.isEqual(Ct.min())&&(o=Yo(s)),new cse(o,r.transformResults||[])}(n,t))):[]}function Pse(e,t){return{documents:[C4(e,t.path)]}}function Ise(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=C4(e,r);const s=function(u){if(u.length!==0)return S4(lo.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:yh(g.field),direction:_se(g.dir)}}(h))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ST(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:r}}function Fse(e){let t=xse(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){an(i===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:t=t.child(h.collectionId)}let s=[];n.where&&(s=function(p){const g=b4(p);return g instanceof lo&&QU(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(C){return new hm(Ch(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Zb(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,v=p.values||[];return new _w(v,g)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const g=!p.before,v=p.values||[];return new _w(v,g)}(n.endAt)),Yre(t,r,o,s,a,"F",l,u)}function Mse(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function b4(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ch(n.unaryFilter.field);return ui.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ch(n.unaryFilter.field);return ui.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ch(n.unaryFilter.field);return ui.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ch(n.unaryFilter.field);return ui.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}}(e):e.fieldFilter!==void 0?function(n){return ui.create(Ch(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return lo.create(n.compositeFilter.filters.map(i=>b4(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ft(1026)}}(n.compositeFilter.op))}(e):ft(30097,{filter:e})}function _se(e){return wse[e]}function kse(e){return bse[e]}function Ose(e){return Sse[e]}function yh(e){return{fieldPath:e.canonicalString()}}function Ch(e){return ji.fromServerFormat(e.fieldPath)}function S4(e){return e instanceof ui?function(n){if(n.op==="=="){if(PL(n.value))return{unaryFilter:{field:yh(n.field),op:"IS_NAN"}};if(AL(n.value))return{unaryFilter:{field:yh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PL(n.value))return{unaryFilter:{field:yh(n.field),op:"IS_NOT_NAN"}};if(AL(n.value))return{unaryFilter:{field:yh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yh(n.field),op:kse(n.op),value:n.value}}}(e):e instanceof lo?function(n){const i=n.getFilters().map(r=>S4(r));return i.length===1?i[0]:{compositeFilter:{op:Ose(n.op),filters:i}}}(e):ft(54877,{filter:e})}function Lse(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function E4(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,n,i,r,s=Ct.min(),o=Ct.min(),a=Xi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new tc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(t){this.yt=t}}function Vse(e){const t=Fse({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?bT(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(){this.Cn=new Hse}addToCollectionParentIndex(t,n){return this.Cn.add(n),Ee.resolve()}getCollectionParents(t,n){return Ee.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Ee.resolve()}deleteFieldIndex(t,n){return Ee.resolve()}deleteAllFieldIndexes(t){return Ee.resolve()}createTargetIndexes(t,n){return Ee.resolve()}getDocumentsMatchingTarget(t,n){return Ee.resolve(null)}getIndexType(t,n){return Ee.resolve(0)}getFieldIndexes(t,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(t){return Ee.resolve(null)}getMinOffset(t,n){return Ee.resolve(gc.min())}getMinOffsetFromCollectionGroup(t,n){return Ee.resolve(gc.min())}updateCollectionGroup(t,n,i){return Ee.resolve()}updateIndexEntries(t,n){return Ee.resolve()}}class Hse{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Ci(Sn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ci(Sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R4=41943040;class Ir{static withCacheSize(t){return new Ir(t,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(R4,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new af(0)}static cr(){return new af(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="LruGarbageCollector",Gse=1048576;function jL([e,t],[n,i]){const r=Vt(e,n);return r===0?Vt(t,i):r}class zse{constructor(t){this.Ir=t,this.buffer=new Ci(jL),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();jL(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Use{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){He(WL,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pf(n)?He(WL,"Ignoring IndexedDB error during garbage collection: ",n):await Af(n)}await this.Vr(3e5)})}}class Wse{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return Ee.resolve(Qb.ce);const i=new zse(n);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(UL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UL):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,r,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(u=Date.now(),mh()<=Nt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function jse(e,t){return new Wse(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.changes=new pd(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Ee.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ig(i.mutation,r,ts.empty(),xn.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Bt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Bt()){const r=xu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=mg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=xu();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Bt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=Za();const o=Pg(),a=function(){return Pg()}();return n.forEach((l,u)=>{const h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof Mc)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ig(h.mutation,u,h.mutation.getFieldMask(),xn.now())):o.set(u.key,ts.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new qse(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(t,n){const i=Pg();let r=new Ln((o,a)=>o-a),s=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=i.get(l)||ts.empty();h=a.applyToLocalView(u,h),i.set(l,h);const p=(r.get(a.batchId)||Bt()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,p=o4();h.forEach(g=>{if(!s.has(g)){const v=h4(n.get(g),i.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,p))}return Ee.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):t4(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):Ee.resolve(xu());let a=lm,l=s;return o.next(u=>Ee.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?Ee.resolve():this.remoteDocumentCache.getEntry(t,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Bt())).next(h=>({batchId:a,changes:s4(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new it(n)).next(i=>{let r=mg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=mg();return this.indexManager.getCollectionParents(t,s).next(a=>Ee.forEach(a,l=>{const u=function(p,g){return new If(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,rr.newInvalidDocument(h)))});let a=mg();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&Ig(h.mutation,u,ts.empty(),xn.now()),nS(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Ee.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Yo(r.createTime)}}(n)),Ee.resolve()}getNamedQuery(t,n){return Ee.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(r){return{name:r.name,query:Vse(r.bundledQuery),readTime:Yo(r.readTime)}}(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(){this.overlays=new Ln(it.comparator),this.qr=new Map}getOverlay(t,n){return Ee.resolve(this.overlays.get(n))}getOverlays(t,n){const i=xu();return Ee.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),Ee.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),Ee.resolve()}getOverlaysForCollection(t,n,i){const r=xu(),s=n.length+1,o=new it(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Ee.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ln((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=xu(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=xu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return Ee.resolve(a)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new pse(n,i));let s=this.qr.get(n);s===void 0&&(s=Bt(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(){this.sessionToken=Xi.EMPTY_BYTE_STRING}getSessionToken(t){return Ee.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.Qr=new Ci(Ii.$r),this.Ur=new Ci(Ii.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Ii(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Ii(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new it(new Sn([])),i=new Ii(n,t),r=new Ii(n,t+1),s=[];return this.Ur.forEachInRange([i,r],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new it(new Sn([])),i=new Ii(n,t),r=new Ii(n,t+1);let s=Bt();return this.Ur.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Ii(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Ii{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return it.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||it.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zse{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ci(Ii.$r)}checkEmpty(t){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fse(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new Ii(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ee.resolve(o)}lookupMutationBatch(t,n){return Ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return Ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?JA:this.tr-1)}getAllMutationBatches(t){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Ii(n,0),r=new Ii(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],o=>{const a=this.Xr(o.Yr);s.push(a)}),Ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ci(Vt);return n.forEach(r=>{const s=new Ii(r,0),o=new Ii(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{i=i.add(a.Yr)})}),Ee.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;it.isDocumentKey(s)||(s=s.child(""));const o=new Ii(new it(s),0);let a=new Ci(Vt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.Yr)),!0)},o),Ee.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){an(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Ee.forEach(n.mutations,r=>{const s=new Ii(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Ii(n,0),r=this.Zr.firstAfterOrEqual(i);return Ee.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ee.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(t){this.ri=t,this.docs=function(){return new Ln(it.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Ee.resolve(i?i.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(t,n){let i=Za();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():rr.newInvalidDocument(r))}),Ee.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Za();const o=n.path,a=new it(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Dre(Tre(h),i)<=0||(r.has(h.key)||nS(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Ee.resolve(s)}getAllFromCollectionGroup(t,n,i,r){ft(9500)}ii(t,n){return Ee.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new eoe(this)}getSize(t){return Ee.resolve(this.size)}}class eoe extends $se{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),Ee.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class toe{constructor(t){this.persistence=t,this.si=new pd(n=>nP(n),iP),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new cP,this.targetCount=0,this.ai=af.ur()}forEachTarget(t,n){return this.si.forEach((i,r)=>n(r)),Ee.resolve()}getLastRemoteSnapshotVersion(t){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ee.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Ee.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new af(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(t,n){return this.Pr(n),Ee.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Ee.waitFor(s).next(()=>r)}getTargetCount(t){return Ee.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return Ee.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),Ee.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Ee.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Ee.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return Ee.resolve(i)}containsKey(t,n){return Ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t,n){this.ui={},this.overlays={},this.ci=new Qb(0),this.li=!1,this.li=!0,this.hi=new Qse,this.referenceDelegate=t(this),this.Pi=new toe(this),this.indexManager=new Bse,this.remoteDocumentCache=function(r){return new Jse(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Nse(n),this.Ii=new Yse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Xse,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new Zse(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){He("MemoryPersistence","Starting transaction:",t);const r=new noe(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(t,n){return Ee.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class noe extends Pre{constructor(t){super(),this.currentSequenceNumber=t}}class uP{constructor(t){this.persistence=t,this.Ri=new cP,this.Vi=null}static mi(t){return new uP(t)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Ee.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Ee.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Ee.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,i=>{const r=it.fromPath(i);return this.gi(t,r).next(s=>{s||n.removeEntry(r,Ct.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Lw{constructor(t,n){this.persistence=t,this.pi=new pd(i=>Mre(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=jse(this,n)}static mi(t,n){return new Lw(t,n)}Ei(){}di(t){return Ee.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return Ee.forEach(this.pi,(i,r)=>this.br(t,i,r).next(s=>s?Ee.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(t,o=>this.br(t,o,n).next(a=>{a||(i++,s.removeEntry(o,Ct.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Ee.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),Ee.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),Ee.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Ee.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=HC(t.data.value)),n}br(t,n,i){return Ee.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.pi.get(n);return Ee.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=r}static As(t,n){let i=Bt(),r=Bt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new dP(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Dee()?8:Ire(or())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ys(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ioe;return this.Ss(t,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(t,n,o,a.size)})}).next(()=>s.result)}bs(t,n,i,r){return i.documentReadCount<this.fs?(mh()<=Nt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",vh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(mh()<=Nt.DEBUG&&He("QueryEngine","Query:",vh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(mh()<=Nt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",vh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ko(n))):Ee.resolve())}ys(t,n){if(_L(n))return Ee.resolve(null);let i=Ko(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=bT(n,null,"F"),i=Ko(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Bt(...s);return this.ps.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(t,bT(n,null,"F")):this.vs(t,u,n,l)}))})))}ws(t,n,i,r){return _L(n)||r.isEqual(Ct.min())?Ee.resolve(null):this.ps.getDocuments(t,i).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,i,r)?Ee.resolve(null):(mh()<=Nt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vh(n)),this.vs(t,o,n,xre(r,lm)).next(a=>a))})}Ds(t,n){let i=new Ci(i4(t));return n.forEach((r,s)=>{nS(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return mh()<=Nt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",vh(n)),this.ps.getDocumentsMatchingQuery(t,n,gc.min(),i)}vs(t,n,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="LocalStore",soe=3e8;class ooe{constructor(t,n,i,r){this.persistence=t,this.Fs=n,this.serializer=r,this.Ms=new Ln(Vt),this.xs=new pd(s=>nP(s),iP),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Kse(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function aoe(e,t,n,i){return new ooe(e,t,n,i)}async function T4(e,t){const n=bt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Bt();for(const u of r){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function loe(e,t){const n=bt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const p=u.batch,g=p.keys();let v=Ee.resolve();return g.forEach(C=>{v=v.next(()=>h.getEntry(l,C)).next(S=>{const R=u.docVersions.get(C);an(R!==null,48541),S.version.compareTo(R)<0&&(p.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Bt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function D4(e){const t=bt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function coe(e,t){const n=bt(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];t.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?v=v.withResumeToken(Xi.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),function(S,R,x){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=soe?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,v,h)&&a.push(n.Pi.updateTargetData(s,v))});let l=Za(),u=Bt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(uoe(s,o,t.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!i.isEqual(Ct.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return Ee.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=r,s))}function uoe(e,t,n){let i=Bt(),r=Bt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=Za();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):He(hP,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:r}})}function doe(e,t){const n=bt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=JA),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function hoe(e,t){const n=bt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,t).next(s=>s?(r=s,Ee.resolve(r)):n.Pi.allocateTargetId(i).next(o=>(r=new tc(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function TT(e,t,n){const i=bt(e),r=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Pf(o))throw o;He(hP,`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function $L(e,t,n){const i=bt(e);let r=Ct.min(),s=Bt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const p=bt(l),g=p.xs.get(h);return g!==void 0?Ee.resolve(p.Ms.get(g)):p.Pi.getTargetData(u,h)}(i,o,Ko(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Fs.getDocumentsMatchingQuery(o,t,n?r:Ct.min(),n?s:Bt())).next(a=>(foe(i,Qre(t),a),{documents:a,Qs:s})))}function foe(e,t,n){let i=e.Os.get(t)||Ct.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Os.set(t,i)}class qL{constructor(){this.activeTargetIds=ise()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class poe{constructor(){this.Mo=new qL,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qL,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="ConnectivityMonitor";class YL{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(KL,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){He(KL,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eC=null;function DT(){return eC===null?eC=function(){return 268435456+Math.round(2147483648*Math.random())}():eC++,"0x"+eC.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="RestConnection",moe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class voe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Fw?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,n,i,r,s){const o=DT(),a=this.zo(t,n.toUriEncodedString());He(w0,`Sending RPC '${t}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,r,s);const{host:u}=new URL(a),h=Ac(u);return this.Jo(t,a,l,i,h).then(p=>(He(w0,`Received RPC '${t}' ${o}: `,p),p),p=>{throw nf(w0,`RPC '${t}' ${o} failed with error: `,p,"url: ",a,"request:",i),p})}Ho(t,n,i,r,s,o){return this.Go(t,n,i,r,s)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Df}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}zo(t,n){const i=moe[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class Coe extends voe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const o=DT();return new Promise((a,l)=>{const u=new IU;u.setWithCredentials(!0),u.listenOnce(FU.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case BC.NO_ERROR:const p=u.getResponseJson();He(er,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),a(p);break;case BC.TIMEOUT:He(er,`RPC '${t}' ${o} timed out`),l(new Oe(we.DEADLINE_EXCEEDED,"Request time out"));break;case BC.HTTP_ERROR:const g=u.getStatus();if(He(er,`RPC '${t}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v?.error;if(C&&C.status&&C.message){const S=function(x){const D=x.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(D)>=0?D:we.UNKNOWN}(C.status);l(new Oe(S,C.message))}else l(new Oe(we.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Oe(we.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{He(er,`RPC '${t}' ${o} completed.`)}});const h=JSON.stringify(r);He(er,`RPC '${t}' ${o} sending request:`,r),u.send(n,"POST",h,i,15)})}T_(t,n,i){const r=DT(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=kU(),a=_U(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");He(er,`Creating RPC '${t}' stream ${r}: ${h}`,l);const p=o.createWebChannel(h,l);this.I_(p);let g=!1,v=!1;const C=new yoe({Yo:R=>{v?He(er,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(g||(He(er,`Opening RPC '${t}' stream ${r} transport.`),p.open(),g=!0),He(er,`RPC '${t}' stream ${r} sending:`,R),p.send(R))},Zo:()=>p.close()}),S=(R,x,D)=>{R.listen(x,T=>{try{D(T)}catch(k){setTimeout(()=>{throw k},0)}})};return S(p,gg.EventType.OPEN,()=>{v||(He(er,`RPC '${t}' stream ${r} transport opened.`),C.o_())}),S(p,gg.EventType.CLOSE,()=>{v||(v=!0,He(er,`RPC '${t}' stream ${r} transport closed`),C.a_(),this.E_(p))}),S(p,gg.EventType.ERROR,R=>{v||(v=!0,nf(er,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new Oe(we.UNAVAILABLE,"The operation could not be completed")))}),S(p,gg.EventType.MESSAGE,R=>{if(!v){const x=R.data[0];an(!!x,16349);const D=x,T=D?.error||D[0]?.error;if(T){He(er,`RPC '${t}' stream ${r} received error:`,T);const k=T.status;let L=function(M){const N=si[M];if(N!==void 0)return p4(N)}(k),P=T.message;L===void 0&&(L=we.INTERNAL,P="Unknown error status: "+k+" with message "+T.message),v=!0,C.a_(new Oe(L,P)),p.close()}else He(er,`RPC '${t}' stream ${r} received:`,x),C.u_(x)}}),S(a,MU.STAT_EVENT,R=>{R.stat===pT.PROXY?He(er,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===pT.NOPROXY&&He(er,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function b0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(e){return new Ese(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&He("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="PersistentStream";class P4{constructor(t,n,i,r,s,o,a,l){this.Mi=t,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A4(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new Oe(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return He(XL,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(He(XL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class woe extends P4{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Tse(this.serializer,t),i=function(s){if(!("targetChange"in s))return Ct.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ct.min():o.readTime?Yo(o.readTime):Ct.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=xT(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=CT(l)?{documents:Pse(s,l)}:{query:Ise(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=v4(s,o.resumeToken);const u=ST(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ct.min())>0){a.readTime=Ow(s,o.snapshotVersion.toTimestamp());const u=ST(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=Mse(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=xT(this.serializer),n.removeTarget=t,this.q_(n)}}class boe extends P4{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return an(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,an(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){an(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Ase(t.writeResults,t.commitTime),i=Yo(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=xT(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Dse(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{}class Eoe extends Soe{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Oe(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,ET(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(we.UNKNOWN,s.toString())})}Ho(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(t,ET(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(we.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Roe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qa(n),this.aa=!1):He("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="RemoteStore";class xoe{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{i.enqueueAndForget(async()=>{gd(this)&&(He(Ju,"Restarting streams for network reachability change."),await async function(l){const u=bt(l);u.Ea.add(4),await cv(u),u.Ra.set("Unknown"),u.Ea.delete(4),await aS(u)}(this))})}),this.Ra=new Roe(i,r)}}async function aS(e){if(gd(e))for(const t of e.da)await t(!0)}async function cv(e){for(const t of e.da)await t(!1)}function I4(e,t){const n=bt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mP(n)?gP(n):Ff(n).O_()&&pP(n,t))}function fP(e,t){const n=bt(e),i=Ff(n);n.Ia.delete(t),i.O_()&&F4(n,t),n.Ia.size===0&&(i.O_()?i.L_():gd(n)&&n.Ra.set("Unknown"))}function pP(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ff(e).Y_(t)}function F4(e,t){e.Va.Ue(t),Ff(e).Z_(t)}function gP(e){e.Va=new Cse({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ff(e).start(),e.Ra.ua()}function mP(e){return gd(e)&&!Ff(e).x_()&&e.Ia.size>0}function gd(e){return bt(e).Ea.size===0}function M4(e){e.Va=void 0}async function Toe(e){e.Ra.set("Online")}async function Doe(e){e.Ia.forEach((t,n)=>{pP(e,t)})}async function Aoe(e,t){M4(e),mP(e)?(e.Ra.ha(t),gP(e)):e.Ra.set("Unknown")}async function Poe(e,t,n){if(e.Ra.set("Online"),t instanceof m4&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Ia.delete(a),r.Va.removeTarget(a))}(e,t)}catch(i){He(Ju,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Nw(e,i)}else if(t instanceof UC?e.Va.Ze(t):t instanceof g4?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ct.min()))try{const i=await D4(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Xi.EMPTY_BYTE_STRING,h.snapshotVersion)),F4(s,l);const p=new tc(h.target,l,u,h.sequenceNumber);pP(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){He(Ju,"Failed to raise snapshot:",i),await Nw(e,i)}}async function Nw(e,t,n){if(!Pf(t))throw t;e.Ea.add(1),await cv(e),e.Ra.set("Offline"),n||(n=()=>D4(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{He(Ju,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await aS(e)})}function _4(e,t){return t().catch(n=>Nw(e,n,t))}async function lS(e){const t=bt(e),n=Cc(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:JA;for(;Ioe(t);)try{const r=await doe(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,Foe(t,r)}catch(r){await Nw(t,r)}k4(t)&&O4(t)}function Ioe(e){return gd(e)&&e.Ta.length<10}function Foe(e,t){e.Ta.push(t);const n=Cc(e);n.O_()&&n.X_&&n.ea(t.mutations)}function k4(e){return gd(e)&&!Cc(e).x_()&&e.Ta.length>0}function O4(e){Cc(e).start()}async function Moe(e){Cc(e).ra()}async function _oe(e){const t=Cc(e);for(const n of e.Ta)t.ea(n.mutations)}async function koe(e,t,n){const i=e.Ta.shift(),r=oP.from(i,t,n);await _4(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await lS(e)}async function Ooe(e,t){t&&Cc(e).X_&&await async function(i,r){if(function(o){return mse(o)&&o!==we.ABORTED}(r.code)){const s=i.Ta.shift();Cc(i).B_(),await _4(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await lS(i)}}(e,t),k4(e)&&O4(e)}async function QL(e,t){const n=bt(e);n.asyncQueue.verifyOperationInProgress(),He(Ju,"RemoteStore received new credentials");const i=gd(n);n.Ea.add(3),await cv(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await aS(n)}async function Loe(e,t){const n=bt(e);t?(n.Ea.delete(2),await aS(n)):t||(n.Ea.add(2),await cv(n),n.Ra.set("Unknown"))}function Ff(e){return e.ma||(e.ma=function(n,i,r){const s=bt(n);return s.sa(),new woe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:Toe.bind(null,e),t_:Doe.bind(null,e),r_:Aoe.bind(null,e),H_:Poe.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),mP(e)?gP(e):e.Ra.set("Unknown")):(await e.ma.stop(),M4(e))})),e.ma}function Cc(e){return e.fa||(e.fa=function(n,i,r){const s=bt(n);return s.sa(),new boe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Moe.bind(null,e),r_:Ooe.bind(null,e),ta:_oe.bind(null,e),na:koe.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await lS(e)):(await e.fa.stop(),e.Ta.length>0&&(He(Ju,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new vP(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yP(e,t){if(Qa("AsyncQueue",`${t}: ${e}`),Pf(e))return new Oe(we.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{static emptySet(t){return new kh(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||it.comparator(n.key,i.key):(n,i)=>it.comparator(n.key,i.key),this.keyedMap=mg(),this.sortedSet=new Ln(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof kh)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new kh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.ga=new Ln(it.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):ft(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class lf{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lf(t,n,kh.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tS(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Voe{constructor(){this.queries=JL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=bt(n),s=r.queries;r.queries=JL(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(i)})})(this,new Oe(we.ABORTED,"Firestore shutting down"))}}function JL(){return new pd(e=>n4(e),tS)}async function CP(e,t){const n=bt(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new Noe,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=yP(o,`Initialization of query '${vh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&bP(n)}async function wP(e,t){const n=bt(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Boe(e,t){const n=bt(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(r)&&(i=!0);o.wa=r}}i&&bP(n)}function Hoe(e,t,n){const i=bt(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function bP(e){e.Ca.forEach(t=>{t.next()})}var AT,eN;(eN=AT||(AT={})).Ma="default",eN.Cache="cache";class SP{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new lf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=lf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==AT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t){this.key=t}}class N4{constructor(t){this.key=t}}class Goe{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=i4(t),this.tu=new kh(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new ZL,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((h,p)=>{const g=r.get(h),v=nS(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;g&&v?g.data.isEqual(v.data)?C!==S&&(i.track({type:3,doc:v}),R=!0):this.su(g,v)||(i.track({type:2,doc:v}),R=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),R=!0):g&&!v&&(i.track({type:1,doc:g}),R=!0,(l||u)&&(a=!0)),R&&(v?(o=o.add(v),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{tu:o,iu:i,Cs:a,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((h,p)=>function(v,C){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:R})}};return S(v)-S(C)}(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(i),r=r??!1;const a=n&&!r?this._u():[],l=this.Xa.size===0&&this.current&&!r?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new lf(this.query,t.tu,s,o,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZL,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new N4(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new L4(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return lf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const EP="SyncEngine";class zoe{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Uoe{constructor(t){this.key=t,this.hu=!1}}class Woe{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new pd(a=>n4(a),tS),this.Iu=new Map,this.Eu=new Set,this.du=new Ln(it.comparator),this.Au=new Map,this.Ru=new cP,this.Vu={},this.mu=new Map,this.fu=af.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function joe(e,t,n=!0){const i=U4(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await V4(i,t,n,!0),r}async function $oe(e,t){const n=U4(e);await V4(n,t,!0,!1)}async function V4(e,t,n,i){const r=await hoe(e.localStore,Ko(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await qoe(e,t,s,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&I4(e.remoteStore,r),a}async function qoe(e,t,n,i,r){e.pu=(p,g,v)=>async function(S,R,x,D){let T=R.view.ru(x);T.Cs&&(T=await $L(S.localStore,R.query,!1).then(({documents:_})=>R.view.ru(_,T)));const k=D&&D.targetChanges.get(R.targetId),L=D&&D.targetMismatches.get(R.targetId)!=null,P=R.view.applyChanges(T,S.isPrimaryClient,k,L);return nN(S,R.targetId,P.au),P.snapshot}(e,p,g,v);const s=await $L(e.localStore,t,!0),o=new Goe(t,s.Qs),a=o.ru(s.documents),l=lv.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);nN(e,n,u.au);const h=new zoe(t,n,o);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function Koe(e,t,n){const i=bt(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(o=>!tS(o,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await TT(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&fP(i.remoteStore,r.targetId),PT(i,r.targetId)}).catch(Af)):(PT(i,r.targetId),await TT(i.localStore,r.targetId,!0))}async function Yoe(e,t){const n=bt(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),fP(n.remoteStore,i.targetId))}async function Xoe(e,t,n){const i=iae(e);try{const r=await function(o,a){const l=bt(o),u=xn.now(),h=a.reduce((v,C)=>v.add(C.key),Bt());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Za(),S=Bt();return l.Ns.getEntries(v,h).next(R=>{C=R,C.forEach((x,D)=>{D.isValidDocument()||(S=S.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,C)).next(R=>{p=R;const x=[];for(const D of a){const T=dse(D,p.get(D.key).overlayedDocument);T!=null&&x.push(new Mc(D.key,T,KU(T.value.mapValue),Hs.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,x,a)}).next(R=>{g=R;const x=R.applyToLocalDocumentSet(p,S);return l.documentOverlayCache.saveOverlays(v,R.batchId,x)})}).then(()=>({batchId:g.batchId,changes:s4(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ln(Vt)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(i,r.batchId,n),await uv(i,r.changes),await lS(i.remoteStore)}catch(r){const s=yP(r,"Failed to persist write");n.reject(s)}}async function B4(e,t){const n=bt(e);try{const i=await coe(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Au.get(s);o&&(an(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?an(o.hu,14607):r.removedDocuments.size>0&&(an(o.hu,42227),o.hu=!1))}),await uv(n,i,t)}catch(i){await Af(i)}}function tN(e,t,n){const i=bt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,o)=>{const a=o.view.va(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=bt(o);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(const g of p.Sa)g.va(a)&&(u=!0)}),u&&bP(l)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Qoe(e,t,n){const i=bt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let o=new Ln(it.comparator);o=o.insert(s,rr.newNoDocument(s,Ct.min()));const a=Bt().add(s),l=new sS(Ct.min(),new Map,new Ln(Vt),o,a);await B4(i,l),i.du=i.du.remove(s),i.Au.delete(t),RP(i)}else await TT(i.localStore,t,!1).then(()=>PT(i,t,n)).catch(Af)}async function Zoe(e,t){const n=bt(e),i=t.batch.batchId;try{const r=await loe(n.localStore,t);G4(n,i,null),H4(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await uv(n,r)}catch(r){await Af(r)}}async function Joe(e,t,n){const i=bt(e);try{const r=await function(o,a){const l=bt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(an(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(i.localStore,t);G4(i,t,n),H4(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await uv(i,r)}catch(r){await Af(r)}}function H4(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function G4(e,t,n){const i=bt(e);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function PT(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||z4(e,i)})}function z4(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(fP(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),RP(e))}function nN(e,t,n){for(const i of n)i instanceof L4?(e.Ru.addReference(i.key,t),eae(e,i)):i instanceof N4?(He(EP,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||z4(e,i.key)):ft(19791,{wu:i})}function eae(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(He(EP,"New document in limbo: "+n),e.Eu.add(i),RP(e))}function RP(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new it(Sn.fromString(t)),i=e.fu.next();e.Au.set(i,new Uoe(n)),e.du=e.du.insert(n,i),I4(e.remoteStore,new tc(Ko(eS(n.path)),i,"TargetPurposeLimboResolution",Qb.ce))}}async function uv(e,t,n){const i=bt(e),r=[],s=[],o=[];i.Tu.isEmpty()||(i.Tu.forEach((a,l)=>{o.push(i.pu(l,t,n).then(u=>{if((u||n)&&i.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){r.push(u);const h=dP.As(l.targetId,u);s.push(h)}}))}),await Promise.all(o),i.Pu.H_(r),await async function(l,u){const h=bt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Ee.forEach(u,g=>Ee.forEach(g.Es,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>Ee.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Pf(p))throw p;He(hP,"Failed to update sequence numbers: "+p)}for(const p of u){const g=p.targetId;if(!p.fromCache){const v=h.Ms.get(g),C=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(g,S)}}}(i.localStore,s))}async function tae(e,t){const n=bt(e);if(!n.currentUser.isEqual(t)){He(EP,"User change. New user:",t.toKey());const i=await T4(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new Oe(we.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await uv(n,i.Ls)}}function nae(e,t){const n=bt(e),i=n.Au.get(t);if(i&&i.hu)return Bt().add(i.key);{let r=Bt();const s=n.Iu.get(t);if(!s)return r;for(const o of s){const a=n.Tu.get(o);r=r.unionWith(a.view.nu)}return r}}function U4(e){const t=bt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=B4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qoe.bind(null,t),t.Pu.H_=Boe.bind(null,t.eventManager),t.Pu.yu=Hoe.bind(null,t.eventManager),t}function iae(e){const t=bt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zoe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Joe.bind(null,t),t}class Vw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=oS(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return aoe(this.persistence,new roe,t.initialUser,this.serializer)}Cu(t){return new x4(uP.mi,this.serializer)}Du(t){return new poe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vw.provider={build:()=>new Vw};class rae extends Vw{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){an(this.persistence.referenceDelegate instanceof Lw,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Use(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new x4(i=>Lw.mi(i,n),this.serializer)}}class IT{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tae.bind(null,this.syncEngine),await Loe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Voe}()}createDatastore(t){const n=oS(t.databaseInfo.databaseId),i=function(s){return new Coe(s)}(t.databaseInfo);return function(s,o,a,l){return new Eoe(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new xoe(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>tN(this.syncEngine,n,0),function(){return YL.v()?new YL:new goe}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,h){const p=new Woe(r,s,o,a,l,u);return h&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=bt(n);He(Ju,"RemoteStore shutting down."),i.Ea.add(5),await cv(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}IT.provider={build:()=>new IT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="FirestoreClient";class sae{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=nr.UNAUTHENTICATED,this.clientId=ZA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{He(wc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(He(wc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=yP(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function S0(e,t){e.asyncQueue.verifyOperationInProgress(),He(wc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await T4(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function iN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await oae(e);He(wc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>QL(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>QL(t.remoteStore,r)),e._onlineComponents=t}async function oae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){He(wc,"Using user provided OfflineComponentProvider");try{await S0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===we.FAILED_PRECONDITION||r.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;nf("Error using user provided cache. Falling back to memory cache: "+n),await S0(e,new Vw)}}else He(wc,"Using default OfflineComponentProvider"),await S0(e,new rae(void 0));return e._offlineComponents}async function W4(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(He(wc,"Using user provided OnlineComponentProvider"),await iN(e,e._uninitializedComponentsProvider._online)):(He(wc,"Using default OnlineComponentProvider"),await iN(e,new IT))),e._onlineComponents}function aae(e){return W4(e).then(t=>t.syncEngine)}async function Bw(e){const t=await W4(e),n=t.eventManager;return n.onListen=joe.bind(null,t.syncEngine),n.onUnlisten=Koe.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$oe.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yoe.bind(null,t.syncEngine),n}function lae(e,t,n={}){const i=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new xP({next:g=>{h.Nu(),o.enqueueAndForget(()=>wP(s,p));const v=g.docs.has(a);!v&&g.fromCache?u.reject(new Oe(we.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?u.reject(new Oe(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new SP(eS(a.path),h,{includeMetadataChanges:!0,qa:!0});return CP(s,p)}(await Bw(e),e.asyncQueue,t,n,i)),i.promise}function cae(e,t,n={}){const i=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new xP({next:g=>{h.Nu(),o.enqueueAndForget(()=>wP(s,p)),g.fromCache&&l.source==="server"?u.reject(new Oe(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new SP(a,h,{includeMetadataChanges:!0,qa:!0});return CP(s,p)}(await Bw(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firestore.googleapis.com",sN=!0;class oN{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Oe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$4,this.ssl=sN}else this.host=t.host,this.ssl=t.ssl??sN;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=R4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gse)throw new Oe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Rre("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j4(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cS{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Oe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oN(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pre;switch(i.type){case"firstParty":return new yre(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Oe(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=rN.get(n);i&&(He("ComponentProvider","Removing Datastore"),rN.delete(n),i.terminate())}(this),Promise.resolve()}}function uae(e,t,n,i={}){e=Nr(e,cS);const r=Ac(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;r&&(VA(`https://${a}`),BA("Firestore",!0)),s.host!==$4&&s.host!==a&&nf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:r,emulatorOptions:i};if(!Ku(l,o)&&(e._setSettings(l),i.mockUserToken)){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=nr.MOCK_USER;else{u=Uz(i.mockUserToken,e._app?.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Oe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new nr(p)}e._authCredentials=new gre(new LU(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _c(this.firestore,t,this._query)}}class zn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zn(this.firestore,t,this._key)}toJSON(){return{type:zn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(ov(n,zn._jsonSchema))return new zn(t,i||null,new it(Sn.fromString(n.referencePath)))}}zn._jsonSchemaVersion="firestore/documentReference/1.0",zn._jsonSchema={type:di("string",zn._jsonSchemaVersion),referencePath:di("string")};class sc extends _c{constructor(t,n,i){super(t,n,eS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zn(this.firestore,null,new it(t))}withConverter(t){return new sc(this.firestore,t,this._path)}}function Mf(e,t,...n){if(e=Wn(e),NU("collection","path",t),e instanceof cS){const i=Sn.fromString(t,...n);return CL(i),new sc(e,null,i)}{if(!(e instanceof zn||e instanceof sc))throw new Oe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Sn.fromString(t,...n));return CL(i),new sc(e.firestore,null,i)}}function _f(e,t,...n){if(e=Wn(e),arguments.length===1&&(t=ZA.newId()),NU("doc","path",t),e instanceof cS){const i=Sn.fromString(t,...n);return yL(i),new zn(e,null,new it(i))}{if(!(e instanceof zn||e instanceof sc))throw new Oe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Sn.fromString(t,...n));return yL(i),new zn(e.firestore,e instanceof sc?e.converter:null,new it(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="AsyncQueue";class lN{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A4(this,"async_queue_retry"),this._c=()=>{const i=b0();i&&He(aN,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=b0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=b0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ua;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Pf(t))throw t;He(aN,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Qa("INTERNAL UNHANDLED ERROR: ",cN(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=vP.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&ft(47125,{Pc:cN(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function cN(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Ja extends cS{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new lN,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lN(t),this._firestoreClient=void 0,await t}}}function dae(e,t){const n=typeof e=="object"?e:zA(),i=typeof e=="string"?e:Fw,r=$b(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Hz("firestore");s&&uae(r,...s)}return r}function uS(e){if(e._terminated)throw new Oe(we.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hae(e),e._firestoreClient}function hae(e){const t=e._freezeSettings(),n=function(r,s,o,a){return new Ore(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,j4(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new sae(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(Xi.fromBase64String(t))}catch(n){throw new Oe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ks(Xi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ov(t,ks._jsonSchema))return ks.fromBase64String(t.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:di("string",ks._jsonSchemaVersion),bytes:di("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Oe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Oe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Oe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xo._jsonSchemaVersion}}static fromJSON(t){if(ov(t,Xo._jsonSchema))return new Xo(t.latitude,t.longitude)}}Xo._jsonSchemaVersion="firestore/geoPoint/1.0",Xo._jsonSchema={type:di("string",Xo._jsonSchemaVersion),latitude:di("number"),longitude:di("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Qo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ov(t,Qo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Qo(t.vectorValues);throw new Oe(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qo._jsonSchemaVersion="firestore/vectorValue/1.0",Qo._jsonSchema={type:di("string",Qo._jsonSchemaVersion),vectorValues:di("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=/^__.*__$/;class pae{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Mc(t,this.data,this.fieldMask,n,this.fieldTransforms):new av(t,this.data,n,this.fieldTransforms)}}class q4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Mc(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function K4(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:e})}}class TP{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new TP({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hw(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(K4(this.Ac)&&fae.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gae{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||oS(t)}Cc(t,n,i,r=!1){return new TP({Ac:t,methodName:n,Dc:i,path:ji.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fS(e){const t=e._freezeSettings(),n=oS(e._databaseId);return new gae(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Y4(e,t,n,i,r,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,r);AP("Data must be an object, but it was:",o,i);const a=X4(i,o);let l,u;if(s.merge)l=new ts(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const g=FT(t,p,n);if(!o.contains(g))throw new Oe(we.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Z4(h,g)||h.push(g)}l=new ts(h),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new pae(new _r(a),l,u)}class pS extends hS{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pS}}class DP extends hS{_toFieldTransform(t){return new ase(t.path,new fm)}isEqual(t){return t instanceof DP}}function mae(e,t,n,i){const r=e.Cc(1,t,n);AP("Data must be an object, but it was:",r,i);const s=[],o=_r.empty();Fc(i,(l,u)=>{const h=PP(t,l,n);u=Wn(u);const p=r.yc(h);if(u instanceof pS)s.push(h);else{const g=dv(u,p);g!=null&&(s.push(h),o.set(h,g))}});const a=new ts(s);return new q4(o,a,r.fieldTransforms)}function vae(e,t,n,i,r,s){const o=e.Cc(1,t,n),a=[FT(t,i,n)],l=[r];if(s.length%2!=0)throw new Oe(we.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(FT(t,s[g])),l.push(s[g+1]);const u=[],h=_r.empty();for(let g=a.length-1;g>=0;--g)if(!Z4(u,a[g])){const v=a[g];let C=l[g];C=Wn(C);const S=o.yc(v);if(C instanceof pS)u.push(v);else{const R=dv(C,S);R!=null&&(u.push(v),h.set(v,R))}}const p=new ts(u);return new q4(h,p,o.fieldTransforms)}function yae(e,t,n,i=!1){return dv(n,e.Cc(i?4:3,t))}function dv(e,t){if(Q4(e=Wn(e)))return AP("Unsupported field value:",t,e),X4(e,t);if(e instanceof hS)return function(i,r){if(!K4(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=dv(a,r.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rse(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=xn.fromDate(i);return{timestampValue:Ow(r.serializer,s)}}if(i instanceof xn){const s=new xn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ow(r.serializer,s)}}if(i instanceof Xo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ks)return{bytesValue:v4(r.serializer,i._byteString)};if(i instanceof zn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lP(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Qo)return function(o,a){return{mapValue:{fields:{[$U]:{stringValue:qU},[Mw]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return rP(a.serializer,u)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${Xb(i)}`)}(e,t)}function X4(e,t){const n={};return HU(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fc(e,(i,r)=>{const s=dv(r,t.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function Q4(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof xn||e instanceof Xo||e instanceof ks||e instanceof zn||e instanceof hS||e instanceof Qo)}function AP(e,t,n){if(!Q4(n)||!VU(n)){const i=Xb(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function FT(e,t,n){if((t=Wn(t))instanceof dS)return t._internalPath;if(typeof t=="string")return PP(e,t);throw Hw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Cae=new RegExp("[~\\*/\\[\\]]");function PP(e,t,n){if(t.search(Cae)>=0)throw Hw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dS(...t.split("."))._internalPath}catch{throw Hw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Hw(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Oe(we.INVALID_ARGUMENT,a+e+l)}function Z4(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wae extends J4{data(){return super.data()}}function gS(e,t){return typeof t=="string"?PP(e,t):t instanceof dS?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Oe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IP{}class t3 extends IP{}function mS(e,t,...n){let i=[];t instanceof IP&&i.push(t),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof FP).length,a=s.filter(l=>l instanceof vS).length;if(o>1||o>0&&a>0)throw new Oe(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class vS extends t3{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new vS(t,n,i)}_apply(t){const n=this._parse(t);return r3(t._query,n),new _c(t.firestore,t.converter,wT(t._query,n))}_parse(t){const n=fS(t.firestore);return function(s,o,a,l,u,h,p){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Oe(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hN(p,h);const C=[];for(const S of p)C.push(dN(l,s,S));g={arrayValue:{values:C}}}else g=dN(l,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hN(p,h),g=yae(a,o,p,h==="in"||h==="not-in");return ui.create(u,h,g)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function n3(e,t,n){const i=t,r=gS("where",e);return vS._create(r,i,n)}class FP extends IP{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new FP(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:lo.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)r3(o,l),o=wT(o,l)}(t._query,n),new _c(t.firestore,t.converter,wT(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class MP extends t3{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new MP(t,n)}_apply(t){const n=function(r,s,o){if(r.startAt!==null)throw new Oe(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Oe(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hm(s,o)}(t._query,this._field,this._direction);return new _c(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new If(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function i3(e,t="asc"){const n=t,i=gS("orderBy",e);return MP._create(i,n)}function dN(e,t,n){if(typeof(n=Wn(n))=="string"){if(n==="")throw new Oe(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t4(t)&&n.indexOf("/")!==-1)throw new Oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Sn.fromString(n));if(!it.isDocumentKey(i))throw new Oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return DL(e,new it(i))}if(n instanceof zn)return DL(e,n._key);throw new Oe(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xb(n)}.`)}function hN(e,t){if(!Array.isArray(e)||e.length===0)throw new Oe(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function r3(e,t){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Oe(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Oe(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class bae{convertValue(t,n="none"){switch(yc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(vc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Fc(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){const n=t.fields?.[Mw].arrayValue?.values?.map(i=>Zn(i.doubleValue));return new Qo(n)}convertGeoPoint(t){return new Xo(Zn(t.latitude),Zn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Jb(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(cm(t));default:return null}}convertTimestamp(t){const n=mc(t);return new xn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Sn.fromString(t);an(E4(i),9688,{name:t});const r=new um(i.get(1),i.get(3)),s=new it(i.popFirst(5));return r.isEqual(n)||Qa(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class yg{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mu extends J4{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new WC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(gS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Mu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mu._jsonSchema={type:di("string",Mu._jsonSchemaVersion),bundleSource:di("string","DocumentSnapshot"),bundleName:di("string"),bundle:di("string")};class WC extends Mu{data(t={}){return super.data(t)}}class _u{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new yg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new WC(this._firestore,this._userDataWriter,i.key,i,new yg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new WC(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yg(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new WC(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yg(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Sae(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_u._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ZA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Sae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eae(e){e=Nr(e,zn);const t=Nr(e.firestore,Ja);return lae(uS(t),e._key).then(n=>u3(t,e,n))}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:di("string",_u._jsonSchemaVersion),bundleSource:di("string","QuerySnapshot"),bundleName:di("string"),bundle:di("string")};class _P extends bae{constructor(t){super(),this.firestore=t}convertBytes(t){return new ks(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function o3(e){e=Nr(e,_c);const t=Nr(e.firestore,Ja),n=uS(t),i=new _P(t);return e3(e._query),cae(n,e._query).then(r=>new _u(t,i,e,r))}function a3(e,t,n){e=Nr(e,zn);const i=Nr(e.firestore,Ja),r=s3(e.converter,t);return yS(i,[Y4(fS(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Hs.none())])}function Rae(e,t,n,...i){e=Nr(e,zn);const r=Nr(e.firestore,Ja),s=fS(r);let o;return o=typeof(t=Wn(t))=="string"||t instanceof dS?vae(s,"updateDoc",e._key,t,n,i):mae(s,"updateDoc",e._key,t),yS(r,[o.toMutation(e._key,Hs.exists(!0))])}function xae(e){return yS(Nr(e.firestore,Ja),[new sP(e._key,Hs.none())])}function l3(e,t){const n=Nr(e.firestore,Ja),i=_f(e),r=s3(e.converter,t);return yS(n,[Y4(fS(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Hs.exists(!1))]).then(()=>i)}function c3(e,...t){e=Wn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||uN(t[i])||(n=t[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uN(t[i])){const l=t[i];t[i]=l.next?.bind(l),t[i+1]=l.error?.bind(l),t[i+2]=l.complete?.bind(l)}let s,o,a;if(e instanceof zn)o=Nr(e.firestore,Ja),a=eS(e._key.path),s={next:l=>{t[i]&&t[i](u3(o,e,l))},error:t[i+1],complete:t[i+2]};else{const l=Nr(e,_c);o=Nr(l.firestore,Ja),a=l._query;const u=new _P(o);s={next:h=>{t[i]&&t[i](new _u(o,u,l,h))},error:t[i+1],complete:t[i+2]},e3(e._query)}return function(u,h,p,g){const v=new xP(g),C=new SP(h,v,p);return u.asyncQueue.enqueueAndForget(async()=>CP(await Bw(u),C)),()=>{v.Nu(),u.asyncQueue.enqueueAndForget(async()=>wP(await Bw(u),C))}}(uS(o),a,r,s)}function yS(e,t){return function(i,r){const s=new Ua;return i.asyncQueue.enqueueAndForget(async()=>Xoe(await aae(i),r,s)),s.promise}(uS(e),t)}function u3(e,t,n){const i=n.docs.get(t._key),r=new _P(e);return new Mu(e,r,t._key,i,new yg(n.hasPendingWrites,n.fromCache),t.converter)}function d3(){return new DP("serverTimestamp")}(function(t,n=!0){(function(r){Df=r})(hd),Yu(new pc("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Ja(new mre(i.getProvider("auth-internal")),new Cre(o,i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Oe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new um(u.options.projectId,h)}(o,r),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),jo(pL,gL,t),jo(pL,gL,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebasestorage.googleapis.com",f3="storageBucket",Tae=120*1e3,Dae=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends ho{constructor(t,n,i=0){super(E0(t),`Firebase Storage: ${n} (${E0(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return E0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jn||(jn={}));function E0(e){return"storage/"+e}function kP(){const e="An unknown error occurred, please check the error payload for server response.";return new $n(jn.UNKNOWN,e)}function Aae(e){return new $n(jn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Pae(e){return new $n(jn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Iae(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $n(jn.UNAUTHENTICATED,e)}function Fae(){return new $n(jn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Mae(e){return new $n(jn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function _ae(){return new $n(jn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kae(){return new $n(jn.CANCELED,"User canceled the upload/download.")}function Oae(e){return new $n(jn.INVALID_URL,"Invalid URL '"+e+"'.")}function Lae(e){return new $n(jn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Nae(){return new $n(jn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f3+"' property when initializing the app?")}function Vae(){return new $n(jn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Bae(){return new $n(jn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Hae(e){return new $n(jn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function MT(e){return new $n(jn.INVALID_ARGUMENT,e)}function p3(){return new $n(jn.APP_DELETED,"The Firebase app was deleted.")}function Gae(e){return new $n(jn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fg(e,t){return new $n(jn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Qp(e){throw new $n(jn.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=ns.makeFromUrl(t,n)}catch{return new ns(t,"")}if(i.path==="")return i;throw Lae(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${r}/o${g}`,"i"),C={bucket:1,path:3},S=n===h3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",x=new RegExp(`^https?://${S}/${r}/${R}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:v,indices:C,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<T.length;k++){const L=T[k],P=L.regex.exec(t);if(P){const _=P[L.indices.bucket];let M=P[L.indices.path];M||(M=""),i=new ns(_,M),L.postModify(i);break}}if(i==null)throw Oae(t);return i}}class zae{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uae(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...R){u||(u=!0,t.apply(null,R))}function p(R){r=setTimeout(()=>{r=null,e(v,l())},R)}function g(){s&&clearTimeout(s)}function v(R,...x){if(u){g();return}if(R){g(),h.call(null,R,...x);return}if(l()||o){g(),h.call(null,R,...x);return}i<64&&(i*=2);let T;a===1?(a=2,T=0):T=(i+Math.random())*1e3,p(T)}let C=!1;function S(R){C||(C=!0,g(),!u&&(r!==null?(R||(a=2),clearTimeout(r),p(0)):R||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function Wae(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jae(e){return e!==void 0}function $ae(e){return typeof e=="object"&&!Array.isArray(e)}function OP(e){return typeof e=="string"||e instanceof String}function fN(e){return LP()&&e instanceof Blob}function LP(){return typeof Blob<"u"}function pN(e,t,n,i){if(i<t)throw MT(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw MT(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function g3(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var ku;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ku||(ku={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(t,n,i,r,s,o,a,l,u,h,p,g=!0,v=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,S)=>{this.resolve_=C,this.reject_=S,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new tC(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ku.NO_ERROR,l=s.getStatus();if(!a||qae(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ku.ABORT;i(!1,new tC(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new tC(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jae(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=kP();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?p3():kae();o(l)}else{const l=_ae();o(l)}};this.canceled_?n(!1,new tC(!1,null,!0)):this.backoffId_=Uae(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Wae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tC{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function Yae(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Xae(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Qae(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Zae(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Jae(e,t,n,i,r,s,o=!0,a=!1){const l=g3(e.urlParams),u=e.url+l,h=Object.assign({},e.headers);return Qae(h,t),Yae(h,n),Xae(h,s),Zae(h,i),new Kae(u,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tle(...e){const t=ele();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(LP())return new Blob(e);throw new $n(jn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nle(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ile(e){if(typeof atob>"u")throw Hae("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class R0{constructor(t,n){this.data=t,this.contentType=n||null}}function rle(e,t){switch(e){case Bo.RAW:return new R0(m3(t));case Bo.BASE64:case Bo.BASE64URL:return new R0(v3(e,t));case Bo.DATA_URL:return new R0(ole(t),ale(t))}throw kP()}function m3(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=i,o=e.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function sle(e){let t;try{t=decodeURIComponent(e)}catch{throw Fg(Bo.DATA_URL,"Malformed data URL.")}return m3(t)}function v3(e,t){switch(e){case Bo.BASE64:{const r=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(r||s)throw Fg(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Bo.BASE64URL:{const r=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(r||s)throw Fg(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ile(t)}catch(r){throw r.message.includes("polyfill")?r:Fg(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class y3{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Fg(Bo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=lle(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function ole(e){const t=new y3(e);return t.base64?v3(Bo.BASE64,t.rest):sle(t.rest)}function ale(e){return new y3(e).contentType}function lle(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){let i=0,r="";fN(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(fN(this.data_)){const i=this.data_,r=nle(i,t,n);return r===null?null:new Zl(r)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new Zl(i,!0)}}static getBlob(...t){if(LP()){const n=t.map(i=>i instanceof Zl?i.data_:i);return new Zl(tle.apply(null,n))}else{const n=t.map(o=>OP(o)?rle(Bo.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Zl(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(e){let t;try{t=JSON.parse(e)}catch{return null}return $ae(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cle(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ule(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function w3(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dle(e,t){return t}class vr{constructor(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||dle}}let nC=null;function hle(e){return!OP(e)||e.length<2?e:w3(e)}function b3(){if(nC)return nC;const e=[];e.push(new vr("bucket")),e.push(new vr("generation")),e.push(new vr("metageneration")),e.push(new vr("name","fullPath",!0));function t(s,o){return hle(o)}const n=new vr("name");n.xform=t,e.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new vr("size");return r.xform=i,e.push(r),e.push(new vr("timeCreated")),e.push(new vr("updated")),e.push(new vr("md5Hash",null,!0)),e.push(new vr("cacheControl",null,!0)),e.push(new vr("contentDisposition",null,!0)),e.push(new vr("contentEncoding",null,!0)),e.push(new vr("contentLanguage",null,!0)),e.push(new vr("contentType",null,!0)),e.push(new vr("metadata","customMetadata",!0)),nC=e,nC}function fle(e,t){function n(){const i=e.bucket,r=e.fullPath,s=new ns(i,r);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function ple(e,t,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,t[o.server])}return fle(i,e),i}function S3(e,t,n){const i=C3(t);return i===null?null:ple(e,i,n)}function gle(e,t,n,i){const r=C3(t);if(r===null||!OP(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const h=e.bucket,p=e.fullPath,g="/b/"+o(h)+"/o/"+o(p),v=NP(g,n,i),C=g3({alt:"media",token:u});return v+C})[0]}function mle(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class E3{constructor(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(e){if(!e)throw kP()}function vle(e,t){function n(i,r){const s=S3(e,r,t);return R3(s!==null),s}return n}function yle(e,t){function n(i,r){const s=S3(e,r,t);return R3(s!==null),gle(s,r,e.host,e._protocol)}return n}function x3(e){function t(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=Fae():r=Iae():n.getStatus()===402?r=Pae(e.bucket):n.getStatus()===403?r=Mae(e.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return t}function Cle(e){const t=x3(e);function n(i,r){let s=t(i,r);return i.getStatus()===404&&(s=Aae(e.path)),s.serverResponse=r.serverResponse,s}return n}function wle(e,t,n){const i=t.fullServerUrl(),r=NP(i,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new E3(r,s,yle(e,n),o);return a.errorHandler=Cle(t),a}function ble(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Sle(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=ble(null,t)),i}function Ele(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let k=0;k<2;k++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Sle(t,i,r),h=mle(u,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=Zl.getBlob(p,i,g);if(v===null)throw Vae();const C={name:u.fullPath},S=NP(s,e.host,e._protocol),R="POST",x=e.maxUploadRetryTime,D=new E3(S,R,vle(e,n),x);return D.urlParams=C,D.headers=o,D.body=v.uploadData(),D.errorHandler=x3(t),D}class Rle{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ku.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ku.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ku.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,r,s){if(this.sent_)throw Qp("cannot .send() more than once");if(Ac(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class xle extends Rle{initXhr(){this.xhr_.responseType="text"}}function T3(){return new xle}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,n){this._service=t,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ed(t,n)}get root(){const t=new ns(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w3(this._location.path)}get storage(){return this._service}get parent(){const t=cle(this._location.path);if(t===null)return null;const n=new ns(this._location.bucket,t);return new ed(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Gae(t)}}function Tle(e,t,n){e._throwIfRoot("uploadBytes");const i=Ele(e.storage,e._location,b3(),new Zl(t,!0),n);return e.storage.makeRequestWithTokens(i,T3).then(r=>({metadata:r,ref:e}))}function Dle(e){e._throwIfRoot("getDownloadURL");const t=wle(e.storage,e._location,b3());return e.storage.makeRequestWithTokens(t,T3).then(n=>{if(n===null)throw Bae();return n})}function Ale(e,t){const n=ule(e._location.path,t),i=new ns(e._location.bucket,n);return new ed(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(e){return/^[A-Za-z]+:\/\//.test(e)}function Ile(e,t){return new ed(e,t)}function D3(e,t){if(e instanceof VP){const n=e;if(n._bucket==null)throw Nae();const i=new ed(n,n._bucket);return t!=null?D3(i,t):i}else return t!==void 0?Ale(e,t):e}function Fle(e,t){if(t&&Ple(t)){if(e instanceof VP)return Ile(e,t);throw MT("To use ref(service, url), the first argument must be a Storage instance.")}else return D3(e,t)}function gN(e,t){const n=t?.[f3];return n==null?null:ns.makeFromBucketSpec(n,e)}function Mle(e,t,n,i={}){e.host=`${t}:${n}`;const r=Ac(t);r&&(VA(`https://${e.host}/b`),BA("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken=typeof s=="string"?s:Uz(s,e.app.options.projectId))}class VP{constructor(t,n,i,r,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=h3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Tae,this._maxUploadRetryTime=Dae,this._requests=new Set,r!=null?this._bucket=ns.makeFromBucketSpec(r,this._host):this._bucket=gN(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,t):this._bucket=gN(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){pN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){pN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ed(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new zae(p3());{const o=Jae(t,this._appId,i,r,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const mN="@firebase/storage",vN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="storage";function _le(e,t,n){return e=Wn(e),Tle(e,t,n)}function kle(e){return e=Wn(e),Dle(e)}function Ole(e,t){return e=Wn(e),Fle(e,t)}function Lle(e=zA(),t){e=Wn(e);const i=$b(e,A3).getImmediate({identifier:t}),r=Hz("storage");return r&&Nle(i,...r),i}function Nle(e,t,n,i={}){Mle(e,t,n,i)}function Vle(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new VP(n,i,r,t,hd)}function Ble(){Yu(new pc(A3,Vle,"PUBLIC").setMultipleInstances(!0)),jo(mN,vN,""),jo(mN,vN,"esm2020")}Ble();const BP=$z(Jte),HP=hre(BP),fo=dae(BP),Hle=Lle(BP);var In=(e=>(e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMINISTRATOR="ADMINISTRATOR",e))(In||{});const GP="users",Gle=async(e,t)=>{await a3(_f(fo,GP,t),e)},zle=async e=>(await Eae(_f(fo,GP,e))).data(),P3=async()=>(await o3(mS(Mf(fo,GP),n3("role","==",In.STUDENT)))).docs.map(t=>t.data()),Ule=async(e,t)=>{const n=await Zne(HP,e,t);return await zle(n.user.uid)},Wle=async e=>{const t=e.name.slice(0,3)+e.email.slice(0,3),n=await Qne(HP,e.email,t);return e={...e,id:n.user.uid},await Gle(e,n.user.uid),e},jle=async()=>{await tie(HP)},yN=e=>{let t;const n=new Set,i=(u,h)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},r=()=>t,a={setState:i,getState:r,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(i,r,a);return a},$le=e=>e?yN(e):yN,qle=e=>e;function Kle(e,t=qle){const n=K.useSyncExternalStore(e.subscribe,K.useCallback(()=>t(e.getState()),[e,t]),K.useCallback(()=>t(e.getInitialState()),[e,t]));return K.useDebugValue(n),n}const CN=e=>{const t=$le(e),n=i=>Kle(t,i);return Object.assign(n,t),n},zP=e=>e?CN(e):CN,kc=zP(e=>({user:null,setUser:t=>e({user:t})})),wN=({onNavigate:e})=>{const t=sA(),{user:n,setUser:i}=kc(),r=a=>{t(a),e&&e()},s=()=>{jle(),t("/"),i(null),localStorage.removeItem("user")},o=n?.role===In.TEACHER||n?.role===In.ADMINISTRATOR;return I.jsxs(fX,{children:[I.jsx(Nl,{icon:I.jsx(YJ,{size:18}),onClick:()=>r("/dashboard/mapa"),children:"Mapa Interactivo"}),o&&I.jsxs(I.Fragment,{children:[I.jsx(Nl,{icon:I.jsx(Ga,{size:18}),onClick:()=>r("/dashboard/estudiantes"),children:"Estudiantes"}),I.jsx(Nl,{icon:I.jsx(UJ,{size:18}),onClick:()=>r("/dashboard/grupos"),children:"Grupos"}),I.jsx(Nl,{icon:I.jsx(OA,{size:18}),onClick:()=>r("/dashboard/chatbot"),children:"Chatbot"}),I.jsx(Nl,{onClick:()=>r("/dashboard/poster"),children:"Subir Poster"}),I.jsx(Nl,{onClick:()=>r("/dashboard/audio"),children:"Subir Audio"}),I.jsx(Nl,{onClick:()=>r("/dashboard/galeria"),children:"Galera"})]}),I.jsx(Nl,{icon:I.jsx(jJ,{size:18}),onClick:s,children:"Cerrar Sesin"})]})},Yle=()=>{const[e,t]=b.useState(!1),{collapseSidebar:n,collapsed:i}=_Q();return I.jsxs("div",{className:"d-flex flex-column vh-100",children:[I.jsx(AJ,{bg:"light",expand:"lg",className:"border-bottom px-3",children:I.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[I.jsx("div",{className:"fw-bold fs-4",children:"TutorIngls"}),I.jsx("div",{className:"d-lg-none",children:I.jsx(Ki,{variant:"outline-primary",onClick:()=>t(!0),children:I.jsx(QJ,{size:20})})}),I.jsx("div",{className:"d-none d-lg-block",children:I.jsx(Ki,{variant:"outline-secondary",onClick:()=>n(),size:"sm",children:i?"":""})})]})}),I.jsxs("div",{className:"flex-grow-1 d-flex",children:[I.jsx("div",{className:"d-none d-lg-block",children:I.jsx(uX,{breakPoint:"lg",collapsed:!1,style:{height:"100%"},className:"bg-dark",children:I.jsx(wN,{})})}),I.jsx("div",{className:"flex-grow-1 p-3",style:{overflowY:"auto"},children:I.jsx(DK,{})})]}),I.jsxs(hg,{show:e,onHide:()=>t(!1),placement:"end",children:[I.jsx(hg.Header,{closeButton:!0,children:I.jsx(hg.Title,{children:"Men"})}),I.jsx(hg.Body,{children:I.jsx(wN,{onNavigate:()=>t(!1)})})]})]})};function I3(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=I3(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Ou(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=I3(e))&&(i&&(i+=" "),i+=t);return i}function Xle(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Xle(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hv=e=>typeof e=="number"&&!isNaN(e),td=e=>typeof e=="string",el=e=>typeof e=="function",Qle=e=>td(e)||hv(e),_T=e=>td(e)||el(e)?e:null,Zle=(e,t)=>e===!1||hv(e)&&e>0?e:t,kT=e=>b.isValidElement(e)||td(e)||el(e)||hv(e);function Jle(e,t,n=300){let{scrollHeight:i,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}function ece({enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:h,playToast:p}){let g=n?`${e}--${o}`:e,v=n?`${t}--${o}`:t,C=b.useRef(0);return b.useLayoutEffect(()=>{let S=u.current,R=g.split(" "),x=D=>{D.target===u.current&&(p(),S.removeEventListener("animationend",x),S.removeEventListener("animationcancel",x),C.current===0&&D.type!=="animationcancel"&&S.classList.remove(...R))};S.classList.add(...R),S.addEventListener("animationend",x),S.addEventListener("animationcancel",x)},[]),b.useEffect(()=>{let S=u.current,R=()=>{S.removeEventListener("animationend",R),i?Jle(S,l,r):l()};h||(a?R():(C.current=1,S.className+=` ${v}`,S.addEventListener("animationend",R)))},[h]),K.createElement(K.Fragment,null,s)}}function bN(e,t){return{content:F3(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function F3(e,t,n=!1){return b.isValidElement(e)&&!td(e.type)?b.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):el(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function tce({closeToast:e,theme:t,ariaLabel:n="close"}){return K.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":n},K.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},K.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nce({delay:e,isRunning:t,closeToast:n,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:h}){let p=r||o&&a===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(g.transform=`scaleX(${a})`);let v=Ou("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),C=el(s)?s({rtl:l,type:i,defaultClassName:v}):Ou(v,s),S={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return K.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},K.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),K.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:C,style:g,...S}))}var ice=1,M3=()=>`${ice++}`;function rce(e,t,n){let i=1,r=0,s=[],o=[],a=t,l=new Map,u=new Set,h=D=>(u.add(D),()=>u.delete(D)),p=()=>{o=Array.from(l.values()),u.forEach(D=>D())},g=({containerId:D,toastId:T,updateId:k})=>{let L=D?D!==e:e!==1,P=l.has(T)&&k==null;return L||P},v=(D,T)=>{l.forEach(k=>{var L;(T==null||T===k.props.toastId)&&((L=k.toggle)==null||L.call(k,D))})},C=D=>{var T,k;(k=(T=D.props)==null?void 0:T.onClose)==null||k.call(T,D.removalReason),D.isActive=!1},S=D=>{if(D==null)l.forEach(C);else{let T=l.get(D);T&&C(T)}p()},R=()=>{r-=s.length,s=[]},x=D=>{var T,k;let{toastId:L,updateId:P}=D.props,_=P==null;D.staleId&&l.delete(D.staleId),D.isActive=!0,l.set(L,D),p(),n(bN(D,_?"added":"updated")),_&&((k=(T=D.props).onOpen)==null||k.call(T))};return{id:e,props:a,observe:h,toggle:v,removeToast:S,toasts:l,clearQueue:R,buildToast:(D,T)=>{if(g(T))return;let{toastId:k,updateId:L,data:P,staleId:_,delay:M}=T,N=L==null;N&&r++;let B={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(T).filter(([U,G])=>G!=null)),toastId:k,updateId:L,data:P,isIn:!1,className:_T(T.className||a.toastClassName),progressClassName:_T(T.progressClassName||a.progressClassName),autoClose:T.isLoading?!1:Zle(T.autoClose,a.autoClose),closeToast(U){l.get(k).removalReason=U,S(k)},deleteToast(){let U=l.get(k);if(U!=null){if(n(bN(U,"removed")),l.delete(k),r--,r<0&&(r=0),s.length>0){x(s.shift());return}p()}}};B.closeButton=a.closeButton,T.closeButton===!1||kT(T.closeButton)?B.closeButton=T.closeButton:T.closeButton===!0&&(B.closeButton=kT(a.closeButton)?a.closeButton:!0);let H={content:D,props:B,staleId:_};a.limit&&a.limit>0&&r>a.limit&&N?s.push(H):hv(M)?setTimeout(()=>{x(H)},M):x(H)},setProps(D){a=D},setToggle:(D,T)=>{let k=l.get(D);k&&(k.toggle=T)},isToastActive:D=>{var T;return(T=l.get(D))==null?void 0:T.isActive},getSnapshot:()=>o}}var br=new Map,mm=[],OT=new Set,sce=e=>OT.forEach(t=>t(e)),_3=()=>br.size>0;function oce(){mm.forEach(e=>O3(e.content,e.options)),mm=[]}var ace=(e,{containerId:t})=>{var n;return(n=br.get(t||1))==null?void 0:n.toasts.get(e)};function k3(e,t){var n;if(t)return!!((n=br.get(t))!=null&&n.isToastActive(e));let i=!1;return br.forEach(r=>{r.isToastActive(e)&&(i=!0)}),i}function lce(e){if(!_3()){mm=mm.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Qle(e))br.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=br.get(e.containerId);t?t.removeToast(e.id):br.forEach(n=>{n.removeToast(e.id)})}}var cce=(e={})=>{br.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function O3(e,t){kT(e)&&(_3()||mm.push({content:e,options:t}),br.forEach(n=>{n.buildToast(e,t)}))}function uce(e){var t;(t=br.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function L3(e,t){br.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function dce(e){let t=e.containerId||1;return{subscribe(n){let i=rce(t,e,sce);br.set(t,i);let r=i.observe(n);return oce(),()=>{r(),br.delete(t)}},setProps(n){var i;(i=br.get(t))==null||i.setProps(n)},getSnapshot(){var n;return(n=br.get(t))==null?void 0:n.getSnapshot()}}}function hce(e){return OT.add(e),()=>{OT.delete(e)}}function fce(e){return e&&(td(e.toastId)||hv(e.toastId))?e.toastId:M3()}function fv(e,t){return O3(e,t),t.toastId}function CS(e,t){return{...t,type:t&&t.type||e,toastId:fce(t)}}function wS(e){return(t,n)=>fv(t,CS(e,n))}function nn(e,t){return fv(e,CS("default",t))}nn.loading=(e,t)=>fv(e,CS("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function pce(e,{pending:t,error:n,success:i},r){let s;t&&(s=td(t)?nn.loading(t,r):nn.loading(t.render,{...r,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,h,p)=>{if(h==null){nn.dismiss(s);return}let g={type:u,...o,...r,data:p},v=td(h)?{render:h}:h;return s?nn.update(s,{...g,...v}):nn(v.render,{...g,...v}),p},l=el(e)?e():e;return l.then(u=>a("success",i,u)).catch(u=>a("error",n,u)),l}nn.promise=pce;nn.success=wS("success");nn.info=wS("info");nn.error=wS("error");nn.warning=wS("warning");nn.warn=nn.warning;nn.dark=(e,t)=>fv(e,CS("default",{theme:"dark",...t}));function gce(e){lce(e)}nn.dismiss=gce;nn.clearWaitingQueue=cce;nn.isActive=k3;nn.update=(e,t={})=>{let n=ace(e,t);if(n){let{props:i,content:r}=n,s={delay:100,...i,...t,toastId:t.toastId||e,updateId:M3()};s.toastId!==e&&(s.staleId=e);let o=s.render||r;delete s.render,fv(o,s)}};nn.done=e=>{nn.update(e,{progress:1})};nn.onChange=hce;nn.play=e=>L3(!0,e);nn.pause=e=>L3(!1,e);function mce(e){var t;let{subscribe:n,getSnapshot:i,setProps:r}=b.useRef(dce(e)).current;r(e);let s=(t=b.useSyncExternalStore(n,i,i))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:h}=u.props;l.has(h)||l.set(h,[]),l.get(h).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:k3,count:s?.length}}function vce(e){let[t,n]=b.useState(!1),[i,r]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:h,closeOnClick:p}=e;uce({id:e.toastId,containerId:e.containerId,fn:n}),b.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{v()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||x(),window.addEventListener("focus",R),window.addEventListener("blur",x)}function v(){window.removeEventListener("focus",R),window.removeEventListener("blur",x)}function C(_){if(e.draggable===!0||e.draggable===_.pointerType){D();let M=s.current;o.canCloseOnClick=!0,o.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function S(_){let{top:M,bottom:N,left:B,right:H}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_.clientX>=B&&_.clientX<=H&&_.clientY>=M&&_.clientY<=N?x():R()}function R(){n(!0)}function x(){n(!1)}function D(){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",L)}function T(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",L)}function k(_){let M=s.current;if(o.canDrag&&M){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=_.clientX-o.start:o.delta=_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1);let N=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;M.style.transform=`translate3d(${N},0)`,M.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function L(){T();let _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),e.closeToast(!0),e.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let P={onPointerDown:C,onPointerUp:S};return a&&l&&(P.onMouseEnter=x,e.stacked||(P.onMouseLeave=R)),p&&(P.onClick=_=>{h&&h(_),o.canCloseOnClick&&u(!0)}),{playToast:R,pauseToast:x,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:P}}var yce=typeof window<"u"?b.useLayoutEffect:b.useEffect,bS=({theme:e,type:t,isLoading:n,...i})=>K.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function Cce(e){return K.createElement(bS,{...e},K.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function wce(e){return K.createElement(bS,{...e},K.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bce(e){return K.createElement(bS,{...e},K.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Sce(e){return K.createElement(bS,{...e},K.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Ece(){return K.createElement("div",{className:"Toastify__spinner"})}var LT={info:wce,warning:Cce,success:bce,error:Sce,spinner:Ece},Rce=e=>e in LT;function xce({theme:e,type:t,isLoading:n,icon:i}){let r=null,s={theme:e,type:t};return i===!1||(el(i)?r=i({...s,isLoading:n}):b.isValidElement(i)?r=b.cloneElement(i,s):n?r=LT.spinner():Rce(t)&&(r=LT[t](s))),r}var Tce=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=vce(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:h,hideProgressBar:p,closeToast:g,transition:v,position:C,className:S,style:R,progressClassName:x,updateId:D,role:T,progress:k,rtl:L,toastId:P,deleteToast:_,isIn:M,isLoading:N,closeOnClick:B,theme:H,ariaLabel:U}=e,G=Ou("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":B}),J=el(S)?S({rtl:L,position:C,type:h,defaultClassName:G}):Ou(G,S),ie=xce(e),$=!!k||!l,Q={closeToast:g,type:h,theme:H},ee=null;return o===!1||(el(o)?ee=o(Q):b.isValidElement(o)?ee=b.cloneElement(o,Q):ee=tce(Q)),K.createElement(v,{isIn:M,done:_,position:C,preventExitTransition:n,nodeRef:i,playToast:s},K.createElement("div",{id:P,tabIndex:0,onClick:u,"data-in":M,className:J,...r,style:R,ref:i,...M&&{role:T,"aria-label":U}},ie!=null&&K.createElement("div",{className:Ou("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},ie),F3(a,e,!t),ee,!e.customProgressBar&&K.createElement(nce,{...D&&!$?{key:`p-${D}`}:{},rtl:L,theme:H,delay:l,isRunning:t,isIn:M,closeToast:g,hide:p,type:h,className:x,controlledProgress:$,progress:k||0})))},Dce=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),N3=ece(Dce("bounce",!0)),Ace={position:"top-right",transition:N3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function V3(e){let t={...Ace,...e},n=e.stacked,[i,r]=b.useState(!0),s=b.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=mce(t),{className:u,style:h,rtl:p,containerId:g,hotKeys:v}=t;function C(R){let x=Ou("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":p});return el(u)?u({position:R,rtl:p,defaultClassName:x}):Ou(x,_T(u))}function S(){n&&(r(!0),nn.play())}return yce(()=>{var R;if(n){let x=s.current.querySelectorAll('[data-in="true"]'),D=12,T=(R=t.position)==null?void 0:R.includes("top"),k=0,L=0;Array.from(x).reverse().forEach((P,_)=>{let M=P;M.classList.add("Toastify__toast--stacked"),_>0&&(M.dataset.collapsed=`${i}`),M.dataset.pos||(M.dataset.pos=T?"top":"bot");let N=k*(i?.2:1)+(i?0:D*_);M.style.setProperty("--y",`${T?N:N*-1}px`),M.style.setProperty("--g",`${D}`),M.style.setProperty("--s",`${1-(i?L:0)}`),k+=M.offsetHeight,L+=.025})}},[i,l,n]),b.useEffect(()=>{function R(x){var D;let T=s.current;v(x)&&((D=T.querySelector('[tabIndex="0"]'))==null||D.focus(),r(!1),nn.pause()),x.key==="Escape"&&(document.activeElement===T||T!=null&&T.contains(document.activeElement))&&(r(!0),nn.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[v]),K.createElement("section",{ref:s,className:"Toastify",id:g,onMouseEnter:()=>{n&&(r(!1),nn.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((R,x)=>{let D=x.length?{...h}:{...h,pointerEvents:"none"};return K.createElement("div",{tabIndex:-1,className:C(R),"data-stacked":n,style:D,key:`c-${R}`},x.map(({content:T,props:k})=>K.createElement(Tce,{...k,stacked:n,collapseAll:S,isIn:a(k.toastId,k.containerId),key:`t-${k.key}`},T)))}))}const B3=e=>{if(console.log(e),e instanceof ho)switch(e.code){case"auth/invalid-credential":return"Correo electrnico o contrasea invlidos";case"auth/email-already-in-use":return"El correo electrnico ya est en uso";default:return"Ocurri un error al iniciar sesin"}return"Ocurri un error al iniciar sesin"},Pce=()=>{const{setUser:e}=kc(),[t,n]=b.useState(""),[i,r]=b.useState(""),[s,o]=b.useState(!1),[a,l]=b.useState(!1),u=p=>{p.preventDefault(),l(!0),Ule(t,i).then(g=>{e(g),localStorage.setItem("user",JSON.stringify(g))}).catch(g=>{nn.error(B3(g),{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{l(!1)})},h=()=>{o(p=>!p)};return I.jsxs(hc,{className:"d-flex align-items-center justify-content-center min-vh-100",children:[I.jsx(qu,{className:"w-100 justify-content-center",children:I.jsx(Wo,{xs:12,sm:10,md:6,lg:4,children:I.jsxs(pn,{className:"p-4 shadow",children:[I.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesin"}),I.jsxs(Pt,{onSubmit:u,children:[I.jsxs(Pt.Group,{className:"mb-3",controlId:"formEmail",children:[I.jsx(Pt.Label,{children:"Correo electrnico"}),I.jsx(Pt.Control,{type:"email",placeholder:"ejemplo@email.com",value:t,onChange:p=>n(p.target.value),required:!0})]}),I.jsxs(Pt.Group,{className:"mb-3",controlId:"formPassword",children:[I.jsx(Pt.Label,{children:"Contrasea"}),I.jsxs(Ru,{children:[I.jsx(Pt.Control,{type:s?"text":"password",placeholder:"",value:i,onChange:p=>r(p.target.value),required:!0}),I.jsx(Ki,{variant:"outline-secondary",onClick:h,tabIndex:-1,children:s?I.jsx(NJ,{size:20}):I.jsx(BJ,{size:20})})]})]}),I.jsx("div",{className:"d-grid",children:I.jsx(Ki,{variant:"primary",type:"submit",disabled:a,children:a?I.jsx(fc,{animation:"border",size:"sm",className:"me-2"}):"Ingresar"})})]})]})})}),I.jsx(V3,{})]})},Ice="/TutorIngles/assets/song1-C81d3HDJ.mp3",Fce="/TutorIngles/assets/song2-b_eX15j3.mp3",Mce="/TutorIngles/assets/song3-OOvYPbp8.mp3",_ce="/TutorIngles/assets/song4-CVRpB5kG.mp3",kce="/TutorIngles/assets/song5-Cc3tgGiA.mp3",SN="/TutorIngles/assets/mapa-colombia-1Bl1cRkB.png",Oce="/TutorIngles/assets/choco-BBZz_lSB.png",Lce="/TutorIngles/assets/narino-BPiHBDGg.png",Nce="/TutorIngles/assets/palenquera-CKdrs8GG.png",Vce="/TutorIngles/assets/nasa-Bgu4UTQT.png",Bce="/TutorIngles/assets/ni%C3%B1osikuani-CNppRRPB.png",EN=[{id:1,region:"Vichada",position:{x:650,y:490},avatarImage:Bce,text:"Hello, my name is Jomo and I belong to the Sikuani indigenous people. I am from Vichada and I am ten years old. My language is Sikuani. I like to fish, hunt, gather fruits, and live in harmony with nature. My favorite tradition is when we dance and sing el cacho de venado.",audioSrc:Ice},{id:2,region:"Cauca",position:{x:200,y:630},avatarImage:Vce,text:"Hello everyone. My name is Wiya, which means 'bird' in Nasa Yuwe. I am eleven years old and I speak Nasa Yuwe, Spanish, and English. I like to play palmo, a traditional game in my community. My favorite tradition is weaving ruanas and backpacks called kwetanderas.",audioSrc:Fce},{id:3,region:"Bolvar",position:{x:270,y:170},avatarImage:Nce,text:"Hi there. My name is Rosalina. I am twelve years old. I am from San Basilio de Palenque, Bolvar. I speak Spanish and Palenquera. I love designing colorful dresses with my grandmother and playing the marimba.",audioSrc:Mce},{id:4,region:"Nario",position:{x:140,y:720},avatarImage:Lce,text:"Hello everyone. My name is Santiago. I am nine years old. I speak Spanish and English. I was born in Pasto, Nario. I love La Laguna de la Cocha and the Gold Museum. My favorite food is pusandao and paila ice cream.",audioSrc:_ce},{id:5,region:"Choc",position:{x:160,y:440},avatarImage:Oce,text:"Hello everyone. My name is Camila. I am ten years old. I was born in Quibd, Choc. I like to dance chirima and eat fish sancocho. I also love chontaduro with salt and sugar.",audioSrc:kce}];function Hce(){const[e,t]=b.useState(null),[n,i]=b.useState(null),r=()=>{if(n&&(n.pause(),n.currentTime=0),e){const s=new Audio(e.audioSrc);s.play(),i(s)}};return b.useEffect(()=>()=>{n&&(n.pause(),n.currentTime=0)},[n]),b.useEffect(()=>{EN.forEach(s=>{new Audio(s.audioSrc).load()})},[]),I.jsxs("div",{className:"map-container",children:[I.jsx("img",{src:SN,alt:"Mapa de Colombia",className:"map-image",onError:s=>{const o=s.target;o.onerror=null,o.src=SN,console.error("Error loading map image")}}),EN.map(s=>I.jsx("button",{className:"map-point",style:{left:`${s.position.x}px`,top:`${s.position.y}px`},onClick:()=>t(s),"aria-label":`Ver avatar de ${s.region}`},s.id)),I.jsxs(zi,{show:!!e,onHide:()=>{n&&(n.pause(),n.currentTime=0),t(null)},centered:!0,onExited:()=>{n&&(n.pause(),n.currentTime=0,i(null))},children:[I.jsx(zi.Header,{closeButton:!0,children:I.jsx(zi.Title,{children:e?.region})}),I.jsx(zi.Body,{className:"text-center",children:e&&I.jsxs(I.Fragment,{children:[I.jsx("img",{src:e.avatarImage,alt:`Avatar de ${e.region}`,className:"avatar-image",onError:s=>{const o=s.target;o.onerror=null,o.src="/assets/default-avatar.png"}}),I.jsx("p",{className:"mt-3",children:e.text}),I.jsx(Ki,{variant:"primary",onClick:r,disabled:!e.audioSrc,children:n&&!n.paused?" Repetir":" Play"})]})})]})]})}var nd=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:i}=this,r=a=>{const l=i?()=>i.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&r(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)r(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Gce(e,t){return t}function H3(e){return e?.getLocaleTextFunc()??Gce}function zce(e,t,n,i){const r=t[n];return e.getLocaleTextFunc()(n,typeof r=="function"?r(i):r,i)}function Wa(e){return e==null||e===""?null:e}function Ie(e){return e!=null&&e!==""}function Tn(e){return!Ie(e)}function NT(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function vm(e,t){const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function Uce(e,t,n=!1){const i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var G3=new Set(["__proto__","constructor","prototype"]);function Wce(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(i=>!G3.has(i)))t(n,e[n])}}function Er(e,t,n=!0,i=!1){Ie(t)&&Wce(t,(r,s)=>{let o=e[r];o!==s&&(i&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[r]=o),RN(s)&&RN(o)&&!Array.isArray(o)?Er(o,s,n,i):(n||s!==void 0)&&(e[r]=s))})}function Mg(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let r=e;for(let s=0;s<i.length;s++){if(r==null)return;r=r[i[s]]}return r}function RN(e){return typeof e=="object"&&e!==null}var UP=class vu{static applyGlobalGridOptions(t){if(!vu.gridOptions)return{...t};let n={};return Er(n,vu.gridOptions,!0,!0),vu.mergeStrategy==="deep"?Er(n,t,!0,!0):n={...n,...t},vu.gridOptions.context&&(n.context=vu.gridOptions.context),t.context&&(vu.mergeStrategy==="deep"&&n.context&&Er(t.context,n.context,!0,!0),n.context=t.context),n}};UP.gridOptions=void 0;UP.mergeStrategy="shallow";var z3=UP;function jce(e){return z3.gridOptions?.[e]}var U3={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function po(e,t,n){n==null||typeof n=="string"&&n==""?W3(e,t):go(e,t,n)}function go(e,t,n){e.setAttribute(j3(t),n.toString())}function W3(e,t){e.removeAttribute(j3(t))}function j3(e){return`aria-${e}`}function id(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function $ce(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function qce(e){return e.getAttribute("aria-label")}function cf(e,t){po(e,"label",t)}function ym(e,t){po(e,"labelledby",t)}function $3(e,t){po(e,"live",t)}function Kce(e,t){po(e,"atomic",t)}function Yce(e,t){po(e,"relevant",t)}function Xce(e,t){po(e,"invalid",t)}function Qce(e,t){po(e,"disabled",t)}function q3(e,t){po(e,"hidden",t)}function VT(e,t){go(e,"expanded",t)}function Zce(e,t){go(e,"setsize",t)}function Jce(e,t){go(e,"posinset",t)}function eue(e,t){go(e,"rowcount",t)}function K3(e,t){go(e,"rowindex",t)}function tue(e,t){go(e,"rowspan",t)}function nue(e,t){go(e,"colcount",t)}function Y3(e,t){go(e,"colindex",t)}function iue(e,t){go(e,"colspan",t)}function rue(e,t){go(e,"sort",t)}function sue(e){W3(e,"sort")}function BT(e,t){po(e,"selected",t)}function oue(e,t){po(e,"controls",t)}function aue(e,t){oue(e,t.id),ym(t,e.id)}function xN(e,t){po(e,"owns",t)}function SS(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var x0,T0,D0,A0,HT,GT,P0;function md(){return x0===void 0&&(x0=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),x0}function X3(){return T0===void 0&&(T0=/(firefox)/i.test(navigator.userAgent)),T0}function Q3(){return D0===void 0&&(D0=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),D0}function Lu(){return A0===void 0&&(A0=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),A0}function zT(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!X3())?null:t.toString()}function lue(){if(P0!==void 0)return P0;if(!document.body)return-1;let e=1e6;const t=X3()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),P0=e,e}function cue(){return GT==null&&Z3(),GT}function Z3(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(GT=n,HT=n===0)}function J3(){return HT==null&&Z3(),HT}var uue="[tabindex], input, select, button, textarea, [href]",eW="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function WP(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,eW),s=sa(e);return i&&!r&&s}function kn(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||q3(e,!t)}function due(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||q3(e,!t)}function Cm(e,t){const n="disabled",i=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);i(e);const r=e.querySelectorAll("input")??[];for(const s of r)i(s)}function Nu(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function vd(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:h,marginTop:p,marginRight:g,marginBottom:v,marginLeft:C,boxSizing:S}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(v||"0"),marginLeft:parseFloat(C||"0"),boxSizing:S}}function jP(e){const t=vd(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function wm(e){const t=vd(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function tW(e){const{height:t,marginBottom:n,marginTop:i}=vd(e);return Math.floor(t+n+i)}function Gw(e){const{width:t,marginLeft:n,marginRight:i}=vd(e);return Math.floor(t+n+i)}function nW(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=vd(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function zw(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function Uw(e,t,n){n&&(t*=-1),e.scrollLeft=t}function ds(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function tl(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function iW(e){return!!e.offsetParent}function sa(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!iW(e)||window.getComputedStyle(e).visibility!=="visible")}function $P(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function jC(e){return()=>{const t=e();return t?rW(t)||sW(t):!0}}function rW(e){return e.clientWidth<e.scrollWidth}function sW(e){return e.clientHeight<e.scrollHeight}function Ww(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Zo(e,t)}function Zo(e,t){t=qP(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function _g(e,t){t=qP(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function qP(e){return typeof e=="number"?`${e}px`:e}function KP(e){return e instanceof Node||e instanceof HTMLElement}function is(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function al(e,t,n){const r=gW(e).ResizeObserver,s=r?new r(n):null;return s?.observe(t),()=>s?.disconnect()}function ll(e,t){const n=gW(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var oW="data-ref",I0;function TN(){return I0??(I0=document.createTextNode(" ")),I0.cloneNode()}function ei(e){const{attrs:t,children:n,cls:i,ref:r,role:s,tag:o}=e,a=document.createElement(o);if(i&&(a.className=i),r&&a.setAttribute(oW,r),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const u of n)u&&(typeof u=="string"?(a.appendChild(document.createTextNode(u)),l=!1):typeof u=="function"?a.appendChild(u()):(l&&(a.appendChild(TN()),l=!1),a.append(ei(u)),a.appendChild(TN())))}return a}var DN={};function YP(e,t){DN[t]||(e(),DN[t]=!0)}function rd(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function kg(e,...t){YP(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Oh(e,...t){YP(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var hue={pending:!1,funcs:[]},fue={pending:!1,funcs:[]};function UT(e,t="setTimeout",n){const i=t==="raf"?fue:hue;if(i.funcs.push(e),i.pending)return;i.pending=!0;const r=()=>{const s=i.funcs.slice();i.funcs.length=0,i.pending=!1,s.forEach(o=>o())};t==="raf"?ll(n,r):window.setTimeout(r,0)}function $i(e,t,n){let i;return function(...r){const s=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(s,r)},n)}}function AN(e,t){let n=0;return function(...i){const r=this,s=Date.now();s-n<t||(n=s,e.apply(r,i))}}function pue(e,t,n=100,i){const r=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-r>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var aW="https://www.ag-grid.com",_e="34.1.1",PN=2e3,IN=100,lW="_version_",cW=null,Lh=`${aW}/javascript-data-grid`;function gue(e){cW=e}function mue(e){Lh=e}function uW(e,t,n){return cW?.getConsoleMessage(e,t)??[wue(e,t,n)]}function XP(e,t,n,i){e(`error #${t}`,...uW(t,n,i))}function vue(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function yue(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=vue(e)),t}function jw(e){return e===void 0?"undefined":e===null?"null":e}function WT(e,t){return`${e}?${t.toString()}`}function Cue(e,t,n){const i=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let r=WT(e,t);for(const[s,o]of i){if(s===lW)continue;const a=r.length-n;if(a<=0)break;const l="...",u=a+l.length,h=o.length-u>IN?o.slice(0,o.length-u)+l:o.slice(0,IN)+l;t.set(s,h),r=WT(e,t)}return r}function dW(e,t){const n=new URLSearchParams;if(n.append(lW,_e),t)for(const s of Object.keys(t))n.append(s,yue(t[s]));const i=`${Lh}/errors/${e}`,r=WT(i,n);return r.length<=PN?r:Cue(i,n,PN)}var wue=(e,t,n)=>{const i=dW(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Re(...e){XP(kg,e[0],e[1])}function sn(...e){XP(Oh,e[0],e[1])}function Cg(e,t,n){XP(Oh,e,t,n)}function bue(e,t){const n=t[0];return`error #${n} `+uW(n,t[1],e).join(" ")}function Jo(...e){return bue(void 0,e)}function hW(e,t){return e.get("rowModelType")===t}function ci(e,t){return hW(e,"clientSide")}function yd(e,t){return hW(e,"serverSide")}function Yi(e,t){return e.get("domLayout")===t}function Vu(e){return qw(e)!==void 0}function fW(e){return typeof e.get("getRowHeight")=="function"}function Sue(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function bc(e,t,n=!1,i){const{gos:r,environment:s}=e;if(i==null&&(i=s.getDefaultRowHeight()),fW(r)){if(n)return{height:i,estimated:!0};const l={node:t,data:t.data},u=r.getCallback("getRowHeight")(l);if(jT(u))return u===0&&Re(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&r.get("masterDetail"))return Eue(r);const o=r.get("rowHeight");return{height:o&&jT(o)?o:i,estimated:!1}}function Eue(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return jT(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Bu(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||Tn(i))return t.getDefaultRowHeight();const r=t.refreshRowHeightVariable();return r!==-1?r:(Re(24),t.getDefaultRowHeight())}function jT(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function pW(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function sd(e,t,n,i){const r=e.getDomDataKey();let s=t[r];Tn(s)&&(s={},t[r]=s),s[n]=i}function Fi(e){const{gos:t,eGridDiv:n}=e;let i=null;const r=t.get("getDocument");return r&&Ie(r)?i=r():n&&(i=n.ownerDocument),i&&Ie(i)?i:document}function gW(e){return Fi(e).defaultView||window}function bm(e){return e.eGridDiv.getRootNode()}function Nn(e){return bm(e).activeElement}function QP(e){let t=null,n=null;try{t=Fi(e).fullscreenElement}catch{}finally{t||(t=bm(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function Rue(e){return QP(e)?.clientWidth??(window.innerWidth||-1)}function xue(e){return QP(e)?.clientHeight??(window.innerHeight||-1)}function Tue(e,t,n){const r=e.getBoundingClientRect().height,s=Rue(n)-2,o=xue(n)-2;if(!e.offsetParent)return;const l=nW(e.offsetParent),{clientY:u,clientX:h}=t;let p=u-l.top-r/2,g=h-l.left-10;const v=Fi(n),C=v.defaultView||window,S=C.pageYOffset||v.documentElement.scrollTop,R=C.pageXOffset||v.documentElement.scrollLeft;s>0&&g+e.clientWidth>s+R&&(g=s+R-e.clientWidth),g<0&&(g=0),o>0&&p+e.clientHeight>o+S&&(p=o+S-e.clientHeight),p<0&&(p=0),e.style.left=`${g}px`,e.style.top=`${p}px`}function mW(e){const t=Nn(e);return t===null||t===Fi(e).body}function Nh(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function vW(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Yi(e,"print"))}function Lo(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function $T(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function yW(e){return e.get("grandTotalRow")}function CW(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function wW(e,t,n){return!!t.group&&!t.footer&&CW(e,n)}function uf(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(YP(()=>Re(25,{id:i}),"getRowIdString"),i=String(i)),i}}function Due(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Aue(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Vh(e){return e?.checkboxes??!0}function $C(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function $w(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function F0(e){return e?.hideDisabledCheckboxes??!1}function Pue(e){return typeof e.get("rowSelection")!="string"}function Sc(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function bW(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Iue(e){const t=bW(e);return t===!0||t==="enableSelection"}function Fue(e){const t=bW(e);return t===!0||t==="enableDeselection"}function qT(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function qw(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Kw(e){return qw(e)==="multiRow"}function Mue(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Yw(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function SW(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Sm(e){const t=Yw(e);return t==="descendants"||t==="filteredDescendants"}function FN(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function _ue(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function rs(e){return e.get("columnMenu")==="legacy"}function kue(e){return!rs(e)}function Oue(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Lue(e,t,n){typeof e!="object"&&(e={});const i={...e};return n.forEach(r=>{const s=t[r];typeof s<"u"&&(i[r]=s)}),i}function Nue(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],i=!0}),!i)return;const r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function tt(e,t){return e.addGridCommonParams(t)}function EW(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function qC(e,t){return e[t]??e.gridOptions?.[t]??jce(t)??U3[t]}var RW="__ag_Grid_Stop_Propagation",Vue=["touchstart","touchend","touchmove","touchcancel","scroll"],Bue=["wheel"],M0={};function od(e){e[RW]=!0}function ja(e){return e[RW]===!0}var xW=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof M0[n]=="boolean")return M0[n];const i=document.createElement(e[n]||"div");return n="on"+n,M0[n]=n in i}})();function TW(e,t,n){let i=t;for(;i;){const r=pW(e,i,n);if(r)return r;i=i.parentElement}return null}function Hue(e,t){return!t||!e?!1:zue(t).indexOf(e)>=0}function Gue(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function zue(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Gue(t)}function Uue(e,t,n,i){const r=DW(n);let s;r!=null&&(s={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,s)}var DW=e=>{const t=Vue.includes(e),n=Bue.includes(e);if(t)return!0;if(n)return!1},ge=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new nd),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return Wue(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?Uue(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}const s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return H3(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Wue(e){return e.__addEventListener!==void 0}var jue=/[&<>"']/g,$ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function kf(e){return e?.toString().toString()??null}function KC(e){return kf(e)?.replace(jue,t=>$ue[t])??null}var que={resizable:!0,sortable:!0},Kue=0;function AW(){return Kue++}function Ec(e){return e instanceof Cd}var Cd=class extends ge{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=AW(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new nd,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=KC(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);const r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ie(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=Ie(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const i=e.recreateColDef(this.colDef);this.setColDef(i,i,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return tt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??que[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return tt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Tn(this.sort)}isSorting(){return Ie(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return Re(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return tt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Tn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Tn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&Er(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ir(e){return e instanceof YC}var YC=class extends ge{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=AW(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)Ec(t)?e(t):ir(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{Ec(t)?e.push(t):ir(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,o=i.length;s<o;s++){const a=i[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{ir(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Yue={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function MN(e,t,n){const i={},r=e.gos;return Object.assign(i,r.get("defaultColGroupDef")),Object.assign(i,t),r.validateColDef(i,n),i}var Xue=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=NT(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){const r=String(i);return e&&n>0&&Re(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}n++}}},Xw=Object.freeze([]);function rn(e){if(e?.length)return e[e.length-1]}function wd(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function iC(e,t){if(e)for(const n of e)t(n)}function $s(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function _N(e,t,n){for(let i=0;i<t.length;i++)$s(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var ES="ag-Grid-AutoColumn",PW="ag-Grid-SelectionColumn",IW="ag-Grid-RowNumbersColumn";function FW(e){const t=[],n=i=>{for(let r=0;r<i.length;r++){const s=i[r];Ec(s)?t.push(s):ir(s)&&n(s.getChildren())}};return n(e),t}function _a(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function Qw(e,t,n){const i={};if(!t)return;$a(null,t,s=>{i[s.getInstanceId()]=s}),n&&$a(null,n,s=>{i[s.getInstanceId()]=null});const r=Object.values(i).filter(s=>s!=null);e.context.destroyBeans(r)}function ZP(e){return e.getId().startsWith(ES)}function Oc(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(PW)??!1}function oc(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(IW)??!1}function Que(e){return Oc(e)||oc(e)}function Zw(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Zue(e,t){return wd(e,t,(n,i)=>n.getColId()===i.getColId())}function Jue(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Bh(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function MW(e,t){const n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var ede=(e,t)=>(n,i)=>{const r={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],s=!0),Ie(i)&&e[i]!==void 0&&(r.value2=e[i],s=!0)),!s&&t&&(t[n]!==void 0&&(r.value1=t[n]),Ie(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function tde(e,t=null,n,i,r){const s=new Xue,{existingCols:o,existingGroups:a,existingColKeys:l}=nde(i);s.addExistingKeys(l);const u=_W(e,t,0,n,o,s,a,r),{colGroupSvc:h}=e,p=h?.findMaxDepth(u,0)??0,g=h?h.balanceColumnTree(u,0,p,s):u;return $a(null,g,(C,S)=>{ir(C)&&C.setupExpandable(),C.originalParent=S}),{columnTree:g,treeDepth:p}}function nde(e){const t=[],n=[],i=[];return e&&$a(null,e,r=>{if(ir(r)){const s=r;n.push(s)}else{const s=r;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function _W(e,t,n,i,r,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let h=0;h<u.length;h++){const p=t[h];l&&lde(p)?u[h]=l.createProvidedColumnGroup(i,p,n,r,s,o,a):u[h]=ide(e,i,p,r,s,a)}return u}function ide(e,t,n,i,r,s){const o=sde(n,i);o&&i?.splice(o.idx,1);let a=o?.column;if(a){const l=KT(e,n,a.getColId());a.setColDef(l,n,s),rde(e,a,l,s)}else{const l=r.getUniqueKey(n.colId,n.field),u=KT(e,n,l);a=new Cd(u,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function kW(e,t,n,i,r,s,o,a){const{sortSvc:l,pinnedCols:u,colFlex:h}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),s!==void 0&&u?.setColPinned(t,s),o!==void 0&&h?.setColFlex(t,o)}function rde(e,t,n,i){kW(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const s=t.getActualWidth();t.setActualWidth(s,i)}}function sde(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function KT(e,t,n,i){const{gos:r,dataTypeSvc:s}=e,o={},a=r.get("defaultColDef");Er(o,a,!1,!0);const l=ode(e,o,t,n);l&&ade(e,l,o);const u=o.cellDataType;Er(o,t,!1,!0),u!==void 0&&(o.cellDataType=u);const h=r.get("autoGroupColumnDef"),p=Lo(r);return t.rowGroup&&h&&p&&Er(o,{sort:h.sort,initialSort:h.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),r.validateColDef(o,n,i),o}function ode(e,t,n,i){const r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),s=n.type??r??t.type;return t.type=s,s?Zw(s):void 0}function ade(e,t,n){if(!t.length)return;const i=Object.assign({},Yue),r=e.gos.get("columnTypes")||{};for(const s of Object.keys(r)){const o=r[s];s in i?Re(34,{key:s}):(o.type&&Re(35),i[s]=o)}t.forEach(s=>{const o=i[s.trim()];o?Er(n,o,!1,!0):Re(36,{t:s})})}function lde(e){return e.children!==void 0}function $a(e,t,n){if(t)for(let i=0;i<t.length;i++){const r=t[i];ir(r)&&$a(r,r.getChildren(),n),n(r,e)}}function OW(e,t){const n=[],i=[],r=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?r.push(o):a==="left"||a===!0?n.push(o):i.push(o)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function LW(e,t){let n=!0;return $a(null,t,i=>{if(!ir(i))return;const r=i,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];r.getLeafColumns().forEach(g=>{const v=e.indexOf(g);a.push(v)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),h=l-u,p=r.getLeafColumns().length-1;h>p&&(n=!1)}),n}function NW(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function VW(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=NW(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function cde(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=NW(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function ude(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function df(e,t,n,i,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function oo(e,t,n){const{colModel:i,rowGroupColsSvc:r,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:h,environment:p,valueColsSvc:g,eventSvc:v,gos:C}=e,S=i.getColDefCols()??[],R=a?.getColumns();if(!S?.length&&!R?.length)return!1;if(t?.state&&!t.state.forEach)return Re(32),!1;const x=(L,P,_,M,N)=>{if(!L)return;const B=ede(P,t.defaultState),H=B("flex").value1;if(kW(e,L,B("hide").value1,B("sort").value1,B("sortIndex").value1,B("pinned").value1,H,n),H==null){const U=B("width").value1;if(U!=null){const G=L.getColDef().minWidth??p.getDefaultColumnMinWidth();G!=null&&U>=G&&L.setActualWidth(U,n)}}N||!L.isPrimary()||(g?.syncColumnWithState(L,n,B),r?.syncColumnWithState(L,n,B,_),s?.syncColumnWithState(L,n,B,M))},D=(L,P,_)=>{const M=BW(e,n),N=P.slice(),B={},H={},U=[],G=[],J=[];let ie=0;const $=r?.columns.slice()??[],Q=s?.columns.slice()??[];L.forEach(F=>{const X=F.colId;if(X.startsWith(ES)){U.push(F),J.push(F);return}if(Oc(X)){G.push(F),J.push(F);return}const z=_(X);z?(x(z,F,B,H,!1),$s(N,z)):(J.push(F),ie+=1)});const ee=F=>x(F,null,B,H,!1);N.forEach(ee),r?.sortColumns(kN.bind(r,B,$)),s?.sortColumns(kN.bind(s,H,Q)),i.refreshCols(!1);const fe=(F,X,ne=[])=>{X.forEach(z=>{const pe=F(z.colId);$s(ne,pe),x(pe,z,null,null,!0)}),ne.forEach(ee)};return fe(F=>o?.getColumn(F)??null,U,o?.getColumns()?.slice()),fe(F=>a?.getColumn(F)??null,G,a?.getColumns()?.slice()),hde(t,i,C),u.refresh(n),v.dispatchEvent({type:"columnEverythingChanged",source:n}),M(),{unmatchedAndAutoStates:J,unmatchedCount:ie}};l?.start();let{unmatchedAndAutoStates:T,unmatchedCount:k}=D(t.state||[],S,L=>i.getColDefCol(L));if(T.length>0||Ie(t.defaultState)){const L=h?.getPivotResultCols()?.list??[];k=D(T,L,P=>h?.getPivotResultCol(P)??null).unmatchedCount}return l?.finish(),k===0}function dde(e,t){const{colModel:n,autoColSvc:i,selectionColSvc:r,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),u=FW(l),h=[];let p=1e3,g=1e3;const v=D=>{const T=HW(D);Tn(T.rowGroupIndex)&&T.rowGroup&&(T.rowGroupIndex=p++),Tn(T.pivotIndex)&&T.pivot&&(T.pivotIndex=g++),h.push(T)};i?.getColumns()?.forEach(v),r?.getColumns()?.forEach(v),u?.forEach(v),oo(e,{state:h},t);const C=i?.getColumns()??[],x=[...r?.getColumns()??[],...C,...a].map(D=>({colId:D.colId}));oo(e,{state:x,applyOrder:!0},t),s.dispatchEvent(tt(o,{type:"columnsReset",source:t}))}function BW(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},u=Jw(e),h={};return u.forEach(p=>{h[p.colId]=p}),()=>{const p=(P,_,M,N)=>{const B=_.map(N),H=M.map(N);if(wd(B,H))return;const G=new Set(_);M.forEach(ie=>{G.delete(ie)||G.add(ie)});const J=[...G];a.dispatchEvent({type:P,columns:J,column:J.length===1?J[0]:null,source:t})},g=P=>{const _=[];return s.forAllCols(M=>{const N=h[M.getColId()];N&&P(N,M)&&_.push(M)}),_},v=P=>P.getColId();p("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],v),p("columnPivotChanged",l.pivotColumns,i?.columns??[],v);const S=g((P,_)=>{const M=P.aggFunc!=null,N=M!=_.isValueActive(),B=M&&P.aggFunc!=_.getAggFunc();return N||B});S.length>0&&ude(a,"columnValueChanged",S,t),df(a,g((P,_)=>P.width!=_.getActualWidth()),!0,t),VW(a,g((P,_)=>P.pinned!=_.getPinned()),t),cde(a,g((P,_)=>P.hide==_.isVisible()),t);const k=g((P,_)=>P.sort!=_.getSort()||P.sortIndex!=_.getSortIndex());k.length>0&&o?.dispatchSortChangedEvents(t,k);const L=Jw(e);pde(u,L,t,s,a)}}function Jw(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(Tn(r)||!t.isAlive())return[];const s=n?.columns,o=i?.columns,a=[],l=h=>{const p=h.isRowGroupActive()&&s?s.indexOf(h):null,g=h.isPivotActive()&&o?o.indexOf(h):null,v=h.isValueActive()?h.getAggFunc():null,C=h.getSort()!=null?h.getSort():null,S=h.getSortIndex()!=null?h.getSortIndex():null;a.push({colId:h.getColId(),width:h.getActualWidth(),hide:!h.isVisible(),pinned:h.getPinned(),sort:C,sortIndex:S,aggFunc:v,rowGroup:h.isRowGroupActive(),rowGroupIndex:p,pivot:h.isPivotActive(),pivotIndex:g,flex:h.getFlex()??null})};t.forAllCols(h=>l(h));const u=new Map(t.getCols().map((h,p)=>[h.getColId(),p]));return a.sort((h,p)=>{const g=u.has(h.colId)?u.get(h.colId):-1,v=u.has(p.colId)?u.get(p.colId):-1;return g-v}),a}function HW(e){const t=(C,S)=>C??S??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let u=t(n.rowGroupIndex,n.initialRowGroupIndex),h=t(n.rowGroup,n.initialRowGroup);u==null&&(h==null||h==!1)&&(u=null,h=null);let p=t(n.pivotIndex,n.initialPivotIndex),g=t(n.pivot,n.initialPivot);p==null&&(g==null||g==!1)&&(p=null,g=null);const v=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:a,flex:l,rowGroup:h,rowGroupIndex:u,pivot:g,pivotIndex:p,aggFunc:v}}function hde(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),fde(t.cols,i,t,n)}function fde(e,t,n,i){if(e==null)return;let r=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(r.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(ES)?r.splice(o++,0,a):r.push(a)}),r=OW(r,i),!LW(r,n.getColTree())){Re(39);return}e.list=r}function pde(e,t,n,i,r){const s={};t.forEach(h=>s[h.colId]=h);const o={};e.forEach(h=>{s[h.colId]&&(o[h.colId]=!0)});const a=e.filter(h=>o[h.colId]),l=t.filter(h=>o[h.colId]),u=[];l.forEach((h,p)=>{const g=a&&a[p];if(g&&g.colId!==h.colId){const v=i.getCol(g.colId);v&&u.push(v)}}),u.length&&r.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:n})}var kN=(e,t,n,i)=>{const r=e[n.getId()],s=e[i.getId()],o=r!=null,a=s!=null;if(o&&a)return r-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),u=t.indexOf(i),h=l>=0,p=u>=0;return h&&p?l-u:h?-1:1},gde=class extends ge{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(Bh(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Bh(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,u=this.colDefs?BW(t,e):void 0;n?.expire();const h=this.colDefCols?.list,p=this.colDefCols?.tree,g=tde(t,this.colDefs,!0,p,e);Qw(t,this.colDefCols?.tree,g.columnTree);const v=g.columnTree,C=g.treeDepth,S=FW(v),R={};S.forEach(x=>R[x.getId()]=x),this.colDefCols={tree:v,treeDepth:C,list:S,map:R},r?.extractCols(e,h),s?.extractCols(e,h),o?.extractCols(e,h),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),u&&(this.changeEventsDispatching=!0,u(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:u,colViewport:h,eventSvc:p}=this.beans,g=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,i,r],g);const v=Sue(this.gos,this.showingPivotResult);(!e||v)&&this.restoreColOrder(g),this.positionLockedCols(g),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(g),u.clear(),h.clear(),!wd(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:i,list:r,tree:s,treeDepth:o}=n??t;return this.cols={list:r.slice(),map:{...i},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,i=this.isPivotMode()&&!this.showingPivotResult,r=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const u=ZP(l);if(i){const h=o?.includes(l);return u||h||r&&Oc(l)||s&&oc(l)}else return u||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){oo(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(p=>e.map[p.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const i=p=>{const g=p.getOriginalParent();return g?g.getChildren().length>1?!0:i(g):!1};if(!n.some(p=>i(p))){const p=new Set(n);for(const g of e.list)p.has(g)||n.push(g);e.list=n;return}const r=new Map;for(let p=0;p<n.length;p++){const g=n[p];r.set(g,p)}const s=e.list.filter(p=>!r.has(p));if(s.length===0){e.list=n;return}const o=(p,g)=>{const v=g?g.getOriginalParent():p.getOriginalParent();if(!v)return null;let C=null,S=null;for(const R of v.getChildren())if(!(R===g||R===p)){if(R instanceof Cd){const x=r.get(R);if(x==null)continue;(C==null||C<x)&&(C=x,S=R);continue}R.forEachLeafColumn(x=>{const D=r.get(x);D!=null&&(C==null||C<D)&&(C=D,S=x)})}return S??o(p,v)},a=[],l=new Map;for(const p of s){const g=o(p,null);if(g==null){a.push(p);continue}const v=l.get(g);v===void 0?l.set(g,p):Array.isArray(v)?v.push(p):l.set(g,[v,p])}const u=new Array(e.list.length);let h=u.length-1;for(let p=a.length-1;p>=0;p--)u[h--]=a[p];for(let p=n.length-1;p>=0;p--){const g=n[p],v=l.get(g);if(v)if(Array.isArray(v))for(let C=v.length-1;C>=0;C--){const S=v[C];u[h--]=S}else u[h--]=v;u[h--]=g}e.list=u}positionLockedCols(e){e.list=OW(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=Bh(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){Qw(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;iC(this.colDefCols?.list,e),iC(n?.columns?.list,e),iC(i?.columns?.list,e),iC(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<i.length;r++)if(MW(i[r],e))return i[r];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},GW=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},Of=class extends ge{};function pv(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var gv=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.toggleCss(r,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},mde=0,Ye=null,gn=class extends ge{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=mde++,this.cssManager=new gv(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(oW):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const r=this[t];if(r===Ye)this[t]=i??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;const r=this.createComponentFromElement(i,s=>{const o=s.getGui();if(o)for(const a of i.attributes??[])o.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);r.addItems(s)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,r=this.getDataRefAttribute(e),s=i.indexOf("AG-")===0,o=s?this.componentSelectors.get(i):null;let a=null;if(o){const l=n&&r?n[r]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=$P(e):i=ei(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){const s=t[r];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),KP(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;due(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;kn(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function zW(e){return typeof e=="object"&&!!e.component}var Ht=class wg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new wg(n=>{let i=t.length;const r=new Array(i);t.forEach((s,o)=>{s.then(a=>{r[o]=a,i--,i===0&&n(r)})})}):wg.resolve()}static resolve(t=null){return new wg(n=>n(t))}then(t){return new wg(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function vde(e){return e?e.prototype&&"getGui"in e.prototype:!1}function UW(e,t,n,i){const{name:r}=n;let s,o,a,l,u,h;if(t){const p=t,g=p[r+"Selector"],v=g?g(i):null,C=S=>{typeof S=="string"?s=S:S!=null&&S!==!0&&(e.isFrameworkComponent(S)?a=S:o=S)};v?(C(v.component),l=v.params,u=v.popup,h=v.popupPosition):C(p[r])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:h}}var yde=class extends ge{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:h,popupFromSelector:p,popupPositionFromSelector:g}=UW(this.beans.frameworkOverrides,e,t,i),v,C;const S=T=>{const k=this.registry.getUserComponent(s,T);k&&(l=k.componentFromFramework?void 0:k.component,u=k.componentFromFramework?k.component:void 0,v=k.params,C=k.processParams)};if(a!=null&&S(a),l==null&&u==null&&n!=null&&S(n),l&&o&&!vde(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!u){const{validation:T}=this.beans;r&&(a!==n||!n)?a?T?.isProvidedUserComp(a)||sn(50,{compName:a}):n?T||sn(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):sn(216,{name:s}):n&&!T&&sn(146,{comp:n});return}const R=this.mergeParams(e,t,i,h,v,C),x=l==null,D=l??u;return{componentFromFramework:x,componentClass:D,params:R,type:t,popupFromSelector:p,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(D,x,R,t)}}newAgStackInstance(e,t,n,i){const r=!t;let s;r?s=new e:s=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);const o=s.init?.(n);return o==null?Ht.resolve(s):o.then(()=>s)}mergeParams(e,t,n,i=null,r,s){const o={...n,...r},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const u=l(n);Er(o,u)}else typeof l=="object"&&Er(o,l);return Er(o,i),s?s(o):o}},Cde={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},wde={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},bde={name:"headerComponent",optionalMethods:["refresh"]},Sde={name:"innerHeaderComponent"},Ede={name:"innerHeaderGroupComponent"},Rde={name:"headerGroupComponent"},xde={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Tde={name:"loadingCellRenderer",cellRenderer:!0},Dde={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Ade={name:"loadingOverlayComponent",optionalMethods:["refresh"]},Pde={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Ide={name:"tooltipComponent"},JP={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Fde={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Mde={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},_de={name:"loadingCellRenderer",cellRenderer:!0},kde={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Ode={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Lde(e,t){return e.getCompDetailsFromGridOptions(wde,"agDragAndDropImage",t,!0)}function Nde(e,t,n){return e.getCompDetails(t,bde,"agColumnHeader",n)}function Vde(e,t,n){return e.getCompDetails(t,Sde,void 0,n)}function Bde(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Rde,"agColumnGroupHeader",t)}function Hde(e,t,n){return e.getCompDetails(t,Ede,void 0,n)}function Gde(e,t){return e.getCompDetailsFromGridOptions(Mde,void 0,t,!0)}function zde(e,t){return e.getCompDetailsFromGridOptions(_de,"agLoadingCellRenderer",t,!0)}function Ude(e,t){return e.getCompDetailsFromGridOptions(kde,"agGroupRowRenderer",t,!0)}function Wde(e,t){return e.getCompDetailsFromGridOptions(Ode,"agDetailCellRenderer",t,!0)}function ON(e,t,n){return e.getCompDetails(t,xde,void 0,n)}function LN(e,t,n){return e.getCompDetails(t,Tde,"agSkeletonCellRenderer",n,!0)}function WW(e,t,n){return e.getCompDetails(t,Dde,"agCellEditor",n,!0)}function jde(e,t,n,i){const r=t.filter;return zW(r)&&(t={filter:r.component,filterParams:t.filterParams}),e.getCompDetails(t,JP,i,n,!0)}function $de(e,t,n){return e.getCompDetails(t,Cde,"agDateInput",n,!0)}function qde(e,t){return e.getCompDetailsFromGridOptions(Ade,"agLoadingOverlay",t,!0)}function Kde(e,t){return e.getCompDetailsFromGridOptions(Pde,"agNoRowsOverlay",t,!0)}function Yde(e,t){return e.getCompDetails(t.colDef,Ide,"agTooltipComponent",t,!0)}function Xde(e,t,n,i){return e.getCompDetails(t,Fde,i,n)}function jW(e,t){return UW(e,t,JP)}function _0(e,t,n){return e.mergeParams(t,JP,n)}function Em(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var $W=new Set,eb={},Hu={},XC,qW=!1,KW=!1,Qde=!1;function Zde(e){const[t,n]=e.version.split(".")||[],[i,r]=XC.split(".")||[];return t===i&&n===r}function Jde(e){XC||(XC=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?Zde(e)||Oh(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${XC}.`)):Oh(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||Oh(`${n.message}`)}}function Rm(e,t,n=!1){n||(qW=!0),Jde(e);const i=e.rowModels??["all"];$W.add(e);let r;t!==void 0?(KW=!0,Hu[t]===void 0&&(Hu[t]={}),r=Hu[t]):r=eb,i.forEach(s=>{r[s]===void 0&&(r[s]={}),r[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Rm(s,t,n))}function ehe(e){delete Hu[e]}function YT(e,t,n){const i=r=>!!eb[r]?.[e]||!!Hu[t]?.[r]?.[e];return i(n)||i("all")}function eI(){return KW}function the(e,t){const n=Hu[e]??{};return[...Object.values(eb.all??{}),...Object.values(n.all??{}),...Object.values(eb[t]??{}),...Object.values(n[t]??{})]}function nhe(){return new Set($W)}function ihe(e,t){const n=Hu[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function rhe(){return qW}function she(){return Qde}var ohe=class{static register(e){Rm(e,void 0)}static registerModules(e){e.forEach(t=>Rm(t,void 0))}},ahe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function lhe(e){return typeof e=="object"&&!!e.getComp}var che=class extends ahe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),ehe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},uhe=class extends ge{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new YW,this.rowValidations=new XW,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),i=e.pinnedSibling,r=t&&i&&this.getEditRow(i);if(!n&&!r)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:u},h)=>{u!==qs&&(l[h.getColId()]=u)});return n&&o(n,s),r&&o(r,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,i)=>t.set(i,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const i=new Map;t.forEach((r,s)=>i.set(s,{...r})),this.edits.set(n,i)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const i=this._getEdit(e);i&&(i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed")}else this.getEditRow(t)?.forEach(i=>{i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,i)=>{for(const r of n.keys())t.push({rowNode:i,column:r,...n.get(r)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:i}=e,{withOpenEditor:r}=t;if(n){const s=this.getEditRow(n,t);return s?i?r?this.getEdit(e)?.state==="editing":s.has(i)??!1:s.size!==0?r?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return r?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{editorValue:void 0,pendingValue:qs,sourceValue:this.beans.valueSvc.getValue(i,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},YW=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},XW=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function dhe(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function QW(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function hhe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ie(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function fhe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function phe(e){let t=0,n;const{pinnedRowModel:i,rowModel:r,pageBounds:s}=e;return i?.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=s.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function ghe(e){let t,n=null;const{pinnedRowModel:i,pageBounds:r}=e,s=i?.getPinnedBottomRowCount(),o=i?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function nl(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function bg(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function mhe(e,t,n){const{rowModel:i,pinnedRowModel:r}=e;let s;return s??(s=i?.getRowNode(t)),n?s??(s=r?.getPinnedRowById(t,n)):(s??(s=r?.getPinnedRowById(t,"top")),s??(s=r?.getPinnedRowById(t,"bottom"))),s}function tb(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(n===0)return i==="top"?null:i==="bottom"&&o.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=i?void 0:o.getRow(n);return ZW(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function NN(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(vhe(e,t))return i==="bottom"?null:i==="top"&&o.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=i?void 0:o.getRow(n);return ZW(e,a)??{rowIndex:n+1,rowPinned:i}}function ZW(e,t,n=!1){const{gos:i,rowRenderer:r}=e;if(!t?.sticky||!vW(i))return;const s=r.getStickyTopRowCtrls(),o=r.getStickyBottomRowCtrls(),a=!o.some(p=>p.rowNode.rowIndex===t.rowIndex),l=a?s:o,u=(n?-1:1)*(a?-1:1);let h;for(let p=0;p<l.length;p++)if(l[p].rowNode.rowIndex===t.rowIndex){h=l[p+u];break}return h?{rowIndex:h.rowNode.rowIndex,rowPinned:null}:void 0}function vhe(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:s}=e;return n==="top"?(r?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(r?.getPinnedBottomRowCount()??0)-1<=i:s.getLastRow()<=i}function tI(e,t={}){const{rowIndex:n,rowId:i,rowCtrl:r,rowPinned:s}=t;if(r)return r;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(i?l=mhe(e,i,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function Rn(e,t={}){const{cellCtrl:n,colId:i,columnId:r,column:s}=t;if(n)return n;const o=e.colModel.getCol(i??r??XT(s)),a=t.rowCtrl??tI(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const u=t.rowNode??a?.rowNode;if(u)return e.rowRenderer.getCellCtrls([u],[o])?.[0]}function VN(e){const{editSvc:t}=e;t?.isBatchEditing()?Hh(e):t?.stopEditing(void 0,{source:"api"})}function yhe(e,t,n){const{gos:i,popupSvc:r}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(zT(a)===null){VN(t);return}let l=n.some(u=>u.contains(a))&&u5(i,a);l||(l=!!r&&(r.getActivePopups().some(u=>u.contains(a))||r.isElementWithinCustomPopup(a))),l||VN(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function XT(e){if(e)return typeof e=="string"?e:e.getColId()}var qs=Symbol("unedited");function JW(e,t={}){const n=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const r of i){const s=r.comp?.getCellEditor();s&&n.push({ctrl:r,editor:Em(s)})}return n}var Che=(e,t={})=>JW(e,t).map(n=>n.editor);function whe(e,t,n,i,r,s){t.length===0&&n?.rowNode&&n?.column&&hf(e,n,{key:i,event:r,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:u,column:h}=n??{};for(const p of t){const{rowNode:g,column:v}=p,C=Rn(e,p);if(!C){if(g&&v){const R=o.getValue(v,g,void 0,"api"),T=(n?.rowNode===g&&n?.column===v&&i||void 0)??a?.getCellDataValue(p,!1)??o.getValueForDisplay(v,g)?.value??R??qs;l?.setEdit(p,{pendingValue:T,sourceValue:R,state:"editing"})}continue}const S=s&&u===C.rowNode&&C.column===h;hf(e,{rowNode:u,column:C.column},{key:S?i:null,event:S?r:null,cellStartedEdit:S})}}function ac({pendingValue:e,sourceValue:t}){return e===qs&&(e=t),e!==t}function hf(e,t,n){const{key:i,event:r,cellStartedEdit:s,silent:o}=n??{},a=Rn(e,t),l=a?.comp?.getCellEditor(),u=t5(e,t,i,s),h=e.editModelSvc?.getEdit(t);let p=i?.length===1?i:u.value;if(p===void 0&&(p=h?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:p,state:"editing"}),l){l.refresh?.(u);return}const g=t.column.getColDef(),v=WW(e.userCompFactory,g,u),C=v?.popupFromSelector!=null?v.popupFromSelector:!!g.cellEditorPopup,S=v?.popupPositionFromSelector!=null?v.popupPositionFromSelector:g.cellEditorPopupPosition;n5(v.params,r),a&&(a.editCompDetails=v,a.comp?.setEditDetails(v,C,S,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,r,"cellEditingStarted"))}function e5(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function t5(e,t,n,i){const{valueSvc:r,gos:s,editSvc:o}=e,a=Rn(e,t),l=t.rowNode?.rowIndex??void 0,u=o?.isBatchEditing(),h=e.colModel.getCol(t.column.getId()),{rowNode:p,column:g}=t,v=a.comp?.getCellEditor(),C=o?.getCellDataValue(t,!1)??(v?e5(v)?.editorValue:void 0),S=C===qs?r.getValueForDisplay(h,p)?.value:C;return tt(s,{value:S,eventKey:n??null,column:g,colDef:g.getColDef(),rowIndex:l,node:p,data:p.data,cellStartedEdit:i??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:R=>{o.stopEditing(t,{source:u?"ui":"api",suppressNavigateAfterEdit:R}),nb(e,t)},eGridCell:a?.eGui,parseValue:R=>r.parseValue(h,p,R,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function QT(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((i,r)=>{i.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===qs)||!ac(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:r,column:o})})})}function bhe(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:i,cellStartedEdit:r}=t.editCompDetails.params,{column:s}=t,o=t5(e,t,i,r),a=s.getColDef(),l=WW(e.userCompFactory,a,o);n.refresh(n5(l.params,i))}function n5(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Tu(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const i=Rn(e,n);if(!i)return;const r=i.comp.getCellEditor();if(!r)return;const{editorValue:s,editorValueExists:o}=e5(r);QC(e,n,t,s,void 0,!o)})}function QC(e,t,n,i,r,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:u}=t;if(!(l&&u))return;const p=!!Rn(e,t)?.comp?.getCellEditor();let g=o.getEdit(t,!0);g?.sourceValue||(g=o.setEdit(t,{sourceValue:a.getValue(u,l,void 0,"api"),pendingValue:qs,state:p?"editing":"changed"})),o.setEdit(t,{editorValue:s?g.sourceValue:i,state:p?"editing":"changed"}),n&&She(e,t)}function She(e,t){const{editModelSvc:n}=e,i=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:i?.editorValue})}function Hh(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(i=>nb(e,i,n))}function nb(e,t,n){const{editSvc:i,editModelSvc:r}=e,{rowNode:s,column:o}=t,a=Rn(e,t);if(!a){r?.hasEdits(t)&&s&&o&&r?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor())return;const u=l?.getCellEditor()?.getValidationErrors?.(),h=r?.getCellValidationModel();u?.length?h?.setCellValidation(t,{errorMessages:u}):h?.clearCellValidation(t),r?.getEdit(t)&&r?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const p=r?.getEdit(t);p?.state==="changed"&&!n?.silent&&i?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:ac(p),newValue:p?.pendingValue,oldValue:p?.sourceValue})}function ad(e){const t=JW(e),n=new YW,{ariaAnnounce:i,localeSvc:r,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",u=H3(r)("ariaValidationErrorPrefix","Cell Editor Validation");for(const p of t){const{ctrl:g,editor:v}=p,{rowNode:C,column:S}=g,R=v.getValidationErrors?.()??[],x=v.getValidationElement?.(!1)||!v.isPopup?.()&&g.eGui;if(x){const D=R!=null&&R.length>0,T=D?R.join(". "):"";Xce(x,D),D&&i.announceValue(`${u} ${R}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(T):x.classList.toggle("invalid",D)}R?.length>0&&n.setCellValidation({rowNode:C,column:S},{errorMessages:R})}Tu(e,!1),s?.setCellValidationModel(n);const h=new Set;for(const{ctrl:p}of t)h.add(p.rowCtrl);if(a){const p=Ehe(e);s?.setRowValidationModel(p)}for(const p of h.values()){p.rowEditStyleFeature?.applyRowStyles();for(const g of p.getAllCellCtrls())g.tooltipFeature?.refreshTooltip(!0),g.editorTooltipFeature?.refreshTooltip(!0),g.editStyleFeature?.applyCellStyles?.()}}var Ehe=e=>{const t=new XW,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(const r of i.keys()){const s=i.get(r);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=r;for(const h of s.keys()){const p=s.get(h);if(!p)continue;const{editorValue:g,pendingValue:v,sourceValue:C}=p,S=g??(v===qs?void 0:v)??C;o.push({column:h,colId:h.getColId(),rowIndex:a,rowPinned:l,oldValue:C,newValue:S})}const u=n?.({editorsState:o})??[];u.length>0&&t.setRowValidation({rowNode:r},{errorMessages:u})}return t};function Rhe(e){ad(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((i,r)=>{i.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:r.rowIndex,rowPinned:r.rowPinned,messages:s??null})})}),n}var xhe="ag-column-first",The="ag-column-last";function i5(e,t,n,i){return Tn(e)?[]:Ahe(e.headerClass,e,t,n,i)}function r5(e,t,n){e.toggleCss(xhe,n.isColAtEdge(t,"first")),e.toggleCss(The,n.isColAtEdge(t,"last"))}function Dhe(e,t,n,i){return tt(t,{colDef:e,column:n,columnGroup:i})}function Ahe(e,t,n,i,r){if(Tn(e))return[];let s;if(typeof e=="function"){const o=Dhe(t,n,i,r);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function mv(e){return!!(e.rowPinned&&e.pinnedSibling)}function As(e,t,n,i){const r=t==="top";if(!n)return As(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const l=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return As(e,t,n,r?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===i){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var ue={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},ZT=!1,ib=0;function Phe(e){ib>0||(e.addEventListener("keydown",rb),e.addEventListener("mousedown",rb))}function Ihe(e){ib>0||(e.removeEventListener("keydown",rb),e.removeEventListener("mousedown",rb))}function rb(e){const t=ZT,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(ZT=n)}function Fhe(e){const t=Fi(e);return Phe(t),ib++,()=>{ib--,Ihe(t)}}function Mhe(){return ZT}function _he(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===ue.TAB){const r=i.shiftKey;bd(e,n,!1,r)||ff(e,r)&&i.preventDefault()}}})}function Gh(e,t,n=!1){const i=uue;let r=eW;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>sa(l)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?((l,u)=>l.filter(h=>u.indexOf(h)===-1))(s,o):s}function ld(e,t=!1,n=!1,i=!1){const r=Gh(e,i?".ag-tab-guard":null,n),s=t?rn(r):r[0];return s?(s.focus({preventScroll:!0}),!0):!1}function bd(e,t,n,i){const r=Gh(t,n?':not([tabindex="-1"])':null),s=Nn(e);let o;n?o=r.findIndex(l=>l.contains(s)):o=r.indexOf(s);const a=o+(i?-1:1);return a<0||a>=r.length?null:r[a]}function s5(e,t=5){let n=0;for(;e&&zT(e)===null&&++n<=t;)e=e.parentElement;return zT(e)===null?null:e}function khe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Gu(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function RS(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function ff(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function Ohe(e,t,n,{rowNode:i,column:r},s){return tt(e.gos,{type:n,node:i,data:i.data,value:s,column:r,colDef:r.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function Lhe(e,t=!1){return e===ue.DELETE?!0:!t&&e===ue.BACKSPACE?Q3():!1}var Nhe=class extends ge{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case ue.ENTER:this.onEnterKeyDown(e);break;case ue.F2:this.onF2KeyDown(e);break;case ue.ESCAPE:this.onEscapeKeyDown(e);break;case ue.TAB:this.onTabKeyDown(e);break;case ue.BACKSPACE:case ue.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ue.DOWN:case ue.UP:case ue.RIGHT:case ue.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const r=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(e.key===ue.LEFT||e.key===ue.RIGHT?n?.ensureColumnVisible(i.column):n?.ensureRowVisible(i.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:r}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=i;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Lhe(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&Sc(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:u}=n,h=this.beans.valueSvc.getDeleteValue(u,r);r.setDataValue(u,h,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:r}=n,s=i?.isEditing(t),o=t.rowNode,a=i?.isRowEditing(o),l=u=>{i?.startEditing(u,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(ad(n),i?.checkNavWithValidation(void 0,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?i?.stopEditing({rowNode:o},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const u=e.shiftKey?ue.UP:ue.DOWN;r?.navigateToNextCell(null,u,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===ue.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(ad(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:r}=this;if(n||i?.isEditing(r,{withOpenEditor:!0}))return;if(e.key===ue.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(r,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(r))return;i?.startEditing(r,{startedEdit:!0,event:e,source:"api"}),!r.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Vu(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}};function o5(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}function BN({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var Vhe=class extends ge{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!ja(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:r,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:u}=a;n&&o&&n.getCellRangeCount(u)>1&&n.intersectLastRange(!0);const h=a.createEvent(e,"cellClicked");t.dispatchEvent(h);const p=l.getColDef();if(p.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{p.onCellClicked(h)})},0),r?.getState(a)!=="editing"){const g=i?.isEditing(),v=r?.getCellValidationModel().getCellValidationMap().size??0,C=r?.getRowValidationModel().getRowValidationMap().size??0;if(g&&(v>0||C>0))return;i?.shouldStartEditing(a,e)?i?.startEditing(a,{event:e}):i?.shouldStopEditing(a,e)&&i?.stopEditing(a)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:s,editSvc:o,editModelSvc:a}=n,l=t.getColDef(),u=i.createEvent(e,"cellDoubleClicked");if(r.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const h=o?.isEditing(),p=a?.getCellValidationModel().getCellValidationMap().size??0,g=a?.getRowValidationModel().getRowValidationMap().size??0;if(h&&(p>0||g>0))return;o?.startEditing(i,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:h,gos:p,editSvc:g}=o;if(this.isRightClickInExistingRange(e))return;const v=l&&!l.isEmpty(),C=this.containsWidget(r),{cellPosition:S,column:R}=s,x=oc(R);if(u&&x&&!u.handleMouseDownOnCell(S,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!v){const D=g?.isEditing(s),k=p.get("enableCellTextSelection")&&e.defaultPrevented,L=(md()||k)&&!D&&!WP(r)&&!C;s.focusCell(L,e)}if(i&&v&&!h.isCellFocused(S)){e.preventDefault();const D=h.getFocusedCell();if(D){const{column:T,rowIndex:k,rowPinned:L}=D;g?.isEditing(D)&&g?.stopEditing(D),h.setFocusedCell({column:T,rowIndex:k,rowPinned:L,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!C){if(l){x&&e.preventDefault();const D=BN(this.beans,e)&&x;if(i)l.extendLatestRangeToCell(S);else if(!D){const T=t||n;l.setRangeToCell(S,T)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=BN(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return Nu(e,"ag-selection-checkbox",3)||Nu(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},Bhe=class extends ge{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();wd(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e;const s=e.getPinned();for(let o=0;r&&o<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||Tn(r)||s!==r.getPinned()));o++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=rn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Bu(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Hhe="ag-cell",Ghe="ag-cell-auto-height",zhe="ag-cell-normal-height",Uhe="ag-cell-focus",Whe="ag-cell-first-right-pinned",jhe="ag-cell-last-left-pinned",$he="ag-cell-not-inline-editing",qhe="ag-cell-wrap-text",sb="cellCtrl";function a5(e,t){return TW(e,t,sb)}var Khe=0,zh=class extends ge{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:r}=e;this.instanceId=r+"-"+Khe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new Bhe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new Vhe(this,e,this.column),this.keyboardListener=new Nhe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Sc(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),oc(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),ad(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,r,s,o){this.comp=e,this.eGui=t,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:r}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=LN(n,s,o);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const u=new Ht(h=>{l=h});return this.addManagedListeners(r,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:u}}return{loadingComp:a,onReady:Ht.resolve()}}showValue(e,t){const{beans:n,column:i,rowNode:r,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const u=r.stub&&r.groupData?.[i.getId()]==null,h=i.getColDef();if(u||this.isCellRenderer()){const p=this.createCellRendererParams();!u||oc(i)?l=ON(o,h,p):l=LN(o,h,p)}if(!l&&!u&&n.findSvc?.isMatch(r,i)){const p=this.createCellRendererParams();l=ON(o,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},p)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(r,{checkSiblings:!0})){const p=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});p&&(p.compDetails?l=p.compDetails:p.valueToDisplay&&(a=p.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&ll(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&mv(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=$w(t),r=Oc(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&Vh(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return tt(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,i).value,setValue:h=>l?.setDataValue({rowNode:i,column:n},h)||o.setValue(i,n,h),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:r.getParentOfValue(),registerRowDragger:(h,p,g,v)=>this.registerRowDragger(h,p,v),setTooltip:(h,p)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(h,p),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const i=this.column.getColDef(),r=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,s=e||r||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!n,!1);const u=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!u&&i.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;sd(this.beans.gos,t,sb,this),e.addDestroyFunc(()=>sd(this.beans.gos,t,sb,null))}createEvent(e,t){const{rowNode:n,column:i,value:r,beans:s}=this;return Ohe(s,e,t,{rowNode:n,column:i},r)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;r5(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);Y3(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const r=()=>{if(!this.isAlive())return;const s=i.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(r,0);return}r()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(oc(this.column)&&(e=!0),is(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(Whe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(jhe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(RS(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(Uhe,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(i){const s=Gh(r,null,!0);s.length&&(r=s[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Wa(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Hhe,!0),e.toggleCss($he,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(Ghe,t),e.toggleCss(zhe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(qhe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Nn(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},l5="__ag_grid_instance";function c5(e,t){t[l5]=e.gridInstanceId}function xm(e,t){return u5(e,t.target)}function u5(e,t){let n=t;for(;n;){const i=n[l5];if(Ie(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function Yhe(e,t){return a5(e,t.target)?.getFocusedCellPosition()??null}function HN(e,t){const n=Yi(e.gos,"normal"),i=t;let r,s;i.clientX!=null||i.clientY!=null?(r=i.clientX,s=i.clientY):(r=i.x,s=i.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),u=a.getHScrollPosition();r+=u.left,s+=l.top}return{x:r,y:s}}var Xhe=class extends ge{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),$s(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),s=this.findCurrentDropTarget(e,r),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,i,t),o!==null&&s===null&&a?.onGridExit?.(u),o===null&&s!==null&&a?.onGridEnter?.(u),this.enterDragTargetIfExists(s,e,n,i,t),s&&l){const{comp:h,promise:p}=l;h?h.setIcon(s.getIconName?s.getIconName():null,!1):p.then(g=>{g&&g.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const h=this.createDropTargetEvent(s,e,n,i,t);s.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const r=(a,l)=>{for(const u of l){const{width:h,height:p,left:g,right:v,top:C,bottom:S}=u.getBoundingClientRect();if(h===0||p===0)return!1;const R=a.clientX>=g&&a.clientX<v,x=a.clientY>=C&&a.clientY<S;if(!R||!x)return!1}return!0};for(const a of n)if(r(e,a)){i=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:i&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const r=bm(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){const o=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this,h=t.clientX-o.left,p=t.clientY-o.top;return tt(u,{event:t,x:h,y:p,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&Tue(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=Lde(n,tt(t,{dragSource:e}));if(!i)return;const r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),c5(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";const s=QP(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(i):Re(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},Qhe=class extends ge{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),$s(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");i&&!o&&(s=a=>{WP(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:bm(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=u=>this.onMouseMove(u,e.eElement),r=u=>this.onMouseUp(u,e.eElement),s=u=>u.preventDefault(),o=u=>{u.key===ue.ESCAPE&&this.cancelDrag(e.eElement)},a=bm(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.addEventListener(i,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.removeEventListener(i,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=Ie(n)?n:4;return o5(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){md()&&Fi(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&i&&e.cancelable&&xm(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function d5(e,t){return e+"_"+t}function Jn(e){return e instanceof Tm}var Tm=class extends ge{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return d5(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Jn(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=rn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Ec(t)?e.push(t):Jn(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Ec(t)?e.push(t):Jn(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Jn(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},JT="row-group-",nI="t-",iI="b-",Zhe=0,cd=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Zhe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:i}=this.beans,r=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,r,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,r,t);this.sibling.__localEventService?.dispatchEvent(a)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,r,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(sn(13),null):this.rowPinned==="top"?nI+this.rowIndex:this.rowPinned==="bottom"?iI+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const s=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=uf(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(JT)&&sn(14,{groupPrefix:JT})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:r,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;const l=r.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:p},data:g,rowIndex:v,rowPinned:C}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:v,rowPinned:C,column:a,colDef:a.colDef,data:g,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o){const p=o.setDataValue({rowNode:this,column:a},t,n);if(p!=null)return p}const u=r.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const h=this.pinnedSibling;return h&&u&&h.dispatchCellChangedEvent(a,t,l),u}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new nd),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new nd),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Re(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function Jhe(e,t,n){return tt(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var efe=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function tfe(e,t){const n=new cd(t);return Object.keys(e).forEach(i=>{efe.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var h5={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},nfe=new Set(Object.values(h5));function Bl(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const i=n.create(n.refreshed),r=n;return r.created=!0,r.promise=i,i}function ife(e,t,n,i,r,s){return t.refresh?.({...n,model:i,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;f5(a,l,i,r,s)}})}function f5(e,t,n,i,r){e?.refresh?.({...t,model:n,state:i,source:r})}function p5(e,t,n){const i=e();i?.created&&i.promise.then(r=>{const s=t();f5(r,i.filterParams,s,n()??{model:s},"ui")})}function GN(e,t,n,i,r,s){let o,a=!1,l;switch(e){case"apply":{const u=i();l=u?.model??null,o={state:u?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:n()};break}}r(o),a?s(l):p5(t,n,i)}function Pi(e,t){return e[t]??null}function rfe(e){return{tag:"div",cls:e}}var sfe=class extends gn{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(rfe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const i=this.getGui();ds(i);let r;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:u,label:h})=>{const p=x=>{this.dispatchLocalEvent({type:u,event:x})};["apply","clear","reset","cancel"].includes(u)||Re(75);const g=u==="apply",C=ei({tag:"button",attrs:{type:g&&t?"submit":"button"},ref:`${u}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${g?" "+o+"-apply-button":""}`,children:h});this.activateTabIndex([C]),g&&(r=C);const S=x=>{x.key===ue.ENTER&&(x.preventDefault(),p(x))},R=this.listeners;C.addEventListener("click",p),R.push(()=>C.removeEventListener("click",p)),C.addEventListener("keydown",S),R.push(()=>C.removeEventListener("keydown",S)),s.append(C)};e.forEach(u=>a(u)),this.eApply=r;const l=this.validationTooltipFeature;r&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!r&&l&&(this.validationTooltipFeature=this.destroyBean(l)),i.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Cm(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},ofe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Jl(e,t,n){return zce(e,ofe,t,n)}function rI(e,t){const{debounceMs:n}=e;return xS(e)?(n!=null&&Re(71),0):n??t}function xS(e){return(e.buttons?.indexOf("apply")??-1)>=0}var afe=class extends gn{constructor(e,t,n,i,r,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=r,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,r=i?"form":"div";this.setTemplate({tag:r,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:i,readOnly:r}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&r===o&&vm(i,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let u=this.eButtons;if(l){const h=s.map(p=>{const g=`${p}Filter`;return{type:p,label:Jl(this,g)}});if(this.applyActive=xS(this.params),!u){u=this.createBean(new sfe),this.appendChild(u.getGui());const p=this.column,g=v=>({event:C})=>{this.updateModel(p,v),this.afterAction(v,C)};u?.addManagedListeners(u,{apply:g("apply"),clear:g("clear"),reset:g("reset"),cancel:g("cancel")}),this.eButtons=u}u.updateButtons(h,a)}else this.applyActive=!1,u&&(tl(u.getGui()),this.eButtons=this.destroyBean(u))}close(e){const t=this.hidePopup;if(!t)return;const n=e,i=n&&n.key;let r;(i===ue.ENTER||i===ue.SPACE)&&(r={keyboardEvent:n}),t(r),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:i}=this,r=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),r&&i&&this.close(t);break}case"reset":{r&&i&&this.close();break}case"cancel":{r&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===ue.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},lfe={tag:"div",cls:"ag-filter"},cfe=class extends gn{constructor(e,t,n){super(lfe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Ht.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:i}}=this,r=i.getFilterUiForDisplay(t)??null;this.wrapper=r,r?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const u=!!this.enableGlobalButtonCheck,h=this.createBean(new afe(t,s,i,i.updateModel.bind(i),u&&i.isGlobalButtons,u));this.comp=h,l=h.getGui()}else l=a.getGui(),Ie(l)||Re(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ds(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},sI="T",ufe=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${sI}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function No(e,t){return e.toString().padStart(t,"0")}function ls(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>No(r,2)).join(n);return t&&(i+=sI+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>No(r,2)).join(":")),i}function rC(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),No(e.getDate(),2),No(e.getHours(),2),`:${No(e.getMinutes(),2)}`,`:${No(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,No(e.getDate(),2)].map(String):null}var k0=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function eD(e,t){if(t==null)return ls(e,!1);const n=No(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>No(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${k0(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${k0(e.getDate())}`,DD:()=>No(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${k0(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function ZC(e,t=!1){return!!Hr(e,t)}function dfe(e){return ZC(e,!0)}function Hr(e,t=!1){if(!e||!ufe.test(e))return null;const[n,i]=e.split(sI);if(!n)return null;const r=n.split("-").map(g=>parseInt(g,10));if(r.filter(g=>!isNaN(g)).length!==3)return null;const[s,o,a]=r,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!i&&t)return null;if(!i||i==="00:00:00")return l;const[u,h,p]=i.split(":").map(g=>parseInt(g,10));if(u>=0&&u<24)l.setHours(u);else if(t)return null;if(h>=0&&h<60)l.setMinutes(h);else if(t)return null;if(p>=0&&p<60)l.setSeconds(p);else if(t)return null;return l}var zN={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},UN=["january","february","march","april","may","june","july","august","september","october","november","december"];function hfe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function WN(e){return e instanceof Date&&!isNaN(e.getTime())}var tD={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:WN}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&WN(e.dateParser(t))}),dateTime:e=>tD.date(e),dateTimeString:e=>tD.dateString(e),object:()=>{},text:()=>{}},nD={number:()=>({comparator:hfe}),boolean:({t:e})=>({valueFormatter:t=>Ie(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return Ie(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){const r=UN[Number(n)-1];return t(r,zN[r])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>rC(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{const r=e(i);return Ie(r)?r:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>rC(t.dateParser(i??void 0),!1),treeListFormatter:(i,r)=>{if(r===1&&i!=null){const s=UN[Number(i)-1];return n(s,zN[s])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{const t=nD.date(e);return t.treeListPathGetter=rC,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=nD.dateString(e);return n.treeListPathGetter=i=>rC(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return Ie(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function ffe(e,t,n,i,r,s,o){let a=t,l=n;const u=e==="agSetColumnFilter";!l&&i.baseDataType==="object"&&!u&&(l=({column:v,node:C})=>r({column:v,node:C,value:s.valueSvc.getValue(v,C)}));const p=(u?nD:tD)[i.baseDataType],g=p({dataTypeDefinition:i,formatValue:r,t:o});return a=typeof t=="object"?{...g,...t}:g,{filterParams:a,filterValueGetter:l}}var pfe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},gfe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function mfe(e,t=!1){return(t?gfe:pfe)[e??"text"]}var g5="ag-resizer-wrapper",Hl=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),vfe={tag:"div",cls:g5,children:[Hl("eTopLeft","topLeft"),Hl("eTop","top"),Hl("eTopRight","topRight"),Hl("eRight","right"),Hl("eBottomRight","bottomRight"),Hl("eBottom","bottom"),Hl("eBottomLeft","bottomLeft"),Hl("eLeft","left")]},yfe=class extends ge{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,i=n/2-this.getWidth()/2,r=t/2-this.getHeight()/2;this.offsetElement(i,r,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:i,width:r,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,h=0;const p=sa(this.element);if(p){const g=this.findBoundaryElement(),v=window.getComputedStyle(g);if(v.minWidth!=null){const C=g.offsetWidth-this.element.offsetWidth;h=parseInt(v.minWidth,10)-C}if(v.minHeight!=null){const C=g.offsetHeight-this.element.offsetHeight;u=parseInt(v.minHeight,10)-C}}if(this.minHeight=s||u,this.minWidth=i||h,r&&this.setWidth(r),o&&this.setHeight(o),(!r||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(p&&n){let g=this.boundaryEl,v=!0;if(g||(g=this.findBoundaryElement(),v=!1),g){const C=parseFloat(g.style.top),S=parseFloat(g.style.left);v?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C,e):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const i=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_g(n,e),e=tW(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?_g(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,o=e?0:r.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:h}=u.getBoundingClientRect();a=h-i.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Zo(t,e),e=Gw(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Zo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:i}=this.config,r=i?this.boundaryEl:this.element;r&&(this.popupSvc?.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=al(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,o)?0:o,u=this.shouldSkipY(t,!!i,s,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,n,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=i<0&&e.clientX>a+s.left||i>0&&e.clientX<a+s.left:n?l=i<0&&e.clientX>o.right||i>0&&e.clientX<a+s.left:l=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=i<0&&e.clientY>a+s.top+n||i>0&&e.clientY<a+s.top:l=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(ei(vfe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${g5}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const r=e[i],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,l=s||i,{movementX:u,movementY:h}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),p=this.position.x,g=this.position.y;let v=0,C=0;if(a&&u){const S=o?-1:1,R=this.getWidth(),x=R+u*S;let D=!1;o&&(v=R-x,(p+v<=0||x<=this.minWidth)&&(D=!0,v=0)),D||this.setWidth(x)}if(l&&h){const S=i?-1:1,R=this.getHeight(),x=R+h*S;let D=!1;i?(C=R-x,(g+C<=0||x<=this.minHeight)&&(D=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&v||C)&&this.offsetElement(p+v,g+C)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Cfe="ag-focus-managed",Lf=class extends ge{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=bd(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(Cfe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||ja(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){od(t);return}t.key===ue.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},wfe=class extends gn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Lf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new yfe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const r=t.state,s=this.state;return this.state=r,(r.model!==s.model||r.state!==s.state)&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=xS(e),this.setupApplyDebounced()}doesFilterPass(e){Re(283);const{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return Re(284),this.params.model!=null}setupApplyDebounced(){const e=rI(this.params,this.defaultDebounceMs),t=$i(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return Re(285),this.params.model}setModel(e){Re(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,i=!this.areModelsEqual(t.model,n.model);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;const r=this.params;r.onStateChange(i),r.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:r.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Jl(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function bfe(e){return!!e.operator}function Sfe(e,t,n){if(t==null)return null;let i=null;const{compName:r,jsComp:s,fwComp:o}=jW(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&o==null&&t.filter===!0&&(i=n()),i}var JC={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},oI=class extends ge{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?JC.AUTO_HEIGHT:t.print?JC.PRINT:JC.NORMAL;this.view.updateLayoutClasses(n,t)}},Gl="Viewport",jN="fakeVScrollComp",O0=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],$N=100,L0=150,Efe=class extends ge{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=$i(this,()=>this.lastScrollSource[1]=null,L0),this.resetLastVScrollDebounced=$i(this,()=>this.lastScrollSource[0]=null,L0)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Gl)});for(const e of O0){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?$i(this,this.onVScroll.bind(this,Gl),$N):this.onVScroll.bind(this,Gl),i=t?$i(this,this.onVScroll.bind(this,jN),$N):this.onVScroll.bind(this,jN);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...O0,Gl]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Uw(n,e,this.enableRtl)}}getViewportForSource(e){return e===Gl?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=zw(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Gl?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Gl?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},L0)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Lu()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=jP(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of O0)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Gl)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),Uw(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let r=-1;for(let s=0;s<i;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){r=s;break}}else if(e===o||e===o.data){r=s;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,n=0){if(Yi(this.gos,"print"))return;const{rowModel:i}=this.beans,r=i.getRowCount();if(typeof e!="number"||e<0||e>=r){Re(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const u=this.ctrlsSvc.getGridBodyCtrl(),h=i.getRow(e);let p,g,v=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:C,stickyBottomHeight:S}=u,R=h.rowTop,x=h.rowHeight,D=o.getPixelOffset(),T=h.rowTop-D,k=T+h.rowHeight,L=this.getVScrollPosition(),P=a.divStretchOffset,_=L.top+P,M=L.bottom+P,N=M-_,B=a.getScrollPositionForPixel(T),H=a.getScrollPositionForPixel(k-N),U=Math.min((B+H)/2,T),G=_+C>T,J=M-S<k;let ie=null;t==="top"?ie=B-C:t==="bottom"?ie=H+S:t==="middle"?ie=U:G?ie=B-C:J&&(H-B>N?ie=B-C:ie=H+S),ie!==null&&(this.setVerticalScrollPosition(ie),l.redraw({afterScroll:!0})),p=R!==h.rowTop||x!==h.rowHeight,g=C!==u.stickyTopHeight||S!==u.stickyBottomHeight,v++}while((p||g)&&v<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(h?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const C=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const S=this.getVScrollPosition().top;C!==S&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;const s=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:i)||r,l=o?i:n;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:h,colMiddle:p,colRight:g}=this.getColumnBounds(e);return u?p-s/2:a?o?g:h:o?h-s:g-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>r:n<r,a=s?n<i:t>i;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?n-r:r,a=o+i*s,l=o+i/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},aI=class extends ge{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Yi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=i+r+s:(o=i,this.addSpacer&&(this.gos.get("enableRtl")?r:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},Rfe=class extends ge{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{ll(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=jP(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function lI(e,t,n,i,r,s){if(n==null&&t==null)return;const o={},a={},l=(u,h)=>{u.split(" ").forEach(p=>{p.trim()!=""&&h(p)})};if(n){const u=Object.keys(n);for(let h=0;h<u.length;h++){const p=u[h],g=n[p];let v;typeof g=="string"?v=e?e.evaluate(g,i):!0:typeof g=="function"&&(v=g(i)),l(p,C=>{v?o[C]=!0:a[C]=!0})}}t&&s&&Object.keys(t).forEach(u=>l(u,h=>{o[h]||(a[h]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(r)}function qN(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var xfe=class extends ge{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:r}=this.beans,s=tt(i,{data:e.data,node:e,rowIndex:e.rowIndex});lI(r,void 0,i.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let r;if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex};r=i(s)}if(r||n)return Object.assign({},n,r)}},Tfe=0,ob="renderedRow",ab=class extends ge{constructor(e,t,n,i,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Tfe++,this.rowId=KC(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=qN(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=KC(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){const{context:r,focusSvc:s}=this.beans;i=pv(this,r,i);const o={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,u=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!u&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const h=this.fullWidthGui?.element;h&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>h.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Vu(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.toggleCss(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&VT(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),sd(t,e.element,ob,this),e.compBean.addDestroyFunc(()=>sd(t,e.element,ob,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=KC(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(UT(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(UT(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),s=!!t,o=!!n||!i.isPinningRight();return r&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),r=wW(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new zh(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const i={list:[],map:{}},r=(u,h,p)=>{p!=null?i.list.splice(p,0,h):i.list.push(h),i.map[u]=h},s=[];for(const u of t){const h=u.getInstanceId();let p=e.map[h];p&&!this.isCorrectCtrlForSpan(p)&&(p.destroy(),p=void 0),p||(p=this.getNewCellCtrl(u)),p&&r(h,p)}for(const u of e.list){const h=u.column.getInstanceId();if(i.map[h]!=null)continue;!this.isCellEligibleToBeRemoved(u,n)?s.push([h,u]):u.destroy()}if(s.length)for(const[u,h]of s){const p=i.list.findIndex(v=>v.column.getLeft()>h.column.getLeft()),g=p===-1?void 0:Math.max(p-1,0);r(u,h,g)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const u=l.column.getInstanceId();if(!i.map[u]&&a.allCols.includes(l.column)){const p=this.createFocusedCellCtrl();if(p){const g=i.list.findIndex(C=>C.column.getLeft()>p.column.getLeft()),v=g===-1?void 0:Math.max(g-1,0);r(u,p,v)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){const{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Yi(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Ie(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:r,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...i?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",r=t==="below",o=this.gos.get("treeData")&&(r||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const u=l.rowComp;u.toggleCss("ag-row-highlight-above",n),u.toggleCss("ag-row-highlight-inside",i),u.toggleCss("ag-row-highlight-below",r),u.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Wa(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),h={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:u?.column??i};l?.navigateToNextCell(e,e.key,h,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||ja(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=Nn(this.beans);let s=!1;n&&r&&(s=n.contains(r)&&r.classList.contains("ag-cell"));let o=null;!i&&!s&&(o=bd(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>sa(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{is(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?i=s==="right"?this.rightGui?.element:this.leftGui?.element:i=this.centerGui?.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return tt(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){ja(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Nu(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n?.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:s,column:o}=r,a=s.element,l=e.target;let u=e.defaultPrevented||md();a&&a.contains(l)&&WP(l)&&(u=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(ja(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,r=tt(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,u)=>this.addFullWidthRowDragging(o,a,l,u),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Wde(s,r);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return r.value=o,r.valueFormatted=a,Ude(s,r)}case"FullWidthLoading":return zde(s,r);default:return Gde(s,r)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:r,context:s}=this.beans;if(!r||!this.isFullWidth())return;const o=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=qN(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(s.push("ag-row-pinned"),r.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&s.push("ag-row-pinned-source"),i.isSelected()&&s.push("ag-row-selected"),i.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),i.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(s,i),i.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=r;return o&&(o.processClassesFromGridOptions(s,i),o.preProcessRowClassRules(s,i)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&i.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&i.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(i,{mouseEnter:()=>{!r.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=fW(this.gos)?bc(this.beans,this.rowNode).height:void 0,s=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Nh(this.gos)&&!t.sticky)if(t.rowTop!=null){const r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(Nn(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ie(e)){const t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i?.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",i),s.rowComp.toggleCss("ag-row-odd",!i),K3(s.element,r)})}};function m5(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function iD(e,t,n,i,r){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=tt(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(s&&s(o))}function Dfe(e){const{pinnedRowModel:t,rowModel:n}=e,[i,r]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=i?null:"top";let o,a;r?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:u}=e,h=l.allCols;!u||!h?.length||u.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var Afe=65,Pfe=67,Ife=86,Ffe=68,Mfe=90,_fe=89;function kfe(e){const{keyCode:t}=e;let n;switch(t){case Afe:n=ue.A;break;case Pfe:n=ue.C;break;case Ife:n=ue.V;break;case Ffe:n=ue.D;break;case Mfe:n=ue.Z;break;case _fe:n=ue.Y;break;default:n=e.code}return n}var Ofe=class extends ge{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",xW("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){if(!xm(this.gos,t)||ja(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:a5(t,e),rowCtrl:TW(t,e,ob)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!iD(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),m5(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:r,navigation:s}=this.beans,a=r.getFocusedCell()?.column;if(!iD(this.gos,n,i,a,!1)){const u=n.key;if(t==="keydown")switch(u){case ue.PAGE_HOME:case ue.PAGE_END:case ue.PAGE_UP:case ue.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case ue.LEFT:case ue.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case ue.UP:case ue.DOWN:e.onKeyboardNavigate(n);break;case ue.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!xm(this.gos,e))return;const n=kfe(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===ue.A)return this.onCtrlAndA(e);if(n===ue.C)return this.onCtrlAndC(i,e);if(n===ue.D)return this.onCtrlAndD(i,e);if(n===ue.V)return this.onCtrlAndV(i,e);if(n===ue.X)return this.onCtrlAndX(i,e);if(n===ue.Y)return this.onCtrlAndY(r);if(n===ue.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&Sc(r)&&t.isRowsToRender()?Dfe(this.beans):i&&i?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:SW(r)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},v5=class extends ge{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},sC=e=>e.topRowCtrls,oC=e=>e.getStickyTopRowCtrls(),aC=e=>e.getStickyBottomRowCtrls(),lC=e=>e.bottomRowCtrls,cC=e=>e.allRowCtrls,N0=e=>e.getCtrls("top"),V0=e=>e.getCtrls("center"),B0=e=>e.getCtrls("bottom"),Lfe={center:{type:"center",name:"center-cols",getRowCtrls:cC,getSpannedRowCtrls:V0},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:cC,getSpannedRowCtrls:V0},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:cC,getSpannedRowCtrls:V0},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:cC},topCenter:{type:"center",name:"floating-top",getRowCtrls:sC,getSpannedRowCtrls:N0},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:sC,getSpannedRowCtrls:N0},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:sC,getSpannedRowCtrls:N0},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:sC},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:oC},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:oC},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:oC},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:oC},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:aC},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:aC},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:aC},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:aC},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:lC,getSpannedRowCtrls:B0},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:lC,getSpannedRowCtrls:B0},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:lC,getSpannedRowCtrls:B0},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:lC}};function y5(e){return`ag-${vv(e).name}-viewport`}function ew(e){const t=vv(e);return t.container??`ag-${t.name}-container`}function Nfe(e){return`ag-${vv(e).name}-spanned-cells-container`}function vv(e){return Lfe[e]}var Vfe=["topCenter","topLeft","topRight"],Bfe=["bottomCenter","bottomLeft","bottomRight"],Hfe=["center","left","right"],Gfe=["center","left","right","fullWidth"],zfe=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Ufe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Wfe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],C5=["stickyTopCenter","stickyTopLeft","stickyTopRight"],w5=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],jfe=[...C5,"stickyTopFullWidth",...w5,"stickyBottomFullWidth"],$fe=[...Vfe,...Bfe,...Hfe,...C5,...w5],qfe=class extends ge{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=vv(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Rfe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new Ofe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:r,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(Ufe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(Wfe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Gfe,()=>this.createManagedBean(new v5(this.eContainer,this.name==="center"?i:void 0))),s&&this.forContainers($fe,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(zfe,()=>this.createManagedBean(new aI(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(jfe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=Yi(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return wm(this.eViewport)}getCenterViewportScrollLeft(){return zw(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=al(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return iW(this.eViewport)}getViewportScrollLeft(){return zw(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||rW(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Uw(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Yi(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},Kfe="ag-force-vertical-scroll",Yfe="ag-selectable",Xfe="ag-column-moving",Qfe=class extends ge{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${y5("center")}`),this.eFullWidthContainer=n.querySelector(`.${ew("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${ew("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${ew("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new oI(this.comp)),this.scrollFeature=this.createManagedBean(new Efe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=J3()?16:0,r=`calc(100% + ${n+i}px)`;ll(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,r=Nu(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{const{target:i,relatedTarget:r}=n,s=t.contains(r),o=Nu(r,"ag-root",t);Nu(i,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Xfe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Yfe,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Kfe:null,n=Yi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&sW(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const r=n&&Nh(this.gos)&&!e.stretching,s=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:r,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const h of[t,n,i,r])this.addManagedElementListeners(h,{wheel:l});const u=this.onHorizontalWheel.bind(this);for(const h of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(h).eContainer,{wheel:u});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&xm(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=r-s,a=n?o+n:0,l=i?o+i:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=i+s;n.setStickyBottomBottom(`${o}px`)}},b5=class extends gn{constructor(e,t){super(),this.direction=t,this.eViewport=Ye,this.eContainer=Ye,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",Q3()||Lu())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=J3(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ll(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;pue(()=>sa(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},Zfe={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},Jfe=class extends b5{constructor(){super(Zfe,"horizontal"),this.eLeftSpacer=Ye,this.eRightSpacer=Ye,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new aI(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),Zo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),Zo(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),_g(this.getGui(),s),_g(this.eViewport,s),_g(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return zw(this.eViewport,this.enableRtl)}setScrollPosition(e){sa(this.eViewport)||this.attemptSettingScrollPosition(e),Uw(this.eViewport,e,this.enableRtl)}},epe={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},tpe=class extends b5{constructor(){super(epe,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new v5(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),Zo(this.getGui(),r),Zo(this.eViewport,r),Zo(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!sa(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Ho(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function cI(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const r=i.getGroupRowCount()||0;for(let s=0;s<r;s++){const o=i.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=npe(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function npe(e,t){let i=e.colModel.isPivotMode()?rpe(e):E5(e);const r=t.getHeaderCellCtrls();for(const s of r){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>i&&o.isAutoHeaderHeight()&&(i=a)}return i}function uI(e){let n=e.colModel.isPivotMode()?ipe(e):yv(e);return e.colModel.forAllCols(i=>{const r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function yv(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function S5(e){return e.gos.get("floatingFiltersHeight")??yv(e)}function E5(e){return e.gos.get("groupHeaderHeight")??yv(e)}function ipe(e){return e.gos.get("pivotHeaderHeight")??yv(e)}function rpe(e){return e.gos.get("pivotGroupHeaderHeight")??E5(e)}var spe=class extends ge{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:r,touchSvc:s,ctrlsSvc:o}=i;r&&this.createManagedBean(new Lf(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ll(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=cI(e).reduce((s,o)=>s+o,0),i=uI(e);if(e.filterManager?.hasFloatingFilters()&&(t+=S5(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:s,focusSvc:o}=r;(s.navigateHorizontally(i,!0,e)||!n&&o.focusOverlay(!1)||ff(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case ue.LEFT:t="LEFT";case ue.RIGHT:{Ie(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ue.UP:t="UP";case ue.DOWN:{Ie(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(Nn(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===r.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},dI=class extends ge{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?rn(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=Ie(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!Yi(n,"print")||e.getPinned()==="left")return t;const s=i.getColsLeftWidth();if(e.getPinned()==="right"){const o=i.bodyWidth;return s+o+t}return s+t}setLeft(e){if(Ie(e)&&(this.eCell.style.left=`${e}px`),Jn(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&iue(this.ariaEl,t.length)}}},ope=0,R5="headerCtrl",hI=class extends ge{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+ope++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!Ie(r))return!1;const s=tt(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(s)}getWrapperHasFocus(){return Nn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,s=p=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:g,paddingBottom:v,borderBottomWidth:C,borderTopWidth:S}=vd(this.eGui),R=g+v+C+S,D=t.offsetHeight+R;if(p<5){const T=Fi(r),k=!T||!T.contains(t),L=D==0;if(k||L){UT(()=>s(p+1),"raf",r);return}}this.setColHeaderHeight(this.column,D)};let o=!1,a;const l=()=>{const p=this.column.isAutoHeaderHeight();p&&!o&&u(),!p&&o&&h()},u=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=al(this.beans,t,()=>s(0))},h=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>h()),i.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),i.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(r5(e,t,n.visibleCols),Y3(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Gu(this.beans);this.eGui&&is(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Nn(this.beans),n=e.key===ue.LEFT||e.key===ue.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const r=e.key===ue.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===ue.LEFT!==t.get("enableRtl");const r=n.getPinned(),s=t.get("enableRtl");return r&&s!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case ue.PAGE_DOWN:case ue.PAGE_UP:case ue.PAGE_HOME:case ue.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=R5,{eGui:n,gos:i}=this;sd(i,n,t,this),e.addDestroyFunc(()=>sd(i,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:r,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&i.preventDefault(),r?.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},ape=class extends hI{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:u,colHover:h,rangeSvc:p}=a,g=pv(this,u,r);this.setGui(t,g),this.updateState(),this.setupWidth(g),this.setupMovingCss(g),this.setupMenuClass(g),this.setupSortableClass(g),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:C=>this.setRefreshFunction("measuring",C),compBean:g}),this.addColumnHoverListener(g),this.setupFilterClass(g),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(g),this.setupSelectAll(g),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=g.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):kn(n,!1),h?.createHoverFeature(g,[o],t),p?.createRangeHighlightFeature(g,o,e),g.createManagedBean(new dI(o,t,a)),g.createManagedBean(new Lf(t,{shouldStopEventPropagation:C=>this.shouldStopEventPropagation(C),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(g),g.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),g.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),g.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const v=()=>this.checkDisplayName();g.addManagedEventListeners({columnValueChanged:v,columnRowGroupChanged:v,columnPivotChanged:v,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),g.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return tt(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Nde(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return tt(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||rs(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ue.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===ue.ENTER&&this.onEnterKeyDown(e),e.key===ue.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();KN(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Mhe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=i5(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.toggleCss(r,!0)}),i.forEach(r=>this.comp.toggleCss(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,r=cI(this.beans),s=r.reduce((g,v)=>g+=v,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=uI(i);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const u=(this.column.getFirstRealParent()?.getLevel()??-1)+1,h=r.length-u;let p=0;for(let g=0;g<h;g++)p+=r[r.length-1-g];e.style.setProperty("top",`${-p}px`),e.style.setProperty("height",`${l+p}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort($ce(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!rs(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Nn(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return KN(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function KN(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var lpe=0,H0=class extends ge{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=lpe++,this.comp=null,this.allCtrls=[];let i="ag-header-row-column";n==="group"?i="ag-header-row-group":n==="filter"&&(i="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${i}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=Yi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=pv(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Yi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=cI(this.beans);for(let r=0;r<t.length;r++){if(r===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[r]};e+=t[r]}const n=uI(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const i=S5(this.beans);return{topOffset:e,rowHeight:i}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:r,visibleCols:s}=this.beans;return r.isHeaderWrapperFocused(i)?s.isVisible(i.column):!1};if(e)for(const[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new ape(e,this));break}t.set(i,r)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},cpe=class extends ge{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(a,this),r.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:i}=this.beans;let r=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const p=i.headerGroupRowCount;r=p;const g=this.groupsRowCtrls.length;if(g!==p){if(g>p){for(let v=p;v<g;v++)this.destroyBean(this.groupsRowCtrls[v]);this.groupsRowCtrls.length=p;return}for(let v=g;v<p;v++){const C=this.createBean(new H0(v,this.pinned,"group"));this.groupsRowCtrls.push(C)}}},a=()=>{const p=r++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new H0(p,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==p&&this.columnsRowCtrl.setRowIndex(p)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const p=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){p();return}e||p();const g=r++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==g&&this.filtersRowCtrl.setRowIndex(g):this.filtersRowCtrl=this.createBean(new H0(g,this.pinned,"filter"))},u=this.getAllCtrls();o(),a(),l();const h=this.getAllCtrls();this.comp.setCtrls(h),this.restoreFocusOnHeader(t,s),u.length!==h.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(Ec(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new aI(e=>this.comp.setCenterWidth(`${e}px`),!0))}},upe=class extends ge{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(XN(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){XN(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(rs(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Ec(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Lu()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!rs(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!rs(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return rs(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:r,onClosedCallback:s}=t,o=t.column;if(r==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,i)}else if(r==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,i)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),ll(a,()=>{const u=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);u&&e?.showMenuAfterButtonClick(o,u.getAnchorElementForMenu(i),n,s,i)})}}};function YN(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function XN(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:i}=e;return t&&rs(i)?t:n}var fI=class extends gn{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},TS=class extends fI{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},x5=class extends gn{constructor(){super()}},dpe={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},hpe=class extends x5{init(){const e=Wa(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??dpe),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},fpe={tag:"span",cls:"ag-overlay-no-rows-center"},ppe=class extends x5{init(){const e=Wa(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??fpe),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function gpe(e,t,n){const i=Ls(e,t,n);if(i){const{className:s}=i;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return i}const r=ei({tag:"span"});return r.appendChild(i),r}function Ls(e,t,n){let i=null;e==="smallDown"?Re(262):e==="smallLeft"?Re(263):e==="smallRight"&&Re(264);const r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){const s=t.gos.get("icons");s&&(i=s[e])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else{Re(38,{iconName:e});return}if(typeof s=="string")return $P(s);if(KP(s))return s;Re(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),ei({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var mpe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",vpe={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},ype=class extends gn{constructor(){super(),this.dragSource=null,this.eIcon=Ye,this.eLabel=Ye,this.eGhost=Ye,this.registerCSS(mpe)}postConstruct(){const e=t=>gpe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(vpe),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:r,gos:s}=this;ds(n);let o=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===r.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},Cpe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",wpe=class extends gn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Cpe)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;ds(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(kn(t,!1),id(t,"presentation")):(kn(t,!0),id(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Ww(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Cm(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},T5=class extends wpe{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||qce(e)!==null?ym(e,""):ym(e,t??"")}setAriaLabel(e){return cf(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Zo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function bpe(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Du=class extends T5{constructor(e,t,n="text",i="input"){super(e,e?.template??bpe(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=Ye,this.eWrapper=Ye,this.eInput=Ye}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:r,inputWidth:s}=this.config;r!=null&&this.setInputName(r),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,is(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return Ww(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return is(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return cf(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Cm(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)is(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";is(this.eInput,"autocomplete",t)}return this}},pI=class extends Du{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},gI={selector:"AG-CHECKBOX",component:pI},Spe=".ag-checkbox-cell{height:100%}",Epe={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Rpe=class extends gn{constructor(){super(Epe,[gI]),this.eCheckbox=Ye,this.registerCSS(Spe)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),$3(i,"polite"),this.addManagedListeners(i,{click:r=>{if(od(r),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:r=>{od(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===ue.SPACE&&!t.isDisabled()){e.eGridCell===Nn(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:r,node:s}=e;if(s.group&&r)if(typeof i=="boolean")t=i;else{const p=r.getColId();p.startsWith(ES)?t=i==null||i===""?void 0:i==="true":s.aggData&&s.aggData[p]!==void 0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!r?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),u=SS(l,t),h=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;o.setInputAriaLabel(h)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:i,value:r}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:i.rowIndex,rowPinned:i.rowPinned,state:"changed",oldValue:r,newValue:r}],{update:!0});const s=i.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:i,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},QN=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),$s(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],r=Dpe(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,i)??this.order,!r)return;const s=yW(n);s==="bottom"||s==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){const{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function D5(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?D5(t):!1}function G0(e,t){const{gos:n,rowModel:i,filterManager:r}=e;return yd(n)?!i.getRowNode(t.id):r?.isAnyFilterPresent()?!D5(t):n.get("pivotMode")?!t.group:!1}function xpe(e){return!!e.footer&&e.level===-1}function Tpe(e){return!!e.pinnedSibling&&xpe(e.pinnedSibling)}function Dpe(e){const t=e.findIndex(Tpe);if(t>-1)return e.splice(t,1)?.[0]}var ZN=class extends ge{postConstruct(){const{gos:e,beans:t}=this;this.top=new QN(t,"top"),this.bottom=new QN(t,"bottom");const n=r=>G0(t,r.pinnedSibling),i=()=>{const r=e.get("isRowPinned");r&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,r(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:r})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),r||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Ppe),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{(e.get("isRowPinnable")?.(r)??!0)||this.pinRow(r,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,Fpe(this.beans);return}const i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&Ipe(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;z0(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=JN(this.beans,e,t),a=this.getContainer(t);a.add(o),G0(this.beans,e)&&a.hide(l=>G0(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=bc(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return eV(this.top)}getPinnedBottomTotalHeight(){return eV(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const r=this.beans.rowModel.getRowNode(i);r?this.pinRow(r,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(i=>{const r=this.beans.rowModel.getRowNode(i);r&&n.add(r)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,i=t.rowModel;if(!ci(e))return;const r=i.rootNode?.sibling;if(!r)return;const s=r.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),z0(s)),!o||o.floating!==n){const a=JN(t,r,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),z0(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>Ape(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function Ape(e,t){let n=0;t.forEach((i,r)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(bc(e,i).height),i.setRowIndex(r),n+=i.rowHeight})}function JN(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=tfe(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const r=n==="top"?nI:iI;return i.id=`${r}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function z0(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Ppe(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function Ipe(e,t,n){const{rowSpanSvc:i}=e,r=(n&&i?.isCellSpanning(n,t))??!1;if(n&&r)return i?.getCellSpan(n,t)?.spannedNodes}function eV(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Fpe({gos:e,rowModel:t}){ci(e)&&t.refreshModel({step:"map"})}var tV=class extends ge{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Zp(this.pinnedBottomRows,t),Zp(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=bc(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return Zp(this.pinnedBottomRows,n),t=0,Zp(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=uf(this.gos),r=t==="top"?nI:iI,s=new Set(n.order),o=[],a=new Set;let l=0,u=-1;for(const h of e){const p=i?.({data:h,level:0,rowPinned:t})??r+this.nextId++;if(a.has(p)){Re(96,{id:p,data:h});continue}u++,a.add(p),o.push(p);const g=Og(n,p);if(g!==void 0)g.data!==h&&g.updateData(h),l+=this.setRowTopAndRowIndex(g,l,u),s.delete(p);else{const v=new cd(this.beans);v.id=p,v.data=h,v.rowPinned=t,l+=this.setRowTopAndRowIndex(v,l,u),n.cache[p]=v,n.order.push(p)}}s.forEach(h=>{Og(n,h)?.clearRowTopAndRowIndex(),delete n.cache[h]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(bc(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return nV(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return nV(this.pinnedBottomRows)}getPinnedTopRowCount(){return sD(this.pinnedTopRows)}getPinnedBottomRowCount(){return sD(this.pinnedBottomRows)}getPinnedTopRow(e){return rD(this.pinnedTopRows,e)}getPinnedBottomRow(e){return rD(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Og(this.getCache(t),e)}forEachPinnedRow(e,t){return Zp(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function nV(e){const t=sD(e);if(t===0)return 0;const n=rD(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Og(e,t){return e.cache[t]}function rD(e,t){return Og(e,e.order[t])}function Zp(e,t){e.order.forEach((n,i)=>{const r=Og(e,n);r&&t(r,i)})}function sD(e){return e.order.length}var Mpe=class extends ge{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),i=yW(e),s=!!n||(i==="pinnedBottom"||i==="pinnedTop"),o=s?this.inner instanceof tV:this.inner instanceof ZN;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new ZN:new tV))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},_pe="ROOT_NODE_ID",kpe=class extends ge{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=_pe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=uf(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let u=!1,h=!1,p=!1,g=!1;for(let C=0,S=-1,R=t.length;C<R;C++){const x=t[C];let D=this.getRowNode(n({data:x,level:0}));if(!D)u=!0,D=this.createRowNode(x,-1),r.add(D);else{if(i){const T=D.sourceRowIndex;g||(g=T<=S||u),S=T}D.data!==x&&(p=!0,D.updateData(x),r.update(D))}s.add(D)}const v=[];for(let C=0;C<l;C++){const S=a[C];s.has(S)||(h=!0,S.isSelected()&&v.push(S),S.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(S.pinnedSibling,null),this.rowNodeDeleted(S),r.remove(S))}if(u||h||g){const C=new Array(s.size);let S=0;if(!i)for(let x=0;x<l;++x){const D=a[x];s.delete(D)&&(D.sourceRowIndex=S,C[S++]=D)}for(const x of s)x.sourceRowIndex=S,C[S++]=x;o.allLeafChildren=C;const R=o.sibling;R&&(R.allLeafChildren=C),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=g)}(u||h||g||p)&&(this.deselectNodes(v),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=uf(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let p=0;p<i.length;p++)if(i[p]?.rowIndex==r-1){r=p+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let h=0;h<s;h++){const p=this.createRowNode(n[h],r+h);o.add(p),a[h]=p}const l=this.rootNode;if(r<i.length){const h=i.slice(0,r),p=i.slice(r,i.length),g=h.length+a.length;for(let v=0,C=p.length;v<C;++v)p[v].sourceRowIndex=g+v;i=[...h,...a,...p],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;const u=l.sibling;u&&(u.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(u=>{const h=this.lookupRowNode(e,u);h&&(h.isSelected()&&r.push(h),h.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(h.pinnedSibling,null),h.clearRowTopAndRowIndex(),o[h.id]=!0,delete this.allNodesMap[h.id],i.remove.push(h),n.remove(h))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(u=>!o[u.id])??null,a.allLeafChildren?.forEach((u,h)=>{u.sourceRowIndex=h});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new cd(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&Re(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return sn(4,{id:i}),null}else if(n=this.rootNode?.allLeafChildren?.find(i=>i.data===t),!n)return sn(5,{data:t}),null;return n||null}},Ope={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Lpe=class extends gn{constructor(){super(Ope,[gI]),this.eCheckbox=Ye}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=SS(e,i),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:od,click:i=>{od(i),this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=typeof i=="object"?F0(i):void 0,o=typeof r=="object"?F0(r):void 0;s!==o&&this.onSelectableChanged()}),qT(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this,r=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const p=n?.callbackParams;if(!e)o=s({...p,node:t,data:t.data});else{const g=e.createColumnFunctionCallbackParams(t);o=s({...p,...g})}}else o=s??!1;const a=r&&!o||!r&&o,l=r||o,u=i.get("rowSelection"),h=u&&typeof u!="string"?!F0(u):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?h:!0)),this.setDisplayed(l&&(a?h:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Vh(t):this.column?.getColDef()?.checkboxSelection}},Npe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){const r=t.slice(0,i),s=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return As(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const r=As(n,"bottom",void 0,e),s=i.getRowCount(),o=i.getRow(s-1);return(i.getNodesInRangeForSelection(t,o)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return As(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const r=As(n,"top",t,void 0),s=As(n,"bottom",void 0,e),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return As(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const r=As(n,"top",e,void 0),s=As(n,"bottom",void 0,t),o=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return As(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const r=As(n,"bottom",void 0,t),s=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,s)??[]).concat(r)}return null}},Vpe=class extends ge{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Nn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new pI);this.cbSelectAll=t,t.addCss("ag-header-select-all"),id(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(i)!==s(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,s=i.getValue(),o=SS(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${o})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return Kw(this.gos)?!0:(Re(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return ci(t)||yd(t)?!0:(Re(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return A5(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=SW(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function A5({gos:e,selectionColSvc:t},n){const i=e.get("rowSelection"),r=n.getColDef(),{headerCheckboxSelection:s}=r;let o=!1;if(typeof i=="object"){const l=Oc(n),u=ZP(n);($w(i)==="autoGroupColumn"&&u||l&&t?.isSelectionColumnEnabled())&&(o=$C(i))}else typeof s=="function"?o=s(tt(e,{column:n,colDef:r})):o=!!s;return o}var Bpe=class extends ge{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Npe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=qT(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=qT(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Lpe}createSelectAllFeature(e){if(A5(this.beans,e))return new Vpe(e)}isMultiSelect(){return Kw(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.toggleCss("ag-row-selected",i);const s=r.element;BT(s,i),s.contains(Nn(this.beans))&&t(r)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!mv(e)||!Vu(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Sm(this.gos)){const r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const r=e.childrenAfterGroup[i];let s=r.isSelected();if(!r.selectable){const o=this.calculateSelectedFromChildren(r);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){const r=!e.selectable&&t,s=e.__selected===t;if(r||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...Jhe(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=Oc(e)&&Vh(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:r,selectionCtx:s}=this,o=e.isSelected(),a=Sm(r),l=Iue(r),u=Fue(r),h=this.isMultiSelect(),p=i==="rowClicked";if(p&&!(l||u))return null;if(t&&n&&h){const g=s.getRoot();if(g)if(g.isSelected()){const v=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:v.discard,select:v.keep,reset:!1}}else{const v=s.extend(e,a);return{select:[],deselect:v.keep,reset:!1}}else return null}else if(t&&h){const g=s.selectAll?this.beans.rowModel.getRow(0):void 0,v=s.getRoot(g),C=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:C.keep,deselect:C.discard,reset:s.selectAll||!!(v&&!v.isSelected())}}else if(n){if(p){const g=!o;return g&&!l||!g&&!u?null:(s.setRoot(e),{node:e,newValue:g,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!h}}else{s.setRoot(e);const g=Mue(r),v=Yw(r)==="filteredDescendants",C=p&&(!g||!l);if(v&&o===void 0&&ci(r))return{node:e,newValue:!1,clearSelection:!h||C};if(p){const S=o?!g:l;return S===o&&!C||S&&!l||!S&&!u?null:{node:e,newValue:S,clearSelection:!h||C,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!h||C}}}},Hpe=class extends pI{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Sd=class extends Du{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=Ie(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{m5(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const i=n.clipboardData?.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},DS={selector:"AG-INPUT-TEXT-FIELD",component:Sd},Gpe=class extends Du{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},zpe={selector:"AG-INPUT-TEXT-AREA",component:Gpe},mI=class extends Sd{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){Nn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,is(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,is(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,is(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(Ie(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Upe={selector:"AG-INPUT-NUMBER-FIELD",component:mI},Wpe=class extends Sd{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=md();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Nn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?ls(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,is(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?ls(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,is(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,is(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Hr(this.getValue())??void 0}setDate(e,t){this.setValue(ls(e??null,this.includeTime),t)}},P5={selector:"AG-INPUT-DATE-FIELD",component:Wpe},jpe=class extends gn{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ue.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case ue.DOWN:case ue.UP:e.preventDefault(),this.navigate(t);break;case ue.PAGE_DOWN:case ue.PAGE_UP:case ue.PAGE_HOME:case ue.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ue.DOWN;let n;const{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let o=i.indexOf(r)+(t?1:-1);o=Math.min(Math.max(o,0),i.length-1),n=i[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),r=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===ue.PAGE_HOME?a=0:e===ue.PAGE_END?a=r:e===ue.PAGE_DOWN?a=Math.min(i+o,r):e===ue.PAGE_UP&&(a=Math.max(i-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{tl(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();id(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{Jce(t,n+1),Zce(t,e.length)})}renderOption(e,t){const n=ei({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=ei({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!sa(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),BT(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!sa(e)||(e.classList.remove(this.activeClass),BT(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},$pe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",qpe={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Kpe=class extends T5{constructor(e){if(super(e,e?.template||qpe,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ye,this.eWrapper=Ye,this.eDisplayField=Ye,this.eIcon=Ye,this.registerCSS($pe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=Ls(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),VT(e,!1),this.ariaRole&&id(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ue.UP:case ue.DOWN:case ue.ENTER:case ue.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ue.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:h}=this,p={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const S=mW(u);this.beforeHidePicker(),S&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:h};e.style.position="absolute";const g=u.popupSvc,v=g.addPopup(p);l?(o&&(e.style.minWidth=o),e.style.width=qP(Gw(h)),a&&(e.style.maxWidth=a)):Ww(e,a??Gw(h));const C=s??`${jP(g.getPopupParent())}px`;return e.style.setProperty("max-height",C),this.alignPickerToComponent(),v.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:s}=this,o=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();VT(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return Ww(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Ype=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",vI=class extends Kpe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(Ype)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:jC(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new jpe("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),aue(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===ue.TAB&&this.hidePicker(),t){case ue.ENTER:case ue.UP:case ue.DOWN:case ue.PAGE_UP:case ue.PAGE_DOWN:case ue.PAGE_HOME:case ue.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case ue.ESCAPE:super.onKeyDown(e);break;case ue.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:r},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Xpe={selector:"AG-SELECT",component:vI},Uh={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},I5=class extends ge{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:h,onTabKeyDown:p,handleKeyDown:g,isEmpty:v,eFocusableElement:C}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=C,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=g,this.providedIsEmpty=v}postConstruct(){this.createManagedBean(new Lf(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Gh(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Fi(this.beans),n=Gh(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,s;e?(r=0,s=i):(r=i+1,s=n.length);const o=n.slice(r,s),a=this.gos.get("tabIndex");o.sort((l,u)=>{const h=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(u.getAttribute("tabindex")||"0");return p===a?1:h===a?-1:h===0?1:p===0?-1:h-p}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Gh(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return bd(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Qpe=class extends ge{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],s={setTabIndex:R=>{r.forEach(x=>R!=null?x.setAttribute("tabindex",R):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}=e;this.tabGuardCtrl=this.createManagedBean(new I5({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Fi(this.beans).createElement("div"),n=e==="top"?Uh.TAB_GUARD_TOP:Uh.TAB_GUARD_BOTTOM;return t.classList.add(Uh.TAB_GUARD,n),id(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];ds(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){KP(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;tl(e),tl(t),super.destroy()}},Zpe=class extends gn{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new Qpe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},yu=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new nd,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!o5(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},Jpe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},F5=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${aW}/${this.frameworkName}-data-grid`,mue(this.baseDocLink)}setInterval(e,t){return new Ht(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){const s=DW(t);s!=null&&(r.passive=s)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function ege(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var tge=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],iV=Object.fromEntries(tge.map((e,t)=>[e,t]));function nge(e,t){const n=(e.beanName?iV[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?iV[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function ige(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var rge=class extends ge{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:r}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),c5(this.gos,t),this.createManagedBean(new oI(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=al(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),r.register("gridCtrl",this)}isDetailGrid(){return s5(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:r,focusSvc:s}=this.beans,o=r.allCols,a=rn(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,s=r.allCols;if(e){if(n.length>1)return this.focusContainer(rn(n),e);const o=rn(s);if(i.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Gu(this.beans)){if(i.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(ld(n[o].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;const r=t[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!RS(e)||!Gu(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=Nn(this.beans),i=e.findIndex(s=>s.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=ld(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},dt=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},rV={dispatchEvent:"CommunityCore",...dt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...dt("GridState",{getState:0,setState:0}),...dt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...dt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...dt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...dt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...dt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...dt("ValueCache",{expireValueCache:0}),...dt("CellApi",{getCellValue:0}),...dt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...dt("Sort",{onSortChanged:0}),...dt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...dt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...dt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...dt("HighlightChanges",{flashCells:0}),...dt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...dt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...dt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...dt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...dt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...dt("ColumnResize",{setColumnWidths:0}),...dt("ColumnHover",{isColumnHovered:0}),...dt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...dt("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...dt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...dt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...dt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...dt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...dt("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...dt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...dt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...dt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...dt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...dt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...dt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...dt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...dt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...dt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...dt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...dt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...dt("ContextMenu",{showContextMenu:0}),...dt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...dt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...dt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...dt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...dt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...dt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...dt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...dt("StatusBar",{getStatusPanel:0})},U0={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},sge=(e,t)=>e.eventSvc.dispatchEvent(t),M5=class{};Reflect.defineProperty(M5,"name",{value:"GridApi"});var oge=class extends ge{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new M5,this.fns={...U0,dispatchEvent:sge},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(rV))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:i}=this;n!==U0&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)Re(26,{fnName:e,preDestroyLink:i});else{const r=rV[e];n.assertModuleRegistered(r,`api.${e}`)&&Re(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=U0,this.beans=null}};function age(e){return e.context.getGridId()}function lge(e){e.gridDestroySvc.destroy()}function cge(e){return e.gridDestroySvc.destroyCalled}function uge(e,t){return e.gos.get(t)}function dge(e,t,n){_5(e,{[t]:n})}function _5(e,t){e.gos.updateGridOptions({options:t})}function hge(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var fge={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},pge=class extends gn{constructor(e,t,n){super(fge),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Ls("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:r}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(i,0,0),s){const a=tt(r,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function gge(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function mge(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function vge(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function yge(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function Cge(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const i=t?.row;let r=t?.dropIndicatorPosition;r!=="above"&&r!=="below"&&r!=="inside"&&(r="none");const s=i?.rowIndex;s==null||r==="none"?n.clear():n.set(i,r)}var wge=class extends ge{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},bge={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},Sge=class extends gn{constructor(e,t,n,i,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(bge),this.getGui().appendChild(Ls("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const r=i.get("rowDragManaged")?new Rge(this,t,n):new Ege(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const i=this.getDragItem(),r=i.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},k5=class extends ge{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let i=!t,r=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;r=typeof l=="function",i=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}r?(a.setDisplayed(!0,n),a.setVisible(i&&!t,n)):(a.setDisplayed(i,n),a.setVisible(!t,n))}}},Ege=class extends k5{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Rge=class extends k5{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=r&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},Dm=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let r=0,s=i.length;r<s;++r){const o=i[r];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},xge=class extends ge{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;ci(t)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{const r=i.gridBodyCtrl;let s=0;const o=()=>r.scrollFeature.getVScrollPosition().top;this.autoScrollService=new Jpe({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>r.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((r,s)=>r.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e);if(!(i.get("rowDragManaged")&&this.shouldPreventRowMove()))if(i.get("suppressMoveWhenRowDragging")||!r){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(rn(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:i}=e.dragItem,s=i?.length&&(n??i[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,u=l.rootNode,h=HN(o,e).y;let p=l.getRowIndexAtPixel(h),g=l.getRow(p)??null;const v=s!==g;let C=g?(h-g.rowTop-g.rowHeight/2)/g.rowHeight||0:1;const S=this.isFromThisGrid(e),x=EW(a)!=="group"&&S;let D=null;if(x&&g?.footer){D=g.sibling??u;const H=Lg(l,-1,g)??Lg(l,1,g);C=H&&H.rowIndex>g.rowIndex?-.5:.5,g=H??null}let T=C<0,k=!1;if(S&&g){if(v){if(k=i.indexOf(g)>=0,k){const H=Tge(l,p<s.rowIndex,i);H?.parent===g.parent&&(g=H,p=g.rowIndex)}}else{if(Math.abs(C)<=.5)return this.makeGroupThrottleClear(),null;k=!0}(k||!x&&Math.abs(p-s.rowIndex)===1)&&(T=p<s.rowIndex)}const L=this.makeGroupThrottleTarget;L!==null&&L!==g&&this.makeGroupThrottleClear(),g?.expanded&&g.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=g),D===null&&x&&(!g||C>=.5&&g.rowIndex===o.pageBounds.getLastRow()?D=u:this.targetShouldBeParent(g,C,k,i)&&(this.makeGroupThrottled&&(D=g),t&&(D===null||!g.expanded)&&(this.makeGroupThrottleTarget=g,this.makeGroupThrottleStart())),D??(D=g?.parent??u));let P=!1;if(D!==null){if(D===g&&D!==u){P=!0;const H=D.expanded?Lg(l,1,g):null;H?.parent===D&&(g=H,P=!1,T=!0)}if(g&&!P){let H=g;for(;H&&H!==u&&H!==D;)g=H,H=H.parent}Age(i,D)&&(D=null)}if(!D&&k&&(x||s===g))return null;const _=P?"inside":T?"above":"below",M={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:S,position:_,source:s,target:g,newParent:D,rows:i};let N=!1;const B=a.get("isRowValidDropPosition");if(B){const H=B(M);H?typeof H=="object"&&(H.rows!==void 0&&(M.rows=H.rows??Xw),H.newParent!==void 0&&(M.newParent=H.newParent),H.target!==void 0&&(M.target=H.target),H.position&&(N=!0,M.position=H.position)):M.rows=Xw}return(!M.newParent||!M.rows.length)&&!N&&(M.position=T?"above":"below"),M}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,i){const r=e?.rowIndex;if(n||r===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=r+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const u=e.childrenAfterGroup;if(o&&o.parent===e&&u?.length){const h=new Set(i);for(const p of u)if(p.rowIndex!==null&&!h.has(p))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){Re(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Re(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));const i={isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:r,gos:s}=n,o=HN(this.beans,t).y,a=o>i.getCurrentPagePixelRange().pageLastPixel;let l=-1,u;return a||(l=r.getRowIndexAtPixel(o),u=r.getRow(l)),tt(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const i=this.managedRowsDrop(e,!1);i&&this.dropRows(i),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const i=uf(this.gos),r=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!r.getRowNode(i?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?sV(t)+(e==="above"?0:1):void 0;return r.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Dm(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:i}){let r=!1;const s=this.clientSideRowModel,o=new Set;for(const h of n){if(h.footer||h.rowTop===null&&h!==s.getRowNode(h.id))continue;if(i&&h.parent!==i){if(Dge(h,i))continue;h.treeParent=i,r=!0}const p=O5(h);p&&o.add(p)}if(!r&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),u=l&&bg(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(r=!0),r?(this.refreshModelAfterDrop(),u?u.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const i=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let r=sV(t);r<0||r>=i?r=i:n||++r;let s=r,o=Math.min(r,i-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,r,o]}reorderLeafChildren(e,t,n,i){let r=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const u=s[l];e.has(u)||(u.sourceRowIndex!==o&&(u.sourceRowIndex=o,s[o]=u,r=!0),++o)}let a=i;for(let l=i;l>=n;--l){const u=s[l];e.has(u)||(u.sourceRowIndex!==a&&(u.sourceRowIndex=a,s[a]=u,r=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,r=!0),++o;return r}},Tge=(e,t,n)=>t?Lg(e,-1,n[0]):Lg(e,1,rn(n)),Lg=(e,t,n)=>{if(n){const i=e.getRowCount();let r=n.rowIndex+t;for(;r>=0&&r<i;){const s=e.getRow(r);if(!s||!s.footer)return s;r+=t}}},Dge=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},Age=(e,t)=>{for(let n=0,i=e.length;n<i;++n)if(e[n].parent!==t)return!1;return!0},sV=e=>{const t=O5(e);return t!==void 0?t.sourceRowIndex:-1},O5=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},Pge=class extends ge{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new xge(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,s){return new Sge(e,t,n,i,r,s)}createRowDragCompForRow(e,t){if(Sc(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,s){const o=this.gos;return o.get("rowDragManaged")&&(!ci(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,s)}},Ige=class extends ge{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,i=e.uiLevel,r=t!==this.position,s=i!==this.uiLevel;(n||r||s)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},L5={moduleName:"Drag",version:_e,beans:[Qhe]},Fge={moduleName:"DragAndDrop",version:_e,dynamicBeans:{dndSourceComp:pge},icons:{rowDrag:"grip"}},N5={moduleName:"SharedDragAndDrop",version:_e,beans:[Xhe],dependsOn:[L5],userComponents:{agDragAndDropImage:ype},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Mge={moduleName:"RowDrag",version:_e,beans:[Ige,Pge],apiFunctions:{addRowDropZone:gge,removeRowDropZone:mge,getRowDropZoneParams:vge,getRowDropPositionIndicator:yge,setRowDropPositionIndicator:Cge},dependsOn:[N5]},_ge={moduleName:"HorizontalResize",version:_e,beans:[wge],dependsOn:[L5]},kge=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Oge=class extends ge{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const r=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function Lge(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function Nge(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var Vge=class extends ge{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function Bge(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{const s=e.indexOf(i),o=e.indexOf(r);return s-o})}function Hge(e){const t=[...e];return e.forEach(n=>{let i=null,r=n.getParent();for(;r!=null&&r.getDisplayedLeafColumns().length===1;)i=r,r=r.getParent();i!=null&&(!!i.getColGroupDef()?.marryChildren?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function Gge(e,t,n,i){const r=i.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],u=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(u))continue;const h=u.filter(g=>r.includes(g));if(o===null)o=h;else if(!wd(h,o))break;const p=Uge(u);(s===null||p<s.fragCount)&&(s={move:l,fragCount:p})}return s}function V5(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:u,visibleCols:h}=e;let{allMovingColumns:p}=e;t&&(p=Hge(p));const g=p.slice();Bge(l.getCols(),g);const v=jge({movingCols:g,draggingRight:n,xPosition:i,pinned:o,gos:a,colModel:l,visibleCols:h}),C=zge(g,l);if(v.length===0)return;const S=v[0];if(C!==null&&(t||!r)&&!s&&(!n&&S>=C||n&&S<=C))return;const x=Gge(v,g,u,h);if(!x)return;const D=x.move;if(!(D>l.getCols().length-g.length))return{columns:g,toIndex:D}}function B5(e){const{columns:t,toIndex:n}=V5(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function zge(e,t){const n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,u)=>l-u),r=i[0];return rn(i)-r!==i.length-1?null:r}function Uge(e){function t(i){const r=[];let s=i.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),s=t(e[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function Wge(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function jge(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(T=>T.getColDef().suppressMovable))return[];const u=Wge(a,r),h=o.getCols(),p=u.filter(T=>t.includes(T)),g=u.filter(T=>!t.includes(T)),v=h.filter(T=>!t.includes(T));let C=0,S=i;if(n){let T=0;p.forEach(k=>T+=k.getActualWidth()),S-=T}if(S>0){for(let T=0;T<g.length;T++){const k=g[T];if(S-=k.getActualWidth(),S<0)break;C++}n&&C++}let R;if(C>0){const T=g[C-1];R=v.indexOf(T)+1}else R=v.indexOf(g[0]),R===-1&&(R=0);const x=[R],D=(T,k)=>T-k;if(n){let T=R+1;const k=h.length-1;for(;T<=k;)x.push(T),T++;x.sort(D)}else{let T=R;const k=h.length-1;let L=h[T];for(;T<=k&&u.indexOf(L)<0;)T++,x.push(T),L=h[T];T=R-1;const P=0;for(;T>=P;)x.push(T),T--;x.sort(D).reverse()}return x}function oD(e){const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:s,skipScrollPadding:o}=e;let a=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function W0(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var oV=7,aD=100,uC=aD/2,$ge=5,qge=100,Kge=class extends ge{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ie(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(const r of i){const s=r.getPinned();if(r.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const r=t.visibleState,s=(n||[]).filter(o=>r[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:r,ctrlsSvc:s}=this.beans,o=r.get("suppressMoveWhenColumnDragging");if(i&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&Tn(e.hDirection))return;const a=oD({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const i=e.filter(r=>!r.getColDef().lockVisible);i.length&&this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:i,fromLeft:o,fromEnter:t,fakeEvent:n}),u=B5({...l,finished:r});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:u,visibleCols:h}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:u,visibleCols:h}}highlightHoveredColumn(e,t){const{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),s=i.getCols().filter(h=>h.isVisible()&&h.getPinned()===this.pinned);let o=null,a=null,l=null;for(const h of s){if(a=h.getActualWidth(),o=this.getNormalisedColumnLeft(h,0,r),o!=null){const p=o+a;if(o<=t&&p>=t){l=h;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let h=s.length-1;h>=0;h--){const p=s[h],g=s[h].getParent();if(!g){l=p;break}const v=g?.getDisplayedLeafColumns();if(v.length){l=rn(v);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==r?u=0:u=1,aV(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!o||a==null)return;const l=i.allCols,u=l.indexOf(s),h=l.indexOf(o),p=a===0!==r,g=u<h||u===h&&!p;let v=0;if(p?g&&(v-=1):g||(v+=1),h+v===u)return;const C=l[h+v];if(!C)return;const S=this.getNormalisedColumnLeft(C,20,r);return{fromLeft:g,xPosition:S}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=Yge(e);if(!r||!s||i.column||!t)return{firstMovingCol:r,...i};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:r}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return oD({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>oV;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=V5(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(aV(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let r,s;this.gos.get("enableRtl")?(r=e<n+uC,s=e>i-uC):(s=e<n+uC,r=e>i-uC),this.needToMoveRight=r,this.needToMoveLeft=s,s||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),qge),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*$ge,e>aD&&(e=aD);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:i,dragAndDrop:r,gos:s}=this.beans;if(this.failedMoveAttempts<=oV+1||!i)return;if(r.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:r,dragAndDrop:s}=this.beans;return r?.setColsPinned(i,t,"uiColumnDragged"),n&&s.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function aV(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function Yge(e){const t=e.length;let n,i;for(let r=0;r<t;r++){if(!n){const s=e[r];s.getLeft()!=null&&(n=s)}if(!i){const s=e[t-1-r];s.getLeft()!=null&&(i=s)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var Xge=class extends ge{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r;const s=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[s,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[s,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[s,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new Kge(n)),this.bodyDropPivotTarget=this.createManagedBean(new Vge(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Qge=class extends ge{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){const{colModel:r,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){Re(30,{toIndex:t});return}s?.start();const u=r.getColsForKeys(e);this.doesMovePassRules(u,t)&&(_N(r.getCols(),u,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:i,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!LW(e,t.getColTree())||!(r=>{const s=u=>u?u==="left"||u===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return r.forEach(u=>{const h=s(u.getColDef().lockPosition);o?h>a&&(l=!1):h<a&&(l=!1),a=h}),l})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return _N(i,e,t),i}createBodyDropTarget(e,t){return new Xge(e,t)}moveHeader(e,t,n,i,r){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:u}=this.beans,h=t.getBoundingClientRect(),p=h.left,g=Jn(n),v=g?h.width:n.getActualWidth(),C=e==="left"!==o.get("enableRtl"),S=oD({x:C?p-20:p+v+20,pinned:i,fromKeyboard:!0,gos:o,ctrlsSvc:s}),R=u.focusedHeader;B5({allMovingColumns:g?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:S,pinned:i,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let x;if(g){const D=n.getDisplayedLeafColumns();x=C?D[0]:rn(D)}else x=n;if(s.getScrollFeature().ensureColumnVisible(x,"auto"),(!r.isAlive()||o.get("ensureDomOrder"))&&R){let D;if(g){const T=n.getGroupId(),k=n.getLeafColumns();if(!k.length)return;const L=k[0].getParent();if(!L)return;D=Zge(L,T)}else D=n;D&&u.focusHeaderPosition({headerPosition:{...R,column:D}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:r,dragAndDrop:s,visibleCols:o}=this.beans;let a=!i.get("suppressDragLeaveHidesColumns");const l=Jn(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>eme(t,o.allCols):()=>Jge(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),W0(u,!0)},onDragStopped:()=>W0(u,!1),onDragCancelled:()=>W0(u,!1),onGridEnter:g=>{if(a){const{columns:v=[],visibleState:C}=g??{},S=l?x=>!C||C[x.getColId()]:()=>!0,R=v.filter(x=>!x.getColDef().lockVisible&&S(x));r.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:g=>{if(a){const v=g?.columns?.filter(C=>!C.getColDef().lockVisible)||[];r.setColsVisible(v,!1,"uiColumnMoved")}}};return s.addDragSource(p,!0),p}};function Zge(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Jge(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function eme(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());const r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),$s(n,a))}),n.forEach(a=>r.push(a));const s=[],o=e.getLeafColumns();for(const a of r)o.indexOf(a)!==-1&&s.push(a);return{columns:r,columnsInSplit:s,visibleState:i,containerType:s[0]?.pinned}}var tme={moduleName:"ColumnMove",version:_e,beans:[Qge,Oge],apiFunctions:{moveColumnByIndex:Lge,moveColumns:Nge},dependsOn:[N5],css:[kge]},nme=class extends ge{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),i.appendChild(n);const r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&r.add(u)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}},H5={moduleName:"AutoWidth",version:_e,beans:[nme]};function ime(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var rme=class extends ge{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){const t=l=>l.reduce((u,h)=>u+h.getActualWidth(),0),n=(l,u)=>l.map(h=>h.getActualWidth()/u),i=this.getColumnsToResize(),r=t(i),s=n(i,r),o={columnsToResize:i,resizeStartWidth:r,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),u=o.groupAfterColumns=l.filter(p=>p.isResizable()),h=o.groupAfterStartWidth=t(u);o.groupAfterRatios=n(u,h)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,h=[];if(h.push({columns:r,ratios:o,width:t}),a){const p=t-s;h.push({columns:a,ratios:u,width:l-p})}this.beans.colResize?.resizeColumnSets({resizeSets:h,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},sme=class extends ge{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const e=[];let t,n;const i=()=>{if(kn(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,r(),i())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:s}=this,o=this.normaliseResizeAmount(t),a=r+o,l=[{key:n,newWidth:a}],{pinnedCols:u,ctrlsSvc:h,colResize:p}=s;if(this.column.getPinned()){const g=u?.leftWidth??0,v=u?.rightWidth??0,C=wm(h.getGridBodyCtrl().eBodyViewport)-50;if(g+v+(o-i)>C)return}this.lastResizeAmount=o,p?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},ome=class extends ge{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const r=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const u=s.getColDefCol(l.key)||s.getCol(l.key);if(!u)return;if(r.push({width:l.newWidth,ratios:[1],columns:[u]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const p=a.getColAfter(u);if(!p)return;const g=u.getActualWidth()-l.newWidth,v=p.getActualWidth()+g;r.push({width:v,ratios:[1],columns:[p]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(h=>ame(h)))){if(n){const h=t&&t.length>0?t[0].columns:null;df(this.eventSvc,h,n,i)}return}const s=[],o=[];t.forEach(h=>{const{width:p,columns:g,ratios:v}=h,C={},S={};g.forEach(D=>o.push(D));let R=!0,x=0;for(;R;){if(x++,x>1e3){sn(31);break}R=!1;const D=[];let T=0,k=p;g.forEach((P,_)=>{if(S[P.getId()])k-=C[P.getId()];else{D.push(P);const N=v[_];T+=N}});const L=1/T;D.forEach((P,_)=>{const M=_===D.length-1;let N;M?N=k:(N=Math.round(v[_]*p*L),k-=N);const B=P.getMinWidth(),H=P.getMaxWidth();N<B?(N=B,S[P.getId()]=!0,R=!0):H>0&&N>H&&(N=H,S[P.getId()]=!0,R=!0),C[P.getId()]=N})}g.forEach(D=>{const T=C[D.getId()];D.getActualWidth()!==T&&(D.setActualWidth(T,i),s.push(D))})});const a=s.length>0;let l=[];if(a){const{colFlex:h,visibleCols:p,colViewport:g}=this.beans;l=h?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],p.setLeftValues(i),p.updateBodyWidths(),g.checkViewportColumns()}const u=o.concat(l);(a||n)&&df(this.eventSvc,u,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),r=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(i+t,r),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new sme(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new rme(e,t,n,i)}};function ame(e){const{columns:t,width:n}=e;let i=0,r=0,s=!0;t.forEach(l=>{const u=l.getMinWidth();i+=u||0;const h=l.getMaxWidth();h>0?r+=h:s=!1});const o=n>=i,a=!s||n<=r;return o&&a}var lme={moduleName:"ColumnResize",version:_e,beans:[ome],apiFunctions:{setColumnWidths:ime},dependsOn:[_ge,H5]},cme=class extends ge{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},ume=class extends hI{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:u,rangeSvc:h,colResize:p}=o;this.comp=e,r=pv(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.rowCtrl.pinned,v=s.getProvidedColumnGroup().getLeafColumns();u?.createHoverFeature(r,v,t),h?.createRangeHighlightFeature(r,s,e),r.createManagedBean(new dI(s,t,o)),r.createManagedBean(new cme(e,s)),p?this.resizeFeature=r.createManagedBean(p.createGroupResizeFeature(e,n,g,s)):e.setResizableDisplayed(!1),r.createManagedBean(new Lf(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,v),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return tt(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=rn(t)===e;if(!n&&!i)return;const r=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),u=r===1,h=r===0;n&&(l?a=u:o=h),i&&(l?o=h:a=u)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,r=this.column,s=r.getProvidedColumnGroup(),o=tt(n,{displayName:this.displayName,columnGroup:r,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,u)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,u)},showColumnMenu:(l,u)=>i?.showMenuAfterButtonClick(s,l,"columnMenu",u),showColumnMenuAfterMouseClick:(l,u)=>i?.showMenuAfterMouseEvent(s,l,"columnMenu",u),eGridHeader:this.eGui}),a=Bde(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=i5(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(s=>{e.addManagedListeners(s,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ue.ENTER){const n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function dme(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function hme(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function fme(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function pme(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function gme(e){return e.colGroupSvc?.getColumnGroupState()??[]}function mme(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function vme(e){e.colGroupSvc?.resetColumnGroupState("api")}function yme(e){return e.visibleCols.treeLeft}function Cme(e){return e.visibleCols.treeCenter}function wme(e){return e.visibleCols.treeRight}function bme(e){return e.visibleCols.getAllTrees()}function Sme(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var Eme=class extends ge{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:i,colGroupSvc:r,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(i,r),r?.updateOpenClosedVisibility(),this.leftCols=j0(this.treeLeft),this.centerCols=j0(this.treeCenter),this.rightCols=j0(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const i=n.getProvidedColumnGroup().getLevel()+1;i>e&&(e=i);break}n=n.getParent()}}return e}updateBodyWidths(){const e=_a(this.centerCols),t=_a(this.leftCols),n=_a(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,s;this.gos.get("enableRtl")?(r=t?t[0]:null,s=n?rn(n):null):(r=t?rn(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===r,i),o.setFirstRightPinned(o===s,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new GW,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],r=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):r.push(s):i.push(s)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return Jn(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Jn(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(r){let o=_a(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}Sme(i,s)}),i.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const r=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),h=[a];if(u>1){const g=u-1;for(let v=1;v<=g;v++)h.push(t[o+v]);o+=g}let p;n?(p=!1,h.forEach(g=>{n(g)&&(p=!0)})):p=!0,p&&(r.length===0&&s&&(i&&i(a))&&r.push(s),r.push(a)),s=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};zu(this.treeCenter,!1,e),zu(this.treeLeft,!1,e),zu(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?rn(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return _a(this.leftCols)}getDisplayedColumnsRightWidth(){return _a(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let r;if(Jn(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:rn(s)}else r=e;return(i?n[0]:rn(n))===r}};function zu(e,t,n){if(e)for(let i=0;i<e.length;i++){const r=e[i];if(Jn(r)){const s=t?r.getDisplayedChildren():r.getChildren();zu(s,t,n)}n(r)}}function j0(e){const t=[];return zu(e,!0,n=>{Ec(n)&&t.push(n)}),t}var Rme=class extends ge{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return $a(null,t,n=>{ir(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];$a(null,t,i=>{if(ir(i)){const r=i.getColGroupDef(),s={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:r,eventSvc:s}=this.beans;if(!n.getColTree().length)return;i?.start();const a=[];e.forEach(l=>{const u=l.groupId,h=l.open,p=this.getProvidedColGroup(u);p&&p.isExpanded()!==h&&(p.setExpanded(h),a.push(p))}),r.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i?.finish()}setColumnGroupOpened(e,t,n){let i;ir(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return $a(null,this.beans.colModel.getColTree(),n=>{ir(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?rn(i):i[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](r);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();zu(e,!1,t=>{Jn(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Jn(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let r=null;return zu(n,!1,s=>{if(Jn(s)){const o=s;let a;i?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o)}}),r}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const u=l;l=[];let h=0;const p=g=>{const v=h;h=g;const C=u[v],R=(Jn(C)?C.getProvidedColumnGroup():C).getOriginalParent();if(R==null){for(let D=v;D<g;D++)a.push(u[D]);return}const x=this.createColumnGroup(R,n,o,i,s);for(let D=v;D<g;D++)x.addChild(u[D]);l.push(x)};for(let g=1;g<u.length;g++){const v=u[g],S=(Jn(v)?v.getProvidedColumnGroup():v).getOriginalParent(),R=u[h],D=(Jn(R)?R.getProvidedColumnGroup():R).getOriginalParent();S!==D&&p(g)}h<u.length&&p(u.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,s,o){const a=r.getUniqueKey(t.groupId||null,null),l=MN(this.beans,t,a),u=new YC(l,a,!1,n);this.createBean(u);const h=this.findExistingGroup(t,s);h&&s.splice(h.idx,1);const p=h?.group;p&&u.setExpanded(p.isExpanded());const g=_W(this.beans,l.children,n+1,e,i,r,s,o);return u.setChildren(g),u}balanceColumnTree(e,t,n,i){const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(ir(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a)}else{let a,l;for(let u=t;u<n;u++){const h=i.getUniqueKey(null,null),p=MN(this.beans,null,h),g=new YC(p,h,!0,u);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(r.push(a),e.some(h=>ir(h))){l.setChildren([o]);continue}else{l.setChildren(e);break}r.push(o)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&ir(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const r=e[i];if(ir(r)){const s=r,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(i=>{let r=i;for(let s=t-1;s>=0;s--){const o=new YC(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([r]),r.originalParent=o,r=o}t===0&&(i.originalParent=null),n.push(r)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=d5(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Ie(l)?l.reset():(l=new Tm(e,s,o,i),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=i=>{i.forEach(r=>{if(Jn(r)){const s=r;t[r.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Jn(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},xme={moduleName:"ColumnGroup",version:_e,dynamicBeans:{headerGroupCellCtrl:ume},beans:[Rme],apiFunctions:{getAllDisplayedColumnGroups:bme,getCenterDisplayedColumnGroups:Cme,getColumnGroup:hme,getColumnGroupState:gme,getDisplayNameForColumnGroup:pme,getLeftDisplayedColumnGroups:yme,getProvidedColumnGroup:fme,getRightDisplayedColumnGroups:wme,resetColumnGroupState:vme,setColumnGroupOpened:dme,setColumnGroupState:mme}},Tme={tag:"div",cls:"ag-skeleton-container"},Dme=class extends gn{constructor(){super(Tme)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>ym(t.eParentOfValue)),ym(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");cf(this.getGui(),n)}setupLoading(t){const n=ei({tag:"div",cls:"ag-skeleton-effect"}),i=t.node.rowIndex;if(i!=null){const o=75+25*(i%2===0?Math.sin(i):Math.cos(i));n.style.width=`${o}%`}this.getGui().appendChild(n);const r=this.getLocaleTextFunc(),s=t.deferRender?r("ariaDeferSkeletonCellLoading","Cell is loading"):r("ariaSkeletonCellLoading","Row data is loading");cf(this.getGui(),s)}refresh(t){return!1}},Ame={moduleName:"CheckboxCellRenderer",version:_e,userComponents:{agCheckboxCellRenderer:Rpe}},Pme={moduleName:"SkeletonCellRenderer",version:_e,userComponents:{agSkeletonCellRenderer:Dme}};function Ime(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Fme(e){return e.colModel.getColumnDefs()}function Mme(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function _me(e,t){return e.colModel.getColDefCol(t)}function kme(e){return e.colModel.getColDefCols()}function Ome(e,t){return oo(e,t,"api")}function Lme(e){return Jw(e)}function Nme(e){dde(e,"api")}function Vme(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Bme(e){return e.visibleCols.isPinningLeft()}function Hme(e){return e.visibleCols.isPinningRight()}function Gme(e,t){return e.visibleCols.getColAfter(t)}function zme(e,t){return e.visibleCols.getColBefore(t)}function Ume(e,t,n){e.colModel.setColsVisible(t,n,"api")}function Wme(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function jme(e){return e.colModel.getCols()}function $me(e){return e.visibleCols.leftCols}function qme(e){return e.visibleCols.centerCols}function Kme(e){return e.visibleCols.rightCols}function Yme(e){return e.visibleCols.allCols}function Xme(e){return e.colViewport.getViewportColumns()}function lD(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||G3.has(r))return;const s=n[r];typeof s=="object"&&s!==null&&s.constructor===Object?i[r]=lD(s):i[r]=s}),i}var Qme=class extends ge{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){const r=e.slice();t?r.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&r.sort((a,l)=>i.indexOf(a)-i.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,s,o)}buildColumnDefs(e,t=[],n=[]){const i=[],r={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,u=s.getOriginalParent(),h=null;for(;u;){let p=null;if(u.isPadding()){u=u.getOriginalParent();continue}const g=r[u.getGroupId()];if(g){g.children.push(l),a=!1;break}if(p=this.createDefFromGroup(u),p&&(p.children=[l],r[p.groupId]=p,l=p,u=u.getOriginalParent()),u!=null&&h===u){a=!1;break}h=u}a&&i.push(l)}),i}createDefFromGroup(e){const t=lD(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=lD(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},Zme=class extends ge{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:i}=this.beans,r=i.centerCols;let s=-1;if(e.resizingCols){const C=new Set(e.resizingCols);for(let S=r.length-1;S>=0;S--)if(C.has(r[S])){s=S;break}}let o=!1;const a=r.map((C,S)=>{const R=C.getFlex(),x=R!=null&&R>0&&S>s;return o||(o=x),{col:C,isFlex:x,flex:Math.max(0,R??0),initialSize:C.getActualWidth(),min:C.getMinWidth(),max:C.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,u=a.reduce((C,S)=>C+S.flex,0),h=n;const p=(C,S)=>{C.frozenSize=S,C.col.setActualWidth(S,t),h-=S,u-=C.flex,l-=1},g=C=>C.frozenSize!=null;for(const C of a)C.isFlex||p(C,C.initialSize);for(;l>0;){const C=Math.round(u<1?h*u:h);let S,R=0,x=0;for(const k of a){if(g(k))continue;S=k,x+=C*(k.flex/u);const L=x-R,P=Math.round(L);k.targetSize=P,R+=P}S&&(S.targetSize+=C-R);let D=0;for(const k of a){if(g(k))continue;const L=k.targetSize,P=Math.min(Math.max(L,k.min),k.max);D+=P-L,k.violationType=P===L?void 0:P<L?"max":"min",k.targetSize=P}const T=D===0?"all":D>0?"min":"max";for(const k of a)g(k)||(T==="all"||k.violationType===T)&&p(k,k.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const v=a.filter(C=>C.isFlex&&!C.violationType).map(C=>C.col);if(e.fireResizedEvent){const C=a.filter(R=>R.initialSize!==R.frozenSize).map(R=>R.col),S=a.filter(R=>R.flex).map(R=>R.col);df(this.eventSvc,C,!0,t,S)}return v}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},Jme=["dateTimeString","dateString","text","number","boolean","date"],eve=class extends ge{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===ue.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,r)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=i==null?"":e({column:s,node:null,value:i}),l=r==null?"":e({column:s,node:null,value:r});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},i=h=>p=>{const{column:g,node:v,value:C}=p;let S=g.getColDef().valueFormatter;return S===h.groupSafeValueFormatter&&(S=h.valueFormatter),this.beans.valueSvc.formatValue(g,v,C,S)};for(const h of Object.keys(e)){const p=e[h],g={...p,groupSafeValueFormatter:uV(p,this.gos)};t[h]=g,n[h]=i(g)}const r=this.gos.get("dataTypeDefinitions")??{},s={};for(const h of Object.keys(r)){const p=r[h],g=this.processDataTypeDefinition(p,r,[h],e);g&&(t[h]=g,p.dataTypeMatcher&&(s[h]=p.dataTypeMatcher),n[h]=i(g))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:u}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=u!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const i of Jme)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[s];const a=t[s];if(o&&a&&(o=a),!cV(e,o,s))return;r=lV(o,e)}else{if(n.includes(s)){Re(44);return}const o=t[s];if(!cV(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],i);if(!a)return;r=lV(a,e)}return{...r,groupSafeValueFormatter:uV(r,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){Re(47,{cellDataType:i});return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!ci(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if($0(t,i))return!1;const r=t.type===null?e.type:t.type;if(r){const s=n.get("columnTypes")??{};if(Zw(r).some(a=>{const l=s[a.trim()];return l&&$0(l,i)}))return!1}return!$0(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Mg(i,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[r]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},r={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const h=nve(a,o);h.rowGroup&&h.rowGroupIndex==null&&(i[s]=h),h.pivot&&h.pivotIndex==null&&(r[s]=h),n.push(h)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&oo(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i?.restoreColumnOrder(n,e),r?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=KT(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>Re(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:i,formatValueFuncs:r}=this,s=n[t];i.colFilter?.setColDefPropsForDataType(e,s,r[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){const r=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:r});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>Hr(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):ls(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Hr(n)??void 0,dateFormatter:n=>ls(n??null,t)??void 0,valueParser:n=>ZC(String(n.newValue))?n.newValue:null,valueFormatter:n=>ZC(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&ZC(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:NT(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&dfe(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>NT(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function lV(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...Zw(e.columnTypes),...Zw(t.columnTypes)]),n}function cV(e,t,n){return t?t.baseDataType!==e.baseDataType?(Re(46),!1):!0:(Re(45,{parentCellDataType:n}),!1)}function uV(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const i=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&i!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function tve(e,t,n,i){if(!t[n])return!1;const r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function $0(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>tve(e,t,n,i))}function nve(e,t){const n=HW(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var ive={moduleName:"DataType",version:_e,beans:[eve],dependsOn:[Ame]},rve={moduleName:"ColumnFlex",version:_e,beans:[Zme]},G5={moduleName:"ColumnApi",version:_e,beans:[Qme],apiFunctions:{getColumnDef:Ime,getDisplayNameForColumn:Mme,getColumn:_me,getColumns:kme,applyColumnState:Ome,getColumnState:Lme,resetColumnState:Nme,isPinning:Vme,isPinningLeft:Bme,isPinningRight:Hme,getDisplayedColAfter:Gme,getDisplayedColBefore:zme,setColumnsVisible:Ume,setColumnsPinned:Wme,getAllGridColumns:jme,getDisplayedLeftColumns:$me,getDisplayedCenterColumns:qme,getDisplayedRightColumns:Kme,getAllDisplayedColumns:Yme,getAllDisplayedVirtualColumns:Xme,getColumnDefs:Fme}};function sve(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var ove=class extends ge{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){const s=e.headerValueGetter;if(s){const o=tt(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return sve(e.field)}return""}},ave=class extends ge{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=i.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||lve(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,s=t<i&&n<i,o=t>r&&n>r;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return Ie(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=i=>{const r=new Set,s={};for(const o of i){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!r.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const h=a.getProvidedColumnGroup().getLevel();s[h]??(s[h]=[]),s[h].push(a),r.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function lve(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var cve=class extends ge{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){const s=t(r),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=$P("<span>"+s+"</span>");return}if(s==null){this.eGui=ei({tag:"span"});return}this.eGui=s}}return n}},uve={moduleName:"CellRendererFunction",version:_e,beans:[cve]},dve=class extends ge{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){const s=(o,a,l,u)=>{this.agGridDefaults[o]=a,(l||u)&&(this.agGridDefaultOverrides[o]={params:l,processParams:u})};for(const o of Object.keys(n)){let a=n[o];if(lhe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:u,processParams:h}=a;s(o,l,u,h)}else s(o,a)}}if(i){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(i))this.dynamicBeans[s]=i[s]}if(r?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,u,h)=>({componentFromFramework:l,component:a,params:u,processParams:h}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);const s=this.jsComps[t];if(s){const a=i.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(Jo(279,{name:e}));const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??Jo(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},hve=23,fve=class extends ge{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===hve&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},pve=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',yI=typeof window!="object"||!window?.document?.fonts?.forEach,pf=(e,t,n,i,r,s)=>{if(yI)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let o=Wh.map.get(t);if(o||(o=[],Wh.map.set(t,o)),o.find(h=>h.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:r};let u;for(const h of o){if(h.priority>r)break;u=h}if(u){u.el.insertAdjacentElement("afterend",a);const h=o.indexOf(u);o.splice(h+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},z5=(e,t,n)=>{pf(pve,e,"core",t,0,n),Array.from(nhe()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>i.css?.forEach(r=>pf(r,e,`module-${i.moduleName}`,t,0,n)))},gve=e=>{Wh.grids.add(e)},mve=e=>{if(Wh.grids.delete(e),Wh.grids.size===0){Wh.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},dV,Wh=(dV=typeof window=="object"?window:{}).agStyleInjectionState??(dV.agStyleInjectionState={map:new WeakMap,grids:new Set}),oa=e=>new U5(e),$l="$default",vve=0,U5=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams={[$l]:{...n[$l]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){const s=`ag-theme-${this.feature??"part"}-${++vve}`;typeof r=="function"&&(r=r()),r=`:where(.${s}) {
${r}
}
`;for(const o of this.cssImports??[])r=`@import url(${JSON.stringify(o)});
${r}`;i={css:r,class:s}}else i=!1;this._inject=i}return i&&e&&pf(i.css,e,i.class,t,1,n),i?i.class:!1}},yve=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),W5=e=>`--ag-${yve(e)}`,aa=e=>`var(${W5(e)})`,Cve=(e,t,n)=>Math.max(t,Math.min(n,e)),wve=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},Fo=e=>({ref:"accentColor",mix:e}),Ps=e=>({ref:"foregroundColor",mix:e}),Os=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),bve=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Mr={ref:"backgroundColor"},wh={ref:"foregroundColor"},ka={ref:"accentColor"},lb={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Ps(.15),chromeBackgroundColor:Os(.02),browserColorScheme:"light"},Sve={...lb,textColor:wh,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Mr,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:ka,rangeSelectionBackgroundColor:Fo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Fo(.5),rangeHeaderHighlightColor:bve(.08),rowNumbersSelectedColor:Fo(.5),rowHoverColor:Fo(.08),columnHoverColor:Fo(.05),selectedRowBackgroundColor:Fo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Mr,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Mr,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Ps(.7),focusShadow:{spread:3,color:Fo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Ps(.1),iconButtonActiveColor:ka,iconButtonActiveBackgroundColor:Fo(.28),iconButtonActiveIndicatorColor:ka,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:ka,toggleButtonOffBackgroundColor:Os(.3),toggleButtonSwitchBackgroundColor:Mr,toggleButtonSwitchInset:2,menuBorder:{color:Ps(.2)},menuBackgroundColor:Os(.03),menuTextColor:Os(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Ps(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:ka},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:Ps(.2)},panelBackgroundColor:Mr,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:Ps(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Ps(.13)},selectCellBackgroundColor:Ps(.07),selectCellBorder:{color:Ps(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Mr,filterPanelApplyButtonBackgroundColor:ka,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:wh,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:wh,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Ps(.15),statusBarLabelColor:wh,statusBarLabelFontWeight:500,statusBarValueColor:wh,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},Eve=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",j5={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},Rve={...j5,cellBatchEditTextColor:"#f3d0b3"},xve=()=>oa({feature:"batchEditStyle",params:j5,css:Eve}),Tve=xve(),Dve=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",Ave={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},Pve=()=>oa({feature:"buttonStyle",params:{...Ave,buttonBackgroundColor:Mr,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:ka}},css:Dve}),Ive=Pve(),Fve=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",Mve=()=>oa({feature:"columnDropStyle",css:Fve}),$5=Mve(),_ve=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],kve=wve(e=>(e=e.toLowerCase(),_ve.find(t=>e.endsWith(t.toLowerCase()))??"length")),AS=e=>typeof e=="object"&&e?.ref?aa(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,CI=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=aa(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?aa(e.onto):"transparent"}, ${t} ${Cve(e.mix*100,0,100)}%)`}return!1},Ove=AS,Eh=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${aa(n)} `)})`:e&&"ref"in e?aa(e.ref):!1,Lve=AS,cD=(e,t)=>typeof e=="string"?e:e===!0?cD({},t):e===!1?t==="columnBorder"?cD({color:"transparent"},t):"none":e&&"ref"in e?aa(e.ref):q5(e.style??"solid")+" "+Eh(e.width??{ref:"borderWidth"})+" "+CI(e.color??{ref:"borderColor"}),Nve=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?aa(e.ref):[Eh(e.offsetX??0),Eh(e.offsetY??0),Eh(e.radius??0),Eh(e.spread??0),CI(e.color??{ref:"foregroundColor"})].join(" "),q5=AS,K5=e=>typeof e=="string"?e.includes(",")?e:hV(e):e&&"googleFont"in e?K5(e.googleFont):e&&"ref"in e?aa(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),hV(t))).join(", "):!1,hV=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),Vve=AS,Y5=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?Y5({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?aa(e.ref):!1,Bve=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&sn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?aa(e.ref):!1,Hve={color:CI,colorScheme:Ove,length:Eh,scale:Lve,border:cD,borderStyle:q5,shadow:Nve,image:Y5,fontFamily:K5,fontWeight:Vve,duration:Bve},Gve=(e,t)=>{const n=kve(e);return Hve[n](t,e)},zve=()=>new X5().withPart(Ive).withPart($5).withPart(Tve),X5=class Q5{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof U5?new Q5([...this.parts,t]):(Cg(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(oa({feature:t}))}withParams(t,n=$l){return this.withPart(oa({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(yI)return;Wve(),z5(t,n,i);const s=Uve(this);if(s.length>0)for(const o of s)r&&$ve(o,i);for(const o of this.parts)o.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=fV(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[$l]:{...Sve}};for(const i of fV(this.parts))for(const r of Object.keys(i.modeParams)){const s=i.modeParams[r];if(s){const o=n[r]??(n[r]={}),a=new Set;for(const l of Object.keys(s)){const u=s[l];u!==void 0&&(o[l]=u,a.add(l))}if(r===$l)for(const l of Object.keys(n)){const u=n[l];if(l!==$l)for(const h of a)delete u[h]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let i=this._paramsCssCache;if(!i){let r="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const u=o[l];if(l!==$l){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=p,s+=p}for(const h of Object.keys(u).sort()){const p=u[h],g=Gve(h,p);if(g===!1)sn(107,{key:h,value:p});else{const v=W5(h),C=v.replace("--ag-","--ag-inherited-");r+=`	${v}: var(${C}, ${g});
`,s+=`	${C}: var(${v});
`}}l!==$l&&(r+=`}
`,s+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},fV=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},Uve=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},pV=!1,Wve=()=>{if(!pV){pV=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},jve=new Set,$ve=async(e,t)=>{jve.add(e);const n=`@import url('https://${qve}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;pf(n,document.head,`googleFont:${e}`,void 0,0,t)},qve="fonts.googleapis.com",Kve='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',Yve=()=>oa({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Mr,checkboxUncheckedBorderColor:Os(.3),checkboxCheckedBackgroundColor:ka,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Mr,checkboxIndeterminateBackgroundColor:Os(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Mr,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:Kve}),Xve=Yve(),Z5=()=>({...lb,...Rve,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Os(.05),rowHoverColor:Fo(.15),selectedRowBackgroundColor:Fo(.2),menuBackgroundColor:Os(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:wh,findMatchColor:Mr,findActiveMatchColor:Mr,checkboxUncheckedBorderColor:Os(.4),toggleButtonOffBackgroundColor:Os(.4),rowBatchEditBackgroundColor:Os(.1)}),Qve=()=>({...Z5(),backgroundColor:"#1f2836"}),Zve=()=>oa({feature:"colorScheme",params:lb,modeParams:{light:lb,dark:Z5(),"dark-blue":Qve()}}),Jve=Zve(),J5={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},ej={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},eye=(e={})=>{let t="";for(const n of[...Object.keys(J5),...Object.keys(ej)]){const i=tye(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},tye=(e,t=1.5)=>{const n=ej[e];if(n)return n;const i=J5[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},nye=(e={})=>oa({feature:"iconSet",css:()=>eye(e)}),iye=nye(),rye=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',sye=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",oye={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},aye=()=>oa({feature:"inputStyle",params:{...oye,inputBackgroundColor:Mr,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:ka},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Os(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>rye+sye}),lye=aye(),cye='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',uye={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},dye=()=>oa({feature:"tabStyle",params:{...uye,tabBarBorder:!0,tabBarBackgroundColor:Ps(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Mr},css:cye}),hye=dye(),fye=()=>zve().withPart(Xve).withPart(Jve).withPart(iye).withPart(hye).withPart(lye).withPart($5).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),pye=fye(),gye={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},mye={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},vye={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},gV={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},mV={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},vV={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},q0={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},yV={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},yye=0,Cye=class extends ge{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++yye}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(gV),this.getSizeEl(mV),this.getSizeEl(vV),this.getSizeEl(q0),this.getSizeEl(yV),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>mve(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(yV)}getRowBorderWidth(){return this.getCSSVariablePixelValue(q0)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(gV)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(mV)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(gye)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(mye),n=this.getCSSVariablePixelValue(vye);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(vV)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(const s of Array.from(i.classList))s.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${s}`:s);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?pf(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===K0?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=ei({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=ei({tag:"div"});const{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${K0}px)`)):t.style.width=`var(${e.cssName}, ${K0}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!r&&Re(9,{variable:e});const o=al(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(q0);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme");let s;if(r==="legacy")s=void 0;else{const o=r??pye;o instanceof X5?s=o:sn(240,{theme:o})}if(s!==i){if(s){gve(this),z5(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)pf(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=ei({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}yI||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&sn(r?106:239)}},K0=15538,wye=class extends ge{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new nd}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(tt(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(tt(this.gos,e))}};function tj(e,t,n){const i=e.visibleCols.headerGroupRowCount;if(n>=i)return{column:t,headerRowIndex:n};let r=t.getParent();for(;r&&r.getProvidedColumnGroup().getLevel()>n;)r=r.getParent();const s=t.isSpanHeaderHeight();return!r||s&&r.isPadding()?{column:t,headerRowIndex:i}:{column:r,headerRowIndex:r.getProvidedColumnGroup().getLevel()}}var bye=class extends ge{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Fi(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:r,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=r?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=rn(a||[]).type==="filter",u=Ho(this.beans)-1;let h=-1,p=n;for(;p;)h++,p=p.getParent();let g=h;return t&&l&&g===u-1&&g++,g===-1?null:{headerRowIndex:g,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:i}=this.beans,{focusedHeader:r}=n;if(!r)return!1;const{headerRowIndex:s}=r,o=r.column,a=Ho(this.beans),l=this.getHeaderRowType(s),u=i.headerGroupRowCount;let{headerRowIndex:h,column:p,headerRowIndexWithoutSpan:g}=e==="UP"?Sye(l,o,s):Eye(o,s,u),v=!1;return h<0&&(h=0,p=o,v=!0),h>=a?(h=-1,this.currentHeaderRowWithoutSpan=-1):g!==void 0&&(this.currentHeaderRowWithoutSpan=g),!v&&!p?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:h,column:p},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:r}=this.beans,s={...i.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=r.getCallback("tabToNextHeader");if(t&&l){const u=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(u){const{headerRowIndex:h}=i.focusedHeader||{};h!=null&&h!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=h)}return u}return o||!t?i.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const i=this.beans,r=e.headerRowIndex;let s=null,o;const a=Ho(i),l=this.beans.visibleCols.allCols;if(t==="Before"){if(r<=0)return!1;s=rn(l),o=r-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=r+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:u,headerRowIndex:h}=tj(this.beans,s,o);return h>=a&&(h=-1),i.focusSvc.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:h},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Jn(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?rn(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:i}=this.beans;let r=e.column;if(r instanceof Tm){const l=r.getDisplayedLeafColumns();r=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?i.getColBefore(r):i.getColAfter(r);if(!s)return;const o=i.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:i.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof Cd&&s.isSpanHeaderHeight()?i.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function Sye(e,t,n){const i=n-1;if(e!=="filter"){const r=t instanceof Cd&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>i||r&&s.isPadding());)s=s.getParent();if(s)return r?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:i}:{column:s,headerRowIndex:i,headerRowIndexWithoutSpan:i}}return{column:t,headerRowIndex:i,headerRowIndexWithoutSpan:i}}function Eye(e,t,n){const i=t+1,r={column:e,headerRowIndex:i,headerRowIndexWithoutSpan:i};if(e instanceof Tm){if(i>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:i};let o=e.getDisplayedChildren()[0];if(o instanceof Tm&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}r.column=o,o instanceof Cd&&o.isSpanHeaderHeight()&&(r.headerRowIndex=n,r.headerRowIndexWithoutSpan=i)}return r}var Rye=class extends ge{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Fhe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Nn(this.beans),R5)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Nn(this.beans);return this.isDomDataPresentInHierarchy(e,sb)?!0:this.isDomDataPresentInHierarchy(e,ob)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(pW(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(r.isFullWidthCell=s.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Wa(i),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:r,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:QW(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:s}=this.focusedHeader;return t===r&&n===s&&i==r.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Gu(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){const l=this.focusedHeader,u=Ho(this.beans);if(n){const h=this.gos.getCallback("tabToNextHeader");h&&(a=this.getHeaderPositionFromUserFunc({userFunc:h,direction:t,currentPosition:l,headerPosition:a,headerRowCount:u}))}else{const h=this.gos.getCallback("navigateToNextHeader");if(h&&r){const p={key:r.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:u,event:r};a=h(p)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Gu(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:r}=e,s=this.focusedHeader,o=Ho(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:s});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:h}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});h?.scrollToColumn(o,n);const g=u.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return h&&g&&(r!=null||i)&&(h.currentHeaderRowWithoutSpan=r??-1),g}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=tj(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Ho(this.beans)-1,n=rn(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Wa(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&ld(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(RS(this.beans))return t&&!Gu(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:ff(this.beans,t);const r=t?ghe(this.beans):phe(this.beans);if(r){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=r,l=nl(this.beans,r);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const u=this.gos.get("enableRtl");let h;return!i||i.key===ue.TAB?h=u?ue.LEFT:ue.RIGHT:h=i.key,this.beans.navigation?.navigateToNextCell(null,h,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(r,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Wa(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Ho(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},xye=class extends ge{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:cue();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Tye=class extends ge{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},tw=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Dye=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],wI=Dye.reduce((e,t)=>(e[t]=Oue(t),e),{}),Jp=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),Aye={tag:"span",cls:"ag-sort-indicator-container",children:[Jp("Order","order"),Jp("Asc","ascending-icon"),Jp("Desc","descending-icon"),Jp("Mixed","mixed-icon"),Jp("None","none-icon")]},bI=class extends gn{constructor(e){super(),this.eSortOrder=Ye,this.eSortAsc=Ye,this.eSortDesc=Ye,this.eSortMixed=Ye,this.eSortNone=Ye,e||this.setTemplate(Aye)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=Ls(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(i);if(e&&kn(e,o==="asc",{skipAriaHidden:!0}),t&&kn(t,o==="desc",{skipAriaHidden:!0}),n){const a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=o==null;kn(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;Lo(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";kn(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,s=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=r>=0&&s;kn(e,o,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():ds(e)}},Pye={selector:"AG-SORT-INDICATOR",component:bI},Am=["asc","desc",null],Iye=class extends ge{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);const{gos:r,showRowGroupCols:s}=this.beans,o=Lo(r);let a=[e];if(o&&e.getColDef().showRowGroup){const p=s?.getSourceColumnsForGroupColumn?.(e)?.filter(g=>g.isSortable());p&&(a=[e,...p])}a.forEach(h=>this.setColSort(h,t,i));const l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),u=[];if(!l){const h=this.clearSortBarTheseColumns(a,i);u.push(...h)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(i,u)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=Lo(t),s=i?.getShowRowGroupCol(e.getId()),o=r&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(h=>this.setColSortIndex(h,null));const l=a.filter(h=>r&&h.getColDef().showRowGroup?!1:h!==o);(o.getSort()?[...l,o]:l).forEach((h,p)=>this.setColSortIndex(h,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Am,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let r=[];if(t.forAllCols(u=>{u.getSort()&&r.push(u)}),t.isPivotMode()){const u=Lo(e);r=r.filter(h=>{const p=!!h.getAggFunc(),g=!h.isPrimary(),v=u?n?.getShowRowGroupCol(h.getId()):h.getColDef().showRowGroup;return p||g||v})}const s=i?.columns.filter(u=>!!u.getSort())??[],o={};r.forEach((u,h)=>o[u.getId()]=h),r.sort((u,h)=>{const p=u.getSortIndex(),g=h.getSortIndex();if(p!=null&&g!=null)return p-g;if(p==null&&g==null){const v=o[u.getId()],C=o[h.getId()];return v>C?1:-1}else return g==null?-1:1});const a=Lo(e)&&!!s.length;a&&(r=[...new Set(r.map(u=>n?.getShowRowGroupCol(u.getId())??u))]);const l=new Map;return r.forEach((u,h)=>l.set(u,h)),a&&s.forEach(u=>{const h=n.getShowRowGroupCol(u.getId());l.set(u,l.get(h))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Lo(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-i<50;o||l||this.progressSortFromEvent(t,s)}});const r=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(u=>t.getSort()==u.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new bI(e)}getSortIndicatorSelector(){return Pye}},jh={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},Fye=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),Mye={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?jh[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:jh[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?jh[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},_ye=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Jo(262);if(t.smallLeft)return Jo(263);if(t.smallRight)return Jo(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(r=>!Am.includes(r));if(i.length>0)return`sortingOrder must be an array with elements from [${Am.map(jw).join()}], currently it includes [${i.map(jw).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:r,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),kye={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},Oye=()=>Object.keys(kye),Lye=()=>({objectName:"colDef",allProperties:Oye(),docsUrl:"column-properties/",deprecations:Fye(),validations:_ye()}),Nye=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],Vye=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],Bye=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],nj=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],Hye=["theme","rowSelection"],Gye=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],ij=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],zye=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],Uye=()=>[...Bye,...Vye,...Nye,...nj,...zye,...ij,...Gye,...Hye],Wye=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Io(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var jye={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},$ye=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Io("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Io("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Io("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:r,pinnedBottomRowData:s}){return i&&(r||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:r,pinnedBottomRowData:s}){return i&&(r||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return Jo(262);if(n.smallLeft)return Jo(263);if(n.smallRight)return Jo(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Io("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Io("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Io("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Io("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Io("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const r=i.filter(s=>!Am.includes(s));if(r.length>0)return`sortingOrder must be an array with elements from [${Am.map(jw).join()}], currently it includes [${r.map(jw).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:r,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!r&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Io("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Io("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const i=n.renderingMode,r=["default","legacy"];return i&&!r.includes(i)?`renderingMode must be one of [${r.join()}], currently it's ${i}`:null}}},t={};return ij.forEach(n=>{t[n]={expectedType:"boolean"}}),nj.forEach(n=>{t[n]={expectedType:"number"}}),Er(t,e),t},qye=()=>({objectName:"gridOptions",allProperties:[...Uye(),...Object.values(wI)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Wye(),validations:$ye()}),Kye=0,Yye=0,Xye=class extends ge{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=Yye++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new nd,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=tw.has(t);if(i&&!e||!i&&e||!Qye(t))return;const r=(s,o)=>{const a=wI[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)r(t,n);else if(t==="gridReady"){r(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)r(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??U3[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ie(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:Kye++,properties:[]},r=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(n,a);const u=t||typeof l=="object"&&n==="api",h=s[a];if(u||h!==l){s[a]=l;const p={type:a,currentValue:l,previousValue:h,changeSet:i,source:n};r.push(p)}}this.validateGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{rd(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(i==null||i===!1)continue;let r=t[n];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,n)}}validateGridOptions(e){this.validateOptions(e,jye),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,Mye),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||sn(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:eI(),rowModelType:this.get("rowModelType"),isUmd:she()}}isModuleRegistered(e){return YT(e,this.gridId,this.get("rowModelType"))}};function Qye(e){return!!wI[e]}function rj(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var Zye=rj(!0),Jye=rj(!1),eCe=class extends gn{constructor(){super(...arguments),this.eFilter=Ye,this.eFilterButton=Ye,this.eSortIndicator=Ye,this.eMenu=Ye,this.eLabel=Ye,this.eText=Ye,this.eSortOrder=Ye,this.eSortAsc=Ye,this.eSortDesc=Ye,this.eSortMixed=Ye,this.eSortNone=Ye,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};Er(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?Zye:Jye}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Vde(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=kf(t))}addInIcon(e,t,n){const i=Ls(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){tl(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=rs(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:i,eMenu:r,eFilterButton:s}=this,o=t.column,a=rs(n);if(e&&!a){if(i.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:r,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const i=t.column.isFilterActive();kn(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return tl(t),!1;const r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},tCe={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},nCe=class extends gn{constructor(){super(tCe),this.agOpened=Ye,this.agClosed=Ye,this.agLabel=Ye,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&Re(89)}workOutInnerHeaderGroupComponent(e,t){const n=Hde(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const r=l=>{if(ja(l))return;const u=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);const s=l=>{od(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();kn(e,i),kn(t,!i)}else kn(e,!1),kn(t,!1)}addInIcon(e,t){const n=Ls(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;kn(t,!1),kn(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Ie(t)&&!i&&(this.agLabel.textContent=kf(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},iCe={moduleName:"ColumnHeaderComp",version:_e,userComponents:{agColumnHeader:eCe},icons:{menu:"menu",menuAlt:"menu-alt"}},rCe={moduleName:"ColumnGroupHeaderComp",version:_e,userComponents:{agColumnGroupHeader:nCe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},sCe=class extends ge{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Re(92)}createTask(e,t,n,i,r=!1){this.verify();let s=n;i&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:r};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:r,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,u=n.list,h=i.list,p=Date.now();let g=0;const v=e<=0,C=o.getScrollFeature();for(;v||g<e;){if(!C.scrollGridIfNeeded()){let R;if(l.length)this.sortTaskList(t),R=l.pop().task;else if(u.length)this.sortTaskList(n),R=u.pop().task;else if(h.length)a.wrapOutgoing(()=>{for(;(v||g<e)&&!C.scrollGridIfNeeded();){if(h.length)this.sortTaskList(i),R=h.pop().task,R();else break;g=Date.now()-p}}),R=()=>{};else if(r.length)R=r.pop();else break;R()}g=Date.now()-p}l.length||u.length||h.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ll(this.beans,e)}isQueueEmpty(){return!this.ticking}},oCe={moduleName:"AnimationFrame",version:_e,beans:[sCe]},aCe=class extends ge{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Lu())return;const t=(n,i,r)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(r?.target??null);o?.column&&o.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Lu()||xW("dblclick"))return!1;const i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:r,eMenu:s,eFilterButton:o}=e,a=new yu(e.getGui(),!0),l=e.shouldSuppressMenuHide(),u=l&&Ie(s)&&r.enableMenu,h=u?new yu(s,!0):a;if(r.enableMenu||i?.isHeaderContextMenuEnabled(r.column)){const p=u?"tap":"longTap",g=v=>r.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(h,{[p]:g})}if(r.enableSorting){const p=g=>{const v=g.touchStart.target;l&&(s?.contains(v)||o?.contains(v))||n?.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:p})}if(r.enableFilterButton&&o){const p=new yu(o,!0);e.addManagedListeners(p,{tap:()=>r.showFilter(o)}),e.addDestroyFunc(()=>p.destroy())}e.addDestroyFunc(()=>a.destroy()),u&&e.addDestroyFunc(()=>h.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new yu(t.eGridHeader,!0),i=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new yu(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!Lu())return;const i=new yu(t),r=s=>{xm(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},lCe={moduleName:"Touch",version:_e,beans:[aCe]},cCe=class extends ge{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===ue.UP,i=e===ue.DOWN,r=e===ue.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:u,pinnedRowModel:h}=this.beans,{rowPinned:p}=t;if(n||i)p&&h?n?o=0:o=p==="top"?h.getPinnedTopRowCount()-1:h.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const g=l.get("enableRtl");o=t.rowIndex,s=(r!==g?u.allCols:[...u.allCols].reverse()).find(C=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:C}))}return s?{rowIndex:o,rowPinned:p,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case ue.UP:n=this.getCellAbove(n);break;case ue.DOWN:n=this.getCellBelow(n);break;case ue.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case ue.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,Re(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=NN(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=tb(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let r=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=i[0];const a=NN(this.beans,e);if(Tn(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;r=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:r,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=rn(r);const l=tb(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Tn(l)||!l.rowPinned&&!(i?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function uCe(e){return e.focusSvc.getFocusedCell()}function dCe(e){return e.focusSvc.clearFocusedCell()}function hCe(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function fCe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function pCe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function gCe(e,t,n=!1){const i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var mCe=class extends ge{constructor(){super(),this.beanName="navigation",this.onPageDown=AN(this.onPageDown,100),this.onPageUp=AN(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=Yhe(this.gos,e);let a=!1;switch(n){case ue.PAGE_HOME:case ue.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case ue.LEFT:case ue.RIGHT:case ue.UP:case ue.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case ue.PAGE_DOWN:case ue.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===ue.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:i,focusColumn:r,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;Ie(n)&&!n.isPinned()&&a.ensureColumnVisible(n),Ie(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(i);const{focusSvc:l,rangeSvc:u}=this.beans;l.setFocusedCell({rowIndex:i,column:r,rowPinned:o,forceBrowserFocus:!0}),u?.setRangeToCell({rowIndex:i,rowPinned:o,column:r})}onPageDown(e){const t=this.beans,n=Y0(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:s,rowAutoHeight:o}=t,a=r.getPixelOffset(),l=n.top+i,u=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,n=Y0(t),{pageBounds:i,rowModel:r,rowAutoHeight:s}=t,o=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:r}=this.beans,s=this.getViewportHeight(),o=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),u=r.getRow(e.rowIndex),h=n?u?.rowHeight-s-l:s-l,p=u?.rowTop+h;let g=r.getRowIndexAtPixel(p+l);if(g===e.rowIndex){const C=n?-1:1;t=g=e.rowIndex+C}let v;n?(v="bottom",g<o&&(g=o),t<o&&(t=o)):(v="top",g>a&&(g=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(g))&&(t=g,v="top"),this.navigateTo({scrollIndex:t,scrollType:v,scrollColumn:null,focusIndex:g,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:s}=this.beans,o=r.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const u=s.getRow(l);if(u){const h=u.rowHeight??0;if(a+h>i)break;a+=h}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=Y0(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i,rowPinned:r}=n,s=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s,rowPinned:r})}onHomeOrEndKey(e){const t=e===ue.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,s=n.allCols,o=t?i.getFirstRow():i.getLastRow(),a=r.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:u,rowPinned:h}=e.getRowPosition();(h?u===0:u===o.getFirstRow())&&(l.get("headerHeight")===0||Gu(r)?ff(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof zh&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||ff(r,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:r}=n,s=i.getFocusedCell();if(!s)return!1;let o=bg(n,s);return!o&&(o=r.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){const{editSvc:r,focusSvc:s}=this.beans;let o;const a=e instanceof zh?e:e.getAllCellCtrls()?.[0];return r?.isEditing()?o=r?.moveToNextCell(a,t,n,i):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let r;if(e instanceof ab){if(r={...e.getRowPosition(),column:t?i[0]:rn(i)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(r.column=o.column)}}else r=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(r,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof zh)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return Ie(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let r=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:u,rangeSvc:h}=s;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=o.getNextTabbedCell(r,t);const p=a.getCallback("tabToNextCell");if(Ie(p)){const S=p({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(S===!0)r=e;else{if(S===!1)return!1;r={rowIndex:S.rowIndex,column:S.column,rowPinned:S.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const C=Ho(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:C+r.rowIndex,column:r.column},fromCell:!0}),null}const g=a.get("editType")==="fullRow";if(n&&(!g||i)&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const v=bg(s,r);if(!v){const C=u.getRowByPosition(r);if(!C||!C.isFullWidth()||n)continue;return{...C.getRowPosition(),column:r?.column}}if(!o.isSuppressNavigable(v.column,v.rowNode))return v.setFocusedCellPosition(r),h?.setRangeToCell(r),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=o;for(;r&&(r===n||!this.isValidNavigateCell(r));)u.get("enableRtl")?t===ue.LEFT&&(r=this.getLastCellOfColSpan(r)):t===ue.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),s=Tn(r);if(s&&e&&e.key===ue.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const p=u.getCallback("navigateToNextCell");if(Ie(p)){const v=p({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});Ie(v)?r={rowPinned:v.rowPinned,rowIndex:v.rowIndex,column:v.column}:r=null}}if(!r)return;if(r.rowIndex<0){const p=Ho(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:p+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const h=this.getNormalisedPosition(r);h?this.focusPosition(h):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=bg(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:s}=this.beans,o=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=r.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?rn(o):o[0])};this.focusPosition(u);const h=t??(l!=null&&hhe(u,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:h}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!nl(this.beans,e)}getLastCellOfColSpan(e){const t=bg(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:rn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=vW(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:r}=this.gridBodyCon;!i&&Tn(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function Y0(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var vCe={moduleName:"KeyboardNavigation",version:_e,beans:[mCe,cCe,bye],apiFunctions:{getFocusedCell:uCe,clearFocusedCell:dCe,setFocusedCell:hCe,setFocusedHeader:gCe,tabToNextCell:fCe,tabToPreviousCell:pCe}},yCe=class extends ge{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},CCe=class extends ge{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},wCe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",bCe=class extends ge{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(kn(n,t),Zo(n,e))}},SCe=class extends ge{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Yi(e,"print"),r=i?0:t.getColsLeftWidth(),s=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=wm(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:s}=n;let o=r;!o.length&&!s||(i&&(o=i({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!oc(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new bCe(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:r,visibleCols:s,gos:o}=this.beans;if(!i.cols||!e?.length)return;if(Yi(o,"print")){Re(37);return}r?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(u=>{if(!u)return;const h=i.getCol(u);h&&h.getPinned()!==a&&(this.setColPinned(h,a),l.push(h))}),l.length&&(s.refresh(n),VW(this.eventSvc,l,n)),r?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const r=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(l&&n||!l&&i)?s+u:s;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:r}=this,s=wm(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>s)if(s>i+r)e=s-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let r=!1;if(i<e)return{columns:[],hasLockedPinned:r};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,u=0;const h=0,p=[];let g=i-h-e;for(;(u<o.length||l<a.length)&&g>0;){if(l<a.length){const v=a[l++];if(v.colDef.lockPinned){r=!0;continue}g-=v.getActualWidth(),p.push(v)}if(u<o.length&&g>0){const v=o[u++];if(v.colDef.lockPinned){r=!0;continue}g-=v.getActualWidth(),p.push(v)}}return{columns:p,hasLockedPinned:r}}},ECe={moduleName:"PinnedColumn",version:_e,beans:[SCe],css:[wCe]},RCe=class extends ge{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=$i(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Fi(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),$3(n,"polite"),Yce(n,"additions text"),Kce(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(ds(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},xCe={moduleName:"Aria",version:_e,beans:[RCe]};function TCe(e){e.overlays?.showLoadingOverlay()}function DCe(e){e.overlays?.showNoRowsOverlay()}function ACe(e){e.overlays?.hideOverlay()}var PCe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",ICe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},sj=class extends gn{constructor(){super(ICe),this.eOverlayWrapper=Ye,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(PCe)}handleKeyDown(e){if(e.key!==ue.TAB||e.defaultPrevented||ja(e))return;const t=this.beans;if(bd(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:rn(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=ff(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=JC;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new oI(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const r=Nn(this.beans);r&&!mW(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){const s=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{s.refresh?.(tt(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&ld(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ds(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Nn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},FCe={selector:"AG-OVERLAY-WRAPPER",component:sj},MCe=class extends ge{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=ci(this.gos),this.isServerSide=!this.isClientSide&&yd(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Re(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return FCe}getOverlayWrapperCompClass(){return sj}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!i.get("suppressLoadingOverlay")&&(o=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(qde(this.beans.userCompFactory,tt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(Kde(this.beans.userCompFactory,tt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const i=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},_Ce={moduleName:"Overlay",version:_e,userComponents:{agLoadingOverlay:hpe,agNoRowsOverlay:ppe},apiFunctions:{showLoadingOverlay:TCe,showNoRowsOverlay:DCe,hideOverlay:ACe},beans:[MCe]},kCe=class extends ge{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=lue(),rd(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;rd(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},OCe=400,LCe=class extends ge{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Sc(this.gos)?n():i()}),Sc(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Yi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new NCe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},i=()=>{n(l=>l.onLeftChanged())},r=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Yi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:i,beans:r,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));i?.forEachPinnedRow(t,(l,u)=>{const h=e[u];h&&i.getPinnedRowById(h.rowNode.id,t)===void 0&&(h.destroyFirstPass(),h.destroySecondPass()),l.id in o&&n?(e[u]=o[l.id],delete o[l.id]):e[u]=new ab(l,r,!1,!1,s)});const a=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const r=i[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&Nh(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Jo(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Ho(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(tt(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=tb(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const r=this.getRowByPosition(i);if(r?.isAlive())return{...r.getRowPosition(),column:e.column};i=tb(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const r=t[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){const r={force:n,newData:!1,suppressFlash:i};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(r);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=uD(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const r=i.rowNode;return dD(r,t)})}getCellCtrls(e,t){let n;Ie(t)&&(n={},t.forEach(r=>{const s=this.colModel.getCol(r);Ie(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||i.push(s)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let r;const s=this.stickyRowFeature;s&&(r=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const h=s.extraTopHeight+s.extraBottomHeight;h&&this.updateContainerHeights(h)}const u=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(i&&!l&&!u)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),r!=null)){const h=t?.getFocusCellToUseAfterRefresh();r!=null&&h==null&&(n?.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);const r=o=>{const a=o.rowNode.rowIndex;a==null||a===i||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))r(o);if(e)for(const o of Object.values(e))r(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,n)}),e){const{animationFrameSvc:r}=this.beans;r?.active&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=uD(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!dD(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),Ie(r)&&Ie(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),Ie(r))s=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),OCe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Bu(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{const h=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),g=this.gos.get("suppressRowVirtualisation");let v=!1,C,S;do{const k=t.getPixelOffset(),{pageFirstPixel:L,pageLastPixel:P}=t.getCurrentPagePixelRange(),_=e.divStretchOffset,M=p.getVScrollPosition(),N=M.top,B=M.bottom;g?(C=L+_,S=P+_):(C=Math.max(N+k-h,L)+_,S=Math.min(B+k+h,P)+_),this.firstVisibleVPixel=Math.max(N+k,L)+_,this.lastVisibleVPixel=Math.min(B+k,P)+_,v=this.ensureAllRowsInRangeHaveHeightsCalculated(C,S)}while(v);let R=n.getRowIndexAtPixel(C),x=n.getRowIndexAtPixel(S);const D=t.getFirstRow(),T=t.getLastRow();R<D&&(R=D),x>T&&(x=T),i=R,r=x}const s=Yi(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&r-i>a&&(r=i+a);const l=i!==this.firstRenderedRow,u=r!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ll(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(o||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),s=this.editSvc?.isEditing(e),o=i.detail;return r||s||o?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;const r=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new ab(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},NCe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],$s(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],$s(this.entriesList,e)}getEntries(){return this.entriesList}};function uD(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function dD(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var VCe=class extends ge{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Lo(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Lo(e))}doFullSort(e,t){const n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,r=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",u=this.getValue(i,a.column),h=this.getValue(r,a.column);let p;const g=this.getComparator(a,i);if(g?p=g(u,h,i,r,l):p=Uce(u,h,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const r=!t.group&&n.getColDef().field;if(!r)return;const s=this.beans.colModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:i,showRowGroupCols:r,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(CW(s,i.isPivotActive())){const u=e.allLeafChildren?.[0];return u?n.getValue(t,u,!1):void 0}const l=r?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function BCe(e){e.sortSvc?.onSortChanged("api")}var oj={moduleName:"Sort",version:_e,beans:[Iye,VCe],apiFunctions:{onSortChanged:BCe},userComponents:{agSortIndicator:bI},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},HCe=class extends ge{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),rd(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Bh(e.source))}}};function GCe(e){e.valueCache?.expire()}function zCe(e,t){const{colKey:n,rowNode:i,useFormatter:r}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Tn(s))return null;const o=e.valueSvc.getValueForDisplay(s,i,r);return r?o.valueFormatted??kf(o.value):o.value}var UCe="paste",WCe=class extends ge{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;ci(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===UCe||t.get("suppressChangeDetection"))return;const i=e.node,r=[i],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!i.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Dm(a,o);l.addParentNode(i.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{r.push(u),u.sibling&&r.push(u.sibling)})}n.refreshCells({rowNodes:r})}},jCe=class extends ge{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);sn(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return sn(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},$Ce=class extends ge{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},qCe={moduleName:"ValueCache",version:_e,beans:[$Ce],apiFunctions:{expireValueCache:GCe}},KCe={moduleName:"Expression",version:_e,beans:[jCe]},YCe={moduleName:"ChangeDetection",version:_e,beans:[WCe]},XCe={moduleName:"CellApi",version:_e,apiFunctions:{getCellValue:zCe}},dC={checkSiblings:!0},QCe=class extends ge{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=yd(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1,r="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const S=s.getGroupValue(t,e);if(S==null)return{value:null,valueFormatted:null};if(!n)return{value:S.value,valueFormatted:null};const R=s.formatAndPrefixGroupColValue(S,e,i);return{value:S.value,valueFormatted:R}}if(!e)return{value:t.key,valueFormatted:null};const u=t.leafGroup&&this.colModel.isPivotMode(),h=t.group&&t.expanded&&!t.footer&&!u,p=this.gos.get("groupSuppressBlankHeader")||!t.sibling,g=h&&!p,v=this.getValue(e,t,g,r),C=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:v,valueFormatted:C?this.formatValue(e,t,v):null}}getValue(e,t,n=!1,i="ui"){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),s=r.field,o=e.getColId();let a=t.data;if(this.hasEdit&&i==="ui"){const S=this.editSvc;if(S.isRowEditing(t,dC)&&(a=S.getRowDataValue(t,dC)),S.isEditing()){const R=S.getCellDataValue({rowNode:t,column:e},!0);if(R!==void 0)return R}}let l;const u=r.showRowGroup;if(typeof u=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(u)??-1)>t.level)return null;const h=typeof u!="string"||!t.group,p=t.groupData&&o in t.groupData,g=!n&&t.aggData&&t.aggData[o]!==void 0,v=this.isSsrm&&n&&!!r.aggFunc,C=this.isSsrm&&t.footer&&t.field&&(r.showRowGroup===!0||r.showRowGroup===t.field);if(this.isTreeData&&g)l=t.aggData[o];else if(this.isTreeData&&r.valueGetter)l=this.executeValueGetter(r.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=Mg(a,s,e.isFieldContainsDots());else if(p)l=t.groupData[o];else if(g)l=t.aggData[o];else if(r.valueGetter&&!v){if(!h)return l;l=this.executeValueGetter(r.valueGetter,a,e,t)}else if(C)l=Mg(a,t.field,e.isFieldContainsDots());else if(s&&a&&!v){if(!h)return l;l=Mg(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const S=l.substring(1);l=this.executeValueGetter(S,a,e,t)}return l}parseValue(e,t,n,i){const r=e.getColDef(),s=r.valueParser;if(Ie(s)){const o=tt(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return Ie(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,r=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(i?a=i:r&&(a=l.valueFormatter),a){let u=t?t.data:null;if(t){const p={rowNode:t};if(this.hasEdit){const g=this.editSvc;g.isEditing(p,dC)&&(u=g.getRowDataValue(t,dC))}}const h=tt(this.gos,{value:n,node:t,data:u,colDef:l,column:e});typeof a=="function"?o=a(h):o=s?s.evaluate(a,h):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,i){const r=this.colModel.getColDefCol(t);if(!e||!r)return!1;Tn(e.data)&&(e.data={});const{field:s,valueSetter:o}=r.getColDef();if(Tn(s)&&Tn(o))return Re(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return Re(135),!1;const a=tt(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,i),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(Ie(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const u=this.getValue(r,e);return this.dispatchCellValueChangedEvent(e,a,u,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,u,i),!0}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(r=o[a]===n,r||(o[a]=n)):o=o[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){const r=n.getColId(),s=this.valueCache.getValue(i,r);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,o),o}executeValueGetterWithoutValueCache(e,t,n,i){const r=tt(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let s;return typeof e=="function"?s=e(r):s=this.expressionSvc?.evaluate(e,r),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let r=n;if(i){const s=tt(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&Re(121)),r}},ZCe={moduleName:"CommunityCore",version:_e,beans:[Tye,oge,dve,yde,kCe,Eme,wye,Xye,gde,CCe,yCe,LCe,QCe,Rye,Cye,xye,fve,HCe,ove,ave],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:age,destroy:lge,isDestroyed:cge,getGridOption:uge,setGridOption:dge,updateGridOptions:_5,isModuleRegistered:hge},dependsOn:[ive,tme,lme,oj,iCe,xme,rCe,_Ce,YCe,oCe,vCe,ECe,xCe,lCe,uve,rve,KCe,Pme]};function hD(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e;let s=(n??[]).map((l,u)=>({value:l,relevance:JCe(t,l),idx:u}));if(s.sort((l,u)=>l.relevance-u.relevance),i&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&r&&r>0){const u=s[0].relevance*r;s=s.filter(h=>u-h.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function JCe(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],i=[];const r=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=r;a++){i[0]=a;for(let l=1;l<=s;l++){const u=e[a-1],h=t[l-1];if(u.toLocaleLowerCase()===h.toLocaleLowerCase())++o,u===h&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<r/2-10&&++o,i[l]=n[l-1];else{const p=i[l-1],g=n[l],v=n[l-1];i[l]=1+Math.min(p,g,v)}}[n,i]=[i,n]}return n[s]/(o+1)}var aj={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},X0=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],ewe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:X0,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...X0,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...X0,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},twe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function nwe(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const r=ewe[i];r?r.forEach(s=>{const o=twe[s];(!o||o===t)&&n.push(s)}):n.push(i)}),n}var lj=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,iwe=e=>{const t=e.map(i=>`import { ${Ng(i)} } from '${aj[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>Ng(i,!0)).join(", ")} ]); 

For more info see: ${Lh}/modules/`};function Ng(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function rwe(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>aj[s])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function cj({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var CV=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:s,isUmd:o})=>{const a=nwe(t,r),l=typeof e=="string"?e:lwe[e];if(o)return rwe(l,a);const u=a.filter(g=>g==="IntegratedCharts"||g==="Sparklines"),h=u.length>0?`${u.map(g=>Ng(g)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(g=>Ng(g)).join(", "):Ng(a[0])} is not registered${n?" for gridId: "+i:""}. ${h} Check if you have registered the module:
`}
${iwe(a)}`+(s?` 

${s}`:"")},wV=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,swe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,owe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${swe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const r=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[]).filter(a=>!!i[a])],o=hD({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&r.push(`         Did you mean: [${o.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Lh}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=hD({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:CV,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Lh}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>wV("IntegratedChartsModule"),258:()=>wV("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>CV({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:jh[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Lh}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>lj(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:cj,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function awe(e,t){const n=owe[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),s=`
See ${dW(e,t)}`;return Array.isArray(i)?i.concat(s):[i,s]}var lwe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},bV=new WeakMap,SV=new WeakMap,cwe=1,uwe=class{create(e,t,n,i,r,s){const o=z3.applyGlobalGridOptions(t),a=o.gridId??String(cwe++),l=this.getRegisteredModules(r,a,o.rowModelType),u=this.createBeansList(o.rowModelType,l,a),h=this.createProvidedBeans(e,o,r);if(!u)return;const g={providedBeanInstances:h,beanClasses:u,gridId:a,beanInitComparator:nge,beanDestroyComparator:ige,derivedBeans:[ege],destroyCallback:()=>{SV.delete(C),bV.delete(e),s?.()}},v=new che(g);this.registerModuleFeatures(v,l),n(v),v.getBean("syncSvc").start(),i?.(v);const C=v.getBean("gridApi");return bV.set(e,C),SV.set(C,e),C}getRegisteredModules(e,t,n){return Rm(ZCe,void 0,!0),e?.modules?.forEach(i=>Rm(i,t)),the(t,EV(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);const s=r.apiFunctions;s&&Object.keys(s).forEach(a=>{i?.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;Tn(i)&&(i=new F5);const r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=EV(e),s=i[r];if(!s){Cg(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!rhe()){Cg(272,void 0,lj());return}if(!e){const a=Object.entries(i).filter(([l,u])=>YT(u,n,l));if(a.length==1){const[l,u]=a[0];if(l!==r){const h={moduleName:u,rowModelType:l};Cg(275,h,cj(h));return}}}if(!YT(s,n,r)){Cg(200,{reasonOrId:`rowModelType = '${r}'`,moduleName:s,gridScoped:eI(),gridId:n,rowModelType:r},`Missing module ${s}Module for rowModelType ${r}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function EV(e){return e??"clientSide"}function ua(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function PS(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function uj(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var dwe=class extends ge{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,s)=>t({key:i,defaultValue:r,variableValues:s});const n=e.get("localeText");return(i,r,s)=>{let o=n&&n[i];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??r}}};function hwe(e,t=!1){const n=[],i=[],r=[],s=[],o=[],a=[],l=[],u=[],h=[];let p=0;for(let g=0;g<e.length;g++){const{colId:v,sort:C,sortIndex:S,rowGroup:R,rowGroupIndex:x,aggFunc:D,pivot:T,pivotIndex:k,pinned:L,hide:P,width:_,flex:M}=e[g];h.push(v),C&&(n[S??p++]={colId:v,sort:C}),R&&(i[x??0]=v),typeof D=="string"&&r.push({colId:v,aggFunc:D}),T&&(s[k??0]=v),L&&(L==="right"?a:o).push(v),P&&l.push(v),(M!=null||_)&&u.push({colId:v,flex:M??void 0,width:_})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}function fwe(e){const t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var pwe=class{wrap(e,t,n,i){const r=this.createWrapper(e,i);return t?.forEach(s=>{this.createMethod(r,s,!0)}),n?.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&Re(49,{methodName:t}),null)}}},gwe={tag:"div",cls:"ag-tooltip"},mwe=class extends fI{constructor(){super(gwe)}init(e){const{value:t}=e,n=this.getGui();n.textContent=kf(t);const i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},vwe=1e3,ywe=1e3,RV=100,xV,hC=!1,Cwe=class extends ge{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Lu()&&(hC?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},RV):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||hC)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-xV<vwe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Ie(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),i=tt(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);Yde(this.userCompFactory,i)?.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),xV=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const r=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Fi(this.beans),{keydown:o=>{i.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Nn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?ywe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){hC=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},RV)}unlockService(){hC=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function Q0(e){return e.get("tooltipShowMode")==="whenTruncated"}var wwe=class extends ge{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Cwe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function bwe(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var Swe=class extends ge{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Ewe=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){const s=t===0&&wW(this.gos,r,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||r.group)&&(e.isRowGroupDisplayed(r.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(tt(this.gos,{column:e,node:r}))??""};if(this.processCellCallback)return{value:this.processCellCallback(tt(this.gos,{accumulatedRowIndex:n,column:e,node:r,value:this.valueSvc.getValueForDisplay(e,r,void 0,void 0).value,type:i,parseValue:g=>this.valueSvc.parseValue(e,r,g,this.valueSvc.getValue(e,r,void 0)),formatValue:g=>this.valueSvc.formatValue(e,r,g)??g}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=r.level===-1&&r.footer,u=e.colDef.showRowGroup===!0&&(r.group||o);if(!l&&(s||u)){let g="",v=r;for(;v&&v.level!==-1;){const{value:C,valueFormatted:S}=a.getValueForDisplay(s?void 0:e,v,!0,!0);g=` -> ${S??C??""}${g}`,v=v.parent}return{value:g,valueFormatted:g}}const{value:h,valueFormatted:p}=a.getValueForDisplay(e,r,!0,!0);return{value:h??"",valueFormatted:p}}getHeaderName(e,t){return e?e(tt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function Rwe(e,t){const n=document.defaultView||window;if(!n){Re(52);return}const i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var xwe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Ar="clientSide",yr="serverSide",uh="infinite",Twe={onGroupExpandedOrCollapsed:[Ar],refreshClientSideRowModel:[Ar],isRowDataEmpty:[Ar],forEachLeafNode:[Ar],forEachNodeAfterFilter:[Ar],forEachNodeAfterFilterAndSort:[Ar],resetRowHeights:[Ar],applyTransaction:[Ar],applyTransactionAsync:[Ar],flushAsyncTransactions:[Ar],getBestCostNodeSelection:[Ar],getServerSideSelectionState:[yr],setServerSideSelectionState:[yr],applyServerSideTransaction:[yr],applyServerSideTransactionAsync:[yr],applyServerSideRowData:[yr],retryServerSideLoads:[yr],flushServerSideAsyncTransactions:[yr],refreshServerSide:[yr],getServerSideGroupLevelState:[yr],refreshInfiniteCache:[uh],purgeInfiniteCache:[uh],getInfiniteRowCount:[uh],isLastRowIndexKnown:[uh,yr],expandAll:[Ar,yr],collapseAll:[Ar,yr],onRowHeightChanged:[Ar,yr],setRowCount:[uh,yr],getCacheBlockState:[uh,yr]},Dwe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function Awe(e,t,n){const i=Dwe[e];if(i){const{version:s,new:o,old:a,message:l}=i,u=a??e;return(...h)=>{const p=o?`Please use ${o} instead. `:"";return kg(`Since ${s} api.${u} is deprecated. ${p}${l??""}`),t.apply(t,h)}}const r=Twe[e];return r?(...s)=>{const o=n.rowModel.getType();if(!r.includes(o)){Oh(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,s)}:t}var Pwe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},Iwe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},Fwe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},Mwe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),_we=class extends ge{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,gue(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&xwe[t]&&Re(22,{key:t})}processGridOptions(e){this.processOptions(e,qye())}validateApiFunction(e,t){return Awe(e,t,this.beans)}missingUserComponent(e,t,n,i){const r=jh[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):Re(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){const t=Pwe[e];return t?Jo(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){Owe.has(e)&&Re(10,{eventType:e})}validateIcon(e){if(Mwe.has(e)&&Re(43,{iconName:e}),Iwe[e])return;const t=Fwe[e];if(t){sn(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:eI(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Re(134,{iconName:e})}isProvidedUserComp(e){return!!jh[e]}validateColDef(e){this.processOptions(e,Lye())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(i)],r,o,a);const l=new Set;Object.keys(e).forEach(h=>{const p=i[h];if(p){const{message:D,version:T}=p;l.add(`As of v${T}, ${String(h)} is deprecated. ${D??""}`)}const g=e[h];if(g==null||g===!1)return;const v=n[h];if(!v)return;const{dependencies:C,validate:S,supportedRowModels:R,expectedType:x}=v;if(x){const D=typeof g;if(D!==x){l.add(`${String(h)} should be of type '${x}' but received '${D}' (${g}).`);return}}if(R){const D=this.gridOptions.rowModelType??"clientSide";if(!R.includes(D)){l.add(`${String(h)} is not supported with the '${D}' row model. It is only valid with: ${R.join(", ")}.`);return}}if(C){const D=this.checkForRequiredDependencies(h,C,e);if(D){l.add(D);return}}if(S){const D=S(e,this.gridOptions,this.beans);if(D){l.add(D);return}}}),l.size>0&&l.forEach(h=>{kg(h)})}checkForRequiredDependencies(e,t,n){const r=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return r.length===0?null:r.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){const s=["__ob__","__v_skip","__metadata__"],o=kwe(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const u=o[l];let h=`invalid ${i} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;n.includes("context")&&(h+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),kg(h)}if(a.length>0&&r){const l=this.beans.frameworkOverrides.getDocLink(r);kg(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return awe(e,t)}};function kwe(e,t,n){const i={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=hD({inputValue:s,allSuggestions:n}).values),i}var Owe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Lwe={moduleName:"Validation",version:_e,beans:[_we]};function dj(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Nwe=class extends ge{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):i.childrenAfterFilter=i.childrenAfterGroup,dj(i)};if(this.doingTreeDataFiltering()){const i=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(s.childrenAfterGroup[a],u):n(l,u)}n(s,o)},r=s=>i(s,!1);t.executeFromRootNode(r)}else{const i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Vwe=class extends hI{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;const s=pv(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return tt(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Ls("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Lf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();cf(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(Nn(t)===this.eGui)return;const r=bd(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ue.UP:case ue.DOWN:case ue.LEFT:case ue.RIGHT:if(t)return;od(e);case ue.ENTER:t&&ld(this.eGui)&&e.preventDefault();break;case ue.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Nu(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const r=this.lastFocusEvent,s=!!(r&&r.key===ue.TAB);if(r&&s){const o=r.shiftKey;ld(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new dI(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!rs(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:i}=this,r=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(i.get("enableFilterHandlers")){const h=s;let p="filter";h?.afterFloatingFilter?p="ui":h?.afterDataChange?p="dataChanged":s?.source==="api"&&(p="api"),this.updateFloatingFilterParams(this.userCompDetails,p);return}const l=t?.getCurrentFloatingFilterParentModel(n),u=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,u)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:r}),t?.isFilterActive(n)&&r(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.beans.colFilter,r=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!r?this.updateCompDetails(e,r,n):s.then(o=>{!o||i?.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:Pi(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function Bwe(e,t){const n=e.colModel.getCol(t);if(!n){sn(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function Hwe(e){e.menuSvc?.hidePopupMenu()}var Gwe={moduleName:"SharedMenu",version:_e,beans:[upe],apiFunctions:{showColumnMenu:Bwe,hidePopupMenu:Hwe}},fC=0,zwe=200,Uwe=class extends ge{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:r,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const u=()=>{const h=this.keepXYWithinBounds(n,o.top-a.top,0),p=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${p}px`,l=!0);const v=a.right-a.left-p;let C;return this.gos.get("enableRtl")?(C=R(),C<0&&(C=S(),this.setAlignedStyles(n,"left")),C>v&&(C=0,this.setAlignedStyles(n,"right"))):(C=S(),C>v&&(C=R(),this.setAlignedStyles(n,"right")),C<0&&(C=0,this.setAlignedStyles(n,"left"))),{x:C,y:h};function S(){return o.right-a.left-2}function R(){return o.left-a.left-p}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,i,r)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:u,type:h}=e,p=s.getBoundingClientRect(),g=this.getParentRect();this.setAlignedTo(s,t);const v=()=>{let C=p.left-g.left;o==="right"&&(C-=t.offsetWidth-p.width);let S;return a==="over"?(S=p.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,g,e.nudgeY||0)==="under"?S=p.top-g.top+p.height:S=p.top-t.offsetHeight-(i||0)*2-g.top),{x:C,y:S}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:v,postProcessCallback:()=>this.callPostProcessPopup(h,t,s,null,l,u)})}shouldRenderUnderOrAbove(e,t,n,i){const r=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:h,y:p}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(h+=i),r&&(p+=r),n&&(h=this.keepXYWithinBounds(t,h,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${h}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const u=al(this.beans,t,()=>l(!0));setTimeout(()=>u(),zwe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Fi(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),nW(t)}keepXYWithinBounds(e,t,n){const i=n===0,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=Fi(this.beans),u=l.documentElement,h=this.getPopupParent(),p=e.getBoundingClientRect(),g=h.getBoundingClientRect(),v=l.documentElement.getBoundingClientRect(),C=h===l.body,S=Math.ceil(p[o]);let x=C?(i?tW:Gw)(u)+u[a]:h[r];C&&(x-=Math.abs(v[s]-g[s]));const D=x-S;return Math.min(Math.max(t,0),Math.abs(D))}addPopup(e){const t=Fi(this.beans),{eChild:n,ariaLabel:i,ariaOwns:r,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return Re(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const u=this.createPopupWrapper(n,!!s,i,r),h=this.addEventListenersToPopup({...e,wrapperEl:u});return o&&o(),this.addPopupToPopupList(n,u,h,a),{hideFunc:h}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();Ie(e.style.top)||(e.style.top=`${n.top*-1}px`),Ie(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,i){const r=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=ei({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||id(e,"dialog"),n?cf(e,n):i&&(e.id||(e.id=`popup-component-${fC}`),xN(i,e.id)),a.appendChild(e),r.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Fi(t),i=this.getPopupParent(),{wrapperEl:r,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:u,ariaOwns:h}=e;let p=!1;const g=R=>{if(!r.contains(Nn(t)))return;R.key===ue.ESCAPE&&!ja(R)&&S({keyboardEvent:R})},v=R=>S({mouseEvent:R}),C=R=>S({touchEvent:R}),S=(R={})=>{const{mouseEvent:x,touchEvent:D,keyboardEvent:T,forceHide:k}=R;!k&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:D},s)||p)||(p=!0,i.removeChild(r),n.removeEventListener("keydown",g),n.removeEventListener("mousedown",v),n.removeEventListener("touchstart",C),n.removeEventListener("contextmenu",v),this.eventSvc.removeEventListener("dragStarted",v),o&&o(x||D||T),this.removePopupFromPopupList(s,h))};return a&&a({hidePopup:S}),window.setTimeout(()=>{l&&n.addEventListener("keydown",g),u&&(n.addEventListener("mousedown",v),this.eventSvc.addEventListener("dragStarted",v),n.addEventListener("touchstart",C),n.addEventListener("contextmenu",v))},0),S}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:fC,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i),fC=fC+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&xN(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,s=i.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,g)=>{const v=n[p]-s[p],C=o(r.style[p]);return{initialDiff:v,lastDiff:v,initial:C,last:C,direction:g}},l=a("top",0),u=a("left",1),h=this.beans.frameworkOverrides;return new Ht(p=>{h.wrapIncoming(()=>{h.setInterval(()=>{const g=t.getBoundingClientRect(),v=i.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const S=(R,x)=>{const D=o(r.style[x]);R.last!==D&&(R.initial=D,R.last=D);const T=g[x]-v[x];if(T!=R.lastDiff){const k=this.keepXYWithinBounds(r,R.initial+R.initialDiff-T,R.direction);r.style[x]=`${k}px`,R.last=k}R.lastDiff=T};S(l,"top"),S(u,"left")},200).then(g=>{p(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(Hue(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=Fi(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;const s=[],o=[];for(const g of n)g!==r&&(g.classList.contains("ag-always-on-top")?o.push(g):s.push(g));const a=[],l=o.length,p=r.classList.contains("ag-always-on-top")||!l?[...s,...o,r]:[...s,r,...o];for(let g=0;g<=i;g++){const v=p[g];if(n[g]===p[g]||v===r)continue;v.querySelectorAll("div").forEach(S=>{S.scrollTop!==0&&a.push([S,S.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",v):p[g-1].insertAdjacentElement("afterend",v)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},IS={moduleName:"Popup",version:_e,beans:[Uwe]},Wwe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function jwe(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function $we(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function qwe(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function Kwe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function Ywe(e){return e.filterManager?.getFilterModel()??{}}function Xwe(e,t,n){const{gos:i,colModel:r,colFilter:s}=e;n&&!i.get("enableFilterHandlers")&&(Re(288),n=!1);const o=r.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function Qwe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function Zwe(e,t){const n=e.colModel.getCol(t);if(!n){sn(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function Jwe(e){e.menuSvc?.hideFilterMenu()}function ebe(e,t){const n=e.colModel.getCol(t);if(!n){sn(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function tbe(e,t){const{colModel:n,colFilter:i,gos:r}=e;if(!r.get("enableFilterHandlers")){Re(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&i?.updateModel(a,o)}else i?.updateAllModels(o)}var nbe={filterHandler:()=>({doesFilterPass:()=>!0})},ibe=class extends ge{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...h5},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const h=e[u];s.push(this.setModelOnFilterWrapper(l,h)),a.delete(u)}),a.forEach(l=>{const u=n.getColDefCol(l)||n.getCol(l);if(!u){Re(62,{colId:l});return}if(!u.isFilterAllowed()){Re(63,{colId:l});return}const h=this.getOrCreateFilterWrapper(u,!0);if(!h){Re(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(h,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});Ht.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((u,h)=>{const p=o?o[h]:null,g=a?a[h]:null;vm(p,g)||l.push(u.column)}),l.length>0&&r?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:i,beans:{colModel:r}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);Ie(a)&&(t[o]=a)}),!e)for(const s of Object.keys(i)){const o=i[s];Ie(o)&&!n.has(s)&&r.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const i of Object.keys(t)){const r=t[i];this.state.set(i,{model:Pi(this.model,i),state:r})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((i,r)=>{const s=i.state;s!=null&&(n=!0,t[r]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return Pi(this.model,n);const i=e.filter;return i?typeof i.getModel!="function"?(Re(66),null):i.getModel():Pi(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(Re(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!$T(n),r=u=>{if(!u.isPrimary())return!0;const p=!t.isPivotActive();return!u.isValueActive()||!p?!1:t.isPivotMode()?!0:i},s=[],o=[],a=(u,h,p)=>{h&&(r(u)?s.push(p):o.push(p))},l=[];return this.allColumnFilters.forEach(u=>{const h=u.column,p=h.getColId();if(u.isHandler)l.push(Ht.resolve().then(()=>{a(h,this.isHandlerActive(h),{colId:p,isHandler:!0,handler:u.handler,handlerParams:u.handlerParams})}));else{const g=Bl(u);g&&l.push(g.then(v=>{a(h,e(v),{colId:p,isHandler:!1,comp:v})}))}}),Ht.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(i=>{const r=i.column;if(i.isHandler)n.push(Ht.resolve().then(()=>{this.setColFilterActive(r,this.isHandlerActive(r),e,t)}));else{const s=Bl(i);s&&n.push(s.then(o=>{this.setColFilterActive(r,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Ht.all(n)}doFiltersPass(e,t,n){const{data:i,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i,a=this.model;for(let l=0;l<s.length;l++){const u=s[l],{colId:h,isHandler:p}=u;if(h!==t)if(p){const{handler:g,handlerParams:v}=u;if(!g.doesFilterPass({node:e,data:o,model:Pi(a,h),handlerParams:v}))return!1}else{const g=u.comp;if(typeof g.doesFilterPass!="function"){sn(91);continue}if(!g.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{const{column:s,isHandler:o}=r;i!==s.getColId()&&(o&&r.handler.onAnyFilterChanged?.(),Bl(r,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();const r=Bl(n,i);r&&t.push(r.then(s=>{s.onNewRowsLoaded?.()}))}),Ht.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:i}=this.beans;return(r,s)=>{const o=s?i.getCol(s):e;return o?n.getValue(o,r,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():Pi(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=Ie(Pi(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Bl(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=Bl(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return _ue(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":mfe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,r,s){const o=()=>{const u=this.createFilterCompParams(e,r,s),h=i(u,r);return jde(this.beans.userCompFactory,t,h,n)},a=o();return a?{compDetails:a,createFilterUi:u=>(u?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){const r=this.beans.selectableFilter;r?.isSelectable(t)&&(t=r.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,i,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:u,createFilterUi:h}=l;return this.isGlobalButtons&&(u.params?.buttons?.length||Re(281,{colId:e.getColId()})),{compDetails:u,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:h}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:i}=this.beans;return tt(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:r=>n?.doesRowPassOtherFilters(e.getColId(),r)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){const r=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,i);if(s.filterChangedCallback=r,s.filterModifiedCallback=i?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=Pi(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(u,h)=>{this.updateStoredModel(a,u),this.refreshHandlerAndUi(e,u,"ui").then(()=>{r({...h,source:"columnFilter"})})},o.onStateChange=u=>{this.updateState(e,u),this.updateOrRefreshFilterUi(e)},o.onAction=(u,h,p)=>{this.updateModel(e,u,h),this.dispatchLocalEvent({type:"filterAction",column:e,action:u,event:p})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=u=>this.filterUiChanged(e,u),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const i=t(),r={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),r}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:i,handlerParams:r,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...r,source:"init",model:Pi(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:r,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:i,registry:r}=this.beans;let s;const o=p=>{const g=p.filter;if(zW(g)){const v=g.handler;return v||(s=g.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof g=="string"?g:void 0},a=n.get("enableFilterHandlers")?o(e):void 0,l=p=>()=>this.createBean(r.createDynamicBean(p,!0));let u,h;if(typeof a=="string"){const p=n.get("filterHandlers")?.[a];p!=null?u=p:nfe.has(a)&&(u=l(a),h=a)}else u=a;if(!u){let p;const{compName:g,jsComp:v,fwComp:C}=jW(i,e);g?p=g:v==null&&C==null&&e.filter===!0&&(p=t),h=this.handlerMap[p],h&&(u=l(h))}if(u)return{filterHandler:u,handlerNameOrCallback:s??h}}createHandler(e,t,n){let i=this.createHandlerFunc(t,n);if(!i){const u=this.gos;if(!u.get("enableFilterHandlers"))return;ci(u)&&Re(277,{colId:e.getColId()}),i=nbe}const r=_0(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=i,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,r);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const i=e.getColDef(),r=t(tt(this.gos,{column:e,colDef:i})),s=this.createHandlerParams(e,n);return{handler:r,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),i=e.getColId(),r=this.filterChangedCallbackFactory(e);return tt(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(i,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(i,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{r({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const r=i&&e.every(s=>i.isGroupFilter(s));e.length>0&&!r&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:i,selectableFilter:r}=this.beans,s=g=>{const v=this.getOrCreateFilterUi(e);v?.then(C=>{g(Em(C))})},o=e.getColDef(),a=r?.isSelectable(o)?r.getFilterDef(e,o):o,l=Sfe(i,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",u=this.gos.get("enableFilterHandlers"),h=_0(n,a,this.createFilterCompParams(e,u,"init",!0)),p=tt(this.gos,{column:e,filterParams:h,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(u){const g=p,v=e.getColId(),C=this.filterChangedCallbackFactory(e);g.onUiChange=S=>this.floatingFilterUiChanged(e,S),g.model=Pi(this.model,v),g.onModelChange=(S,R)=>{this.updateStoredModel(v,S),this.refreshHandlerAndUi(e,S,"floating",!0).then(()=>{C({...R,source:"columnFilter"})})},g.getHandler=()=>this.getHandler(e,!0),g.source="init"}return Xde(n,o,p,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){if(e.isHandler){const r=t.getColId();delete this.initialModel[r],this.state.delete(r);const s=e.filterUi,o=this.createFilterUiForHandler(n,i);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{r&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:i,isHandler:r,filterUi:s}=e,o=i.getColId();r&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(s){if(s.created)return s.promise.then(l=>(n=r?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return Ht.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const i=this.beans,r=n.column,s=r.getColDef(),o=r.isFilterAllowed(),a=this.getDefaultFilter(r),l=i.selectableFilter,u=l?.isSelectable(s)?l.getFilterDef(r,s):s,h=o?this.createHandlerFunc(u,this.getDefaultFilter(r)):void 0,p=!!h,g=n.isHandler;if(g!=p){this.destroyFilter(r,"paramsUpdated");return}const{compDetails:v,createFilterUi:C}=(o?this.createFilterComp(r,u,a,R=>R,p,"colDef"):null)??{compDetails:null,createFilterUi:null},S=v?.params??_0(i.userCompFactory,u,this.createFilterCompParams(r,p,"colDef"));if(g){const R=h?.handlerNameOrCallback??h?.filterHandler,x=Pi(this.model,e);if(n.handlerGenerator!=R){const D=n.handler,{handler:T,handlerParams:k}=this.createHandlerFromFunc(r,h.filterHandler,S);n.handler=T,n.handlerParams=k,n.handlerGenerator=R,delete this.model[e],T.init?.({...k,source:"init",model:null}),this.destroyBean(D),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[r],source:t})}else{const D=this.createHandlerParams(r,v?.params);n.handlerParams=D,n.handler.refresh?.({...D,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,v)||!n.filterUi||!v){this.destroyFilterUi(n,r,v,C);return}n.filterUi.filterParams=S,Bl(n,g)?.then(R=>{(R?.refresh?R.refresh(S):!0)===!1?this.destroyFilterUi(n,r,v,C):this.dispatchLocalEvent({type:"filterParamsChanged",column:r,params:S})})}refreshHandlerAndUi(e,t,n,i){const r=this.cachedFilter(e);if(!r)return i&&this.getOrCreateFilterWrapper(e,!0),Ht.resolve();if(!r.isHandler)return Ht.resolve();const{filterUi:s,handler:o,handlerParams:a}=r;return ife(()=>{if(s){const{created:l,filterParams:u}=s;if(l)return s.promise.then(h=>h?{filter:h,filterParams:u}:void 0);s.refreshed=!0}return Ht.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(r=>{i(Em(r))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:i,model:r}=this,s=e.getColId(),o=i.get(s);return o?o.model??null:Pi(r,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const i=new Promise(r=>{n=r});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:Pi(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):Ht.resolve()}setColDefPropsForDataType(e,t,n){const i=e.filter,r=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof r!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:u}=e;r==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,u,t,n)??{}:{filterParams:s,filterValueGetter:o}=ffe(r,l,u,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new Ht(i=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){i();return}this.refreshHandlerAndUi(s,t,"api").then(()=>i());return}const r=Bl(e);if(r){r.then(s=>{if(typeof s?.setModel!="function"){Re(65),i();return}(s.setModel(t)||Ht.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){Ie(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const i=e.getColId(),r=()=>this.cachedFilter(e)?.filterUi;GN(t,r,()=>Pi(this.model,i),()=>this.state.get(i),s=>this.updateState(e,s),s=>r()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((i,r)=>{const s=this.beans.colModel.getColDefCol(r);s&&GN(e,()=>i.filterUi,()=>Pi(this.model,r),()=>this.state.get(r),o=>this.updateState(s,o),o=>{this.updateStoredModel(r,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&Ht.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();p5(()=>this.cachedFilter(e)?.filterUi,()=>Pi(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const r of n)if(r.source==="COLUMN_MENU")return!1;let i=!1;for(const r of e.keys()){const s=e.get(r);if(s.valid===!1)return!1;(s.model??null)!==Pi(t,r)&&(i=!0)}return i}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==Pi(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function rbe(e){return!!e.filterManager?.isAnyFilterPresent()}function sbe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var obe=class extends ge{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){$T(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Ht.resolve()).then(()=>{const r={source:t,type:"filterChanged",columns:i};n&&Er(r,n),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!$T(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){Re(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},abe=class extends ge{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,rs(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let r=-1,s="left";const o=rs(this.gos);!o&&this.gos.get("enableRtl")&&(r=1,s="right");const a=o?void 0:4*r,l=o?void 0:4;this.showPopup(e,u=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,i)}showPopup(e,t,n,i,r,s){const o=e?this.createBean(new cfe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){sn(57);return}const a=ei({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:S=>this.trapFocusWithin(S,a)}),a.appendChild(o?.getGui());let l;const u=()=>o?.afterGuiDetached(),h=kue(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=S=>{YN(e,!1,"contextMenu");const R=S instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),R&&i&&sa(i)&&s5(i)?.focus({preventScroll:!0}),u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},g=this.getLocaleTextFunc(),v=r&&n!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),C=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(a),anchorToElement:h,ariaLabel:v});C&&(this.hidePopup=l=C.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),YN(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==ue.TAB||e.defaultPrevented||bd(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),ld(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},lbe=class extends ge{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const i=e.getColDef(),{selectableFilter:r,valueSvc:s}=this.beans,o=n??r?.getFilterValueGetter(e.getColId())??i.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,i):s.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){const{expressionSvc:s,valueSvc:o}=this.beans,a=tt(this.gos,{data:t,node:i,column:n,colDef:r,getValue:o.getValueCallback.bind(o,i)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},cbe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},ube=class extends gn{constructor(){super(cbe,[DS]),this.eFloatingFilterText=Ye}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,i=n.getHandler();if(i.getModelAsString){const r=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(r)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},SI=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(s=>t[s]!=null)?!0:(Re(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;Re(73)}else Re(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Vg(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function cb(e){return e==null||typeof e=="string"&&e.trim().length===0}function dbe(e){return e==="AND"||e==="OR"?e:"AND"}function hbe(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function fbe(e,t){let n=e.length;return n>t&&(e.splice(t),Re(78),n=t),n}function Pm(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:r}=n;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var EI=class extends wfe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new SI;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=dbe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&wd(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Ht.resolve();if(e.operator){const i=e;let r=i.conditions;r==null&&(r=[],Re(77));const s=fbe(r,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=i.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),r.forEach((l,u)=>{this.eTypes[u].setValue(l.type,!0),this.setConditionIntoUi(l,u)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Ht.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Re(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(Re(80),n=1),n>t&&(Re(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new vI);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const e=ei({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const i=this.eJoinPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new Hpe);e.push(i);const r="ag-filter-condition-operator";return i.addCss(r),i.addCss(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{const s=this.isConditionDisabled(r,e);i.setDisabled(s||this.filterListOptions.length<=1),r===1&&(Cm(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((i,r)=>{kn(i,this.isConditionBodyVisible(r))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOrs.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,s,o)=>{this.setElementDisplayed(i,r<o),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinPanels:r,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){Vg(e,t,n).forEach(r=>tl(r))}removeComponents(e,t,n){Vg(e,t,n).forEach(r=>{tl(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof Du&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),i=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof Du))return;const s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof Du&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof gn&&kn(e.getGui(),t)}setElementDisabled(e,t){e instanceof gn&&Cm(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Du&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=Pm(t,this.optionsFactory),r=this.getInputs(e);for(let s=0;s<r.length;s++){const o=r[s];o!=null&&n(o,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Pm(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,r,s)=>{s===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},hj=class{constructor(e,t,n,i,r,s){this.alive=!0,this.context=e,this.eParent=r;const o=$de(t,n,i);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:u}=this;l&&a.setDate(l),u!=null&&a.setDisabled?.(u),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){kn(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},RI=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function fj(e,t){const{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&Hr(n)||null,i&&Hr(i)||null].slice(0,Pm(r,t))}var TV=1e3,DV=1/0,pbe=class extends EI{constructor(){super("dateFilter",fj,RI),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=TV,this.maxValidYear=DV,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,u)=>{const h=e[l];if(h!=null)if(isNaN(h))Re(82,{param:l});else return h==null?u:Number(h);return u},n=t("minValidYear",TV),i=t("maxValidYear",DV);this.minValidYear=n,this.maxValidYear=i,n>i&&Re(83);const{minValidDate:r,maxValidDate:s}=e,o=r instanceof Date?r:Hr(r);this.minValidDate=o;const a=s instanceof Date?s:Hr(s);this.maxValidDate=a,o&&a&&o>a&&Re(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:i},params:r}=this,s=new hj(n,t,r.colDef,tt(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=ei({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const r=ei({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Vg(this.eConditionPanelsFrom,e,t),Vg(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){Vg(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,s)=>{r!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=ls(i[0])),i.length>1&&(n.dateTo=ls(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},pj=class extends ge{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new SI;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,i=[];if(n){const o=t;i.push(...o.conditions??[])}else i.push(t);const r=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return i[r](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let s=bfe(t)?t.conditions:[t];const o=n?.map(h=>typeof h=="string"?h:h.displayKey)??this.defaultOptions;if(!(!s||s.every(h=>o.find(p=>p===h.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const u=this.filterType;if((s&&!s.every(h=>h.filterType===u)||t.filterType!==u)&&(s=s.map(h=>({...h,filterType:u})),l=!0),typeof i=="number"&&s&&s.length>i&&(s=s.slice(0,i),l=!0),l){const h=s.length>1?{...t,filterType:u,conditions:s}:{...s[0],filterType:u};this.params={...e,model:h},e.onModelChange(h);return}}individualConditionPasses(e,t,n){const i=this.optionsFactory,r=this.mapValuesFromModel(t,i),s=i.getCustomOption(t.type),o=hbe(s,r,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}},gj=class extends pj{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const r=this.comparator(),s=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=r(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return cb(t);case"notBlank":return!cb(t);default:return Re(76,{filterModelType:i}),!0}}},mj={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},gbe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},xI=class extends ge{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?Jl(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(u=>this.getModelAsString(u,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Jl(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?Jl(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:u}=o||{};return a&&l&&u===0?n(a,l):this.conditionToString(s,i,s.type==="inRange"||u===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,r,s){let o;const a=this.getTypeKey(e);return a&&(o=Jl(this,a)),r&&s&&(o=this.getLocaleTextFunc()(r,s)),o!=null?t?`${o} ${Jl(this,"filterSummaryInRangeValues",[n(),i()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},vj=class extends xI{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:i,valueSvc:r}=this.beans,s=t.column,a=i?.getDateFormatterFunction(s)?.(n??void 0);return r.formatValue(s,null,a)}),this.filterTypeKeys=mj}conditionToString(e,t,n,i,r){const{type:s}=e,o=Hr(e.dateFrom),a=Hr(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,u=t?this.formatValue.bind(this):g=>eD(g,l),h=()=>o!==null?u(o):"null",p=()=>a!==null?u(a):"null";if(t){const g=this.conditionForToolPanel(s,n,h,p,i,r);if(g!=null)return g}return n?`${h()}-${p()}`:o!=null?u(o):`${s}`}};function mbe(e,t){const n=t;return n<e?-1:n>e?1:0}var vbe=class extends gj{constructor(){super(fj,RI),this.filterType="date",this.FilterModelFormatterClass=vj}comparator(){return this.params.filterParams.comparator??mbe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},yj=class extends gn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new SI;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:i,model:r}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(r)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},ybe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},Cbe=class extends yj{constructor(){super(ybe,[DS]),this.eReadOnlyText=Ye,this.eDateWrapper=Ye,this.FilterModelFormatterClass=vj,this.filterType="date",this.defaultOptions=RI}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Hr(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){kn(this.eDateWrapper,e),kn(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,i=ls(e),r=i==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:i};t.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=rI(e,this.defaultDebounceMs);return tt(this.gos,{onDateChanged:$i(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new hj(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},wbe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},bbe=class extends gn{constructor(){super(wbe,[DS]),this.eDateInput=Ye,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&md();const{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:u}=e.filterParams||{},h=this.beans.dataTypeSvc,p=l??h?.getDateIncludesTimeFlag?.(u.cellDataType)??!1;if(n?p?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&i&&Re(85),o&&r&&Re(86),s&&o){const[g,v]=[s,o].map(C=>C instanceof Date?C:Hr(C));g&&v&&g.getTime()>v.getTime()&&Re(87)}s?s instanceof Date?t.min=eD(s):t.min=s:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=eD(o):t.max=o:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Hr(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(ls(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},TI=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function fD(e){const{allowedCharPattern:t}=e??{};return t??null}function pD(e){return e==null||isNaN(e)?null:e}function Cj(e,t){const{filter:n,filterTo:i,type:r}=e||{};return[pD(n),pD(i)].slice(0,Pm(r,t))}var Sbe=class extends EI{constructor(){super("numberFilter",Cj,TI),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:i}=this.params,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createEValue(){const e=fD(this.params),t=ei({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const r=this.createManagedBean(i?new Sd({allowedCharPattern:i}):new mI);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(pD(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Wa(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},wj=class extends xI{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=mj}conditionToString(e,t,n,i,r){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const u=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),i,r);if(u!=null)return u}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},Ebe=class extends gj{constructor(){super(Cj,TI),this.filterType="number",this.FilterModelFormatterClass=wj}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},bj=class extends ge{constructor(e){super(),this.params=e,this.eInput=Ye,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Sd(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function Sj(e){const t=e?.trim();return t===""?e:t}function Ej(e,t){const{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,Pm(r,t))}var Rbe={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},Rj=class extends yj{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ye,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(Rbe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=xS(e.filterParams),!r){const s=rI(e.filterParams,i),o=$i(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();ds(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===ue.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:i,params:r,lastType:s}=this;let o=i.getValue();if(r.filterParams.trimInput&&(o=Sj(o),i.setValue(o,!0)),n){const a=r,l=a.model,u=this.convertValue(o),h=u==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:u};a.onModelChange(h,{afterFloatingFilter:!0})}else r.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},xbe=class extends ge{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new mI),this.eTextInput=this.createManagedBean(new Sd),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Tbe=class extends Rj{constructor(){super(...arguments),this.FilterModelFormatterClass=wj,this.filterType="number",this.defaultOptions=TI}updateParams(e){fD(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=fD(e.filterParams),this.allowedCharPattern?this.createManagedBean(new bj({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new xbe)}convertValue(e){return e?Number(e):null}},DI=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Dbe=class extends EI{constructor(){super("textFilter",Ej,DI),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{if(r<o){let a=Wa(i.getValue());t&&this.params.trimInput&&(a=Sj(a)??null,i.setValue(a,!0)),n.push(a)}}),n}createEValue(){const e=ei({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new Sd);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:i,eValuesTo:r}=this;n(i),n(r)}},xj=class extends xI{constructor(){super(...arguments),this.filterTypeKeys=gbe}conditionToString(e,t,n,i,r){const{filter:s,filterTo:o,type:a}=e;if(t){const l=h=>()=>Jl(this,"filterSummaryTextQuote",[h]),u=this.conditionForToolPanel(a,n,l(s),l(o),i,r);if(u!=null)return u}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},Abe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},Pbe=e=>e,Ibe=e=>e==null?null:e.toString().toLowerCase(),Fbe=class extends pj{constructor(){super(Ej,DI),this.filterType="text",this.FilterModelFormatterClass=xj}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??Abe,this.formatter=t.textFormatter??(t.caseSensitive?Pbe:Ibe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const r=e.map(g=>this.formatter(g))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:u,filterParams:{textFormatter:h}}=this.params;if(n.type==="blank")return cb(t);if(n.type==="notBlank")return!cb(t);const p={api:o,colDef:a,column:l,context:u,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:h};return r.some(g=>this.matcher({...p,filterText:g}))}},Mbe=class extends Rj{constructor(){super(...arguments),this.FilterModelFormatterClass=xj,this.filterType="text",this.defaultOptions=DI}createFloatingFilterInputService(){return this.createManagedBean(new bj)}};function _be(e){return!!e.quickFilter?.isFilterPresent()}function kbe(e){return e.quickFilter?.getText()}function Obe(e){e.quickFilter?.resetCache()}var Lbe=class extends ge{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Ie(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Re(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return Ie(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const r=tt(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return Ie(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);Ie(i)&&t.push(i)}),t.join(`
`)}},Nbe={moduleName:"ClientSideRowModelFilter",version:_e,rowModels:["clientSide"],beans:[Nwe]},AI={moduleName:"FilterCore",version:_e,beans:[obe],apiFunctions:{isAnyFilterPresent:rbe,onFilterChanged:sbe},css:[Wwe],dependsOn:[Nbe]},Tj={moduleName:"FilterValue",version:_e,beans:[lbe]},FS={moduleName:"ColumnFilter",version:_e,beans:[ibe,abe],dynamicBeans:{headerFilterCellCtrl:Vwe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:jwe,getColumnFilterInstance:$we,destroyFilter:qwe,setFilterModel:Kwe,getFilterModel:Ywe,getColumnFilterModel:Xwe,setColumnFilterModel:Qwe,showColumnFilter:Zwe,hideColumnFilter:Jwe,getColumnFilterHandler:ebe,doFilterAction:tbe},dependsOn:[AI,IS,Tj,Gwe]},Vbe={moduleName:"CustomFilter",version:_e,userComponents:{agReadOnlyFloatingFilter:ube},dependsOn:[FS]},Bbe={moduleName:"TextFilter",version:_e,dependsOn:[FS],userComponents:{agTextColumnFilter:{classImp:Dbe,params:{useForm:!0}},agTextColumnFloatingFilter:Mbe},dynamicBeans:{agTextColumnFilterHandler:Fbe}},Hbe={moduleName:"NumberFilter",version:_e,dependsOn:[FS],userComponents:{agNumberColumnFilter:{classImp:Sbe,params:{useForm:!0}},agNumberColumnFloatingFilter:Tbe},dynamicBeans:{agNumberColumnFilterHandler:Ebe}},Gbe={moduleName:"DateFilter",version:_e,dependsOn:[FS],userComponents:{agDateColumnFilter:{classImp:pbe,params:{useForm:!0}},agDateInput:bbe,agDateColumnFloatingFilter:Cbe},dynamicBeans:{agDateColumnFilterHandler:vbe}},zbe={moduleName:"QuickFilterCore",version:_e,rowModels:["clientSide"],beans:[Lbe],dependsOn:[AI,Tj]},Ube={moduleName:"QuickFilter",version:_e,apiFunctions:{isQuickFilterPresent:_be,getQuickFilter:kbe,resetQuickFilter:Obe},dependsOn:[zbe]},Wbe={moduleName:"ExternalFilter",version:_e,dependsOn:[AI]},jbe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Z0=(e,t,n)=>{const{editModelSvc:i}=e,r=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=r||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},$be=class extends ge{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const r=Q0(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!i&&r&&!a.headerComponent&&(i=jC(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:i};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const r=Q0(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!i&&r&&!a?.headerGroupComponent&&(i=jC(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,n){const{beans:i}=this,{gos:r,editSvc:s}=i,{column:o,rowNode:a}=e;let l="cell";const u=()=>{const v=!!!s?.isEditing(e)&&Z0(i,e,this.getLocaleTextFunc());if(v)return l="cellEditor",v;l="cell";const C=o.getColDef(),S=a.data;if(C.tooltipField&&Ie(S))return Mg(S,C.tooltipField,o.isTooltipFieldContainsDots());const R=C.tooltipValueGetter;return R?R(tt(r,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},h=Q0(r);n||(h&&!e.isCellRenderer()?n=()=>{const g=!!s?.isEditing(e);if(!g&&Z0(i,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const S=jC(()=>{const R=e.eGui;return R.children.length===0?R:R.querySelector(".ag-cell-value")});return!g&&S()}:n=()=>!s?.isEditing(e));const p={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:u,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(p,i)}setupFullWidthRowTooltip(e,t,n,i){const r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(r,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:i}=n,r=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!r)return;const s={getGui:()=>r,getTooltipValue:()=>Z0(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),u=a?.getCellValidationModel()?.getCellValidationMap(),h=!!l&&l.size>0,p=!!u&&u.size>0;return h||p}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,i)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Ie(t.tooltipField)||Ie(t.tooltipValueGetter)||Ie(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Dj={moduleName:"Tooltip",version:_e,beans:[$be],dynamicBeans:{tooltipFeature:wwe},userComponents:{agTooltipComponent:mwe},dependsOn:[IS],css:[jbe]},bh=class{constructor(e){this.cellValueChanges=e}},J0=class extends bh{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},qbe=10,AV=class{constructor(e){this.actionStack=[],this.maxStackSize=e||qbe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Kbe=class extends ge{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&QW(this.activeCellEdit,t),i=this.activeRowEdit!==null&&fhe(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:u}=e,h={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new AV(n),this.redoStack=new AV(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[i],r),s instanceof J0?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:s,columnId:o}=i,a={rowIndex:r,rowPinned:s},l=nl(this.beans,a);l.displayed&&l.setDataValue(o,t(i),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;const s=i.startRow,o=i.endRow;r===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},s=nl(this.beans,r),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:s,rangeSvc:o}=this.beans,a=r.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:i};s.setFocusedCell({...u,forceBrowserFocus:!0}),o?.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new bh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new bh(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new bh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new J0(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Sc(n)?e=new J0(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new bh(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new bh(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},Ybe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",Xbe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},Qbe=class extends TS{constructor(){super(Xbe,[gI]),this.eEditor=Ye}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=SS(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},MS=class extends TS{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Ye}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:i,eventKey:r,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;i?(this.focusAfterAttached=!0,r===ue.BACKSPACE||r===ue.DELETE?o="":r&&r.length===1?s?a=!1:o=r:(o=t.getStartValue(),r!==ue.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:u}=l;(u===ue.PAGE_UP||u===ue.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;md()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},Zbe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},Jbe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return Zbe}getAgComponents(){return[P5]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:r,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:r,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){const l=i instanceof Date?i:new Date(i);if(t<l){const u=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${u}`,[u]))}}if(r){const l=r instanceof Date?r:new Date(r);if(t>l){const u=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${u}`,[u]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!Ie(n)&&!Ie(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ls(e,this.includeTime??!1)}},eSe=class extends MS{constructor(){super(new Jbe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},tSe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},nSe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return tSe}getAgComponents(){return[P5]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:r,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:r,max:s,getValidationErrors:o}=t;let a=[];if(i){const l=new Date(i),u=this.getLocaleTextFunc();if(r){const h=new Date(r);if(l<h){const p=h.toLocaleDateString();a.push(u("minDateValidation",`Date must be after ${p}`,[p]))}}if(s){const h=new Date(s);if(l>h){const p=h.toLocaleDateString();a.push(u("maxDateValidation",`Date must be before ${p}`,[p]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!Ie(n)&&!Ie(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return ls(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Hr(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ls(e??null,this.includeTime??!1)??void 0}},iSe=class extends MS{constructor(){super(new nSe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},rSe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},sSe=class extends TS{constructor(){super(rSe,[zpe]),this.eEditor=Ye}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:i,value:r,maxLength:s,cols:o,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(a||10);let l;n?(this.focusAfterAttached=!0,i===ue.BACKSPACE||i===ue.DELETE?l="":i&&i.length===1?l=i:(l=r.toString(),i!==ue.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=r.toString()),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ue.LEFT||t===ue.UP||t===ue.RIGHT||t===ue.DOWN||e.shiftKey&&t===ue.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,i=this.getLocaleTextFunc();e.setInputAriaLabel(i("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!Ie(i)&&!Ie(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),r=this.getValue();let s=[];return typeof r=="string"&&t!=null&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,internalErrors:s,cellEditorParams:e}):s}},oSe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},aSe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return oSe}getAgComponents(){return[Upe]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:i,precision:r,step:s}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),i?i({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===ue.UP||e.key===ue.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!Ie(n)&&!Ie(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){md()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},lSe=class extends MS{constructor(){super(new aSe(()=>this.getLocaleTextFunc()))}},cSe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},uSe=class extends TS{constructor(){super(cSe,[Xpe]),this.eEditor=Ye,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:i}=this,{values:r,value:s,eventKey:o}=e;if(Tn(r)){Re(58);return}this.startedByEnter=o!=null?o===ue.ENTER:!1;let a=!1;r.forEach(p=>{const g={value:p},v=n.formatValue(e.column,null,p),C=v!=null;g.text=C?v:p,t.addOption(g),a=a||s===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:h}=e;l!=null&&t.setPickerGap(l),h!=null&&t.setPickerMaxHeight(h),u!=null&&t.setPickerMaxWidth(u),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue();let r=[];if(t&&!t.includes(i)){const s=this.getLocaleTextFunc();r.push(s("invalidSelectionValidation","Invalid selection."))}else r=null;return n?n({value:i,internalErrors:r,cellEditorParams:e}):r}},dSe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},hSe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return dSe}getAgComponents(){return[DS]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),r=this.getLocaleTextFunc();let s=[];return t!=null&&typeof i=="string"&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!Ie(n)&&!Ie(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=Ie(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},PV=class extends MS{constructor(){super(new hSe(()=>this.getLocaleTextFunc()))}};function fSe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function pSe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function Aj(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function Pj(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function gSe(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function mSe(e){e.undoRedo?.undo("api")}function vSe(e){e.undoRedo?.redo("api")}function ySe(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,r)=>{const{rowIndex:s,rowPinned:o}=r;i.forEach((a,l)=>{const{editorValue:u,pendingValue:h,sourceValue:p,state:g}=a,v=ac(a);let C=u??h;C===qs&&(C=void 0);const S={newValue:C,oldValue:p,state:g,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(g==="editing"||g==="changed"&&v)&&n.push(S)})}),n}function CSe(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(i=>{i.state==="editing"&&n.revertSingleCellEdit(i)}):Tu(e,!0),Hh(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function wSe(e,t){const n=Rn(e,t);return e.editSvc?.isEditing(n)??!1}function bSe(e,t){const{key:n,colKey:i,rowIndex:r,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(i);if(!l){Re(12,{colKey:i});return}const h=nl(e,{rowIndex:r,rowPinned:s||null});if(!h){Re(290,{rowIndex:r,rowPinned:s});return}if(!l.isCellEditable(h))return;s==null&&Pj(e,r),Aj(e,i),o?.startEditing({rowNode:h,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function SSe(e){return e.editSvc?.validateEdit()||null}function ESe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function RSe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var xSe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},TSe=class extends fI{constructor(e){super(xSe),this.params=e}postConstruct(){sd(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{iD(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},ub=(e,t=!1)=>{if(e!==void 0)return ac(e)||t&&e.state==="editing"};function Ij(e,t,n=!1){return ub(e.editModelSvc?.getEdit(t),n)}function Fj(e,t){const{editModelSvc:n}=e,{column:i,rowNode:r}=t;if(e.gos.get("groupTotalRow")&&!r?.footer)return!1;for(const s of r?.allLeafChildren??[])if(ub(n?.getEdit({rowNode:s,column:i}))||ub(n?.getEdit({rowNode:s.pinnedSibling,column:i})))return!0}function Mj(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return ub(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var DSe=class extends ge{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const r=Ij(n,e)||Fj(n,e)||Mj(n,e);this.applyBatchingStyle(r)}else this.applyBatchingStyle(!1);const i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},ASe=class extends ge{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let i=e.rowNode,r=t?.getEditRow(i);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!r&&i.pinnedSibling&&(i=i.pinnedSibling,r=t?.getEditRow(i)),r){const o=Array.from(r.keys()).some(a=>{const l={rowNode:i,column:a};return Ij(n,l,!0)||Fj(n,l)||Mj(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:r})=>{r.toggleCss("ag-row-editing",i&&t),r.toggleCss("ag-row-batch-edit",i&&t&&n),r.toggleCss("ag-row-inline-editing",t),r.toggleCss("ag-row-not-inline-editing",!t),r.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},PSe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{const r=new Set;return e.forEachNode(s=>i.has(s)&&r.add(s)),t?.forEachPinnedRow("top",s=>i.has(s)&&r.add(s)),t?.forEachPinnedRow("bottom",s=>i.has(s)&&r.add(s)),i.forEach(s=>{r.has(s)||n.removeEdits({rowNode:s})}),r},ISe=({editModelSvc:e},t,n)=>{t.forEach(i=>e?.getEditRow(i)?.forEach((r,s)=>!n.has(s)&&e.removeEdits({rowNode:i,column:s})))},FSe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());ISe(e,PSe(e,i),t)},MSe=new Set(["undo","redo"]),_j={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},_Se=new Set(Object.keys(_j)),kSe=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),pC={cancel:!0,source:"api"},OSe={cancel:!1,source:"api"},dh={checkSiblings:!0},eg={force:!0,suppressFlash:!0},LSe=class extends ge{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,pC),this.createStrategy(i)});const t=FSe(e),n=()=>{const i=this.model.getCellValidationModel().getCellValidationMap().size>0,r=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||r?this.stopEditing(void 0,pC):this.isEditing()&&(this.isBatchEditing()?Hh(e,this.model.getEditPositions()):this.stopEditing(void 0,OSe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,pC)):(this.stopEditing(void 0,pC),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:i}=this,r=e??n.get("editType")??"singleCell";if(i){if(i.beanName===r)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,i)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return Rhe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??dh)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:i=null,source:r="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=Rn(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const a=this.shouldStartEditing?.(e,i,n,r);if(a===!1&&r!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,r)&&this.stopEditing(void 0,{source:r}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,i,r,s)}stopEditing(e,t){const{event:n,cancel:i,source:r="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(_Se.has(r))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:_j[r]});if(!(this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,dh))||!this.strategy)return!1;const u=Rn(o,e);u&&(u.onEditorAttachedFuncs=[]);let h=a.getEditMap(!0),p=!1;const g=!i&&!!this.shouldStopEditing(e,n,r),v=i&&!!this.shouldCancelEditing(e,n,r);if(g||v){Tu(o,!0);const C=a.getEditMap();this.processEdits(C,i),this.strategy?.stop(i,n),this.bulkRefresh(void 0,h),h=C,p||(p=g)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const C=n.key,S=C===ue.ENTER,R=C===ue.ESCAPE,x=C===ue.TAB;(S||x||R)&&(S||x?Tu(o,!0):R&&this.revertSingleCellEdit(u),this.isBatchEditing()?this.strategy?.cleanupEditors():Hh(o,a.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,h,{suppressFlash:!0}),h=a.getEditMap())}else Tu(o,!0),h=a.getEditMap();return p&&e&&this.model.removeEdits(e),!s&&u&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,u.cellPosition),QT(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),v&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(h.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),p&&g&&this.dispatchBatchEvent("batchEditingStopped",h)),p}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?ue.UP:ue.DOWN;this.beans.navigation?.navigateToNextCell(null,i,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:i}=this,r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const a=e.get(o);for(const l of a.keys()){const u=a.get(l),h={rowNode:o,column:l},p=Rn(i,h),g=ac(u),v=p?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!v&&g&&!r&&(this.setNodeDataValue(o,l,u.pendingValue)||s.push(h)),p?.refreshCell(eg)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,i){const{beans:r}=this,s=Rn(r,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),i&&s?.refreshCell(eg),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(eg)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:i,sourceValue:r}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:i,oldValue:r,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:i,gos:r}=this,{editModelSvc:s,rowModel:o}=i;ci(r)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const u of a.keys())this.refCell({rowNode:l,column:u},a.get(u),n)}))}refCell({rowNode:e,column:t},n,i={}){const{beans:r,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const u=e.sibling;u&&a.add(u);let h=e.parent;for(;h;)h.sibling?.footer&&s.get("groupTotalRow")||!h.parent&&h.sibling&&s.get("grandTotalRow")?a.add(h.sibling):a.add(h),h=h.parent;o.forEach(p=>this.dispatchEditValuesChanged({rowNode:p,column:t},n)),o.forEach(p=>Rn(r,{rowNode:p,column:t})?.refreshCell(i)),a.forEach(p=>Rn(r,{rowNode:p,column:t})?.refreshCell(i))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const i=Rn(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!i?.hasBrowserFocus()&&i?.focusCell(),i?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(i&&this.revertSingleCellEdit(i),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=Rn(this.beans,e);n?.comp?.getCellEditor()&&(Hh(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),hf(this.beans,e,{silent:!0}),ad(this.beans),n?.refreshCell(eg),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){ad(this.beans);const t=Rn(this.beans,e);t&&(t.refreshCell(eg),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let r;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof zh&&s&&(r=this.strategy?.moveToNextEditingCell(e,t,n,i,o)),r===null||(r=r||!!this.beans.focusSvc.focusedHeader,r===!1&&!o&&this.stopEditing()),r}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let i=this.model.getEdit({rowNode:e,column:t});const r=e.pinnedSibling;if(r){const o=this.model.getEdit({rowNode:r,column:t});o&&(i=o)}const s=n?i?.editorValue??i?.pendingValue:i?.pendingValue;return s===qs||!i?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){yhe(this,this.beans,e)}createPopupEditorWrapper(e){return new TSe(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!kSe.has(n))return;const{beans:i}=this;this.strategy??(this.strategy=this.createStrategy());const r=this.isBatchEditing()?"ui":"api";if(!n||MSe.has(n))return QC(i,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return QC(i,e,!0,t),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return i.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return QC(i,e,!0,t),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){bhe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,dh))return;const{rowNode:i,column:r}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(i,dh),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,dh);if(o!==void 0&&a?.has(r))return{valueToDisplay:this.valueSvc.getValue(r,i)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return tt(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:i,rangeSvc:r,valueSvc:s}=this;Tu(i,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(u=>{if(r?.forEachRowInRange(u,h=>{const p=nl(i,h);if(p===void 0)return;const g=o.get(p)??new Map;for(const v of u.columns)if(v&&this.isCellEditable({rowNode:p,column:v},"api")){const C=s.getValue(v,p,!0,"api");let S=s.parseValue(v,p??null,a,C);Number.isNaN(S)&&(S=null),g.set(v,{editorValue:void 0,pendingValue:S,sourceValue:C,state:"changed"})}g.size>0&&o.set(p,g)}),this.setEditMap(o),this.batch){this.cleanupEditors(),QT(i),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=Rn(i,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new DSe(e,t)}createRowStyleFeature(e,t){return new ASe(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:i,valueSvc:r}=n,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:u,rowPinned:h,newValue:p,state:g})=>{const v=o?i.getCol(o):l?i.getCol(l):a;if(!v)return;const C=nl(n,{rowIndex:u,rowPinned:h});if(!C)return;const S=r.getValue(v,C,!0,"api");if(!ac({pendingValue:p,sourceValue:S})&&g!=="editing")return;let R=s.get(C);R||(R=new Map,s.set(C,R)),p===void 0&&(p=qs),R.set(v,{editorValue:void 0,pendingValue:p,sourceValue:S,state:g??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=Rn(this.beans,e);if(!t||!this.isEditing(t,dh))return;const n=this.model.getEdit(t);if(!n||!ac(n))return;const r=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(r,"pendingChange")}allowedFocusTargetOnValidation(e){return Rn(this.beans,e)}},kj=class extends ge{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:i,beans:r}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=Rn(r,n));const{gos:o,editModelSvc:a}=r,l=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){const{column:u,rowIndex:h,rowPinned:p}=e,g={column:u,rowNode:nl(r,{rowIndex:h,rowPinned:p})},v=o.get("invalidEditValueMode")==="block";if(v)return;const C=!v,S=!!a?.getCellValidationModel().hasCellValidation(g),R=C&&S;(n||l?i.stopEditing(void 0,{cancel:R,source:l&&C?"api":void 0,event:s}):!0)||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),i={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(i.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){i.fail.push(s);return}i.pass.push(s)}),e)return n.forEach(s=>{nb(this.beans,s),this.model.stop(s)}),!0;const r=this.processValidationResults(i);return r.destroy.length>0&&r.destroy.forEach(s=>{nb(this.beans,s,{event:t}),this.model.stop(s)}),r.keep.length>0&&r.keep.forEach(s=>{const o=Rn(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Tu(this.beans,!1);const n=this.model.getEditPositions(),i=[];e?n.forEach(r=>{!e||r.rowNode===e||i.push(r)}):n.forEach(r=>{i.push(r)}),Hh(this.beans,i),QT(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,i,r=!1){const s=i instanceof KeyboardEvent&&!r&&i.key||void 0;whe(this.beans,e,t,s,i,n)}dispatchCellEvent(e,t,n,i){const r=Rn(this.beans,e);r&&this.eventSvc.dispatchEvent({...r.createEvent(t??null,n),...i})}dispatchRowEvent(e,t){const n=tI(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,i="ui"){if(t instanceof KeyboardEvent&&(t.key===ue.TAB||t.key===ue.ENTER||t.key===ue.F2||t.key===ue.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:i==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===ue.ENTER:null}shouldCancel(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===ue.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((i,r)=>{i.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:r,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const i=n.at(-1),r=i.pendingValue===qs?void 0:i.pendingValue;this.start(i,new KeyboardEvent("keydown",{key:r}),"api");const s=Rn(this.beans,i);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},NSe=class extends kj{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(r=>super.isCellEditable({rowNode:e.rowNode,column:r},t))}shouldStop(e,t,n="ui"){const{rowNode:i}=e||{};if(!tI(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",i){const{rowNode:r}=e;this.rowNode!==r&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:r},"rowEditingStarted"),this.startedRows.push(r);const s=this.beans.visibleCols.allCols,o=[];s.forEach(a=>{if(!a.isCellEditable(r))return;const l={rowNode:r,column:a};o.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=r,this.setupEditors(o,e,!0,t,i)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const i=[];return e||this.model.getEditMap().forEach((r,s)=>{if(!(!r||r.size===0)){for(const o of r.values())if(ac(o)){i.push(s);break}}}),ad(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),i.forEach(r=>this.dispatchRowEvent({rowNode:r},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const i=Rn(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&i&&(this.model.getCellValidationModel().getCellValidation(i)||this.model.getRowValidationModel().getRowValidation(i))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,i="ui",r=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),u=o.isCellEditable(),h=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const p=this.gos.get("suppressStartEditOnTab");return u&&!r?p?o.focusCell(!0,n):(o.comp?.getCellEditor()||hf(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(u&&r&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!h&&!r&&(this.cleanupEditors(o,!0),p?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},i)=>{if(n!=="editing")return;const r=Rn(this.beans,{rowNode:t,column:i});r&&!r.comp?.getCellEditor()&&hf(this.beans,r,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},VSe=class extends kj{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const i=super.shouldStop(e,t,n);if(i!==null)return i;const{rowNode:r,column:s}=e||{};return(!this.rowNode||!this.column)&&r&&s?null:this.rowNode!==r||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",i){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,i)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:r,rowPinned:s}=e,o=nl(this.beans,{rowIndex:i,rowPinned:s}),a=XT(r),l=t.getCol(a),u=e.previousParams;if(u){const h=XT(u.column);if(u?.rowIndex===i&&h===a&&u?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui",r=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),r||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,u=e.isCellEditable(),h=o.isCellEditable(),p=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;u&&!r&&this.setFocusOutOnEditor(e);const g=this.gos.get("suppressStartEditOnTab");return!p&&!r&&(super.cleanupEditors(o,!0),g?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),h&&!r?(o.focusCell(!1,n),g?o.focusCell(!0,n):o.comp?.getCellEditor()||(hf(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(h&&r&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},Lc={moduleName:"EditCore",version:_e,beans:[uhe,LSe],apiFunctions:{getEditingCells:ySe,getCellEditorInstances:Che,startEditingCell:bSe,stopEditing:CSe,isEditing:wSe,validateEdit:SSe},dynamicBeans:{singleCell:VSe,fullRow:NSe},dependsOn:[IS,Dj],css:[Ybe]},BSe={moduleName:"UndoRedoEdit",version:_e,beans:[Kbe],apiFunctions:{undoCellEditing:mSe,redoCellEditing:vSe,getCurrentUndoSize:ESe,getCurrentRedoSize:RSe},dependsOn:[Lc]},HSe={moduleName:"TextEditor",version:_e,userComponents:{agCellEditor:PV,agTextCellEditor:PV},dependsOn:[Lc]},GSe={moduleName:"NumberEditor",version:_e,userComponents:{agNumberCellEditor:{classImp:lSe}},dependsOn:[Lc]},zSe={moduleName:"DateEditor",version:_e,userComponents:{agDateCellEditor:eSe,agDateStringCellEditor:iSe},dependsOn:[Lc]},USe={moduleName:"CheckboxEditor",version:_e,userComponents:{agCheckboxCellEditor:Qbe},dependsOn:[Lc]},WSe={moduleName:"SelectEditor",version:_e,userComponents:{agSelectCellEditor:uSe},dependsOn:[Lc]},jSe={moduleName:"LargeTextEditor",version:_e,userComponents:{agLargeTextCellEditor:sSe},dependsOn:[Lc]},$Se={moduleName:"CustomEditor",version:_e,dependsOn:[Lc]},qSe=class extends ge{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Bh(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),Jue(e))}createColumns(e,t){const n=()=>{Qw(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,s=(this.columns?.treeDepth??-1)==i,o=this.generateSelectionCols();if(Zue(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,u=l?.findDepth(e.tree)??0,h=l?.balanceTreeForAutoCols(o,u)??[];this.columns={list:o,tree:h,treeDepth:u,map:{}},t(g=>{if(!g)return null;const v=g.filter(C=>!Oc(C));return[...o,...v]})}updateColumns(e){const t=Bh(e.source);this.columns?.list.forEach(n=>{const i=this.createSelectionColDef(e.currentValue);n.setColDef(i,null,t),oo(this.beans,{state:[{...i,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>MW(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Vu(e))return!1;const i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const r=!!Vh(n),s=$C(n);return r||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:r,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(a,l,u,h){const p=u.isSelected(),g=h.isSelected();return p===g?0:p?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:PW,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new Cd(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?Vh(t):void 0,r=e&&typeof e!="string"?Vh(e):void 0,s=i!==r,o=t&&typeof t!="string"?$C(t):void 0,a=e&&typeof e!="string"?$C(e):void 0,l=o!==a,u=$w(e),h=$w(t);(s||l||u!==h)&&this.beans.colModel.refreshAll(n)}destroy(){Qw(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const i=e.length+t.length+n.length;if(i===0)return;const r=this.columns.list[0];if(!r.isVisible())return;const s=()=>{let l;switch(r.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&$s(l,r)};(this.beans.rowNumbersSvc?.getColumn(IW)?2:1)===i&&s()}};function KSe(e,t){if(!t.nodes.every(o=>o.rowPinned&&!mv(o)?(Re(59),!1):o.id===void 0?(Re(60),!1):!0))return;const{nodes:i,source:r,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:r??"api",newValue:s})}function YSe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function XSe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function QSe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function ZSe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function JSe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function eEe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function tEe(e){return e.selectionSvc?.getSelectedNodes()??[]}function nEe(e){return e.selectionSvc?.getSelectedRows()??[]}var iEe=class extends Bpe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=qw(e),this.groupSelectsDescendants=Sm(e),this.groupSelectsFiltered=Yw(e)==="filteredDescendants",this.masterSelectsDetail=FN(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Sm(e),n=qw(e),i=Yw(e)==="filteredDescendants";this.masterSelectsDetail=FN(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:s,keepDescendants:o=!1}){if(!Vu(this.gos)&&e)return Re(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return Re(130),0;let a=0;for(let l=0;l<i.length;l++){const u=i[l],h=hh(u),p=this.groupSelectsFiltered&&h.group;if(h.rowPinned&&!mv(h)){Re(59);continue}if(h.id===void 0){Re(60);continue}p||this.selectRowNode(h,e,r,s)&&(this.detailSelection.delete(h.id),a++),this.groupSelectsDescendants&&h.childrenAfterGroup?.length&&(a+=this.selectChildren(h,e,s))}return n||(i.length===1&&s==="api"&&this.selectionCtx.setRoot(hh(i[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(hh(i[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let i=0;return e.forEach(r=>{const s=hh(r);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!ci(n))return!1;const r=i.rootNode;if(!r)return!1;t||(t=new Dm(!0,r),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==r){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const i=new Map;let r=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!sEe(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);r+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),r}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new cd(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!ci(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function r(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=ci(this.gos);let i=!1;const r=s=>{const o=this.selectRowNode(hh(s),!1,void 0,e);i||(i=o)};if(t==="currentPage"||t==="filtered"){if(!n){sn(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);i||(i=s)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return Oj(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){n(r);return}if(!r.expanded&&!r.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(r);return}this.groupSelectsDescendants||n(r)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let s=i;s<=r;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Vu(t)){Re(132);return}if(Pue(t)&&!Kw(t)){Re(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:r}=e;let s=!1;if(this.getNodesToSelect(r).forEach(o=>{const a=this.selectRowNode(hh(o),!0,void 0,i);s||(s=a)}),n.selectAll=!0,ci(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(i);s||(s=o)}s&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){sn(103);return}const i=new Set(e),r=[];this.beans.rowModel.forEachNode(s=>{i.has(s.id)&&r.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!ci(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!Vu(t))return;const i="selectableChanged",r=e!==void 0,s=ci(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(r&&!l.group)return;if(s&&l.group){const h=l.childrenAfterGroup?.some(p=>p.selectable)??!1;this.setRowSelectable(l,h,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new Dm(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:i}),!r&&s&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const i=rEe(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!Kw(t)){Re(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const r=[];for(const s of i){const o=n.getRowNode(s);o&&r.push(o)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function hh(e){return mv(e)?e.pinnedSibling:e.footer?e.sibling:e}function rEe(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),Oj(t,n)}function Oj(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function sEe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var oEe={moduleName:"SharedRowSelection",version:_e,beans:[qSe],apiFunctions:{setNodesSelected:KSe,selectAll:YSe,deselectAll:XSe,selectAllFiltered:QSe,deselectAllFiltered:ZSe,selectAllOnCurrentPage:JSe,deselectAllOnCurrentPage:eEe,getSelectedNodes:tEe,getSelectedRows:nEe}},aEe={moduleName:"RowSelection",version:_e,rowModels:["clientSide","infinite","viewport"],beans:[iEe],dependsOn:[oEe]};function lEe(e){e.expansionSvc?.expandAll(!0)}function cEe(e){e.expansionSvc?.expandAll(!1)}function uEe(e){const t=ua(e),n=uj(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function dEe(e,t,n){const i=uj(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){sn(238);return}i.setRowCount(t,n);return}sn(28);return}const r=PS(e);if(r){r.setRowCount(t,n);return}}function hEe(e){return yd(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function fEe(e){return e.rowModel.isLastRowIndexKnown()}var pEe={moduleName:"CsrmSsrmSharedApi",version:_e,apiFunctions:{expandAll:lEe,collapseAll:cEe,onRowHeightChanged:uEe}},gEe={moduleName:"SsrmInfiniteSharedApi",version:_e,apiFunctions:{setRowCount:dEe,getCacheBlockState:hEe,isLastRowIndexKnown:fEe}},mEe=class extends ge{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){sn(18),t||sn(20);return}if(this.isGridApi(i))return i;const r=i;return"current"in r?r.current?.api:(r.api||sn(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Re(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const i=this.beans,{colResize:r,ctrlsSvc:s,colModel:o}=i;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(g=>({colId:g.colId}));oo(i,{state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));oo(i,{state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));oo(i,{state:p},"alignedGridChanged")}break;case"columnResized":{const h=e,p={};a.forEach(g=>{p[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),h.flexColumns?.forEach(g=>{p[g.getId()]&&delete p[g.getId()]}),r?.setColumnWidths(Object.values(p),!1,h.finished,"alignedGridChanged");break}}const u=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(h=>{h.setGridOption("alwaysShowVerticalScroll",u)})}},vEe={moduleName:"AlignedGrids",version:_e,beans:[mEe],dependsOn:[G5]},yEe=class extends kpe{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},ex=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function CEe(e){if(Tn(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],r=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==s&&(i.lastChild=s,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function Lj(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),CEe(e)}var wEe=class extends ge{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=Ie(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>Lo(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,i,r,s,o){const{gos:a,colModel:l,rowGroupColsSvc:u,rowNodeSorter:h,rowRenderer:p,showRowGroupCols:g}=e,v=a.get("groupMaintainOrder"),C=l.getCols().some(T=>T.isRowGroupActive()),S=l.isPivotMode(),R=a.getCallback("postSortRows");let x=!1;const D=T=>{const k=S&&T.leafGroup,L=v&&C&&!T.leafGroup&&!o;let P;if(L){const M=u?.columns?.[T.level+1]?.getSort()===null,N=T.childrenAfterAggFilter.slice(0);if(T.childrenAfterSort&&!M){const B={};T.childrenAfterSort.forEach((H,U)=>{B[H.id]=U}),N.sort((H,U)=>(B[H.id]??0)-(B[U.id]??0))}P=N}else!n||k?P=T.childrenAfterAggFilter.slice(0):i&&r?P=bEe(h,T,r,s,t):P=h.doFullSort(T.childrenAfterAggFilter,t);if(x||(x=T.childrenAfterSort?.[0]!==P[0]),T.childrenAfterSort=P,Lj(T),R){const _={nodes:T.childrenAfterSort};R(_)}};if(s?.forEachChangedNodeDepthFirst(D),x&&this.gos.get("groupHideOpenParents")){const T=g?.getShowRowGroupCols();T?.length&&p.refreshCells({columns:T,force:!0})}}};function bEe(e,t,n,i,r){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,r);const a=new Set,l=[],{updates:u,adds:h}=n;for(let g=0,v=s.length;g<v;++g){const C=s[g];u.has(C)||h.has(C)||i&&!i.canSkip(C)?l.push({currentPos:l.length,rowNode:C}):a.add(C.id)}const p=o.filter(g=>a.has(g.id)).map((g,v)=>({currentPos:v,rowNode:g}));return l.sort((g,v)=>e.compareRowNodes(r,g,v)),SEe(e,r,l,p)}function SEe(e,t,n,i){const r=[];let s=0,o=0;const a=n.length,l=i.length;for(;s<a&&o<l;){const u=n[s],h=i[o],p=e.compareRowNodes(t,u,h);let g;p<0?(g=u,++s):(g=h,++o),r.push(g.rowNode)}for(;s<a;)r.push(n[s++].rowNode);for(;o<l;)r.push(i[o++].rowNode);return r}var EEe=class extends ge{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=$i(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new cd(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return EW(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),u=Math.min(a,i);for(let h=l;h<=u;h++){const p=this.getRow(h);if(p.rowHeightEstimated){const g=bc(this.beans,p);p.setRowHeight(g.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,Re(1))),a&&(r||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new ex,o.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;const{selectionSvc:h,pinnedRowModel:p}=this.beans;h?.reset("rowDataChanged"),p?.isManual()&&p.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:u,step:h}of this.orderedStages)if(e.some(p=>u.has(p))){i.step=h;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let i=0;const r=new Set,s=Yi(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&r.add(l.id),l.rowHeight==null){const u=bc(e,l,s,n);l.setRowHeight(u.height,u.estimated)}l.setRowTop(i),l.setRowIndex(o),i+=l.rowHeight}return r}clearRowTopAndRowIndex(e,t){const n=e.active,i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(s!==null&&(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,i=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:r}=t,s=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,r,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;const s=t.childrenAfterSort?.findIndex(o=>o===r);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Nh(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Nh(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Nh(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Dm(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const i=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.changedRowNodes,i);case"map":this.doRowsToDisplay()}const r=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,r),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const r=[],s=Sm(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===t||o===e)&&(i=!0,o.group&&s)){r.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){r.push(o);return}}),r}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(rn(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),s===n&&o===i))return a;s=n,o=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:i,rowGroupColsSvc:r}=this.beans;if(!i.isPivotMode())return;if(!r?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,i=this.rootNode,r=0){let s=r;if(!i)return s;const o=i===this.rootNode;o||e(i,s++);const{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){const l=n(i);if(l){s=a?.addTotalRows(s,i,e,t,o,"top")??s;for(const u of l)s=this.depthFirstSearchRowNodes(e,t,n,u,s);return a?.addTotalRows(s,i,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),Lj(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const i=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,i&&(i.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,dj(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(JT)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new ex;let i=!1;this.rowDataTransactionBatch?.forEach(r=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(r.rowDataTransaction,n);o&&(i=!0),t.push(s),r.callback&&e.push(r.callback.bind(null,s))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new ex,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=Xw,this.rowsToDisplay=Xw}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function REe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function xEe(e,t){const n=ua(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function TEe(e){return ua(e)?.isEmpty()??!0}function DEe(e,t){ua(e)?.forEachLeafNode(t)}function AEe(e,t){ua(e)?.forEachNodeAfterFilter(t)}function PEe(e,t){ua(e)?.forEachNodeAfterFilterAndSort(t)}function IEe(e){if(e.rowAutoHeight?.active){Re(3);return}ua(e)?.resetRowHeights()}function FEe(e,t){return e.frameworkOverrides.wrapIncoming(()=>ua(e)?.updateRowData(t))}function MEe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>ua(e)?.batchUpdateRowData(t,n))}function _Ee(e){e.frameworkOverrides.wrapIncoming(()=>ua(e)?.flushAsyncTransactions())}function kEe(e){return e.selectionSvc?.getBestCostNodeSelection()}var OEe={moduleName:"ClientSideRowModel",version:_e,rowModels:["clientSide"],beans:[yEe,EEe,wEe],dependsOn:[oj]},LEe={moduleName:"ClientSideRowModelApi",version:_e,apiFunctions:{onGroupExpandedOrCollapsed:REe,refreshClientSideRowModel:xEe,isRowDataEmpty:TEe,forEachLeafNode:DEe,forEachNodeAfterFilter:AEe,forEachNodeAfterFilterAndSort:PEe,resetRowHeights:IEe,applyTransaction:FEe,applyTransactionAsync:MEe,flushAsyncTransactions:_Ee,getBestCostNodeSelection:kEe},dependsOn:[pEe]},NEe=class extends ge{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){const r=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,u=!!i.footer,h=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&Due(this.gos,i);if(!l&&!u&&(t.skipRowGroups||h||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!l&&!u||r(tt(this.gos,{node:i})))return;const v=e.onNewBodyRow(i);if(n.forEach((C,S)=>{v.onColumn(C,S,i)}),t.getCustomContentBelowRow){const C=t.getCustomContentBelowRow(tt(this.gos,{node:i}));C&&e.addCustomContent(C)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new GW,{colGroupSvc:r}=this.beans,s=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((r,s)=>{i.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{const i=this.rowModel,r=ci(this.gos),s=yd(this.gos),o=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(u=>u.rowPinned==null).sort((u,h)=>u.rowIndex-h.rowIndex).map(u=>i.getRow(u.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||o){const u=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?i.forEachNode(a):r||s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),r=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(i,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):r(s.parent,o.parent):s.level>o.level?r(s.parent,o):r(s,o.parent);e.sort(r)}processPinnedBottomRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),u=g=>Oc(g)?!1:!oc(g)||i;if(r&&r.length)return s.getColsForKeys(r).filter(u);const h=o.get("treeData");let p=[];return t&&!l?p=s.getCols():p=a.allCols,p=p.filter(g=>u(g)&&(n&&!h?!ZP(g):!0)),p}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(r=>{const s=r;s.getChildren&&s.getChildren().forEach(o=>i.push(o))}),e.length>0&&Jn(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const o=s;let a;n?a=n(tt(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,h,p,g)=>{let v=rn(u);return h.getColumnGroupShow()==="open"?(!v||v[1]!=null)&&(v=[p],u.push(v)):v&&v[1]==null&&(v[1]=p-1),p===g.length-1&&v&&v[1]==null&&(v[1]=p),u},[]);i.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}},VEe={moduleName:"SharedExport",version:_e,beans:[NEe]},IV=`\r
`,BEe=class extends Ewe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,IV),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Re(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=IV),this.isFirstLine=!1}},HEe=class extends Swe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Re(51);return}const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(tt(this.gos,{})):t.fileName;Rwe(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:p}=e;return new BEe({colModel:t,colNames:n,valueSvc:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:p||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function GEe(e,t){return e.csvCreator?.getDataAsCsv(t)}function zEe(e,t){e.csvCreator?.exportDataAsCsv(t)}var UEe={moduleName:"CsvExport",version:_e,beans:[HEe],apiFunctions:{getDataAsCsv:GEe,exportDataAsCsv:zEe},dependsOn:[VEe]},WEe=class extends ge{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let s=0;s<e;s++){const o=n+s,a=new cd(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),r.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){Ie(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Tn(this.params.datasource.getRows)){Re(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:tt(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((r,s)=>{const o=e.rowData?e.rowData[s]:void 0;!r.id&&r.alreadyRendered&&o&&(t[s]=new cd(n),t[s].setRowIndex(r.rowIndex),t[s].setRowTop(r.rowTop),t[s].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},jEe=2,$Ee=class extends ge{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new WEe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(rd(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,s=jEe-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,u=i?a>=r:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,s=(e.id+1)*n+i;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,Ie(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,r=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&i+1!==l.id){o=!0;return}i=l.id,l.forEachNode(u=>{const h=u===e||u===t;(r||h)&&n.push(u),h&&(r=!r)},s,this.rowCount)}}),o||r?[]:n}},qEe=class extends ge{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Bu(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Bu(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!vm(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;uf(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Bu(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new $Ee(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function KEe(e){PS(e)?.refreshCache()}function YEe(e){PS(e)?.purgeCache()}function XEe(e){return PS(e)?.getRowCount()}var QEe=class extends ge{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Aue(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=$i(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){$s(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){rd(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){rd(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},ZEe={moduleName:"InfiniteRowModelCore",version:_e,rowModels:["infinite"],beans:[qEe,QEe]},JEe={moduleName:"InfiniteRowModel",version:_e,apiFunctions:{refreshInfiniteCache:KEe,purgeInfiniteCache:YEe,getInfiniteRowCount:XEe},dependsOn:[ZEe,gEe]},eRe="",tRe="",nRe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},iRe=class extends gn{constructor(){super(nRe),this.eValue=Ye,this.eDelta=Ye,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),r=Ie(i)?i:n,s=t>=0,o=this.eDelta;s?o.textContent=eRe+r:o.textContent=tRe+r,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ds(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:i}=e,{eValue:r,lastValue:s,beans:o}=this;if(n===s||(Ie(i)?r.textContent=i:Ie(n)?r.textContent=n:ds(r),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const u=a-l;this.showDelta(e,u)}return s&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},rRe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",sRe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},oRe=class extends gn{constructor(){super(sRe),this.eCurrent=Ye,this.refreshCount=0,this.registerCSS(rRe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=ei({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Tn(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return Ie(e.valueFormatted)?i.textContent=e.valueFormatted:Ie(e.value)?i.textContent=n:ds(i),!0}},aRe=class extends ge{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){const r=this.animations[t];r.delete(e);const s=Date.now(),o=s+n,a=s+n+i,l={phase:"flash",flashEndTime:o,fadeEndTime:a};r.set(e,l);const u=`ag-cell-${t}`,h=`${u}-animation`,{comp:p,eGui:{style:g}}=e;p.toggleCss(u,!0),p.toggleCss(h,!1),g.removeProperty("transition"),g.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],r=`ag-cell-${n}`,s=`${r}-animation`;for(const[o,a]of i){if(!o.isAlive()||!o.comp){i.delete(o);continue}const{phase:l,flashEndTime:u,fadeEndTime:h}=a,p=l==="flash"?u:h;if(!(e+15>=p)){t=Math.min(p,t??1/0);continue}const{comp:v,eGui:{style:C}}=o;switch(l){case"flash":v.toggleCss(r,!1),v.toggleCss(s,!0),C.transition=`background-color ${h-u}ms`,C.transitionDelay=`${u-e}ms`,t=Math.min(h,t??1/0),a.phase="fade";break;case"fade":v.toggleCss(r,!1),v.toggleCss(s,!1),C.removeProperty("transition"),C.removeProperty("transition-delay"),i.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=dhe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function lRe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var cRe={moduleName:"HighlightChanges",version:_e,beans:[aRe],userComponents:{agAnimateShowChangeCellRenderer:iRe,agAnimateSlideCellRenderer:oRe},apiFunctions:{flashCells:lRe}};function uRe(e){return e.stateSvc?.getState()??{}}function dRe(e,t,n){return e.stateSvc?.setState(t,n)}function FV(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=hRe(e)}return e.version=_e,e}function hRe(e){return e.cellSelection=fRe(e,"rangeSelection"),e}function fRe(e,t){if(e&&typeof e=="object")return e[t]}var pRe=class extends ge{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=$i(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=$i(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=$i(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=ci(this.gos);const e=FV(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[i,r,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(i(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{r?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=FV(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const i="api",r=t?new Set(t):void 0;this.setGridReadyState(n,i,r),this.setColumnsInitialisedState(n,i,!1,r),this.setRowCountState(n,i,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,r),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:i,rowGroupExpansion:r,rowSelection:s,pagination:o}=e,a=(u,h)=>!n?.has(u)&&(h||t==="api");a("filter",i)&&this.setFilterState(i),a("rowGroupExpansion",r)&&this.setRowGroupExpansionState(r,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},i=()=>t("filter",this.getFilterState()),{gos:r,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:i,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(r.get("groupDefaultExpanded")!==0||r.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:i})}setFirstDataRenderedState(e,t,n){const{scroll:i,cellSelection:r,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(p,g)=>!n?.has(p)&&(g||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",r)&&this.setCellSelectionState(r),l("scroll",i)&&this.setScrollState(i),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const h=this.getRangeSelectionState();u("rangeSelection",h),u("cellSelection",h),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return hwe(Jw(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){const{sort:r,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:u,columnSizing:h,columnOrder:p}=e,g=(B,H)=>!i?.has(B)&&(H||t==="api"),v={},C=B=>{let H=v[B];return H||(H={colId:B},v[B]=H,H)},S={},R=g("sort",r);R&&r?.sortModel.forEach(({colId:B,sort:H},U)=>{const G=C(B);G.sort=H,G.sortIndex=U}),(R||!n)&&(S.sort=null,S.sortIndex=null);const x=g("rowGroup",s);x&&s?.groupColIds.forEach((B,H)=>{const U=C(B);U.rowGroup=!0,U.rowGroupIndex=H}),(x||!n)&&(S.rowGroup=null,S.rowGroupIndex=null);const D=g("aggregation",o);D&&o?.aggregationModel.forEach(({colId:B,aggFunc:H})=>{C(B).aggFunc=H}),(D||!n)&&(S.aggFunc=null);const T=g("pivot",a);T&&(a?.pivotColIds.forEach((B,H)=>{const U=C(B);U.pivot=!0,U.pivotIndex=H}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(T||!n)&&(S.pivot=null,S.pivotIndex=null);const k=g("columnPinning",l);k&&(l?.leftColIds.forEach(B=>{C(B).pinned="left"}),l?.rightColIds.forEach(B=>{C(B).pinned="right"})),(k||!n)&&(S.pinned=null);const L=g("columnVisibility",u);L&&u?.hiddenColIds.forEach(B=>{C(B).hide=!0}),(L||!n)&&(S.hide=null);const P=g("columnSizing",h);P&&h?.columnSizingModel.forEach(({colId:B,flex:H,width:U})=>{const G=C(B);G.flex=H??null,G.width=U}),(P||!n)&&(S.flex=null);const _=p?.orderedColIds,M=!!_?.length&&!i?.has("columnOrder"),N=M?_.map(B=>C(B)):Object.values(v);N.length&&(this.columnStates=N,oo(this.beans,{state:N,applyOrder:M,defaultState:S},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const r=this.beans,{pivotResultCols:s,colGroupSvc:o}=r;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);oo(r,{state:a,applyOrder:e},t)}i&&o?.setColumnGroupState(i,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return fwe(t)}setColumnGroupState(e,t,n){const i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const r=new Set(e.columnGroup?.openColumnGroupIds),o=i.getColumnGroupState().map(({groupId:a})=>{const l=r.has(a);return l&&r.delete(a),{groupId:a,open:l}});r.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),i.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0;return t||i||n?{filterModel:t,columnFilterState:n,advancedFilterModel:i}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:i,advancedFilterModel:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||i!==void 0)&&t?.setFilterState(n??null,i??null,"columnFilter"),r!==void 0&&t?.setAdvFilterModel(r??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:i,startRow:r,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:i,startRow:r,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!Sc(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const h=i.getCol(u);h&&a.push(h)}),!a.length)return;let l=i.getCol(o.startColId);if(!l){const u=r.allCols,h=new Set(a);l=u.find(p=>h.has(p))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:s,ctrlsSvc:o}=this.beans;i.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:i,rowIndex:r,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:r,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){const{pagination:n,gos:i}=this.beans;if(!n)return;const{pageSize:r,page:s}=e??{page:0,pageSize:i.get("paginationPageSize")},o=t==="gridInitializing";r&&!i.get("paginationAutoPageSize")&&n.setPageSize(r,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const i=e?.expandedRowGroupIds??[];let r;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of i)o.delete(a);r=Array.from(o)}}n.expandRows(i,r)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const r of Object.keys(t)){const s=t[r];vm(s,i[r])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),vm(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},gRe={moduleName:"GridState",version:_e,beans:[pRe],apiFunctions:{getState:uRe,setState:dRe}};function mRe(e){return e.rowModel.isLastRowIndexKnown()}function vRe(e){return e.pagination?.getPageSize()??100}function yRe(e){return e.pagination?.getCurrentPage()??0}function CRe(e){return e.pagination?.getTotalPages()??1}function wRe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function bRe(e){e.pagination?.goToNextPage()}function SRe(e){e.pagination?.goToPreviousPage()}function ERe(e){e.pagination?.goToFirstPage()}function RRe(e){e.pagination?.goToLastPage()}function xRe(e,t){e.pagination?.goToPage(t)}var TRe=class extends ge{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(Bu(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?$i(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},tg="paginationPageSizeSelector",DRe={tag:"span",cls:"ag-paging-page-size"},ARe=class extends gn{constructor(){super(DRe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(tg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){ds(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(tg)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const r=this.gos.exists("paginationPageSize"),s=this.gos.get(tg)!==!0;Re(94,{pageSizeSet:r,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||Re(95,{paginationPageSizeOption:t,paginationPageSizeSelector:tg}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(wd(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new vI).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(tg);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},PRe={selector:"AG-PAGE-SIZE-SELECTOR",component:ARe},IRe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",FRe=class extends Zpe{constructor(){super(),this.btFirst=Ye,this.btPrevious=Ye,this.btNext=Ye,this.btLast=Ye,this.lbRecordCount=Ye,this.lbFirstRowOnPage=Ye,this.lbLastRowOnPage=Ye,this.lbCurrent=Ye,this.lbTotal=Ye,this.pageSizeComp=Ye,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(IRe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[PRe]);const{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",Ls(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Ls(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Ls(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",Ls(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):khe(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===ue.ENTER||i.key===ue.SPACE)&&(i.preventDefault(),n())}})}),_he(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):bwe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Qce(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>i&&(a=i));const l=o+s-1,u=!e&&n<l,h=this.formatNumber(o);this.lbFirstRowOnPage.textContent=h;let p;const g=this.getLocaleTextFunc();u?p=g("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const C=t>0?r+1:0,S=this.formatNumber(C);this.lbCurrent.textContent=S;let R,x;if(e)R=this.formatNumber(t),x=this.formatNumber(i);else{const D=g("more","more");R=D,x=D}this.lbTotal.textContent=R,this.lbRecordCount.textContent=x,this.announceAriaStatus(h,p,x,S,R)}announceAriaStatus(e,t,n,i,r){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),u=`${e} ${a} ${t} ${l} ${n}`,h=`${o} ${i} ${l} ${r}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnounce?.announceValue(u,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,this.ariaAnnounce?.announceValue(h,"paginationPage"))}},MRe={selector:"AG-PAGINATION",component:FRe},_Re=class extends ge{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return MRe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ie(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ie(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ie(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ie(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const r=this.currentPage,s=n*r;let o=n*(r+1)-1;if(o>i&&(o=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},kRe={moduleName:"Pagination",version:_e,beans:[_Re,TRe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:mRe,paginationGetPageSize:vRe,paginationGetCurrentPage:yRe,paginationGetTotalPages:CRe,paginationGetRowCount:wRe,paginationGoToNextPage:bRe,paginationGoToPreviousPage:SRe,paginationGoToFirstPage:ERe,paginationGoToLastPage:RRe,paginationGoToPage:xRe},dependsOn:[IS]};function ORe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function Nj(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&Nj(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function LRe(e,t){return e.rowModel.getRowNode(t)}function NRe(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function VRe(e){return e.rowRenderer.getRenderedNodes()}function BRe(e,t,n){e.rowModel.forEachNode(t,n)}function HRe(e){return e.rowRenderer.firstRenderedRow}function GRe(e){return e.rowRenderer.lastRenderedRow}function zRe(e,t){return e.rowModel.getRow(t)}function URe(e){return e.rowModel.getRowCount()}var WRe={moduleName:"RowApi",version:_e,apiFunctions:{redrawRows:ORe,setRowNodeExpanded:Nj,getRowNode:LRe,addRenderedRowListener:NRe,getRenderedNodes:VRe,forEachNode:BRe,getFirstDisplayedRowIndex:HRe,getLastDisplayedRowIndex:GRe,getDisplayedRowAtIndex:zRe,getDisplayedRowCount:URe}},jRe={moduleName:"ScrollApi",version:_e,apiFunctions:{getVerticalPixelRange:fSe,getHorizontalPixelRange:pSe,ensureColumnVisible:Aj,ensureIndexVisible:Pj,ensureNodeVisible:gSe}};function $Re(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function qRe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function KRe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function YRe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function XRe(e){e.animationFrameSvc?.flushAllFrames()}function QRe(e){return{rowHeight:Bu(e),headerHeight:yv(e)}}function ZRe(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(Em(o))}),t.columns?.length)return n;const i=[],r=uD(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(r&&!dD(s.rowNode,r)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&i.push(Em(l))}}),[...i,...n]}var JRe={moduleName:"RenderApi",version:_e,apiFunctions:{setGridAriaProperty:$Re,refreshCells:qRe,refreshHeader:KRe,isAnimationFrameQueueEmpty:YRe,flushAllAnimationFrames:XRe,getSizesForCurrentTheme:QRe,getCellRendererInstances:ZRe}};function e0e(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function Vj({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function t0e(e,t){t&&typeof t=="object"?Vj(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var n0e=class extends ge{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:u,renderStatus:h,colModel:p,autoWidthCalc:g,visibleCols:v}=this.beans;if(u?.flushAllFrames(),this.timesDelayed<5&&h&&!h.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const C=[];let S=-1;const R=Object.fromEntries(a.map(({colId:T,maxWidth:k,minWidth:L})=>[T,{maxWidth:k,minWidth:L}])),x=n??this.gos.get("skipHeaderOnAutoSize"),D=i??x;for(;S!==0;){S=0;const T=[];t.forEach(k=>{if(!k||Que(k))return;const L=p.getCol(k);if(!L||C.indexOf(L)>=0)return;const P=g.getPreferredWidthForColumn(L,x);if(P>0){const _=R[L.colId]??{};_.minWidth??(_.minWidth=o),_.maxWidth??(_.maxWidth=s);const M=i0e(L,P,_);L.setActualWidth(M,l),C.push(L),S++}T.push(L)}),T.length&&v.refresh(l)}D||this.autoSizeColumnGroupsByColumns(t,l,r),df(this.eventSvc,C,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:r}=this.beans,s=new Set;i.getColsForKeys(e).forEach(u=>{let h=u.getParent();for(;h&&h!=n;)h.isPadding()||s.add(h),h=h.getParent()});let a;const l=[];for(const u of s){for(const h of r.getHeaderRowContainerCtrls())if(a=h.getHeaderCtrlForColumn(u),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const r=new yu(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),o=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=wm(r.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Re(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const r={};i&&i?.columnLimits?.forEach(({key:v,...C})=>{r[typeof v=="string"?v:v.getColId()]=C});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===_a(s)&&s.every(C=>{if(C.colDef.suppressSizeToFit)return!0;const S=r?.[C.getId()],R=S?.minWidth??i?.defaultMinWidth,x=S?.maxWidth??i?.defaultMaxWidth,D=C.getActualWidth();return(R==null||D>=R)&&(x==null||D<=x)}))return;const a=[],l=[];s.forEach(v=>{v.getColDef().suppressSizeToFit===!0?l.push(v):a.push(v)});const u=a.slice(0);let h=!1;const p=v=>{$s(a,v),l.push(v)};for(a.forEach(v=>{v.resetActualWidth(t);const C=r?.[v.getId()],S=C?.minWidth??i?.defaultMinWidth,R=C?.maxWidth??i?.defaultMaxWidth,x=v.getActualWidth();typeof S=="number"&&x<S?v.setActualWidth(S,t,!0):typeof R=="number"&&x>R&&v.setActualWidth(R,t,!0)});!h;){h=!0;const v=e-_a(l);if(v<=0)a.forEach(C=>{const S=r?.[C.getId()]?.minWidth??i?.defaultMinWidth;if(typeof S=="number"){C.setActualWidth(S,t,!0);return}C.setActualWidth(C.minWidth,t)});else{const C=v/_a(a);let S=v;for(let R=a.length-1;R>=0;R--){const x=a[R],D=r?.[x.getId()],T=D?.minWidth??i?.defaultMinWidth,k=D?.maxWidth??i?.defaultMaxWidth,L=x.getMinWidth(),P=x.getMaxWidth(),_=typeof T=="number"&&T>L?T:L,M=typeof k=="number"&&k<P?k:P;let N=Math.round(x.getActualWidth()*C);N<_?(N=_,p(x),h=!1):N>M?(N=M,p(x),h=!1):R===0&&(N=S),x.setActualWidth(N,t,!0),S-=N}}}u.forEach(v=>{v.fireColumnWidthChangedEvent(t)});const g=this.beans.visibleCols;g.setLeftValues(t),g.updateBodyWidths(),!n&&df(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:i,defaultMinWidth:r,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:i,defaultMinWidth:r,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function i0e(e,t,n={}){const i=n.minWidth??e.getMinWidth();t<i&&(t=i);const r=n.maxWidth??e.getMaxWidth();return t>r&&(t=r),t}var r0e={moduleName:"ColumnAutoSize",version:_e,beans:[n0e],apiFunctions:{sizeColumnsToFit:e0e,autoSizeColumns:Vj,autoSizeAllColumns:t0e},dependsOn:[H5]},s0e=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function o0e(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function a0e(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function l0e(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function c0e(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function u0e(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var d0e={moduleName:"PinnedRow",version:_e,beans:[Mpe],css:[s0e],apiFunctions:{getPinnedTopRowCount:o0e,getPinnedBottomRowCount:a0e,getPinnedTopRow:l0e,getPinnedBottomRow:c0e,forEachPinnedRow:u0e},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},h0e=class extends zh{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,s,o){this.eWrapper=n,super.setComp(e,t,n,i,r,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&K3(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){tue(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(RS(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},f0e=class extends ab{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new h0e(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},p0e=class extends ge{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const u of s)u.isAlive()&&t?.forEachSpannedColumn(u.rowNode,(h,p)=>{if(o.has(p.firstNode))return;const g=i.get(p.firstNode);if(g){o.set(p.firstNode,g),i.delete(p.firstNode);return}a=!0;const v=new f0e(p.firstNode,this.beans,!1,!1,!1);o.set(p.firstNode,v)});this[n]=o;const l=o.size===r;if(!(!a&&l)){for(const u of i.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const i=`${Bj(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},Bj=e=>e??"center",g0e=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},m0e=class extends ge{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],u=new Map,h=n.getCallback("isFullWidthRow"),p=a.equals,g=a.spanRows,v=typeof g=="function";let C=null,S=null,R;const x=(T,k)=>{C=T,S=null,R=k},D=T=>{const k=!T.isExpandable()&&!T.group&&!T.detail&&(h?!h({rowNode:T}):!0);if(T.rowIndex==null||!k){x(null,null);return}if(C==null||T.level!==C.level||T.footer||S&&T.rowIndex-1!==S?.getLastNode().rowIndex){x(T,s.getValue(t,T));return}const L=s.getValue(t,T);if(v){const P=tt(n,{valueA:R,nodeA:C,valueB:L,nodeB:T,column:t,colDef:a});if(!g(P)){x(T,L);return}}else if(p?!p(R,L):R!==L){x(T,L);return}if(!S){const P=l?.get(C);P?.firstNode===C?(P.reset(),S=P):S=new g0e(t,C),u.set(C,S)}S.addSpannedNode(T),u.set(T,S)};switch(e){case"center":r.forEachDisplayedNode?.(T=>{(!o||o.isRowInPage(T.rowIndex))&&D(T)});break;case"top":i?.forEachPinnedRow("top",D);break;case"bottom":i?.forEachPinnedRow("bottom",D);break}this[`${e}ValueNodeMap`]=u}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${Bj(e.rowPinned)}ValueNodeMap`].get(e)}},v0e=class extends ge{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=$i(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=$i(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new m0e(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,s=this.spanningColumns.get(i);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(r);break;case"bottom":o=t?.getPinnedBottomRow(r);break;default:o=n.getRow(r)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},y0e={moduleName:"CellSpan",version:_e,beans:[v0e,p0e]},C0e=class extends ge{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);lI(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return tt(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},w0e=class extends ge{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){lI(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new C0e(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},b0e={moduleName:"CellStyle",version:_e,beans:[w0e]},S0e={moduleName:"RowStyle",version:_e,beans:[xfe]};function E0e(e,t){return!!e.colHover?.isHovered(t)}var R0e=class extends ge{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:r,element:s,columns:o}=this,a=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(u=>u()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},x0e="ag-column-hover",T0e=class extends ge{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(x0e,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const r=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new R0e(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},D0e={moduleName:"ColumnHover",version:_e,beans:[T0e],apiFunctions:{isColumnHovered:E0e}},A0e=class extends ge{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,i=!tw.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{tw.has(s)&&t(s,o)},i=(s,o)=>{tw.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=n?.unwrapGlobal(e)??e;if(i.has(r)){const{syncListener:o,asyncListener:a}=i.get(r);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function P0e(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function I0e(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function F0e(e,t){e.apiEventSvc?.addGlobalListener(t)}function M0e(e,t){e.apiEventSvc?.removeGlobalListener(t)}var _0e={moduleName:"EventApi",version:_e,apiFunctions:{addEventListener:P0e,addGlobalListener:F0e,removeEventListener:I0e,removeGlobalListener:M0e},beans:[A0e]},k0e={moduleName:"Locale",version:_e,beans:[dwe]},O0e=class extends ge{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=$i(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let u=bc(this.beans,a).height;for(const h of r){let p=l?.[h.getColId()];const g=n?.getCellSpan(h,a);if(g){if(g.getLastNode()!==a)continue;if(p=n?.getCellSpan(h,a)?.getLastNodeAutoHeight(),!p)return}if(p==null){if(this.colSpanSkipCell(h,a))continue;return}u=Math.max(p,u)}u!==a.rowHeight&&(a.setRowHeight(u),s=!0)};i?.forEachPinnedRow?.("top",o),i?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=r.getLeftColsForRow(t);break;case"right":s=r.getRightColsForRow(t);break;case null:s=i.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:r,column:s}=e,o=this.beans,a=h=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:p,paddingBottom:g,borderBottomWidth:v,borderTopWidth:C}=vd(i),S=p+g+v+C,x=t.offsetHeight+S;if(h<5){const D=Fi(o),T=!D||!D.contains(t),k=x==0;if(T||k){window.setTimeout(()=>a(h+1),0);return}}this.setRowAutoHeight(r,x,s)},l=()=>a(0);l();const u=al(o,t,l);return n.addDestroyFunc(()=>{u(),this.setRowAutoHeight(r,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(r=>r.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const i of t){const r=n.__autoHeights[i.getColId()];if(!r||n.rowHeight<r)return!1}}return!0}},L0e={moduleName:"RowAutoHeight",version:_e,beans:[O0e]},N0e={moduleName:"AllCommunity",version:_e,dependsOn:[OEe,UEe,JEe,Lwe,HSe,GSe,zSe,USe,WSe,jSe,$Se,BSe,Bbe,Hbe,Gbe,Vbe,Ube,Wbe,gRe,vEe,kRe,G5,WRe,jRe,JRe,r0e,Mge,d0e,aEe,qCe,b0e,D0e,S0e,_0e,XCe,cRe,Dj,k0e,L0e,Fge,LEe,y0e]},lr=K.createContext({}),Hj=K.createContext("default"),Cv=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),n.appendChild(a),MV(i,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),i&&MV(i,void 0))}},MV=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Ms=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),Ns=class Gj{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const r=new Gj;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Nf=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},gD=K.version?.split(".")[0],zj=gD==="16"||gD==="17";function V0e(){return gD==="19"}var nw=!1;function B0e(e){return nw||setTimeout(()=>nw=!1,0),nw=!0,e()}var Im=(e,t)=>{!zj&&e&&!nw?ec.flushSync(t):t()},H0e=e=>{zj?e():K.startTransition(e)};function G0e(e,t,n){return K.useSyncExternalStore?K.useSyncExternalStore(e,t):n}function db(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],r=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&i.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;s.has(u)||r.push(l)}return i.length===e.length&&r.length===0?e:i.length===0&&r.length===t.length?t:i.length===0?r:r.length===0?i:[...i,...r]}var Uj=b.forwardRef((e,t)=>{const{registry:n,context:i}=b.useContext(lr),r=b.useRef(null),s=b.useRef(null),o=b.useRef(null),a=b.useRef(null),l=b.useRef(null),u=b.useRef(),[h,p]=b.useState(),[g,v]=b.useState(),[C,S]=b.useState(),[R,x]=b.useState(()=>new Ns),[D,T]=b.useState(()=>new Ns("ag-hidden")),[k,L]=b.useState(()=>new Ns("ag-hidden")),[P,_]=b.useState(()=>new Ns("ag-invisible"));b.useImperativeHandle(t,()=>({refresh(){return!1}})),b.useLayoutEffect(()=>Cv(h,i,s.current),[h]);const M=b.useCallback(Q=>{if(r.current=Q,!Q){u.current=i.destroyBean(u.current);return}const ee={setInnerRenderer:(F,X)=>{p(F),S(X)},setChildCount:F=>v(F),toggleCss:(F,X)=>x(ne=>ne.setClass(F,X)),setContractedDisplayed:F=>L(X=>X.setClass("ag-hidden",!F)),setExpandedDisplayed:F=>T(X=>X.setClass("ag-hidden",!F)),setCheckboxVisible:F=>_(X=>X.setClass("ag-invisible",!F)),setCheckboxSpacing:F=>_(X=>X.setClass("ag-group-checkbox-spacing",F))},fe=n.createDynamicBean("groupCellRendererCtrl",!0);fe&&(u.current=i.createBean(fe),u.current.init(ee,Q,o.current,a.current,l.current,Uj,e))},[]),N=b.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),B=b.useMemo(()=>`ag-group-expanded ${D.toString()}`,[D]),H=b.useMemo(()=>`ag-group-contracted ${k.toString()}`,[k]),U=b.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),G=h?.componentFromFramework,J=G?h.componentClass:void 0,ie=h==null&&C!=null,$=kf(C);return K.createElement("span",{className:N,ref:M,...e.colDef?{}:{role:u.current?.getCellAriaRole()}},K.createElement("span",{className:B,ref:a}),K.createElement("span",{className:H,ref:l}),K.createElement("span",{className:U,ref:o}),K.createElement("span",{className:"ag-group-value",ref:s},ie?$:G?K.createElement(J,{...h.params}):null),K.createElement("span",{className:"ag-group-child-count"},g))}),_V=Uj,PI=b.createContext({setMethods:()=>{}}),z0e=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:r}=e,[{key:s,...o},a]=b.useState(t);return b.useEffect(()=>{n(l=>a(l))},[]),K.createElement(PI.Provider,{value:{setMethods:r}},K.createElement(i,{key:s,...o}))},U0e=b.memo(z0e),W0e=0;function kV(){return`agPortalKey_${++W0e}`}var Wj=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=kV(),this.portalKey=kV(),this.instanceCreated=this.isStatelessComponent()?Ht.resolve(!1):new Ht(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Ht(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Sf.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return b.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function _S(e,t,n){e.forEach(i=>{const r=t[i];r&&(n[i]=r)})}var hs=class extends Wj{constructor(){super(...arguments),this.awaitUpdateCallback=new Ht(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=U0e}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Ht(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,_S(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ht(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},j0e=class extends hs{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},$0e=class extends hs{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},q0e=class extends hs{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},K0e=class extends hs{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Ht(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Ht(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},Y0e=class extends hs{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Ht(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function jj(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Ht.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var X0e=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){_S(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),jj(this.floatingFilterParams,e)}},Q0e=class extends hs{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),jj(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Z0e=class extends hs{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},J0e=class extends hs{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},exe=class extends hs{refresh(e){this.sourceParams=e,this.refreshProps()}},txe=class extends hs{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},nxe=class extends hs{refresh(e){this.sourceParams=e,this.refreshProps()}},ixe=class extends hs{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},rxe=class extends hs{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function II(){Re(231)}var sxe=1e3,oxe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||sxe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Im(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},axe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=b.useContext(lr),i=t?e.column.getColId():void 0,[r,s]=b.useState(),[o,a]=b.useState(),l=b.useRef(),u=b.useRef(null),h=b.useRef(null),p=b.useRef(null),g=b.useRef(),v=b.useRef();t&&!v.current&&(v.current=new gv(()=>u.current));const C=b.useCallback(D=>{if(u.current=D,l.current=D?n.createBean(new Of):n.destroyBean(l.current),!D||!e.isAlive())return;const T=()=>{const L=e.getSelectAllGui();L&&(h.current?.insertAdjacentElement("afterend",L),l.current.addDestroyFunc(()=>L.remove()))},k={setWidth:L=>{u.current&&(u.current.style.width=L)},toggleCss:(L,P)=>v.current.toggleCss(L,P),setUserStyles:L=>a(L),setAriaSort:L=>{u.current&&(L?rue(u.current,L):sue(u.current))},setUserCompDetails:L=>s(L),getUserCompInstance:()=>g.current||void 0,refreshSelectAllGui:T,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(k,D,h.current,p.current,l.current),T()},[]);b.useLayoutEffect(()=>Cv(r,n,p.current,g),[r]),b.useEffect(()=>{e.setDragSource(u.current)},[r]);const S=b.useMemo(()=>!!(r?.componentFromFramework&&Nf(r.componentClass)),[r]),R=r?.componentFromFramework,x=r?.componentClass;return K.createElement("div",{ref:C,style:o,className:"ag-header-cell","col-id":i,role:"columnheader"},K.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),K.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},R?S?K.createElement(x,{...r.params}):K.createElement(x,{...r.params,ref:g}):null))},lxe=b.memo(axe),cxe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){_S(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},uxe=({ctrl:e})=>{const{context:t,gos:n}=b.useContext(lr),[i,r]=b.useState(),[s,o]=b.useState(()=>new Ns("ag-header-cell","ag-floating-filter")),[a,l]=b.useState(()=>new Ns),[u,h]=b.useState(()=>new Ns("ag-floating-filter-button","ag-hidden")),[p,g]=b.useState("false"),[v,C]=b.useState(),[,S]=b.useState(1),R=b.useRef(),x=b.useRef(null),D=b.useRef(null),T=b.useRef(null),k=b.useRef(null),L=b.useRef(),P=b.useRef(),_=F=>{F!=null&&L.current&&L.current(F)},M=b.useCallback(F=>{if(x.current=F,R.current=F?t.createBean(new Of):t.destroyBean(R.current),!F||!e.isAlive())return;P.current=new Ht(ne=>{L.current=ne});const X={toggleCss:(ne,z)=>o(pe=>pe.setClass(ne,z)),setUserStyles:ne=>r(ne),addOrRemoveBodyCssClass:(ne,z)=>l(pe=>pe.setClass(ne,z)),setButtonWrapperDisplayed:ne=>{h(z=>z.setClass("ag-hidden",!ne)),g(ne?"false":"true")},setWidth:ne=>{x.current&&(x.current.style.width=ne)},setCompDetails:ne=>C(ne),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:ne=>k.current?.appendChild(ne)};e.setComp(X,F,k.current,D.current,R.current)},[]);b.useLayoutEffect(()=>Cv(v,t,D.current,_),[v]);const N=b.useMemo(()=>s.toString(),[s]),B=b.useMemo(()=>a.toString(),[a]),H=b.useMemo(()=>u.toString(),[u]),U=b.useMemo(()=>!!(v&&v.componentFromFramework&&Nf(v.componentClass)),[v]),G=b.useMemo(()=>n.get("reactiveCustomComponents"),[]),J=b.useMemo(()=>n.get("enableFilterHandlers"),[]),[ie,$]=b.useState();b.useEffect(()=>{if(v?.componentFromFramework)if(G){const F=J?cxe:X0e,X=new F(v.params,()=>S(ne=>ne+1));_(X),$(X)}else II()},[v]);const Q=ie?.getProps(),ee=v?.componentFromFramework,fe=v?.componentClass;return K.createElement("div",{ref:M,style:i,className:N,role:"gridcell"},K.createElement("div",{ref:D,className:B,role:"presentation"},ee?G?Q&&K.createElement(PI.Provider,{value:{setMethods:F=>ie.setMethods(F)}},K.createElement(fe,{...Q})):K.createElement(fe,{...v.params,ref:U?()=>{}:_}):null),K.createElement("div",{ref:T,"aria-hidden":p,className:H,role:"presentation"},K.createElement("button",{ref:k,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},dxe=b.memo(uxe),hxe=({ctrl:e})=>{const{context:t}=b.useContext(lr),[n,i]=b.useState(),[r,s]=b.useState(()=>new Ns),[o,a]=b.useState(()=>new Ns),[l,u]=b.useState("false"),[h,p]=b.useState(),[g,v]=b.useState(),C=b.useMemo(()=>e.column.getUniqueId(),[]),S=b.useRef(),R=b.useRef(null),x=b.useRef(null),D=b.useRef(null),T=b.useRef(),k=b.useCallback(B=>{if(R.current=B,S.current=B?t.createBean(new Of):t.destroyBean(S.current),!B||!e.isAlive())return;const H={setWidth:U=>{R.current&&(R.current.style.width=U)},toggleCss:(U,G)=>s(J=>J.setClass(U,G)),setUserStyles:U=>i(U),setHeaderWrapperHidden:U=>{const G=D.current;G&&(U?G.style.setProperty("display","none"):G.style.removeProperty("display"))},setHeaderWrapperMaxHeight:U=>{const G=D.current;G&&(U!=null?G.style.setProperty("max-height",`${U}px`):G.style.removeProperty("max-height"),G.classList.toggle("ag-header-cell-comp-wrapper-limited-height",U!=null))},setUserCompDetails:U=>v(U),setResizableDisplayed:U=>{a(G=>G.setClass("ag-hidden",!U)),u(U?"false":"true")},setAriaExpanded:U=>p(U),getUserCompInstance:()=>T.current||void 0};e.setComp(H,B,x.current,D.current,S.current)},[]);b.useLayoutEffect(()=>Cv(g,t,D.current),[g]),b.useEffect(()=>{R.current&&e.setDragSource(R.current)},[g]);const L=b.useMemo(()=>!!(g?.componentFromFramework&&Nf(g.componentClass)),[g]),P=b.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),_=b.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),M=g?.componentFromFramework,N=g?.componentClass;return K.createElement("div",{ref:k,style:n,className:P,"col-id":C,role:"columnheader","aria-expanded":h},K.createElement("div",{ref:D,className:"ag-header-cell-comp-wrapper",role:"presentation"},M?L?K.createElement(N,{...g.params}):K.createElement(N,{...g.params,ref:T}):null),K.createElement("div",{ref:x,"aria-hidden":l,className:_}))},fxe=b.memo(hxe),pxe=({ctrl:e})=>{const{context:t}=b.useContext(lr),{topOffset:n,rowHeight:i}=b.useMemo(()=>e.getTopAndHeight(),[]),[r,s]=b.useState(e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=b.useState(()=>i+"px"),[u,h]=b.useState(()=>n+"px"),p=b.useRef([]),[g,v]=b.useState(()=>e.getUpdatedHeaderCtrls()),C=b.useRef(),S=b.useRef(null),R=b.useCallback(T=>{if(S.current=T,C.current=T?t.createBean(new Of):t.destroyBean(C.current),!T)return;const k={setHeight:L=>l(L),setTop:L=>h(L),setHeaderCtrls:(L,P,_)=>{const M=p.current,N=db(M,L,P);N!==M&&(p.current=N,Im(_,()=>v(N)))},setWidth:L=>{S.current&&(S.current.style.width=L)},setRowIndex:L=>{s(L)}};e.setComp(k,C.current,!1)},[]),x=b.useMemo(()=>({height:a,top:u}),[a,u]),D=b.useCallback(T=>{switch(e.type){case"group":return K.createElement(fxe,{ctrl:T,key:T.instanceId});case"filter":return K.createElement(dxe,{ctrl:T,key:T.instanceId});default:return K.createElement(lxe,{ctrl:T,key:T.instanceId})}},[]);return K.createElement("div",{ref:R,className:o,role:"row",style:x,"aria-rowindex":r},g.map(D))},gxe=b.memo(pxe),mxe=({pinned:e})=>{const[t,n]=b.useState(!0),[i,r]=b.useState([]),{context:s}=b.useContext(lr),o=b.useRef(null),a=b.useRef(null),l=b.useRef(),u=e==="left",h=e==="right",p=!u&&!h,g=b.useCallback(S=>{if(o.current=S,l.current=S?s.createBean(new cpe(e)):s.destroyBean(l.current),!S)return;const R={setDisplayed:n,setCtrls:x=>r(x),setCenterWidth:x=>{a.current&&(a.current.style.width=x)},setViewportScrollLeft:x=>{o.current&&(o.current.scrollLeft=x)},setPinnedContainerWidth:x=>{o.current&&(o.current.style.width=x,o.current.style.minWidth=x,o.current.style.maxWidth=x)}};l.current.setComp(R,o.current)},[]),v=t?"":"ag-hidden",C=()=>i.map(S=>K.createElement(gxe,{ctrl:S,key:S.instanceId}));return u?K.createElement("div",{ref:g,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},C()):h?K.createElement("div",{ref:g,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},C()):p?K.createElement("div",{ref:g,className:"ag-header-viewport "+v,role:"presentation",tabIndex:-1},K.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},C())):null},tx=b.memo(mxe),vxe=()=>{const[e,t]=b.useState(()=>new Ns),[n,i]=b.useState(),{context:r}=b.useContext(lr),s=b.useRef(null),o=b.useRef(),a=b.useCallback(h=>{if(s.current=h,o.current=h?r.createBean(new spe):r.destroyBean(o.current),!h)return;const p={toggleCss:(g,v)=>t(C=>C.setClass(g,v)),setHeightAndMinHeight:g=>i(g)};o.current.setComp(p,h,h)},[]),l=b.useMemo(()=>"ag-header "+e.toString(),[e]),u=b.useMemo(()=>({height:n,minHeight:n}),[n]);return K.createElement("div",{ref:a,className:l,style:u,role:"presentation"},K.createElement(tx,{pinned:"left"}),K.createElement(tx,{pinned:null}),K.createElement(tx,{pinned:"right"}))},yxe=b.memo(vxe),Cxe=(e,t)=>{b.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const r=document.createComment(e);return i.insertBefore(r,n),()=>{i.removeChild(r)}}}},[e])},Su=Cxe,wxe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ht(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){_S(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},bxe=e=>{const t=b.useRef(e),n=b.useRef(),i=b.useRef(!1),r=b.useRef(!1),[,s]=b.useState(0);i.current&&(r.current=!0),b.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),s(o=>o+1),()=>{r.current&&n.current?.()}),[])},Sxe=e=>{const[t,n]=b.useState(),i=b.useContext(lr),{context:r,popupSvc:s,gos:o,editSvc:a}=i,{editDetails:l,cellCtrl:u,eParentCell:h}=e;return bxe(()=>{const{compDetails:p}=l,g=o.get("stopEditingWhenCellsLoseFocus"),v=r.createBean(a.createPopupEditorWrapper(p.params)),C=v.getGui();if(e.jsChildComp){const L=e.jsChildComp.getGui();L&&C.appendChild(L)}const{column:S,rowNode:R}=u,x={column:S,rowNode:R,type:"popupCellEditor",eventSource:h,ePopup:C,position:l.popupPosition,keepWithinBounds:!0},D=s?.positionPopupByComponent.bind(s,x),T=s?.addPopup({modal:g,eChild:C,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:h,positionCallback:D,ariaOwns:h}),k=T?T.hideFunc:void 0;return n(v),e.jsChildComp?.afterGuiAttached?.(),()=>{k?.(),r.destroyBean(v)}}),b.useLayoutEffect(()=>()=>{u.isCellFocused()&&t?.getGui().contains(Nn(i))&&h.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Sf.createPortal(e.wrappedContent,t.getGui()):null},OV=b.memo(Sxe),Exe=(e,t,n)=>{const{compProxy:i}=e;n(i);const r=i.getProps(),s=Nf(t);return K.createElement(PI.Provider,{value:{setMethods:o=>i.setMethods(o)}},s?K.createElement(t,{...r}):K.createElement(t,{...r,ref:o=>i.setRef(o)}))},LV=(e,t,n)=>e.compProxy?Exe(e,t,n):K.createElement(t,{...e.compDetails.params,ref:n}),Rxe=(e,t,n,i,r)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,u=!s.componentFromFramework&&e.popup;return a?LV(e,o,t):l?K.createElement(OV,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:LV(e,o,t)}):u&&r?K.createElement(OV,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:r}):null},xxe=(e,t,n,i,r,s)=>{const{context:o}=b.useContext(lr),a=b.useCallback(()=>{const l=r.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),r.current=void 0},[]);b.useEffect(()=>{const l=e!=null,u=e?.compDetails&&!e.compDetails.componentFromFramework,h=t&&n==null;if(!(l&&u&&!h)){a();return}const g=e.compDetails;if(r.current){const C=r.current,R=C.refresh!=null&&e.force==!1?C.refresh(g.params):!1;if(R===!0||R===void 0)return;a()}g.newAgStackInstance().then(C=>{if(!C)return;const S=C.getGui();if(!S)return;(t?n:s.current).appendChild(S),r.current=C})},[e,t,i]),b.useEffect(()=>a,[])},$j=xxe,Txe=({cellCtrl:e,parent:t})=>{const n=b.useRef(),i=b.useMemo(()=>{const{loadingComp:r}=e.getDeferLoadingCellRenderer();return r?{value:void 0,compDetails:r,force:!1}:void 0},[e]);if($j(i,!1,void 0,1,n,t),i?.compDetails?.componentFromFramework){const r=i.compDetails.componentClass;return K.createElement(r,{...i.compDetails.params})}return K.createElement(K.Fragment,null)},Dxe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const i=b.useContext(lr),{context:r}=i,{column:{colIdSanitised:s},instanceId:o}=e,a=b.useRef(),[l,u]=b.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[h,p]=b.useState(),[g,v]=b.useState(1),[C,S]=b.useState(),[R,x]=b.useState(!1),[D,T]=b.useState(!1),[k,L]=b.useState(!1),[P,_]=b.useState(),M=b.useMemo(()=>e.isForceWrapper(),[e]),N=b.useMemo(()=>e.getCellAriaRole(),[e]),B=b.useRef(null),H=b.useRef(null),U=b.useRef(null),G=b.useRef(),J=b.useRef(),ie=b.useRef(),$=b.useRef([]),Q=b.useRef(),[ee,fe]=b.useState(0),F=b.useCallback(ke=>{Q.current=ke,fe(Le=>Le+1)},[]),X=l!=null&&(R||k||D)&&(h==null||!!h.popup),ne=M||X,z=b.useCallback(ke=>{if(J.current=ke,ke){const Le=ke.isCancelBeforeStart&&ke.isCancelBeforeStart();setTimeout(()=>{Le?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(ke))})}},[e]),pe=b.useRef();pe.current||(pe.current=new gv(()=>B.current)),$j(l,ne,Q.current,ee,G,B);const De=b.useRef();b.useLayoutEffect(()=>{const ke=De.current,Le=l;if(De.current=l,ke==null||ke.compDetails==null||Le==null||Le.compDetails==null)return;const Qe=ke.compDetails,Ne=Le.compDetails;if(Qe.componentClass!=Ne.componentClass||U.current?.refresh==null)return;U.current.refresh(Ne.params)!=!0&&v(xt=>xt+1)},[l]),b.useLayoutEffect(()=>{if(!(h&&!h.compDetails.componentFromFramework))return;const Le=h.compDetails,Qe=h.popup===!0,Ne=Le.newAgStackInstance();return Ne.then(Ze=>{if(!Ze)return;const xt=Ze.getGui();z(Ze),Qe||((M?ie:B).current?.appendChild(xt),Ze.afterGuiAttached&&Ze.afterGuiAttached()),_(Ze)}),()=>{Ne.then(Ze=>{const xt=Ze.getGui();e.disableEditorTooltipFeature(),r.destroyBean(Ze),z(void 0),_(void 0),xt?.parentElement?.removeChild(xt)})}},[h]);const xe=b.useCallback(ke=>{if(ie.current=ke,!ke){$.current.forEach(Qe=>Qe()),$.current=[];return}const Le=Qe=>{if(Qe){const Ne=Qe.getGui();ke.insertAdjacentElement("afterbegin",Ne),$.current.push(()=>{r.destroyBean(Qe),tl(Ne)})}return Qe};if(R){const Qe=e.createSelectionCheckbox();Le(Qe)}k&&Le(e.createDndSource()),D&&Le(e.createRowDragComp())},[e,r,k,D,R]),lt=b.useCallback(()=>{const ke=!e.isCellSpanning()||H.current,Le=B.current;if(a.current=Le?r.createBean(new Of):r.destroyBean(a.current),!Le||!ke||!e)return;const Qe={toggleCss:(Ze,xt)=>pe.current.toggleCss(Ze,xt),setUserStyles:Ze=>S(Ze),getFocusableElement:()=>B.current,setIncludeSelection:Ze=>x(Ze),setIncludeRowDrag:Ze=>T(Ze),setIncludeDndSource:Ze=>L(Ze),getCellEditor:()=>J.current||null,getCellRenderer:()=>U.current??G.current,getParentOfValue:()=>Q.current??ie.current??B.current,setRenderDetails:(Ze,xt,st)=>{const St=()=>{u(Et=>Et?.compDetails!==Ze||Et?.value!==xt||Et?.force!==st?{value:xt,compDetails:Ze,force:st}:Et)};if(Ze?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Et,onReady:Mt}=e.getDeferLoadingCellRenderer();if(Et){u({value:void 0,compDetails:Et,force:!1}),Mt.then(()=>H0e(St));return}}St()},setEditDetails:(Ze,xt,st,St)=>{if(Ze){let Et;Ze.componentFromFramework&&(St?Et=new wxe(Ze.params,()=>v(Mt=>Mt+1)):II()),p({compDetails:Ze,popup:xt,popupPosition:st,compProxy:Et}),xt||u(void 0)}else e.hasBrowserFocus()&&Qe.getFocusableElement().focus({preventScroll:!0}),p(Mt=>{Mt?.compProxy&&(J.current=void 0)})},refreshEditStyles:(Ze,xt)=>{if(!B.current)return;const{current:st}=pe;st.toggleCss("ag-cell-value",!ne),st.toggleCss("ag-cell-inline-editing",!!Ze&&!xt),st.toggleCss("ag-cell-popup-editing",!!Ze&&!!xt),st.toggleCss("ag-cell-not-inline-editing",!Ze||!!xt)}},Ne=ie.current||void 0;e.setComp(Qe,Le,H.current??void 0,Ne,t,n,a.current)},[]),qe=b.useCallback(ke=>{B.current=ke,lt()},[]),ze=b.useCallback(ke=>{H.current=ke,lt()},[]),nt=b.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Nf(l.compDetails.componentClass)),[l]);b.useLayoutEffect(()=>{if(!B.current)return;const{current:ke}=pe;ke.toggleCss("ag-cell-value",!ne),ke.toggleCss("ag-cell-inline-editing",!!h&&!h.popup),ke.toggleCss("ag-cell-popup-editing",!!h&&!!h.popup),ke.toggleCss("ag-cell-not-inline-editing",!h||!!h.popup)});const ct=()=>{const{compDetails:ke,value:Le}=l;if(!ke)return Le?.toString?.()??Le;if(ke.componentFromFramework){const Qe=ke.componentClass;return K.createElement(b.Suspense,{fallback:K.createElement(Txe,{cellCtrl:e,parent:B})},nt?K.createElement(Qe,{...ke.params,key:g}):K.createElement(Qe,{...ke.params,key:g,ref:U}))}},mt=()=>{const ke=()=>l==null?null:ne?K.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:F},ct()):ct(),Le=Qe=>Rxe(Qe,z,B.current,e,P);return h!=null?h.popup?K.createElement(K.Fragment,null,ke(),Le(h)):Le(h):ke()},Ot=()=>K.createElement("div",{ref:qe,style:C,role:N,"col-id":s},ne?K.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:xe},mt()):mt());return e.isCellSpanning()?K.createElement("div",{ref:ze,className:"ag-spanned-cell-wrapper",role:"presentation"},Ot()):Ot()},Axe=b.memo(Dxe),Pxe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i,editSvc:r}=b.useContext(lr),s=b.useContext(Hj)==="default",o=b.useRef(),a=b.useRef(e.getDomOrder()),l=e.isFullWidth(),u=e.rowNode.displayed,[h,p]=b.useState(()=>u?e.rowNode.getRowIndexString():null),[g,v]=b.useState(()=>e.rowId),[C,S]=b.useState(()=>e.businessKey),[R,x]=b.useState(()=>e.rowStyles),D=b.useRef(null),[T,k]=b.useState(()=>null),[L,P]=b.useState(),[_,M]=b.useState(()=>u?e.getInitialRowTop(t):void 0),[N,B]=b.useState(()=>u?e.getInitialTransform(t):void 0),H=b.useRef(null),U=b.useRef(),G=b.useRef(!1),[J,ie]=b.useState(0);b.useEffect(()=>{if(G.current||!L||J>10)return;const ze=H.current?.firstChild;ze?(e.setupDetailRowAutoHeight(ze),G.current=!0):ie(nt=>nt+1)},[L,J]);const $=b.useRef();$.current||($.current=new gv(()=>H.current));const Q=b.useRef(()=>{}),ee=b.useCallback(ze=>(Q.current=ze,()=>{Q.current=()=>{}}),[]),fe=G0e(ee,()=>D.current,[]),F=s?fe:T,X=b.useCallback(ze=>{if(H.current=ze,o.current=ze?n.createBean(new Of):n.destroyBean(o.current),!ze){e.unsetComp(t);return}if(!e.isAlive())return;const nt={setTop:M,setTransform:B,toggleCss:(ct,mt)=>$.current.toggleCss(ct,mt),setDomOrder:ct=>a.current=ct,setRowIndex:p,setRowId:v,setRowBusinessKey:S,setUserStyles:x,setCellCtrls:(ct,mt)=>{const Ot=D.current,ke=db(Ot,ct,a.current);ke!==Ot&&(D.current=ke,s?Q.current():Im(mt,()=>k(ke)))},showFullWidth:ct=>P(ct),getFullWidthCellRenderer:()=>U.current,refreshFullWidth:ct=>xe.current?(P(mt=>({...mt,params:ct()})),!0):!U.current||!U.current.refresh?!1:U.current.refresh(ct())};e.setComp(nt,ze,t,o.current)},[]);b.useLayoutEffect(()=>Cv(L,n,H.current,U),[L]);const ne=b.useMemo(()=>{const ze={top:_,transform:N};return Object.assign(ze,R),ze},[_,N,R]),z=l&&L?.componentFromFramework,pe=!l&&F!=null,De=b.useMemo(()=>!!(L?.componentFromFramework&&Nf(L.componentClass)),[L]),xe=b.useRef(!1);b.useEffect(()=>{xe.current=De&&!!L&&!!i.get("reactiveCustomComponents")},[De,L]);const lt=()=>F?.map(ze=>K.createElement(Axe,{cellCtrl:ze,editingCell:r?.isEditing(ze,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:ze.instanceId})),qe=()=>{const ze=L.componentClass;return De?K.createElement(ze,{...L.params}):K.createElement(ze,{...L.params,ref:U})};return K.createElement("div",{ref:X,role:"row",style:ne,"row-index":h,"row-id":g,"row-business-key":C},pe?lt():z?qe():null)},NV=b.memo(Pxe),Ixe=({name:e})=>{const{context:t,gos:n}=b.useContext(lr),i=b.useMemo(()=>vv(e),[e]),r=b.useRef(null),s=b.useRef(null),o=b.useRef(null),a=b.useRef([]),l=b.useRef([]),[u,h]=b.useState(()=>[]),p=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,g=b.useRef([]),v=b.useRef([]),[C,S]=b.useState(()=>[]),R=b.useRef(!1),x=b.useRef(),D=b.useMemo(()=>Ms("ag-viewport",y5(e)),[e]),T=b.useMemo(()=>Ms(ew(e)),[e]),k=b.useMemo(()=>Ms("ag-spanning-container",Nfe(e)),[e]),L=i.type==="center"||p,P=L?r:s;Su(" AG Row Container "+e+" ",P);const _=b.useCallback(()=>{const ie=!L||r.current!=null,$=s.current!=null,Q=!p||o.current!=null;return ie&&$&&Q},[]),M=b.useCallback(()=>r.current==null&&s.current==null&&o.current==null,[]),N=b.useCallback(()=>{if(M()&&(x.current=t.destroyBean(x.current)),_()){const ie=ee=>{const fe=db(l.current,a.current,R.current);fe!==l.current&&(l.current=fe,Im(ee,()=>h(fe)))},$=ee=>{const fe=db(v.current,g.current,R.current);fe!==v.current&&(v.current=fe,Im(ee,()=>S(fe)))},Q={setHorizontalScroll:ee=>{r.current&&(r.current.scrollLeft=ee)},setViewportHeight:ee=>{r.current&&(r.current.style.height=ee)},setRowCtrls:({rowCtrls:ee,useFlushSync:fe})=>{const F=!!fe&&a.current.length>0&&ee.length>0;a.current=ee,ie(F)},setSpannedRowCtrls:(ee,fe)=>{const F=!!fe&&g.current.length>0&&ee.length>0;g.current=ee,$(F)},setDomOrder:ee=>{R.current!=ee&&(R.current=ee,ie(!1))},setContainerWidth:ee=>{s.current&&(s.current.style.width=ee)},setOffsetTop:ee=>{s.current&&(s.current.style.transform=`translateY(${ee})`)}};x.current=t.createBean(new qfe(e)),x.current.setComp(Q,s.current,o.current??void 0,r.current)}},[_,M]),B=b.useCallback(ie=>{s.current=ie,N()},[N]),H=b.useCallback(ie=>{o.current=ie,N()},[N]),U=b.useCallback(ie=>{r.current=ie,N()},[N]),G=()=>K.createElement("div",{className:T,ref:B,role:"rowgroup"},u.map(ie=>K.createElement(NV,{rowCtrl:ie,containerType:i.type,key:ie.instanceId})));if(!L)return G();const J=()=>K.createElement("div",{className:k,ref:H,role:"rowgroup"},C.map(ie=>K.createElement(NV,{rowCtrl:ie,containerType:i.type,key:ie.instanceId})));return K.createElement("div",{className:D,ref:U,role:"presentation"},G(),p?J():null)},Fxe=b.memo(Ixe),Mxe=()=>{const e=b.useContext(lr),{context:t,overlays:n}=e,[i,r]=b.useState(""),[s,o]=b.useState(0),[a,l]=b.useState(0),[u,h]=b.useState("0px"),[p,g]=b.useState("0px"),[v,C]=b.useState("100%"),[S,R]=b.useState("0px"),[x,D]=b.useState("0px"),[T,k]=b.useState("100%"),[L,P]=b.useState(!0),[_,M]=b.useState(!0),[N,B]=b.useState(null),[H,U]=b.useState(""),[G,J]=b.useState(null),[ie,$]=b.useState("ag-layout-normal"),Q=b.useRef();Q.current||(Q.current=new gv(()=>ee.current));const ee=b.useRef(null),fe=b.useRef(null),F=b.useRef(null),X=b.useRef(null),ne=b.useRef(null),z=b.useRef(null),pe=b.useRef(null),De=b.useRef([]),xe=b.useRef([]);Su(" AG Grid Body ",ee),Su(" AG Pinned Top ",fe),Su(" AG Sticky Top ",F),Su(" AG Middle ",z),Su(" AG Pinned Bottom ",pe);const lt=b.useCallback(St=>{if(ee.current=St,!St){De.current=t.destroyBeans(De.current),xe.current.forEach(Pe=>Pe()),xe.current=[];return}if(!t)return;const Et=(Pe,Ve)=>{Pe.appendChild(Ve),xe.current.push(()=>Pe.removeChild(Ve))},Mt=Pe=>{const Ve=t.createBean(new Pe);return De.current.push(Ve),Ve},mn=(Pe,Ve,Lt)=>{Et(Pe,document.createComment(Lt)),Et(Pe,Mt(Ve).getGui())};mn(St,Jfe," AG Fake Horizontal Scroll ");const Vn=n?.getOverlayWrapperCompClass();Vn&&mn(St,Vn," AG Overlay Wrapper "),ne.current&&mn(ne.current,tpe," AG Fake Vertical Scroll ");const te={setRowAnimationCssOnBodyViewport:r,setColumnCount:Pe=>{ee.current&&nue(ee.current,Pe)},setRowCount:Pe=>{ee.current&&eue(ee.current,Pe)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:C,setTopInvisible:P,setBottomInvisible:M,setColumnMovingCss:(Pe,Ve)=>Q.current.toggleCss(Pe,Ve),updateLayoutClasses:$,setAlwaysVerticalScrollClass:B,setPinnedTopBottomOverflowY:U,setCellSelectableCss:(Pe,Ve)=>J(Ve?Pe:null),setBodyViewportWidth:Pe=>{z.current&&(z.current.style.width=Pe)},registerBodyViewportResizeListener:Pe=>{if(z.current){const Ve=al(e,z.current,Pe);xe.current.push(()=>Ve())}},setStickyBottomHeight:R,setStickyBottomBottom:D,setStickyBottomWidth:k,setGridRootRole:Pe=>St.setAttribute("role",Pe)},ve=t.createBean(new Qfe);De.current.push(ve),ve.setComp(te,St,z.current,fe.current,pe.current,F.current,X.current)},[]),qe=b.useMemo(()=>Ms("ag-root","ag-unselectable",ie),[ie]),ze=b.useMemo(()=>Ms("ag-body-viewport",i,ie,N,G),[i,ie,N,G]),nt=b.useMemo(()=>Ms("ag-body",ie),[ie]),ct=b.useMemo(()=>Ms("ag-floating-top",L?"ag-invisible":null,G),[G,L]),mt=b.useMemo(()=>Ms("ag-sticky-top",G),[G]),Ot=b.useMemo(()=>Ms("ag-sticky-bottom",S==="0px"?"ag-invisible":null,G),[G,S]),ke=b.useMemo(()=>Ms("ag-floating-bottom",_?"ag-invisible":null,G),[G,_]),Le=b.useMemo(()=>({height:s,minHeight:s,overflowY:H}),[s,H]),Qe=b.useMemo(()=>({height:u,top:p,width:v}),[u,p,v]),Ne=b.useMemo(()=>({height:S,bottom:x,width:T}),[S,x,T]),Ze=b.useMemo(()=>({height:a,minHeight:a,overflowY:H}),[a,H]),xt=St=>K.createElement(Fxe,{name:St,key:`${St}-container`}),st=({section:St,children:Et,className:Mt,style:mn})=>K.createElement("div",{ref:St,className:Mt,role:"presentation",style:mn},Et.map(xt));return K.createElement("div",{ref:lt,className:qe},K.createElement(yxe,null),st({section:fe,className:ct,style:Le,children:["topLeft","topCenter","topRight","topFullWidth"]}),K.createElement("div",{className:nt,ref:ne,role:"presentation"},st({section:z,className:ze,children:["left","center","right","fullWidth"]})),st({section:F,className:mt,style:Qe,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),st({section:X,className:Ot,style:Ne,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),st({section:pe,className:ke,style:Ze,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},_xe=b.memo(Mxe),kxe=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=b.useContext(lr),u=b.useRef(null),h=b.useRef(null),p=b.useRef(),g=x=>{const D=x==null?void 0:parseInt(x,10).toString();[u,h].forEach(T=>{D===void 0?T.current?.removeAttribute("tabindex"):T.current?.setAttribute("tabindex",D)})};b.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){p.current?.forceFocusOutOfContainer(x)}}));const v=b.useCallback(()=>{const x=u.current,D=h.current;if(!x&&!D){p.current=l.destroyBean(p.current);return}if(x&&D){const T={setTabIndex:g};p.current=l.createBean(new I5({comp:T,eTopGuard:x,eBottomGuard:D,eFocusableElement:i,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:k=>s.focusInnerElement(k),isEmpty:a}))}},[]),C=b.useCallback(x=>{u.current=x,v()},[v]),S=b.useCallback(x=>{h.current=x,v()},[v]),R=x=>{const D=x==="top"?Uh.TAB_GUARD_TOP:Uh.TAB_GUARD_BOTTOM;return K.createElement("div",{className:`${Uh.TAB_GUARD} ${D}`,role:"presentation",ref:x==="top"?C:S})};return K.createElement(K.Fragment,null,R("top"),n,R("bottom"))},Oxe=b.forwardRef(kxe),Lxe=b.memo(Oxe),Nxe=({context:e})=>{const[t,n]=b.useState(""),[i,r]=b.useState(""),[s,o]=b.useState(null),[a,l]=b.useState(null),[u,h]=b.useState(!1),[p,g]=b.useState(),v=b.useRef(),C=b.useRef(null),S=b.useRef(),[R,x]=b.useState(null),D=b.useRef(()=>{}),T=b.useRef(),k=b.useRef([]),L=b.useCallback(()=>{},[]),P=b.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Su(" AG Grid ",C);const _=b.useCallback(G=>{if(C.current=G,v.current=G?e.createBean(new rge):e.destroyBean(v.current),!G||e.isDestroyed())return;const J=v.current;D.current=J.focusInnerElement.bind(J);const ie={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:$=>{if(!$&&T.current?.isDisplayed()){T.current.forceFocusOutOfContainer($);return}S.current?.forceFocusOutOfContainer($)},updateLayoutClasses:r,getFocusableContainers:()=>{const $=[],Q=C.current?.querySelector(".ag-root");return Q&&$.push({getGui:()=>Q}),k.current.forEach(ee=>{ee.isDisplayed()&&$.push(ee)}),$},setCursor:o,setUserSelect:l};J.setComp(ie,G,G),h(!0)},[]);b.useEffect(()=>{const G=v.current,J=C.current;if(!p||!P||!G||!R||!J||e.isDestroyed())return;const ie=[],{watermarkSelector:$,paginationSelector:Q,sideBarSelector:ee,statusBarSelector:fe,gridHeaderDropZonesSelector:F}=G.getOptionalSelectors(),X=[];if(F){const z=e.createBean(new F.component),pe=z.getGui();J.insertAdjacentElement("afterbegin",pe),X.push(pe),ie.push(z)}if(ee){const z=e.createBean(new ee.component),pe=z.getGui(),De=R.querySelector(".ag-tab-guard-bottom");De&&(De.insertAdjacentElement("beforebegin",pe),X.push(pe)),ie.push(z),k.current.push(z)}const ne=z=>{const pe=e.createBean(new z),De=pe.getGui();return J.insertAdjacentElement("beforeend",De),X.push(De),ie.push(pe),pe};if(fe&&ne(fe.component),Q){const z=ne(Q.component);T.current=z,k.current.push(z)}return $&&ne($.component),()=>{e.destroyBeans(ie),X.forEach(z=>{z.parentElement?.removeChild(z)})}},[p,R,P]);const M=b.useMemo(()=>Ms("ag-root-wrapper",t,i),[t,i]),N=b.useMemo(()=>Ms("ag-root-wrapper-body","ag-focus-managed",i),[i]),B=b.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),H=b.useCallback(G=>{S.current=G,g(G!==null)},[]),U=b.useCallback(()=>!v.current?.isFocusable(),[]);return K.createElement("div",{ref:_,className:M,style:B,role:"presentation"},K.createElement("div",{className:N,ref:x,role:"presentation"},u&&R&&P&&K.createElement(lr.Provider,{value:P},K.createElement(Lxe,{ref:H,eFocusableElement:R,onTabKeyDown:L,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:U},K.createElement(_xe,null)))))},Vxe=b.memo(Nxe),Bxe=class extends ge{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},qj={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},Hxe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...qj},Kj=new Set(Object.keys(Hxe)),Gxe=new Set(Object.keys(qj)),Yj=e=>{const t=b.useRef(),n=b.useRef(null),i=b.useRef(null),r=b.useRef([]),s=b.useRef([]),o=b.useRef(e),a=b.useRef(),l=b.useRef(),u=b.useRef(!1),[h,p]=b.useState(void 0),[,g]=b.useState(0),v=b.useCallback(x=>{if(n.current=x,!x){r.current.forEach(H=>H()),r.current.length=0;return}const D=e.modules||[];i.current||(i.current=new oxe(()=>g(H=>H+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{i.current?.destroy(),i.current=null}));const T=Lue(e.gridOptions,e,Object.keys(e).filter(H=>!Kj.has(H))),k=()=>{if(u.current){const H=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let U=H();for(;U;)U(),U=H()}},L=new jxe(k);a.current=L;const P=new Bxe,_={providedBeanInstances:{frameworkCompWrapper:new Uxe(i.current,T),renderStatus:P},modules:D,frameworkOverrides:L,setThemeOnGridDiv:!0},M=H=>{p(H),H.createBean(P),r.current.push(()=>{H.destroy()}),H.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{r.current.push(U)}},()=>{if(H.isDestroyed())return;const U=t.current;U&&e.passGridApi?.(U)})},N=H=>{H.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{r.current.push(U)}},()=>{s.current.forEach(U=>U()),s.current.length=0,u.current=!0})},B=new uwe;T.gridId??(T.gridId=l.current),t.current=B.create(x,T,M,N,_),r.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),C=b.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),S=b.useCallback(x=>{u.current&&!a.current?.shouldQueueUpdates()?x():s.current.push(x)},[]);b.useEffect(()=>{const x=zxe(o.current,e);o.current=e,S(()=>{t.current&&Nue(x,t.current)})},[e]);const R=!K.useSyncExternalStore||qC(e,"renderingMode")==="legacy"?"legacy":"default";return K.createElement("div",{style:C,className:e.className,ref:v},K.createElement(Hj.Provider,{value:R},h&&!h.isDestroyed()?K.createElement(Vxe,{context:h}):null,i.current?.getPortals()??null))};function zxe(e,t){const n={};return Object.keys(t).forEach(i=>{if(Kj.has(i)){Gxe.has(i)&&Re(274,{prop:i});return}const r=t[i];e[i]!==r&&(n[i]=r)}),n}var Uxe=class extends pwe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(qC(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return qC(n,"enableFilterHandlers")?Y0e:K0e;case"floatingFilterComponent":return qC(n,"enableFilterHandlers")?Z0e:Q0e;case"dateComponent":return $0e;case"dragAndDropImageComponent":return q0e;case"loadingOverlayComponent":return exe;case"noRowsOverlayComponent":return nxe;case"statusPanel":return ixe;case"toolPanel":return rxe;case"menuItem":return txe;case"cellRenderer":return j0e;case"innerHeaderComponent":return J0e}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":II();break}const r=!t.cellRenderer&&t.name!=="toolPanel";return new Wj(e,this.parent,t,r)}},Wxe=b.forwardRef((e,t)=>{const n=b.useContext(lr),{registry:i,context:r,gos:s,rowModel:o}=n,[a,l]=b.useState(()=>new Ns),[u,h]=b.useState(()=>new Ns),[p,g]=b.useState(),[v,C]=b.useState(),S=b.useRef(),R=b.useRef(null),x=b.useRef(),D=b.useMemo(()=>ihe(e.api.getGridId(),p?.rowModelType??"clientSide"),[e]),T=b.useMemo(()=>a.toString()+" ag-details-row",[a]),k=b.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&b.useImperativeHandle(t,()=>({refresh(){return S.current?.refresh()??!1}})),e.template&&Re(230);const L=b.useCallback(_=>{if(R.current=_,!_){S.current=r.destroyBean(S.current),x.current?.();return}const M={toggleCss:(B,H)=>l(U=>U.setClass(B,H)),toggleDetailGridCss:(B,H)=>h(U=>U.setClass(B,H)),setDetailGrid:B=>g(B),setRowData:B=>C(B),getGui:()=>R.current},N=i.createDynamicBean("detailCellRendererCtrl",!0);if(N&&(r.createBean(N),N.init(M,e),S.current=N,s.get("detailRowAutoHeight"))){const B=()=>{if(R.current==null)return;const H=R.current.clientHeight;H!=null&&H>0&&setTimeout(()=>{e.node.setRowHeight(H),(ci(s)||yd(s))&&o.onRowHeightChanged()},0)};x.current=al(n,_,B),B()}},[]),P=b.useCallback(_=>{S.current?.registerDetailWithMaster(_)},[]);return K.createElement("div",{className:T,ref:L},p&&K.createElement(Yj,{className:k,...p,modules:D,rowData:v,passGridApi:P}))}),jxe=class extends F5{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:_V,agGroupRowRenderer:_V,agDetailCellRenderer:Wxe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?B0e(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return V0e()}},$xe=class extends b.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return K.createElement(Yj,{...this.props,passGridApi:this.setGridApi})}};const FI=zP(e=>({users:[],setUsers:t=>e({users:t}),addUser:t=>e(n=>({users:[...n.users,t]})),showForm:!1,setShowForm:t=>e({showForm:t})})),qxe=()=>I.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:I.jsx(fc,{animation:"border",size:"sm"})}),Kxe=()=>{const e=b.useRef(null),{users:t,setUsers:n}=FI(),[i,r]=b.useState(""),[s,o]=b.useState(!0),a=b.useCallback(p=>{p.api.sizeColumnsToFit()},[]),[l]=b.useState([{field:"name",headerName:"Nombre",flex:2,minWidth:150,sortable:!0,filter:!0,cellStyle:{fontWeight:"500"}},{field:"email",headerName:"Correo Electrnico",flex:3,minWidth:200,sortable:!0,filter:!0},{field:"role",headerName:"Rol",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:p=>{const g=p.value,v=g==="TEACHER"?"badge bg-primary":"badge bg-success",C=g==="TEACHER"?"Profesor":"Estudiante";return I.jsx("span",{className:v,children:C})}}]),u={sortable:!0,filter:!0,resizable:!0,cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}},h=b.useCallback(p=>{const g=p.target.value;r(g)},[]);return b.useEffect(()=>{if(o(!0),t.length>0){o(!1);return}P3().then(p=>{if(p.length===0){o(!1);return}n(p),o(!1)})},[n,o,t]),I.jsx(hc,{fluid:!0,className:"p-0",children:I.jsxs(pn,{className:"shadow-sm border-0",children:[I.jsx(pn.Header,{className:"bg-white border-bottom",children:I.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(Ga,{size:24,className:"text-primary me-2"}),I.jsxs("div",{children:[I.jsx("h5",{className:"mb-0 fw-bold",children:"Gestin de Usuarios"}),I.jsxs("small",{className:"text-muted",children:[t.length," usuario",t.length!==1?"s":""," ","registrado",t.length!==1?"s":""]})]})]}),I.jsx("div",{style:{width:"300px"},children:I.jsxs(Ru,{className:"search-input-group",children:[I.jsx(Ru.Text,{className:"bg-light border-end-0",children:I.jsx(LA,{size:16,className:"text-muted"})}),I.jsx(Pt.Control,{type:"text",placeholder:"Buscar usuarios...",value:i,onChange:h,className:"border-start-0 ps-2",style:{boxShadow:"none",borderColor:"#dee2e6"}})]})})]})}),I.jsx(pn.Body,{className:"p-0",children:I.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:I.jsx($xe,{ref:e,rowData:t,columnDefs:l,defaultColDef:u,onGridReady:a,quickFilterText:i,animateRows:!0,rowSelection:"multiple",rowHeight:50,headerHeight:45,suppressCellFocus:!0,suppressRowHoverHighlight:!1,domLayout:"normal",suppressMovableColumns:!0,loading:s,loadingOverlayComponent:qxe,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:100}})})})]})})},Yxe=({onSubmit:e})=>{const{addUser:t,setShowForm:n}=FI(),[i,r]=b.useState(!1),[s,o]=b.useState({id:"",name:"",email:"",role:In.STUDENT}),[a,l]=b.useState(!1),u=async p=>{p.preventDefault(),p.currentTarget.checkValidity()===!1?p.stopPropagation():(r(!0),e(s).then(v=>{t(v),l(!0),n(!1),nn.success("Usuario creado correctamente",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",transition:N3})}).catch(v=>{nn.error(B3(v),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{r(!1)}))},h=p=>{const{name:g,value:v}=p.target;o({...s,[g]:v})};return I.jsxs(Pt,{noValidate:!0,validated:a,onSubmit:u,className:"p-2",children:[I.jsxs(qu,{className:"g-3",children:[I.jsx(Wo,{xs:12,children:I.jsx(Pt.Group,{controlId:"formUserName",children:I.jsxs(Ru,{hasValidation:!0,children:[I.jsx(Ru.Text,{children:I.jsx(Oz,{size:18,className:"text-muted"})}),I.jsxs(bw,{label:"Nombre completo",children:[I.jsx(Pt.Control,{type:"text",name:"name",placeholder:"Nombre completo",value:s.name,onChange:h,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),I.jsx(Pt.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre."})]})]})})}),I.jsx(Wo,{xs:12,children:I.jsx(Pt.Group,{controlId:"formUserEmail",children:I.jsxs(Ru,{hasValidation:!0,children:[I.jsx(Ru.Text,{children:I.jsx(qJ,{size:18,className:"text-muted"})}),I.jsxs(bw,{label:"Correo electrnico",children:[I.jsx(Pt.Control,{type:"email",name:"email",placeholder:"Correo electrnico",value:s.email,onChange:h,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),I.jsx(Pt.Control.Feedback,{type:"invalid",children:"Por favor, introduce un correo vlido."})]})]})})})]}),I.jsxs(vw,{variant:"info",className:"mt-4 d-flex align-items-center",children:[I.jsx(GJ,{size:24,className:"me-3"}),I.jsxs("div",{children:[I.jsx(vw.Heading,{as:"h6",className:"mb-1 fw-bold",children:"Generacin de Contrasea"}),I.jsx("p",{className:"mb-0 small",children:"La contrasea se crear automticamente con los 3 primeros caracteres del nombre y del correo."})]})]}),I.jsx("div",{className:"d-grid mt-4",children:I.jsx(Ki,{variant:"primary",type:"submit",size:"lg",disabled:i,children:i?I.jsx(fc,{animation:"border",size:"sm",className:"me-2"}):I.jsxs(I.Fragment,{children:[I.jsx(nee,{size:16,className:"me-2"}),"Crear Usuario"]})})})]})},Xxe=()=>{const{showForm:e,setShowForm:t}=FI();return I.jsxs("div",{children:[I.jsxs(Ki,{variant:"outline-success",onClick:()=>t(!0),className:"mb-3",children:[I.jsx(Wb,{size:16,className:"me-2"}),"Agregar Usuario"]}),I.jsx(Kxe,{}),e&&I.jsxs(zi,{show:e,onHide:()=>t(!1),children:[I.jsx(zi.Header,{closeButton:!0,children:I.jsx(zi.Title,{children:"Agregar Usuario"})}),I.jsx(zi.Body,{children:I.jsx(Yxe,{onSubmit:Wle})})]}),I.jsx(V3,{})]})};function wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Qxe=typeof Symbol=="function"&&Symbol.observable||"@@observable",VV=Qxe,BV=()=>Math.random().toString(36).substring(7).split("").join("."),Zxe={INIT:`@@redux/INIT${BV()}`,REPLACE:`@@redux/REPLACE${BV()}`},HV=Zxe;function Jxe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Xj(e,t,n){if(typeof e!="function")throw new Error(wr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wr(1));return n(Xj)(e,t)}let i=e,r=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((R,x)=>{o.set(x,R)}))}function h(){if(l)throw new Error(wr(3));return r}function p(R){if(typeof R!="function")throw new Error(wr(4));if(l)throw new Error(wr(5));let x=!0;u();const D=a++;return o.set(D,R),function(){if(x){if(l)throw new Error(wr(6));x=!1,u(),o.delete(D),s=null}}}function g(R){if(!Jxe(R))throw new Error(wr(7));if(typeof R.type>"u")throw new Error(wr(8));if(typeof R.type!="string")throw new Error(wr(17));if(l)throw new Error(wr(9));try{l=!0,r=i(r,R)}finally{l=!1}return(s=o).forEach(D=>{D()}),R}function v(R){if(typeof R!="function")throw new Error(wr(10));i=R,g({type:HV.REPLACE})}function C(){const R=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(wr(11));function D(){const k=x;k.next&&k.next(h())}return D(),{unsubscribe:R(D)}},[VV](){return this}}}return g({type:HV.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:v,[VV]:C}}function GV(e,t){return function(...n){return t(e.apply(this,n))}}function zV(e,t){if(typeof e=="function")return GV(e,t);if(typeof e!="object"||e===null)throw new Error(wr(16));const n={};for(const i in e){const r=e[i];typeof r=="function"&&(n[i]=GV(r,t))}return n}function Qj(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function eTe(...e){return t=>(n,i)=>{const r=t(n,i);let s=()=>{throw new Error(wr(15))};const o={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=Qj(...a)(r.dispatch),{...r,dispatch:s}}}var nx={exports:{}},ix={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UV;function tTe(){if(UV)return ix;UV=1;var e=Db();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,r=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return ix.useSyncExternalStoreWithSelector=function(l,u,h,p,g){var v=r(null);if(v.current===null){var C={hasValue:!1,value:null};v.current=C}else C=v.current;v=o(function(){function R(L){if(!x){if(x=!0,D=L,L=p(L),g!==void 0&&C.hasValue){var P=C.value;if(g(P,L))return T=P}return T=L}if(P=T,n(D,L))return P;var _=p(L);return g!==void 0&&g(P,_)?(D=L,P):(D=L,T=_)}var x=!1,D,T,k=h===void 0?null:h;return[function(){return R(u())},k===null?void 0:function(){return R(k())}]},[u,h,p,g]);var S=i(l,v[0],v[1]);return s(function(){C.hasValue=!0,C.value=S},[S]),a(S),S},ix}var WV;function nTe(){return WV||(WV=1,nx.exports=tTe()),nx.exports}nTe();var iTe=b.version.startsWith("19"),rTe=Symbol.for(iTe?"react.transitional.element":"react.element"),sTe=Symbol.for("react.portal"),oTe=Symbol.for("react.fragment"),aTe=Symbol.for("react.strict_mode"),lTe=Symbol.for("react.profiler"),cTe=Symbol.for("react.consumer"),uTe=Symbol.for("react.context"),Zj=Symbol.for("react.forward_ref"),dTe=Symbol.for("react.suspense"),hTe=Symbol.for("react.suspense_list"),MI=Symbol.for("react.memo"),fTe=Symbol.for("react.lazy"),pTe=Zj,gTe=MI;function mTe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case rTe:switch(e=e.type,e){case oTe:case lTe:case aTe:case dTe:case hTe:return e;default:switch(e=e&&e.$$typeof,e){case uTe:case Zj:case fTe:case MI:return e;case cTe:return e;default:return t}}case sTe:return t}}}function vTe(e){return mTe(e)===MI}function yTe(e,t,n,i,{areStatesEqual:r,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,h,p,g;function v(D,T){return l=D,u=T,h=e(l,u),p=t(i,u),g=n(h,p,u),a=!0,g}function C(){return h=e(l,u),t.dependsOnOwnProps&&(p=t(i,u)),g=n(h,p,u),g}function S(){return e.dependsOnOwnProps&&(h=e(l,u)),t.dependsOnOwnProps&&(p=t(i,u)),g=n(h,p,u),g}function R(){const D=e(l,u),T=!o(D,h);return h=D,T&&(g=n(h,p,u)),g}function x(D,T){const k=!s(T,u),L=!r(D,l,T,u);return l=D,u=T,k&&L?C():k?S():L?R():g}return function(T,k){return a?x(T,k):v(T,k)}}function CTe(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:i,...r}){const s=t(e,r),o=n(e,r),a=i(e,r);return yTe(s,o,a,e,r)}function wTe(e,t){const n={};for(const i in e){const r=e[i];typeof r=="function"&&(n[i]=(...s)=>t(r(...s)))}return n}function mD(e){return function(n){const i=e(n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function jV(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Jj(e,t){return function(i,{displayName:r}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=jV(e);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=jV(u),u=s(a,l)),u},s}}function _I(e,t){return(n,i)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function bTe(e){return e&&typeof e=="object"?mD(t=>wTe(e,t)):e?typeof e=="function"?Jj(e):_I(e,"mapDispatchToProps"):mD(t=>({dispatch:t}))}function STe(e){return e?typeof e=="function"?Jj(e):_I(e,"mapStateToProps"):mD(()=>({}))}function ETe(e,t,n){return{...n,...e,...t}}function RTe(e){return function(n,{displayName:i,areMergedPropsEqual:r}){let s=!1,o;return function(l,u,h){const p=e(l,u,h);return s?r(p,o)||(o=p):(s=!0,o=p),o}}}function xTe(e){return e?typeof e=="function"?RTe(e):_I(e,"mergeProps"):()=>ETe}function TTe(e){e()}function DTe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TTe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var $V={notify(){},get:()=>[]};function e6(e,t){let n,i=$V,r=0,s=!1;function o(S){h();const R=i.subscribe(S);let x=!1;return()=>{x||(x=!0,R(),p())}}function a(){i.notify()}function l(){C.onStateChange&&C.onStateChange()}function u(){return s}function h(){r++,n||(n=t?t.addNestedSub(l):e.subscribe(l),i=DTe())}function p(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=$V)}function g(){s||(s=!0,h())}function v(){s&&(s=!1,p())}const C={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return C}var ATe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PTe=ATe(),ITe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",FTe=ITe(),MTe=()=>PTe||FTe?b.useLayoutEffect:b.useEffect,hb=MTe();function qV(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function rx(e,t){if(qV(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!qV(e[n[r]],t[n[r]]))return!1;return!0}var _Te={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kTe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},OTe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},t6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LTe={[pTe]:OTe,[gTe]:t6};function KV(e){return vTe(e)?t6:LTe[e.$$typeof]||_Te}var NTe=Object.defineProperty,VTe=Object.getOwnPropertyNames,YV=Object.getOwnPropertySymbols,BTe=Object.getOwnPropertyDescriptor,HTe=Object.getPrototypeOf,XV=Object.prototype;function vD(e,t){if(typeof t!="string"){if(XV){const s=HTe(t);s&&s!==XV&&vD(e,s)}let n=VTe(t);YV&&(n=n.concat(YV(t)));const i=KV(e),r=KV(t);for(let s=0;s<n.length;++s){const o=n[s];if(!kTe[o]&&!(r&&r[o])&&!(i&&i[o])){const a=BTe(t,o);try{NTe(e,o,a)}catch{}}}}return e}var GTe=Symbol.for("react-redux-context"),zTe=typeof globalThis<"u"?globalThis:{};function UTe(){if(!b.createContext)return{};const e=zTe[GTe]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var n6=UTe(),WTe=[null,null];function jTe(e,t,n){hb(()=>e(...t),n)}function $Te(e,t,n,i,r,s){e.current=i,n.current=!1,r.current&&(r.current=null,s())}function qTe(e,t,n,i,r,s,o,a,l,u,h){if(!e)return()=>{};let p=!1,g=null;const v=()=>{if(p||!a.current)return;const S=t.getState();let R,x;try{R=i(S,r.current)}catch(D){x=D,g=D}x||(g=null),R===s.current?o.current||u():(s.current=R,l.current=R,o.current=!0,h())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function KTe(e,t){return e===t}function YTe(e,t,n,{pure:i,areStatesEqual:r=KTe,areOwnPropsEqual:s=rx,areStatePropsEqual:o=rx,areMergedPropsEqual:a=rx,forwardRef:l=!1,context:u=n6}={}){const h=u,p=STe(e),g=bTe(t),v=xTe(n),C=!!e;return R=>{const x=R.displayName||R.name||"Component",D=`Connect(${x})`,T={shouldHandleStateChanges:C,displayName:D,wrappedComponentName:x,WrappedComponent:R,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:v,areStatesEqual:r,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function k(_){const[M,N,B]=b.useMemo(()=>{const{reactReduxForwardedRef:mt,...Ot}=_;return[_.context,mt,Ot]},[_]),H=b.useMemo(()=>{let mt=h;return M?.Consumer,mt},[M,h]),U=b.useContext(H),G=!!_.store&&!!_.store.getState&&!!_.store.dispatch,J=!!U&&!!U.store,ie=G?_.store:U.store,$=J?U.getServerState:ie.getState,Q=b.useMemo(()=>CTe(ie.dispatch,T),[ie]),[ee,fe]=b.useMemo(()=>{if(!C)return WTe;const mt=e6(ie,G?void 0:U.subscription),Ot=mt.notifyNestedSubs.bind(mt);return[mt,Ot]},[ie,G,U]),F=b.useMemo(()=>G?U:{...U,subscription:ee},[G,U,ee]),X=b.useRef(void 0),ne=b.useRef(B),z=b.useRef(void 0),pe=b.useRef(!1),De=b.useRef(!1),xe=b.useRef(void 0);hb(()=>(De.current=!0,()=>{De.current=!1}),[]);const lt=b.useMemo(()=>()=>z.current&&B===ne.current?z.current:Q(ie.getState(),B),[ie,B]),qe=b.useMemo(()=>Ot=>ee?qTe(C,ie,ee,Q,ne,X,pe,De,z,fe,Ot):()=>{},[ee]);jTe($Te,[ne,X,pe,B,z,fe]);let ze;try{ze=b.useSyncExternalStore(qe,lt,$?()=>Q($(),B):lt)}catch(mt){throw xe.current&&(mt.message+=`
The error may be correlated with this previous error:
${xe.current.stack}

`),mt}hb(()=>{xe.current=void 0,z.current=void 0,X.current=ze});const nt=b.useMemo(()=>b.createElement(R,{...ze,ref:N}),[N,R,ze]);return b.useMemo(()=>C?b.createElement(H.Provider,{value:F},nt):nt,[H,nt,F])}const P=b.memo(k);if(P.WrappedComponent=R,P.displayName=k.displayName=D,l){const M=b.forwardRef(function(B,H){return b.createElement(P,{...B,reactReduxForwardedRef:H})});return M.displayName=D,M.WrappedComponent=R,vD(M,R)}return vD(P,R)}}var i6=YTe;function XTe(e){const{children:t,context:n,serverState:i,store:r}=e,s=b.useMemo(()=>{const l=e6(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),o=b.useMemo(()=>r.getState(),[r]);hb(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||n6;return b.createElement(a.Provider,{value:s},t)}var QTe=XTe,ZTe="Invariant failed";function JTe(e,t){throw new Error(ZTe)}var so=function(t){var n=t.top,i=t.right,r=t.bottom,s=t.left,o=i-s,a=r-n,l={top:n,right:i,bottom:r,left:s,width:o,height:a,x:s,y:n,center:{x:(i+s)/2,y:(r+n)/2}};return l},kI=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},QV=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},eDe=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},sx={top:0,right:0,bottom:0,left:0},OI=function(t){var n=t.borderBox,i=t.margin,r=i===void 0?sx:i,s=t.border,o=s===void 0?sx:s,a=t.padding,l=a===void 0?sx:a,u=so(kI(n,r)),h=so(QV(n,o)),p=so(QV(h,l));return{marginBox:u,borderBox:so(n),paddingBox:h,contentBox:p,margin:r,border:o,padding:l}},Ts=function(t){var n=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var r=Number(n);return isNaN(r)&&JTe(),r},tDe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},fb=function(t,n){var i=t.borderBox,r=t.border,s=t.margin,o=t.padding,a=eDe(i,n);return OI({borderBox:a,border:r,margin:s,padding:o})},pb=function(t,n){return n===void 0&&(n=tDe()),fb(t,n)},r6=function(t,n){var i={top:Ts(n.marginTop),right:Ts(n.marginRight),bottom:Ts(n.marginBottom),left:Ts(n.marginLeft)},r={top:Ts(n.paddingTop),right:Ts(n.paddingRight),bottom:Ts(n.paddingBottom),left:Ts(n.paddingLeft)},s={top:Ts(n.borderTopWidth),right:Ts(n.borderRightWidth),bottom:Ts(n.borderBottomWidth),left:Ts(n.borderLeftWidth)};return OI({borderBox:t,margin:i,padding:r,border:s})},s6=function(t){var n=t.getBoundingClientRect(),i=window.getComputedStyle(t);return r6(n,i)},Fm=function(t){var n=[],i=null,r=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,n)}))};return r.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},r};function o6(e,t){}o6.bind(null,"warn");o6.bind(null,"error");function lc(){}function nDe(e,t){return{...e,...t}}function Vs(e,t,n){const i=t.map(r=>{const s=nDe(n,r.options);return e.addEventListener(r.eventName,r.fn,s),function(){e.removeEventListener(r.eventName,r.fn,s)}});return function(){i.forEach(s=>{s()})}}const iDe="Invariant failed";class gb extends Error{}gb.prototype.toString=function(){return this.message};function Me(e,t){throw new gb(iDe)}class rDe extends K.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=lc,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof gb&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Vs(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof gb){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const sDe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,mb=e=>e+1,oDe=e=>`
  You have lifted an item in position ${mb(e.source.index)}
`,a6=(e,t)=>{const n=e.droppableId===t.droppableId,i=mb(e.index),r=mb(t.index);return n?`
      You have moved the item from position ${i}
      to position ${r}
    `:`
    You have moved the item from position ${i}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${r}
  `},l6=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,aDe=e=>{const t=e.destination;if(t)return a6(e.source,t);const n=e.combine;return n?l6(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},ZV=e=>`
  The item has returned to its starting position
  of ${mb(e.index)}
`,lDe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ZV(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${a6(e.source,t)}
    `:n?`
      You have dropped the item.
      ${l6(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ZV(e.source)}
  `},iw={dragHandleUsageInstructions:sDe,onDragStart:oDe,onDragUpdate:aDe,onDragEnd:lDe};function cDe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function c6(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!cDe(e[n],t[n]))return!1;return!0}function jt(e,t){const n=b.useState(()=>({inputs:t,result:e()}))[0],i=b.useRef(!0),r=b.useRef(n),o=i.current||!!(t&&r.current.inputs&&c6(t,r.current.inputs))?r.current:{inputs:t,result:e()};return b.useEffect(()=>{i.current=!1,r.current=o},[o]),o.result}function et(e,t){return jt(()=>e,t)}const ki={x:0,y:0},qi=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ss=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),cc=(e,t)=>e.x===t.x&&e.y===t.y,Vf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),ud=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Mm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),JV=(e,t)=>Math.min(...t.map(n=>Mm(e,n))),u6=e=>t=>({x:e(t.x),y:e(t.y)});var uDe=(e,t)=>{const n=so({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const wv=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),eB=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],dDe={top:0,right:0,bottom:0,left:0},hDe=(e,t)=>t?wv(e,t.scroll.diff.displacement):e,fDe=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,pDe=(e,t)=>t&&t.shouldClipSubject?uDe(t.pageMarginBox,e):so(e);var gf=({page:e,withPlaceholder:t,axis:n,frame:i})=>{const r=hDe(e.marginBox,i),s=fDe(r,n,t),o=pDe(s,i);return{page:e,withPlaceholder:t,active:o}},LI=(e,t)=>{e.frame||Me();const n=e.frame,i=ss(t,n.scroll.initial),r=Vf(i),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:i,displacement:r},max:n.scroll.max}},o=gf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function Mi(e,t=c6){let n=null;function i(...r){if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;const s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=function(){n=null},i}const d6=Mi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),h6=Mi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),kS=Mi(e=>Object.values(e)),gDe=Mi(e=>Object.values(e));var Bf=Mi((e,t)=>gDe(t).filter(i=>e===i.descriptor.droppableId).sort((i,r)=>i.descriptor.index-r.descriptor.index));function NI(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function OS(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var LS=Mi((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),mDe=({isMovingForward:e,draggable:t,destination:n,insideDestination:i,previousImpact:r})=>{if(!n.isCombineEnabled||!NI(r))return null;function o(v){const C={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...r,at:C}}const a=r.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const u=LS(t,i);if(!l){if(!u.length)return null;const v=u[u.length-1];return o(v.descriptor.id)}const h=u.findIndex(v=>v.descriptor.id===l);h===-1&&Me();const p=h-1;if(p<0)return null;const g=u[p];return o(g.descriptor.id)},Hf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const f6={point:ki,value:0},_m={invisible:{},visible:{},all:[]},vDe={displaced:_m,displacedBy:f6,at:null};var Gs=(e,t)=>n=>e<=n&&n<=t,p6=e=>{const t=Gs(e.top,e.bottom),n=Gs(e.left,e.right);return i=>{if(t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right))return!0;const s=t(i.top)||t(i.bottom),o=n(i.left)||n(i.right);if(s&&o)return!0;const l=i.top<e.top&&i.bottom>e.bottom,u=i.left<e.left&&i.right>e.right;return l&&u?!0:l&&o||u&&s}},yDe=e=>{const t=Gs(e.top,e.bottom),n=Gs(e.left,e.right);return i=>t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right)};const VI={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},g6={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var CDe=e=>t=>{const n=Gs(t.top,t.bottom),i=Gs(t.left,t.right);return r=>e===VI?n(r.top)&&n(r.bottom):i(r.left)&&i(r.right)};const wDe=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:ki;return wv(e,n)},bDe=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,SDe=(e,t,n)=>n(t)(e),BI=({target:e,destination:t,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:r})=>{const s=i?wDe(e,t):e;return bDe(s,t,r)&&SDe(s,n,r)},EDe=e=>BI({...e,isVisibleThroughFrameFn:p6}),m6=e=>BI({...e,isVisibleThroughFrameFn:yDe}),RDe=e=>BI({...e,isVisibleThroughFrameFn:CDe(e.destination.axis)}),xDe=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:i,visible:r}=t;if(i[e])return!1;const s=r[e];return s?s.shouldAnimate:!0};function TDe(e,t){const n=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return so(kI(n,i))}function km({afterDragging:e,destination:t,displacedBy:n,viewport:i,forceShouldAnimate:r,last:s}){return e.reduce(function(a,l){const u=TDe(l,n),h=l.descriptor.id;if(a.all.push(h),!EDe({target:u,destination:t,viewport:i,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const g=xDe(h,s,r),v={draggableId:h,shouldAnimate:g};return a.visible[h]=v,a},{all:[],visible:{},invisible:{}})}function DDe(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function tB({insideDestination:e,inHomeList:t,displacedBy:n,destination:i}){const r=DDe(e,{inHomeList:t});return{displaced:_m,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:r}}}}function vb({draggable:e,insideDestination:t,destination:n,viewport:i,displacedBy:r,last:s,index:o,forceShouldAnimate:a}){const l=Hf(e,n);if(o==null)return tB({insideDestination:t,inHomeList:l,displacedBy:r,destination:n});const u=t.find(C=>C.descriptor.index===o);if(!u)return tB({insideDestination:t,inHomeList:l,displacedBy:r,destination:n});const h=LS(e,t),p=t.indexOf(u),g=h.slice(p);return{displaced:km({afterDragging:g,destination:n,displacedBy:r,last:s,viewport:i.frame,forceShouldAnimate:a}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Rc(e,t){return!!t.effected[e]}var ADe=({isMovingForward:e,destination:t,draggables:n,combine:i,afterCritical:r})=>{if(!t.isCombineEnabled)return null;const s=i.draggableId,a=n[s].descriptor.index;return Rc(s,r)?e?a:a-1:e?a+1:a},PDe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:i})=>{if(!n.length)return null;const r=i.index,s=e?r+1:r-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return s<o||s>l?null:s},IDe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:i,destination:r,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const u=o.at;if(u||Me(),u.type==="REORDER"){const p=PDe({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:s});return p==null?null:vb({draggable:n,insideDestination:s,destination:r,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=ADe({isMovingForward:e,destination:r,displaced:o.displaced,draggables:i,combine:u.combine,afterCritical:l});return h==null?null:vb({draggable:n,insideDestination:s,destination:r,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})},FDe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:i})=>{const r=!!(e.visible[n]||e.invisible[n]);return Rc(n,t)?r?ki:Vf(i.point):r?i.point:ki},MDe=({afterCritical:e,impact:t,draggables:n})=>{const i=OS(t);i||Me();const r=i.draggableId,s=n[r].page.borderBox.center,o=FDe({displaced:t.displaced,afterCritical:e,combineWith:r,displacedBy:t.displacedBy});return qi(s,o)};const v6=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,_De=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,HI=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,nB=({axis:e,moveRelativeTo:t,isMoving:n})=>ud(e.line,t.marginBox[e.end]+v6(e,n),HI(e,t.marginBox,n)),iB=({axis:e,moveRelativeTo:t,isMoving:n})=>ud(e.line,t.marginBox[e.start]-_De(e,n),HI(e,t.marginBox,n)),kDe=({axis:e,moveInto:t,isMoving:n})=>ud(e.line,t.contentBox[e.start]+v6(e,n),HI(e,t.contentBox,n));var ODe=({impact:e,draggable:t,draggables:n,droppable:i,afterCritical:r})=>{const s=Bf(i.descriptor.id,n),o=t.page,a=i.axis;if(!s.length)return kDe({axis:a,moveInto:i.page,isMoving:o});const{displaced:l,displacedBy:u}=e,h=l.all[0];if(h){const g=n[h];if(Rc(h,r))return iB({axis:a,moveRelativeTo:g.page,isMoving:o});const v=fb(g.page,u.point);return iB({axis:a,moveRelativeTo:v,isMoving:o})}const p=s[s.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Rc(p.descriptor.id,r)){const g=fb(p.page,Vf(r.displacedBy.point));return nB({axis:a,moveRelativeTo:g,isMoving:o})}return nB({axis:a,moveRelativeTo:p.page,isMoving:o})},yD=(e,t)=>{const n=e.frame;return n?qi(t,n.scroll.diff.displacement):t};const LDe=({impact:e,draggable:t,droppable:n,draggables:i,afterCritical:r})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?ODe({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:r}):MDe({impact:e,draggables:i,afterCritical:r})};var NS=e=>{const t=LDe(e),n=e.droppable;return n?yD(n,t):t},y6=(e,t)=>{const n=ss(t,e.scroll.initial),i=Vf(n);return{frame:so({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:i}}}};function rB(e,t){return e.map(n=>t[n])}function NDe(e,t){for(let n=0;n<t.length;n++){const i=t[n].visible[e];if(i)return i}return null}var VDe=({impact:e,viewport:t,destination:n,draggables:i,maxScrollChange:r})=>{const s=y6(t,qi(t.scroll.current,r)),o=n.frame?LI(n,qi(n.frame.scroll.current,r)):n,a=e.displaced,l=km({afterDragging:rB(a.all,i),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=km({afterDragging:rB(a.all,i),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),h={},p={},g=[a,l,u];return a.all.forEach(C=>{const S=NDe(C,g);if(S){p[C]=S;return}h[C]=!0}),{...e,displaced:{all:a.all,invisible:h,visible:p}}},BDe=(e,t)=>qi(e.scroll.diff.displacement,t),GI=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const i=BDe(n,e),r=ss(i,t.page.borderBox.center);return qi(t.client.borderBox.center,r)},C6=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:r,onlyOnMainAxis:s=!1})=>{const o=ss(n,e.page.borderBox.center),l={target:wv(e.page.borderBox,o),destination:t,withDroppableDisplacement:r,viewport:i};return s?RDe(l):m6(l)},HDe=({isMovingForward:e,draggable:t,destination:n,draggables:i,previousImpact:r,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=Bf(n.descriptor.id,i),h=Hf(t,n),p=mDe({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:r})||IDe({isMovingForward:e,isInHomeList:h,draggable:t,draggables:i,destination:n,insideDestination:u,previousImpact:r,viewport:s,afterCritical:l});if(!p)return null;const g=NS({impact:p,draggable:t,droppable:n,draggables:i,afterCritical:l});if(C6({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:GI({pageBorderBoxCenter:g,draggable:t,viewport:s}),impact:p,scrollJumpRequest:null};const C=ss(g,o),S=VDe({impact:p,viewport:s,destination:n,draggables:i,maxScrollChange:C});return{clientSelection:a,impact:S,scrollJumpRequest:C}};const Cr=e=>{const t=e.subject.active;return t||Me(),t};var GDe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:r})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=Gs(s[o.start],s[o.end]),l=kS(i).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>p6(r.frame)(Cr(h))).filter(h=>{const p=Cr(h);return e?s[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<s[o.crossAxisStart]}).filter(h=>{const p=Cr(h),g=Gs(p[o.start],p[o.end]);return a(p[o.start])||a(p[o.end])||g(s[o.start])||g(s[o.end])}).sort((h,p)=>{const g=Cr(h)[o.crossAxisStart],v=Cr(p)[o.crossAxisStart];return e?g-v:v-g}).filter((h,p,g)=>Cr(h)[o.crossAxisStart]===Cr(g[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(h=>Gs(Cr(h)[o.start],Cr(h)[o.end])(t[o.line]));return u.length===1?u[0]:u.length>1?u.sort((h,p)=>Cr(h)[o.start]-Cr(p)[o.start])[0]:l.sort((h,p)=>{const g=JV(t,eB(Cr(h))),v=JV(t,eB(Cr(p)));return g!==v?g-v:Cr(h)[o.start]-Cr(p)[o.start]})[0]};const sB=(e,t)=>{const n=e.page.borderBox.center;return Rc(e.descriptor.id,t)?ss(n,t.displacedBy.point):n},zDe=(e,t)=>{const n=e.page.borderBox;return Rc(e.descriptor.id,t)?wv(n,Vf(t.displacedBy.point)):n};var UDe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:i,afterCritical:r})=>i.filter(o=>m6({target:zDe(o,r),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=Mm(e,yD(n,sB(o,r))),u=Mm(e,yD(n,sB(a,r)));return l<u?-1:u<l?1:o.descriptor.index-a.descriptor.index})[0]||null,bv=Mi(function(t,n){const i=n[t.line];return{value:i,point:ud(t.line,i)}});const WDe=(e,t,n)=>{const i=e.axis;if(e.descriptor.mode==="virtual")return ud(i.line,t[i.line]);const r=e.subject.page.contentBox[i.size],l=Bf(e.descriptor.id,n).reduce((u,h)=>u+h.client.marginBox[i.size],0)+t[i.line]-r;return l<=0?null:ud(i.line,l)},w6=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),b6=(e,t,n)=>{const i=e.frame;Hf(t,e)&&Me(),e.subject.withPlaceholder&&Me();const r=bv(e.axis,t.displaceBy).point,s=WDe(e,r,n),o={placeholderSize:r,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){const h=gf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const a=s?qi(i.scroll.max,s):i.scroll.max,l=w6(i,a),u=gf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:u,frame:l}},jDe=e=>{const t=e.subject.withPlaceholder;t||Me();const n=e.frame;if(!n){const o=gf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const i=t.oldFrameMaxScroll;i||Me();const r=w6(n,i),s=gf({page:e.subject.page,axis:e.axis,frame:r,withPlaceholder:null});return{...e,subject:s,frame:r}};var $De=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:i,draggables:r,destination:s,viewport:o,afterCritical:a})=>{if(!t){if(n.length)return null;const p={displaced:_m,displacedBy:f6,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},g=NS({impact:p,draggable:i,droppable:s,draggables:r,afterCritical:a}),v=Hf(i,s)?s:b6(s,i,r);return C6({draggable:i,destination:v,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],u=(()=>{const p=t.descriptor.index;return t.descriptor.id===i.descriptor.id||l?p:p+1})(),h=bv(s.axis,i.displaceBy);return vb({draggable:i,insideDestination:n,destination:s,viewport:o,displacedBy:h,last:_m,index:u})},qDe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:i,draggables:r,droppables:s,viewport:o,afterCritical:a})=>{const l=GDe({isMovingForward:e,pageBorderBoxCenter:t,source:i,droppables:s,viewport:o});if(!l)return null;const u=Bf(l.descriptor.id,r),h=UDe({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:u,afterCritical:a}),p=$De({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:r,moveRelativeTo:h,insideDestination:u,viewport:o,afterCritical:a});if(!p)return null;const g=NS({impact:p,draggable:n,droppable:l,draggables:r,afterCritical:a});return{clientSelection:GI({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},cs=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const KDe=(e,t)=>{const n=cs(e);return n?t[n]:null};var YDe=({state:e,type:t})=>{const n=KDe(e.impact,e.dimensions.droppables),i=!!n,r=e.dimensions.droppables[e.critical.droppable.id],s=n||r,o=s.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!i)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return a?HDe({isMovingForward:l,previousPageBorderBoxCenter:h,draggable:u,destination:s,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):qDe({isMovingForward:l,previousPageBorderBoxCenter:h,draggable:u,isOver:s,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Cu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function S6(e){const t=Gs(e.top,e.bottom),n=Gs(e.left,e.right);return function(r){return t(r.y)&&n(r.x)}}function XDe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function QDe({pageBorderBox:e,draggable:t,candidates:n}){const i=t.page.borderBox.center,r=n.map(s=>{const o=s.axis,a=ud(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Mm(i,a)}}).sort((s,o)=>o.distance-s.distance);return r[0]?r[0].id:null}function ZDe({pageBorderBox:e,draggable:t,droppables:n}){const i=kS(n).filter(r=>{if(!r.isEnabled)return!1;const s=r.subject.active;if(!s||!XDe(e,s))return!1;if(S6(s)(e.center))return!0;const o=r.axis,a=s.center[o.crossAxisLine],l=e[o.crossAxisStart],u=e[o.crossAxisEnd],h=Gs(s[o.crossAxisStart],s[o.crossAxisEnd]),p=h(l),g=h(u);return!p&&!g?!0:p?l<a:u>a});return i.length?i.length===1?i[0].descriptor.id:QDe({pageBorderBox:e,draggable:t,candidates:i}):null}const E6=(e,t)=>so(wv(e,t));var JDe=(e,t)=>{const n=e.frame;return n?E6(t,n.scroll.diff.value):t};function R6({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function eAe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var tAe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:i,last:r,viewport:s,afterCritical:o})=>{const a=n.axis,l=bv(n.axis,t.displaceBy),u=l.value,h=e[a.start],p=e[a.end],v=LS(t,i).find(S=>{const R=S.descriptor.id,x=S.page.borderBox.center[a.line],D=Rc(R,o),T=R6({displaced:r,id:R});return D?T?p<=x:h<x-u:T?p<=x+u:h<x})||null,C=eAe({draggable:t,closest:v,inHomeList:Hf(t,n)});return vb({draggable:t,insideDestination:i,destination:n,viewport:s,last:r,displacedBy:l,index:C})};const nAe=4;var iAe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:i,insideDestination:r,afterCritical:s})=>{if(!i.isCombineEnabled)return null;const o=i.axis,a=bv(i.axis,e.displaceBy),l=a.value,u=t[o.start],h=t[o.end],g=LS(e,r).find(C=>{const S=C.descriptor.id,R=C.page.borderBox,D=R[o.size]/nAe,T=Rc(S,s),k=R6({displaced:n.displaced,id:S});return T?k?h>R[o.start]+D&&h<R[o.end]-D:u>R[o.start]-l+D&&u<R[o.end]-l-D:k?h>R[o.start]+l+D&&h<R[o.end]+l-D:u>R[o.start]+D&&u<R[o.end]-D});return g?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:i.descriptor.id}}}:null},x6=({pageOffset:e,draggable:t,draggables:n,droppables:i,previousImpact:r,viewport:s,afterCritical:o})=>{const a=E6(t.page.borderBox,e),l=ZDe({pageBorderBox:a,draggable:t,droppables:i});if(!l)return vDe;const u=i[l],h=Bf(u.descriptor.id,n),p=JDe(u,a);return iAe({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:r,destination:u,insideDestination:h,afterCritical:o})||tAe({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:u,insideDestination:h,last:r.displaced,viewport:s,afterCritical:o})},zI=(e,t)=>({...e,[t.descriptor.id]:t});const rAe=({previousImpact:e,impact:t,droppables:n})=>{const i=cs(e),r=cs(t);if(!i||i===r)return n;const s=n[i];if(!s.subject.withPlaceholder)return n;const o=jDe(s);return zI(n,o)};var sAe=({draggable:e,draggables:t,droppables:n,previousImpact:i,impact:r})=>{const s=rAe({previousImpact:i,impact:r,droppables:n}),o=cs(r);if(!o)return s;const a=n[o];if(Hf(e,a)||a.subject.withPlaceholder)return s;const l=b6(a,e,t);return zI(s,l)},Bg=({state:e,clientSelection:t,dimensions:n,viewport:i,impact:r,scrollJumpRequest:s})=>{const o=i||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,u=ss(l,e.initial.client.selection),h={offset:u,selection:l,borderBoxCenter:qi(e.initial.client.borderBoxCenter,u)},p={selection:qi(h.selection,o.scroll.current),borderBoxCenter:qi(h.borderBoxCenter,o.scroll.current),offset:qi(h.offset,o.scroll.diff.value)},g={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:g};const v=a.draggables[e.critical.draggable.id],C=r||x6({pageOffset:p.offset,draggable:v,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),S=sAe({draggable:v,impact:C,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:g,dimensions:{draggables:a.draggables,droppables:S},impact:C,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function oAe(e,t){return e.map(n=>t[n])}var T6=({impact:e,viewport:t,draggables:n,destination:i,forceShouldAnimate:r})=>{const s=e.displaced,o=oAe(s.all,n),a=km({afterDragging:o,destination:i,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:r,last:s});return{...e,displaced:a}},D6=({impact:e,draggable:t,droppable:n,draggables:i,viewport:r,afterCritical:s})=>{const o=NS({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:s});return GI({pageBorderBoxCenter:o,draggable:t,viewport:r})},A6=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Me();const i=e.impact,r=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:a}=s,l=o[e.critical.draggable.id],u=cs(i);u||Me();const h=a[u],p=T6({impact:i,viewport:r,destination:h,draggables:o}),g=D6({impact:p,draggable:l,droppable:h,draggables:o,viewport:r,afterCritical:e.afterCritical});return Bg({impact:p,clientSelection:g,state:e,dimensions:s,viewport:r})},aAe=e=>({index:e.index,droppableId:e.droppableId}),P6=({draggable:e,home:t,draggables:n,viewport:i})=>{const r=bv(t.axis,e.displaceBy),s=Bf(t.descriptor.id,n),o=s.indexOf(e);o===-1&&Me();const a=s.slice(o+1),l=a.reduce((g,v)=>(g[v.descriptor.id]=!0,g),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:r,effected:l};return{impact:{displaced:km({afterDragging:a,destination:t,displacedBy:r,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:aAe(e.descriptor)}},afterCritical:u}},lAe=(e,t)=>({draggables:e.draggables,droppables:zI(e.droppables,t)}),cAe=({draggable:e,offset:t,initialWindowScroll:n})=>{const i=fb(e.client,t),r=pb(i,n);return{...e,placeholder:{...e.placeholder,client:i},client:i,page:r}},uAe=e=>{const t=e.frame;return t||Me(),t},dAe=({additions:e,updatedDroppables:t,viewport:n})=>{const i=n.scroll.diff.value;return e.map(r=>{const s=r.descriptor.droppableId,o=t[s],l=uAe(o).scroll.diff.value,u=qi(i,l);return cAe({draggable:r,offset:u,initialWindowScroll:n.scroll.initial})})},hAe=({state:e,published:t})=>{const n=t.modified.map(x=>{const D=e.dimensions.droppables[x.droppableId];return LI(D,x.scroll)}),i={...e.dimensions.droppables,...d6(n)},r=h6(dAe({additions:t.additions,updatedDroppables:i,viewport:e.viewport})),s={...e.dimensions.draggables,...r};t.removals.forEach(x=>{delete s[x]});const o={droppables:i,draggables:s},a=cs(e.impact),l=a?o.droppables[a]:null,u=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=P6({draggable:u,home:h,draggables:s,viewport:e.viewport}),v=l&&l.isCombineEnabled?e.impact:p,C=x6({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:v,viewport:e.viewport,afterCritical:g}),S={...e,phase:"DRAGGING",impact:C,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const CD=e=>e.movementMode==="SNAP",ox=(e,t,n)=>{const i=lAe(e.dimensions,t);return!CD(e)||n?Bg({state:e,dimensions:i}):A6({state:e,dimensions:i})};function ax(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const oB={phase:"IDLE",completed:null,shouldFlush:!1};var fAe=(e=oB,t)=>{if(t.type==="FLUSH")return{...oB,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Me();const{critical:n,clientSelection:i,viewport:r,dimensions:s,movementMode:o}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],u={selection:i,borderBoxCenter:a.client.borderBox.center,offset:ki},h={client:u,page:{selection:qi(u.selection,r.scroll.initial),borderBoxCenter:qi(u.selection,r.scroll.initial),offset:qi(u.selection,r.scroll.diff.value)}},p=kS(s.droppables).every(S=>!S.isFixedOnPage),{impact:g,afterCritical:v}=P6({draggable:a,home:l,draggables:s.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:h,current:h,isWindowScrollAllowed:p,impact:g,afterCritical:v,onLiftImpact:g,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Me(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Me(),hAe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Cu(e)||Me();const{client:n}=t.payload;return cc(n,e.current.client.selection)?e:Bg({state:e,clientSelection:n,impact:CD(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ax(e);Cu(e)||Me();const{id:n,newScroll:i}=t.payload,r=e.dimensions.droppables[n];if(!r)return e;const s=LI(r,i);return ox(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Cu(e)||Me();const{id:n,isEnabled:i}=t.payload,r=e.dimensions.droppables[n];r||Me(),r.isEnabled===i&&Me();const s={...r,isEnabled:i};return ox(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Cu(e)||Me();const{id:n,isCombineEnabled:i}=t.payload,r=e.dimensions.droppables[n];r||Me(),r.isCombineEnabled===i&&Me();const s={...r,isCombineEnabled:i};return ox(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Cu(e)||Me(),e.isWindowScrollAllowed||Me();const n=t.payload.newScroll;if(cc(e.viewport.scroll.current,n))return ax(e);const i=y6(e.viewport,n);return CD(e)?A6({state:e,viewport:i}):Bg({state:e,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Cu(e))return e;const n=t.payload.maxScroll;if(cc(n,e.viewport.scroll.max))return e;const i={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Me();const n=YDe({state:e,type:t.type});return n?Bg({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Me(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:r}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Me(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:r,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function on(e,t){return e instanceof Object&&"type"in e&&e.type===t}const pAe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),gAe=e=>({type:"LIFT",payload:e}),mAe=e=>({type:"INITIAL_PUBLISH",payload:e}),vAe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),yAe=()=>({type:"COLLECTION_STARTING",payload:null}),CAe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),wAe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),bAe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),I6=e=>({type:"MOVE",payload:e}),SAe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),EAe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),RAe=()=>({type:"MOVE_UP",payload:null}),xAe=()=>({type:"MOVE_DOWN",payload:null}),TAe=()=>({type:"MOVE_RIGHT",payload:null}),DAe=()=>({type:"MOVE_LEFT",payload:null}),UI=()=>({type:"FLUSH",payload:null}),AAe=e=>({type:"DROP_ANIMATE",payload:e}),WI=e=>({type:"DROP_COMPLETE",payload:e}),F6=e=>({type:"DROP",payload:e}),PAe=e=>({type:"DROP_PENDING",payload:e}),M6=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var IAe=e=>({getState:t,dispatch:n})=>i=>r=>{if(!on(r,"LIFT")){i(r);return}const{id:s,clientSelection:o,movementMode:a}=r.payload,l=t();l.phase==="DROP_ANIMATING"&&n(WI({completed:l.completed})),t().phase!=="IDLE"&&Me(),n(UI()),n(pAe({draggableId:s,movementMode:a}));const h={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:p,dimensions:g,viewport:v}=e.startPublishing(h);n(mAe({critical:p,dimensions:g,clientSelection:o,movementMode:a,viewport:v}))},FAe=e=>()=>t=>n=>{on(n,"INITIAL_PUBLISH")&&e.dragging(),on(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(on(n,"FLUSH")||on(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const jI={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Om={opacity:{drop:0,combining:.7},scale:{drop:.75}},_6={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},hu=`${_6.outOfTheWay}s ${jI.outOfTheWay}`,Hg={fluid:`opacity ${hu}`,snap:`transform ${hu}, opacity ${hu}`,drop:e=>{const t=`${e}s ${jI.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${hu}`,placeholder:`height ${hu}, width ${hu}, margin ${hu}`},aB=e=>cc(e,ki)?void 0:`translate(${e.x}px, ${e.y}px)`,wD={moveTo:aB,drop:(e,t)=>{const n=aB(e);if(n)return t?`${n} scale(${Om.scale.drop})`:n}},{minDropTime:bD,maxDropTime:k6}=_6,MAe=k6-bD,lB=1500,_Ae=.6;var kAe=({current:e,destination:t,reason:n})=>{const i=Mm(e,t);if(i<=0)return bD;if(i>=lB)return k6;const r=i/lB,s=bD+MAe*r,o=n==="CANCEL"?s*_Ae:s;return Number(o.toFixed(2))},OAe=({impact:e,draggable:t,dimensions:n,viewport:i,afterCritical:r})=>{const{draggables:s,droppables:o}=n,a=cs(e),l=a?o[a]:null,u=o[t.descriptor.droppableId],h=D6({impact:e,draggable:t,draggables:s,afterCritical:r,droppable:l||u,viewport:i});return ss(h,t.client.borderBox.center)},LAe=({draggables:e,reason:t,lastImpact:n,home:i,viewport:r,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:T6({draggables:e,impact:s,destination:i,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:_m},didDropInsideDroppable:!0};const NAe=({getState:e,dispatch:t})=>n=>i=>{if(!on(i,"DROP")){n(i);return}const r=e(),s=i.payload.reason;if(r.phase==="COLLECTING"){t(PAe({reason:s}));return}if(r.phase==="IDLE")return;r.phase==="DROP_PENDING"&&r.isWaiting&&Me(),r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||Me();const a=r.critical,l=r.dimensions,u=l.draggables[r.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=LAe({reason:s,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),g=p?NI(h):null,v=p?OS(h):null,C={index:a.draggable.index,droppableId:a.droppable.id},S={draggableId:u.descriptor.id,type:u.descriptor.type,source:C,reason:s,mode:r.movementMode,destination:g,combine:v},R=OAe({impact:h,draggable:u,dimensions:l,viewport:r.viewport,afterCritical:r.afterCritical}),x={critical:r.critical,afterCritical:r.afterCritical,result:S,impact:h};if(!(!cc(r.current.client.offset,R)||!!S.combine)){t(WI({completed:x}));return}const T=kAe({current:r.current.client.offset,destination:R,reason:s});t(AAe({newHomeClientOffset:R,dropDuration:T,completed:x}))};var O6=()=>({x:window.pageXOffset,y:window.pageYOffset});function VAe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function BAe({onWindowScroll:e}){function t(){e(O6())}const n=Fm(t),i=VAe(n);let r=lc;function s(){return r!==lc}function o(){s()&&Me(),r=Vs(window,[i])}function a(){s()||Me(),n.cancel(),r(),r=lc}return{start:o,stop:a,isActive:s}}const HAe=e=>on(e,"DROP_COMPLETE")||on(e,"DROP_ANIMATE")||on(e,"FLUSH"),GAe=e=>{const t=BAe({onWindowScroll:n=>{e.dispatch(SAe({newScroll:n}))}});return n=>i=>{!t.isActive()&&on(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&HAe(i)&&t.stop(),n(i)}};var zAe=e=>{let t=!1,n=!1;const i=setTimeout(()=>{n=!0}),r=s=>{t||n||(t=!0,e(s),clearTimeout(i))};return r.wasCalled=()=>t,r},UAe=()=>{const e=[],t=r=>{const s=e.findIndex(a=>a.timerId===r);s===-1&&Me();const[o]=e.splice(s,1);o.callback()};return{add:r=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:r};e.push(o)},flush:()=>{if(!e.length)return;const r=[...e];e.length=0,r.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const WAe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,jAe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,$Ae=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&i},ng=(e,t)=>{t()},gC=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function lx(e,t,n,i){if(!e){n(i(t));return}const r=zAe(n);e(t,{announce:r}),r.wasCalled()||n(i(t))}var qAe=(e,t)=>{const n=UAe();let i=null;const r=(p,g)=>{i&&Me(),ng("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:p,mode:g})})},s=(p,g)=>{i&&Me(),ng("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(gC(p,g))})},o=(p,g)=>{i&&Me();const v=gC(p,g);i={mode:g,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(()=>{ng("onDragStart",()=>lx(e().onDragStart,v,t,iw.onDragStart))})},a=(p,g)=>{const v=NI(g),C=OS(g);i||Me();const S=!$Ae(p,i.lastCritical);S&&(i.lastCritical=p);const R=!WAe(i.lastLocation,v);R&&(i.lastLocation=v);const x=!jAe(i.lastCombine,C);if(x&&(i.lastCombine=C),!S&&!R&&!x)return;const D={...gC(p,i.mode),combine:C,destination:v};n.add(()=>{ng("onDragUpdate",()=>lx(e().onDragUpdate,D,t,iw.onDragUpdate))})},l=()=>{i||Me(),n.flush()},u=p=>{i||Me(),i=null,ng("onDragEnd",()=>lx(e().onDragEnd,p,t,iw.onDragEnd))};return{beforeCapture:r,beforeStart:s,start:o,update:a,flush:l,drop:u,abort:()=>{if(!i)return;const p={...gC(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};u(p)}}},KAe=(e,t)=>{const n=qAe(e,t);return i=>r=>s=>{if(on(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(on(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),r(s),n.start(a,s.payload.movementMode);return}if(on(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),r(s),n.drop(a);return}if(r(s),on(s,"FLUSH")){n.abort();return}const o=i.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const YAe=e=>t=>n=>{if(!on(n,"DROP_ANIMATION_FINISHED")){t(n);return}const i=e.getState();i.phase!=="DROP_ANIMATING"&&Me(),e.dispatch(WI({completed:i.completed}))},XAe=e=>{let t=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return r=>s=>{if((on(s,"FLUSH")||on(s,"DROP_COMPLETE")||on(s,"DROP_ANIMATION_FINISHED"))&&i(),r(s),!on(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(M6())}};n=requestAnimationFrame(()=>{n=null,t=Vs(window,[o])})}};var QAe=e=>()=>t=>n=>{(on(n,"DROP_COMPLETE")||on(n,"FLUSH")||on(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},ZAe=e=>{let t=!1;return()=>n=>i=>{if(on(i,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),n(i),e.tryRestoreFocusRecorded();return}if(n(i),!!t){if(on(i,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(on(i,"DROP_COMPLETE")){t=!1;const r=i.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const JAe=e=>on(e,"DROP_COMPLETE")||on(e,"DROP_ANIMATE")||on(e,"FLUSH");var ePe=e=>t=>n=>i=>{if(JAe(i)){e.stop(),n(i);return}if(on(i,"INITIAL_PUBLISH")){n(i);const r=t.getState();r.phase!=="DRAGGING"&&Me(),e.start(r);return}n(i),e.scroll(t.getState())};const tPe=e=>t=>n=>{if(t(n),!on(n,"PUBLISH_WHILE_DRAGGING"))return;const i=e.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||e.dispatch(F6({reason:i.reason})))},nPe=Qj;var iPe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:i,announce:r,autoScroller:s})=>Xj(fAe,nPe(eTe(FAe(n),QAe(e),IAe(e),NAe,YAe,XAe,tPe,ePe(s),GAe,ZAe(t),KAe(i,r))));const cx=()=>({additions:{},removals:{},modified:{}});function rPe({registry:e,callbacks:t}){let n=cx(),i=null;const r=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:l,removals:u,modified:h}=n,p=Object.keys(l).map(C=>e.draggable.getById(C).getDimension(ki)).sort((C,S)=>C.descriptor.index-S.descriptor.index),g=Object.keys(h).map(C=>{const R=e.droppable.getById(C).callbacks.getScrollWhileDragging();return{droppableId:C,scroll:R}}),v={additions:p,removals:Object.keys(u),modified:g};n=cx(),t.publish(v)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],r()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],r()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=cx())}}}var L6=({scrollHeight:e,scrollWidth:t,height:n,width:i})=>{const r=ss({x:t,y:e},{x:i,y:n});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},N6=()=>{const e=document.documentElement;return e||Me(),e},V6=()=>{const e=N6();return L6({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},sPe=()=>{const e=O6(),t=V6(),n=e.y,i=e.x,r=N6(),s=r.clientWidth,o=r.clientHeight,a=i+s,l=n+o;return{frame:so({top:n,left:i,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:ki,displacement:ki}}}},oPe=({critical:e,scrollOptions:t,registry:n})=>{const i=sPe(),r=i.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(h=>h.callbacks.getDimensionAndWatchScroll(r,t)),a=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(r));return{dimensions:{draggables:h6(a),droppables:d6(o)},critical:e,viewport:i}};function cB(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var aPe=(e,t)=>{let n=null;const i=rPe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),r=(g,v)=>{e.droppable.exists(g)||Me(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:v})},s=(g,v)=>{n&&(e.droppable.exists(g)||Me(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},o=(g,v)=>{n&&(e.droppable.exists(g)||Me(),t.updateDroppableScroll({id:g,newScroll:v}))},a=(g,v)=>{n&&e.droppable.getById(g).callbacks.scroll(v)},l=()=>{if(!n)return;i.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},u=g=>{n||Me();const v=n.critical.draggable;g.type==="ADDITION"&&cB(e,v,g.value)&&i.add(g.value),g.type==="REMOVAL"&&cB(e,v,g.value)&&i.remove(g.value)};return{updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:g=>{n&&Me();const v=e.draggable.getById(g.draggableId),C=e.droppable.getById(v.descriptor.droppableId),S={draggable:v.descriptor,droppable:C.descriptor},R=e.subscribe(u);return n={critical:S,unsubscribe:R},oPe({critical:S,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:l}},B6=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",lPe=e=>{window.scrollBy(e.x,e.y)};const cPe=Mi(e=>kS(e).filter(t=>!(!t.isEnabled||!t.frame))),uPe=(e,t)=>cPe(t).find(i=>(i.frame||Me(),S6(i.frame.pageMarginBox)(e)))||null;var dPe=({center:e,destination:t,droppables:n})=>{if(t){const r=n[t];return r.frame?r:null}return uPe(e,n)};const Lm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var hPe=(e,t,n=()=>Lm)=>{const i=n(),r=e[t.size]*i.startFromPercentage,s=e[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:r,maxScrollValueAt:s}},H6=({startOfRange:e,endOfRange:t,current:n})=>{const i=t-e;return i===0?0:(n-e)/i},$I=1,fPe=(e,t,n=()=>Lm)=>{const i=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return i.maxPixelScroll;if(e===t.startScrollingFrom)return $I;const s=1-H6({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=i.maxPixelScroll*i.ease(s);return Math.ceil(o)},pPe=(e,t,n)=>{const i=n(),r=i.durationDampening.accelerateAt,s=i.durationDampening.stopDampeningAt,o=t,a=s,u=Date.now()-o;if(u>=s)return e;if(u<r)return $I;const h=H6({startOfRange:r,endOfRange:a,current:u}),p=e*i.ease(h);return Math.ceil(p)},uB=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const s=fPe(e,t,r);return s===0?0:i?Math.max(pPe(s,n,r),$I):s},dB=({container:e,distanceToEdges:t,dragStartTime:n,axis:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=hPe(e,i,s);return t[i.end]<t[i.start]?uB({distanceToEdge:t[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s}):-1*uB({distanceToEdge:t[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})},gPe=({container:e,subject:t,proposedScroll:n})=>{const i=t.height>e.height,r=t.width>e.width;return!r&&!i?n:r&&i?null:{x:r?0:n.x,y:i?0:n.y}};const mPe=u6(e=>e===0?0:e);var G6=({dragStartTime:e,container:t,subject:n,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},a=dB({container:t,distanceToEdges:o,dragStartTime:e,axis:VI,shouldUseTimeDampening:r,getAutoScrollerOptions:s}),l=dB({container:t,distanceToEdges:o,dragStartTime:e,axis:g6,shouldUseTimeDampening:r,getAutoScrollerOptions:s}),u=mPe({x:l,y:a});if(cc(u,ki))return null;const h=gPe({container:t,subject:n,proposedScroll:u});return h?cc(h,ki)?null:h:null};const vPe=u6(e=>e===0?0:e>0?1:-1),qI=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:i})=>{const r=qi(t,i),s={x:e(r.x,n.x),y:e(r.y,n.y)};return cc(s,ki)?null:s}})(),z6=({max:e,current:t,change:n})=>{const i={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},r=vPe(n),s=qI({max:i,current:t,change:r});return!s||r.x!==0&&s.x===0||r.y!==0&&s.y===0},KI=(e,t)=>z6({current:e.scroll.current,max:e.scroll.max,change:t}),yPe=(e,t)=>{if(!KI(e,t))return null;const n=e.scroll.max,i=e.scroll.current;return qI({current:i,max:n,change:t})},YI=(e,t)=>{const n=e.frame;return n?z6({current:n.scroll.current,max:n.scroll.max,change:t}):!1},CPe=(e,t)=>{const n=e.frame;return!n||!YI(e,t)?null:qI({current:n.scroll.current,max:n.scroll.max,change:t})};var wPe=({viewport:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=G6({dragStartTime:i,container:e.frame,subject:t,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s});return o&&KI(e,o)?o:null},bPe=({droppable:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const a=G6({dragStartTime:i,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s});return a&&YI(e,a)?a:null},hB=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:r,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=wPe({dragStartTime:t,viewport:p,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(g){i(g);return}}const u=dPe({center:o,destination:cs(e.impact),droppables:e.dimensions.droppables});if(!u)return;const h=bPe({dragStartTime:t,droppable:u,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});h&&r(u.descriptor.id,h)},SPe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Lm})=>{const i=Fm(e),r=Fm(t);let s=null;const o=u=>{s||Me();const{shouldUseTimeDampening:h,dragStartTime:p}=s;hB({state:u,scrollWindow:i,scrollDroppable:r,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:u=>{s&&Me();const h=Date.now();let p=!1;const g=()=>{p=!0};hB({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),s={dragStartTime:h,shouldUseTimeDampening:p},p&&o(u)},stop:()=>{s&&(i.cancel(),r.cancel(),s=null)},scroll:o}},EPe=({move:e,scrollDroppable:t,scrollWindow:n})=>{const i=(a,l)=>{const u=qi(a.current.client.selection,l);e({client:u})},r=(a,l)=>{if(!YI(a,l))return l;const u=CPe(a,l);if(!u)return t(a.descriptor.id,l),null;const h=ss(l,u);return t(a.descriptor.id,h),ss(l,h)},s=(a,l,u)=>{if(!a||!KI(l,u))return u;const h=yPe(l,u);if(!h)return n(u),null;const p=ss(u,h);return n(p),ss(u,p)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=cs(a.impact);u||Me();const h=r(a.dimensions.droppables[u],l);if(!h)return;const p=a.viewport,g=s(a.isWindowScrollAllowed,p,h);g&&i(a,g)}},RPe=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:i})=>{const r=SPe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:i}),s=EPe({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(i().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){r.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:r.start,stop:r.stop}};const mf="data-rfd",vf=(()=>{const e=`${mf}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),SD=(()=>{const e=`${mf}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),xPe=(()=>{const e=`${mf}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),fB={contextId:`${mf}-scroll-container-context-id`},TPe=e=>t=>`[${t}="${e}"]`,ig=(e,t)=>e.map(n=>{const i=n.styles[t];return i?`${n.selector} { ${i} }`:""}).join(" "),DPe="pointer-events: none;";var APe=e=>{const t=TPe(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(vf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:DPe,dropAnimating:a}}})(),i=(()=>{const a=`
      transition: ${Hg.outOfTheWay};
    `;return{selector:t(SD.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),r={selector:t(xPe.contextId),styles:{always:"overflow-anchor: none;"}},o=[i,n,r,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ig(o,"always"),resting:ig(o,"resting"),dragging:ig(o,"dragging"),dropAnimating:ig(o,"dropAnimating"),userCancel:ig(o,"userCancel")}};const us=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,ux=()=>{const e=document.querySelector("head");return e||Me(),e},pB=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function PPe(e,t){const n=jt(()=>APe(e),[e]),i=b.useRef(null),r=b.useRef(null),s=et(Mi(p=>{const g=r.current;g||Me(),g.textContent=p}),[]),o=et(p=>{const g=i.current;g||Me(),g.textContent=p},[]);us(()=>{!i.current&&!r.current||Me();const p=pB(t),g=pB(t);return i.current=p,r.current=g,p.setAttribute(`${mf}-always`,e),g.setAttribute(`${mf}-dynamic`,e),ux().appendChild(p),ux().appendChild(g),o(n.always),s(n.resting),()=>{const v=C=>{const S=C.current;S||Me(),ux().removeChild(S),C.current=null};v(i),v(r)}},[t,o,s,n.always,n.resting,e]);const a=et(()=>s(n.dragging),[s,n.dragging]),l=et(p=>{if(p==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=et(()=>{r.current&&s(n.resting)},[s,n.resting]);return jt(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function U6(e,t){return Array.from(e.querySelectorAll(t))}var W6=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function VS(e){return e instanceof W6(e).HTMLElement}function IPe(e,t){const n=`[${vf.contextId}="${e}"]`,i=U6(document,n);if(!i.length)return null;const r=i.find(s=>s.getAttribute(vf.draggableId)===t);return!r||!VS(r)?null:r}function FPe(e){const t=b.useRef({}),n=b.useRef(null),i=b.useRef(null),r=b.useRef(!1),s=et(function(g,v){const C={id:g,focus:v};return t.current[g]=C,function(){const R=t.current;R[g]!==C&&delete R[g]}},[]),o=et(function(g){const v=IPe(e,g);v&&v!==document.activeElement&&v.focus()},[e]),a=et(function(g,v){n.current===g&&(n.current=v)},[]),l=et(function(){i.current||r.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const g=n.current;g&&o(g)}))},[o]),u=et(function(g){n.current=null;const v=document.activeElement;v&&v.getAttribute(vf.draggableId)===g&&(n.current=g)},[]);return us(()=>(r.current=!0,function(){r.current=!1;const g=i.current;g&&cancelAnimationFrame(g)}),[]),jt(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,u,l,a])}function MPe(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const v=t.indexOf(p);v!==-1&&t.splice(v,1)}}function i(p){t.length&&t.forEach(g=>g(p))}function r(p){return e.draggables[p]||null}function s(p){const g=r(p);return g||Me(),g}const o={register:p=>{e.draggables[p.descriptor.id]=p,i({type:"ADDITION",value:p})},update:(p,g)=>{const v=e.draggables[g.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,v=r(g);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&i({type:"REMOVAL",value:p}))},getById:s,findById:r,exists:p=>!!r(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function a(p){return e.droppables[p]||null}function l(p){const g=a(p);return g||Me(),g}const u={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=a(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:l,findById:a,exists:p=>!!a(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:n,clean:h}}function _Pe(){const e=jt(MPe,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var XI=K.createContext(null),yb=()=>{const e=document.body;return e||Me(),e};const kPe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},OPe=e=>`rfd-announcement-${e}`;function LPe(e){const t=jt(()=>OPe(e),[e]),n=b.useRef(null);return b.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),im(s.style,kPe),yb().appendChild(s),function(){setTimeout(function(){const l=yb();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]),et(r=>{const s=n.current;if(s){s.textContent=r;return}},[])}const NPe={separator:"::"};function QI(e,t=NPe){const n=K.useId();return jt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function VPe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function BPe({contextId:e,text:t}){const n=QI("hidden-text",{separator:"-"}),i=jt(()=>VPe({contextId:e,uniqueId:n}),[n,e]);return b.useEffect(function(){const s=document.createElement("div");return s.id=i,s.textContent=t,s.style.display="none",yb().appendChild(s),function(){const a=yb();a.contains(s)&&a.removeChild(s)}},[i,t]),i}var BS=K.createContext(null);function j6(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),t}function HPe(){let e=null;function t(){return!!e}function n(o){return o===e}function i(o){e&&Me();const a={abandon:o};return e=a,a}function r(){e||Me(),e=null}function s(){e&&(e.abandon(),r())}return{isClaimed:t,isActive:n,claim:i,release:r,tryAbandon:s}}function Nm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const GPe=9,zPe=13,ZI=27,$6=32,UPe=33,WPe=34,jPe=35,$Pe=36,qPe=37,KPe=38,YPe=39,XPe=40,QPe={[zPe]:!0,[GPe]:!0};var q6=e=>{QPe[e.keyCode]&&e.preventDefault()};const HS=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(i=>`on${i}`in document)||e})(),K6=0,gB=5;function ZPe(e,t){return Math.abs(t.x-e.x)>=gB||Math.abs(t.y-e.y)>=gB}const mB={type:"IDLE"};function JPe({cancel:e,completed:t,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:r=>{const{button:s,clientX:o,clientY:a}=r;if(s!==K6)return;const l={x:o,y:a},u=n();if(u.type==="DRAGGING"){r.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&Me();const h=u.point;if(!ZPe(h,l))return;r.preventDefault();const p=u.actions.fluidLift(l);i({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:r=>{n().type==="DRAGGING"&&r.preventDefault(),e()}},{eventName:"keydown",fn:r=>{if(n().type==="PENDING"){e();return}if(r.keyCode===ZI){r.preventDefault(),e();return}q6(r)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:r=>{const s=n();if(s.type==="IDLE"&&Me(),s.actions.shouldRespectForcePress()){e();return}r.preventDefault()}},{eventName:HS,fn:e}]}function eIe(e){const t=b.useRef(mB),n=b.useRef(lc),i=jt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==K6||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const v=e.tryGetLock(g,o,{sourceEvent:p});if(!v)return;p.preventDefault();const C={x:p.clientX,y:p.clientY};n.current(),u(v,C)}}),[e]),r=jt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),s=et(function(){const p={passive:!1,capture:!0};n.current=Vs(window,[r,i],p)},[r,i]),o=et(()=>{t.current.type!=="IDLE"&&(t.current=mB,n.current(),s())},[s]),a=et(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),l=et(function(){const p={capture:!0,passive:!1},g=JPe({cancel:a,completed:o,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=Vs(window,g,p)},[a,o]),u=et(function(p,g){t.current.type!=="IDLE"&&Me(),t.current={type:"PENDING",point:g,actions:p},l()},[l]);us(function(){return s(),function(){n.current()}},[s])}function tIe(){}const nIe={[WPe]:!0,[UPe]:!0,[$Pe]:!0,[jPe]:!0};function iIe(e,t){function n(){t(),e.cancel()}function i(){t(),e.drop()}return[{eventName:"keydown",fn:r=>{if(r.keyCode===ZI){r.preventDefault(),n();return}if(r.keyCode===$6){r.preventDefault(),i();return}if(r.keyCode===XPe){r.preventDefault(),e.moveDown();return}if(r.keyCode===KPe){r.preventDefault(),e.moveUp();return}if(r.keyCode===YPe){r.preventDefault(),e.moveRight();return}if(r.keyCode===qPe){r.preventDefault(),e.moveLeft();return}if(nIe[r.keyCode]){r.preventDefault();return}q6(r)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:HS,fn:n}]}function rIe(e){const t=b.useRef(tIe),n=jt(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==$6)return;const o=e.findClosestDraggableId(s);if(!o)return;const a=e.tryGetLock(o,h,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const u=a.snapLift();t.current();function h(){l||Me(),l=!1,t.current(),i()}t.current=Vs(window,iIe(u,h),{capture:!0,passive:!1})}}),[e]),i=et(function(){const s={passive:!1,capture:!0};t.current=Vs(window,[n],s)},[n]);us(function(){return i(),function(){t.current()}},[i])}const dx={type:"IDLE"},sIe=120,oIe=.15;function aIe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===ZI&&n.preventDefault(),e()}},{eventName:HS,fn:e}]}function lIe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const r=n();if(r.type!=="DRAGGING"){e();return}r.hasMoved=!0;const{clientX:s,clientY:o}=i.touches[0],a={x:s,y:o};i.preventDefault(),r.actions.move(a)}},{eventName:"touchend",fn:i=>{const r=n();if(r.type!=="DRAGGING"){e();return}i.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){e();return}i.preventDefault(),e()}},{eventName:"touchforcechange",fn:i=>{const r=n();r.type==="IDLE"&&Me();const s=i.touches[0];if(!s||!(s.force>=oIe))return;const a=r.actions.shouldRespectForcePress();if(r.type==="PENDING"){a&&e();return}if(a){if(r.hasMoved){i.preventDefault();return}e();return}i.preventDefault()}},{eventName:HS,fn:e}]}function cIe(e){const t=b.useRef(dx),n=b.useRef(lc),i=et(function(){return t.current},[]),r=et(function(v){t.current=v},[]),s=jt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const C=e.findClosestDraggableId(v);if(!C)return;const S=e.tryGetLock(C,a,{sourceEvent:v});if(!S)return;const R=v.touches[0],{clientX:x,clientY:D}=R,T={x,y:D};n.current(),p(S,T)}}),[e]),o=et(function(){const v={capture:!0,passive:!1};n.current=Vs(window,[s],v)},[s]),a=et(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),r(dx),n.current(),o())},[o,r]),l=et(()=>{const g=t.current;a(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[a]),u=et(function(){const v={capture:!0,passive:!1},C={cancel:l,completed:a,getPhase:i},S=Vs(window,lIe(C),v),R=Vs(window,aIe(C),v);n.current=function(){S(),R()}},[l,i,a]),h=et(function(){const v=i();v.type!=="PENDING"&&Me();const C=v.actions.fluidLift(v.point);r({type:"DRAGGING",actions:C,hasMoved:!1})},[i,r]),p=et(function(v,C){i().type!=="IDLE"&&Me();const S=setTimeout(h,sIe);r({type:"PENDING",point:C,actions:v,longPressTimerId:S}),u()},[u,i,r,h]);us(function(){return o(),function(){n.current();const C=i();C.type==="PENDING"&&(clearTimeout(C.longPressTimerId),r(dx))}},[i,o,r]),us(function(){return Vs(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const uIe=["input","button","textarea","select","option","optgroup","video","audio"];function Y6(e,t){if(t==null)return!1;if(uIe.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===e?!1:Y6(e,t.parentElement)}function dIe(e,t){const n=t.target;return VS(n)?Y6(e,n):!1}var hIe=e=>so(e.getBoundingClientRect()).center;function fIe(e){return e instanceof W6(e).Element}const pIe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||e})();function X6(e,t){return e==null?null:e[pIe](t)?e:X6(e.parentElement,t)}function gIe(e,t){return e.closest?e.closest(t):X6(e,t)}function mIe(e){return`[${vf.contextId}="${e}"]`}function vIe(e,t){const n=t.target;if(!fIe(n))return null;const i=mIe(e),r=gIe(n,i);return!r||!VS(r)?null:r}function yIe(e,t){const n=vIe(e,t);return n?n.getAttribute(vf.draggableId):null}function CIe(e,t){const n=`[${SD.contextId}="${e}"]`,r=U6(document,n).find(s=>s.getAttribute(SD.id)===t);return!r||!VS(r)?null:r}function wIe(e){e.preventDefault()}function mC({expected:e,phase:t,isLockActive:n,shouldWarn:i}){return!(!n()||e!==t)}function Q6({lockAPI:e,store:t,registry:n,draggableId:i}){if(e.isClaimed())return!1;const r=n.draggable.findById(i);return!(!r||!r.options.isEnabled||!B6(t.getState(),i))}function bIe({lockAPI:e,contextId:t,store:n,registry:i,draggableId:r,forceSensorStop:s,sourceEvent:o}){if(!Q6({lockAPI:e,store:n,registry:i,draggableId:r}))return null;const l=i.draggable.getById(r),u=CIe(t,l.descriptor.id);if(!u||o&&!l.options.canDragInteractiveElements&&dIe(u,o))return null;const h=e.claim(s||lc);let p="PRE_DRAG";function g(){return l.options.shouldRespectForcePress}function v(){return e.isActive(h)}function C(L,P){mC({expected:L,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(P())}const S=C.bind(null,"DRAGGING");function R(L){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Me()),n.dispatch(gAe(L.liftActionArgs)),p="DRAGGING";function _(M,N={shouldBlockNextClick:!1}){if(L.cleanup(),N.shouldBlockNextClick){const B=Vs(window,[{eventName:"click",fn:wIe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}P(),n.dispatch(F6({reason:M}))}return{isActive:()=>mC({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,drop:M=>_("DROP",M),cancel:M=>_("CANCEL",M),...L.actions}}function x(L){const P=Fm(M=>{S(()=>I6({client:M}))});return{...R({liftActionArgs:{id:r,clientSelection:L,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function D(){const L={moveUp:()=>S(RAe),moveRight:()=>S(TAe),moveDown:()=>S(xAe),moveLeft:()=>S(DAe)};return R({liftActionArgs:{id:r,clientSelection:hIe(u),movementMode:"SNAP"},cleanup:lc,actions:L})}function T(){mC({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>mC({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:x,snapLift:D,abort:T}}const SIe=[eIe,rIe,cIe];function EIe({contextId:e,store:t,registry:n,customSensors:i,enableDefaultSensors:r}){const s=[...r?SIe:[],...i||[]],o=b.useState(()=>HPe())[0],a=et(function(R,x){Nm(R)&&!Nm(x)&&o.tryAbandon()},[o]);us(function(){let R=t.getState();return t.subscribe(()=>{const D=t.getState();a(R,D),R=D})},[o,t,a]),us(()=>o.tryAbandon,[o.tryAbandon]);const l=et(S=>Q6({lockAPI:o,registry:n,store:t,draggableId:S}),[o,n,t]),u=et((S,R,x)=>bIe({lockAPI:o,registry:n,contextId:e,store:t,draggableId:S,forceSensorStop:R||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,o,n,t]),h=et(S=>yIe(e,S),[e]),p=et(S=>{const R=n.draggable.findById(S);return R?R.options:null},[n.draggable]),g=et(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(UI()))},[o,t]),v=et(()=>o.isClaimed(),[o]),C=jt(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:v}),[l,u,h,p,g,v]);for(let S=0;S<s.length;S++)s[S](C)}const RIe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Sf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),xIe=e=>({...Lm,...e.autoScrollerOptions,durationDampening:{...Lm.durationDampening,...e.autoScrollerOptions}});function rg(e){return e.current||Me(),e.current}function TIe(e){const{contextId:t,setCallbacks:n,sensors:i,nonce:r,dragHandleUsageInstructions:s}=e,o=b.useRef(null),a=j6(e),l=et(()=>RIe(a.current),[a]),u=et(()=>xIe(a.current),[a]),h=LPe(t),p=BPe({contextId:t,text:s}),g=PPe(t,r),v=et(B=>{rg(o).dispatch(B)},[]),C=jt(()=>zV({publishWhileDragging:vAe,updateDroppableScroll:CAe,updateDroppableIsEnabled:wAe,updateDroppableIsCombineEnabled:bAe,collectionStarting:yAe},v),[v]),S=_Pe(),R=jt(()=>aPe(S,C),[S,C]),x=jt(()=>RPe({scrollWindow:lPe,scrollDroppable:R.scrollDroppable,getAutoScrollerOptions:u,...zV({move:I6},v)}),[R.scrollDroppable,v,u]),D=FPe(t),T=jt(()=>iPe({announce:h,autoScroller:x,dimensionMarshal:R,focusMarshal:D,getResponders:l,styleMarshal:g}),[h,x,R,D,l,g]);o.current=T;const k=et(()=>{const B=rg(o);B.getState().phase!=="IDLE"&&B.dispatch(UI())},[]),L=et(()=>{const B=rg(o).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),P=jt(()=>({isDragging:L,tryAbort:k}),[L,k]);n(P);const _=et(B=>B6(rg(o).getState(),B),[]),M=et(()=>Cu(rg(o).getState()),[]),N=jt(()=>({marshal:R,focus:D,contextId:t,canLift:_,isMovementAllowed:M,dragHandleUsageInstructionsId:p,registry:S}),[t,R,p,D,_,M,S]);return EIe({contextId:t,store:T,registry:S,customSensors:i||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>k,[k]),K.createElement(BS.Provider,{value:N},K.createElement(QTe,{context:XI,store:T},e.children))}function DIe(){return K.useId()}function AIe(e){const t=DIe(),n=e.dragHandleUsageInstructions||iw.dragHandleUsageInstructions;return K.createElement(rDe,null,i=>K.createElement(TIe,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const vB={dragging:5e3,dropAnimating:4500},PIe=(e,t)=>t?Hg.drop(t.duration):e?Hg.snap:Hg.fluid,IIe=(e,t)=>{if(e)return t?Om.opacity.drop:Om.opacity.combining},FIe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function MIe(e){const n=e.dimension.client,{offset:i,combineWith:r,dropping:s}=e,o=!!r,a=FIe(e),l=!!s,u=l?wD.drop(i,o):wD.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:PIe(a,s),transform:u,opacity:IIe(o,l),zIndex:l?vB.dropAnimating:vB.dragging,pointerEvents:"none"}}function _Ie(e){return{transform:wD.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function kIe(e){return e.type==="DRAGGING"?MIe(e):_Ie(e)}function OIe(e,t,n=ki){const i=window.getComputedStyle(t),r=t.getBoundingClientRect(),s=r6(r,i),o=pb(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:i.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:o}}function LIe(e){const t=QI("draggable"),{descriptor:n,registry:i,getDraggableRef:r,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=e,l=jt(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),u=et(v=>{const C=r();return C||Me(),OIe(n,C,v)},[n,r]),h=jt(()=>({uniqueId:t,descriptor:n,options:l,getDimension:u}),[n,u,l,t]),p=b.useRef(h),g=b.useRef(!0);us(()=>(i.draggable.register(p.current),()=>i.draggable.unregister(p.current)),[i.draggable]),us(()=>{if(g.current){g.current=!1;return}const v=p.current;p.current=h,i.draggable.update(h,v)},[h,i.draggable])}var JI=K.createContext(null);function Cb(e){const t=b.useContext(e);return t||Me(),t}function NIe(e){e.preventDefault()}const VIe=e=>{const t=b.useRef(null),n=et((P=null)=>{t.current=P},[]),i=et(()=>t.current,[]),{contextId:r,dragHandleUsageInstructionsId:s,registry:o}=Cb(BS),{type:a,droppableId:l}=Cb(JI),u=jt(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:h,draggableId:p,isEnabled:g,shouldRespectForcePress:v,canDragInteractiveElements:C,isClone:S,mapped:R,dropAnimationFinished:x}=e;if(!S){const P=jt(()=>({descriptor:u,registry:o,getDraggableRef:i,canDragInteractiveElements:C,shouldRespectForcePress:v,isEnabled:g}),[u,o,i,C,v,g]);LIe(P)}const D=jt(()=>g?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:NIe}:null,[r,s,p,g]),T=et(P=>{R.type==="DRAGGING"&&R.dropping&&P.propertyName==="transform"&&Sf.flushSync(x)},[x,R]),k=jt(()=>{const P=kIe(R),_=R.type==="DRAGGING"&&R.dropping?T:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":p,style:P,onTransitionEnd:_},dragHandleProps:D}},[r,D,p,R,T,n]),L=jt(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return K.createElement(K.Fragment,null,h(k,R.snapshot,L))};var Z6=(e,t)=>e===t,J6=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const BIe=e=>e.combine?e.combine.draggableId:null,HIe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function GIe(){const e=Mi((r,s)=>({x:r,y:s})),t=Mi((r,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:r,draggingOver:o,combineWith:a,combineTargetFor:null})),n=Mi((r,s,o,a,l=null,u=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:r,dimension:o,forceShouldAnimate:h,snapshot:t(s,a,l,u,null)}}));return(r,s)=>{if(Nm(r)){if(r.critical.draggable.id!==s.draggableId)return null;const o=r.current.client.offset,a=r.dimensions.draggables[s.draggableId],l=cs(r.impact),u=HIe(r.impact),h=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,s.isClone,l,u,h)}if(r.phase==="DROP_ANIMATING"){const o=r.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=r.dimensions.draggables[s.draggableId],u=o.result,h=u.mode,p=J6(u),g=BIe(u),C={duration:r.dropDuration,curve:jI.drop,moveTo:r.newHomeClientOffset,opacity:g?Om.opacity.drop:null,scale:g?Om.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:l,dropping:C,draggingOver:p,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,a,p,g,C)}}}return null}}function e$(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const zIe={mapped:{type:"SECONDARY",offset:ki,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:e$(null)}};function UIe(){const e=Mi((o,a)=>({x:o,y:a})),t=Mi(e$),n=Mi((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),i=o=>o?n(ki,o,!0):null,r=(o,a,l,u)=>{const h=l.displaced.visible[o],p=!!(u.inVirtualList&&u.effected[o]),g=OS(l),v=g&&g.draggableId===o?a:null;if(!h){if(!p)return i(v);if(l.displaced.invisible[o])return null;const R=Vf(u.displacedBy.point),x=e(R.x,R.y);return n(x,v,!0)}if(p)return i(v);const C=l.displacedBy.point,S=e(C.x,C.y);return n(S,v,h.shouldAnimate)};return(o,a)=>{if(Nm(o))return o.critical.draggable.id===a.draggableId?null:r(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:r(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const WIe=()=>{const e=GIe(),t=UIe();return(i,r)=>e(i,r)||t(i,r)||zIe},jIe={dropAnimationFinished:M6},$Ie=i6(WIe,jIe,null,{context:XI,areStatePropsEqual:Z6})(VIe);function t$(e){return Cb(JI).isUsingCloneFor===e.draggableId&&!e.isClone?null:K.createElement($Ie,e)}function yB(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,i=!!e.shouldRespectForcePress;return K.createElement(t$,im({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const n$=e=>t=>e===t,qIe=n$("scroll"),KIe=n$("auto"),CB=(e,t)=>t(e.overflowX)||t(e.overflowY),YIe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return CB(n,qIe)||CB(n,KIe)},XIe=()=>!1,i$=e=>e==null?null:e===document.body?XIe()?e:null:e===document.documentElement?null:YIe(e)?e:i$(e.parentElement);var ED=e=>({x:e.scrollLeft,y:e.scrollTop});const r$=e=>e?window.getComputedStyle(e).position==="fixed"?!0:r$(e.parentElement):!1;var QIe=e=>{const t=i$(e),n=r$(e);return{closestScrollable:t,isFixedOnPage:n}},ZIe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:i,direction:r,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:g,client:v}=a,C=L6({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:C,diff:{value:ki,displacement:ki}}}})(),u=r==="vertical"?VI:g6,h=gf({page:o,withPlaceholder:null,axis:u,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:u,isEnabled:t,client:s,page:o,frame:l,subject:h}};const JIe=(e,t)=>{const n=s6(e);if(!t||e!==t)return n;const i=n.paddingBox.top-t.scrollTop,r=n.paddingBox.left-t.scrollLeft,s=i+t.scrollHeight,o=r+t.scrollWidth,l=kI({top:i,right:o,bottom:s,left:r},n.border);return OI({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var e1e=({ref:e,descriptor:t,env:n,windowScroll:i,direction:r,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,u=JIe(e,l),h=pb(u,i),p=(()=>{if(!l)return null;const v=s6(l),C={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:v,page:pb(v,i),scroll:ED(l),scrollSize:C,shouldClipSubject:a}})();return ZIe({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:r,client:u,page:h,closest:p})};const t1e={passive:!1},n1e={passive:!0};var wB=e=>e.shouldPublishImmediately?t1e:n1e;const vC=e=>e&&e.env.closestScrollable||null;function i1e(e){const t=b.useRef(null),n=Cb(BS),i=QI("droppable"),{registry:r,marshal:s}=n,o=j6(e),a=jt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=b.useRef(a),u=jt(()=>Mi((k,L)=>{t.current||Me();const P={x:k,y:L};s.updateDroppableScroll(a.id,P)}),[a.id,s]),h=et(()=>{const k=t.current;return!k||!k.env.closestScrollable?ki:ED(k.env.closestScrollable)},[]),p=et(()=>{const k=h();u(k.x,k.y)},[h,u]),g=jt(()=>Fm(p),[p]),v=et(()=>{const k=t.current,L=vC(k);if(k&&L||Me(),k.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),C=et((k,L)=>{t.current&&Me();const P=o.current,_=P.getDroppableRef();_||Me();const M=QIe(_),N={ref:_,descriptor:a,env:M,scrollOptions:L};t.current=N;const B=e1e({ref:_,descriptor:a,env:M,windowScroll:k,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=M.closestScrollable;return H&&(H.setAttribute(fB.contextId,n.contextId),H.addEventListener("scroll",v,wB(N.scrollOptions))),B},[n.contextId,a,v,o]),S=et(()=>{const k=t.current,L=vC(k);return k&&L||Me(),ED(L)},[]),R=et(()=>{const k=t.current;k||Me();const L=vC(k);t.current=null,L&&(g.cancel(),L.removeAttribute(fB.contextId),L.removeEventListener("scroll",v,wB(k.scrollOptions)))},[v,g]),x=et(k=>{const L=t.current;L||Me();const P=vC(L);P||Me(),P.scrollTop+=k.y,P.scrollLeft+=k.x},[]),D=jt(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:S,dragStopped:R,scroll:x}),[R,C,S,x]),T=jt(()=>({uniqueId:i,descriptor:a,callbacks:D}),[D,a,i]);us(()=>(l.current=T.descriptor,r.droppable.register(T),()=>{t.current&&R(),r.droppable.unregister(T)}),[D,a,R,T,s,r.droppable]),us(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),us(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function hx(){}const bB={width:0,height:0,margin:dDe},r1e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?bB:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},s1e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const i=r1e({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Hg.placeholder:null}},o1e=e=>{const t=b.useRef(null),n=et(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:r,onClose:s,contextId:o}=e,[a,l]=b.useState(e.animate==="open");b.useEffect(()=>a?i!=="open"?(n(),l(!1),hx):t.current?hx:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):hx,[i,a,n]);const u=et(p=>{p.propertyName==="height"&&(r(),i==="close"&&s())},[i,s,r]),h=s1e({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return K.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})};var a1e=K.memo(o1e);class l1e extends K.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const c1e=e=>{const t=b.useContext(BS);t||Me();const{contextId:n,isMovementAllowed:i}=t,r=b.useRef(null),s=b.useRef(null),{children:o,droppableId:a,type:l,mode:u,direction:h,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:v,snapshot:C,useClone:S,updateViewportMaxScroll:R,getContainerForClone:x}=e,D=et(()=>r.current,[]),T=et((H=null)=>{r.current=H},[]);et(()=>s.current,[]);const k=et((H=null)=>{s.current=H},[]),L=et(()=>{i()&&R({maxScroll:V6()})},[i,R]);i1e({droppableId:a,type:l,mode:u,direction:h,isDropDisabled:g,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:D});const P=jt(()=>K.createElement(l1e,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:U,animate:G})=>K.createElement(a1e,{placeholder:U,onClose:H,innerRef:k,animate:G,contextId:n,onTransitionEnd:L})),[n,L,e.placeholder,e.shouldAnimatePlaceholder,k]),_=jt(()=>({innerRef:T,placeholder:P,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,P,T]),M=S?S.dragging.draggableId:null,N=jt(()=>({droppableId:a,type:l,isUsingCloneFor:M}),[a,M,l]);function B(){if(!S)return null;const{dragging:H,render:U}=S,G=K.createElement(t$,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(J,ie)=>U(J,ie,H));return ec.createPortal(G,x())}return K.createElement(JI.Provider,{value:N},o(_,C),B())};function u1e(){return document.body||Me(),document.body}const SB={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:u1e},s$=e=>{let t={...e},n;for(n in SB)e[n]===void 0&&(t={...t,[n]:SB[n]});return t},fx=(e,t)=>e===t.droppable.type,EB=(e,t)=>t.draggables[e.draggable.id],d1e=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Mi(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),i=Mi((s,o,a,l,u,h)=>{const p=u.descriptor.id;if(u.descriptor.droppableId===s){const C=h?{render:h,dragging:n(u.descriptor)}:null,S={isDraggingOver:a,draggingOverWith:a?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:C}}if(!o)return t;if(!l)return e;const v={isDraggingOver:a,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(s,o)=>{const a=s$(o),l=a.droppableId,u=a.type,h=!a.isDropDisabled,p=a.renderClone;if(Nm(s)){const g=s.critical;if(!fx(u,g))return t;const v=EB(g,s.dimensions),C=cs(s.impact)===l;return i(l,h,C,C,v,p)}if(s.phase==="DROP_ANIMATING"){const g=s.completed;if(!fx(u,g.critical))return t;const v=EB(g.critical,s.dimensions);return i(l,h,J6(g.result)===l,cs(g.impact)===l,v,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const g=s.completed;if(!fx(u,g.critical))return t;const v=cs(g.impact)===l,C=!!(g.impact.at&&g.impact.at.type==="COMBINE"),S=g.critical.droppable.id===l;return v?C?e:t:S?e:t}return t}},h1e={updateViewportMaxScroll:EAe},RB=i6(d1e,h1e,(e,t,n)=>({...s$(n),...e,...t}),{context:XI,areStatePropsEqual:Z6})(c1e),f1e=zP((e,t)=>({groups:[],availableStudents:[],allStudents:[],setGroups:n=>e({groups:n}),setAvailableStudents:n=>e({availableStudents:n}),setAllStudents:n=>e({allStudents:n}),addGroup:n=>e(i=>({groups:[...i.groups,n]})),updateGroup:(n,i)=>e(r=>({groups:r.groups.map(s=>s.id===n?{...s,...i}:s)})),removeGroup:n=>e(i=>{const r=i.groups.find(s=>s.id===n);if(r){const s=i.availableStudents.filter(o=>r.studentIds.includes(o.id));return{groups:i.groups.filter(o=>o.id!==n),availableStudents:[...i.availableStudents,...s]}}return i}),moveStudentToGroup:(n,i,r)=>e(s=>{let o=[...s.groups],a=[...s.availableStudents];if(i?o=o.map(l=>l.id===i?{...l,studentIds:l.studentIds.filter(u=>u!==n)}:l):a=a.filter(l=>l.id!==n),r)o=o.map(l=>l.id===r?{...l,studentIds:[...l.studentIds,n]}:l);else{const l=t().allStudents.find(u=>u.id===n);l&&(a=[...a,l])}return{groups:o,availableStudents:a}}),getStudentById:n=>t().allStudents.find(r=>r.id===n)})),Hi=[];for(let e=0;e<256;++e)Hi.push((e+256).toString(16).slice(1));function p1e(e,t=0){return(Hi[e[t+0]]+Hi[e[t+1]]+Hi[e[t+2]]+Hi[e[t+3]]+"-"+Hi[e[t+4]]+Hi[e[t+5]]+"-"+Hi[e[t+6]]+Hi[e[t+7]]+"-"+Hi[e[t+8]]+Hi[e[t+9]]+"-"+Hi[e[t+10]]+Hi[e[t+11]]+Hi[e[t+12]]+Hi[e[t+13]]+Hi[e[t+14]]+Hi[e[t+15]]).toLowerCase()}let px;const g1e=new Uint8Array(16);function m1e(){if(!px){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");px=crypto.getRandomValues.bind(crypto)}return px(g1e)}const v1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xB={randomUUID:v1e};function $h(e,t,n){if(xB.randomUUID&&!e)return xB.randomUUID();e=e||{};const i=e.random??e.rng?.()??m1e();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,p1e(i)}const GS="groups",y1e=async e=>{const t=$h(),n={id:t,name:e.name,studentIds:[],createdAt:new Date,teacherId:e.teacherId};return await a3(_f(fo,GS,t),n),n},C1e=async e=>{const t=mS(Mf(fo,GS),n3("teacherId","==",e));return(await o3(t)).docs.map(r=>r.data()).sort((r,s)=>new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime())},yC=async(e,t)=>{await Rae(_f(fo,GS,e),t)},w1e=async e=>{await xae(_f(fo,GS,e))},o$=(e=768)=>{const[t,n]=b.useState(!1);return b.useEffect(()=>{const i=window.matchMedia(`(max-width: ${e}px)`),r=s=>{n(s.matches)};return n(i.matches),i.addEventListener("change",r),()=>{i.removeEventListener("change",r)}},[e]),t},b1e=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:i,onDragEnd:r,getStudentById:s,searchTerm:o,onSearchChange:a})=>I.jsx(AIe,{onDragEnd:r,children:I.jsxs(qu,{children:[I.jsx(Wo,{lg:3,className:"mb-4",children:I.jsxs(pn,{className:"h-100",children:[I.jsxs(pn.Header,{className:"bg-light",children:[I.jsxs("div",{className:"d-flex align-items-center mb-2",children:[I.jsx(NA,{size:18,className:"me-2 text-muted"}),I.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),I.jsx(Pt.Group,{className:"mb-2",children:I.jsxs("div",{className:"position-relative",children:[I.jsx(Pt.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),I.jsx(LA,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})}),I.jsx("small",{className:"text-muted",children:o.trim()?`${t.length} de ${t.length+e.flatMap(l=>l.studentIds).length} estudiantes`:`${t.length} estudiantes`})]}),I.jsx(pn.Body,{style:{minHeight:"500px"},children:I.jsx(RB,{droppableId:"available",children:(l,u)=>I.jsxs("div",{ref:l.innerRef,...l.droppableProps,className:`p-2 rounded ${u.isDraggingOver?"bg-light":""}`,style:{minHeight:"100px"},children:[t.length===0?I.jsxs("div",{className:"text-center text-muted py-4",children:[I.jsx(Ga,{size:32,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):t.map((h,p)=>I.jsx(yB,{draggableId:h.id,index:p,children:(g,v)=>I.jsxs("div",{ref:g.innerRef,...g.draggableProps,...g.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${v.isDragging?"shadow":""}`,style:{...g.draggableProps.style,cursor:"grab"},children:[I.jsx("div",{className:"fw-medium",children:h.name}),I.jsx("small",{className:"text-muted",children:h.email})]})},h.id)),l.placeholder]})})})]})}),I.jsx(Wo,{lg:9,children:e.length===0?I.jsxs(vw,{variant:"info",className:"text-center py-5",children:[I.jsx(Ga,{size:48,className:"mb-3 opacity-50"}),I.jsx("h5",{children:"No hay grupos creados"}),I.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),I.jsxs(Ki,{variant:"primary",onClick:i,children:[I.jsx(Wb,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):I.jsx(qu,{children:e.map(l=>I.jsx(Wo,{md:6,lg:4,className:"mb-4",children:I.jsxs(pn,{className:"h-100",children:[I.jsxs(pn.Header,{className:"d-flex justify-content-between align-items-center",children:[I.jsxs("div",{children:[I.jsx("h6",{className:"mb-0",children:l.name}),I.jsxs("small",{className:"text-muted",children:[l.studentIds.length," estudiante",l.studentIds.length!==1?"s":""]})]}),I.jsx(Ki,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:I.jsx(kz,{size:14})})]}),I.jsx(pn.Body,{style:{minHeight:"300px"},children:I.jsx(RB,{droppableId:l.id,children:(u,h)=>I.jsxs("div",{ref:u.innerRef,...u.droppableProps,className:`p-2 rounded ${h.isDraggingOver?"bg-light":""}`,style:{minHeight:"200px"},children:[l.studentIds.length===0?I.jsxs("div",{className:"text-center text-muted py-4",children:[I.jsx(Ga,{size:24,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0 small",children:"Arrastra estudiantes aqu"})]}):l.studentIds.map((p,g)=>{const v=s(p);return v?I.jsx(yB,{draggableId:p,index:g,children:(C,S)=>I.jsxs("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${S.isDragging?"shadow":""}`,style:{...C.draggableProps.style,cursor:"grab"},children:[I.jsx("div",{className:"fw-medium",children:v.name}),I.jsx("small",{className:"text-muted",children:v.email})]})},p):null}),u.placeholder]})})})]})},l.id))})})]})}),S1e=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:i,onSelectStudent:r,getStudentById:s,searchTerm:o,onSearchChange:a})=>I.jsxs("div",{children:[I.jsxs(pn,{className:"mb-4",children:[I.jsxs(pn.Header,{className:"bg-light",children:[I.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(NA,{size:18,className:"me-2 text-muted"}),I.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),I.jsx(iT,{bg:"secondary",className:"badge-count",children:t.length})]}),I.jsx(Pt.Group,{children:I.jsxs("div",{className:"position-relative",children:[I.jsx(Pt.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),I.jsx(LA,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})})]}),I.jsx(pn.Body,{className:"p-2",children:t.length===0?I.jsxs("div",{className:"text-center text-muted py-4",children:[I.jsx(Ga,{size:32,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):I.jsx(io,{variant:"flush",children:t.map(l=>I.jsxs(io.Item,{action:!0,onClick:()=>r(l),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:l.name}),I.jsx("small",{className:"text-muted",children:l.email})]}),I.jsx(LO,{size:16,className:"text-muted"})]},l.id))})})]}),e.length===0?I.jsxs(vw,{variant:"info",className:"text-center py-5",children:[I.jsx(Ga,{size:48,className:"mb-3 opacity-50"}),I.jsx("h5",{children:"No hay grupos creados"}),I.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),I.jsxs(Ki,{variant:"primary",onClick:i,children:[I.jsx(Wb,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):e.map(l=>I.jsxs(pn,{className:"mb-3",children:[I.jsxs(pn.Header,{className:"d-flex justify-content-between align-items-center",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx("h6",{className:"mb-0 me-2",children:l.name}),I.jsx(iT,{bg:"primary",className:"badge-count",children:l.studentIds.length})]}),I.jsx(Ki,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:I.jsx(kz,{size:14})})]}),I.jsx(pn.Body,{className:"p-2",children:l.studentIds.length===0?I.jsxs("div",{className:"text-center text-muted py-3",children:[I.jsx(Ga,{size:24,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0 small",children:"No hay estudiantes asignados"})]}):I.jsx(io,{variant:"flush",children:l.studentIds.map(u=>{const h=s(u);return h?I.jsxs(io.Item,{action:!0,onClick:()=>r(h,l.id),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:h.name}),I.jsx("small",{className:"text-muted",children:h.email})]}),I.jsx(LO,{size:16,className:"text-muted"})]},u):null})})})]},l.id))]}),E1e=()=>{const{user:e}=kc(),{groups:t,availableStudents:n,setGroups:i,setAvailableStudents:r,setAllStudents:s,addGroup:o,removeGroup:a,moveStudentToGroup:l,getStudentById:u}=f1e(),h=o$(),[p,g]=b.useState(!0),[v,C]=b.useState(!1),[S,R]=b.useState(""),[x,D]=b.useState(!1),[T,k]=b.useState(!1),[L,P]=b.useState(null),[_,M]=b.useState(),[N,B]=b.useState(""),U=(fe=>{let F=fe;if(N.trim()){const X=N.toLowerCase().trim();F=fe.filter(ne=>ne.name.toLowerCase().includes(X)||ne.email.toLowerCase().includes(X))}return F.sort((X,ne)=>X.name.localeCompare(ne.name))})(n);b.useEffect(()=>{(async()=>{if(e?.id)try{g(!0);const[F,X]=await Promise.all([C1e(e.id),P3()]),ne=F.flatMap(pe=>pe.studentIds),z=X.filter(pe=>!ne.includes(pe.id));i(F),s(X),r(z)}catch(F){console.error("Error loading data:",F)}finally{g(!1)}})()},[e?.id,i,r,s]);const G=async()=>{if(!(!S.trim()||!e?.id))try{D(!0);const fe=await y1e({name:S.trim(),teacherId:e.id});o(fe),R(""),C(!1)}catch(fe){console.error("Error creating group:",fe)}finally{D(!1)}},J=async fe=>{try{await w1e(fe),a(fe)}catch(F){console.error("Error deleting group:",F)}},ie=async fe=>{const{destination:F,source:X,draggableId:ne}=fe;if(!F||F.droppableId===X.droppableId&&F.index===X.index)return;const z=X.droppableId==="available"?null:X.droppableId,pe=F.droppableId==="available"?null:F.droppableId;await ee(ne,z,pe)},$=(fe,F)=>{P(fe),M(F),k(!0)},Q=async fe=>{L&&(await ee(L.id,_||null,fe),k(!1),P(null),M(void 0))},ee=async(fe,F,X)=>{l(fe,F,X);try{if(F&&X){const ne=t.find(pe=>pe.id===F),z=t.find(pe=>pe.id===X);ne&&z&&(await yC(F,{studentIds:ne.studentIds.filter(pe=>pe!==fe)}),await yC(X,{studentIds:[...z.studentIds,fe]}))}else if(F&&!X){const ne=t.find(z=>z.id===F);ne&&await yC(F,{studentIds:ne.studentIds.filter(z=>z!==fe)})}else if(!F&&X){const ne=t.find(z=>z.id===X);ne&&await yC(X,{studentIds:[...ne.studentIds,fe]})}}catch(ne){console.error("Error updating groups:",ne)}};return p?I.jsx(hc,{fluid:!0,className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:I.jsx(fc,{animation:"border",variant:"primary"})}):I.jsxs(hc,{fluid:!0,children:[I.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"mb-1",children:"Gestin de Grupos"}),I.jsx("p",{className:"text-muted mb-0",children:h?"Toca un estudiante para moverlo":"Arrastra estudiantes para asignarlos a grupos"})]}),I.jsxs(Ki,{variant:"primary",onClick:()=>C(!0),className:"d-flex align-items-center",children:[I.jsx(Wb,{size:16,className:"me-2"}),"Crear Grupo"]})]}),h?I.jsx(S1e,{groups:t,availableStudents:U,onDeleteGroup:J,onShowCreateModal:()=>C(!0),onSelectStudent:$,getStudentById:u,searchTerm:N,onSearchChange:B}):I.jsx(b1e,{groups:t,availableStudents:U,onDeleteGroup:J,onShowCreateModal:()=>C(!0),onDragEnd:ie,getStudentById:u,searchTerm:N,onSearchChange:B}),I.jsxs(zi,{show:v,onHide:()=>C(!1),children:[I.jsx(zi.Header,{closeButton:!0,children:I.jsx(zi.Title,{children:"Crear Nuevo Grupo"})}),I.jsx(zi.Body,{children:I.jsxs(Pt.Group,{children:[I.jsx(Pt.Label,{children:"Nombre del Grupo"}),I.jsx(Pt.Control,{type:"text",placeholder:"Ej: Grupo A, Equipo 1, etc.",value:S,onChange:fe=>R(fe.target.value),autoFocus:!0})]})}),I.jsxs(zi.Footer,{children:[I.jsx(Ki,{variant:"secondary",onClick:()=>C(!1),children:"Cancelar"}),I.jsx(Ki,{variant:"primary",onClick:G,disabled:!S.trim()||x,children:x?I.jsxs(I.Fragment,{children:[I.jsx(fc,{size:"sm",className:"me-2"}),"Creando..."]}):"Crear Grupo"})]})]}),I.jsxs(zi,{show:T,onHide:()=>k(!1),children:[I.jsx(zi.Header,{closeButton:!0,children:I.jsxs(zi.Title,{children:["Mover a ",L?.name]})}),I.jsxs(zi.Body,{children:[I.jsxs("p",{className:"text-muted mb-3",children:["Selecciona el destino para ",L?.name,":"]}),I.jsxs(io,{children:[_&&I.jsxs(io.Item,{action:!0,onClick:()=>Q(null),className:"d-flex align-items-center",children:[I.jsx(NA,{size:18,className:"me-3 text-muted"}),I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:"Estudiantes Disponibles"}),I.jsx("small",{className:"text-muted",children:"Quitar del grupo actual"})]})]}),t.filter(fe=>fe.id!==_).map(fe=>I.jsxs(io.Item,{action:!0,onClick:()=>Q(fe.id),className:"d-flex align-items-center",children:[I.jsx(Ga,{size:18,className:"me-3 text-primary"}),I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:fe.name}),I.jsxs("small",{className:"text-muted",children:[fe.studentIds.length," estudiante",fe.studentIds.length!==1?"s":""]})]})]},fe.id))]})]})]})]})},fu=({children:e,allowedRoles:t})=>{const{user:n}=kc(),i=ca();return n?t.includes(n.role)?I.jsx(I.Fragment,{children:e}):I.jsx(Ih,{to:"/dashboard/mapa",replace:!0}):I.jsx(Ih,{to:"/login",state:{from:i},replace:!0})},R1e=({children:e})=>{const{user:t}=kc(),i=ca().state?.from?.pathname||"/";return t?I.jsx(Ih,{to:i,replace:!0}):I.jsx(I.Fragment,{children:e})};async function a$(e,t){const n=Ole(Hle,e),i=await _le(n,t,{contentType:t.type});return{url:await kle(i.ref),fullPath:i.ref.fullPath}}const l$="submissions";async function x1e(e){await l3(Mf(fo,l$),{...e,createdAt:d3()})}function T1e(e){const t=mS(Mf(fo,l$),i3("createdAt","desc"));return c3(t,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))})}function D1e(){const{user:e}=kc(),[t,n]=b.useState(""),[i,r]=b.useState(""),[s,o]=b.useState(null),[a,l]=b.useState(!1),u=async h=>{if(h.preventDefault(),!(!e||!s||!t.trim()||!i.trim())){l(!0);try{const p=$h(),g=`images/${t}/${p}/${s.name}`,{url:v}=await a$(g,s);await x1e({groupId:t,classId:"default",text:i,imageUrl:v,createdBy:e.id}),r(""),o(null),alert("Envo creado!")}catch(p){console.error(p),alert("Error al enviar. Revisa reglas de Storage/Firestore y el bucket.")}finally{l(!1)}}};return I.jsx(hc,{children:I.jsxs(pn,{className:"p-3",children:[I.jsx("h3",{children:"Subir Poster (Imagen + Texto)"}),I.jsxs(Pt,{onSubmit:u,children:[I.jsxs(Pt.Group,{className:"mb-3",children:[I.jsx(Pt.Label,{children:"Grupo"}),I.jsx(Pt.Control,{value:t,onChange:h=>n(h.target.value),placeholder:"Ej: Grupo A"})]}),I.jsxs(Pt.Group,{className:"mb-3",children:[I.jsx(Pt.Label,{children:"Texto (67 lneas)"}),I.jsx(Pt.Control,{as:"textarea",rows:5,value:i,onChange:h=>r(h.target.value)})]}),I.jsxs(Pt.Group,{className:"mb-3",children:[I.jsx(Pt.Label,{children:"Imagen"}),I.jsx(Pt.Control,{type:"file",accept:"image/*",onChange:h=>o(h.target.files?.[0]??null)})]}),I.jsx(Ki,{type:"submit",disabled:a,children:"Enviar"})]})]})})}const c$="audioUploads";async function A1e(e){await l3(Mf(fo,c$),{...e,createdAt:d3()})}function P1e(e){const t=mS(Mf(fo,c$),i3("createdAt","desc"));return c3(t,n=>{e(n.docs.map(i=>({id:i.id,...i.data()})))})}function I1e(){const{user:e}=kc(),[t,n]=b.useState(""),[i,r]=b.useState(null),[s,o]=b.useState(!1),a=async l=>{if(l.preventDefault(),!(!e||!i||!t.trim())){o(!0);try{const u=$h(),h=`audios/${t}/${u}/${i.name}`,{url:p}=await a$(h,i);await A1e({groupId:t,classId:"default",audioUrl:p,createdBy:e.id}),r(null),alert("Audio enviado!")}catch(u){console.error(u),alert("Error al subir audio. Revisa reglas y bucket.")}finally{o(!1)}}};return I.jsx(hc,{children:I.jsxs(pn,{className:"p-3",children:[I.jsx("h3",{children:"Subir Audio (reflexin oral)"}),I.jsxs(Pt,{onSubmit:a,children:[I.jsxs(Pt.Group,{className:"mb-3",children:[I.jsx(Pt.Label,{children:"Grupo"}),I.jsx(Pt.Control,{value:t,onChange:l=>n(l.target.value),placeholder:"Ej: Grupo A"})]}),I.jsxs(Pt.Group,{className:"mb-3",children:[I.jsx(Pt.Label,{children:"Archivo de audio"}),I.jsx(Pt.Control,{type:"file",accept:"audio/*",onChange:l=>r(l.target.files?.[0]??null)})]}),I.jsx(Ki,{type:"submit",disabled:s,children:"Enviar"})]})]})})}function F1e(){const[e,t]=b.useState([]),[n,i]=b.useState([]);return b.useEffect(()=>{const r=T1e(t),s=P1e(i);return()=>{r(),s()}},[]),I.jsxs(hc,{children:[I.jsx("h3",{className:"mb-3",children:"Posters de los grupos"}),I.jsx(qu,{xs:1,md:2,lg:3,className:"g-3",children:e.map(r=>I.jsx(Wo,{children:I.jsxs(pn,{className:"h-100",children:[I.jsx(pn.Img,{variant:"top",src:r.imageUrl}),I.jsxs(pn.Body,{children:[I.jsxs(pn.Title,{children:["Grupo: ",r.groupId]}),I.jsx(pn.Text,{style:{whiteSpace:"pre-wrap"},children:r.text})]})]})},r.id))}),I.jsx("h3",{className:"mt-4 mb-3",children:"Reflexiones orales"}),I.jsx(qu,{xs:1,md:2,lg:3,className:"g-3",children:n.map(r=>I.jsx(Wo,{children:I.jsxs(pn,{className:"p-3",children:[I.jsxs("strong",{children:["Grupo: ",r.groupId]}),I.jsx("audio",{controls:!0,src:r.audioUrl,className:"mt-2"})]})},r.id))})]})}const M1e={BASE_URL:"/TutorIngles/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLOUD_FUNCTIONS_BASE_URL:"https://us-central1-tutordecolonial.cloudfunctions.net"},_1e=e=>M1e[e],u$=_1e("VITE_CLOUD_FUNCTIONS_BASE_URL"),k1e=async e=>(await fetch(`${u$}/classifyTask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})})).text(),O1e=async(e,t)=>{const n=await fetch(`${u$}/generateText`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,mode:t})});if(!n.ok)throw new Error("Network response was not ok");return n.json()};function L1e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const N1e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,V1e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,B1e={};function TB(e,t){return(B1e.jsx?V1e:N1e).test(e)}const H1e=/[ \t\n\f\r]/g;function G1e(e){return typeof e=="object"?e.type==="text"?DB(e.value):!1:DB(e)}function DB(e){return e.replace(H1e,"")===""}class Sv{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Sv.prototype.normal={};Sv.prototype.property={};Sv.prototype.space=void 0;function d$(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new Sv(n,i,t)}function RD(e){return e.toLowerCase()}class Gr{constructor(t,n){this.attribute=n,this.property=t}}Gr.prototype.attribute="";Gr.prototype.booleanish=!1;Gr.prototype.boolean=!1;Gr.prototype.commaOrSpaceSeparated=!1;Gr.prototype.commaSeparated=!1;Gr.prototype.defined=!1;Gr.prototype.mustUseProperty=!1;Gr.prototype.number=!1;Gr.prototype.overloadedBoolean=!1;Gr.prototype.property="";Gr.prototype.spaceSeparated=!1;Gr.prototype.space=void 0;let z1e=0;const Dt=Ed(),oi=Ed(),xD=Ed(),Ae=Ed(),bn=Ed(),qh=Ed(),Zr=Ed();function Ed(){return 2**++z1e}const TD=Object.freeze(Object.defineProperty({__proto__:null,boolean:Dt,booleanish:oi,commaOrSpaceSeparated:Zr,commaSeparated:qh,number:Ae,overloadedBoolean:xD,spaceSeparated:bn},Symbol.toStringTag,{value:"Module"})),gx=Object.keys(TD);class e1 extends Gr{constructor(t,n,i,r){let s=-1;if(super(t,n),AB(this,"space",r),typeof i=="number")for(;++s<gx.length;){const o=gx[s];AB(this,gx[s],(i&TD[o])===TD[o])}}}e1.prototype.defined=!0;function AB(e,t,n){n&&(e[t]=n)}function Gf(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const s=new e1(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,n[RD(i)]=i,n[RD(s.attribute)]=i}return new Sv(t,n,e.space)}const h$=Gf({properties:{ariaActiveDescendant:null,ariaAtomic:oi,ariaAutoComplete:null,ariaBusy:oi,ariaChecked:oi,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:bn,ariaCurrent:null,ariaDescribedBy:bn,ariaDetails:null,ariaDisabled:oi,ariaDropEffect:bn,ariaErrorMessage:null,ariaExpanded:oi,ariaFlowTo:bn,ariaGrabbed:oi,ariaHasPopup:null,ariaHidden:oi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bn,ariaLevel:Ae,ariaLive:null,ariaModal:oi,ariaMultiLine:oi,ariaMultiSelectable:oi,ariaOrientation:null,ariaOwns:bn,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:oi,ariaReadOnly:oi,ariaRelevant:null,ariaRequired:oi,ariaRoleDescription:bn,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:oi,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function f$(e,t){return t in e?e[t]:t}function p$(e,t){return f$(e,t.toLowerCase())}const U1e=Gf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qh,acceptCharset:bn,accessKey:bn,action:null,allow:null,allowFullScreen:Dt,allowPaymentRequest:Dt,allowUserMedia:Dt,alt:null,as:null,async:Dt,autoCapitalize:null,autoComplete:bn,autoFocus:Dt,autoPlay:Dt,blocking:bn,capture:null,charSet:null,checked:Dt,cite:null,className:bn,cols:Ae,colSpan:null,content:null,contentEditable:oi,controls:Dt,controlsList:bn,coords:Ae|qh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Dt,defer:Dt,dir:null,dirName:null,disabled:Dt,download:xD,draggable:oi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Dt,formTarget:null,headers:bn,height:Ae,hidden:xD,high:Ae,href:null,hrefLang:null,htmlFor:bn,httpEquiv:bn,id:null,imageSizes:null,imageSrcSet:null,inert:Dt,inputMode:null,integrity:null,is:null,isMap:Dt,itemId:null,itemProp:bn,itemRef:bn,itemScope:Dt,itemType:bn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Dt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:Dt,muted:Dt,name:null,nonce:null,noModule:Dt,noValidate:Dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Dt,optimum:Ae,pattern:null,ping:bn,placeholder:null,playsInline:Dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Dt,referrerPolicy:null,rel:bn,required:Dt,reversed:Dt,rows:Ae,rowSpan:Ae,sandbox:bn,scope:null,scoped:Dt,seamless:Dt,selected:Dt,shadowRootClonable:Dt,shadowRootDelegatesFocus:Dt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:oi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:Dt,useMap:null,value:oi,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bn,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Dt,declare:Dt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:Dt,noHref:Dt,noShade:Dt,noWrap:Dt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:oi,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Dt,disableRemotePlayback:Dt,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:p$}),W1e=Gf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zr,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:bn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:Dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qh,g2:qh,glyphName:qh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:Zr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zr,rev:Zr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zr,requiredFeatures:Zr,requiredFonts:Zr,requiredFormats:Zr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:Zr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zr,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:f$}),g$=Gf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),m$=Gf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:p$}),v$=Gf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),j1e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$1e=/[A-Z]/g,PB=/-[a-z]/g,q1e=/^data[-\w.:]+$/i;function K1e(e,t){const n=RD(t);let i=t,r=Gr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&q1e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(PB,X1e);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!PB.test(s)){let o=s.replace($1e,Y1e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}r=e1}return new r(i,t)}function Y1e(e){return"-"+e.toLowerCase()}function X1e(e){return e.charAt(1).toUpperCase()}const Q1e=d$([h$,U1e,g$,m$,v$],"html"),t1=d$([h$,W1e,g$,m$,v$],"svg");function Z1e(e){return e.join(" ").trim()}var fh={},mx,IB;function J1e(){if(IB)return mx;IB=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",h="*",p="",g="comment",v="declaration";mx=function(S,R){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];R=R||{};var x=1,D=1;function T(G){var J=G.match(t);J&&(x+=J.length);var ie=G.lastIndexOf(l);D=~ie?G.length-ie:D+G.length}function k(){var G={line:x,column:D};return function(J){return J.position=new L(G),M(),J}}function L(G){this.start=G,this.end={line:x,column:D},this.source=R.source}L.prototype.content=S;function P(G){var J=new Error(R.source+":"+x+":"+D+": "+G);if(J.reason=G,J.filename=R.source,J.line=x,J.column=D,J.source=S,!R.silent)throw J}function _(G){var J=G.exec(S);if(J){var ie=J[0];return T(ie),S=S.slice(ie.length),J}}function M(){_(n)}function N(G){var J;for(G=G||[];J=B();)J!==!1&&G.push(J);return G}function B(){var G=k();if(!(u!=S.charAt(0)||h!=S.charAt(1))){for(var J=2;p!=S.charAt(J)&&(h!=S.charAt(J)||u!=S.charAt(J+1));)++J;if(J+=2,p===S.charAt(J-1))return P("End of comment missing");var ie=S.slice(2,J-2);return D+=2,T(ie),S=S.slice(J),D+=2,G({type:g,comment:ie})}}function H(){var G=k(),J=_(i);if(J){if(B(),!_(r))return P("property missing ':'");var ie=_(s),$=G({type:v,property:C(J[0].replace(e,p)),value:ie?C(ie[0].replace(e,p)):p});return _(o),$}}function U(){var G=[];N(G);for(var J;J=H();)J!==!1&&(G.push(J),N(G));return G}return M(),U()};function C(S){return S?S.replace(a,p):p}return mx}var FB;function eFe(){if(FB)return fh;FB=1;var e=fh&&fh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fh,"__esModule",{value:!0}),fh.default=n;var t=e(J1e());function n(i,r){var s=null;if(!i||typeof i!="string")return s;var o=(0,t.default)(i),a=typeof r=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,h=l.value;a?r(u,h,l):h&&(s=s||{},s[u]=h)}}),s}return fh}var sg={},MB;function tFe(){if(MB)return sg;MB=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(u){return!u||n.test(u)||e.test(u)},o=function(u,h){return h.toUpperCase()},a=function(u,h){return"".concat(h,"-")},l=function(u,h){return h===void 0&&(h={}),s(u)?u:(u=u.toLowerCase(),h.reactCompat?u=u.replace(r,a):u=u.replace(i,a),u.replace(t,o))};return sg.camelCase=l,sg}var og,_B;function nFe(){if(_B)return og;_B=1;var e=og&&og.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=e(eFe()),n=tFe();function i(r,s){var o={};return!r||typeof r!="string"||(0,t.default)(r,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return i.default=i,og=i,og}var iFe=nFe();const rFe=wf(iFe),y$=C$("end"),n1=C$("start");function C$(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function sFe(e){const t=n1(e),n=y$(e);if(t&&n)return{start:t,end:n}}function Gg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kB(e.position):"start"in e||"end"in e?kB(e):"line"in e||"column"in e?DD(e):""}function DD(e){return OB(e&&e.line)+":"+OB(e&&e.column)}function kB(e){return DD(e&&e.start)+"-"+DD(e&&e.end)}function OB(e){return e&&typeof e=="number"?e:1}class cr extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?r=t:!s.cause&&t&&(o=!0,r=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const l=i.indexOf(":");l===-1?s.ruleId=i:(s.source=i.slice(0,l),s.ruleId=i.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=a?a.line:void 0,this.name=Gg(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}cr.prototype.file="";cr.prototype.name="";cr.prototype.reason="";cr.prototype.message="";cr.prototype.stack="";cr.prototype.column=void 0;cr.prototype.line=void 0;cr.prototype.ancestors=void 0;cr.prototype.cause=void 0;cr.prototype.fatal=void 0;cr.prototype.place=void 0;cr.prototype.ruleId=void 0;cr.prototype.source=void 0;const i1={}.hasOwnProperty,oFe=new Map,aFe=/[A-Z]/g,lFe=new Set(["table","tbody","thead","tfoot","tr"]),cFe=new Set(["td","th"]),w$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uFe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=yFe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=vFe(n,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?t1:Q1e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=b$(r,e,void 0);return s&&typeof s!="string"?s:r.create(e,r.Fragment,{children:s||void 0},void 0)}function b$(e,t,n){if(t.type==="element")return dFe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hFe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return pFe(e,t,n);if(t.type==="mdxjsEsm")return fFe(e,t);if(t.type==="root")return gFe(e,t,n);if(t.type==="text")return mFe(e,t)}function dFe(e,t,n){const i=e.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=t1,e.schema=r),e.ancestors.push(t);const s=E$(e,t.tagName,!1),o=CFe(e,t);let a=s1(e,t);return lFe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!G1e(l):!0})),S$(e,o,s,t),r1(o,a),e.ancestors.pop(),e.schema=i,e.create(t,s,o,n)}function hFe(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Vm(e,t.position)}function fFe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Vm(e,t.position)}function pFe(e,t,n){const i=e.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=t1,e.schema=r),e.ancestors.push(t);const s=t.name===null?e.Fragment:E$(e,t.name,!0),o=wFe(e,t),a=s1(e,t);return S$(e,o,s,t),r1(o,a),e.ancestors.pop(),e.schema=i,e.create(t,s,o,n)}function gFe(e,t,n){const i={};return r1(i,s1(e,t)),e.create(t,e.Fragment,i,n)}function mFe(e,t){return t.value}function S$(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function r1(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function vFe(e,t,n){return i;function i(r,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function yFe(e,t){return n;function n(i,r,s,o){const a=Array.isArray(s.children),l=n1(i);return t(r,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function CFe(e,t){const n={};let i,r;for(r in t.properties)if(r!=="children"&&i1.call(t.properties,r)){const s=bFe(e,r,t.properties[r]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&cFe.has(t.tagName)?i=a:n[o]=a}}if(i){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function wFe(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Vm(e,t.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const a=i.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Vm(e,t.position);else s=i.value===null?!0:i.value;n[r]=s}return n}function s1(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:oFe;for(;++i<t.children.length;){const s=t.children[i];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=r.get(l)||0;o=l+"-"+u,r.set(l,u+1)}}const a=b$(e,s,o);a!==void 0&&n.push(a)}return n}function bFe(e,t,n){const i=K1e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?L1e(n):Z1e(n)),i.property==="style"){let r=typeof n=="object"?n:SFe(e,String(n));return e.stylePropertyNameCase==="css"&&(r=EFe(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&i.space?j1e[i.property]||i.property:i.attribute,n]}}function SFe(e,t){try{return rFe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,r=new cr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=w$+"#cannot-parse-style-attribute",r}}function E$(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let s=-1,o;for(;++s<r.length;){const a=TB(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}i=o}else i=TB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return i1.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(i);Vm(e)}function Vm(e,t){const n=new cr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=w$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EFe(e){const t={};let n;for(n in e)i1.call(e,n)&&(t[RFe(n)]=e[n]);return t}function RFe(e){let t=e.replace(aFe,xFe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function xFe(e){return"-"+e.toLowerCase()}const vx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TFe={};function DFe(e,t){const n=TFe,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return R$(e,i,r)}function R$(e,t,n){if(AFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return LB(e.children,t,n)}return Array.isArray(e)?LB(e,t,n):""}function LB(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=R$(e[r],t,n);return i.join("")}function AFe(e){return!!(e&&typeof e=="object")}const NB=document.createElement("i");function o1(e){const t="&"+e+";";NB.innerHTML=t;const n=NB.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function la(e,t,n,i){const r=e.length;let s=0,o;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<i.length;)o=i.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function _s(e,t){return e.length>0?(la(e,e.length,0,t),e):t}const VB={}.hasOwnProperty;function PFe(e){const t={};let n=-1;for(;++n<e.length;)IFe(t,e[n]);return t}function IFe(e,t){let n;for(n in t){const r=(VB.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){VB.call(r,o)||(r[o]=[]);const a=s[o];FFe(r[o],Array.isArray(a)?a:a?[a]:[])}}}function FFe(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);la(e,0,0,i)}function x$(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Kh(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vo=Nc(/[A-Za-z]/),os=Nc(/[\dA-Za-z]/),MFe=Nc(/[#-'*+\--9=?A-Z^-~]/);function AD(e){return e!==null&&(e<32||e===127)}const PD=Nc(/\d/),_Fe=Nc(/[\dA-Fa-f]/),kFe=Nc(/[!-/:-@[-`{-~]/);function vt(e){return e!==null&&e<-2}function Vr(e){return e!==null&&(e<0||e===32)}function Jt(e){return e===-2||e===-1||e===32}const OFe=Nc(new RegExp("\\p{P}|\\p{S}","u")),LFe=Nc(/\s/);function Nc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function zf(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&os(e.charCodeAt(n+1))&&os(e.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),r=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(i,n),encodeURIComponent(o)),i=n+r+1,o=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function En(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Jt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Jt(l)&&s++<r?(e.consume(l),a):(e.exit(n),t(l))}}const NFe={tokenize:VFe};function VFe(e){const t=e.attempt(this.parser.constructs.contentInitial,i,r);let n;return t;function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),En(e,t,"linePrefix")}function r(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return vt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const BFe={tokenize:HFe},BB={tokenize:GFe};function HFe(e){const t=this,n=[];let i=0,r,s,o;return a;function a(T){if(i<n.length){const k=n[i];return t.containerState=k[1],e.attempt(k[0].continuation,l,u)(T)}return u(T)}function l(T){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&D();const k=t.events.length;let L=k,P;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){P=t.events[L][1].end;break}x(i);let _=k;for(;_<t.events.length;)t.events[_][1].end={...P},_++;return la(t.events,L+1,0,t.events.slice(k)),t.events.length=_,u(T)}return a(T)}function u(T){if(i===n.length){if(!r)return g(T);if(r.currentConstruct&&r.currentConstruct.concrete)return C(T);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(BB,h,p)(T)}function h(T){return r&&D(),x(i),g(T)}function p(T){return t.parser.lazy[t.now().line]=i!==n.length,o=t.now().offset,C(T)}function g(T){return t.containerState={},e.attempt(BB,v,C)(T)}function v(T){return i++,n.push([t.currentConstruct,t.containerState]),g(T)}function C(T){if(T===null){r&&D(),x(0),e.consume(T);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),S(T)}function S(T){if(T===null){R(e.exit("chunkFlow"),!0),x(0),e.consume(T);return}return vt(T)?(e.consume(T),R(e.exit("chunkFlow")),i=0,t.interrupt=void 0,a):(e.consume(T),S)}function R(T,k){const L=t.sliceStream(T);if(k&&L.push(null),T.previous=s,s&&(s.next=T),s=T,r.defineSkip(T.start),r.write(L),t.parser.lazy[T.start.line]){let P=r.events.length;for(;P--;)if(r.events[P][1].start.offset<o&&(!r.events[P][1].end||r.events[P][1].end.offset>o))return;const _=t.events.length;let M=_,N,B;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(N){B=t.events[M][1].end;break}N=!0}for(x(i),P=_;P<t.events.length;)t.events[P][1].end={...B},P++;la(t.events,M+1,0,t.events.slice(_)),t.events.length=P}}function x(T){let k=n.length;for(;k-- >T;){const L=n[k];t.containerState=L[1],L[0].exit.call(t,e)}n.length=T}function D(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}function GFe(e,t,n){return En(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function HB(e){if(e===null||Vr(e)||LFe(e))return 1;if(OFe(e))return 2}function a1(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const s=e[r].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}const ID={name:"attention",resolveAll:zFe,tokenize:UFe};function zFe(e,t){let n=-1,i,r,s,o,a,l,u,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[i][1].end},g={...e[n][1].start};GB(p,-l),GB(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:p,end:{...e[i][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},r={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[i][1].end={...o.start},e[n][1].start={...a.end},u=[],e[i][1].end.offset-e[i][1].start.offset&&(u=_s(u,[["enter",e[i][1],t],["exit",e[i][1],t]])),u=_s(u,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=_s(u,a1(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),u=_s(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,u=_s(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,la(e,i-1,n-i+3,u),n=i+u.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function UFe(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=HB(i);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),h=HB(l),p=!h||h===2&&r||n.includes(l),g=!r||r===2&&h||n.includes(i);return u._open=!!(s===42?p:p&&(r||!g)),u._close=!!(s===42?g:g&&(h||!p)),t(l)}}function GB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const WFe={name:"autolink",tokenize:jFe};function jFe(e,t,n){let i=0;return r;function r(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(v){return Vo(v)?(e.consume(v),o):v===64?n(v):u(v)}function o(v){return v===43||v===45||v===46||os(v)?(i=1,a(v)):u(v)}function a(v){return v===58?(e.consume(v),i=0,l):(v===43||v===45||v===46||os(v))&&i++<32?(e.consume(v),a):(i=0,u(v))}function l(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||AD(v)?n(v):(e.consume(v),l)}function u(v){return v===64?(e.consume(v),h):MFe(v)?(e.consume(v),u):n(v)}function h(v){return os(v)?p(v):n(v)}function p(v){return v===46?(e.consume(v),i=0,h):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):g(v)}function g(v){if((v===45||os(v))&&i++<63){const C=v===45?g:p;return e.consume(v),C}return n(v)}}const zS={partial:!0,tokenize:$Fe};function $Fe(e,t,n){return i;function i(s){return Jt(s)?En(e,r,"linePrefix")(s):r(s)}function r(s){return s===null||vt(s)?t(s):n(s)}}const T$={continuation:{tokenize:KFe},exit:YFe,name:"blockQuote",tokenize:qFe};function qFe(e,t,n){const i=this;return r;function r(o){if(o===62){const a=i.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Jt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function KFe(e,t,n){const i=this;return r;function r(o){return Jt(o)?En(e,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(T$,t,n)(o)}}function YFe(e){e.exit("blockQuote")}const D$={name:"characterEscape",tokenize:XFe};function XFe(e,t,n){return i;function i(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),r}function r(s){return kFe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const A$={name:"characterReference",tokenize:QFe};function QFe(e,t,n){const i=this;let r=0,s,o;return a;function a(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),l}function l(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=os,h(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=_Fe,h):(e.enter("characterReferenceValue"),s=7,o=PD,h(p))}function h(p){if(p===59&&r){const g=e.exit("characterReferenceValue");return o===os&&!o1(i.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&r++<s?(e.consume(p),h):n(p)}}const zB={partial:!0,tokenize:JFe},UB={concrete:!0,name:"codeFenced",tokenize:ZFe};function ZFe(e,t,n){const i=this,r={partial:!0,tokenize:L};let s=0,o=0,a;return l;function l(P){return u(P)}function u(P){const _=i.events[i.events.length-1];return s=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(P)}function h(P){return P===a?(o++,e.consume(P),h):o<3?n(P):(e.exit("codeFencedFenceSequence"),Jt(P)?En(e,p,"whitespace")(P):p(P))}function p(P){return P===null||vt(P)?(e.exit("codeFencedFence"),i.interrupt?t(P):e.check(zB,S,k)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||vt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):Jt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),En(e,v,"whitespace")(P)):P===96&&P===a?n(P):(e.consume(P),g)}function v(P){return P===null||vt(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(P))}function C(P){return P===null||vt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===a?n(P):(e.consume(P),C)}function S(P){return e.attempt(r,k,R)(P)}function R(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),x}function x(P){return s>0&&Jt(P)?En(e,D,"linePrefix",s+1)(P):D(P)}function D(P){return P===null||vt(P)?e.check(zB,S,k)(P):(e.enter("codeFlowValue"),T(P))}function T(P){return P===null||vt(P)?(e.exit("codeFlowValue"),D(P)):(e.consume(P),T)}function k(P){return e.exit("codeFenced"),t(P)}function L(P,_,M){let N=0;return B;function B(ie){return P.enter("lineEnding"),P.consume(ie),P.exit("lineEnding"),H}function H(ie){return P.enter("codeFencedFence"),Jt(ie)?En(P,U,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):U(ie)}function U(ie){return ie===a?(P.enter("codeFencedFenceSequence"),G(ie)):M(ie)}function G(ie){return ie===a?(N++,P.consume(ie),G):N>=o?(P.exit("codeFencedFenceSequence"),Jt(ie)?En(P,J,"whitespace")(ie):J(ie)):M(ie)}function J(ie){return ie===null||vt(ie)?(P.exit("codeFencedFence"),_(ie)):M(ie)}}}function JFe(e,t,n){const i=this;return r;function r(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?n(o):t(o)}}const yx={name:"codeIndented",tokenize:tMe},eMe={partial:!0,tokenize:nMe};function tMe(e,t,n){const i=this;return r;function r(u){return e.enter("codeIndented"),En(e,s,"linePrefix",5)(u)}function s(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):vt(u)?e.attempt(eMe,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||vt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function nMe(e,t,n){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?n(o):vt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r):En(e,s,"linePrefix",5)(o)}function s(o){const a=i.events[i.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):vt(o)?r(o):n(o)}}const iMe={name:"codeText",previous:sMe,resolve:rMe,tokenize:oMe};function rMe(e){let t=e.length-4,n=3,i,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)r===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(r=i):(i===t||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return e}function sMe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oMe(e,t,n){let i=0,r,s;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),a(p)}function a(p){return p===96?(e.consume(p),i++,a):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(s=e.enter("codeTextSequence"),r=0,h(p)):vt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||vt(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),u)}function h(p){return p===96?(e.consume(p),r++,h):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",u(p))}}class aMe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const r=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&ag(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ag(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ag(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ag(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ag(this.left,n.reverse())}}}function ag(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function P$(e){const t={};let n=-1,i,r,s,o,a,l,u;const h=new aMe(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,lMe(h,n)),n=t[n],u=!0);else if(i[1]._container){for(s=n,r=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(h.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...h.get(r)[1].start},a=h.slice(r,n),a.unshift(i),h.splice(r,n-r+1,a))}}return la(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function lMe(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const s=[];let o=n._tokenizer;o||(o=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let h,p,g=-1,v=n,C=0,S=0;const R=[S];for(;v;){for(;e.get(++r)[1]!==v;);s.push(r),v._tokenizer||(h=i.sliceStream(v),v.next||h.push(null),p&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(S=g+1,R.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):R.pop(),g=R.length;g--;){const x=a.slice(R[g],R[g+1]),D=s.pop();l.push([D,D+x.length-1]),e.splice(D,2,x)}for(l.reverse(),g=-1;++g<l.length;)u[C+l[g][0]]=C+l[g][1],C+=l[g][1]-l[g][0]-1;return u}const cMe={resolve:dMe,tokenize:hMe},uMe={partial:!0,tokenize:fMe};function dMe(e){return P$(e),e}function hMe(e,t){let n;return i;function i(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(a)}function r(a){return a===null?s(a):vt(a)?e.check(uMe,o,s)(a):(e.consume(a),r)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function fMe(e,t,n){const i=this;return r;function r(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),En(e,s,"linePrefix")}function s(o){if(o===null||vt(o))return n(o);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(i.parser.constructs.flow,n,t)(o)}}function I$(e,t,n,i,r,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return p;function p(x){return x===60?(e.enter(i),e.enter(r),e.enter(s),e.consume(x),e.exit(s),g):x===null||x===32||x===41||AD(x)?n(x):(e.enter(i),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),S(x))}function g(x){return x===62?(e.enter(s),e.consume(x),e.exit(s),e.exit(r),e.exit(i),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),v(x))}function v(x){return x===62?(e.exit("chunkString"),e.exit(a),g(x)):x===null||x===60||vt(x)?n(x):(e.consume(x),x===92?C:v)}function C(x){return x===60||x===62||x===92?(e.consume(x),v):v(x)}function S(x){return!h&&(x===null||x===41||Vr(x))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(i),t(x)):h<u&&x===40?(e.consume(x),h++,S):x===41?(e.consume(x),h--,S):x===null||x===32||x===40||AD(x)?n(x):(e.consume(x),x===92?R:S)}function R(x){return x===40||x===41||x===92?(e.consume(x),S):S(x)}}function F$(e,t,n,i,r,s){const o=this;let a=0,l;return u;function u(v){return e.enter(i),e.enter(r),e.consume(v),e.exit(r),e.enter(s),h}function h(v){return a>999||v===null||v===91||v===93&&!l||v===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(e.exit(s),e.enter(r),e.consume(v),e.exit(r),e.exit(i),t):vt(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||vt(v)||a++>999?(e.exit("chunkString"),h(v)):(e.consume(v),l||(l=!Jt(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(e.consume(v),a++,p):p(v)}}function M$(e,t,n,i,r,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(i),e.enter(r),e.consume(g),e.exit(r),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(r),e.consume(g),e.exit(r),e.exit(i),t):(e.enter(s),u(g))}function u(g){return g===o?(e.exit(s),l(o)):g===null?n(g):vt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),En(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===o||g===null||vt(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?p:h)}function p(g){return g===o||g===92?(e.consume(g),h):h(g)}}function zg(e,t){let n;return i;function i(r){return vt(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):Jt(r)?En(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}const pMe={name:"definition",tokenize:mMe},gMe={partial:!0,tokenize:vMe};function mMe(e,t,n){const i=this;let r;return s;function s(v){return e.enter("definition"),o(v)}function o(v){return F$.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function a(v){return r=Kh(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),l):n(v)}function l(v){return Vr(v)?zg(e,u)(v):u(v)}function u(v){return I$(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return e.attempt(gMe,p,p)(v)}function p(v){return Jt(v)?En(e,g,"whitespace")(v):g(v)}function g(v){return v===null||vt(v)?(e.exit("definition"),i.parser.defined.push(r),t(v)):n(v)}}function vMe(e,t,n){return i;function i(a){return Vr(a)?zg(e,r)(a):n(a)}function r(a){return M$(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Jt(a)?En(e,o,"whitespace")(a):o(a)}function o(a){return a===null||vt(a)?t(a):n(a)}}const yMe={name:"hardBreakEscape",tokenize:CMe};function CMe(e,t,n){return i;function i(s){return e.enter("hardBreakEscape"),e.consume(s),r}function r(s){return vt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const wMe={name:"headingAtx",resolve:bMe,tokenize:SMe};function bMe(e,t){let n=e.length-2,i=3,r,s;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},s={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},la(e,i,n-i+1,[["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t]])),e}function SMe(e,t,n){let i=0;return r;function r(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(e.consume(h),o):h===null||Vr(h)?(e.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(e.enter("atxHeadingSequence"),l(h)):h===null||vt(h)?(e.exit("atxHeading"),t(h)):Jt(h)?En(e,a,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function l(h){return h===35?(e.consume(h),l):(e.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||Vr(h)?(e.exit("atxHeadingText"),a(h)):(e.consume(h),u)}}const EMe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],WB=["pre","script","style","textarea"],RMe={concrete:!0,name:"htmlFlow",resolveTo:DMe,tokenize:AMe},xMe={partial:!0,tokenize:IMe},TMe={partial:!0,tokenize:PMe};function DMe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function AMe(e,t,n){const i=this;let r,s,o,a,l;return u;function u(z){return h(z)}function h(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),p}function p(z){return z===33?(e.consume(z),g):z===47?(e.consume(z),s=!0,S):z===63?(e.consume(z),r=3,i.interrupt?t:F):Vo(z)?(e.consume(z),o=String.fromCharCode(z),R):n(z)}function g(z){return z===45?(e.consume(z),r=2,v):z===91?(e.consume(z),r=5,a=0,C):Vo(z)?(e.consume(z),r=4,i.interrupt?t:F):n(z)}function v(z){return z===45?(e.consume(z),i.interrupt?t:F):n(z)}function C(z){const pe="CDATA[";return z===pe.charCodeAt(a++)?(e.consume(z),a===pe.length?i.interrupt?t:U:C):n(z)}function S(z){return Vo(z)?(e.consume(z),o=String.fromCharCode(z),R):n(z)}function R(z){if(z===null||z===47||z===62||Vr(z)){const pe=z===47,De=o.toLowerCase();return!pe&&!s&&WB.includes(De)?(r=1,i.interrupt?t(z):U(z)):EMe.includes(o.toLowerCase())?(r=6,pe?(e.consume(z),x):i.interrupt?t(z):U(z)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(z):s?D(z):T(z))}return z===45||os(z)?(e.consume(z),o+=String.fromCharCode(z),R):n(z)}function x(z){return z===62?(e.consume(z),i.interrupt?t:U):n(z)}function D(z){return Jt(z)?(e.consume(z),D):B(z)}function T(z){return z===47?(e.consume(z),B):z===58||z===95||Vo(z)?(e.consume(z),k):Jt(z)?(e.consume(z),T):B(z)}function k(z){return z===45||z===46||z===58||z===95||os(z)?(e.consume(z),k):L(z)}function L(z){return z===61?(e.consume(z),P):Jt(z)?(e.consume(z),L):T(z)}function P(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),l=z,_):Jt(z)?(e.consume(z),P):M(z)}function _(z){return z===l?(e.consume(z),l=null,N):z===null||vt(z)?n(z):(e.consume(z),_)}function M(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Vr(z)?L(z):(e.consume(z),M)}function N(z){return z===47||z===62||Jt(z)?T(z):n(z)}function B(z){return z===62?(e.consume(z),H):n(z)}function H(z){return z===null||vt(z)?U(z):Jt(z)?(e.consume(z),H):n(z)}function U(z){return z===45&&r===2?(e.consume(z),$):z===60&&r===1?(e.consume(z),Q):z===62&&r===4?(e.consume(z),X):z===63&&r===3?(e.consume(z),F):z===93&&r===5?(e.consume(z),fe):vt(z)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(xMe,ne,G)(z)):z===null||vt(z)?(e.exit("htmlFlowData"),G(z)):(e.consume(z),U)}function G(z){return e.check(TMe,J,ne)(z)}function J(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),ie}function ie(z){return z===null||vt(z)?G(z):(e.enter("htmlFlowData"),U(z))}function $(z){return z===45?(e.consume(z),F):U(z)}function Q(z){return z===47?(e.consume(z),o="",ee):U(z)}function ee(z){if(z===62){const pe=o.toLowerCase();return WB.includes(pe)?(e.consume(z),X):U(z)}return Vo(z)&&o.length<8?(e.consume(z),o+=String.fromCharCode(z),ee):U(z)}function fe(z){return z===93?(e.consume(z),F):U(z)}function F(z){return z===62?(e.consume(z),X):z===45&&r===2?(e.consume(z),F):U(z)}function X(z){return z===null||vt(z)?(e.exit("htmlFlowData"),ne(z)):(e.consume(z),X)}function ne(z){return e.exit("htmlFlow"),t(z)}}function PMe(e,t,n){const i=this;return r;function r(o){return vt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return i.parser.lazy[i.now().line]?n(o):t(o)}}function IMe(e,t,n){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(zS,t,n)}}const FMe={name:"htmlText",tokenize:MMe};function MMe(e,t,n){const i=this;let r,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),l}function l(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),L):F===63?(e.consume(F),T):Vo(F)?(e.consume(F),M):n(F)}function u(F){return F===45?(e.consume(F),h):F===91?(e.consume(F),s=0,C):Vo(F)?(e.consume(F),D):n(F)}function h(F){return F===45?(e.consume(F),v):n(F)}function p(F){return F===null?n(F):F===45?(e.consume(F),g):vt(F)?(o=p,Q(F)):(e.consume(F),p)}function g(F){return F===45?(e.consume(F),v):p(F)}function v(F){return F===62?$(F):F===45?g(F):p(F)}function C(F){const X="CDATA[";return F===X.charCodeAt(s++)?(e.consume(F),s===X.length?S:C):n(F)}function S(F){return F===null?n(F):F===93?(e.consume(F),R):vt(F)?(o=S,Q(F)):(e.consume(F),S)}function R(F){return F===93?(e.consume(F),x):S(F)}function x(F){return F===62?$(F):F===93?(e.consume(F),x):S(F)}function D(F){return F===null||F===62?$(F):vt(F)?(o=D,Q(F)):(e.consume(F),D)}function T(F){return F===null?n(F):F===63?(e.consume(F),k):vt(F)?(o=T,Q(F)):(e.consume(F),T)}function k(F){return F===62?$(F):T(F)}function L(F){return Vo(F)?(e.consume(F),P):n(F)}function P(F){return F===45||os(F)?(e.consume(F),P):_(F)}function _(F){return vt(F)?(o=_,Q(F)):Jt(F)?(e.consume(F),_):$(F)}function M(F){return F===45||os(F)?(e.consume(F),M):F===47||F===62||Vr(F)?N(F):n(F)}function N(F){return F===47?(e.consume(F),$):F===58||F===95||Vo(F)?(e.consume(F),B):vt(F)?(o=N,Q(F)):Jt(F)?(e.consume(F),N):$(F)}function B(F){return F===45||F===46||F===58||F===95||os(F)?(e.consume(F),B):H(F)}function H(F){return F===61?(e.consume(F),U):vt(F)?(o=H,Q(F)):Jt(F)?(e.consume(F),H):N(F)}function U(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),r=F,G):vt(F)?(o=U,Q(F)):Jt(F)?(e.consume(F),U):(e.consume(F),J)}function G(F){return F===r?(e.consume(F),r=void 0,ie):F===null?n(F):vt(F)?(o=G,Q(F)):(e.consume(F),G)}function J(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Vr(F)?N(F):(e.consume(F),J)}function ie(F){return F===47||F===62||Vr(F)?N(F):n(F)}function $(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function Q(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),ee}function ee(F){return Jt(F)?En(e,fe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):fe(F)}function fe(F){return e.enter("htmlTextData"),o(F)}}const l1={name:"labelEnd",resolveAll:LMe,resolveTo:NMe,tokenize:VMe},_Me={tokenize:BMe},kMe={tokenize:HMe},OMe={tokenize:GMe};function LMe(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return e.length!==n.length&&la(e,0,e.length,n),e}function NMe(e,t){let n=e.length,i=0,r,s,o,a;for(;n--;)if(r=e[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[s+i+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=_s(a,e.slice(s+1,s+i+3)),a=_s(a,[["enter",h,t]]),a=_s(a,a1(t.parser.constructs.insideSpan.null,e.slice(s+i+4,o-3),t)),a=_s(a,[["exit",h,t],e[o-2],e[o-1],["exit",u,t]]),a=_s(a,e.slice(o+1)),a=_s(a,[["exit",l,t]]),la(e,s,e.length,a),e}function VMe(e,t,n){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return a;function a(g){return s?s._inactive?p(g):(o=i.parser.defined.includes(Kh(i.sliceSerialize({start:s.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(_Me,h,o?h:p)(g):g===91?e.attempt(kMe,h,o?u:p)(g):o?h(g):p(g)}function u(g){return e.attempt(OMe,h,p)(g)}function h(g){return t(g)}function p(g){return s._balanced=!0,n(g)}}function BMe(e,t,n){return i;function i(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),r}function r(p){return Vr(p)?zg(e,s)(p):s(p)}function s(p){return p===41?h(p):I$(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Vr(p)?zg(e,l)(p):h(p)}function a(p){return n(p)}function l(p){return p===34||p===39||p===40?M$(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function u(p){return Vr(p)?zg(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function HMe(e,t,n){const i=this;return r;function r(a){return F$.call(i,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return i.parser.defined.includes(Kh(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function GMe(e,t,n){return i;function i(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),r}function r(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const zMe={name:"labelStartImage",resolveAll:l1.resolveAll,tokenize:UMe};function UMe(e,t,n){const i=this;return r;function r(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const WMe={name:"labelStartLink",resolveAll:l1.resolveAll,tokenize:jMe};function jMe(e,t,n){const i=this;return r;function r(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const Cx={name:"lineEnding",tokenize:$Me};function $Me(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),En(e,t,"linePrefix")}}const rw={name:"thematicBreak",tokenize:qMe};function qMe(e,t,n){let i=0,r;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return r=u,a(u)}function a(u){return u===r?(e.enter("thematicBreakSequence"),l(u)):i>=3&&(u===null||vt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===r?(e.consume(u),i++,l):(e.exit("thematicBreakSequence"),Jt(u)?En(e,a,"whitespace")(u):a(u))}}const Pr={continuation:{tokenize:QMe},exit:JMe,name:"list",tokenize:XMe},KMe={partial:!0,tokenize:e_e},YMe={partial:!0,tokenize:ZMe};function XMe(e,t,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return a;function a(v){const C=i.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!i.containerState.marker||v===i.containerState.marker:PD(v)){if(i.containerState.type||(i.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(rw,n,u)(v):u(v);if(!i.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(v)}return n(v)}function l(v){return PD(v)&&++o<10?(e.consume(v),l):(!i.interrupt||o<2)&&(i.containerState.marker?v===i.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),u(v)):n(v)}function u(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||v,e.check(zS,i.interrupt?n:h,e.attempt(KMe,g,p))}function h(v){return i.containerState.initialBlankLine=!0,s++,g(v)}function p(v){return Jt(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function QMe(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(zS,r,s);function r(a){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,En(e,t,"listItemIndent",i.containerState.size+1)(a)}function s(a){return i.containerState.furtherBlankLines||!Jt(a)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(a)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(YMe,t,o)(a))}function o(a){return i.containerState._closeFlow=!0,i.interrupt=void 0,En(e,e.attempt(Pr,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function ZMe(e,t,n){const i=this;return En(e,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(s):n(s)}}function JMe(e){e.exit(this.containerState.type)}function e_e(e,t,n){const i=this;return En(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!Jt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const jB={name:"setextUnderline",resolveTo:t_e,tokenize:n_e};function t_e(e,t){let n=e.length,i,r,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",o,t]),e.splice(s+1,0,["exit",e[i][1],t]),e[i][1].end={...e[s][1].end}):e[i][1]=o,e.push(["exit",o,t]),e}function n_e(e,t,n){const i=this;let r;return s;function s(u){let h=i.events.length,p;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){p=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(e.enter("setextHeadingLine"),r=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===r?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Jt(u)?En(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||vt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const i_e={tokenize:r_e};function r_e(e){const t=this,n=e.attempt(zS,i,e.attempt(this.parser.constructs.flowInitial,r,En(e,e.attempt(this.parser.constructs.flow,r,e.attempt(cMe,r)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const s_e={resolveAll:k$()},o_e=_$("string"),a_e=_$("text");function _$(e){return{resolveAll:k$(e==="text"?l_e:void 0),tokenize:t};function t(n){const i=this,r=this.parser.constructs[e],s=n.attempt(r,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const p=r[h];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(i,i.previous))return!0}return!1}}}function k$(e){return t;function t(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return e?e(n,i):n}}function l_e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],r=t.sliceStream(i);let s=r.length,o=-1,a=0,l;for(;s--;){const u=r[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-a,offset:i.end.offset-a},end:{...i.end}};i.end={...u.start},i.start.offset===i.end.offset?Object.assign(i,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const c_e={42:Pr,43:Pr,45:Pr,48:Pr,49:Pr,50:Pr,51:Pr,52:Pr,53:Pr,54:Pr,55:Pr,56:Pr,57:Pr,62:T$},u_e={91:pMe},d_e={[-2]:yx,[-1]:yx,32:yx},h_e={35:wMe,42:rw,45:[jB,rw],60:RMe,61:jB,95:rw,96:UB,126:UB},f_e={38:A$,92:D$},p_e={[-5]:Cx,[-4]:Cx,[-3]:Cx,33:zMe,38:A$,42:ID,60:[WFe,FMe],91:WMe,92:[yMe,D$],93:l1,95:ID,96:iMe},g_e={null:[ID,s_e]},m_e={null:[42,95]},v_e={null:[]},y_e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:m_e,contentInitial:u_e,disable:v_e,document:c_e,flow:h_e,flowInitial:d_e,insideSpan:g_e,string:f_e,text:p_e},Symbol.toStringTag,{value:"Module"}));function C_e(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let o=[],a=[];const l={attempt:_(L),check:_(P),consume:D,enter:T,exit:k,interrupt:_(P,{interrupt:!0})},u={code:null,containerState:{},defineSkip:S,events:[],now:C,parser:e,previous:null,sliceSerialize:g,sliceStream:v,write:p};let h=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function p(H){return o=_s(o,H),R(),o[o.length-1]!==null?[]:(M(t,0),u.events=a1(s,u.events,u),u.events)}function g(H,U){return b_e(v(H),U)}function v(H){return w_e(o,H)}function C(){const{_bufferIndex:H,_index:U,line:G,column:J,offset:ie}=i;return{_bufferIndex:H,_index:U,line:G,column:J,offset:ie}}function S(H){r[H.line]=H.column,B()}function R(){let H;for(;i._index<o.length;){const U=o[i._index];if(typeof U=="string")for(H=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===H&&i._bufferIndex<U.length;)x(U.charCodeAt(i._bufferIndex));else x(U)}}function x(H){h=h(H)}function D(H){vt(H)?(i.line++,i.column=1,i.offset+=H===-3?2:1,B()):H!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),u.previous=H}function T(H,U){const G=U||{};return G.type=H,G.start=C(),u.events.push(["enter",G,u]),a.push(G),G}function k(H){const U=a.pop();return U.end=C(),u.events.push(["exit",U,u]),U}function L(H,U){M(H,U.from)}function P(H,U){U.restore()}function _(H,U){return G;function G(J,ie,$){let Q,ee,fe,F;return Array.isArray(J)?ne(J):"tokenize"in J?ne([J]):X(J);function X(xe){return lt;function lt(qe){const ze=qe!==null&&xe[qe],nt=qe!==null&&xe.null,ct=[...Array.isArray(ze)?ze:ze?[ze]:[],...Array.isArray(nt)?nt:nt?[nt]:[]];return ne(ct)(qe)}}function ne(xe){return Q=xe,ee=0,xe.length===0?$:z(xe[ee])}function z(xe){return lt;function lt(qe){return F=N(),fe=xe,xe.partial||(u.currentConstruct=xe),xe.name&&u.parser.constructs.disable.null.includes(xe.name)?De():xe.tokenize.call(U?Object.assign(Object.create(u),U):u,l,pe,De)(qe)}}function pe(xe){return H(fe,F),ie}function De(xe){return F.restore(),++ee<Q.length?z(Q[ee]):$}}}function M(H,U){H.resolveAll&&!s.includes(H)&&s.push(H),H.resolve&&la(u.events,U,u.events.length-U,H.resolve(u.events.slice(U),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function N(){const H=C(),U=u.previous,G=u.currentConstruct,J=u.events.length,ie=Array.from(a);return{from:J,restore:$};function $(){i=H,u.previous=U,u.currentConstruct=G,u.events.length=J,a=ie,B()}}function B(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function w_e(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let o;if(n===r)o=[e[n].slice(i,s)];else{if(o=e.slice(n,r),i>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(i):o.shift()}s>0&&o.push(e[r].slice(0,s))}return o}function b_e(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function S_e(e){const i={constructs:PFe([y_e,...(e||{}).extensions||[]]),content:r(NFe),defined:[],document:r(BFe),flow:r(i_e),lazy:{},string:r(o_e),text:r(a_e)};return i;function r(s){return o;function o(a){return C_e(i,s,a)}}}function E_e(e){for(;!P$(e););return e}const $B=/[\0\t\n\r]/g;function R_e(){let e=1,t="",n=!0,i;return r;function r(s,o,a){const l=[];let u,h,p,g,v;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if($B.lastIndex=p,u=$B.exec(s),g=u&&u.index!==void 0?u.index:s.length,v=s.charCodeAt(g),!u){t=s.slice(p);break}if(v===10&&p===g&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),p<g&&(l.push(s.slice(p,g)),e+=g-p),v){case 0:{l.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,l.push(-2);e++<h;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:i=!0,e=1}p=g+1}return a&&(i&&l.push(-5),t&&l.push(t),l.push(null)),l}}const x_e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function T_e(e){return e.replace(x_e,D_e)}function D_e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),s=r===120||r===88;return x$(n.slice(s?2:1),s?16:10)}return o1(n)||e}const O$={}.hasOwnProperty;function A_e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),P_e(n)(E_e(S_e(n).document().write(R_e()(e,t,!0))))}function P_e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(xt),autolinkProtocol:N,autolinkEmail:N,atxHeading:s(Le),blockQuote:s(nt),characterEscape:N,characterReference:N,codeFenced:s(ct),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ct,o),codeText:s(mt,o),codeTextData:N,data:N,codeFlowValue:N,definition:s(Ot),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ke),hardBreakEscape:s(Qe),hardBreakTrailing:s(Qe),htmlFlow:s(Ne,o),htmlFlowData:N,htmlText:s(Ne,o),htmlTextData:N,image:s(Ze),label:o,link:s(xt),listItem:s(St),listItemValue:g,listOrdered:s(st,p),listUnordered:s(st),paragraph:s(Et),reference:z,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Le),strong:s(Mt),thematicBreak:s(Vn)},exit:{atxHeading:l(),atxHeadingSequence:L,autolink:l(),autolinkEmail:ze,autolinkProtocol:qe,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:De,characterReferenceMarkerNumeric:De,characterReferenceValue:xe,characterReference:lt,codeFenced:l(R),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:C,codeFlowValue:B,codeIndented:l(x),codeText:l(ie),codeTextData:B,data:B,definition:l(),definitionDestinationString:k,definitionLabelString:D,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(U),hardBreakTrailing:l(U),htmlFlow:l(G),htmlFlowData:B,htmlText:l(J),htmlTextData:B,image:l(Q),label:fe,labelText:ee,lineEnding:H,link:l($),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:pe,resourceDestinationString:F,resourceTitleString:X,resource:ne,setextHeading:l(M),setextHeadingLineSequence:_,setextHeadingText:P,strong:l(),thematicBreak:l()}};L$(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(te){let ve={type:"root",children:[]};const Pe={stack:[ve],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:h,data:n},Ve=[];let Lt=-1;for(;++Lt<te.length;)if(te[Lt][1].type==="listOrdered"||te[Lt][1].type==="listUnordered")if(te[Lt][0]==="enter")Ve.push(Lt);else{const Dn=Ve.pop();Lt=r(te,Dn,Lt)}for(Lt=-1;++Lt<te.length;){const Dn=t[te[Lt][0]];O$.call(Dn,te[Lt][1].type)&&Dn[te[Lt][1].type].call(Object.assign({sliceSerialize:te[Lt][2].sliceSerialize},Pe),te[Lt][1])}if(Pe.tokenStack.length>0){const Dn=Pe.tokenStack[Pe.tokenStack.length-1];(Dn[1]||qB).call(Pe,void 0,Dn[0])}for(ve.position={start:zl(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:zl(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},Lt=-1;++Lt<t.transforms.length;)ve=t.transforms[Lt](ve)||ve;return ve}function r(te,ve,Pe){let Ve=ve-1,Lt=-1,Dn=!1,bi,ti,Qi,hi;for(;++Ve<=Pe;){const Mn=te[Ve];switch(Mn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Mn[0]==="enter"?Lt++:Lt--,hi=void 0;break}case"lineEndingBlank":{Mn[0]==="enter"&&(bi&&!hi&&!Lt&&!Qi&&(Qi=Ve),hi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hi=void 0}if(!Lt&&Mn[0]==="enter"&&Mn[1].type==="listItemPrefix"||Lt===-1&&Mn[0]==="exit"&&(Mn[1].type==="listUnordered"||Mn[1].type==="listOrdered")){if(bi){let fi=Ve;for(ti=void 0;fi--;){const Si=te[fi];if(Si[1].type==="lineEnding"||Si[1].type==="lineEndingBlank"){if(Si[0]==="exit")continue;ti&&(te[ti][1].type="lineEndingBlank",Dn=!0),Si[1].type="lineEnding",ti=fi}else if(!(Si[1].type==="linePrefix"||Si[1].type==="blockQuotePrefix"||Si[1].type==="blockQuotePrefixWhitespace"||Si[1].type==="blockQuoteMarker"||Si[1].type==="listItemIndent"))break}Qi&&(!ti||Qi<ti)&&(bi._spread=!0),bi.end=Object.assign({},ti?te[ti][1].start:Mn[1].end),te.splice(ti||Ve,0,["exit",bi,Mn[2]]),Ve++,Pe++}if(Mn[1].type==="listItemPrefix"){const fi={type:"listItem",_spread:!1,start:Object.assign({},Mn[1].start),end:void 0};bi=fi,te.splice(Ve,0,["enter",fi,Mn[2]]),Ve++,Pe++,Qi=void 0,hi=!0}}}return te[ve][1]._spread=Dn,Pe}function s(te,ve){return Pe;function Pe(Ve){a.call(this,te(Ve),Ve),ve&&ve.call(this,Ve)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(te,ve,Pe){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([ve,Pe||void 0]),te.position={start:zl(ve.start),end:void 0}}function l(te){return ve;function ve(Pe){te&&te.call(this,Pe),u.call(this,Pe)}}function u(te,ve){const Pe=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==te.type&&(ve?ve.call(this,te,Ve[0]):(Ve[1]||qB).call(this,te,Ve[0]));else throw new Error("Cannot close `"+te.type+"` ("+Gg({start:te.start,end:te.end})+"): its not open");Pe.position.end=zl(te.end)}function h(){return DFe(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(te){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function v(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=te}function C(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=te}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te.replace(/(\r?\n|\r)$/g,"")}function D(te){const ve=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=ve,Pe.identifier=Kh(this.sliceSerialize(te)).toLowerCase()}function T(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.title=te}function k(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.url=te}function L(te){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Pe=this.sliceSerialize(te).length;ve.depth=Pe}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function _(te){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function N(te){const Pe=this.stack[this.stack.length-1].children;let Ve=Pe[Pe.length-1];(!Ve||Ve.type!=="text")&&(Ve=mn(),Ve.position={start:zl(te.start),end:void 0},Pe.push(Ve)),this.stack.push(Ve)}function B(te){const ve=this.stack.pop();ve.value+=this.sliceSerialize(te),ve.position.end=zl(te.end)}function H(te){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=ve.children[ve.children.length-1];Pe.position.end=zl(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ve.type)&&(N.call(this,te),B.call(this,te))}function U(){this.data.atHardBreak=!0}function G(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te}function J(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te}function ie(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.value=te}function $(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ve,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function Q(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ve,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function ee(te){const ve=this.sliceSerialize(te),Pe=this.stack[this.stack.length-2];Pe.label=T_e(ve),Pe.identifier=Kh(ve).toLowerCase()}function fe(){const te=this.stack[this.stack.length-1],ve=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const Ve=te.children;Pe.children=Ve}else Pe.alt=ve}function F(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.url=te}function X(){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.title=te}function ne(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function pe(te){const ve=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=ve,Pe.identifier=Kh(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function De(te){this.data.characterReferenceType=te.type}function xe(te){const ve=this.sliceSerialize(te),Pe=this.data.characterReferenceType;let Ve;Pe?(Ve=x$(ve,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=o1(ve);const Lt=this.stack[this.stack.length-1];Lt.value+=Ve}function lt(te){const ve=this.stack.pop();ve.position.end=zl(te.end)}function qe(te){B.call(this,te);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(te)}function ze(te){B.call(this,te);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(te)}function nt(){return{type:"blockquote",children:[]}}function ct(){return{type:"code",lang:null,meta:null,value:""}}function mt(){return{type:"inlineCode",value:""}}function Ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ke(){return{type:"emphasis",children:[]}}function Le(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function Ne(){return{type:"html",value:""}}function Ze(){return{type:"image",title:null,url:"",alt:null}}function xt(){return{type:"link",title:null,url:"",children:[]}}function st(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function St(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function Et(){return{type:"paragraph",children:[]}}function Mt(){return{type:"strong",children:[]}}function mn(){return{type:"text",value:""}}function Vn(){return{type:"thematicBreak"}}}function zl(e){return{line:e.line,column:e.column,offset:e.offset}}function L$(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?L$(e,i):I_e(e,i)}}function I_e(e,t){let n;for(n in t)if(O$.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function qB(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Gg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Gg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Gg({start:t.start,end:t.end})+") is still open")}function F_e(e){const t=this;t.parser=n;function n(i){return A_e(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function M_e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function __e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function k_e(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r}function O_e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L_e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function N_e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=zf(i.toLowerCase()),s=e.footnoteOrder.indexOf(i);let o,a=e.footnoteCounts.get(i);a===void 0?(a=0,e.footnoteOrder.push(i),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(i,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function V_e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function B_e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function N$(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function H_e(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return N$(e,t);const r={src:zf(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,s),e.applyData(t,s)}function G_e(e,t){const n={src:zf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function z_e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function U_e(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return N$(e,t);const r={href:zf(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function W_e(e,t){const n={href:zf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function j_e(e,t,n){const i=e.all(t),r=n?$_e(n):V$(t),s={},o=[];if(typeof t.checked=="boolean"){const h=i[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const h=i[a];(r||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!r?o.push(...h.children):o.push(h)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function $_e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=V$(n[i])}return t}function V$(e){const t=e.spread;return t??e.children.length>1}function q_e(e,t){const n={},i=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function K_e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Y_e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function X_e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Q_e(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=n1(t.children[1]),l=y$(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Z_e(e,t,n){const i=n?n.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const p=t.children[l],g={},v=o?o[l]:void 0;v&&(g.align=v);let C={type:"element",tagName:s,properties:g,children:[]};p&&(C.children=e.all(p),e.patch(p,C),C=e.applyData(p,C)),u.push(C)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,h),e.applyData(t,h)}function J_e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const KB=9,YB=32;function eke(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const s=[];for(;i;)s.push(XB(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return s.push(XB(t.slice(r),r>0,!1)),s.join("")}function XB(e,t,n){let i=0,r=e.length;if(t){let s=e.codePointAt(i);for(;s===KB||s===YB;)i++,s=e.codePointAt(i)}if(n){let s=e.codePointAt(r-1);for(;s===KB||s===YB;)r--,s=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function tke(e,t){const n={type:"text",value:eke(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function nke(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ike={blockquote:M_e,break:__e,code:k_e,delete:O_e,emphasis:L_e,footnoteReference:N_e,heading:V_e,html:B_e,imageReference:H_e,image:G_e,inlineCode:z_e,linkReference:U_e,link:W_e,listItem:j_e,list:q_e,paragraph:K_e,root:Y_e,strong:X_e,table:Q_e,tableCell:J_e,tableRow:Z_e,text:tke,thematicBreak:nke,toml:CC,yaml:CC,definition:CC,footnoteDefinition:CC};function CC(){}const B$=-1,US=0,Ug=1,wb=2,c1=3,u1=4,d1=5,h1=6,H$=7,G$=8,QB=typeof self=="object"?self:globalThis,rke=(e,t)=>{const n=(r,s)=>(e.set(s,r),r),i=r=>{if(e.has(r))return e.get(r);const[s,o]=t[r];switch(s){case US:case B$:return n(o,r);case Ug:{const a=n([],r);for(const l of o)a.push(i(l));return a}case wb:{const a=n({},r);for(const[l,u]of o)a[i(l)]=i(u);return a}case c1:return n(new Date(o),r);case u1:{const{source:a,flags:l}=o;return n(new RegExp(a,l),r)}case d1:{const a=n(new Map,r);for(const[l,u]of o)a.set(i(l),i(u));return a}case h1:{const a=n(new Set,r);for(const l of o)a.add(i(l));return a}case H$:{const{name:a,message:l}=o;return n(new QB[a](l),r)}case G$:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new QB[s](o),r)};return i},ZB=e=>rke(new Map,e)(0),ph="",{toString:ske}={},{keys:oke}=Object,lg=e=>{const t=typeof e;if(t!=="object"||!e)return[US,t];const n=ske.call(e).slice(8,-1);switch(n){case"Array":return[Ug,ph];case"Object":return[wb,ph];case"Date":return[c1,ph];case"RegExp":return[u1,ph];case"Map":return[d1,ph];case"Set":return[h1,ph];case"DataView":return[Ug,n]}return n.includes("Array")?[Ug,n]:n.includes("Error")?[H$,n]:[wb,n]},wC=([e,t])=>e===US&&(t==="function"||t==="symbol"),ake=(e,t,n,i)=>{const r=(o,a)=>{const l=i.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=lg(o);switch(a){case US:{let h=o;switch(l){case"bigint":a=G$,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return r([B$],o)}return r([a,h],o)}case Ug:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),r([l,[...g]],o)}const h=[],p=r([a,h],o);for(const g of o)h.push(s(g));return p}case wb:{if(l)switch(l){case"BigInt":return r([l,o.toString()],o);case"Boolean":case"Number":case"String":return r([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const h=[],p=r([a,h],o);for(const g of oke(o))(e||!wC(lg(o[g])))&&h.push([s(g),s(o[g])]);return p}case c1:return r([a,o.toISOString()],o);case u1:{const{source:h,flags:p}=o;return r([a,{source:h,flags:p}],o)}case d1:{const h=[],p=r([a,h],o);for(const[g,v]of o)(e||!(wC(lg(g))||wC(lg(v))))&&h.push([s(g),s(v)]);return p}case h1:{const h=[],p=r([a,h],o);for(const g of o)(e||!wC(lg(g)))&&h.push(s(g));return p}}const{message:u}=o;return r([a,{name:l,message:u}],o)};return s},JB=(e,{json:t,lossy:n}={})=>{const i=[];return ake(!(t||n),!!t,new Map,i)(e),i},bb=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ZB(JB(e,t)):structuredClone(e):(e,t)=>ZB(JB(e,t));function lke(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function cke(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function uke(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||lke,i=e.options.footnoteBackLabel||cke,r=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const h=e.all(u),p=String(u.identifier).toUpperCase(),g=zf(p.toLowerCase());let v=0;const C=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++v<=S;){C.length>0&&C.push({type:"text",value:" "});let D=typeof n=="string"?n:n(l,v);typeof D=="string"&&(D={type:"text",value:D}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(l,v),className:["data-footnote-backref"]},children:Array.isArray(D)?D:[D]})}const R=h[h.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const D=R.children[R.children.length-1];D&&D.type==="text"?D.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...C)}else h.push(...C);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(u,x),a.push(x)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...bb(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const z$=function(e){if(e==null)return pke;if(typeof e=="function")return WS(e);if(typeof e=="object")return Array.isArray(e)?dke(e):hke(e);if(typeof e=="string")return fke(e);throw new Error("Expected function, string, or object as test")};function dke(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=z$(e[n]);return WS(i);function i(...r){let s=-1;for(;++s<t.length;)if(t[s].apply(this,r))return!0;return!1}}function hke(e){const t=e;return WS(n);function n(i){const r=i;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}function fke(e){return WS(t);function t(n){return n&&n.type===e}}function WS(e){return t;function t(n,i,r){return!!(gke(n)&&e.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function pke(){return!0}function gke(e){return e!==null&&typeof e=="object"&&"type"in e}const U$=[],mke=!0,e2=!1,vke="skip";function yke(e,t,n,i){let r;typeof t=="function"&&typeof n!="function"?(i=n,n=t):r=t;const s=z$(r),o=i?-1:1;a(e,void 0,[])();function a(l,u,h){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=U$,C,S,R;if((!t||s(l,u,h[h.length-1]||void 0))&&(v=Cke(n(l,h)),v[0]===e2))return v;if("children"in l&&l.children){const x=l;if(x.children&&v[0]!==vke)for(S=(i?x.children.length:-1)+o,R=h.concat(x);S>-1&&S<x.children.length;){const D=x.children[S];if(C=a(D,S,R)(),C[0]===e2)return C;S=typeof C[1]=="number"?C[1]:S+o}}return v}}}function Cke(e){return Array.isArray(e)?e:typeof e=="number"?[mke,e]:e==null?U$:[e]}function W$(e,t,n,i){let r,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,r=n):(s=t,o=n,r=i),yke(e,s,a,r);function a(l,u){const h=u[u.length-1],p=h?h.children.indexOf(l):void 0;return o(l,p,h)}}const FD={}.hasOwnProperty,wke={};function bke(e,t){const n=t||wke,i=new Map,r=new Map,s=new Map,o={...ike,...n.handlers},a={all:u,applyData:Eke,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Ske,wrap:xke};return W$(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?i:r,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),a;function l(h,p){const g=h.type,v=a.handlers[g];if(FD.call(a.handlers,g)&&v)return v(a,h,p);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in h){const{children:S,...R}=h,x=bb(R);return x.children=a.all(h),x}return bb(h)}return(a.options.unknownHandler||Rke)(a,h,p)}function u(h){const p=[];if("children"in h){const g=h.children;let v=-1;for(;++v<g.length;){const C=a.one(g[v],h);if(C){if(v&&g[v-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=t2(C.value)),!Array.isArray(C)&&C.type==="element")){const S=C.children[0];S&&S.type==="text"&&(S.value=t2(S.value))}Array.isArray(C)?p.push(...C):p.push(C)}}}return p}}function Ske(e,t){e.position&&(t.position=sFe(e))}function Eke(e,t){let n=t;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const o="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,bb(s)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function Rke(e,t){const n=t.data||{},i="value"in t&&!(FD.call(n,"hProperties")||FD.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function xke(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function t2(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function n2(e,t){const n=bke(e,t),i=n.one(e,void 0),r=uke(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function Tke(e,t){return e&&"run"in e?async function(n,i){const r=n2(n,{file:i,...t});await e.run(r,i)}:function(n,i){return n2(n,{file:i,...e||t})}}function i2(e){if(e)throw e}var wx,r2;function Dke(){if(r2)return wx;r2=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var h=e.call(u,"constructor"),p=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!h&&!p)return!1;var g;for(g in u);return typeof g>"u"||e.call(u,g)},o=function(u,h){n&&h.name==="__proto__"?n(u,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):u[h.name]=h.newValue},a=function(u,h){if(h==="__proto__")if(e.call(u,h)){if(i)return i(u,h).value}else return;return u[h]};return wx=function l(){var u,h,p,g,v,C,S=arguments[0],R=1,x=arguments.length,D=!1;for(typeof S=="boolean"&&(D=S,S=arguments[1]||{},R=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});R<x;++R)if(u=arguments[R],u!=null)for(h in u)p=a(S,h),g=a(u,h),S!==g&&(D&&g&&(s(g)||(v=r(g)))?(v?(v=!1,C=p&&r(p)?p:[]):C=p&&s(p)?p:{},o(S,{name:h,newValue:l(D,C,g)})):typeof g<"u"&&o(S,{name:h,newValue:g}));return S},wx}var Ake=Dke();const bx=wf(Ake);function MD(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Pke(){const e=[],t={run:n,use:i};return t;function n(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...r);function a(l,...u){const h=e[++s];let p=-1;if(l){o(l);return}for(;++p<r.length;)(u[p]===null||u[p]===void 0)&&(u[p]=r[p]);r=u,h?Ike(h,a)(...u):o(null,...u)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function Ike(e,t){let n;return i;function i(...o){const a=e.length>o.length;let l;a&&o.push(r);try{l=e.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return r(h)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,r):l instanceof Error?r(l):s(l))}function r(o,...a){n||(n=!0,t(o,...a))}function s(o){r(null,o)}}const Mo={basename:Fke,dirname:Mke,extname:_ke,join:kke,sep:"/"};function Fke(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ev(e);let n=0,i=-1,r=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let o=-1,a=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(s){n=r+1;break}}else o<0&&(s=!0,o=r+1),a>-1&&(e.codePointAt(r)===t.codePointAt(a--)?a<0&&(i=r):(a=-1,i=o));return n===i?i=o:i<0&&(i=e.length),e.slice(n,i)}function Mke(e){if(Ev(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function _ke(e){Ev(e);let t=e.length,n=-1,i=0,r=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){i=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?r<0?r=t:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":e.slice(r,n)}function kke(...e){let t=-1,n;for(;++t<e.length;)Ev(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Oke(n)}function Oke(e){Ev(e);const t=e.codePointAt(0)===47;let n=Lke(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Lke(e,t){let n="",i=0,r=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",i=0):(n=n.slice(0,l),i=n.length-1-n.lastIndexOf("/")),r=o,s=0;continue}}else if(n.length>0){n="",i=0,r=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(r+1,o):n=e.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Ev(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Nke={cwd:Vke};function Vke(){return"/"}function _D(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Bke(e){if(typeof e=="string")e=new URL(e);else if(!_D(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Hke(e)}function Hke(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const Sx=["history","path","basename","stem","extname","dirname"];class j${constructor(t){let n;t?_D(t)?n={path:t}:typeof t=="string"||Gke(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Nke.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Sx.length;){const s=Sx[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)Sx.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?Mo.basename(this.path):void 0}set basename(t){Rx(t,"basename"),Ex(t,"basename"),this.path=Mo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Mo.dirname(this.path):void 0}set dirname(t){s2(this.basename,"dirname"),this.path=Mo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Mo.extname(this.path):void 0}set extname(t){if(Ex(t,"extname"),s2(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){_D(t)&&(t=Bke(t)),Rx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Mo.basename(this.path,this.extname):void 0}set stem(t){Rx(t,"stem"),Ex(t,"stem"),this.path=Mo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const r=this.message(t,n,i);throw r.fatal=!0,r}info(t,n,i){const r=this.message(t,n,i);return r.fatal=void 0,r}message(t,n,i){const r=new cr(t,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ex(e,t){if(e&&e.includes(Mo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Mo.sep+"`")}function Rx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function s2(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Gke(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zke=function(e){const i=this.constructor.prototype,r=i[e],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},Uke={}.hasOwnProperty;class f1 extends zke{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Pke()}copy(){const t=new f1;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(bx(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Dx("data",this.frozen),this.namespace[t]=n,this):Uke.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Dx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=bC(t),i=this.parser||this.Parser;return xx("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),xx("process",this.parser||this.Parser),Tx("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(s,o){const a=bC(t),l=i.parse(a);i.run(l,a,function(h,p,g){if(h||!p||!g)return u(h);const v=p,C=i.stringify(v,g);$ke(C)?g.value=C:g.result=C,u(h,g)});function u(h,p){h||!p?o(h):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,i;return this.freeze(),xx("processSync",this.parser||this.Parser),Tx("processSync",this.compiler||this.Compiler),this.process(t,r),a2("processSync","process",n),i;function r(s,o){n=!0,i2(s),i=o}}run(t,n,i){o2(t),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(o,a){const l=bC(n);r.run(t,l,u);function u(h,p,g){const v=p||t;h?a(h):o?o(v):i(void 0,v,g)}}}runSync(t,n){let i=!1,r;return this.run(t,n,s),a2("runSync","run",i),r;function s(o,a){i2(o),r=a,i=!0}}stringify(t,n){this.freeze();const i=bC(n),r=this.compiler||this.Compiler;return Tx("stringify",r),o2(t),r(t,i)}use(t,...n){const i=this.attachers,r=this.namespace;if(Dx("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...p]=u;l(h,p)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(r.settings=bx(!0,r.settings,u.settings))}function a(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const p=u[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let p=-1,g=-1;for(;++p<i.length;)if(i[p][0]===u){g=p;break}if(g===-1)i.push([u,...h]);else if(h.length>0){let[v,...C]=h;const S=i[g][1];MD(S)&&MD(v)&&(v=bx(!0,S,v)),i[g]=[u,v,...C]}}}}const Wke=new f1().freeze();function xx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Tx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Dx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function o2(e){if(!MD(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function a2(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function bC(e){return jke(e)?e:new j$(e)}function jke(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $ke(e){return typeof e=="string"||qke(e)}function qke(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Kke="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",l2=[],c2={allowDangerousHtml:!0},Yke=/^(https?|ircs?|mailto|xmpp)$/i,Xke=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function SC(e){const t=Qke(e),n=Zke(e);return Jke(t.runSync(t.parse(n),n),e)}function Qke(e){const t=e.rehypePlugins||l2,n=e.remarkPlugins||l2,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...c2}:c2;return Wke().use(F_e).use(n).use(Tke,i).use(t)}function Zke(e){const t=e.children||"",n=new j$;return typeof t=="string"&&(n.value=t),n}function Jke(e,t){const n=t.allowedElements,i=t.allowElement,r=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||eOe;for(const h of Xke)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Kke+h.id,void 0);return W$(e,u),uFe(e,{Fragment:I.Fragment,components:r,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function u(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let v;for(v in vx)if(Object.hasOwn(vx,v)&&Object.hasOwn(h.properties,v)){const C=h.properties[v],S=vx[v];(S===null||S.includes(h.tagName))&&(h.properties[v]=l(String(C||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!v&&i&&typeof p=="number"&&(v=!i(h,p,g)),v&&g&&typeof p=="number")return a&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function eOe(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),r=e.indexOf("/");return t===-1||r!==-1&&t>r||n!==-1&&t>n||i!==-1&&t>i||Yke.test(e.slice(0,t))?e:""}const $$=b.createContext({});function tOe(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const p1=typeof window<"u",nOe=p1?b.useLayoutEffect:b.useEffect,g1=b.createContext(null);function m1(e,t){e.indexOf(t)===-1&&e.push(t)}function v1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const il=(e,t,n)=>n>t?t:n<e?e:n;let y1=()=>{};const rl={},q$=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function K$(e){return typeof e=="object"&&e!==null}const Y$=e=>/^0[^.\s]+$/u.test(e);function C1(e){let t;return()=>(t===void 0&&(t=e()),t)}const zs=e=>e,iOe=(e,t)=>n=>t(e(n)),Rv=(...e)=>e.reduce(iOe),Bm=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class w1{constructor(){this.subscriptions=[]}add(t){return m1(this.subscriptions,t),()=>v1(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ea=e=>e*1e3,ta=e=>e/1e3;function X$(e,t){return t?e*(1e3/t):0}const Q$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,rOe=1e-7,sOe=12;function oOe(e,t,n,i,r){let s,o,a=0;do o=t+(n-t)/2,s=Q$(o,i,r)-e,s>0?n=o:t=o;while(Math.abs(s)>rOe&&++a<sOe);return o}function xv(e,t,n,i){if(e===t&&n===i)return zs;const r=s=>oOe(s,0,1,e,n);return s=>s===0||s===1?s:Q$(r(s),t,i)}const Z$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,J$=e=>t=>1-e(1-t),e9=xv(.33,1.53,.69,.99),b1=J$(e9),t9=Z$(b1),n9=e=>(e*=2)<1?.5*b1(e):.5*(2-Math.pow(2,-10*(e-1))),S1=e=>1-Math.sin(Math.acos(e)),i9=J$(S1),r9=Z$(S1),aOe=xv(.42,0,1,1),lOe=xv(0,0,.58,1),s9=xv(.42,0,.58,1),cOe=e=>Array.isArray(e)&&typeof e[0]!="number",o9=e=>Array.isArray(e)&&typeof e[0]=="number",uOe={linear:zs,easeIn:aOe,easeInOut:s9,easeOut:lOe,circIn:S1,circInOut:r9,circOut:i9,backIn:b1,backInOut:t9,backOut:e9,anticipate:n9},dOe=e=>typeof e=="string",u2=e=>{if(o9(e)){y1(e.length===4);const[t,n,i,r]=e;return xv(t,n,i,r)}else if(dOe(e))return uOe[e];return e},EC=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hOe(e,t){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),e()),h(a)}const u={schedule:(h,p=!1,g=!1)=>{const C=g&&r?n:i;return p&&o.add(h),C.has(h)||C.add(h),h},cancel:h=>{i.delete(h),o.delete(h)},process:h=>{if(a=h,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(l),n.clear(),r=!1,s&&(s=!1,u.process(h))}};return u}const fOe=40;function a9(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=EC.reduce((T,k)=>(T[k]=hOe(s),T),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:p,preRender:g,render:v,postRender:C}=o,S=()=>{const T=rl.useManualTiming?r.timestamp:performance.now();n=!1,rl.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(T-r.timestamp,fOe),1)),r.timestamp=T,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),h.process(r),p.process(r),g.process(r),v.process(r),C.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(S))},R=()=>{n=!0,i=!0,r.isProcessing||e(S)};return{schedule:EC.reduce((T,k)=>{const L=o[k];return T[k]=(P,_=!1,M=!1)=>(n||R(),L.schedule(P,_,M)),T},{}),cancel:T=>{for(let k=0;k<EC.length;k++)o[EC[k]].cancel(T)},state:r,steps:o}}const{schedule:Fn,cancel:xc,state:Gi,steps:Ax}=a9(typeof requestAnimationFrame<"u"?requestAnimationFrame:zs,!0);let sw;function pOe(){sw=void 0}const kr={now:()=>(sw===void 0&&kr.set(Gi.isProcessing||rl.useManualTiming?Gi.timestamp:performance.now()),sw),set:e=>{sw=e,queueMicrotask(pOe)}},l9=e=>t=>typeof t=="string"&&t.startsWith(e),E1=l9("--"),gOe=l9("var(--"),R1=e=>gOe(e)?mOe.test(e.split("/*")[0].trim()):!1,mOe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Hm={...Uf,transform:e=>il(0,1,e)},RC={...Uf,default:1},Wg=e=>Math.round(e*1e5)/1e5,x1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vOe(e){return e==null}const yOe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,T1=(e,t)=>n=>!!(typeof n=="string"&&yOe.test(n)&&n.startsWith(e)||t&&!vOe(n)&&Object.prototype.hasOwnProperty.call(n,t)),c9=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(x1);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},COe=e=>il(0,255,e),Px={...Uf,transform:e=>Math.round(COe(e))},Au={test:T1("rgb","red"),parse:c9("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Px.transform(e)+", "+Px.transform(t)+", "+Px.transform(n)+", "+Wg(Hm.transform(i))+")"};function wOe(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const kD={test:T1("#"),parse:wOe,transform:Au.transform},Tv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wl=Tv("deg"),na=Tv("%"),gt=Tv("px"),bOe=Tv("vh"),SOe=Tv("vw"),d2={...na,parse:e=>na.parse(e)/100,transform:e=>na.transform(e*100)},Rh={test:T1("hsl","hue"),parse:c9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+na.transform(Wg(t))+", "+na.transform(Wg(n))+", "+Wg(Hm.transform(i))+")"},ai={test:e=>Au.test(e)||kD.test(e)||Rh.test(e),parse:e=>Au.test(e)?Au.parse(e):Rh.test(e)?Rh.parse(e):kD.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Au.transform(e):Rh.transform(e),getAnimatableNone:e=>{const t=ai.parse(e);return t.alpha=0,ai.transform(t)}},EOe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ROe(e){return isNaN(e)&&typeof e=="string"&&(e.match(x1)?.length||0)+(e.match(EOe)?.length||0)>0}const u9="number",d9="color",xOe="var",TOe="var(",h2="${}",DOe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gm(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=t.replace(DOe,l=>(ai.test(l)?(i.color.push(s),r.push(d9),n.push(ai.parse(l))):l.startsWith(TOe)?(i.var.push(s),r.push(xOe),n.push(l)):(i.number.push(s),r.push(u9),n.push(parseFloat(l))),++s,h2)).split(h2);return{values:n,split:a,indexes:i,types:r}}function h9(e){return Gm(e).values}function f9(e){const{split:t,types:n}=Gm(e),i=t.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=t[o],r[o]!==void 0){const a=n[o];a===u9?s+=Wg(r[o]):a===d9?s+=ai.transform(r[o]):s+=r[o]}return s}}const AOe=e=>typeof e=="number"?0:ai.test(e)?ai.getAnimatableNone(e):e;function POe(e){const t=h9(e);return f9(e)(t.map(AOe))}const Tc={test:ROe,parse:h9,createTransformer:f9,getAnimatableNone:POe};function Ix(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IOe({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,s=0,o=0;if(!t)r=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=Ix(l,a,e+1/3),s=Ix(l,a,e),o=Ix(l,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Sb(e,t){return n=>n>0?t:e}const On=(e,t,n)=>e+(t-e)*n,Fx=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},FOe=[kD,Au,Rh],MOe=e=>FOe.find(t=>t.test(e));function f2(e){const t=MOe(e);if(!t)return!1;let n=t.parse(e);return t===Rh&&(n=IOe(n)),n}const p2=(e,t)=>{const n=f2(e),i=f2(t);if(!n||!i)return Sb(e,t);const r={...n};return s=>(r.red=Fx(n.red,i.red,s),r.green=Fx(n.green,i.green,s),r.blue=Fx(n.blue,i.blue,s),r.alpha=On(n.alpha,i.alpha,s),Au.transform(r))},OD=new Set(["none","hidden"]);function _Oe(e,t){return OD.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function kOe(e,t){return n=>On(e,t,n)}function D1(e){return typeof e=="number"?kOe:typeof e=="string"?R1(e)?Sb:ai.test(e)?p2:NOe:Array.isArray(e)?p9:typeof e=="object"?ai.test(e)?p2:OOe:Sb}function p9(e,t){const n=[...e],i=n.length,r=e.map((s,o)=>D1(s)(s,t[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function OOe(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=D1(e[r])(e[r],t[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function LOe(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const s=t.types[r],o=e.indexes[s][i[s]],a=e.values[o]??0;n[r]=a,i[s]++}return n}const NOe=(e,t)=>{const n=Tc.createTransformer(t),i=Gm(e),r=Gm(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?OD.has(e)&&!r.values.length||OD.has(t)&&!i.values.length?_Oe(e,t):Rv(p9(LOe(i,r),r.values),n):Sb(e,t)};function g9(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?On(e,t,n):D1(e)(e,t)}const VOe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Fn.update(t,n),stop:()=>xc(t),now:()=>Gi.isProcessing?Gi.timestamp:kr.now()}},m9=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=Math.round(e(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Eb=2e4;function A1(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Eb;)t+=n,i=e.next(t);return t>=Eb?1/0:t}function BOe(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(A1(i),Eb);return{type:"keyframes",ease:s=>i.next(r*s).value/t,duration:ta(r)}}const HOe=5;function v9(e,t,n){const i=Math.max(t-HOe,0);return X$(n-e(i),t-i)}const Gn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mx=.001;function GOe({duration:e=Gn.duration,bounce:t=Gn.bounce,velocity:n=Gn.velocity,mass:i=Gn.mass}){let r,s,o=1-t;o=il(Gn.minDamping,Gn.maxDamping,o),e=il(Gn.minDuration,Gn.maxDuration,ta(e)),o<1?(r=u=>{const h=u*o,p=h*e,g=h-n,v=LD(u,o),C=Math.exp(-p);return Mx-g/v*C},s=u=>{const p=u*o*e,g=p*n+n,v=Math.pow(o,2)*Math.pow(u,2)*e,C=Math.exp(-p),S=LD(Math.pow(u,2),o);return(-r(u)+Mx>0?-1:1)*((g-v)*C)/S}):(r=u=>{const h=Math.exp(-u*e),p=(u-n)*e+1;return-Mx+h*p},s=u=>{const h=Math.exp(-u*e),p=(n-u)*(e*e);return h*p});const a=5/e,l=UOe(r,s,a);if(e=ea(e),isNaN(l))return{stiffness:Gn.stiffness,damping:Gn.damping,duration:e};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:e}}}const zOe=12;function UOe(e,t,n){let i=n;for(let r=1;r<zOe;r++)i=i-e(i)/t(i);return i}function LD(e,t){return e*Math.sqrt(1-t*t)}const WOe=["duration","bounce"],jOe=["stiffness","damping","mass"];function g2(e,t){return t.some(n=>e[n]!==void 0)}function $Oe(e){let t={velocity:Gn.velocity,stiffness:Gn.stiffness,damping:Gn.damping,mass:Gn.mass,isResolvedFromDuration:!1,...e};if(!g2(e,jOe)&&g2(e,WOe))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*il(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Gn.mass,stiffness:r,damping:s}}else{const n=GOe(e);t={...t,...n,mass:Gn.mass},t.isResolvedFromDuration=!0}return t}function Rb(e=Gn.visualDuration,t=Gn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:p,velocity:g,isResolvedFromDuration:v}=$Oe({...n,velocity:-ta(n.velocity||0)}),C=g||0,S=u/(2*Math.sqrt(l*h)),R=o-s,x=ta(Math.sqrt(l/h)),D=Math.abs(R)<5;i||(i=D?Gn.restSpeed.granular:Gn.restSpeed.default),r||(r=D?Gn.restDelta.granular:Gn.restDelta.default);let T;if(S<1){const L=LD(x,S);T=P=>{const _=Math.exp(-S*x*P);return o-_*((C+S*x*R)/L*Math.sin(L*P)+R*Math.cos(L*P))}}else if(S===1)T=L=>o-Math.exp(-x*L)*(R+(C+x*R)*L);else{const L=x*Math.sqrt(S*S-1);T=P=>{const _=Math.exp(-S*x*P),M=Math.min(L*P,300);return o-_*((C+S*x*R)*Math.sinh(M)+L*R*Math.cosh(M))/L}}const k={calculatedDuration:v&&p||null,next:L=>{const P=T(L);if(v)a.done=L>=p;else{let _=L===0?C:0;S<1&&(_=L===0?ea(C):v9(T,L,P));const M=Math.abs(_)<=i,N=Math.abs(o-P)<=r;a.done=M&&N}return a.value=a.done?o:P,a},toString:()=>{const L=Math.min(A1(k),Eb),P=m9(_=>k.next(L*_).value,L,30);return L+"ms "+P},toTransition:()=>{}};return k}Rb.applyToOptions=e=>{const t=BOe(e,100,Rb);return e.ease=t.ease,e.duration=ea(t.duration),e.type="keyframes",e};function ND({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const p=e[0],g={done:!1,value:p},v=M=>a!==void 0&&M<a||l!==void 0&&M>l,C=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let S=n*t;const R=p+S,x=o===void 0?R:o(R);x!==R&&(S=x-p);const D=M=>-S*Math.exp(-M/i),T=M=>x+D(M),k=M=>{const N=D(M),B=T(M);g.done=Math.abs(N)<=u,g.value=g.done?x:B};let L,P;const _=M=>{v(g.value)&&(L=M,P=Rb({keyframes:[g.value,C(g.value)],velocity:v9(T,M,g.value),damping:r,stiffness:s,restDelta:u,restSpeed:h}))};return _(0),{calculatedDuration:null,next:M=>{let N=!1;return!P&&L===void 0&&(N=!0,k(M),_(M)),L!==void 0&&M>=L?P.next(M-L):(!N&&k(M),g)}}}function qOe(e,t,n){const i=[],r=n||rl.mix||g9,s=e.length-1;for(let o=0;o<s;o++){let a=r(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||zs:t;a=Rv(l,a)}i.push(a)}return i}function KOe(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;if(y1(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=qOe(t,i,r),l=a.length,u=h=>{if(o&&h<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(h<e[p+1]);p++);const g=Bm(e[p],e[p+1],h);return a[p](g)};return n?h=>u(il(e[0],e[s-1],h)):u}function YOe(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Bm(0,t,i);e.push(On(n,1,r))}}function XOe(e){const t=[0];return YOe(t,e.length-1),t}function QOe(e,t){return e.map(n=>n*t)}function ZOe(e,t){return e.map(()=>t||s9).splice(0,e.length-1)}function jg({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=cOe(i)?i.map(u2):u2(i),s={done:!1,value:t[0]},o=QOe(n&&n.length===t.length?n:XOe(t),e),a=KOe(o,t,{ease:Array.isArray(r)?r:ZOe(t,r)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const JOe=e=>e!==null;function P1(e,{repeat:t,repeatType:n="loop"},i,r=1){const s=e.filter(JOe),a=r<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const eLe={decay:ND,inertia:ND,tween:jg,keyframes:jg,spring:Rb};function y9(e){typeof e.type=="string"&&(e.type=eLe[e.type])}class I1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const tLe=e=>e/100;class F1 extends I1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==kr.now()&&this.tick(kr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;y9(t);const{type:n=jg,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||jg;l!==jg&&typeof a[0]!="number"&&(this.mixKeyframes=Rv(tLe,g9(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=A1(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:v,type:C,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let T=this.currentTime,k=i;if(p){const M=Math.min(this.currentTime,r)/a;let N=Math.floor(M),B=M%1;!B&&M>=1&&(B=1),B===1&&N--,N=Math.min(N,p+1),!!(N%2)&&(g==="reverse"?(B=1-B,v&&(B-=v/a)):g==="mirror"&&(k=o)),T=il(0,1,B)*a}const L=D?{done:!1,value:h[0]}:k.next(T);s&&(L.value=s(L.value));let{done:P}=L;!D&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return _&&C!==ND&&(L.value=P1(h,this.options,R,this.speed)),S&&S(L.value),_&&this.finish(),L}then(t,n){return this.finished.then(t,n)}get duration(){return ta(this.calculatedDuration)}get time(){return ta(this.currentTime)}set time(t){t=ea(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(kr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ta(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=VOe,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function nLe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Pu=e=>e*180/Math.PI,VD=e=>{const t=Pu(Math.atan2(e[1],e[0]));return BD(t)},iLe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:VD,rotateZ:VD,skewX:e=>Pu(Math.atan(e[1])),skewY:e=>Pu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},BD=e=>(e=e%360,e<0&&(e+=360),e),m2=VD,v2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),y2=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rLe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:v2,scaleY:y2,scale:e=>(v2(e)+y2(e))/2,rotateX:e=>BD(Pu(Math.atan2(e[6],e[5]))),rotateY:e=>BD(Pu(Math.atan2(-e[2],e[0]))),rotateZ:m2,rotate:m2,skewX:e=>Pu(Math.atan(e[4])),skewY:e=>Pu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function HD(e){return e.includes("scale")?1:0}function GD(e,t){if(!e||e==="none")return HD(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=rLe,r=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=iLe,r=a}if(!r)return HD(t);const s=i[t],o=r[1].split(",").map(oLe);return typeof s=="function"?s(o):o[s]}const sLe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return GD(n,t)};function oLe(e){return parseFloat(e.trim())}const Wf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jf=new Set(Wf),C2=e=>e===Uf||e===gt,aLe=new Set(["x","y","z"]),lLe=Wf.filter(e=>!aLe.has(e));function cLe(e){const t=[];return lLe.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Uu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>GD(t,"x"),y:(e,{transform:t})=>GD(t,"y")};Uu.translateX=Uu.x;Uu.translateY=Uu.y;const Wu=new Set;let zD=!1,UD=!1,WD=!1;function C9(){if(UD){const e=Array.from(Wu).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=cLe(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{i.getValue(s)?.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}UD=!1,zD=!1,Wu.forEach(e=>e.complete(WD)),Wu.clear()}function w9(){Wu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(UD=!0)})}function uLe(){WD=!0,w9(),C9(),WD=!1}class M1{constructor(t,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Wu.add(this),zD||(zD=!0,Fn.read(w9),Fn.resolveKeyframes(C9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;if(t[0]===null){const s=r?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),r&&s===void 0&&r.set(t[0])}nLe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wu.delete(this)}cancel(){this.state==="scheduled"&&(Wu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dLe=e=>e.startsWith("--");function hLe(e,t,n){dLe(t)?e.style.setProperty(t,n):e.style[t]=n}const fLe=C1(()=>window.ScrollTimeline!==void 0),pLe={};function gLe(e,t){const n=C1(e);return()=>pLe[t]??n()}const b9=gLe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sg=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,w2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sg([0,.65,.55,1]),circOut:Sg([.55,0,1,.45]),backIn:Sg([.31,.01,.66,-.59]),backOut:Sg([.33,1.53,.69,.99])};function S9(e,t){if(e)return typeof e=="function"?b9()?m9(e,t):"ease-out":o9(e)?Sg(e):Array.isArray(e)?e.map(n=>S9(n,t)||w2.easeOut):w2[e]}function mLe(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[t]:n};l&&(h.offset=l);const p=S9(a,r);Array.isArray(p)&&(h.easing=p);const g={delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),e.animate(h,g)}function E9(e){return typeof e=="function"&&"applyToOptions"in e}function vLe({type:e,...t}){return E9(e)&&b9()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class yLe extends I1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,y1(typeof t.type!="string");const u=vLe(t);this.animation=mLe(n,i,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=P1(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):hLe(n,i,h),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ta(Number(t))}get time(){return ta(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ea(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&fLe()?(this.animation.timeline=t,zs):n(this)}}const R9={anticipate:n9,backInOut:t9,circInOut:r9};function CLe(e){return e in R9}function wLe(e){typeof e.ease=="string"&&CLe(e.ease)&&(e.ease=R9[e.ease])}const b2=10;class bLe extends yLe{constructor(t){wLe(t),y9(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new F1({...o,autoplay:!1}),l=ea(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-b2).value,a.sample(l).value,b2),a.stop()}}const S2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Tc.test(e)||e==="0")&&!e.startsWith("url("));function SLe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ELe(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=S2(r,t),a=S2(s,t);return!o||!a?!1:SLe(e)||(n==="spring"||E9(n))&&i}function jD(e){e.duration=0,e.type}const RLe=new Set(["opacity","clipPath","filter","transform"]),xLe=C1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TLe(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return xLe()&&n&&RLe.has(n)&&(n!=="transform"||!u)&&!l&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const DLe=40;class ALe extends I1{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=kr.now();const g={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:h,...p},v=h?.KeyframeResolver||M1;this.keyframeResolver=new v(a,(C,S,R)=>this.onKeyframesResolved(C,S,g,!R),l,u,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=i;this.resolvedAt=kr.now(),ELe(t,s,o,a)||((rl.instantAnimations||!l)&&h?.(P1(t,i,n)),t[0]=t[t.length-1],jD(i),i.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>DLe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},v=!u&&TLe(g)?new bLe({...g,element:g.motionValue.owner.current}):new F1(g);v.finished.then(()=>this.notifyFinished()).catch(zs),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),uLe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PLe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ILe(e){const t=PLe.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function x9(e,t,n=1){const[i,r]=ILe(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const o=s.trim();return q$(o)?parseFloat(o):o}return R1(r)?x9(r,t,n+1):r}function _1(e,t){return e?.[t]??e?.default??e}const T9=new Set(["width","height","top","left","right","bottom",...Wf]),FLe={test:e=>e==="auto",parse:e=>e},D9=e=>t=>t.test(e),A9=[Uf,gt,na,Wl,SOe,bOe,FLe],E2=e=>A9.find(D9(e));function MLe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Y$(e):!0}const _Le=new Set(["brightness","contrast","saturate","opacity"]);function kLe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(x1)||[];if(!i)return e;const r=n.replace(i,"");let s=_Le.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const OLe=/\b([a-z-]*)\(.*?\)/gu,$D={...Tc,getAnimatableNone:e=>{const t=e.match(OLe);return t?t.map(kLe).join(" "):e}},R2={...Uf,transform:Math.round},LLe={rotate:Wl,rotateX:Wl,rotateY:Wl,rotateZ:Wl,scale:RC,scaleX:RC,scaleY:RC,scaleZ:RC,skew:Wl,skewX:Wl,skewY:Wl,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:Hm,originX:d2,originY:d2,originZ:gt},k1={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,radius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,backgroundPositionX:gt,backgroundPositionY:gt,...LLe,zIndex:R2,fillOpacity:Hm,strokeOpacity:Hm,numOctaves:R2},NLe={...k1,color:ai,backgroundColor:ai,outlineColor:ai,fill:ai,stroke:ai,borderColor:ai,borderTopColor:ai,borderRightColor:ai,borderBottomColor:ai,borderLeftColor:ai,filter:$D,WebkitFilter:$D},P9=e=>NLe[e];function I9(e,t){let n=P9(e);return n!==$D&&(n=Tc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const VLe=new Set(["auto","none","0"]);function BLe(e,t,n){let i=0,r;for(;i<e.length&&!r;){const s=e[i];typeof s=="string"&&!VLe.has(s)&&Gm(s).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=I9(n,r)}class HLe extends M1{constructor(t,n,i,r,s){super(t,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),R1(u))){const h=x9(u,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!T9.has(i)||t.length!==2)return;const[r,s]=t,o=E2(r),a=E2(s);if(o!==a)if(C2(o)&&C2(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else Uu[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||MLe(t[r]))&&i.push(r);i.length&&BLe(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uu[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Uu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function GLe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const r=n?.[e]??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const F9=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zLe(e){return K$(e)&&"offsetHeight"in e}const x2=30,ULe=e=>!isNaN(parseFloat(e));class WLe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=kr.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=kr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ULe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new w1);const i=this.events[t].add(n);return t==="change"?()=>{i(),Fn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>x2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,x2);return X$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yf(e,t){return new WLe(e,t)}const{schedule:O1}=a9(queueMicrotask,!1),to={x:!1,y:!1};function M9(){return to.x||to.y}function jLe(e){return e==="x"||e==="y"?to[e]?null:(to[e]=!0,()=>{to[e]=!1}):to.x||to.y?null:(to.x=to.y=!0,()=>{to.x=to.y=!1})}function _9(e,t){const n=GLe(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function T2(e){return!(e.pointerType==="touch"||M9())}function $Le(e,t,n={}){const[i,r,s]=_9(e,n),o=a=>{if(!T2(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const h=p=>{T2(p)&&(u(p),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const k9=(e,t)=>t?e===t?!0:k9(e,t.parentElement):!1,L1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qLe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KLe(e){return qLe.has(e.tagName)||e.tabIndex!==-1}const ow=new WeakSet;function D2(e){return t=>{t.key==="Enter"&&e(t)}}function _x(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const YLe=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=D2(()=>{if(ow.has(n))return;_x(n,"down");const r=D2(()=>{_x(n,"up")}),s=()=>_x(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function A2(e){return L1(e)&&!M9()}function XLe(e,t,n={}){const[i,r,s]=_9(e,n),o=a=>{const l=a.currentTarget;if(!A2(a))return;ow.add(l);const u=t(l,a),h=(v,C)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),ow.has(l)&&ow.delete(l),A2(v)&&typeof u=="function"&&u(v,{success:C})},p=v=>{h(v,l===window||l===document||n.useGlobalTarget||k9(l,v.target))},g=v=>{h(v,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",g,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),zLe(a)&&(a.addEventListener("focus",u=>YLe(u,r)),!KLe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function O9(e){return K$(e)&&"ownerSVGElement"in e}function QLe(e){return O9(e)&&e.tagName==="svg"}const sr=e=>!!(e&&e.getVelocity),ZLe=[...A9,ai,Tc],JLe=e=>ZLe.find(D9(e)),L9=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function eNe(e=!0){const t=b.useContext(g1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,s=b.useId();b.useEffect(()=>{if(e)return r(s)},[e]);const o=b.useCallback(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,o]:[!0]}const N9=b.createContext({strict:!1}),P2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cf={};for(const e in P2)Cf[e]={isEnabled:t=>P2[e].some(n=>!!t[n])};function tNe(e){for(const t in e)Cf[t]={...Cf[t],...e[t]}}const nNe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nNe.has(e)}let V9=e=>!xb(e);function iNe(e){typeof e=="function"&&(V9=t=>t.startsWith("on")?!xb(t):e(t))}try{iNe(require("@emotion/is-prop-valid").default)}catch{}function rNe(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(V9(r)||n===!0&&xb(r)||!t&&!xb(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const jS=b.createContext({});function $S(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zm(e){return typeof e=="string"||Array.isArray(e)}const N1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V1=["initial",...N1];function qS(e){return $S(e.animate)||V1.some(t=>zm(e[t]))}function B9(e){return!!(qS(e)||e.variants)}function sNe(e,t){if(qS(e)){const{initial:n,animate:i}=e;return{initial:n===!1||zm(n)?n:void 0,animate:zm(i)?i:void 0}}return e.inherit!==!1?t:{}}function oNe(e){const{initial:t,animate:n}=sNe(e,b.useContext(jS));return b.useMemo(()=>({initial:t,animate:n}),[I2(t),I2(n)])}function I2(e){return Array.isArray(e)?e.join(" "):e}const Um={};function aNe(e){for(const t in e)Um[t]=e[t],E1(t)&&(Um[t].isCSSVariable=!0)}function H9(e,{layout:t,layoutId:n}){return jf.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Um[e]||e==="opacity")}const lNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cNe=Wf.length;function uNe(e,t,n){let i="",r=!0;for(let s=0;s<cNe;s++){const o=Wf[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=F9(a,k1[o]);if(!l){r=!1;const h=lNe[o]||o;i+=`${h}(${u}) `}n&&(t[o]=u)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function B1(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(jf.has(l)){o=!0;continue}else if(E1(l)){r[l]=u;continue}else{const h=F9(u,k1[l]);l.startsWith("origin")?(a=!0,s[l]=h):i[l]=h}}if(t.transform||(o||n?i.transform=uNe(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;i.transformOrigin=`${l} ${u} ${h}`}}const H1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G9(e,t,n){for(const i in t)!sr(t[i])&&!H9(i,n)&&(e[i]=t[i])}function dNe({transformTemplate:e},t){return b.useMemo(()=>{const n=H1();return B1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hNe(e,t){const n=e.style||{},i={};return G9(i,n,e),Object.assign(i,dNe(e,t)),i}function fNe(e,t){const n={},i=hNe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const pNe={offset:"stroke-dashoffset",array:"stroke-dasharray"},gNe={offset:"strokeDashoffset",array:"strokeDasharray"};function mNe(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?pNe:gNe;e[s.offset]=gt.transform(-i);const o=gt.transform(t),a=gt.transform(n);e[s.array]=`${o} ${a}`}function z9(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,u,h){if(B1(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g}=e;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),r!==void 0&&mNe(p,r,s,o,!1)}const U9=()=>({...H1(),attrs:{}}),W9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vNe(e,t,n,i){const r=b.useMemo(()=>{const s=U9();return z9(s,t,W9(i),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};G9(s,e.style,e),r.style={...s,...r.style}}return r}const yNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G1(e){return typeof e!="string"||e.includes("-")?!1:!!(yNe.indexOf(e)>-1||/[A-Z]/u.test(e))}function CNe(e,t,n,{latestValues:i},r,s=!1){const a=(G1(e)?vNe:fNe)(t,i,r,e),l=rNe(t,typeof e=="string",s),u=e!==b.Fragment?{...l,...a,ref:n}:{},{children:h}=t,p=b.useMemo(()=>sr(h)?h.get():h,[h]);return b.createElement(e,{...u,children:p})}function F2(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function z1(e,t,n,i){if(typeof t=="function"){const[r,s]=F2(i);t=t(n!==void 0?n:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=F2(i);t=t(n!==void 0?n:e.custom,r,s)}return t}function aw(e){return sr(e)?e.get():e}function wNe({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:bNe(n,i,r,e),renderState:t()}}function bNe(e,t,n,i){const r={},s=i(e,{});for(const g in s)r[g]=aw(s[g]);let{initial:o,animate:a}=e;const l=qS(e),u=B9(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;if(p&&typeof p!="boolean"&&!$S(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const C=z1(e,g[v]);if(C){const{transitionEnd:S,transition:R,...x}=C;for(const D in x){let T=x[D];if(Array.isArray(T)){const k=h?T.length-1:0;T=T[k]}T!==null&&(r[D]=T)}for(const D in S)r[D]=S[D]}}}return r}const j9=e=>(t,n)=>{const i=b.useContext(jS),r=b.useContext(g1),s=()=>wNe(e,t,i,r);return n?s():tOe(s)};function U1(e,t,n){const{style:i}=e,r={};for(const s in i)(sr(i[s])||t.style&&sr(t.style[s])||H9(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(r[s]=i[s]);return r}const SNe=j9({scrapeMotionValuesFromProps:U1,createRenderState:H1});function $9(e,t,n){const i=U1(e,t,n);for(const r in e)if(sr(e[r])||sr(t[r])){const s=Wf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=e[r]}return i}const ENe=j9({scrapeMotionValuesFromProps:$9,createRenderState:U9}),RNe=Symbol.for("motionComponentSymbol");function xh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xNe(e,t,n){return b.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):xh(n)&&(n.current=i))},[t])}const W1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TNe="framerAppearId",q9="data-"+W1(TNe),K9=b.createContext({});function DNe(e,t,n,i,r){const{visualElement:s}=b.useContext(jS),o=b.useContext(N9),a=b.useContext(g1),l=b.useContext(L9).reducedMotion,u=b.useRef(null);i=i||o.renderer,!u.current&&i&&(u.current=i(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,p=b.useContext(K9);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&ANe(u.current,n,r,p);const g=b.useRef(!1);b.useInsertionEffect(()=>{h&&g.current&&h.update(n,a)});const v=n[q9],C=b.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return nOe(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),C.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!C.current&&h.animationState&&h.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),C.current=!1),h.enteringChildren=void 0)}),h}function ANe(e,t,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Y9(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&xh(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:u})}function Y9(e){if(e)return e.options.allowProjection!==!1?e.projection:Y9(e.parent)}function kx(e,{forwardMotionProps:t=!1}={},n,i){n&&tNe(n);const r=G1(e)?ENe:SNe;function s(a,l){let u;const h={...b.useContext(L9),...a,layoutId:PNe(a)},{isStatic:p}=h,g=oNe(a),v=r(a,p);if(!p&&p1){INe();const C=FNe(h);u=C.MeasureLayout,g.visualElement=DNe(e,v,h,i,C.ProjectionNode)}return I.jsxs(jS.Provider,{value:g,children:[u&&g.visualElement?I.jsx(u,{visualElement:g.visualElement,...h}):null,CNe(e,a,xNe(v,g.visualElement,l),v,p,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=b.forwardRef(s);return o[RNe]=e,o}function PNe({layoutId:e}){const t=b.useContext($$).id;return t&&e!==void 0?t+"-"+e:e}function INe(e,t){b.useContext(N9).strict}function FNe(e){const{drag:t,layout:n}=Cf;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function MNe(e,t){if(typeof Proxy>"u")return kx;const n=new Map,i=(s,o)=>kx(s,o,e,t),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,kx(o,void 0,e,t)),n.get(o))})}function X9({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function _Ne({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kNe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ox(e){return e===void 0||e===1}function qD({scale:e,scaleX:t,scaleY:n}){return!Ox(e)||!Ox(t)||!Ox(n)}function wu(e){return qD(e)||Q9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Q9(e){return M2(e.x)||M2(e.y)}function M2(e){return e&&e!=="0%"}function Tb(e,t,n){const i=e-n,r=t*i;return n+r}function _2(e,t,n,i,r){return r!==void 0&&(e=Tb(e,r,i)),Tb(e,n,i)+t}function KD(e,t=0,n=1,i,r){e.min=_2(e.min,t,n,i,r),e.max=_2(e.max,t,n,i,r)}function Z9(e,{x:t,y:n}){KD(e.x,t.translate,t.scale,t.originPoint),KD(e.y,n.translate,n.scale,n.originPoint)}const k2=.999999999999,O2=1.0000000000001;function ONe(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Dh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Z9(e,o)),i&&wu(s.latestValues)&&Dh(e,s.latestValues))}t.x<O2&&t.x>k2&&(t.x=1),t.y<O2&&t.y>k2&&(t.y=1)}function Th(e,t){e.min=e.min+t,e.max=e.max+t}function L2(e,t,n,i,r=.5){const s=On(e.min,e.max,r);KD(e,t,n,s,i)}function Dh(e,t){L2(e.x,t.x,t.scaleX,t.scale,t.originX),L2(e.y,t.y,t.scaleY,t.scale,t.originY)}function J9(e,t){return X9(kNe(e.getBoundingClientRect(),t))}function LNe(e,t,n){const i=J9(e,n),{scroll:r}=t;return r&&(Th(i.x,r.offset.x),Th(i.y,r.offset.y)),i}const N2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ah=()=>({x:N2(),y:N2()}),V2=()=>({min:0,max:0}),Yn=()=>({x:V2(),y:V2()}),YD={current:null},e7={current:!1};function NNe(){if(e7.current=!0,!!p1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>YD.current=e.matches;e.addEventListener("change",t),t()}else YD.current=!1}const VNe=new WeakMap;function BNe(e,t,n){for(const i in t){const r=t[i],s=n[i];if(sr(r))e.addValue(i,r);else if(sr(s))e.addValue(i,yf(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(i);e.addValue(i,yf(o!==void 0?o:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const B2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HNe{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=kr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Fn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=qS(n),this.isVariantNode=B9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];l[g]!==void 0&&sr(v)&&v.set(l[g])}}mount(t){this.current=t,VNe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),e7.current||NNe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:YD.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xc(this.notifyUpdate),xc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=jf.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Fn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cf){const n=Cf[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<B2.length;i++){const r=B2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=t[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=BNe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=yf(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(q$(i)||Y$(i))?i=parseFloat(i):!JLe(i)&&Tc.test(n)&&(i=I9(t,n)),this.setBaseTarget(t,sr(i)?i.get():i)),sr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const s=z1(this.props,n,this.presenceContext?.custom);s&&(i=s[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!sr(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new w1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){O1.render(this.render)}}class t7 extends HNe{constructor(){super(...arguments),this.KeyframeResolver=HLe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n7(e,{style:t,vars:n},i,r){const s=e.style;let o;for(o in t)s[o]=t[o];r?.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function GNe(e){return window.getComputedStyle(e)}class zNe extends t7{constructor(){super(...arguments),this.type="html",this.renderInstance=n7}readValueFromInstance(t,n){if(jf.has(n))return this.projection?.isProjecting?HD(n):sLe(t,n);{const i=GNe(t),r=(E1(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return J9(t,n)}build(t,n,i){B1(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return U1(t,n,i)}}const i7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UNe(e,t,n,i){n7(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(i7.has(r)?r:W1(r),t.attrs[r])}class WNe extends t7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jf.has(n)){const i=P9(n);return i&&i.default||0}return n=i7.has(n)?n:W1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return $9(t,n,i)}build(t,n,i){z9(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,r){UNe(t,n,i,r)}mount(t){this.isSVGTag=W9(t.tagName),super.mount(t)}}const jNe=(e,t)=>G1(e)?new WNe(t):new zNe(t,{allowProjection:e!==b.Fragment});function Yh(e,t,n){const i=e.getProps();return z1(i,t,n!==void 0?n:i.custom,e)}const XD=e=>Array.isArray(e);function $Ne(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yf(n))}function qNe(e){return XD(e)?e[e.length-1]||0:e}function KNe(e,t){const n=Yh(e,t);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=qNe(s[o]);$Ne(e,o,a)}}function YNe(e){return!!(sr(e)&&e.add)}function QD(e,t){const n=e.getValue("willChange");if(YNe(n))return n.add(t);if(!n&&rl.WillChange){const i=new rl.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function r7(e){return e.props[q9]}const XNe=e=>e!==null;function QNe(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(XNe),s=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[s]}const ZNe={type:"spring",stiffness:500,damping:25,restSpeed:10},JNe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eVe={type:"keyframes",duration:.8},tVe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nVe=(e,{keyframes:t})=>t.length>2?eVe:jf.has(e)?e.startsWith("scale")?JNe(t[1]):ZNe:tVe;function iVe({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const j1=(e,t,n,i={},r,s)=>o=>{const a=_1(i,e)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-ea(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};iVe(a)||Object.assign(h,nVe(e,h)),h.duration&&(h.duration=ea(h.duration)),h.repeatDelay&&(h.repeatDelay=ea(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(jD(h),h.delay===0&&(p=!0)),(rl.instantAnimations||rl.skipAnimations)&&(p=!0,jD(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,p&&!s&&t.get()!==void 0){const g=QNe(h.keyframes,a);if(g!==void 0){Fn.update(()=>{h.onUpdate(g),h.onComplete()});return}}return a.isSync?new F1(h):new ALe(h)};function rVe({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function s7(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;i&&(s=i);const l=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const h in a){const p=e.getValue(h,e.latestValues[h]??null),g=a[h];if(g===void 0||u&&rVe(u,h))continue;const v={delay:n,..._1(s||{},h)},C=p.get();if(C!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===C&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const x=r7(e);if(x){const D=window.MotionHandoffAnimation(x,h,Fn);D!==null&&(v.startTime=D,S=!0)}}QD(e,h),p.start(j1(h,p,g,e.shouldReduceMotion&&T9.has(h)?{type:!1}:v,e,S));const R=p.animation;R&&l.push(R)}return o&&Promise.all(l).then(()=>{Fn.update(()=>{o&&KNe(e,o)})}),l}function o7(e,t,n,i=0,r=1){const s=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,a=(o-1)*i;return typeof n=="function"?n(s,o):r===1?s*i:a-s*i}function ZD(e,t,n={}){const i=Yh(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(s7(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=r;return sVe(e,t,l,u,h,p,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function sVe(e,t,n=0,i=0,r=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(ZD(l,t,{...o,delay:n+(typeof i=="function"?0:i)+o7(e.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function oVe(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(s=>ZD(e,s,n));i=Promise.all(r)}else if(typeof t=="string")i=ZD(e,t,n);else{const r=typeof t=="function"?Yh(e,t,n.custom):t;i=Promise.all(s7(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function a7(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const aVe=V1.length;function l7(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?l7(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<aVe;n++){const i=V1[n],r=e.props[i];(zm(r)||r===!1)&&(t[i]=r)}return t}const lVe=[...N1].reverse(),cVe=N1.length;function uVe(e){return t=>Promise.all(t.map(({animation:n,options:i})=>oVe(e,n,i)))}function dVe(e){let t=uVe(e),n=H2(),i=!0;const r=l=>(u,h)=>{const p=Yh(e,h,l==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:v,...C}=p;u={...u,...C,...v}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,h=l7(e.parent)||{},p=[],g=new Set;let v={},C=1/0;for(let R=0;R<cVe;R++){const x=lVe[R],D=n[x],T=u[x]!==void 0?u[x]:h[x],k=zm(T),L=x===l?D.isActive:null;L===!1&&(C=R);let P=T===h[x]&&T!==u[x]&&k;if(P&&i&&e.manuallyAnimateOnMount&&(P=!1),D.protectedKeys={...v},!D.isActive&&L===null||!T&&!D.prevProp||$S(T)||typeof T=="boolean")continue;const _=hVe(D.prevProp,T);let M=_||x===l&&D.isActive&&!P&&k||R>C&&k,N=!1;const B=Array.isArray(T)?T:[T];let H=B.reduce(r(x),{});L===!1&&(H={});const{prevResolvedValues:U={}}=D,G={...U,...H},J=Q=>{M=!0,g.has(Q)&&(N=!0,g.delete(Q)),D.needsAnimating[Q]=!0;const ee=e.getValue(Q);ee&&(ee.liveStyle=!1)};for(const Q in G){const ee=H[Q],fe=U[Q];if(v.hasOwnProperty(Q))continue;let F=!1;XD(ee)&&XD(fe)?F=!a7(ee,fe):F=ee!==fe,F?ee!=null?J(Q):g.add(Q):ee!==void 0&&g.has(Q)?J(Q):D.protectedKeys[Q]=!0}D.prevProp=T,D.prevResolvedValues=H,D.isActive&&(v={...v,...H}),i&&e.blockInitialAnimation&&(M=!1);const ie=P&&_;M&&(!ie||N)&&p.push(...B.map(Q=>{const ee={type:x};if(typeof Q=="string"&&i&&!ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:fe}=e,F=Yh(fe,Q);if(fe.enteringChildren&&F){const{delayChildren:X}=F.transition||{};ee.delay=o7(fe.enteringChildren,e,X)}}return{animation:Q,options:ee}}))}if(g.size){const R={};if(typeof u.initial!="boolean"){const x=Yh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(R.transition=x.transition)}g.forEach(x=>{const D=e.getBaseTarget(x),T=e.getValue(x);T&&(T.liveStyle=!0),R[x]=D??null}),p.push({animation:R})}let S=!!p.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(p):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(l,u)),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=H2(),i=!0}}}function hVe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!a7(t,e):!1}function pu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H2(){return{animate:pu(!0),whileInView:pu(),whileHover:pu(),whileTap:pu(),whileDrag:pu(),whileFocus:pu(),exit:pu()}}class Vc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fVe extends Vc{constructor(t){super(t),t.animationState||(t.animationState=dVe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$S(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pVe=0;class gVe extends Vc{constructor(){super(...arguments),this.id=pVe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mVe={animation:{Feature:fVe},exit:{Feature:gVe}};function Wm(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Dv(e){return{point:{x:e.pageX,y:e.pageY}}}const vVe=e=>t=>L1(t)&&e(t,Dv(t));function $g(e,t,n,i){return Wm(e,t,vVe(n),i)}const c7=1e-4,yVe=1-c7,CVe=1+c7,u7=.01,wVe=0-u7,bVe=0+u7;function Sr(e){return e.max-e.min}function SVe(e,t,n){return Math.abs(e-t)<=n}function G2(e,t,n,i=.5){e.origin=i,e.originPoint=On(t.min,t.max,e.origin),e.scale=Sr(n)/Sr(t),e.translate=On(n.min,n.max,e.origin)-e.originPoint,(e.scale>=yVe&&e.scale<=CVe||isNaN(e.scale))&&(e.scale=1),(e.translate>=wVe&&e.translate<=bVe||isNaN(e.translate))&&(e.translate=0)}function qg(e,t,n,i){G2(e.x,t.x,n.x,i?i.originX:void 0),G2(e.y,t.y,n.y,i?i.originY:void 0)}function z2(e,t,n){e.min=n.min+t.min,e.max=e.min+Sr(t)}function EVe(e,t,n){z2(e.x,t.x,n.x),z2(e.y,t.y,n.y)}function U2(e,t,n){e.min=t.min-n.min,e.max=e.min+Sr(t)}function Kg(e,t,n){U2(e.x,t.x,n.x),U2(e.y,t.y,n.y)}function Is(e){return[e("x"),e("y")]}const d7=({current:e})=>e?e.ownerDocument.defaultView:null,W2=(e,t)=>Math.abs(e-t);function RVe(e,t){const n=W2(e.x,t.x),i=W2(e.y,t.y);return Math.sqrt(n**2+i**2)}class h7{constructor(t,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Nx(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,C=RVe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!C)return;const{point:S}=g,{timestamp:R}=Gi;this.history.push({...S,timestamp:R});const{onStart:x,onMove:D}=this.handlers;v||(x&&x(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Lx(v,this.transformPagePoint),Fn.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Nx(g.type==="pointercancel"?this.lastMoveEventInfo:Lx(v,this.transformPagePoint),this.history);this.startEvent&&C&&C(g,x),S&&S(g,x)},!L1(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=Dv(t),l=Lx(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=Gi;this.history=[{...u,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,Nx(l,this.history)),this.removeListeners=Rv($g(this.contextWindow,"pointermove",this.handlePointerMove),$g(this.contextWindow,"pointerup",this.handlePointerUp),$g(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xc(this.updatePoint)}}function Lx(e,t){return t?{point:t(e.point)}:e}function j2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Nx({point:e},t){return{point:e,delta:j2(e,f7(t)),offset:j2(e,xVe(t)),velocity:TVe(t,.1)}}function xVe(e){return e[0]}function f7(e){return e[e.length-1]}function TVe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=f7(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>ea(t)));)n--;if(!i)return{x:0,y:0};const s=ta(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function DVe(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?On(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?On(n,e,i.max):Math.min(e,n)),e}function $2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function AVe(e,{top:t,left:n,bottom:i,right:r}){return{x:$2(e.x,n,r),y:$2(e.y,t,i)}}function q2(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function PVe(e,t){return{x:q2(e.x,t.x),y:q2(e.y,t.y)}}function IVe(e,t){let n=.5;const i=Sr(e),r=Sr(t);return r>i?n=Bm(t.min,t.max-i,e.min):i>r&&(n=Bm(e.min,e.max-r,t.min)),il(0,1,n)}function FVe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const JD=.35;function MVe(e=JD){return e===!1?e=0:e===!0&&(e=JD),{x:K2(e,"left","right"),y:K2(e,"top","bottom")}}function K2(e,t,n){return{min:Y2(e,t),max:Y2(e,n)}}function Y2(e,t){return typeof e=="number"?e:e[t]||0}const _Ve=new WeakMap;class kVe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dv(p).point)},o=(p,g)=>{const{drag:v,dragPropagation:C,onDragStart:S}=this.getProps();if(v&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jLe(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is(x=>{let D=this.getAxisMotionValue(x).get()||0;if(na.test(D)){const{projection:T}=this.visualElement;if(T&&T.layout){const k=T.layout.layoutBox[x];k&&(D=Sr(k)*(parseFloat(D)/100))}}this.originPoint[x]=D}),S&&Fn.postRender(()=>S(p,g)),QD(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},a=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:C,onDirectionLock:S,onDrag:R}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:x}=g;if(C&&this.currentDirection===null){this.currentDirection=OVe(x),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,x),this.updateAxis("y",g.point,x),this.visualElement.render(),R&&R(p,g)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Is(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new h7(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:d7(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Fn.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!xC(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=DVe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&xh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=AVe(i.layoutBox,t):this.constraints=!1,this.elastic=MVe(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Is(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=FVe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xh(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=LNe(i,r.root,this.visualElement.getTransformPagePoint());let o=PVe(r.layout.layoutBox,s);if(n){const a=n(_Ne(o));this.hasMutatedConstraints=!!a,a&&(o=X9(a))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Is(h=>{if(!xC(h,n,this.currentDirection))return;let p=l&&l[h]||{};o&&(p={min:0,max:0});const g=r?200:1e6,v=r?40:1e7,C={type:"inertia",velocity:i?t[h]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,C)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return QD(this.visualElement,t),i.start(j1(t,i,0,n,this.visualElement,!1))}stopAnimation(){Is(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Is(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Is(n=>{const{drag:i}=this.getProps();if(!xC(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(t[n]-On(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!xh(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Is(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=IVe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Is(o=>{if(!xC(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(On(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;_Ve.set(this.visualElement,this);const t=this.visualElement.current,n=$g(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();xh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Fn.read(i);const o=Wm(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Is(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=JD,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xC(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function OVe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class LVe extends Vc{constructor(t){super(t),this.removeGroupControls=zs,this.removeListeners=zs,this.controls=new kVe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zs}unmount(){this.removeGroupControls(),this.removeListeners()}}const X2=e=>(t,n)=>{e&&Fn.postRender(()=>e(t,n))};class NVe extends Vc{constructor(){super(...arguments),this.removePointerDownListener=zs}onPointerDown(t){this.session=new h7(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d7(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:X2(t),onStart:X2(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Fn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=$g(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Q2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(gt.test(e))e=parseFloat(e);else return e;const n=Q2(e,t.target.x),i=Q2(e,t.target.y);return`${n}% ${i}%`}},VVe={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=Tc.parse(e);if(r.length>5)return i;const s=Tc.createTransformer(e),o=typeof r[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;r[0+o]/=a,r[1+o]/=l;const u=On(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};let Vx=!1;class BVe extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;aNe(HVe),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),Vx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),lw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,Vx=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Fn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),O1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;Vx=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function p7(e){const[t,n]=eNe(),i=b.useContext($$);return I.jsx(BVe,{...e,layoutGroup:i,switchLayoutGroup:b.useContext(K9),isPresent:t,safeToRemove:n})}const HVe={borderRadius:{...cg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cg,borderTopRightRadius:cg,borderBottomLeftRadius:cg,borderBottomRightRadius:cg,boxShadow:VVe};function GVe(e,t,n){const i=sr(e)?e:yf(e);return i.start(j1("",i,t,n)),i.animation}const zVe=(e,t)=>e.depth-t.depth;class UVe{constructor(){this.children=[],this.isDirty=!1}add(t){m1(this.children,t),this.isDirty=!0}remove(t){v1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zVe),this.isDirty=!1,this.children.forEach(t)}}function WVe(e,t){const n=kr.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(xc(i),e(s-t))};return Fn.setup(i,!0),()=>xc(i)}const g7=["TopLeft","TopRight","BottomLeft","BottomRight"],jVe=g7.length,Z2=e=>typeof e=="string"?parseFloat(e):e,J2=e=>typeof e=="number"||gt.test(e);function $Ve(e,t,n,i,r,s){r?(e.opacity=On(0,n.opacity??1,qVe(i)),e.opacityExit=On(t.opacity??1,0,KVe(i))):s&&(e.opacity=On(t.opacity??1,n.opacity??1,i));for(let o=0;o<jVe;o++){const a=`border${g7[o]}Radius`;let l=eH(t,a),u=eH(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||J2(l)===J2(u)?(e[a]=Math.max(On(Z2(l),Z2(u),i),0),(na.test(u)||na.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=On(t.rotate||0,n.rotate||0,i))}function eH(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qVe=m7(0,.5,i9),KVe=m7(.5,.95,zs);function m7(e,t,n){return i=>i<e?0:i>t?1:n(Bm(e,t,i))}function tH(e,t){e.min=t.min,e.max=t.max}function Ds(e,t){tH(e.x,t.x),tH(e.y,t.y)}function nH(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iH(e,t,n,i,r){return e-=t,e=Tb(e,1/n,i),r!==void 0&&(e=Tb(e,1/r,i)),e}function YVe(e,t=0,n=1,i=.5,r,s=e,o=e){if(na.test(t)&&(t=parseFloat(t),t=On(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=On(s.min,s.max,i);e===s&&(a-=t),e.min=iH(e.min,t,n,a,r),e.max=iH(e.max,t,n,a,r)}function rH(e,t,[n,i,r],s,o){YVe(e,t[n],t[i],t[r],t.scale,s,o)}const XVe=["x","scaleX","originX"],QVe=["y","scaleY","originY"];function sH(e,t,n,i){rH(e.x,t,XVe,n?n.x:void 0,i?i.x:void 0),rH(e.y,t,QVe,n?n.y:void 0,i?i.y:void 0)}function oH(e){return e.translate===0&&e.scale===1}function v7(e){return oH(e.x)&&oH(e.y)}function aH(e,t){return e.min===t.min&&e.max===t.max}function ZVe(e,t){return aH(e.x,t.x)&&aH(e.y,t.y)}function lH(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function y7(e,t){return lH(e.x,t.x)&&lH(e.y,t.y)}function cH(e){return Sr(e.x)/Sr(e.y)}function uH(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class JVe{constructor(){this.members=[]}add(t){m1(this.members,t),t.scheduleRender()}remove(t){if(v1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eBe(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:p,rotateY:g,skewX:v,skewY:C}=n;u&&(i=`perspective(${u}px) ${i}`),h&&(i+=`rotate(${h}deg) `),p&&(i+=`rotateX(${p}deg) `),g&&(i+=`rotateY(${g}deg) `),v&&(i+=`skewX(${v}deg) `),C&&(i+=`skewY(${C}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Bx=["","X","Y","Z"],tBe=1e3;let nBe=0;function Hx(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function C7(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=r7(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Fn,!(r||s))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&C7(i)}function w7({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=t?.()){this.id=nBe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sBe),this.nodes.forEach(cBe),this.nodes.forEach(uBe),this.nodes.forEach(oBe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UVe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new w1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=O9(o)&&!QLe(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;Fn.read(()=>{p=window.innerWidth}),e(o,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,h&&h(),h=WVe(g,250),lw.hasAnimatedSinceResize&&(lw.hasAnimatedSinceResize=!1,this.nodes.forEach(fH)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||u.getDefaultTransition()||gBe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=u.getProps(),x=!this.targetLayout||!y7(this.targetLayout,v),D=!p&&g;if(this.options.layoutRoot||this.resumeFrom||D||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={..._1(C,"layout"),onPlay:S,onComplete:R};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,D)}else p||fH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dBe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&C7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dH);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hH);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lBe),this.nodes.forEach(iBe),this.nodes.forEach(rBe)):this.nodes.forEach(hH),this.clearAllSnapshots();const a=kr.now();Gi.delta=il(0,1e3/60,a-Gi.timestamp),Gi.timestamp=a,Gi.isProcessing=!0,Ax.update.process(Gi),Ax.preRender.process(Gi),Ax.render.process(Gi),Gi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aBe),this.sharedNodes.forEach(hBe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sr(this.snapshot.measuredBox.x)&&!Sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!v7(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||wu(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),mBe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Yn();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vBe))){const{scroll:u}=this.root;u&&(Th(a.x,u.offset.x),Th(a.y,u.offset.y))}return a}removeElementScroll(o){const a=Yn();if(Ds(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Ds(a,o),Th(a.x,h.offset.x),Th(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Yn();Ds(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Dh(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),wu(h.latestValues)&&Dh(l,h.latestValues)}return wu(this.latestValues)&&Dh(l,this.latestValues),l}removeTransform(o){const a=Yn();Ds(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!wu(u.latestValues))continue;qD(u.latestValues)&&u.updateSnapshot();const h=Yn(),p=u.measurePageBox();Ds(h,p),sH(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return wu(this.latestValues)&&sH(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Gi.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),Kg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yn(),this.targetWithTransforms=Yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EVe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ds(this.target,this.layout.layoutBox),Z9(this.target,this.targetDelta)):Ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),Kg(this.relativeTargetOrigin,this.target,g.target),Ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qD(this.parent.latestValues)||Q9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Gi.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Ds(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;ONe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Yn());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nH(this.prevProjectionDelta.x,this.projectionDelta.x),nH(this.prevProjectionDelta.y,this.projectionDelta.y)),qg(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!uH(this.projectionDelta.x,this.prevProjectionDelta.x)||!uH(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ah(),this.projectionDelta=Ah(),this.projectionDeltaWithTransform=Ah()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},p=Ah();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Yn(),v=l?l.source:void 0,C=this.layout?this.layout.source:void 0,S=v!==C,R=this.getStack(),x=!R||R.members.length<=1,D=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(pBe));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const L=k/1e3;pH(p.x,o.x,L),pH(p.y,o.y,L),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fBe(this.relativeTarget,this.relativeTargetOrigin,g,L),T&&ZVe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Yn()),Ds(T,this.relativeTarget)),S&&(this.animationValues=h,$Ve(h,u,this.latestValues,L,D,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fn.update(()=>{lw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yf(0)),this.currentAnimation=GVe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tBe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&b7(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Yn();const p=Sr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Sr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}Ds(a,l),Dh(a,h),qg(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JVe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Hx("z",o,u,this.animationValues);for(let h=0;h<Bx.length;h++)Hx(`rotate${Bx[h]}`,o,u,this.animationValues),Hx(`skew${Bx[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=aw(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=aw(a?.pointerEvents)||""),this.hasProjected&&!wu(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=eBe(this.projectionDeltaWithTransform,this.treeScale,h);l&&(p=l(h,p)),o.transform=p;const{x:g,y:v}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const C in Um){if(h[C]===void 0)continue;const{correct:S,applyTo:R,isCSSVariable:x}=Um[C],D=p==="none"?h[C]:S(h[C],u);if(R){const T=R.length;for(let k=0;k<T;k++)o[R[k]]=D}else x?this.options.visualElement.renderState.vars[C]=D:o[C]=D}this.options.layoutId&&(o.pointerEvents=u===this?aw(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(dH),this.root.sharedNodes.clear()}}}function iBe(e){e.updateLayout()}function rBe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:r}=e.options,s=t.source!==e.layout.source;r==="size"?Is(h=>{const p=s?t.measuredBox[h]:t.layoutBox[h],g=Sr(p);p.min=n[h].min,p.max=p.min+g}):b7(r,t.layoutBox,n)&&Is(h=>{const p=s?t.measuredBox[h]:t.layoutBox[h],g=Sr(n[h]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const o=Ah();qg(o,n,t.layoutBox);const a=Ah();s?qg(a,e.applyTransform(i,!0),t.measuredBox):qg(a,n,t.layoutBox);const l=!v7(o);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const v=Yn();Kg(v,t.layoutBox,p.layoutBox);const C=Yn();Kg(C,n,g.layoutBox),y7(v,C)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function sBe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oBe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aBe(e){e.clearSnapshot()}function dH(e){e.clearMeasurements()}function hH(e){e.isLayoutDirty=!1}function lBe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fH(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cBe(e){e.resolveTargetDelta()}function uBe(e){e.calcProjection()}function dBe(e){e.resetSkewAndRotation()}function hBe(e){e.removeLeadSnapshot()}function pH(e,t,n){e.translate=On(t.translate,0,n),e.scale=On(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gH(e,t,n,i){e.min=On(t.min,n.min,i),e.max=On(t.max,n.max,i)}function fBe(e,t,n,i){gH(e.x,t.x,n.x,i),gH(e.y,t.y,n.y,i)}function pBe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gBe={duration:.45,ease:[.4,0,.1,1]},mH=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vH=mH("applewebkit/")&&!mH("chrome/")?Math.round:zs;function yH(e){e.min=vH(e.min),e.max=vH(e.max)}function mBe(e){yH(e.x),yH(e.y)}function b7(e,t,n){return e==="position"||e==="preserve-aspect"&&!SVe(cH(t),cH(n),.2)}function vBe(e){return e!==e.root&&e.scroll?.wasRoot}const yBe=w7({attachResizeListener:(e,t)=>Wm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gx={current:void 0},S7=w7({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gx.current){const e=new yBe({});e.mount(window),e.setOptions({layoutScroll:!0}),Gx.current=e}return Gx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CBe={pan:{Feature:NVe},drag:{Feature:LVe,ProjectionNode:S7,MeasureLayout:p7}};function CH(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Fn.postRender(()=>s(t,Dv(t)))}class wBe extends Vc{mount(){const{current:t}=this.node;t&&(this.unmount=$Le(t,(n,i)=>(CH(this.node,i,"Start"),r=>CH(this.node,r,"End"))))}unmount(){}}class bBe extends Vc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rv(Wm(this.node.current,"focus",()=>this.onFocus()),Wm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wH(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Fn.postRender(()=>s(t,Dv(t)))}class SBe extends Vc{mount(){const{current:t}=this.node;t&&(this.unmount=XLe(t,(n,i)=>(wH(this.node,i,"Start"),(r,{success:s})=>wH(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eA=new WeakMap,zx=new WeakMap,EBe=e=>{const t=eA.get(e.target);t&&t(e)},RBe=e=>{e.forEach(EBe)};function xBe({root:e,...t}){const n=e||document;zx.has(n)||zx.set(n,{});const i=zx.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(RBe,{root:e,...t})),i[r]}function TBe(e,t,n){const i=xBe(t);return eA.set(e,n),i.observe(e),()=>{eA.delete(e),i.unobserve(e)}}const DBe={some:0,all:1};class ABe extends Vc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:DBe[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=u?h:p;g&&g(l)};return TBe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(PBe(t,n))&&this.startObserver()}unmount(){}}function PBe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const IBe={inView:{Feature:ABe},tap:{Feature:SBe},focus:{Feature:bBe},hover:{Feature:wBe}},FBe={layout:{ProjectionNode:S7,MeasureLayout:p7}},MBe={...mVe,...IBe,...CBe,...FBe},_Be=MNe(MBe,jNe),kBe=({content:e})=>{const t=["I","You","He/She/It","We","They"],n=e.forms,i=(r,s)=>{switch(s){case"Present Simple":return r==="He/She/It"?n.thirdPersonSingular:n.base;case"Present Continuous":return r==="I"?`am ${n.gerund}`:r==="He/She/It"?`is ${n.gerund}`:`are ${n.gerund}`;case"Past Simple":return n.pastSimple;case"Present Perfect":return r==="He/She/It"?`has ${n.pastParticiple}`:`have ${n.pastParticiple}`;case"Simple Future":return`will ${n.simpleFuture.replace("will","")}`;default:return n.base}};return I.jsxs(_Be.div,{className:"conjugate-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeInOut"},children:[I.jsx("div",{className:"verb-header text-center p-3 mb-3 bg-light rounded",children:I.jsxs("h2",{children:[e.verbSpanish.charAt(0).toUpperCase()+e.verbSpanish.slice(1)," ","/"," ",e.verbEnglish.charAt(0).toUpperCase()+e.verbEnglish.slice(1)]})}),I.jsxs(Mz,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Pronoun"}),I.jsx("th",{children:"Simple Present"}),I.jsx("th",{children:"Present Continuous"}),I.jsx("th",{children:"Simple Past"}),I.jsx("th",{children:"Perfect Present"}),I.jsx("th",{children:"Simple Future"})]})}),I.jsx("tbody",{children:t.map(r=>I.jsxs("tr",{children:[I.jsx("td",{children:r}),I.jsx("td",{children:i(r,"Present Simple")}),I.jsx("td",{children:i(r,"Present Continuous")}),I.jsx("td",{children:i(r,"Past Simple")}),I.jsx("td",{children:i(r,"Present Perfect")}),I.jsx("td",{children:i(r,"Simple Future")})]},r))})]})]})},OBe=({content:e})=>{const{original_text:t,corrections:n}=e,i=o$(),[r,s]=b.useState(null),o=b.useMemo(()=>{const h=[...n].sort((v,C)=>v.position.start-C.position.start),p=[];let g=0;for(const v of h){const C=v.original,S=v.position.start,R=[];let x=g,D;for(;(D=t.indexOf(C,x))>-1;)R.push({start:D,end:D+C.length}),x=D+1;if(R.length===0)continue;const T=R.reduce((k,L)=>{const P=Math.abs(k.start-S);return Math.abs(L.start-S)<P?L:k});p.push({...v,position:{start:T.start,end:T.end}}),g=T.end}return p.sort((v,C)=>v.position.start-C.position.start)},[t,n]),a=h=>{s(p=>p===h?null:h)},l=[];let u=0;return o.forEach((h,p)=>{h.position.start>u&&l.push(I.jsx("span",{children:t.slice(u,h.position.start)},`text-${p}`)),l.push(I.jsxs("span",{className:"correction-group",onClick:i?()=>a(p):void 0,onMouseEnter:i?void 0:()=>s(p),onMouseLeave:i?void 0:()=>s(null),children:[I.jsx("span",{className:"correction-original",children:h.original}),I.jsx("span",{className:"correction-corrected",children:h.corrected}),r===p&&I.jsxs("div",{className:"correction-popup",children:[I.jsxs("div",{className:"explanation-correction",children:[I.jsx("span",{className:"original-word",children:h.original})," "," ",I.jsx("span",{className:"corrected-word",children:h.corrected})]}),h.explanation&&I.jsx("p",{className:"explanation-text",children:h.explanation})]})]},`group-${p}`)),u=h.position.end}),u<t.length&&l.push(I.jsx("span",{children:t.slice(u)},"final-text")),I.jsxs("div",{className:"correction-container",children:[I.jsxs("p",{className:"correction-intro",children:[I.jsx("span",{className:"correction-intro-icon",children:""})," Pasa el mouse (o haz clic en mvil) sobre las correcciones para ver una explicacin detallada."]}),I.jsx("div",{className:"corrected-text-inline",children:l})]})},LBe=({message:e,isLastMessage:t,onRegenerate:n})=>{const[i,r]=b.useState(""),[s,o]=b.useState(!1),a=typeof e.content=="string"?e.content:e.content?.explanation||"";b.useEffect(()=>{if(r(""),o(!1),a){let u=0;const h=setInterval(()=>{r(a.substring(0,u+1)),u++,u>=a.length&&(clearInterval(h),e.content?.examples&&e.content.examples.length>0&&setTimeout(()=>o(!0),500))},20);return()=>clearInterval(h)}},[a,e.content?.examples]),b.useEffect(()=>{console.log(e)},[e]);const l=()=>{switch(e.mode){case"CORRECT":return I.jsx(OBe,{content:e.content});case"CONJUGATE":return I.jsxs(I.Fragment,{children:[I.jsx(kBe,{content:e.content}),I.jsx(SC,{children:i}),s&&I.jsxs("div",{className:"examples-section",children:[I.jsxs("div",{className:"examples-header",children:[I.jsx("span",{className:"examples-icon",children:""}),I.jsx("h4",{children:"Ejemplos de uso:"})]}),I.jsx("div",{className:"examples-grid",children:e.content.examples.map((u,h)=>I.jsxs("div",{className:"example-item",children:[I.jsx("div",{className:"example-number",children:h+1}),I.jsx("div",{className:"example-content",children:I.jsx(SC,{children:u})})]},h))})]})]});default:return I.jsxs(I.Fragment,{children:[I.jsx(SC,{children:i}),s&&I.jsxs("div",{className:"examples-section",children:[I.jsxs("div",{className:"examples-header",children:[I.jsx("span",{className:"examples-icon",children:""}),I.jsx("h4",{children:"Ejemplos de uso:"})]}),I.jsx("div",{className:"examples-grid",children:e.content.examples.map((u,h)=>I.jsxs("div",{className:"example-item",children:[I.jsx("div",{className:"example-number",children:h+1}),I.jsx("div",{className:"example-content",children:I.jsx(SC,{children:u})})]},h))})]})]})}};return I.jsxs("div",{className:"message-container bot-message-container",children:[I.jsx("div",{className:"avatar bot-avatar",children:I.jsx(OA,{size:24})}),I.jsxs("div",{className:"message-content",children:[I.jsx("div",{className:"message-bubble bot-message",children:l()}),t&&I.jsx("button",{className:"regenerate-button",onClick:n,children:I.jsx(eee,{size:16})})]})]})},NBe=({message:e})=>I.jsxs("div",{className:"message-container user-message-container",children:[I.jsx("div",{className:"message-bubble user-message",children:e}),I.jsx("div",{className:"avatar user-avatar",children:I.jsx(Oz,{size:24})})]}),VBe=()=>I.jsx("div",{className:"message-bubble bot-message",children:I.jsx(fc,{animation:"border",size:"sm"})}),BBe=()=>I.jsx("div",{className:"welcome-container",children:I.jsx(pn,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:I.jsxs(pn.Body,{children:[I.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:I.jsx(OA,{size:28})}),I.jsx(pn.Title,{as:"h2",className:"mb-3",children:"Hola! Soy tu Tutor de Ingls Decolonial"}),I.jsx(pn.Text,{className:"text-muted mb-4",children:"Estoy aqu para ayudarte a explorar el ingls desde una perspectiva decolonial. Puedes hacerme preguntas, pedirme que conjugue verbos o que te explique temas gramaticales."}),I.jsx("h5",{className:"mb-3",children:"Aqu tienes algunas ideas:"}),I.jsxs(io,{variant:"flush",children:[I.jsx(io.Item,{children:`"Conjuga el verbo 'walk' en ingls"`}),I.jsx(io.Item,{children:'"Qu es el presente perfecto?"'}),I.jsx(io.Item,{children:`"Explcame el uso de 'will' y 'going to'"`})]})]})})}),HBe=({messages:e,isLoading:t,onRegenerate:n})=>{const i=b.useRef(null);return b.useEffect(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[e,t]),I.jsxs("div",{className:"chat-window",children:[e.length===0&&!t?I.jsx(BBe,{}):e.map((r,s)=>{const o=r.sender==="bot"&&s===e.length-1;return r.sender==="bot"?I.jsx(LBe,{message:r,isLastMessage:o,onRegenerate:n},r.id):I.jsx(NBe,{message:r.content},r.id)}),t&&I.jsx(VBe,{}),I.jsx("div",{ref:i})]})},GBe=()=>{const[e,t]=b.useState(""),[n,i]=b.useState([]),[r,s]=b.useState(!1),o=async u=>{if(u.preventDefault(),!e.trim()||r)return;const h={id:$h(),sender:"user",content:e};i(p=>[...p,h]),t(""),await l(e)},a=async()=>{if(r)return;const u=[...n].reverse().find(h=>h.sender==="user");u&&(i(h=>h.filter(p=>p.id!==n[n.length-1].id)),await l(u.content))},l=async u=>{s(!0);try{const h=await k1e(u),p=await O1e(u,h),g={id:$h(),sender:"bot",content:p.content,mode:p.mode};i(v=>[...v,g])}catch(h){console.error(h);const p={id:$h(),sender:"bot",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",mode:"EXPLAIN"};i(g=>[...g,p])}finally{s(!1)}};return I.jsxs("div",{className:"chat-container",children:[I.jsx("div",{style:{flexGrow:1},children:I.jsx(HBe,{messages:n,isLoading:r,onRegenerate:a})}),I.jsxs("form",{className:"chat-input-form",onSubmit:o,children:[I.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Escribe un mensaje...",disabled:r}),I.jsx("button",{type:"submit",disabled:r||!e.trim(),children:I.jsx(see,{size:18})})]})]})},zBe=QK([{path:"/dashboard",element:I.jsx(MQ,{children:I.jsx(Yle,{})}),children:[{index:!0,element:I.jsx(Ih,{to:"mapa",replace:!0})},{path:"mapa",element:I.jsx(fu,{allowedRoles:[In.STUDENT,In.TEACHER,In.ADMINISTRATOR],children:I.jsx(Hce,{})})},{path:"estudiantes",element:I.jsx(fu,{allowedRoles:[In.TEACHER,In.ADMINISTRATOR],children:I.jsx(Xxe,{})})},{path:"grupos",element:I.jsx(fu,{allowedRoles:[In.TEACHER,In.ADMINISTRATOR],children:I.jsx(E1e,{})})},{path:"chatbot",element:I.jsx(fu,{allowedRoles:[In.STUDENT,In.TEACHER,In.ADMINISTRATOR],children:I.jsx(GBe,{})})},{path:"poster",element:I.jsx(fu,{allowedRoles:[In.STUDENT,In.TEACHER,In.ADMINISTRATOR],children:I.jsx(D1e,{})})},{path:"audio",element:I.jsx(fu,{allowedRoles:[In.STUDENT,In.TEACHER,In.ADMINISTRATOR],children:I.jsx(I1e,{})})},{path:"galeria",element:I.jsx(fu,{allowedRoles:[In.STUDENT,In.TEACHER,In.ADMINISTRATOR],children:I.jsx(F1e,{})})}]},{path:"/",element:I.jsx(Ih,{to:"/dashboard",replace:!0})},{path:"/login",element:I.jsx(R1e,{children:I.jsx(Pce,{})})},{path:"*",element:I.jsx(Ih,{to:"/",replace:!0})}]);ohe.registerModules([N0e]);function UBe(){const[e,t]=b.useState(!0),{setUser:n}=kc();return b.useEffect(()=>{const i=localStorage.getItem("user");i&&n(JSON.parse(i)),t(!1)},[]),e?I.jsx(fc,{animation:"border",className:"d-flex justify-content-center align-items-center"}):I.jsx(cY,{router:zBe})}tq.createRoot(document.getElementById("root")).render(I.jsx(b.StrictMode,{children:I.jsx(UBe,{})}));
