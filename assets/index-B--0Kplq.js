(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function oy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uS={exports:{}},pf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI;function S4(){if(fI)return pf;fI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:s}}return pf.Fragment=t,pf.jsx=n,pf.jsxs=n,pf}var pI;function E4(){return pI||(pI=1,uS.exports=S4()),uS.exports}var N=E4(),dS={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function R4(){if(gI)return bt;gI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function R(z,Q,J){this.props=z,this.context=Q,this.refs=E,this.updater=J||C}R.prototype.isReactComponent={},R.prototype.setState=function(z,Q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Q,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=R.prototype;function D(z,Q,J){this.props=z,this.context=Q,this.refs=E,this.updater=J||C}var A=D.prototype=new x;A.constructor=D,w(A,R.prototype),A.isPureReactComponent=!0;var L=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function _(z,Q,J,X,fe,Re){return J=Re.ref,{$$typeof:e,type:z,key:Q,ref:J!==void 0?J:null,props:Re}}function F(z,Q){return _(z.type,Q,void 0,void 0,void 0,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function O(z){var Q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(J){return Q[J]})}var B=/\/+/g;function U(z,Q){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):Q.toString(36)}function G(){}function de(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(G,G):(z.status="pending",z.then(function(Q){z.status==="pending"&&(z.status="fulfilled",z.value=Q)},function(Q){z.status==="pending"&&(z.status="rejected",z.reason=Q)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function pe(z,Q,J,X,fe){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var Ae=!1;if(z===null)Ae=!0;else switch(Re){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(z.$$typeof){case e:case t:Ae=!0;break;case f:return Ae=z._init,pe(Ae(z._payload),Q,J,X,fe)}}if(Ae)return fe=fe(z),Ae=X===""?"."+U(z,0):X,L(fe)?(J="",Ae!=null&&(J=Ae.replace(B,"$&/")+"/"),pe(fe,Q,J,"",function(Ke){return Ke})):fe!=null&&(k(fe)&&(fe=F(fe,J+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(B,"$&/")+"/")+Ae)),Q.push(fe)),1;Ae=0;var gt=X===""?".":X+":";if(L(z))for(var Ze=0;Ze<z.length;Ze++)X=z[Ze],Re=gt+U(X,Ze),Ae+=pe(X,Q,J,Re,fe);else if(Ze=m(z),typeof Ze=="function")for(z=Ze.call(z),Ze=0;!(X=z.next()).done;)X=X.value,Re=gt+U(X,Ze++),Ae+=pe(X,Q,J,Re,fe);else if(Re==="object"){if(typeof z.then=="function")return pe(de(z),Q,J,X,fe);throw Q=String(z),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function q(z,Q,J){if(z==null)return z;var X=[],fe=0;return pe(z,X,"","",function(Re){return Q.call(J,Re,fe++)}),X}function ne(z){if(z._status===-1){var Q=z._result;Q=Q(),Q.then(function(J){(z._status===0||z._status===-1)&&(z._status=1,z._result=J)},function(J){(z._status===0||z._status===-1)&&(z._status=2,z._result=J)}),z._status===-1&&(z._status=0,z._result=Q)}if(z._status===1)return z._result.default;throw z._result}var re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ge(){}return bt.Children={map:q,forEach:function(z,Q,J){q(z,function(){Q.apply(this,arguments)},J)},count:function(z){var Q=0;return q(z,function(){Q++}),Q},toArray:function(z){return q(z,function(Q){return Q})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},bt.Component=R,bt.Fragment=n,bt.Profiler=r,bt.PureComponent=D,bt.StrictMode=i,bt.Suspense=u,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,bt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return V.H.useMemoCache(z)}},bt.cache=function(z){return function(){return z.apply(null,arguments)}},bt.cloneElement=function(z,Q,J){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var X=w({},z.props),fe=z.key,Re=void 0;if(Q!=null)for(Ae in Q.ref!==void 0&&(Re=void 0),Q.key!==void 0&&(fe=""+Q.key),Q)!I.call(Q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Q.ref===void 0||(X[Ae]=Q[Ae]);var Ae=arguments.length-2;if(Ae===1)X.children=J;else if(1<Ae){for(var gt=Array(Ae),Ze=0;Ze<Ae;Ze++)gt[Ze]=arguments[Ze+2];X.children=gt}return _(z.type,fe,void 0,void 0,Re,X)},bt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},bt.createElement=function(z,Q,J){var X,fe={},Re=null;if(Q!=null)for(X in Q.key!==void 0&&(Re=""+Q.key),Q)I.call(Q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(fe[X]=Q[X]);var Ae=arguments.length-2;if(Ae===1)fe.children=J;else if(1<Ae){for(var gt=Array(Ae),Ze=0;Ze<Ae;Ze++)gt[Ze]=arguments[Ze+2];fe.children=gt}if(z&&z.defaultProps)for(X in Ae=z.defaultProps,Ae)fe[X]===void 0&&(fe[X]=Ae[X]);return _(z,Re,void 0,void 0,null,fe)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(z){return{$$typeof:l,render:z}},bt.isValidElement=k,bt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:ne}},bt.memo=function(z,Q){return{$$typeof:d,type:z,compare:Q===void 0?null:Q}},bt.startTransition=function(z){var Q=V.T,J={};V.T=J;try{var X=z(),fe=V.S;fe!==null&&fe(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ge,re)}catch(Re){re(Re)}finally{V.T=Q}},bt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},bt.use=function(z){return V.H.use(z)},bt.useActionState=function(z,Q,J){return V.H.useActionState(z,Q,J)},bt.useCallback=function(z,Q){return V.H.useCallback(z,Q)},bt.useContext=function(z){return V.H.useContext(z)},bt.useDebugValue=function(){},bt.useDeferredValue=function(z,Q){return V.H.useDeferredValue(z,Q)},bt.useEffect=function(z,Q,J){var X=V.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(z,Q)},bt.useId=function(){return V.H.useId()},bt.useImperativeHandle=function(z,Q,J){return V.H.useImperativeHandle(z,Q,J)},bt.useInsertionEffect=function(z,Q){return V.H.useInsertionEffect(z,Q)},bt.useLayoutEffect=function(z,Q){return V.H.useLayoutEffect(z,Q)},bt.useMemo=function(z,Q){return V.H.useMemo(z,Q)},bt.useOptimistic=function(z,Q){return V.H.useOptimistic(z,Q)},bt.useReducer=function(z,Q,J){return V.H.useReducer(z,Q,J)},bt.useRef=function(z){return V.H.useRef(z)},bt.useState=function(z){return V.H.useState(z)},bt.useSyncExternalStore=function(z,Q,J){return V.H.useSyncExternalStore(z,Q,J)},bt.useTransition=function(){return V.H.useTransition()},bt.version="19.1.1",bt}var mI;function ay(){return mI||(mI=1,dS.exports=R4()),dS.exports}var S=ay();const $=oy(S);var hS={exports:{}},gf={},fS={exports:{}},pS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function T4(){return vI||(vI=1,function(e){function t(q,ne){var re=q.length;q.push(ne);e:for(;0<re;){var ge=re-1>>>1,z=q[ge];if(0<r(z,ne))q[ge]=ne,q[re]=z,re=ge;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var ne=q[0],re=q.pop();if(re!==ne){q[0]=re;e:for(var ge=0,z=q.length,Q=z>>>1;ge<Q;){var J=2*(ge+1)-1,X=q[J],fe=J+1,Re=q[fe];if(0>r(X,re))fe<z&&0>r(Re,X)?(q[ge]=Re,q[fe]=re,ge=fe):(q[ge]=X,q[J]=re,ge=J);else if(fe<z&&0>r(Re,re))q[ge]=Re,q[fe]=re,ge=fe;else break e}}return ne}function r(q,ne){var re=q.sortIndex-ne.sortIndex;return re!==0?re:q.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,p=null,m=3,C=!1,w=!1,E=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function L(q){for(var ne=n(d);ne!==null;){if(ne.callback===null)i(d);else if(ne.startTime<=q)i(d),ne.sortIndex=ne.expirationTime,t(u,ne);else break;ne=n(d)}}function V(q){if(E=!1,L(q),!w)if(n(u)!==null)w=!0,I||(I=!0,U());else{var ne=n(d);ne!==null&&pe(V,ne.startTime-q)}}var I=!1,_=-1,F=5,k=-1;function O(){return R?!0:!(e.unstable_now()-k<F)}function B(){if(R=!1,I){var q=e.unstable_now();k=q;var ne=!0;try{e:{w=!1,E&&(E=!1,D(_),_=-1),C=!0;var re=m;try{t:{for(L(q),p=n(u);p!==null&&!(p.expirationTime>q&&O());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,m=p.priorityLevel;var z=ge(p.expirationTime<=q);if(q=e.unstable_now(),typeof z=="function"){p.callback=z,L(q),ne=!0;break t}p===n(u)&&i(u),L(q)}else i(u);p=n(u)}if(p!==null)ne=!0;else{var Q=n(d);Q!==null&&pe(V,Q.startTime-q),ne=!1}}break e}finally{p=null,m=re,C=!1}ne=void 0}}finally{ne?U():I=!1}}}var U;if(typeof A=="function")U=function(){A(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=B,U=function(){de.postMessage(null)}}else U=function(){x(B,0)};function pe(q,ne){_=x(function(){q(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var re=m;m=ne;try{return q()}finally{m=re}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=m;m=q;try{return ne()}finally{m=re}},e.unstable_scheduleCallback=function(q,ne,re){var ge=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ge+re:ge):re=ge,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=re+z,q={id:f++,callback:ne,priorityLevel:q,startTime:re,expirationTime:z,sortIndex:-1},re>ge?(q.sortIndex=re,t(d,q),n(u)===null&&q===n(d)&&(E?(D(_),_=-1):E=!0,pe(V,re-ge))):(q.sortIndex=z,t(u,q),w||C||(w=!0,I||(I=!0,U()))),q},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(q){var ne=m;return function(){var re=m;m=ne;try{return q.apply(this,arguments)}finally{m=re}}}}(pS)),pS}var CI;function x4(){return CI||(CI=1,fS.exports=T4()),fS.exports}var gS={exports:{}},Ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function D4(){if(yI)return Ri;yI=1;var e=ay();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ri.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,f)},Ri.flushSync=function(u){var d=o.T,f=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=f,i.d.f()}},Ri.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},Ri.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Ri.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:C}):f==="script"&&i.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ri.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},Ri.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);i.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ri.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},Ri.requestFormReset=function(u){i.d.r(u)},Ri.unstable_batchedUpdates=function(u,d){return u(d)},Ri.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},Ri.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ri.version="19.1.1",Ri}var wI;function Fk(){if(wI)return gS.exports;wI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gS.exports=D4(),gS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function A4(){if(bI)return gf;bI=1;var e=x4(),t=ay(),n=Fk();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(s(a)!==a)throw Error(i(188))}function u(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var h=a,g=c;;){var y=h.return;if(y===null)break;var b=y.alternate;if(b===null){if(g=y.return,g!==null){h=g;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===h)return l(y),a;if(b===g)return l(y),c;b=b.sibling}throw Error(i(188))}if(h.return!==g.return)h=y,g=b;else{for(var M=!1,H=y.child;H;){if(H===h){M=!0,h=y,g=b;break}if(H===g){M=!0,g=y,h=b;break}H=H.sibling}if(!M){for(H=b.child;H;){if(H===h){M=!0,h=b,g=y;break}if(H===g){M=!0,g=b,h=y;break}H=H.sibling}if(!M)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:c}function d(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=d(a),c!==null)return c;a=a.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case R:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case I:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case C:return"Portal";case A:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case L:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return c=a.displayName||null,c!==null?c:de(a.type)||"Memo";case F:c=a._payload,a=a._init;try{return de(a(c))}catch{}}return null}var pe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ge=[],z=-1;function Q(a){return{current:a}}function J(a){0>z||(a.current=ge[z],ge[z]=null,z--)}function X(a,c){z++,ge[z]=a.current,a.current=c}var fe=Q(null),Re=Q(null),Ae=Q(null),gt=Q(null);function Ze(a,c){switch(X(Ae,c),X(Re,a),X(fe,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?HP(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=HP(c),a=zP(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(fe),X(fe,a)}function Ke(){J(fe),J(Re),J(Ae)}function rt(a){a.memoizedState!==null&&X(gt,a);var c=fe.current,h=zP(c,a.type);c!==h&&(X(Re,a),X(fe,h))}function ht(a){Re.current===a&&(J(fe),J(Re)),gt.current===a&&(J(gt),cf._currentValue=re)}var ft=Object.prototype.hasOwnProperty,_t=e.unstable_scheduleCallback,Ie=e.unstable_cancelCallback,Me=e.unstable_shouldYield,Qe=e.unstable_requestPaint,Oe=e.unstable_now,Ye=e.unstable_getCurrentPriorityLevel,St=e.unstable_ImmediatePriority,st=e.unstable_UserBlockingPriority,yt=e.unstable_NormalPriority,wt=e.unstable_LowPriority,Ft=e.unstable_IdlePriority,fn=e.log,On=e.unstable_setDisableYieldValue,Le=null,et=null;function ut(a){if(typeof fn=="function"&&On(a),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Le,a)}catch{}}var kt=Math.clz32?Math.clz32:Ds,ga=Math.log,Pr=Math.LN2;function Ds(a){return a>>>=0,a===0?32:31-(ga(a)/Pr|0)|0}var As=256,Ps=4194304;function ar(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yo(a,c,h){var g=a.pendingLanes;if(g===0)return 0;var y=0,b=a.suspendedLanes,M=a.pingedLanes;a=a.warmLanes;var H=g&134217727;return H!==0?(g=H&~b,g!==0?y=ar(g):(M&=H,M!==0?y=ar(M):h||(h=H&~a,h!==0&&(y=ar(h))))):(H=g&~b,H!==0?y=ar(H):M!==0?y=ar(M):h||(h=g&~a,h!==0&&(y=ar(h)))),y===0?0:c!==0&&c!==y&&(c&b)===0&&(b=y&-y,h=c&-c,b>=h||b===32&&(h&4194048)!==0)?c:y}function Ir(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function ma(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var a=As;return As<<=1,(As&4194048)===0&&(As=256),a}function Ol(){var a=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),a}function Fr(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function us(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function va(a,c,h,g,y,b){var M=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var H=a.entanglements,j=a.expirationTimes,se=a.hiddenUpdates;for(h=M&~h;0<h;){var me=31-kt(h),ye=1<<me;H[me]=0,j[me]=-1;var le=se[me];if(le!==null)for(se[me]=null,me=0;me<le.length;me++){var ce=le[me];ce!==null&&(ce.lane&=-536870913)}h&=~ye}g!==0&&Oi(a,g,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(M&~c))}function Oi(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var g=31-kt(c);a.entangledLanes|=c,a.entanglements[g]=a.entanglements[g]|1073741824|h&4194090}function Is(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var g=31-kt(h),y=1<<g;y&c|a[g]&c&&(a[g]|=c),h&=~y}}function Fs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ca(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function K(){var a=ne.p;return a!==0?a:(a=window.event,a===void 0?32:aI(a.type))}function ee(a,c){var h=ne.p;try{return ne.p=a,c()}finally{ne.p=h}}var oe=Math.random().toString(36).slice(2),we="__reactFiber$"+oe,Ee="__reactProps$"+oe,_e="__reactContainer$"+oe,ze="__reactEvents$"+oe,Ve="__reactListeners$"+oe,Be="__reactHandles$"+oe,Je="__reactResources$"+oe,Ge="__reactMarker$"+oe;function He(a){delete a[we],delete a[Ee],delete a[ze],delete a[Ve],delete a[Be]}function Ct(a){var c=a[we];if(c)return c;for(var h=a.parentNode;h;){if(c=h[_e]||h[we]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=$P(a);a!==null;){if(h=a[we])return h;a=$P(a)}return c}a=h,h=a.parentNode}return null}function Gt(a){if(a=a[we]||a[_e]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function ln(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function zt(a){var c=a[Je];return c||(c=a[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function mt(a){a[Ge]=!0}var Ut=new Set,Ki={};function li(a,c){Qn(a,c),Qn(a+"Capture",c)}function Qn(a,c){for(Ki[a]=c,a=0;a<c.length;a++)Ut.add(c[a])}var Li=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ya={},lr={};function Mr(a){return ft.call(lr,a)?!0:ft.call(ya,a)?!1:Li.test(a)?lr[a]=!0:(ya[a]=!0,!1)}function cr(a,c,h){if(Mr(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function Ni(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function dt(a,c,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+g)}}var vn,bo;function Vi(a){if(vn===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);vn=c&&c[1]||"",bo=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vn+a+bo}var un=!1;function ds(a,c){if(!a||un)return"";un=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ce){var le=ce}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(ce){le=ce}a.call(ye.prototype)}}else{try{throw Error()}catch(ce){le=ce}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ce){if(ce&&le&&typeof ce.stack=="string")return[ce.stack,le.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=g.DetermineComponentFrameRoot(),M=b[0],H=b[1];if(M&&H){var j=M.split(`
`),se=H.split(`
`);for(y=g=0;g<j.length&&!j[g].includes("DetermineComponentFrameRoot");)g++;for(;y<se.length&&!se[y].includes("DetermineComponentFrameRoot");)y++;if(g===j.length||y===se.length)for(g=j.length-1,y=se.length-1;1<=g&&0<=y&&j[g]!==se[y];)y--;for(;1<=g&&0<=y;g--,y--)if(j[g]!==se[y]){if(g!==1||y!==1)do if(g--,y--,0>y||j[g]!==se[y]){var me=`
`+j[g].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=g&&0<=y);break}}}finally{un=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Vi(h):""}function wa(a){switch(a.tag){case 26:case 27:case 5:return Vi(a.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return ds(a.type,!1);case 11:return ds(a.type.render,!1);case 1:return ds(a.type,!0);case 31:return Vi("Activity");default:return""}}function ba(a){try{var c="";do c+=wa(a),a=a.return;while(a);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Bi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function mh(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function pw(a){var c=mh(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),g=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return y.call(this)},set:function(M){g=""+M,b.call(this,M)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function uu(a){a._valueTracker||(a._valueTracker=pw(a))}function vh(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return a&&(g=mh(a)?a.checked?"true":"false":a.value),a=g,a!==h?(c.setValue(a),!0):!1}function Ll(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var gw=/[\n"\\]/g;function Ln(a){return a.replace(gw,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function ur(a,c,h,g,y,b,M,H){a.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.type=M:a.removeAttribute("type"),c!=null?M==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Bi(c)):a.value!==""+Bi(c)&&(a.value=""+Bi(c)):M!=="submit"&&M!=="reset"||a.removeAttribute("value"),c!=null?Sa(a,M,Bi(c)):h!=null?Sa(a,M,Bi(h)):g!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+Bi(H):a.removeAttribute("name")}function Nl(a,c,h,g,y,b,M,H){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),c!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||c!=null))return;h=h!=null?""+Bi(h):"",c=c!=null?""+Bi(c):h,H||c===a.value||(a.value=c),a.defaultValue=c}g=g??y,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=H?a.checked:!!g,a.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.name=M)}function Sa(a,c,h){c==="number"&&Ll(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function So(a,c,h,g){if(a=a.options,c){c={};for(var y=0;y<h.length;y++)c["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=c.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Bi(h),c=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}c!==null||a[y].disabled||(c=a[y])}c!==null&&(c.selected=!0)}}function nn(a,c,h){if(c!=null&&(c=""+Bi(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+Bi(h):""}function Vl(a,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(i(92));if(pe(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Bi(c),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g)}function _r(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var Bl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xg(a,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":g?a.setProperty(c,h):typeof h!="number"||h===0||Bl.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function Ch(a,c,h){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var y in c)g=c[y],c.hasOwnProperty(y)&&h[y]!==g&&xg(a,y,g)}else for(var b in c)c.hasOwnProperty(b)&&xg(a,b,c[b])}function yh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function du(a){return vw.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Eo=null;function kr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ro=null,To=null;function wh(a){var c=Gt(a);if(c&&(a=c.stateNode)){var h=a[Ee]||null;e:switch(a=c.stateNode,c.type){case"input":if(ur(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ln(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==a&&g.form===a.form){var y=g[Ee]||null;if(!y)throw Error(i(90));ur(g,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===a.form&&vh(g)}break e;case"textarea":nn(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&So(a,!!h.multiple,c,!1)}}}var Ms=!1;function Dg(a,c,h){if(Ms)return a(c,h);Ms=!0;try{var g=a(c);return g}finally{if(Ms=!1,(Ro!==null||To!==null)&&(wm(),Ro&&(c=Ro,a=To,To=Ro=null,wh(c),a)))for(c=0;c<a.length;c++)wh(a[c])}}function Gl(a,c){var h=a.stateNode;if(h===null)return null;var g=h[Ee]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,c,typeof h));return h}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(hs)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Or=!1}var _s=null,Ea=null,xo=null;function bh(){if(xo)return xo;var a,c=Ea,h=c.length,g,y="value"in _s?_s.value:_s.textContent,b=y.length;for(a=0;a<h&&c[a]===y[a];a++);var M=h-a;for(g=1;g<=M&&c[h-g]===y[b-g];g++);return xo=y.slice(a,1<g?1-g:void 0)}function ks(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Os(){return!0}function Sh(){return!1}function Xn(a){function c(h,g,y,b,M){this._reactName=h,this._targetInst=y,this.type=g,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(h=a[H],this[H]=h?h(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Os:Sh,this.isPropagationStopped=Sh,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),c}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=Xn(qt),zl=f({},qt,{view:0,detail:0}),Ag=Xn(zl),fu,pu,Ls,Ul=f({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ls&&(Ls&&a.type==="mousemove"?(fu=a.screenX-Ls.screenX,pu=a.screenY-Ls.screenY):pu=fu=0,Ls=a),fu)},movementY:function(a){return"movementY"in a?a.movementY:pu}}),Lr=Xn(Ul),Pg=f({},Ul,{dataTransfer:0}),Cw=Xn(Pg),Wl=f({},zl,{relatedTarget:0}),gu=Xn(Wl),Eh=f({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Xn(Eh),Ig=f({},qt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vu=Xn(Ig),yw=f({},qt,{data:0}),Rh=Xn(yw),jl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Mg[a])?!!c[a]:!1}function $l(){return Th}var _g=f({},zl,{key:function(a){if(a.key){var c=jl[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ks(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Fg[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(a){return a.type==="keypress"?ks(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ks(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Cu=Xn(_g),kg=f({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=Xn(kg),Do=f({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Og=Xn(Do),Lg=f({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ng=Xn(Lg),Vg=f({},Ul,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),yu=Xn(Vg),Gi=f({},qt,{newState:0,oldState:0}),Bg=Xn(Gi),Gg=[9,13,27,32],Ns=hs&&"CompositionEvent"in window,v=null;hs&&"documentMode"in document&&(v=document.documentMode);var T=hs&&"TextEvent"in window&&!v,P=hs&&(!Ns||v&&8<v&&11>=v),W=" ",te=!1;function he(a,c){switch(a){case"keyup":return Gg.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ot=!1;function Wn(a,c){switch(a){case"compositionend":return xe(c);case"keypress":return c.which!==32?null:(te=!0,W);case"textInput":return a=c.data,a===W&&te?null:a;default:return null}}function Lt(a,c){if(Ot)return a==="compositionend"||!Ns&&he(a,c)?(a=bh(),xo=Ea=_s=null,Ot=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return P&&c.locale!=="ko"?null:c.data;default:return null}}var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Zn[a.type]:c==="textarea"}function Ao(a,c,h,g){Ro?To?To.push(g):To=[g]:Ro=g,c=xm(c,"onChange"),0<c.length&&(h=new hu("onChange","change",null,h,g),a.push({event:h,listeners:c}))}var ci=null,Vs=null;function Dh(a){LP(a,0)}function Hg(a){var c=ln(a);if(vh(c))return a}function iD(a,c){if(a==="change")return c}var rD=!1;if(hs){var ww;if(hs){var bw="oninput"in document;if(!bw){var sD=document.createElement("div");sD.setAttribute("oninput","return;"),bw=typeof sD.oninput=="function"}ww=bw}else ww=!1;rD=ww&&(!document.documentMode||9<document.documentMode)}function oD(){ci&&(ci.detachEvent("onpropertychange",aD),Vs=ci=null)}function aD(a){if(a.propertyName==="value"&&Hg(Vs)){var c=[];Ao(c,Vs,a,kr(a)),Dg(Dh,c)}}function Zz(a,c,h){a==="focusin"?(oD(),ci=c,Vs=h,ci.attachEvent("onpropertychange",aD)):a==="focusout"&&oD()}function Jz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hg(Vs)}function eU(a,c){if(a==="click")return Hg(c)}function tU(a,c){if(a==="input"||a==="change")return Hg(c)}function nU(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var dr=typeof Object.is=="function"?Object.is:nU;function Ah(a,c){if(dr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var y=h[g];if(!ft.call(c,y)||!dr(a[y],c[y]))return!1}return!0}function lD(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cD(a,c){var h=lD(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=c&&g>=c)return{node:h,offset:c-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=lD(h)}}function uD(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?uD(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function dD(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Ll(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Ll(a.document)}return c}function Sw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var iU=hs&&"documentMode"in document&&11>=document.documentMode,wu=null,Ew=null,Ph=null,Rw=!1;function hD(a,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Rw||wu==null||wu!==Ll(g)||(g=wu,"selectionStart"in g&&Sw(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ph&&Ah(Ph,g)||(Ph=g,g=xm(Ew,"onSelect"),0<g.length&&(c=new hu("onSelect","select",null,c,h),a.push({event:c,listeners:g}),c.target=wu)))}function ql(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var bu={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},Tw={},fD={};hs&&(fD=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function Kl(a){if(Tw[a])return Tw[a];if(!bu[a])return a;var c=bu[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in fD)return Tw[a]=c[h];return a}var pD=Kl("animationend"),gD=Kl("animationiteration"),mD=Kl("animationstart"),rU=Kl("transitionrun"),sU=Kl("transitionstart"),oU=Kl("transitioncancel"),vD=Kl("transitionend"),CD=new Map,xw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xw.push("scrollEnd");function fs(a,c){CD.set(a,c),li(c,[a])}var yD=new WeakMap;function Nr(a,c){if(typeof a=="object"&&a!==null){var h=yD.get(a);return h!==void 0?h:(c={value:a,source:c,stack:ba(c)},yD.set(a,c),c)}return{value:a,source:c,stack:ba(c)}}var Vr=[],Su=0,Dw=0;function zg(){for(var a=Su,c=Dw=Su=0;c<a;){var h=Vr[c];Vr[c++]=null;var g=Vr[c];Vr[c++]=null;var y=Vr[c];Vr[c++]=null;var b=Vr[c];if(Vr[c++]=null,g!==null&&y!==null){var M=g.pending;M===null?y.next=y:(y.next=M.next,M.next=y),g.pending=y}b!==0&&wD(h,y,b)}}function Ug(a,c,h,g){Vr[Su++]=a,Vr[Su++]=c,Vr[Su++]=h,Vr[Su++]=g,Dw|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Aw(a,c,h,g){return Ug(a,c,h,g),Wg(a)}function Eu(a,c){return Ug(a,null,null,c),Wg(a)}function wD(a,c,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var y=!1,b=a.return;b!==null;)b.childLanes|=h,g=b.alternate,g!==null&&(g.childLanes|=h),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&c!==null&&(y=31-kt(h),a=b.hiddenUpdates,g=a[y],g===null?a[y]=[c]:g.push(c),c.lane=h|536870912),b):null}function Wg(a){if(50<ef)throw ef=0,kb=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Ru={};function aU(a,c,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(a,c,h,g){return new aU(a,c,h,g)}function Pw(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Po(a,c){var h=a.alternate;return h===null?(h=hr(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function bD(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function jg(a,c,h,g,y,b){var M=0;if(g=a,typeof a=="function")Pw(a)&&(M=1);else if(typeof a=="string")M=c4(a,h,fe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=hr(31,h,c,y),a.elementType=k,a.lanes=b,a;case w:return Yl(h.children,y,b,c);case E:M=8,y|=24;break;case R:return a=hr(12,h,c,y|2),a.elementType=R,a.lanes=b,a;case V:return a=hr(13,h,c,y),a.elementType=V,a.lanes=b,a;case I:return a=hr(19,h,c,y),a.elementType=I,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case x:case A:M=10;break e;case D:M=9;break e;case L:M=11;break e;case _:M=14;break e;case F:M=16,g=null;break e}M=29,h=Error(i(130,a===null?"null":typeof a,"")),g=null}return c=hr(M,h,c,y),c.elementType=a,c.type=g,c.lanes=b,c}function Yl(a,c,h,g){return a=hr(7,a,g,c),a.lanes=h,a}function Iw(a,c,h){return a=hr(6,a,null,c),a.lanes=h,a}function Fw(a,c,h){return c=hr(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Tu=[],xu=0,$g=null,qg=0,Br=[],Gr=0,Ql=null,Io=1,Fo="";function Xl(a,c){Tu[xu++]=qg,Tu[xu++]=$g,$g=a,qg=c}function SD(a,c,h){Br[Gr++]=Io,Br[Gr++]=Fo,Br[Gr++]=Ql,Ql=a;var g=Io;a=Fo;var y=32-kt(g)-1;g&=~(1<<y),h+=1;var b=32-kt(c)+y;if(30<b){var M=y-y%5;b=(g&(1<<M)-1).toString(32),g>>=M,y-=M,Io=1<<32-kt(c)+y|h<<y|g,Fo=b+a}else Io=1<<b|h<<y|g,Fo=a}function Mw(a){a.return!==null&&(Xl(a,1),SD(a,1,0))}function _w(a){for(;a===$g;)$g=Tu[--xu],Tu[xu]=null,qg=Tu[--xu],Tu[xu]=null;for(;a===Ql;)Ql=Br[--Gr],Br[Gr]=null,Fo=Br[--Gr],Br[Gr]=null,Io=Br[--Gr],Br[Gr]=null}var Hi=null,En=null,Wt=!1,Zl=null,Bs=!1,kw=Error(i(519));function Jl(a){var c=Error(i(418,""));throw Mh(Nr(c,a)),kw}function ED(a){var c=a.stateNode,h=a.type,g=a.memoizedProps;switch(c[we]=a,c[Ee]=g,h){case"dialog":Dt("cancel",c),Dt("close",c);break;case"iframe":case"object":case"embed":Dt("load",c);break;case"video":case"audio":for(h=0;h<nf.length;h++)Dt(nf[h],c);break;case"source":Dt("error",c);break;case"img":case"image":case"link":Dt("error",c),Dt("load",c);break;case"details":Dt("toggle",c);break;case"input":Dt("invalid",c),Nl(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),uu(c);break;case"select":Dt("invalid",c);break;case"textarea":Dt("invalid",c),Vl(c,g.value,g.defaultValue,g.children),uu(c)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||GP(c.textContent,h)?(g.popover!=null&&(Dt("beforetoggle",c),Dt("toggle",c)),g.onScroll!=null&&Dt("scroll",c),g.onScrollEnd!=null&&Dt("scrollend",c),g.onClick!=null&&(c.onclick=Dm),c=!0):c=!1,c||Jl(a)}function RD(a){for(Hi=a.return;Hi;)switch(Hi.tag){case 5:case 13:Bs=!1;return;case 27:case 3:Bs=!0;return;default:Hi=Hi.return}}function Ih(a){if(a!==Hi)return!1;if(!Wt)return RD(a),Wt=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Qb(a.type,a.memoizedProps)),h=!h),h&&En&&Jl(a),RD(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(c===0){En=gs(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;a=a.nextSibling}En=null}}else c===27?(c=En,Ba(a.type)?(a=eS,eS=null,En=a):En=c):En=Hi?gs(a.stateNode.nextSibling):null;return!0}function Fh(){En=Hi=null,Wt=!1}function TD(){var a=Zl;return a!==null&&(Xi===null?Xi=a:Xi.push.apply(Xi,a),Zl=null),a}function Mh(a){Zl===null?Zl=[a]:Zl.push(a)}var Ow=Q(null),ec=null,Mo=null;function Ra(a,c,h){X(Ow,c._currentValue),c._currentValue=h}function _o(a){a._currentValue=Ow.current,J(Ow)}function Lw(a,c,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===h)break;a=a.return}}function Nw(a,c,h,g){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var M=y.child;b=b.firstContext;e:for(;b!==null;){var H=b;b=y;for(var j=0;j<c.length;j++)if(H.context===c[j]){b.lanes|=h,H=b.alternate,H!==null&&(H.lanes|=h),Lw(b.return,h,a),g||(M=null);break e}b=H.next}}else if(y.tag===18){if(M=y.return,M===null)throw Error(i(341));M.lanes|=h,b=M.alternate,b!==null&&(b.lanes|=h),Lw(M,h,a),M=null}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===a){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}}function _h(a,c,h,g){a=null;for(var y=c,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var M=y.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var H=y.type;dr(y.pendingProps.value,M.value)||(a!==null?a.push(H):a=[H])}}else if(y===gt.current){if(M=y.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(cf):a=[cf])}y=y.return}a!==null&&Nw(c,a,h,g),c.flags|=262144}function Kg(a){for(a=a.firstContext;a!==null;){if(!dr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function tc(a){ec=a,Mo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ei(a){return xD(ec,a)}function Yg(a,c){return ec===null&&tc(a),xD(a,c)}function xD(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Mo===null){if(a===null)throw Error(i(308));Mo=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Mo=Mo.next=c;return h}var lU=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},cU=e.unstable_scheduleCallback,uU=e.unstable_NormalPriority,$n={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vw(){return{controller:new lU,data:new Map,refCount:0}}function kh(a){a.refCount--,a.refCount===0&&cU(uU,function(){a.controller.abort()})}var Oh=null,Bw=0,Du=0,Au=null;function dU(a,c){if(Oh===null){var h=Oh=[];Bw=0,Du=Hb(),Au={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Bw++,c.then(DD,DD),c}function DD(){if(--Bw===0&&Oh!==null){Au!==null&&(Au.status="fulfilled");var a=Oh;Oh=null,Du=0,Au=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function hU(a,c){var h=[],g={status:"pending",value:null,reason:null,then:function(y){h.push(y)}};return a.then(function(){g.status="fulfilled",g.value=c;for(var y=0;y<h.length;y++)(0,h[y])(c)},function(y){for(g.status="rejected",g.reason=y,y=0;y<h.length;y++)(0,h[y])(void 0)}),g}var AD=q.S;q.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&dU(a,c),AD!==null&&AD(a,c)};var nc=Q(null);function Gw(){var a=nc.current;return a!==null?a:dn.pooledCache}function Qg(a,c){c===null?X(nc,nc.current):X(nc,c.pool)}function PD(){var a=Gw();return a===null?null:{parent:$n._currentValue,pool:a}}var Lh=Error(i(460)),ID=Error(i(474)),Xg=Error(i(542)),Hw={then:function(){}};function FD(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Zg(){}function MD(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(Zg,Zg),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,kD(a),a;default:if(typeof c.status=="string")c.then(Zg,Zg);else{if(a=dn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(g){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=g}},function(g){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,kD(a),a}throw Nh=c,Lh}}var Nh=null;function _D(){if(Nh===null)throw Error(i(459));var a=Nh;return Nh=null,a}function kD(a){if(a===Lh||a===Xg)throw Error(i(483))}var Ta=!1;function zw(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uw(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Da(a,c,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(en&2)!==0){var y=g.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),g.pending=c,c=Wg(a),wD(a,null,h),c}return Ug(a,g,c,h),Wg(a)}function Vh(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,Is(a,h)}}function Ww(a,c){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var y=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?y=b=M:b=b.next=M,h=h.next}while(h!==null);b===null?y=b=c:b=b.next=c}else y=b=c;h={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var jw=!1;function Bh(){if(jw){var a=Au;if(a!==null)throw a}}function Gh(a,c,h,g){jw=!1;var y=a.updateQueue;Ta=!1;var b=y.firstBaseUpdate,M=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var j=H,se=j.next;j.next=null,M===null?b=se:M.next=se,M=j;var me=a.alternate;me!==null&&(me=me.updateQueue,H=me.lastBaseUpdate,H!==M&&(H===null?me.firstBaseUpdate=se:H.next=se,me.lastBaseUpdate=j))}if(b!==null){var ye=y.baseState;M=0,me=se=j=null,H=b;do{var le=H.lane&-536870913,ce=le!==H.lane;if(ce?(Nt&le)===le:(g&le)===le){le!==0&&le===Du&&(jw=!0),me!==null&&(me=me.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ct=a,tt=H;le=c;var on=h;switch(tt.tag){case 1:if(ct=tt.payload,typeof ct=="function"){ye=ct.call(on,ye,le);break e}ye=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=tt.payload,le=typeof ct=="function"?ct.call(on,ye,le):ct,le==null)break e;ye=f({},ye,le);break e;case 2:Ta=!0}}le=H.callback,le!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[le]:ce.push(le))}else ce={lane:le,tag:H.tag,payload:H.payload,callback:H.callback,next:null},me===null?(se=me=ce,j=ye):me=me.next=ce,M|=le;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;ce=H,H=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);me===null&&(j=ye),y.baseState=j,y.firstBaseUpdate=se,y.lastBaseUpdate=me,b===null&&(y.shared.lanes=0),Oa|=M,a.lanes=M,a.memoizedState=ye}}function OD(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function LD(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)OD(h[a],c)}var Pu=Q(null),Jg=Q(0);function ND(a,c){a=Go,X(Jg,a),X(Pu,c),Go=a|c.baseLanes}function $w(){X(Jg,Go),X(Pu,Pu.current)}function qw(){Go=Jg.current,J(Pu),J(Jg)}var Aa=0,Et=null,rn=null,Nn=null,em=!1,Iu=!1,ic=!1,tm=0,Hh=0,Fu=null,fU=0;function Dn(){throw Error(i(321))}function Kw(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!dr(a[h],c[h]))return!1;return!0}function Yw(a,c,h,g,y,b){return Aa=b,Et=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,q.H=a===null||a.memoizedState===null?wA:bA,ic=!1,b=h(g,y),ic=!1,Iu&&(b=BD(c,h,g,y)),VD(a),b}function VD(a){q.H=am;var c=rn!==null&&rn.next!==null;if(Aa=0,Nn=rn=Et=null,em=!1,Hh=0,Fu=null,c)throw Error(i(300));a===null||Jn||(a=a.dependencies,a!==null&&Kg(a)&&(Jn=!0))}function BD(a,c,h,g){Et=a;var y=0;do{if(Iu&&(Fu=null),Hh=0,Iu=!1,25<=y)throw Error(i(301));if(y+=1,Nn=rn=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=wU,b=c(h,g)}while(Iu);return b}function pU(){var a=q.H,c=a.useState()[0];return c=typeof c.then=="function"?zh(c):c,a=a.useState()[0],(rn!==null?rn.memoizedState:null)!==a&&(Et.flags|=1024),c}function Qw(){var a=tm!==0;return tm=0,a}function Xw(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function Zw(a){if(em){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}em=!1}Aa=0,Nn=rn=Et=null,Iu=!1,Hh=tm=0,Fu=null}function Yi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Et.memoizedState=Nn=a:Nn=Nn.next=a,Nn}function Vn(){if(rn===null){var a=Et.alternate;a=a!==null?a.memoizedState:null}else a=rn.next;var c=Nn===null?Et.memoizedState:Nn.next;if(c!==null)Nn=c,rn=a;else{if(a===null)throw Et.alternate===null?Error(i(467)):Error(i(310));rn=a,a={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},Nn===null?Et.memoizedState=Nn=a:Nn=Nn.next=a}return Nn}function Jw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zh(a){var c=Hh;return Hh+=1,Fu===null&&(Fu=[]),a=MD(Fu,a,c),c=Et,(Nn===null?c.memoizedState:Nn.next)===null&&(c=c.alternate,q.H=c===null||c.memoizedState===null?wA:bA),a}function nm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return zh(a);if(a.$$typeof===A)return Ei(a)}throw Error(i(438,String(a)))}function eb(a){var c=null,h=Et.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Et.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Jw(),Et.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),g=0;g<a;g++)h[g]=O;return c.index++,h}function ko(a,c){return typeof c=="function"?c(a):c}function im(a){var c=Vn();return tb(c,rn,a)}function tb(a,c,h){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var y=a.baseQueue,b=g.pending;if(b!==null){if(y!==null){var M=y.next;y.next=b.next,b.next=M}c.baseQueue=y=b,g.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{c=y.next;var H=M=null,j=null,se=c,me=!1;do{var ye=se.lane&-536870913;if(ye!==se.lane?(Nt&ye)===ye:(Aa&ye)===ye){var le=se.revertLane;if(le===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ye===Du&&(me=!0);else if((Aa&le)===le){se=se.next,le===Du&&(me=!0);continue}else ye={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},j===null?(H=j=ye,M=b):j=j.next=ye,Et.lanes|=le,Oa|=le;ye=se.action,ic&&h(b,ye),b=se.hasEagerState?se.eagerState:h(b,ye)}else le={lane:ye,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},j===null?(H=j=le,M=b):j=j.next=le,Et.lanes|=ye,Oa|=ye;se=se.next}while(se!==null&&se!==c);if(j===null?M=b:j.next=H,!dr(b,a.memoizedState)&&(Jn=!0,me&&(h=Au,h!==null)))throw h;a.memoizedState=b,a.baseState=M,a.baseQueue=j,g.lastRenderedState=b}return y===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function nb(a){var c=Vn(),h=c.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var g=h.dispatch,y=h.pending,b=c.memoizedState;if(y!==null){h.pending=null;var M=y=y.next;do b=a(b,M.action),M=M.next;while(M!==y);dr(b,c.memoizedState)||(Jn=!0),c.memoizedState=b,c.baseQueue===null&&(c.baseState=b),h.lastRenderedState=b}return[b,g]}function GD(a,c,h){var g=Et,y=Vn(),b=Wt;if(b){if(h===void 0)throw Error(i(407));h=h()}else h=c();var M=!dr((rn||y).memoizedState,h);M&&(y.memoizedState=h,Jn=!0),y=y.queue;var H=UD.bind(null,g,y,a);if(Uh(2048,8,H,[a]),y.getSnapshot!==c||M||Nn!==null&&Nn.memoizedState.tag&1){if(g.flags|=2048,Mu(9,rm(),zD.bind(null,g,y,h,c),null),dn===null)throw Error(i(349));b||(Aa&124)!==0||HD(g,c,h)}return h}function HD(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Et.updateQueue,c===null?(c=Jw(),Et.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function zD(a,c,h,g){c.value=h,c.getSnapshot=g,WD(c)&&jD(a)}function UD(a,c,h){return h(function(){WD(c)&&jD(a)})}function WD(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!dr(a,h)}catch{return!0}}function jD(a){var c=Eu(a,2);c!==null&&vr(c,a,2)}function ib(a){var c=Yi();if(typeof a=="function"){var h=a;if(a=h(),ic){ut(!0);try{h()}finally{ut(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:a},c}function $D(a,c,h,g){return a.baseState=h,tb(a,rn,typeof g=="function"?g:ko)}function gU(a,c,h,g,y){if(om(a))throw Error(i(485));if(a=c.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};q.T!==null?h(!0):b.isTransition=!1,g(b),h=c.pending,h===null?(b.next=c.pending=b,qD(c,b)):(b.next=h.next,c.pending=h.next=b)}}function qD(a,c){var h=c.action,g=c.payload,y=a.state;if(c.isTransition){var b=q.T,M={};q.T=M;try{var H=h(y,g),j=q.S;j!==null&&j(M,H),KD(a,c,H)}catch(se){rb(a,c,se)}finally{q.T=b}}else try{b=h(y,g),KD(a,c,b)}catch(se){rb(a,c,se)}}function KD(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){YD(a,c,g)},function(g){return rb(a,c,g)}):YD(a,c,h)}function YD(a,c,h){c.status="fulfilled",c.value=h,QD(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,qD(a,h)))}function rb(a,c,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,QD(c),c=c.next;while(c!==g)}a.action=null}function QD(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function XD(a,c){return c}function ZD(a,c){if(Wt){var h=dn.formState;if(h!==null){e:{var g=Et;if(Wt){if(En){t:{for(var y=En,b=Bs;y.nodeType!==8;){if(!b){y=null;break t}if(y=gs(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){En=gs(y.nextSibling),g=y.data==="F!";break e}}Jl(g)}g=!1}g&&(c=h[0])}}return h=Yi(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XD,lastRenderedState:c},h.queue=g,h=vA.bind(null,Et,g),g.dispatch=h,g=ib(!1),b=cb.bind(null,Et,!1,g.queue),g=Yi(),y={state:c,dispatch:null,action:a,pending:null},g.queue=y,h=gU.bind(null,Et,y,b,h),y.dispatch=h,g.memoizedState=a,[c,h,!1]}function JD(a){var c=Vn();return eA(c,rn,a)}function eA(a,c,h){if(c=tb(a,c,XD)[0],a=im(ko)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=zh(c)}catch(M){throw M===Lh?Xg:M}else g=c;c=Vn();var y=c.queue,b=y.dispatch;return h!==c.memoizedState&&(Et.flags|=2048,Mu(9,rm(),mU.bind(null,y,h),null)),[g,b,a]}function mU(a,c){a.action=c}function tA(a){var c=Vn(),h=rn;if(h!==null)return eA(c,h,a);Vn(),c=c.memoizedState,h=Vn();var g=h.queue.dispatch;return h.memoizedState=a,[c,g,!1]}function Mu(a,c,h,g){return a={tag:a,create:h,deps:g,inst:c,next:null},c=Et.updateQueue,c===null&&(c=Jw(),Et.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,c.lastEffect=a),a}function rm(){return{destroy:void 0,resource:void 0}}function nA(){return Vn().memoizedState}function sm(a,c,h,g){var y=Yi();g=g===void 0?null:g,Et.flags|=a,y.memoizedState=Mu(1|c,rm(),h,g)}function Uh(a,c,h,g){var y=Vn();g=g===void 0?null:g;var b=y.memoizedState.inst;rn!==null&&g!==null&&Kw(g,rn.memoizedState.deps)?y.memoizedState=Mu(c,b,h,g):(Et.flags|=a,y.memoizedState=Mu(1|c,b,h,g))}function iA(a,c){sm(8390656,8,a,c)}function rA(a,c){Uh(2048,8,a,c)}function sA(a,c){return Uh(4,2,a,c)}function oA(a,c){return Uh(4,4,a,c)}function aA(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function lA(a,c,h){h=h!=null?h.concat([a]):null,Uh(4,4,aA.bind(null,c,a),h)}function sb(){}function cA(a,c){var h=Vn();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Kw(c,g[1])?g[0]:(h.memoizedState=[a,c],a)}function uA(a,c){var h=Vn();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Kw(c,g[1]))return g[0];if(g=a(),ic){ut(!0);try{a()}finally{ut(!1)}}return h.memoizedState=[g,c],g}function ob(a,c,h){return h===void 0||(Aa&1073741824)!==0?a.memoizedState=c:(a.memoizedState=h,a=fP(),Et.lanes|=a,Oa|=a,h)}function dA(a,c,h,g){return dr(h,c)?h:Pu.current!==null?(a=ob(a,h,g),dr(a,c)||(Jn=!0),a):(Aa&42)===0?(Jn=!0,a.memoizedState=h):(a=fP(),Et.lanes|=a,Oa|=a,c)}function hA(a,c,h,g,y){var b=ne.p;ne.p=b!==0&&8>b?b:8;var M=q.T,H={};q.T=H,cb(a,!1,c,h);try{var j=y(),se=q.S;if(se!==null&&se(H,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var me=hU(j,g);Wh(a,c,me,mr(a))}else Wh(a,c,g,mr(a))}catch(ye){Wh(a,c,{then:function(){},status:"rejected",reason:ye},mr())}finally{ne.p=b,q.T=M}}function vU(){}function ab(a,c,h,g){if(a.tag!==5)throw Error(i(476));var y=fA(a).queue;hA(a,y,c,re,h===null?vU:function(){return pA(a),h(g)})}function fA(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:re},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function pA(a){var c=fA(a).next.queue;Wh(a,c,{},mr())}function lb(){return Ei(cf)}function gA(){return Vn().memoizedState}function mA(){return Vn().memoizedState}function CU(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=mr();a=xa(h);var g=Da(c,a,h);g!==null&&(vr(g,c,h),Vh(g,c,h)),c={cache:Vw()},a.payload=c;return}c=c.return}}function yU(a,c,h){var g=mr();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},om(a)?CA(c,h):(h=Aw(a,c,h,g),h!==null&&(vr(h,a,g),yA(h,c,g)))}function vA(a,c,h){var g=mr();Wh(a,c,h,g)}function Wh(a,c,h,g){var y={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(om(a))CA(c,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=c.lastRenderedReducer,b!==null))try{var M=c.lastRenderedState,H=b(M,h);if(y.hasEagerState=!0,y.eagerState=H,dr(H,M))return Ug(a,c,y,0),dn===null&&zg(),!1}catch{}finally{}if(h=Aw(a,c,y,g),h!==null)return vr(h,a,g),yA(h,c,g),!0}return!1}function cb(a,c,h,g){if(g={lane:2,revertLane:Hb(),action:g,hasEagerState:!1,eagerState:null,next:null},om(a)){if(c)throw Error(i(479))}else c=Aw(a,h,g,2),c!==null&&vr(c,a,2)}function om(a){var c=a.alternate;return a===Et||c!==null&&c===Et}function CA(a,c){Iu=em=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function yA(a,c,h){if((h&4194048)!==0){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,Is(a,h)}}var am={readContext:Ei,use:nm,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn},wA={readContext:Ei,use:nm,useCallback:function(a,c){return Yi().memoizedState=[a,c===void 0?null:c],a},useContext:Ei,useEffect:iA,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,sm(4194308,4,aA.bind(null,c,a),h)},useLayoutEffect:function(a,c){return sm(4194308,4,a,c)},useInsertionEffect:function(a,c){sm(4,2,a,c)},useMemo:function(a,c){var h=Yi();c=c===void 0?null:c;var g=a();if(ic){ut(!0);try{a()}finally{ut(!1)}}return h.memoizedState=[g,c],g},useReducer:function(a,c,h){var g=Yi();if(h!==void 0){var y=h(c);if(ic){ut(!0);try{h(c)}finally{ut(!1)}}}else y=c;return g.memoizedState=g.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},g.queue=a,a=a.dispatch=yU.bind(null,Et,a),[g.memoizedState,a]},useRef:function(a){var c=Yi();return a={current:a},c.memoizedState=a},useState:function(a){a=ib(a);var c=a.queue,h=vA.bind(null,Et,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:sb,useDeferredValue:function(a,c){var h=Yi();return ob(h,a,c)},useTransition:function(){var a=ib(!1);return a=hA.bind(null,Et,a.queue,!0,!1),Yi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var g=Et,y=Yi();if(Wt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=c(),dn===null)throw Error(i(349));(Nt&124)!==0||HD(g,c,h)}y.memoizedState=h;var b={value:h,getSnapshot:c};return y.queue=b,iA(UD.bind(null,g,b,a),[a]),g.flags|=2048,Mu(9,rm(),zD.bind(null,g,b,h,c),null),h},useId:function(){var a=Yi(),c=dn.identifierPrefix;if(Wt){var h=Fo,g=Io;h=(g&~(1<<32-kt(g)-1)).toString(32)+h,c=""+c+"R"+h,h=tm++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=fU++,c=""+c+"r"+h.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:lb,useFormState:ZD,useActionState:ZD,useOptimistic:function(a){var c=Yi();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=cb.bind(null,Et,!0,h),h.dispatch=c,[a,c]},useMemoCache:eb,useCacheRefresh:function(){return Yi().memoizedState=CU.bind(null,Et)}},bA={readContext:Ei,use:nm,useCallback:cA,useContext:Ei,useEffect:rA,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:oA,useMemo:uA,useReducer:im,useRef:nA,useState:function(){return im(ko)},useDebugValue:sb,useDeferredValue:function(a,c){var h=Vn();return dA(h,rn.memoizedState,a,c)},useTransition:function(){var a=im(ko)[0],c=Vn().memoizedState;return[typeof a=="boolean"?a:zh(a),c]},useSyncExternalStore:GD,useId:gA,useHostTransitionStatus:lb,useFormState:JD,useActionState:JD,useOptimistic:function(a,c){var h=Vn();return $D(h,rn,a,c)},useMemoCache:eb,useCacheRefresh:mA},wU={readContext:Ei,use:nm,useCallback:cA,useContext:Ei,useEffect:rA,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:oA,useMemo:uA,useReducer:nb,useRef:nA,useState:function(){return nb(ko)},useDebugValue:sb,useDeferredValue:function(a,c){var h=Vn();return rn===null?ob(h,a,c):dA(h,rn.memoizedState,a,c)},useTransition:function(){var a=nb(ko)[0],c=Vn().memoizedState;return[typeof a=="boolean"?a:zh(a),c]},useSyncExternalStore:GD,useId:gA,useHostTransitionStatus:lb,useFormState:tA,useActionState:tA,useOptimistic:function(a,c){var h=Vn();return rn!==null?$D(h,rn,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:eb,useCacheRefresh:mA},_u=null,jh=0;function lm(a){var c=jh;return jh+=1,_u===null&&(_u=[]),MD(_u,a,c)}function $h(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function cm(a,c){throw c.$$typeof===p?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function SA(a){var c=a._init;return c(a._payload)}function EA(a){function c(Z,Y){if(a){var ie=Z.deletions;ie===null?(Z.deletions=[Y],Z.flags|=16):ie.push(Y)}}function h(Z,Y){if(!a)return null;for(;Y!==null;)c(Z,Y),Y=Y.sibling;return null}function g(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function y(Z,Y){return Z=Po(Z,Y),Z.index=0,Z.sibling=null,Z}function b(Z,Y,ie){return Z.index=ie,a?(ie=Z.alternate,ie!==null?(ie=ie.index,ie<Y?(Z.flags|=67108866,Y):ie):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function M(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function H(Z,Y,ie,ve){return Y===null||Y.tag!==6?(Y=Iw(ie,Z.mode,ve),Y.return=Z,Y):(Y=y(Y,ie),Y.return=Z,Y)}function j(Z,Y,ie,ve){var Ne=ie.type;return Ne===w?me(Z,Y,ie.props.children,ve,ie.key):Y!==null&&(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===F&&SA(Ne)===Y.type)?(Y=y(Y,ie.props),$h(Y,ie),Y.return=Z,Y):(Y=jg(ie.type,ie.key,ie.props,null,Z.mode,ve),$h(Y,ie),Y.return=Z,Y)}function se(Z,Y,ie,ve){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ie.containerInfo||Y.stateNode.implementation!==ie.implementation?(Y=Fw(ie,Z.mode,ve),Y.return=Z,Y):(Y=y(Y,ie.children||[]),Y.return=Z,Y)}function me(Z,Y,ie,ve,Ne){return Y===null||Y.tag!==7?(Y=Yl(ie,Z.mode,ve,Ne),Y.return=Z,Y):(Y=y(Y,ie),Y.return=Z,Y)}function ye(Z,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Iw(""+Y,Z.mode,ie),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case m:return ie=jg(Y.type,Y.key,Y.props,null,Z.mode,ie),$h(ie,Y),ie.return=Z,ie;case C:return Y=Fw(Y,Z.mode,ie),Y.return=Z,Y;case F:var ve=Y._init;return Y=ve(Y._payload),ye(Z,Y,ie)}if(pe(Y)||U(Y))return Y=Yl(Y,Z.mode,ie,null),Y.return=Z,Y;if(typeof Y.then=="function")return ye(Z,lm(Y),ie);if(Y.$$typeof===A)return ye(Z,Yg(Z,Y),ie);cm(Z,Y)}return null}function le(Z,Y,ie,ve){var Ne=Y!==null?Y.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ne!==null?null:H(Z,Y,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:return ie.key===Ne?j(Z,Y,ie,ve):null;case C:return ie.key===Ne?se(Z,Y,ie,ve):null;case F:return Ne=ie._init,ie=Ne(ie._payload),le(Z,Y,ie,ve)}if(pe(ie)||U(ie))return Ne!==null?null:me(Z,Y,ie,ve,null);if(typeof ie.then=="function")return le(Z,Y,lm(ie),ve);if(ie.$$typeof===A)return le(Z,Y,Yg(Z,ie),ve);cm(Z,ie)}return null}function ce(Z,Y,ie,ve,Ne){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Z=Z.get(ie)||null,H(Y,Z,""+ve,Ne);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case m:return Z=Z.get(ve.key===null?ie:ve.key)||null,j(Y,Z,ve,Ne);case C:return Z=Z.get(ve.key===null?ie:ve.key)||null,se(Y,Z,ve,Ne);case F:var Rt=ve._init;return ve=Rt(ve._payload),ce(Z,Y,ie,ve,Ne)}if(pe(ve)||U(ve))return Z=Z.get(ie)||null,me(Y,Z,ve,Ne,null);if(typeof ve.then=="function")return ce(Z,Y,ie,lm(ve),Ne);if(ve.$$typeof===A)return ce(Z,Y,ie,Yg(Y,ve),Ne);cm(Y,ve)}return null}function ct(Z,Y,ie,ve){for(var Ne=null,Rt=null,je=Y,nt=Y=0,ti=null;je!==null&&nt<ie.length;nt++){je.index>nt?(ti=je,je=null):ti=je.sibling;var Ht=le(Z,je,ie[nt],ve);if(Ht===null){je===null&&(je=ti);break}a&&je&&Ht.alternate===null&&c(Z,je),Y=b(Ht,Y,nt),Rt===null?Ne=Ht:Rt.sibling=Ht,Rt=Ht,je=ti}if(nt===ie.length)return h(Z,je),Wt&&Xl(Z,nt),Ne;if(je===null){for(;nt<ie.length;nt++)je=ye(Z,ie[nt],ve),je!==null&&(Y=b(je,Y,nt),Rt===null?Ne=je:Rt.sibling=je,Rt=je);return Wt&&Xl(Z,nt),Ne}for(je=g(je);nt<ie.length;nt++)ti=ce(je,Z,nt,ie[nt],ve),ti!==null&&(a&&ti.alternate!==null&&je.delete(ti.key===null?nt:ti.key),Y=b(ti,Y,nt),Rt===null?Ne=ti:Rt.sibling=ti,Rt=ti);return a&&je.forEach(function(Wa){return c(Z,Wa)}),Wt&&Xl(Z,nt),Ne}function tt(Z,Y,ie,ve){if(ie==null)throw Error(i(151));for(var Ne=null,Rt=null,je=Y,nt=Y=0,ti=null,Ht=ie.next();je!==null&&!Ht.done;nt++,Ht=ie.next()){je.index>nt?(ti=je,je=null):ti=je.sibling;var Wa=le(Z,je,Ht.value,ve);if(Wa===null){je===null&&(je=ti);break}a&&je&&Wa.alternate===null&&c(Z,je),Y=b(Wa,Y,nt),Rt===null?Ne=Wa:Rt.sibling=Wa,Rt=Wa,je=ti}if(Ht.done)return h(Z,je),Wt&&Xl(Z,nt),Ne;if(je===null){for(;!Ht.done;nt++,Ht=ie.next())Ht=ye(Z,Ht.value,ve),Ht!==null&&(Y=b(Ht,Y,nt),Rt===null?Ne=Ht:Rt.sibling=Ht,Rt=Ht);return Wt&&Xl(Z,nt),Ne}for(je=g(je);!Ht.done;nt++,Ht=ie.next())Ht=ce(je,Z,nt,Ht.value,ve),Ht!==null&&(a&&Ht.alternate!==null&&je.delete(Ht.key===null?nt:Ht.key),Y=b(Ht,Y,nt),Rt===null?Ne=Ht:Rt.sibling=Ht,Rt=Ht);return a&&je.forEach(function(b4){return c(Z,b4)}),Wt&&Xl(Z,nt),Ne}function on(Z,Y,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===w&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:e:{for(var Ne=ie.key;Y!==null;){if(Y.key===Ne){if(Ne=ie.type,Ne===w){if(Y.tag===7){h(Z,Y.sibling),ve=y(Y,ie.props.children),ve.return=Z,Z=ve;break e}}else if(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===F&&SA(Ne)===Y.type){h(Z,Y.sibling),ve=y(Y,ie.props),$h(ve,ie),ve.return=Z,Z=ve;break e}h(Z,Y);break}else c(Z,Y);Y=Y.sibling}ie.type===w?(ve=Yl(ie.props.children,Z.mode,ve,ie.key),ve.return=Z,Z=ve):(ve=jg(ie.type,ie.key,ie.props,null,Z.mode,ve),$h(ve,ie),ve.return=Z,Z=ve)}return M(Z);case C:e:{for(Ne=ie.key;Y!==null;){if(Y.key===Ne)if(Y.tag===4&&Y.stateNode.containerInfo===ie.containerInfo&&Y.stateNode.implementation===ie.implementation){h(Z,Y.sibling),ve=y(Y,ie.children||[]),ve.return=Z,Z=ve;break e}else{h(Z,Y);break}else c(Z,Y);Y=Y.sibling}ve=Fw(ie,Z.mode,ve),ve.return=Z,Z=ve}return M(Z);case F:return Ne=ie._init,ie=Ne(ie._payload),on(Z,Y,ie,ve)}if(pe(ie))return ct(Z,Y,ie,ve);if(U(ie)){if(Ne=U(ie),typeof Ne!="function")throw Error(i(150));return ie=Ne.call(ie),tt(Z,Y,ie,ve)}if(typeof ie.then=="function")return on(Z,Y,lm(ie),ve);if(ie.$$typeof===A)return on(Z,Y,Yg(Z,ie),ve);cm(Z,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Y!==null&&Y.tag===6?(h(Z,Y.sibling),ve=y(Y,ie),ve.return=Z,Z=ve):(h(Z,Y),ve=Iw(ie,Z.mode,ve),ve.return=Z,Z=ve),M(Z)):h(Z,Y)}return function(Z,Y,ie,ve){try{jh=0;var Ne=on(Z,Y,ie,ve);return _u=null,Ne}catch(je){if(je===Lh||je===Xg)throw je;var Rt=hr(29,je,null,Z.mode);return Rt.lanes=ve,Rt.return=Z,Rt}finally{}}}var ku=EA(!0),RA=EA(!1),Hr=Q(null),Gs=null;function Pa(a){var c=a.alternate;X(qn,qn.current&1),X(Hr,a),Gs===null&&(c===null||Pu.current!==null||c.memoizedState!==null)&&(Gs=a)}function TA(a){if(a.tag===22){if(X(qn,qn.current),X(Hr,a),Gs===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(Gs=a)}}else Ia()}function Ia(){X(qn,qn.current),X(Hr,Hr.current)}function Oo(a){J(Hr),Gs===a&&(Gs=null),J(qn)}var qn=Q(0);function um(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Jb(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function ub(a,c,h,g){c=a.memoizedState,h=h(g,c),h=h==null?c:f({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var db={enqueueSetState:function(a,c,h){a=a._reactInternals;var g=mr(),y=xa(g);y.payload=c,h!=null&&(y.callback=h),c=Da(a,y,g),c!==null&&(vr(c,a,g),Vh(c,a,g))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var g=mr(),y=xa(g);y.tag=1,y.payload=c,h!=null&&(y.callback=h),c=Da(a,y,g),c!==null&&(vr(c,a,g),Vh(c,a,g))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=mr(),g=xa(h);g.tag=2,c!=null&&(g.callback=c),c=Da(a,g,h),c!==null&&(vr(c,a,h),Vh(c,a,h))}};function xA(a,c,h,g,y,b,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,b,M):c.prototype&&c.prototype.isPureReactComponent?!Ah(h,g)||!Ah(y,b):!0}function DA(a,c,h,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==a&&db.enqueueReplaceState(c,c.state,null)}function rc(a,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(a=a.defaultProps){h===c&&(h=f({},h));for(var y in a)h[y]===void 0&&(h[y]=a[y])}return h}var dm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function AA(a){dm(a)}function PA(a){console.error(a)}function IA(a){dm(a)}function hm(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function FA(a,c,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function hb(a,c,h){return h=xa(h),h.tag=3,h.payload={element:null},h.callback=function(){hm(a,c)},h}function MA(a){return a=xa(a),a.tag=3,a}function _A(a,c,h,g){var y=h.type.getDerivedStateFromError;if(typeof y=="function"){var b=g.value;a.payload=function(){return y(b)},a.callback=function(){FA(c,h,g)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){FA(c,h,g),typeof y!="function"&&(La===null?La=new Set([this]):La.add(this));var H=g.stack;this.componentDidCatch(g.value,{componentStack:H!==null?H:""})})}function bU(a,c,h,g,y){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&_h(c,h,y,!0),h=Hr.current,h!==null){switch(h.tag){case 13:return Gs===null?Lb():h.alternate===null&&Rn===0&&(Rn=3),h.flags&=-257,h.flags|=65536,h.lanes=y,g===Hw?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Vb(a,g,y)),!1;case 22:return h.flags|=65536,g===Hw?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Vb(a,g,y)),!1}throw Error(i(435,h.tag))}return Vb(a,g,y),Lb(),!1}if(Wt)return c=Hr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,g!==kw&&(a=Error(i(422),{cause:g}),Mh(Nr(a,h)))):(g!==kw&&(c=Error(i(423),{cause:g}),Mh(Nr(c,h))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,g=Nr(g,h),y=hb(a.stateNode,g,y),Ww(a,y),Rn!==4&&(Rn=2)),!1;var b=Error(i(520),{cause:g});if(b=Nr(b,h),Jh===null?Jh=[b]:Jh.push(b),Rn!==4&&(Rn=2),c===null)return!0;g=Nr(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=y&-y,h.lanes|=a,a=hb(h.stateNode,g,a),Ww(h,a),!1;case 1:if(c=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(La===null||!La.has(b))))return h.flags|=65536,y&=-y,h.lanes|=y,y=MA(y),_A(y,a,h,g),Ww(h,y),!1}h=h.return}while(h!==null);return!1}var kA=Error(i(461)),Jn=!1;function ui(a,c,h,g){c.child=a===null?RA(c,null,h,g):ku(c,a.child,h,g)}function OA(a,c,h,g,y){h=h.render;var b=c.ref;if("ref"in g){var M={};for(var H in g)H!=="ref"&&(M[H]=g[H])}else M=g;return tc(c),g=Yw(a,c,h,M,b,y),H=Qw(),a!==null&&!Jn?(Xw(a,c,y),Lo(a,c,y)):(Wt&&H&&Mw(c),c.flags|=1,ui(a,c,g,y),c.child)}function LA(a,c,h,g,y){if(a===null){var b=h.type;return typeof b=="function"&&!Pw(b)&&b.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=b,NA(a,c,b,g,y)):(a=jg(h.type,null,g,c,c.mode,y),a.ref=c.ref,a.return=c,c.child=a)}if(b=a.child,!wb(a,y)){var M=b.memoizedProps;if(h=h.compare,h=h!==null?h:Ah,h(M,g)&&a.ref===c.ref)return Lo(a,c,y)}return c.flags|=1,a=Po(b,g),a.ref=c.ref,a.return=c,c.child=a}function NA(a,c,h,g,y){if(a!==null){var b=a.memoizedProps;if(Ah(b,g)&&a.ref===c.ref)if(Jn=!1,c.pendingProps=g=b,wb(a,y))(a.flags&131072)!==0&&(Jn=!0);else return c.lanes=a.lanes,Lo(a,c,y)}return fb(a,c,h,g,y)}function VA(a,c,h){var g=c.pendingProps,y=g.children,b=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=b!==null?b.baseLanes|h:h,a!==null){for(y=c.child=a.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;c.childLanes=b&~g}else c.childLanes=0,c.child=null;return BA(a,c,g,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Qg(c,b!==null?b.cachePool:null),b!==null?ND(c,b):$w(),TA(c);else return c.lanes=c.childLanes=536870912,BA(a,c,b!==null?b.baseLanes|h:h,h)}else b!==null?(Qg(c,b.cachePool),ND(c,b),Ia(),c.memoizedState=null):(a!==null&&Qg(c,null),$w(),Ia());return ui(a,c,y,h),c.child}function BA(a,c,h,g){var y=Gw();return y=y===null?null:{parent:$n._currentValue,pool:y},c.memoizedState={baseLanes:h,cachePool:y},a!==null&&Qg(c,null),$w(),TA(c),a!==null&&_h(a,c,g,!0),null}function fm(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function fb(a,c,h,g,y){return tc(c),h=Yw(a,c,h,g,void 0,y),g=Qw(),a!==null&&!Jn?(Xw(a,c,y),Lo(a,c,y)):(Wt&&g&&Mw(c),c.flags|=1,ui(a,c,h,y),c.child)}function GA(a,c,h,g,y,b){return tc(c),c.updateQueue=null,h=BD(c,g,h,y),VD(a),g=Qw(),a!==null&&!Jn?(Xw(a,c,b),Lo(a,c,b)):(Wt&&g&&Mw(c),c.flags|=1,ui(a,c,h,b),c.child)}function HA(a,c,h,g,y){if(tc(c),c.stateNode===null){var b=Ru,M=h.contextType;typeof M=="object"&&M!==null&&(b=Ei(M)),b=new h(g,b),c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=db,c.stateNode=b,b._reactInternals=c,b=c.stateNode,b.props=g,b.state=c.memoizedState,b.refs={},zw(c),M=h.contextType,b.context=typeof M=="object"&&M!==null?Ei(M):Ru,b.state=c.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(ub(c,h,M,g),b.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&db.enqueueReplaceState(b,b.state,null),Gh(c,g,b,y),Bh(),b.state=c.memoizedState),typeof b.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(a===null){b=c.stateNode;var H=c.memoizedProps,j=rc(h,H);b.props=j;var se=b.context,me=h.contextType;M=Ru,typeof me=="object"&&me!==null&&(M=Ei(me));var ye=h.getDerivedStateFromProps;me=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",H=c.pendingProps!==H,me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(H||se!==M)&&DA(c,b,g,M),Ta=!1;var le=c.memoizedState;b.state=le,Gh(c,g,b,y),Bh(),se=c.memoizedState,H||le!==se||Ta?(typeof ye=="function"&&(ub(c,h,ye,g),se=c.memoizedState),(j=Ta||xA(c,h,j,g,le,se,M))?(me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(c.flags|=4194308)):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=se),b.props=g,b.state=se,b.context=M,g=j):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{b=c.stateNode,Uw(a,c),M=c.memoizedProps,me=rc(h,M),b.props=me,ye=c.pendingProps,le=b.context,se=h.contextType,j=Ru,typeof se=="object"&&se!==null&&(j=Ei(se)),H=h.getDerivedStateFromProps,(se=typeof H=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==ye||le!==j)&&DA(c,b,g,j),Ta=!1,le=c.memoizedState,b.state=le,Gh(c,g,b,y),Bh();var ce=c.memoizedState;M!==ye||le!==ce||Ta||a!==null&&a.dependencies!==null&&Kg(a.dependencies)?(typeof H=="function"&&(ub(c,h,H,g),ce=c.memoizedState),(me=Ta||xA(c,h,me,g,le,ce,j)||a!==null&&a.dependencies!==null&&Kg(a.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(g,ce,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(g,ce,j)),typeof b.componentDidUpdate=="function"&&(c.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===a.memoizedProps&&le===a.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&le===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ce),b.props=g,b.state=ce,b.context=j,g=me):(typeof b.componentDidUpdate!="function"||M===a.memoizedProps&&le===a.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&le===a.memoizedState||(c.flags|=1024),g=!1)}return b=g,fm(a,c),g=(c.flags&128)!==0,b||g?(b=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:b.render(),c.flags|=1,a!==null&&g?(c.child=ku(c,a.child,null,y),c.child=ku(c,null,h,y)):ui(a,c,h,y),c.memoizedState=b.state,a=c.child):a=Lo(a,c,y),a}function zA(a,c,h,g){return Fh(),c.flags|=256,ui(a,c,h,g),c.child}var pb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gb(a){return{baseLanes:a,cachePool:PD()}}function mb(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=zr),a}function UA(a,c,h){var g=c.pendingProps,y=!1,b=(c.flags&128)!==0,M;if((M=b)||(M=a!==null&&a.memoizedState===null?!1:(qn.current&2)!==0),M&&(y=!0,c.flags&=-129),M=(c.flags&32)!==0,c.flags&=-33,a===null){if(Wt){if(y?Pa(c):Ia(),Wt){var H=En,j;if(j=H){e:{for(j=H,H=Bs;j.nodeType!==8;){if(!H){H=null;break e}if(j=gs(j.nextSibling),j===null){H=null;break e}}H=j}H!==null?(c.memoizedState={dehydrated:H,treeContext:Ql!==null?{id:Io,overflow:Fo}:null,retryLane:536870912,hydrationErrors:null},j=hr(18,null,null,0),j.stateNode=H,j.return=c,c.child=j,Hi=c,En=null,j=!0):j=!1}j||Jl(c)}if(H=c.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return Jb(H)?c.lanes=32:c.lanes=536870912,null;Oo(c)}return H=g.children,g=g.fallback,y?(Ia(),y=c.mode,H=pm({mode:"hidden",children:H},y),g=Yl(g,y,h,null),H.return=c,g.return=c,H.sibling=g,c.child=H,y=c.child,y.memoizedState=gb(h),y.childLanes=mb(a,M,h),c.memoizedState=pb,g):(Pa(c),vb(c,H))}if(j=a.memoizedState,j!==null&&(H=j.dehydrated,H!==null)){if(b)c.flags&256?(Pa(c),c.flags&=-257,c=Cb(a,c,h)):c.memoizedState!==null?(Ia(),c.child=a.child,c.flags|=128,c=null):(Ia(),y=g.fallback,H=c.mode,g=pm({mode:"visible",children:g.children},H),y=Yl(y,H,h,null),y.flags|=2,g.return=c,y.return=c,g.sibling=y,c.child=g,ku(c,a.child,null,h),g=c.child,g.memoizedState=gb(h),g.childLanes=mb(a,M,h),c.memoizedState=pb,c=y);else if(Pa(c),Jb(H)){if(M=H.nextSibling&&H.nextSibling.dataset,M)var se=M.dgst;M=se,g=Error(i(419)),g.stack="",g.digest=M,Mh({value:g,source:null,stack:null}),c=Cb(a,c,h)}else if(Jn||_h(a,c,h,!1),M=(h&a.childLanes)!==0,Jn||M){if(M=dn,M!==null&&(g=h&-h,g=(g&42)!==0?1:Fs(g),g=(g&(M.suspendedLanes|h))!==0?0:g,g!==0&&g!==j.retryLane))throw j.retryLane=g,Eu(a,g),vr(M,a,g),kA;H.data==="$?"||Lb(),c=Cb(a,c,h)}else H.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=j.treeContext,En=gs(H.nextSibling),Hi=c,Wt=!0,Zl=null,Bs=!1,a!==null&&(Br[Gr++]=Io,Br[Gr++]=Fo,Br[Gr++]=Ql,Io=a.id,Fo=a.overflow,Ql=c),c=vb(c,g.children),c.flags|=4096);return c}return y?(Ia(),y=g.fallback,H=c.mode,j=a.child,se=j.sibling,g=Po(j,{mode:"hidden",children:g.children}),g.subtreeFlags=j.subtreeFlags&65011712,se!==null?y=Po(se,y):(y=Yl(y,H,h,null),y.flags|=2),y.return=c,g.return=c,g.sibling=y,c.child=g,g=y,y=c.child,H=a.child.memoizedState,H===null?H=gb(h):(j=H.cachePool,j!==null?(se=$n._currentValue,j=j.parent!==se?{parent:se,pool:se}:j):j=PD(),H={baseLanes:H.baseLanes|h,cachePool:j}),y.memoizedState=H,y.childLanes=mb(a,M,h),c.memoizedState=pb,g):(Pa(c),h=a.child,a=h.sibling,h=Po(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,a!==null&&(M=c.deletions,M===null?(c.deletions=[a],c.flags|=16):M.push(a)),c.child=h,c.memoizedState=null,h)}function vb(a,c){return c=pm({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function pm(a,c){return a=hr(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Cb(a,c,h){return ku(c,a.child,null,h),a=vb(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function WA(a,c,h){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),Lw(a.return,c,h)}function yb(a,c,h,g,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:y}:(b.isBackwards=c,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=h,b.tailMode=y)}function jA(a,c,h){var g=c.pendingProps,y=g.revealOrder,b=g.tail;if(ui(a,c,g.children,h),g=qn.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&WA(a,h,c);else if(a.tag===19)WA(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(X(qn,g),y){case"forwards":for(h=c.child,y=null;h!==null;)a=h.alternate,a!==null&&um(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=c.child,c.child=null):(y=h.sibling,h.sibling=null),yb(c,!1,y,h,b);break;case"backwards":for(h=null,y=c.child,c.child=null;y!==null;){if(a=y.alternate,a!==null&&um(a)===null){c.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}yb(c,!0,h,null,b);break;case"together":yb(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Lo(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Oa|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(_h(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,h=Po(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Po(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function wb(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Kg(a)))}function SU(a,c,h){switch(c.tag){case 3:Ze(c,c.stateNode.containerInfo),Ra(c,$n,a.memoizedState.cache),Fh();break;case 27:case 5:rt(c);break;case 4:Ze(c,c.stateNode.containerInfo);break;case 10:Ra(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Pa(c),c.flags|=128,null):(h&c.child.childLanes)!==0?UA(a,c,h):(Pa(c),a=Lo(a,c,h),a!==null?a.sibling:null);Pa(c);break;case 19:var y=(a.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(_h(a,c,h,!1),g=(h&c.childLanes)!==0),y){if(g)return jA(a,c,h);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X(qn,qn.current),g)break;return null;case 22:case 23:return c.lanes=0,VA(a,c,h);case 24:Ra(c,$n,a.memoizedState.cache)}return Lo(a,c,h)}function $A(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)Jn=!0;else{if(!wb(a,h)&&(c.flags&128)===0)return Jn=!1,SU(a,c,h);Jn=(a.flags&131072)!==0}else Jn=!1,Wt&&(c.flags&1048576)!==0&&SD(c,qg,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var g=c.elementType,y=g._init;if(g=y(g._payload),c.type=g,typeof g=="function")Pw(g)?(a=rc(g,a),c.tag=1,c=HA(null,c,g,a,h)):(c.tag=0,c=fb(null,c,g,a,h));else{if(g!=null){if(y=g.$$typeof,y===L){c.tag=11,c=OA(null,c,g,a,h);break e}else if(y===_){c.tag=14,c=LA(null,c,g,a,h);break e}}throw c=de(g)||g,Error(i(306,c,""))}}return c;case 0:return fb(a,c,c.type,c.pendingProps,h);case 1:return g=c.type,y=rc(g,c.pendingProps),HA(a,c,g,y,h);case 3:e:{if(Ze(c,c.stateNode.containerInfo),a===null)throw Error(i(387));g=c.pendingProps;var b=c.memoizedState;y=b.element,Uw(a,c),Gh(c,g,null,h);var M=c.memoizedState;if(g=M.cache,Ra(c,$n,g),g!==b.cache&&Nw(c,[$n],h,!0),Bh(),g=M.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:M.cache},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){c=zA(a,c,g,h);break e}else if(g!==y){y=Nr(Error(i(424)),c),Mh(y),c=zA(a,c,g,h);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(En=gs(a.firstChild),Hi=c,Wt=!0,Zl=null,Bs=!0,h=RA(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Fh(),g===y){c=Lo(a,c,h);break e}ui(a,c,g,h)}c=c.child}return c;case 26:return fm(a,c),a===null?(h=QP(c.type,null,c.pendingProps,null))?c.memoizedState=h:Wt||(h=c.type,a=c.pendingProps,g=Am(Ae.current).createElement(h),g[we]=c,g[Ee]=a,hi(g,h,a),mt(g),c.stateNode=g):c.memoizedState=QP(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return rt(c),a===null&&Wt&&(g=c.stateNode=qP(c.type,c.pendingProps,Ae.current),Hi=c,Bs=!0,y=En,Ba(c.type)?(eS=y,En=gs(g.firstChild)):En=y),ui(a,c,c.pendingProps.children,h),fm(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Wt&&((y=g=En)&&(g=QU(g,c.type,c.pendingProps,Bs),g!==null?(c.stateNode=g,Hi=c,En=gs(g.firstChild),Bs=!1,y=!0):y=!1),y||Jl(c)),rt(c),y=c.type,b=c.pendingProps,M=a!==null?a.memoizedProps:null,g=b.children,Qb(y,b)?g=null:M!==null&&Qb(y,M)&&(c.flags|=32),c.memoizedState!==null&&(y=Yw(a,c,pU,null,null,h),cf._currentValue=y),fm(a,c),ui(a,c,g,h),c.child;case 6:return a===null&&Wt&&((a=h=En)&&(h=XU(h,c.pendingProps,Bs),h!==null?(c.stateNode=h,Hi=c,En=null,a=!0):a=!1),a||Jl(c)),null;case 13:return UA(a,c,h);case 4:return Ze(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=ku(c,null,g,h):ui(a,c,g,h),c.child;case 11:return OA(a,c,c.type,c.pendingProps,h);case 7:return ui(a,c,c.pendingProps,h),c.child;case 8:return ui(a,c,c.pendingProps.children,h),c.child;case 12:return ui(a,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Ra(c,c.type,g.value),ui(a,c,g.children,h),c.child;case 9:return y=c.type._context,g=c.pendingProps.children,tc(c),y=Ei(y),g=g(y),c.flags|=1,ui(a,c,g,h),c.child;case 14:return LA(a,c,c.type,c.pendingProps,h);case 15:return NA(a,c,c.type,c.pendingProps,h);case 19:return jA(a,c,h);case 31:return g=c.pendingProps,h=c.mode,g={mode:g.mode,children:g.children},a===null?(h=pm(g,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=Po(a.child,g),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return VA(a,c,h);case 24:return tc(c),g=Ei($n),a===null?(y=Gw(),y===null&&(y=dn,b=Vw(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=h),y=b),c.memoizedState={parent:g,cache:y},zw(c),Ra(c,$n,y)):((a.lanes&h)!==0&&(Uw(a,c),Gh(c,null,null,h),Bh()),y=a.memoizedState,b=c.memoizedState,y.parent!==g?(y={parent:g,cache:g},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),Ra(c,$n,g)):(g=b.cache,Ra(c,$n,g),g!==y.cache&&Nw(c,[$n],h,!0))),ui(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function No(a){a.flags|=4}function qA(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!tI(c)){if(c=Hr.current,c!==null&&((Nt&4194048)===Nt?Gs!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||c!==Gs))throw Nh=Hw,ID;a.flags|=8192}}function gm(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Ol():536870912,a.lanes|=c,Vu|=c)}function qh(a,c){if(!Wt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function yn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(c)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags&65011712,g|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=h,c}function EU(a,c,h){var g=c.pendingProps;switch(_w(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(c),null;case 1:return yn(c),null;case 3:return h=c.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),_o($n),Ke(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Ih(c)?No(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,TD())),yn(c),null;case 26:return h=c.memoizedState,a===null?(No(c),h!==null?(yn(c),qA(c,h)):(yn(c),c.flags&=-16777217)):h?h!==a.memoizedState?(No(c),yn(c),qA(c,h)):(yn(c),c.flags&=-16777217):(a.memoizedProps!==g&&No(c),yn(c),c.flags&=-16777217),null;case 27:ht(c),h=Ae.current;var y=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==g&&No(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return yn(c),null}a=fe.current,Ih(c)?ED(c):(a=qP(y,g,h),c.stateNode=a,No(c))}return yn(c),null;case 5:if(ht(c),h=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&No(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return yn(c),null}if(a=fe.current,Ih(c))ED(c);else{switch(y=Am(Ae.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?y.createElement("select",{is:g.is}):y.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?y.createElement(h,{is:g.is}):y.createElement(h)}}a[we]=c,a[Ee]=g;e:for(y=c.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break e;for(;y.sibling===null;){if(y.return===null||y.return===c)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}c.stateNode=a;e:switch(hi(a,h,g),h){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&No(c)}}return yn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==g&&No(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(i(166));if(a=Ae.current,Ih(c)){if(a=c.stateNode,h=c.memoizedProps,g=null,y=Hi,y!==null)switch(y.tag){case 27:case 5:g=y.memoizedProps}a[we]=c,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||GP(a.nodeValue,h)),a||Jl(c)}else a=Am(a).createTextNode(g),a[we]=c,c.stateNode=a}return yn(c),null;case 13:if(g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Ih(c),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[we]=c}else Fh(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;yn(c),y=!1}else y=TD(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(Oo(c),c):(Oo(c),null)}if(Oo(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=g!==null,a=a!==null&&a.memoizedState!==null,h){g=c.child,y=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(y=g.alternate.memoizedState.cachePool.pool);var b=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(b=g.memoizedState.cachePool.pool),b!==y&&(g.flags|=2048)}return h!==a&&h&&(c.child.flags|=8192),gm(c,c.updateQueue),yn(c),null;case 4:return Ke(),a===null&&jb(c.stateNode.containerInfo),yn(c),null;case 10:return _o(c.type),yn(c),null;case 19:if(J(qn),y=c.memoizedState,y===null)return yn(c),null;if(g=(c.flags&128)!==0,b=y.rendering,b===null)if(g)qh(y,!1);else{if(Rn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(b=um(a),b!==null){for(c.flags|=128,qh(y,!1),a=b.updateQueue,c.updateQueue=a,gm(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)bD(h,a),h=h.sibling;return X(qn,qn.current&1|2),c.child}a=a.sibling}y.tail!==null&&Oe()>Cm&&(c.flags|=128,g=!0,qh(y,!1),c.lanes=4194304)}else{if(!g)if(a=um(b),a!==null){if(c.flags|=128,g=!0,a=a.updateQueue,c.updateQueue=a,gm(c,a),qh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Wt)return yn(c),null}else 2*Oe()-y.renderingStartTime>Cm&&h!==536870912&&(c.flags|=128,g=!0,qh(y,!1),c.lanes=4194304);y.isBackwards?(b.sibling=c.child,c.child=b):(a=y.last,a!==null?a.sibling=b:c.child=b,y.last=b)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Oe(),c.sibling=null,a=qn.current,X(qn,g?a&1|2:a&1),c):(yn(c),null);case 22:case 23:return Oo(c),qw(),g=c.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(yn(c),c.subtreeFlags&6&&(c.flags|=8192)):yn(c),h=c.updateQueue,h!==null&&gm(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),a!==null&&J(nc),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),_o($n),yn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function RU(a,c){switch(_w(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return _o($n),Ke(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return ht(c),null;case 13:if(Oo(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Fh()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return J(qn),null;case 4:return Ke(),null;case 10:return _o(c.type),null;case 22:case 23:return Oo(c),qw(),a!==null&&J(nc),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return _o($n),null;case 25:return null;default:return null}}function KA(a,c){switch(_w(c),c.tag){case 3:_o($n),Ke();break;case 26:case 27:case 5:ht(c);break;case 4:Ke();break;case 13:Oo(c);break;case 19:J(qn);break;case 10:_o(c.type);break;case 22:case 23:Oo(c),qw(),a!==null&&J(nc);break;case 24:_o($n)}}function Kh(a,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&a)===a){g=void 0;var b=h.create,M=h.inst;g=b(),M.destroy=g}h=h.next}while(h!==y)}}catch(H){cn(c,c.return,H)}}function Fa(a,c,h){try{var g=c.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var b=y.next;g=b;do{if((g.tag&a)===a){var M=g.inst,H=M.destroy;if(H!==void 0){M.destroy=void 0,y=c;var j=h,se=H;try{se()}catch(me){cn(y,j,me)}}}g=g.next}while(g!==b)}}catch(me){cn(c,c.return,me)}}function YA(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{LD(c,h)}catch(g){cn(a,a.return,g)}}}function QA(a,c,h){h.props=rc(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){cn(a,c,g)}}function Yh(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(y){cn(a,c,y)}}function Hs(a,c){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(y){cn(a,c,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(y){cn(a,c,y)}else h.current=null}function XA(a){var c=a.type,h=a.memoizedProps,g=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(y){cn(a,a.return,y)}}function bb(a,c,h){try{var g=a.stateNode;jU(g,a.type,h,c),g[Ee]=c}catch(y){cn(a,a.return,y)}}function ZA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ba(a.type)||a.tag===4}function Sb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ZA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ba(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Eb(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Dm));else if(g!==4&&(g===27&&Ba(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for(Eb(a,c,h),a=a.sibling;a!==null;)Eb(a,c,h),a=a.sibling}function mm(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(g!==4&&(g===27&&Ba(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(mm(a,c,h),a=a.sibling;a!==null;)mm(a,c,h),a=a.sibling}function JA(a){var c=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);hi(c,g,h),c[we]=a,c[Ee]=h}catch(b){cn(a,a.return,b)}}var Vo=!1,An=!1,Rb=!1,eP=typeof WeakSet=="function"?WeakSet:Set,ei=null;function TU(a,c){if(a=a.containerInfo,Kb=km,a=dD(a),Sw(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var y=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var M=0,H=-1,j=-1,se=0,me=0,ye=a,le=null;t:for(;;){for(var ce;ye!==h||y!==0&&ye.nodeType!==3||(H=M+y),ye!==b||g!==0&&ye.nodeType!==3||(j=M+g),ye.nodeType===3&&(M+=ye.nodeValue.length),(ce=ye.firstChild)!==null;)le=ye,ye=ce;for(;;){if(ye===a)break t;if(le===h&&++se===y&&(H=M),le===b&&++me===g&&(j=M),(ce=ye.nextSibling)!==null)break;ye=le,le=ye.parentNode}ye=ce}h=H===-1||j===-1?null:{start:H,end:j}}else h=null}h=h||{start:0,end:0}}else h=null;for(Yb={focusedElem:a,selectionRange:h},km=!1,ei=c;ei!==null;)if(c=ei,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,ei=a;else for(;ei!==null;){switch(c=ei,b=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,h=c,y=b.memoizedProps,b=b.memoizedState,g=h.stateNode;try{var ct=rc(h.type,y,h.elementType===h.type);a=g.getSnapshotBeforeUpdate(ct,b),g.__reactInternalSnapshotBeforeUpdate=a}catch(tt){cn(h,h.return,tt)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)Zb(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Zb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,ei=a;break}ei=c.return}}function tP(a,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Ma(a,h),g&4&&Kh(5,h);break;case 1:if(Ma(a,h),g&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(M){cn(h,h.return,M)}else{var y=rc(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(y,c,a.__reactInternalSnapshotBeforeUpdate)}catch(M){cn(h,h.return,M)}}g&64&&YA(h),g&512&&Yh(h,h.return);break;case 3:if(Ma(a,h),g&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{LD(a,c)}catch(M){cn(h,h.return,M)}}break;case 27:c===null&&g&4&&JA(h);case 26:case 5:Ma(a,h),c===null&&g&4&&XA(h),g&512&&Yh(h,h.return);break;case 12:Ma(a,h);break;case 13:Ma(a,h),g&4&&rP(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=kU.bind(null,h),ZU(a,h))));break;case 22:if(g=h.memoizedState!==null||Vo,!g){c=c!==null&&c.memoizedState!==null||An,y=Vo;var b=An;Vo=g,(An=c)&&!b?_a(a,h,(h.subtreeFlags&8772)!==0):Ma(a,h),Vo=y,An=b}break;case 30:break;default:Ma(a,h)}}function nP(a){var c=a.alternate;c!==null&&(a.alternate=null,nP(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&He(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Cn=null,Qi=!1;function Bo(a,c,h){for(h=h.child;h!==null;)iP(a,c,h),h=h.sibling}function iP(a,c,h){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Le,h)}catch{}switch(h.tag){case 26:An||Hs(h,c),Bo(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:An||Hs(h,c);var g=Cn,y=Qi;Ba(h.type)&&(Cn=h.stateNode,Qi=!1),Bo(a,c,h),sf(h.stateNode),Cn=g,Qi=y;break;case 5:An||Hs(h,c);case 6:if(g=Cn,y=Qi,Cn=null,Bo(a,c,h),Cn=g,Qi=y,Cn!==null)if(Qi)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(h.stateNode)}catch(b){cn(h,c,b)}else try{Cn.removeChild(h.stateNode)}catch(b){cn(h,c,b)}break;case 18:Cn!==null&&(Qi?(a=Cn,jP(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),ff(a)):jP(Cn,h.stateNode));break;case 4:g=Cn,y=Qi,Cn=h.stateNode.containerInfo,Qi=!0,Bo(a,c,h),Cn=g,Qi=y;break;case 0:case 11:case 14:case 15:An||Fa(2,h,c),An||Fa(4,h,c),Bo(a,c,h);break;case 1:An||(Hs(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&QA(h,c,g)),Bo(a,c,h);break;case 21:Bo(a,c,h);break;case 22:An=(g=An)||h.memoizedState!==null,Bo(a,c,h),An=g;break;default:Bo(a,c,h)}}function rP(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ff(a)}catch(h){cn(c,c.return,h)}}function xU(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new eP),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new eP),c;default:throw Error(i(435,a.tag))}}function Tb(a,c){var h=xU(a);c.forEach(function(g){var y=OU.bind(null,a,g);h.has(g)||(h.add(g),g.then(y,y))})}function fr(a,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var y=h[g],b=a,M=c,H=M;e:for(;H!==null;){switch(H.tag){case 27:if(Ba(H.type)){Cn=H.stateNode,Qi=!1;break e}break;case 5:Cn=H.stateNode,Qi=!1;break e;case 3:case 4:Cn=H.stateNode.containerInfo,Qi=!0;break e}H=H.return}if(Cn===null)throw Error(i(160));iP(b,M,y),Cn=null,Qi=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)sP(c,a),c=c.sibling}var ps=null;function sP(a,c){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:fr(c,a),pr(a),g&4&&(Fa(3,a,a.return),Kh(3,a),Fa(5,a,a.return));break;case 1:fr(c,a),pr(a),g&512&&(An||h===null||Hs(h,h.return)),g&64&&Vo&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var y=ps;if(fr(c,a),pr(a),g&512&&(An||h===null||Hs(h,h.return)),g&4){var b=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){e:{g=a.type,h=a.memoizedProps,y=y.ownerDocument||y;t:switch(g){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Ge]||b[we]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(g),y.head.insertBefore(b,y.querySelector("head > title"))),hi(b,g,h),b[we]=a,mt(b),g=b;break e;case"link":var M=JP("link","href",y).get(g+(h.href||""));if(M){for(var H=0;H<M.length;H++)if(b=M[H],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(H,1);break t}}b=y.createElement(g),hi(b,g,h),y.head.appendChild(b);break;case"meta":if(M=JP("meta","content",y).get(g+(h.content||""))){for(H=0;H<M.length;H++)if(b=M[H],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(H,1);break t}}b=y.createElement(g),hi(b,g,h),y.head.appendChild(b);break;default:throw Error(i(468,g))}b[we]=a,mt(b),g=b}a.stateNode=g}else eI(y,a.type,a.stateNode);else a.stateNode=ZP(y,g,a.memoizedProps);else b!==g?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,g===null?eI(y,a.type,a.stateNode):ZP(y,g,a.memoizedProps)):g===null&&a.stateNode!==null&&bb(a,a.memoizedProps,h.memoizedProps)}break;case 27:fr(c,a),pr(a),g&512&&(An||h===null||Hs(h,h.return)),h!==null&&g&4&&bb(a,a.memoizedProps,h.memoizedProps);break;case 5:if(fr(c,a),pr(a),g&512&&(An||h===null||Hs(h,h.return)),a.flags&32){y=a.stateNode;try{_r(y,"")}catch(ce){cn(a,a.return,ce)}}g&4&&a.stateNode!=null&&(y=a.memoizedProps,bb(a,y,h!==null?h.memoizedProps:y)),g&1024&&(Rb=!0);break;case 6:if(fr(c,a),pr(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(ce){cn(a,a.return,ce)}}break;case 3:if(Fm=null,y=ps,ps=Pm(c.containerInfo),fr(c,a),ps=y,pr(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ff(c.containerInfo)}catch(ce){cn(a,a.return,ce)}Rb&&(Rb=!1,oP(a));break;case 4:g=ps,ps=Pm(a.stateNode.containerInfo),fr(c,a),pr(a),ps=g;break;case 12:fr(c,a),pr(a);break;case 13:fr(c,a),pr(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Fb=Oe()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Tb(a,g)));break;case 22:y=a.memoizedState!==null;var j=h!==null&&h.memoizedState!==null,se=Vo,me=An;if(Vo=se||y,An=me||j,fr(c,a),An=me,Vo=se,pr(a),g&8192)e:for(c=a.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(h===null||j||Vo||An||sc(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){j=h=c;try{if(b=j.stateNode,y)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{H=j.stateNode;var ye=j.memoizedProps.style,le=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;H.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ce){cn(j,j.return,ce)}}}else if(c.tag===6){if(h===null){j=c;try{j.stateNode.nodeValue=y?"":j.memoizedProps}catch(ce){cn(j,j.return,ce)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Tb(a,h))));break;case 19:fr(c,a),pr(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Tb(a,g)));break;case 30:break;case 21:break;default:fr(c,a),pr(a)}}function pr(a){var c=a.flags;if(c&2){try{for(var h,g=a.return;g!==null;){if(ZA(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var y=h.stateNode,b=Sb(a);mm(a,b,y);break;case 5:var M=h.stateNode;h.flags&32&&(_r(M,""),h.flags&=-33);var H=Sb(a);mm(a,H,M);break;case 3:case 4:var j=h.stateNode.containerInfo,se=Sb(a);Eb(a,se,j);break;default:throw Error(i(161))}}catch(me){cn(a,a.return,me)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function oP(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;oP(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Ma(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)tP(a,c.alternate,c),c=c.sibling}function sc(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Fa(4,c,c.return),sc(c);break;case 1:Hs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&QA(c,c.return,h),sc(c);break;case 27:sf(c.stateNode);case 26:case 5:Hs(c,c.return),sc(c);break;case 22:c.memoizedState===null&&sc(c);break;case 30:sc(c);break;default:sc(c)}a=a.sibling}}function _a(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,y=a,b=c,M=b.flags;switch(b.tag){case 0:case 11:case 15:_a(y,b,h),Kh(4,b);break;case 1:if(_a(y,b,h),g=b,y=g.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(se){cn(g,g.return,se)}if(g=b,y=g.updateQueue,y!==null){var H=g.stateNode;try{var j=y.shared.hiddenCallbacks;if(j!==null)for(y.shared.hiddenCallbacks=null,y=0;y<j.length;y++)OD(j[y],H)}catch(se){cn(g,g.return,se)}}h&&M&64&&YA(b),Yh(b,b.return);break;case 27:JA(b);case 26:case 5:_a(y,b,h),h&&g===null&&M&4&&XA(b),Yh(b,b.return);break;case 12:_a(y,b,h);break;case 13:_a(y,b,h),h&&M&4&&rP(y,b);break;case 22:b.memoizedState===null&&_a(y,b,h),Yh(b,b.return);break;case 30:break;default:_a(y,b,h)}c=c.sibling}}function xb(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&kh(h))}function Db(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&kh(a))}function zs(a,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)aP(a,c,h,g),c=c.sibling}function aP(a,c,h,g){var y=c.flags;switch(c.tag){case 0:case 11:case 15:zs(a,c,h,g),y&2048&&Kh(9,c);break;case 1:zs(a,c,h,g);break;case 3:zs(a,c,h,g),y&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&kh(a)));break;case 12:if(y&2048){zs(a,c,h,g),a=c.stateNode;try{var b=c.memoizedProps,M=b.id,H=b.onPostCommit;typeof H=="function"&&H(M,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(j){cn(c,c.return,j)}}else zs(a,c,h,g);break;case 13:zs(a,c,h,g);break;case 23:break;case 22:b=c.stateNode,M=c.alternate,c.memoizedState!==null?b._visibility&2?zs(a,c,h,g):Qh(a,c):b._visibility&2?zs(a,c,h,g):(b._visibility|=2,Ou(a,c,h,g,(c.subtreeFlags&10256)!==0)),y&2048&&xb(M,c);break;case 24:zs(a,c,h,g),y&2048&&Db(c.alternate,c);break;default:zs(a,c,h,g)}}function Ou(a,c,h,g,y){for(y=y&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var b=a,M=c,H=h,j=g,se=M.flags;switch(M.tag){case 0:case 11:case 15:Ou(b,M,H,j,y),Kh(8,M);break;case 23:break;case 22:var me=M.stateNode;M.memoizedState!==null?me._visibility&2?Ou(b,M,H,j,y):Qh(b,M):(me._visibility|=2,Ou(b,M,H,j,y)),y&&se&2048&&xb(M.alternate,M);break;case 24:Ou(b,M,H,j,y),y&&se&2048&&Db(M.alternate,M);break;default:Ou(b,M,H,j,y)}c=c.sibling}}function Qh(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,g=c,y=g.flags;switch(g.tag){case 22:Qh(h,g),y&2048&&xb(g.alternate,g);break;case 24:Qh(h,g),y&2048&&Db(g.alternate,g);break;default:Qh(h,g)}c=c.sibling}}var Xh=8192;function Lu(a){if(a.subtreeFlags&Xh)for(a=a.child;a!==null;)lP(a),a=a.sibling}function lP(a){switch(a.tag){case 26:Lu(a),a.flags&Xh&&a.memoizedState!==null&&d4(ps,a.memoizedState,a.memoizedProps);break;case 5:Lu(a);break;case 3:case 4:var c=ps;ps=Pm(a.stateNode.containerInfo),Lu(a),ps=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Xh,Xh=16777216,Lu(a),Xh=c):Lu(a));break;default:Lu(a)}}function cP(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Zh(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];ei=g,dP(g,a)}cP(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uP(a),a=a.sibling}function uP(a){switch(a.tag){case 0:case 11:case 15:Zh(a),a.flags&2048&&Fa(9,a,a.return);break;case 3:Zh(a);break;case 12:Zh(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,vm(a)):Zh(a);break;default:Zh(a)}}function vm(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];ei=g,dP(g,a)}cP(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Fa(8,c,c.return),vm(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,vm(c));break;default:vm(c)}a=a.sibling}}function dP(a,c){for(;ei!==null;){var h=ei;switch(h.tag){case 0:case 11:case 15:Fa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:kh(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,ei=g;else e:for(h=a;ei!==null;){g=ei;var y=g.sibling,b=g.return;if(nP(g),g===h){ei=null;break e}if(y!==null){y.return=b,ei=y;break e}ei=b}}}var DU={getCacheForType:function(a){var c=Ei($n),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h}},AU=typeof WeakMap=="function"?WeakMap:Map,en=0,dn=null,xt=null,Nt=0,tn=0,gr=null,ka=!1,Nu=!1,Ab=!1,Go=0,Rn=0,Oa=0,oc=0,Pb=0,zr=0,Vu=0,Jh=null,Xi=null,Ib=!1,Fb=0,Cm=1/0,ym=null,La=null,di=0,Na=null,Bu=null,Gu=0,Mb=0,_b=null,hP=null,ef=0,kb=null;function mr(){if((en&2)!==0&&Nt!==0)return Nt&-Nt;if(q.T!==null){var a=Du;return a!==0?a:Hb()}return K()}function fP(){zr===0&&(zr=(Nt&536870912)===0||Wt?wo():536870912);var a=Hr.current;return a!==null&&(a.flags|=32),zr}function vr(a,c,h){(a===dn&&(tn===2||tn===9)||a.cancelPendingCommit!==null)&&(Hu(a,0),Va(a,Nt,zr,!1)),us(a,h),((en&2)===0||a!==dn)&&(a===dn&&((en&2)===0&&(oc|=h),Rn===4&&Va(a,Nt,zr,!1)),Us(a))}function pP(a,c,h){if((en&6)!==0)throw Error(i(327));var g=!h&&(c&124)===0&&(c&a.expiredLanes)===0||Ir(a,c),y=g?FU(a,c):Nb(a,c,!0),b=g;do{if(y===0){Nu&&!g&&Va(a,c,0,!1);break}else{if(h=a.current.alternate,b&&!PU(h)){y=Nb(a,c,!1),b=!1;continue}if(y===2){if(b=c,a.errorRecoveryDisabledLanes&b)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){c=M;e:{var H=a;y=Jh;var j=H.current.memoizedState.isDehydrated;if(j&&(Hu(H,M).flags|=256),M=Nb(H,M,!1),M!==2){if(Ab&&!j){H.errorRecoveryDisabledLanes|=b,oc|=b,y=4;break e}b=Xi,Xi=y,b!==null&&(Xi===null?Xi=b:Xi.push.apply(Xi,b))}y=M}if(b=!1,y!==2)continue}}if(y===1){Hu(a,0),Va(a,c,0,!0);break}e:{switch(g=a,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Va(g,c,zr,!ka);break e;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(y=Fb+300-Oe(),10<y)){if(Va(g,c,zr,!ka),yo(g,0,!0)!==0)break e;g.timeoutHandle=UP(gP.bind(null,g,h,Xi,ym,Ib,c,zr,oc,Vu,ka,b,2,-0,0),y);break e}gP(g,h,Xi,ym,Ib,c,zr,oc,Vu,ka,b,0,-0,0)}}break}while(!0);Us(a)}function gP(a,c,h,g,y,b,M,H,j,se,me,ye,le,ce){if(a.timeoutHandle=-1,ye=c.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(lf={stylesheets:null,count:0,unsuspend:u4},lP(c),ye=h4(),ye!==null)){a.cancelPendingCommit=ye(SP.bind(null,a,c,b,h,g,y,M,H,j,me,1,le,ce)),Va(a,b,M,!se);return}SP(a,c,b,h,g,y,M,H,j)}function PU(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var y=h[g],b=y.getSnapshot;y=y.value;try{if(!dr(b(),y))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Va(a,c,h,g){c&=~Pb,c&=~oc,a.suspendedLanes|=c,a.pingedLanes&=~c,g&&(a.warmLanes|=c),g=a.expirationTimes;for(var y=c;0<y;){var b=31-kt(y),M=1<<b;g[b]=-1,y&=~M}h!==0&&Oi(a,h,c)}function wm(){return(en&6)===0?(tf(0),!1):!0}function Ob(){if(xt!==null){if(tn===0)var a=xt.return;else a=xt,Mo=ec=null,Zw(a),_u=null,jh=0,a=xt;for(;a!==null;)KA(a.alternate,a),a=a.return;xt=null}}function Hu(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,qU(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Ob(),dn=a,xt=h=Po(a.current,null),Nt=c,tn=0,gr=null,ka=!1,Nu=Ir(a,c),Ab=!1,Vu=zr=Pb=oc=Oa=Rn=0,Xi=Jh=null,Ib=!1,(c&8)!==0&&(c|=c&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=c;0<g;){var y=31-kt(g),b=1<<y;c|=a[y],g&=~b}return Go=c,zg(),h}function mP(a,c){Et=null,q.H=am,c===Lh||c===Xg?(c=_D(),tn=3):c===ID?(c=_D(),tn=4):tn=c===kA?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,gr=c,xt===null&&(Rn=1,hm(a,Nr(c,a.current)))}function vP(){var a=q.H;return q.H=am,a===null?am:a}function CP(){var a=q.A;return q.A=DU,a}function Lb(){Rn=4,ka||(Nt&4194048)!==Nt&&Hr.current!==null||(Nu=!0),(Oa&134217727)===0&&(oc&134217727)===0||dn===null||Va(dn,Nt,zr,!1)}function Nb(a,c,h){var g=en;en|=2;var y=vP(),b=CP();(dn!==a||Nt!==c)&&(ym=null,Hu(a,c)),c=!1;var M=Rn;e:do try{if(tn!==0&&xt!==null){var H=xt,j=gr;switch(tn){case 8:Ob(),M=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(c=!0);var se=tn;if(tn=0,gr=null,zu(a,H,j,se),h&&Nu){M=0;break e}break;default:se=tn,tn=0,gr=null,zu(a,H,j,se)}}IU(),M=Rn;break}catch(me){mP(a,me)}while(!0);return c&&a.shellSuspendCounter++,Mo=ec=null,en=g,q.H=y,q.A=b,xt===null&&(dn=null,Nt=0,zg()),M}function IU(){for(;xt!==null;)yP(xt)}function FU(a,c){var h=en;en|=2;var g=vP(),y=CP();dn!==a||Nt!==c?(ym=null,Cm=Oe()+500,Hu(a,c)):Nu=Ir(a,c);e:do try{if(tn!==0&&xt!==null){c=xt;var b=gr;t:switch(tn){case 1:tn=0,gr=null,zu(a,c,b,1);break;case 2:case 9:if(FD(b)){tn=0,gr=null,wP(c);break}c=function(){tn!==2&&tn!==9||dn!==a||(tn=7),Us(a)},b.then(c,c);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:FD(b)?(tn=0,gr=null,wP(c)):(tn=0,gr=null,zu(a,c,b,7));break;case 5:var M=null;switch(xt.tag){case 26:M=xt.memoizedState;case 5:case 27:var H=xt;if(!M||tI(M)){tn=0,gr=null;var j=H.sibling;if(j!==null)xt=j;else{var se=H.return;se!==null?(xt=se,bm(se)):xt=null}break t}}tn=0,gr=null,zu(a,c,b,5);break;case 6:tn=0,gr=null,zu(a,c,b,6);break;case 8:Ob(),Rn=6;break e;default:throw Error(i(462))}}MU();break}catch(me){mP(a,me)}while(!0);return Mo=ec=null,q.H=g,q.A=y,en=h,xt!==null?0:(dn=null,Nt=0,zg(),Rn)}function MU(){for(;xt!==null&&!Me();)yP(xt)}function yP(a){var c=$A(a.alternate,a,Go);a.memoizedProps=a.pendingProps,c===null?bm(a):xt=c}function wP(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=GA(h,c,c.pendingProps,c.type,void 0,Nt);break;case 11:c=GA(h,c,c.pendingProps,c.type.render,c.ref,Nt);break;case 5:Zw(c);default:KA(h,c),c=xt=bD(c,Go),c=$A(h,c,Go)}a.memoizedProps=a.pendingProps,c===null?bm(a):xt=c}function zu(a,c,h,g){Mo=ec=null,Zw(c),_u=null,jh=0;var y=c.return;try{if(bU(a,y,c,h,Nt)){Rn=1,hm(a,Nr(h,a.current)),xt=null;return}}catch(b){if(y!==null)throw xt=y,b;Rn=1,hm(a,Nr(h,a.current)),xt=null;return}c.flags&32768?(Wt||g===1?a=!0:Nu||(Nt&536870912)!==0?a=!1:(ka=a=!0,(g===2||g===9||g===3||g===6)&&(g=Hr.current,g!==null&&g.tag===13&&(g.flags|=16384))),bP(c,a)):bm(c)}function bm(a){var c=a;do{if((c.flags&32768)!==0){bP(c,ka);return}a=c.return;var h=EU(c.alternate,c,Go);if(h!==null){xt=h;return}if(c=c.sibling,c!==null){xt=c;return}xt=c=a}while(c!==null);Rn===0&&(Rn=5)}function bP(a,c){do{var h=RU(a.alternate,a);if(h!==null){h.flags&=32767,xt=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){xt=a;return}xt=a=h}while(a!==null);Rn=6,xt=null}function SP(a,c,h,g,y,b,M,H,j){a.cancelPendingCommit=null;do Sm();while(di!==0);if((en&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(b=c.lanes|c.childLanes,b|=Dw,va(a,h,b,M,H,j),a===dn&&(xt=dn=null,Nt=0),Bu=c,Na=a,Gu=h,Mb=b,_b=y,hP=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,LU(yt,function(){return DP(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=q.T,q.T=null,y=ne.p,ne.p=2,M=en,en|=4;try{TU(a,c,h)}finally{en=M,ne.p=y,q.T=g}}di=1,EP(),RP(),TP()}}function EP(){if(di===1){di=0;var a=Na,c=Bu,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=q.T,q.T=null;var g=ne.p;ne.p=2;var y=en;en|=4;try{sP(c,a);var b=Yb,M=dD(a.containerInfo),H=b.focusedElem,j=b.selectionRange;if(M!==H&&H&&H.ownerDocument&&uD(H.ownerDocument.documentElement,H)){if(j!==null&&Sw(H)){var se=j.start,me=j.end;if(me===void 0&&(me=se),"selectionStart"in H)H.selectionStart=se,H.selectionEnd=Math.min(me,H.value.length);else{var ye=H.ownerDocument||document,le=ye&&ye.defaultView||window;if(le.getSelection){var ce=le.getSelection(),ct=H.textContent.length,tt=Math.min(j.start,ct),on=j.end===void 0?tt:Math.min(j.end,ct);!ce.extend&&tt>on&&(M=on,on=tt,tt=M);var Z=cD(H,tt),Y=cD(H,on);if(Z&&Y&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==Y.node||ce.focusOffset!==Y.offset)){var ie=ye.createRange();ie.setStart(Z.node,Z.offset),ce.removeAllRanges(),tt>on?(ce.addRange(ie),ce.extend(Y.node,Y.offset)):(ie.setEnd(Y.node,Y.offset),ce.addRange(ie))}}}}for(ye=[],ce=H;ce=ce.parentNode;)ce.nodeType===1&&ye.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ye.length;H++){var ve=ye[H];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}km=!!Kb,Yb=Kb=null}finally{en=y,ne.p=g,q.T=h}}a.current=c,di=2}}function RP(){if(di===2){di=0;var a=Na,c=Bu,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=q.T,q.T=null;var g=ne.p;ne.p=2;var y=en;en|=4;try{tP(a,c.alternate,c)}finally{en=y,ne.p=g,q.T=h}}di=3}}function TP(){if(di===4||di===3){di=0,Qe();var a=Na,c=Bu,h=Gu,g=hP;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?di=5:(di=0,Bu=Na=null,xP(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(La=null),Ca(h),c=c.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Le,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=q.T,y=ne.p,ne.p=2,q.T=null;try{for(var b=a.onRecoverableError,M=0;M<g.length;M++){var H=g[M];b(H.value,{componentStack:H.stack})}}finally{q.T=c,ne.p=y}}(Gu&3)!==0&&Sm(),Us(a),y=a.pendingLanes,(h&4194090)!==0&&(y&42)!==0?a===kb?ef++:(ef=0,kb=a):ef=0,tf(0)}}function xP(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,kh(c)))}function Sm(a){return EP(),RP(),TP(),DP()}function DP(){if(di!==5)return!1;var a=Na,c=Mb;Mb=0;var h=Ca(Gu),g=q.T,y=ne.p;try{ne.p=32>h?32:h,q.T=null,h=_b,_b=null;var b=Na,M=Gu;if(di=0,Bu=Na=null,Gu=0,(en&6)!==0)throw Error(i(331));var H=en;if(en|=4,uP(b.current),aP(b,b.current,M,h),en=H,tf(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Le,b)}catch{}return!0}finally{ne.p=y,q.T=g,xP(a,c)}}function AP(a,c,h){c=Nr(h,c),c=hb(a.stateNode,c,2),a=Da(a,c,2),a!==null&&(us(a,2),Us(a))}function cn(a,c,h){if(a.tag===3)AP(a,a,h);else for(;c!==null;){if(c.tag===3){AP(c,a,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(La===null||!La.has(g))){a=Nr(h,a),h=MA(2),g=Da(c,h,2),g!==null&&(_A(h,g,c,a),us(g,2),Us(g));break}}c=c.return}}function Vb(a,c,h){var g=a.pingCache;if(g===null){g=a.pingCache=new AU;var y=new Set;g.set(c,y)}else y=g.get(c),y===void 0&&(y=new Set,g.set(c,y));y.has(h)||(Ab=!0,y.add(h),a=_U.bind(null,a,c,h),c.then(a,a))}function _U(a,c,h){var g=a.pingCache;g!==null&&g.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,dn===a&&(Nt&h)===h&&(Rn===4||Rn===3&&(Nt&62914560)===Nt&&300>Oe()-Fb?(en&2)===0&&Hu(a,0):Pb|=h,Vu===Nt&&(Vu=0)),Us(a)}function PP(a,c){c===0&&(c=Ol()),a=Eu(a,c),a!==null&&(us(a,c),Us(a))}function kU(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),PP(a,h)}function OU(a,c){var h=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(c),PP(a,h)}function LU(a,c){return _t(a,c)}var Em=null,Uu=null,Bb=!1,Rm=!1,Gb=!1,ac=0;function Us(a){a!==Uu&&a.next===null&&(Uu===null?Em=Uu=a:Uu=Uu.next=a),Rm=!0,Bb||(Bb=!0,VU())}function tf(a,c){if(!Gb&&Rm){Gb=!0;do for(var h=!1,g=Em;g!==null;){if(a!==0){var y=g.pendingLanes;if(y===0)var b=0;else{var M=g.suspendedLanes,H=g.pingedLanes;b=(1<<31-kt(42|a)+1)-1,b&=y&~(M&~H),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,_P(g,b))}else b=Nt,b=yo(g,g===dn?b:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(b&3)===0||Ir(g,b)||(h=!0,_P(g,b));g=g.next}while(h);Gb=!1}}function NU(){IP()}function IP(){Rm=Bb=!1;var a=0;ac!==0&&($U()&&(a=ac),ac=0);for(var c=Oe(),h=null,g=Em;g!==null;){var y=g.next,b=FP(g,c);b===0?(g.next=null,h===null?Em=y:h.next=y,y===null&&(Uu=h)):(h=g,(a!==0||(b&3)!==0)&&(Rm=!0)),g=y}tf(a)}function FP(a,c){for(var h=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var M=31-kt(b),H=1<<M,j=y[M];j===-1?((H&h)===0||(H&g)!==0)&&(y[M]=ma(H,c)):j<=c&&(a.expiredLanes|=H),b&=~H}if(c=dn,h=Nt,h=yo(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===c&&(tn===2||tn===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Ie(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Ir(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(g!==null&&Ie(g),Ca(h)){case 2:case 8:h=st;break;case 32:h=yt;break;case 268435456:h=Ft;break;default:h=yt}return g=MP.bind(null,a),h=_t(h,g),a.callbackPriority=c,a.callbackNode=h,c}return g!==null&&g!==null&&Ie(g),a.callbackPriority=2,a.callbackNode=null,2}function MP(a,c){if(di!==0&&di!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Sm()&&a.callbackNode!==h)return null;var g=Nt;return g=yo(a,a===dn?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(pP(a,g,c),FP(a,Oe()),a.callbackNode!=null&&a.callbackNode===h?MP.bind(null,a):null)}function _P(a,c){if(Sm())return null;pP(a,c,!0)}function VU(){KU(function(){(en&6)!==0?_t(St,NU):IP()})}function Hb(){return ac===0&&(ac=wo()),ac}function kP(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:du(""+a)}function OP(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function BU(a,c,h,g,y){if(c==="submit"&&h&&h.stateNode===y){var b=kP((y[Ee]||null).action),M=g.submitter;M&&(c=(c=M[Ee]||null)?kP(c.formAction):M.getAttribute("formAction"),c!==null&&(b=c,M=null));var H=new hu("action","action",null,g,y);a.push({event:H,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ac!==0){var j=M?OP(y,M):new FormData(y);ab(h,{pending:!0,data:j,method:y.method,action:b},null,j)}}else typeof b=="function"&&(H.preventDefault(),j=M?OP(y,M):new FormData(y),ab(h,{pending:!0,data:j,method:y.method,action:b},b,j))},currentTarget:y}]})}}for(var zb=0;zb<xw.length;zb++){var Ub=xw[zb],GU=Ub.toLowerCase(),HU=Ub[0].toUpperCase()+Ub.slice(1);fs(GU,"on"+HU)}fs(pD,"onAnimationEnd"),fs(gD,"onAnimationIteration"),fs(mD,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(rU,"onTransitionRun"),fs(sU,"onTransitionStart"),fs(oU,"onTransitionCancel"),fs(vD,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nf));function LP(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],y=g.event;g=g.listeners;e:{var b=void 0;if(c)for(var M=g.length-1;0<=M;M--){var H=g[M],j=H.instance,se=H.currentTarget;if(H=H.listener,j!==b&&y.isPropagationStopped())break e;b=H,y.currentTarget=se;try{b(y)}catch(me){dm(me)}y.currentTarget=null,b=j}else for(M=0;M<g.length;M++){if(H=g[M],j=H.instance,se=H.currentTarget,H=H.listener,j!==b&&y.isPropagationStopped())break e;b=H,y.currentTarget=se;try{b(y)}catch(me){dm(me)}y.currentTarget=null,b=j}}}}function Dt(a,c){var h=c[ze];h===void 0&&(h=c[ze]=new Set);var g=a+"__bubble";h.has(g)||(NP(c,a,2,!1),h.add(g))}function Wb(a,c,h){var g=0;c&&(g|=4),NP(h,a,g,c)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function jb(a){if(!a[Tm]){a[Tm]=!0,Ut.forEach(function(h){h!=="selectionchange"&&(zU.has(h)||Wb(h,!1,a),Wb(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Tm]||(c[Tm]=!0,Wb("selectionchange",!1,c))}}function NP(a,c,h,g){switch(aI(c)){case 2:var y=g4;break;case 8:y=m4;break;default:y=sS}h=y.bind(null,c,h,a),y=void 0,!Or||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(c,h,{capture:!0,passive:y}):a.addEventListener(c,h,!0):y!==void 0?a.addEventListener(c,h,{passive:y}):a.addEventListener(c,h,!1)}function $b(a,c,h,g,y){var b=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var H=g.stateNode.containerInfo;if(H===y)break;if(M===4)for(M=g.return;M!==null;){var j=M.tag;if((j===3||j===4)&&M.stateNode.containerInfo===y)return;M=M.return}for(;H!==null;){if(M=Ct(H),M===null)return;if(j=M.tag,j===5||j===6||j===26||j===27){g=b=M;continue e}H=H.parentNode}}g=g.return}Dg(function(){var se=b,me=kr(h),ye=[];e:{var le=CD.get(a);if(le!==void 0){var ce=hu,ct=a;switch(a){case"keypress":if(ks(h)===0)break e;case"keydown":case"keyup":ce=Cu;break;case"focusin":ct="focus",ce=gu;break;case"focusout":ct="blur",ce=gu;break;case"beforeblur":case"afterblur":ce=gu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Cw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Og;break;case pD:case gD:case mD:ce=mu;break;case vD:ce=Ng;break;case"scroll":case"scrollend":ce=Ag;break;case"wheel":ce=yu;break;case"copy":case"cut":case"paste":ce=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=xh;break;case"toggle":case"beforetoggle":ce=Bg}var tt=(c&4)!==0,on=!tt&&(a==="scroll"||a==="scrollend"),Z=tt?le!==null?le+"Capture":null:le;tt=[];for(var Y=se,ie;Y!==null;){var ve=Y;if(ie=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ie===null||Z===null||(ve=Gl(Y,Z),ve!=null&&tt.push(rf(Y,ve,ie))),on)break;Y=Y.return}0<tt.length&&(le=new ce(le,ct,null,h,me),ye.push({event:le,listeners:tt}))}}if((c&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",le&&h!==Eo&&(ct=h.relatedTarget||h.fromElement)&&(Ct(ct)||ct[_e]))break e;if((ce||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,ce?(ct=h.relatedTarget||h.toElement,ce=se,ct=ct?Ct(ct):null,ct!==null&&(on=s(ct),tt=ct.tag,ct!==on||tt!==5&&tt!==27&&tt!==6)&&(ct=null)):(ce=null,ct=se),ce!==ct)){if(tt=Lr,ve="onMouseLeave",Z="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(tt=xh,ve="onPointerLeave",Z="onPointerEnter",Y="pointer"),on=ce==null?le:ln(ce),ie=ct==null?le:ln(ct),le=new tt(ve,Y+"leave",ce,h,me),le.target=on,le.relatedTarget=ie,ve=null,Ct(me)===se&&(tt=new tt(Z,Y+"enter",ct,h,me),tt.target=ie,tt.relatedTarget=on,ve=tt),on=ve,ce&&ct)t:{for(tt=ce,Z=ct,Y=0,ie=tt;ie;ie=Wu(ie))Y++;for(ie=0,ve=Z;ve;ve=Wu(ve))ie++;for(;0<Y-ie;)tt=Wu(tt),Y--;for(;0<ie-Y;)Z=Wu(Z),ie--;for(;Y--;){if(tt===Z||Z!==null&&tt===Z.alternate)break t;tt=Wu(tt),Z=Wu(Z)}tt=null}else tt=null;ce!==null&&VP(ye,le,ce,tt,!1),ct!==null&&on!==null&&VP(ye,on,ct,tt,!0)}}e:{if(le=se?ln(se):window,ce=le.nodeName&&le.nodeName.toLowerCase(),ce==="select"||ce==="input"&&le.type==="file")var Ne=iD;else if(jn(le))if(rD)Ne=tU;else{Ne=Jz;var Rt=Zz}else ce=le.nodeName,!ce||ce.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&yh(se.elementType)&&(Ne=iD):Ne=eU;if(Ne&&(Ne=Ne(a,se))){Ao(ye,Ne,h,me);break e}Rt&&Rt(a,le,se),a==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&Sa(le,"number",le.value)}switch(Rt=se?ln(se):window,a){case"focusin":(jn(Rt)||Rt.contentEditable==="true")&&(wu=Rt,Ew=se,Ph=null);break;case"focusout":Ph=Ew=wu=null;break;case"mousedown":Rw=!0;break;case"contextmenu":case"mouseup":case"dragend":Rw=!1,hD(ye,h,me);break;case"selectionchange":if(iU)break;case"keydown":case"keyup":hD(ye,h,me)}var je;if(Ns)e:{switch(a){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ot?he(a,h)&&(nt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(nt="onCompositionStart");nt&&(P&&h.locale!=="ko"&&(Ot||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ot&&(je=bh()):(_s=me,Ea="value"in _s?_s.value:_s.textContent,Ot=!0)),Rt=xm(se,nt),0<Rt.length&&(nt=new Rh(nt,a,null,h,me),ye.push({event:nt,listeners:Rt}),je?nt.data=je:(je=xe(h),je!==null&&(nt.data=je)))),(je=T?Wn(a,h):Lt(a,h))&&(nt=xm(se,"onBeforeInput"),0<nt.length&&(Rt=new Rh("onBeforeInput","beforeinput",null,h,me),ye.push({event:Rt,listeners:nt}),Rt.data=je)),BU(ye,a,se,h,me)}LP(ye,c)})}function rf(a,c,h){return{instance:a,listener:c,currentTarget:h}}function xm(a,c){for(var h=c+"Capture",g=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Gl(a,h),y!=null&&g.unshift(rf(a,y,b)),y=Gl(a,c),y!=null&&g.push(rf(a,y,b))),a.tag===3)return g;a=a.return}return[]}function Wu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function VP(a,c,h,g,y){for(var b=c._reactName,M=[];h!==null&&h!==g;){var H=h,j=H.alternate,se=H.stateNode;if(H=H.tag,j!==null&&j===g)break;H!==5&&H!==26&&H!==27||se===null||(j=se,y?(se=Gl(h,b),se!=null&&M.unshift(rf(h,se,j))):y||(se=Gl(h,b),se!=null&&M.push(rf(h,se,j)))),h=h.return}M.length!==0&&a.push({event:c,listeners:M})}var UU=/\r\n?/g,WU=/\u0000|\uFFFD/g;function BP(a){return(typeof a=="string"?a:""+a).replace(UU,`
`).replace(WU,"")}function GP(a,c){return c=BP(c),BP(a)===c}function Dm(){}function sn(a,c,h,g,y,b){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||_r(a,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&_r(a,""+g);break;case"className":Ni(a,"class",g);break;case"tabIndex":Ni(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(a,h,g);break;case"style":Ch(a,g,b);break;case"data":if(c!=="object"){Ni(a,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=du(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(c!=="input"&&sn(a,c,"name",y.name,y,null),sn(a,c,"formEncType",y.formEncType,y,null),sn(a,c,"formMethod",y.formMethod,y,null),sn(a,c,"formTarget",y.formTarget,y,null)):(sn(a,c,"encType",y.encType,y,null),sn(a,c,"method",y.method,y,null),sn(a,c,"target",y.target,y,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=du(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Dm);break;case"onScroll":g!=null&&Dt("scroll",a);break;case"onScrollEnd":g!=null&&Dt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=du(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":Dt("beforetoggle",a),Dt("toggle",a),cr(a,"popover",g);break;case"xlinkActuate":dt(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":dt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":dt(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":dt(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":dt(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":dt(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":dt(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":dt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":dt(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":cr(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=mw.get(h)||h,cr(a,h,g))}}function qb(a,c,h,g,y,b){switch(h){case"style":Ch(a,g,b);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof g=="string"?_r(a,g):(typeof g=="number"||typeof g=="bigint")&&_r(a,""+g);break;case"onScroll":g!=null&&Dt("scroll",a);break;case"onScrollEnd":g!=null&&Dt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Dm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ki.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(y=h.endsWith("Capture"),c=h.slice(2,y?h.length-7:void 0),b=a[Ee]||null,b=b!=null?b[h]:null,typeof b=="function"&&a.removeEventListener(c,b,y),typeof g=="function")){typeof b!="function"&&b!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,g,y);break e}h in a?a[h]=g:g===!0?a.setAttribute(h,""):cr(a,h,g)}}}function hi(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",a),Dt("load",a);var g=!1,y=!1,b;for(b in h)if(h.hasOwnProperty(b)){var M=h[b];if(M!=null)switch(b){case"src":g=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:sn(a,c,b,M,h,null)}}y&&sn(a,c,"srcSet",h.srcSet,h,null),g&&sn(a,c,"src",h.src,h,null);return;case"input":Dt("invalid",a);var H=b=M=y=null,j=null,se=null;for(g in h)if(h.hasOwnProperty(g)){var me=h[g];if(me!=null)switch(g){case"name":y=me;break;case"type":M=me;break;case"checked":j=me;break;case"defaultChecked":se=me;break;case"value":b=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,c));break;default:sn(a,c,g,me,h,null)}}Nl(a,b,H,j,se,M,y,!1),uu(a);return;case"select":Dt("invalid",a),g=M=b=null;for(y in h)if(h.hasOwnProperty(y)&&(H=h[y],H!=null))switch(y){case"value":b=H;break;case"defaultValue":M=H;break;case"multiple":g=H;default:sn(a,c,y,H,h,null)}c=b,h=M,a.multiple=!!g,c!=null?So(a,!!g,c,!1):h!=null&&So(a,!!g,h,!0);return;case"textarea":Dt("invalid",a),b=y=g=null;for(M in h)if(h.hasOwnProperty(M)&&(H=h[M],H!=null))switch(M){case"value":g=H;break;case"defaultValue":y=H;break;case"children":b=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(91));break;default:sn(a,c,M,H,h,null)}Vl(a,g,y,b),uu(a);return;case"option":for(j in h)if(h.hasOwnProperty(j)&&(g=h[j],g!=null))switch(j){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:sn(a,c,j,g,h,null)}return;case"dialog":Dt("beforetoggle",a),Dt("toggle",a),Dt("cancel",a),Dt("close",a);break;case"iframe":case"object":Dt("load",a);break;case"video":case"audio":for(g=0;g<nf.length;g++)Dt(nf[g],a);break;case"image":Dt("error",a),Dt("load",a);break;case"details":Dt("toggle",a);break;case"embed":case"source":case"link":Dt("error",a),Dt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in h)if(h.hasOwnProperty(se)&&(g=h[se],g!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:sn(a,c,se,g,h,null)}return;default:if(yh(c)){for(me in h)h.hasOwnProperty(me)&&(g=h[me],g!==void 0&&qb(a,c,me,g,h,void 0));return}}for(H in h)h.hasOwnProperty(H)&&(g=h[H],g!=null&&sn(a,c,H,g,h,null))}function jU(a,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,M=null,H=null,j=null,se=null,me=null;for(ce in h){var ye=h[ce];if(h.hasOwnProperty(ce)&&ye!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":j=ye;default:g.hasOwnProperty(ce)||sn(a,c,ce,null,g,ye)}}for(var le in g){var ce=g[le];if(ye=h[le],g.hasOwnProperty(le)&&(ce!=null||ye!=null))switch(le){case"type":b=ce;break;case"name":y=ce;break;case"checked":se=ce;break;case"defaultChecked":me=ce;break;case"value":M=ce;break;case"defaultValue":H=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,c));break;default:ce!==ye&&sn(a,c,le,ce,g,ye)}}ur(a,M,H,j,se,me,b,y);return;case"select":ce=M=H=le=null;for(b in h)if(j=h[b],h.hasOwnProperty(b)&&j!=null)switch(b){case"value":break;case"multiple":ce=j;default:g.hasOwnProperty(b)||sn(a,c,b,null,g,j)}for(y in g)if(b=g[y],j=h[y],g.hasOwnProperty(y)&&(b!=null||j!=null))switch(y){case"value":le=b;break;case"defaultValue":H=b;break;case"multiple":M=b;default:b!==j&&sn(a,c,y,b,g,j)}c=H,h=M,g=ce,le!=null?So(a,!!h,le,!1):!!g!=!!h&&(c!=null?So(a,!!h,c,!0):So(a,!!h,h?[]:"",!1));return;case"textarea":ce=le=null;for(H in h)if(y=h[H],h.hasOwnProperty(H)&&y!=null&&!g.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:sn(a,c,H,null,g,y)}for(M in g)if(y=g[M],b=h[M],g.hasOwnProperty(M)&&(y!=null||b!=null))switch(M){case"value":le=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&sn(a,c,M,y,g,b)}nn(a,le,ce);return;case"option":for(var ct in h)if(le=h[ct],h.hasOwnProperty(ct)&&le!=null&&!g.hasOwnProperty(ct))switch(ct){case"selected":a.selected=!1;break;default:sn(a,c,ct,null,g,le)}for(j in g)if(le=g[j],ce=h[j],g.hasOwnProperty(j)&&le!==ce&&(le!=null||ce!=null))switch(j){case"selected":a.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:sn(a,c,j,le,g,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in h)le=h[tt],h.hasOwnProperty(tt)&&le!=null&&!g.hasOwnProperty(tt)&&sn(a,c,tt,null,g,le);for(se in g)if(le=g[se],ce=h[se],g.hasOwnProperty(se)&&le!==ce&&(le!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,c));break;default:sn(a,c,se,le,g,ce)}return;default:if(yh(c)){for(var on in h)le=h[on],h.hasOwnProperty(on)&&le!==void 0&&!g.hasOwnProperty(on)&&qb(a,c,on,void 0,g,le);for(me in g)le=g[me],ce=h[me],!g.hasOwnProperty(me)||le===ce||le===void 0&&ce===void 0||qb(a,c,me,le,g,ce);return}}for(var Z in h)le=h[Z],h.hasOwnProperty(Z)&&le!=null&&!g.hasOwnProperty(Z)&&sn(a,c,Z,null,g,le);for(ye in g)le=g[ye],ce=h[ye],!g.hasOwnProperty(ye)||le===ce||le==null&&ce==null||sn(a,c,ye,le,g,ce)}var Kb=null,Yb=null;function Am(a){return a.nodeType===9?a:a.ownerDocument}function HP(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zP(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Qb(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Xb=null;function $U(){var a=window.event;return a&&a.type==="popstate"?a===Xb?!1:(Xb=a,!0):(Xb=null,!1)}var UP=typeof setTimeout=="function"?setTimeout:void 0,qU=typeof clearTimeout=="function"?clearTimeout:void 0,WP=typeof Promise=="function"?Promise:void 0,KU=typeof queueMicrotask=="function"?queueMicrotask:typeof WP<"u"?function(a){return WP.resolve(null).then(a).catch(YU)}:UP;function YU(a){setTimeout(function(){throw a})}function Ba(a){return a==="head"}function jP(a,c){var h=c,g=0,y=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(0<g&&8>g){h=g;var M=a.ownerDocument;if(h&1&&sf(M.documentElement),h&2&&sf(M.body),h&4)for(h=M.head,sf(h),M=h.firstChild;M;){var H=M.nextSibling,j=M.nodeName;M[Ge]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&M.rel.toLowerCase()==="stylesheet"||h.removeChild(M),M=H}}if(y===0){a.removeChild(b),ff(c);return}y--}else h==="$"||h==="$?"||h==="$!"?y++:g=h.charCodeAt(0)-48;else g=0;h=b}while(h);ff(c)}function Zb(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Zb(h),He(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function QU(a,c,h,g){for(;a.nodeType===1;){var y=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Ge])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=gs(a.nextSibling),a===null)break}return null}function XU(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=gs(a.nextSibling),a===null))return null;return a}function Jb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function ZU(a,c){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function gs(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var eS=null;function $P(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}function qP(a,c,h){switch(c=Am(h),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function sf(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);He(a)}var Ur=new Map,KP=new Set;function Pm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ho=ne.d;ne.d={f:JU,r:e4,D:t4,C:n4,L:i4,m:r4,X:o4,S:s4,M:a4};function JU(){var a=Ho.f(),c=wm();return a||c}function e4(a){var c=Gt(a);c!==null&&c.tag===5&&c.type==="form"?pA(c):Ho.r(a)}var ju=typeof document>"u"?null:document;function YP(a,c,h){var g=ju;if(g&&typeof c=="string"&&c){var y=Ln(c);y='link[rel="'+a+'"][href="'+y+'"]',typeof h=="string"&&(y+='[crossorigin="'+h+'"]'),KP.has(y)||(KP.add(y),a={rel:a,crossOrigin:h,href:c},g.querySelector(y)===null&&(c=g.createElement("link"),hi(c,"link",a),mt(c),g.head.appendChild(c)))}}function t4(a){Ho.D(a),YP("dns-prefetch",a,null)}function n4(a,c){Ho.C(a,c),YP("preconnect",a,c)}function i4(a,c,h){Ho.L(a,c,h);var g=ju;if(g&&a&&c){var y='link[rel="preload"][as="'+Ln(c)+'"]';c==="image"&&h&&h.imageSrcSet?(y+='[imagesrcset="'+Ln(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(y+='[imagesizes="'+Ln(h.imageSizes)+'"]')):y+='[href="'+Ln(a)+'"]';var b=y;switch(c){case"style":b=$u(a);break;case"script":b=qu(a)}Ur.has(b)||(a=f({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),Ur.set(b,a),g.querySelector(y)!==null||c==="style"&&g.querySelector(of(b))||c==="script"&&g.querySelector(af(b))||(c=g.createElement("link"),hi(c,"link",a),mt(c),g.head.appendChild(c)))}}function r4(a,c){Ho.m(a,c);var h=ju;if(h&&a){var g=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+Ln(g)+'"][href="'+Ln(a)+'"]',b=y;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=qu(a)}if(!Ur.has(b)&&(a=f({rel:"modulepreload",href:a},c),Ur.set(b,a),h.querySelector(y)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(af(b)))return}g=h.createElement("link"),hi(g,"link",a),mt(g),h.head.appendChild(g)}}}function s4(a,c,h){Ho.S(a,c,h);var g=ju;if(g&&a){var y=zt(g).hoistableStyles,b=$u(a);c=c||"default";var M=y.get(b);if(!M){var H={loading:0,preload:null};if(M=g.querySelector(of(b)))H.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":c},h),(h=Ur.get(b))&&tS(a,h);var j=M=g.createElement("link");mt(j),hi(j,"link",a),j._p=new Promise(function(se,me){j.onload=se,j.onerror=me}),j.addEventListener("load",function(){H.loading|=1}),j.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Im(M,c,g)}M={type:"stylesheet",instance:M,count:1,state:H},y.set(b,M)}}}function o4(a,c){Ho.X(a,c);var h=ju;if(h&&a){var g=zt(h).hoistableScripts,y=qu(a),b=g.get(y);b||(b=h.querySelector(af(y)),b||(a=f({src:a,async:!0},c),(c=Ur.get(y))&&nS(a,c),b=h.createElement("script"),mt(b),hi(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(y,b))}}function a4(a,c){Ho.M(a,c);var h=ju;if(h&&a){var g=zt(h).hoistableScripts,y=qu(a),b=g.get(y);b||(b=h.querySelector(af(y)),b||(a=f({src:a,async:!0,type:"module"},c),(c=Ur.get(y))&&nS(a,c),b=h.createElement("script"),mt(b),hi(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(y,b))}}function QP(a,c,h,g){var y=(y=Ae.current)?Pm(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=$u(h.href),h=zt(y).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=$u(h.href);var b=zt(y).hoistableStyles,M=b.get(a);if(M||(y=y.ownerDocument||y,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,M),(b=y.querySelector(of(a)))&&!b._p&&(M.instance=b,M.state.loading=5),Ur.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ur.set(a,h),b||l4(y,a,h,M.state))),c&&g===null)throw Error(i(528,""));return M}if(c&&g!==null)throw Error(i(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=qu(h),h=zt(y).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function $u(a){return'href="'+Ln(a)+'"'}function of(a){return'link[rel="stylesheet"]['+a+"]"}function XP(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function l4(a,c,h,g){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=a.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),hi(c,"link",h),mt(c),a.head.appendChild(c))}function qu(a){return'[src="'+Ln(a)+'"]'}function af(a){return"script[async]"+a}function ZP(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=a.querySelector('style[data-href~="'+Ln(h.href)+'"]');if(g)return c.instance=g,mt(g),g;var y=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),mt(g),hi(g,"style",y),Im(g,h.precedence,a),c.instance=g;case"stylesheet":y=$u(h.href);var b=a.querySelector(of(y));if(b)return c.state.loading|=4,c.instance=b,mt(b),b;g=XP(h),(y=Ur.get(y))&&tS(g,y),b=(a.ownerDocument||a).createElement("link"),mt(b);var M=b;return M._p=new Promise(function(H,j){M.onload=H,M.onerror=j}),hi(b,"link",g),c.state.loading|=4,Im(b,h.precedence,a),c.instance=b;case"script":return b=qu(h.src),(y=a.querySelector(af(b)))?(c.instance=y,mt(y),y):(g=h,(y=Ur.get(b))&&(g=f({},h),nS(g,y)),a=a.ownerDocument||a,y=a.createElement("script"),mt(y),hi(y,"link",g),a.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Im(g,h.precedence,a));return c.instance}function Im(a,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=g.length?g[g.length-1]:null,b=y,M=0;M<g.length;M++){var H=g[M];if(H.dataset.precedence===c)b=H;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function tS(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function nS(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Fm=null;function JP(a,c,h){if(Fm===null){var g=new Map,y=Fm=new Map;y.set(h,g)}else y=Fm,g=y.get(h),g||(g=new Map,y.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),y=0;y<h.length;y++){var b=h[y];if(!(b[Ge]||b[we]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(c)||"";M=a+M;var H=g.get(M);H?H.push(b):g.set(M,[b])}}return g}function eI(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function c4(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function tI(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var lf=null;function u4(){}function d4(a,c,h){if(lf===null)throw Error(i(475));var g=lf;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=$u(h.href),b=a.querySelector(of(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Mm.bind(g),a.then(g,g)),c.state.loading|=4,c.instance=b,mt(b);return}b=a.ownerDocument||a,h=XP(h),(y=Ur.get(y))&&tS(h,y),b=b.createElement("link"),mt(b);var M=b;M._p=new Promise(function(H,j){M.onload=H,M.onerror=j}),hi(b,"link",h),c.instance=b}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=Mm.bind(g),a.addEventListener("load",c),a.addEventListener("error",c))}}function h4(){if(lf===null)throw Error(i(475));var a=lf;return a.stylesheets&&a.count===0&&iS(a,a.stylesheets),0<a.count?function(c){var h=setTimeout(function(){if(a.stylesheets&&iS(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Mm(){if(this.count--,this.count===0){if(this.stylesheets)iS(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var _m=null;function iS(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,_m=new Map,c.forEach(f4,a),_m=null,Mm.call(a))}function f4(a,c){if(!(c.state.loading&4)){var h=_m.get(a);if(h)var g=h.get(null);else{h=new Map,_m.set(a,h);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var M=y[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),g=M)}g&&h.set(null,g)}y=c.instance,M=y.getAttribute("data-precedence"),b=h.get(M)||g,b===g&&h.set(null,y),h.set(M,y),this.count++,g=Mm.bind(this),y.addEventListener("load",g),y.addEventListener("error",g),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),c.state.loading|=4}}var cf={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function p4(a,c,h,g,y,b,M,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=g,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function nI(a,c,h,g,y,b,M,H,j,se,me,ye){return a=new p4(a,c,h,M,H,j,se,ye),c=1,b===!0&&(c|=24),b=hr(3,null,null,c),a.current=b,b.stateNode=a,c=Vw(),c.refCount++,a.pooledCache=c,c.refCount++,b.memoizedState={element:g,isDehydrated:h,cache:c},zw(b),a}function iI(a){return a?(a=Ru,a):Ru}function rI(a,c,h,g,y,b){y=iI(y),g.context===null?g.context=y:g.pendingContext=y,g=xa(c),g.payload={element:h},b=b===void 0?null:b,b!==null&&(g.callback=b),h=Da(a,g,c),h!==null&&(vr(h,a,c),Vh(h,a,c))}function sI(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function rS(a,c){sI(a,c),(a=a.alternate)&&sI(a,c)}function oI(a){if(a.tag===13){var c=Eu(a,67108864);c!==null&&vr(c,a,67108864),rS(a,67108864)}}var km=!0;function g4(a,c,h,g){var y=q.T;q.T=null;var b=ne.p;try{ne.p=2,sS(a,c,h,g)}finally{ne.p=b,q.T=y}}function m4(a,c,h,g){var y=q.T;q.T=null;var b=ne.p;try{ne.p=8,sS(a,c,h,g)}finally{ne.p=b,q.T=y}}function sS(a,c,h,g){if(km){var y=oS(g);if(y===null)$b(a,c,g,Om,h),lI(a,g);else if(C4(y,a,c,h,g))g.stopPropagation();else if(lI(a,g),c&4&&-1<v4.indexOf(a)){for(;y!==null;){var b=Gt(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=ar(b.pendingLanes);if(M!==0){var H=b;for(H.pendingLanes|=2,H.entangledLanes|=2;M;){var j=1<<31-kt(M);H.entanglements[1]|=j,M&=~j}Us(b),(en&6)===0&&(Cm=Oe()+500,tf(0))}}break;case 13:H=Eu(b,2),H!==null&&vr(H,b,2),wm(),rS(b,2)}if(b=oS(g),b===null&&$b(a,c,g,Om,h),b===y)break;y=b}y!==null&&g.stopPropagation()}else $b(a,c,g,null,h)}}function oS(a){return a=kr(a),aS(a)}var Om=null;function aS(a){if(Om=null,a=Ct(a),a!==null){var c=s(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=o(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Om=a,null}function aI(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case St:return 2;case st:return 8;case yt:case wt:return 32;case Ft:return 268435456;default:return 32}default:return 32}}var lS=!1,Ga=null,Ha=null,za=null,uf=new Map,df=new Map,Ua=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lI(a,c){switch(a){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":uf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(c.pointerId)}}function hf(a,c,h,g,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:b,targetContainers:[y]},c!==null&&(c=Gt(c),c!==null&&oI(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),a)}function C4(a,c,h,g,y){switch(c){case"focusin":return Ga=hf(Ga,a,c,h,g,y),!0;case"dragenter":return Ha=hf(Ha,a,c,h,g,y),!0;case"mouseover":return za=hf(za,a,c,h,g,y),!0;case"pointerover":var b=y.pointerId;return uf.set(b,hf(uf.get(b)||null,a,c,h,g,y)),!0;case"gotpointercapture":return b=y.pointerId,df.set(b,hf(df.get(b)||null,a,c,h,g,y)),!0}return!1}function cI(a){var c=Ct(a.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){a.blockedOn=c,ee(a.priority,function(){if(h.tag===13){var g=mr();g=Fs(g);var y=Eu(h,g);y!==null&&vr(y,h,g),rS(h,g)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lm(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=oS(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Eo=g,h.target.dispatchEvent(g),Eo=null}else return c=Gt(h),c!==null&&oI(c),a.blockedOn=h,!1;c.shift()}return!0}function uI(a,c,h){Lm(a)&&h.delete(c)}function y4(){lS=!1,Ga!==null&&Lm(Ga)&&(Ga=null),Ha!==null&&Lm(Ha)&&(Ha=null),za!==null&&Lm(za)&&(za=null),uf.forEach(uI),df.forEach(uI)}function Nm(a,c){a.blockedOn===c&&(a.blockedOn=null,lS||(lS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y4)))}var Vm=null;function dI(a){Vm!==a&&(Vm=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vm===a&&(Vm=null);for(var c=0;c<a.length;c+=3){var h=a[c],g=a[c+1],y=a[c+2];if(typeof g!="function"){if(aS(g||h)===null)continue;break}var b=Gt(h);b!==null&&(a.splice(c,3),c-=3,ab(b,{pending:!0,data:y,method:h.method,action:g},g,y))}}))}function ff(a){function c(j){return Nm(j,a)}Ga!==null&&Nm(Ga,a),Ha!==null&&Nm(Ha,a),za!==null&&Nm(za,a),uf.forEach(c),df.forEach(c);for(var h=0;h<Ua.length;h++){var g=Ua[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Ua.length&&(h=Ua[0],h.blockedOn===null);)cI(h),h.blockedOn===null&&Ua.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var y=h[g],b=h[g+1],M=y[Ee]||null;if(typeof b=="function")M||dI(h);else if(M){var H=null;if(b&&b.hasAttribute("formAction")){if(y=b,M=b[Ee]||null)H=M.formAction;else if(aS(y)!==null)continue}else H=M.action;typeof H=="function"?h[g+1]=H:(h.splice(g,3),g-=3),dI(h)}}}function cS(a){this._internalRoot=a}Bm.prototype.render=cS.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var h=c.current,g=mr();rI(h,g,a,c,null,null)},Bm.prototype.unmount=cS.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;rI(a.current,2,null,a,null,null),wm(),c[_e]=null}};function Bm(a){this._internalRoot=a}Bm.prototype.unstable_scheduleHydration=function(a){if(a){var c=K();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Ua.length&&c!==0&&c<Ua[h].priority;h++);Ua.splice(h,0,a),h===0&&cI(a)}};var hI=t.version;if(hI!=="19.1.1")throw Error(i(527,hI,"19.1.1"));ne.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(c),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var w4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gm.isDisabled&&Gm.supportsFiber)try{Le=Gm.inject(w4),et=Gm}catch{}}return gf.createRoot=function(a,c){if(!r(a))throw Error(i(299));var h=!1,g="",y=AA,b=PA,M=IA,H=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(b=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks)),c=nI(a,1,!1,null,null,h,g,y,b,M,H,null),a[_e]=c.current,jb(a),new cS(c)},gf.hydrateRoot=function(a,c,h){if(!r(a))throw Error(i(299));var g=!1,y="",b=AA,M=PA,H=IA,j=null,se=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(H=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(j=h.unstable_transitionCallbacks),h.formState!==void 0&&(se=h.formState)),c=nI(a,1,!0,c,h??null,g,y,b,M,H,j,se),c.context=iI(null),h=c.current,g=mr(),g=Fs(g),y=xa(g),y.callback=null,Da(h,y,g),h=g,c.current.lanes=h,us(c,h),Us(c),a[_e]=c.current,jb(a),new Bm(c)},gf.version="19.1.1",gf}var SI;function P4(){if(SI)return hS.exports;SI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hS.exports=A4(),hS.exports}var I4=P4();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mk=e=>{throw TypeError(e)},F4=(e,t,n)=>t.has(e)||Mk("Cannot "+n),mS=(e,t,n)=>(F4(e,t,"read from private field"),n?n.call(e):t.get(e)),M4=(e,t,n)=>t.has(e)?Mk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),EI="popstate";function _4(e={}){function t(r,s){let{pathname:o="/",search:l="",hash:u=""}=da(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),rp("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=r.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof s=="string"?s:ml(s))}function i(r,s){xn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return O4(t,n,i,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k4(){return Math.random().toString(36).substring(2,10)}function RI(e,t){return{usr:e.state,key:e.key,idx:t}}function rp(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?da(t):t,state:n,key:t&&t.key||i||k4()}}function ml({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function da(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function O4(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){l="POP";let R=f(),x=R==null?null:R-d;d=R,u&&u({action:l,location:E.location,delta:x})}function m(R,x){l="PUSH";let D=rp(E.location,R,x);n&&n(D,R),d=f()+1;let A=RI(D,d),L=E.createHref(D);try{o.pushState(A,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;r.location.assign(L)}s&&u&&u({action:l,location:E.location,delta:1})}function C(R,x){l="REPLACE";let D=rp(E.location,R,x);n&&n(D,R),d=f();let A=RI(D,d),L=E.createHref(D);o.replaceState(A,"",L),s&&u&&u({action:l,location:E.location,delta:0})}function w(R){return _k(R)}let E={get action(){return l},get location(){return e(r,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(EI,p),u=R,()=>{r.removeEventListener(EI,p),u=null}},createHref(R){return t(r,R)},createURL:w,encodeLocation(R){let x=w(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:C,go(R){return o.go(R)}};return E}function _k(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:ml(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Pf,TI=class{constructor(e){if(M4(this,Pf,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(mS(this,Pf).has(e))return mS(this,Pf).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){mS(this,Pf).set(e,t)}};Pf=new WeakMap;var L4=new Set(["lazy","caseSensitive","path","id","index","children"]);function N4(e){return L4.has(e)}var V4=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function B4(e){return V4.has(e)}function G4(e){return e.index===!0}function sp(e,t,n=[],i={},r=!1){return e.map((s,o)=>{let l=[...n,String(o)],u=typeof s.id=="string"?s.id:l.join("-");if(Tt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Tt(r||!i[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),G4(s)){let d={...s,...t(s),id:u};return i[u]=d,d}else{let d={...s,...t(s),id:u,children:void 0};return i[u]=d,s.children&&(d.children=sp(s.children,t,l,i,r)),d}})}function Za(e,t,n="/"){return mv(e,t,n,!1)}function mv(e,t,n,i){let r=typeof t=="string"?da(t):t,s=rs(r.pathname||"/",n);if(s==null)return null;let o=kk(e);z4(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=J4(s);l=X4(o[u],d,i)}return l}function H4(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}function kk(e,t=[],n=[],i=""){let r=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Tt(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let d=Zs([i,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Tt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),kk(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Y4(d,s.index),routesMeta:f})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))r(s,o);else for(let l of Ok(s.path))r(s,o,l)}),t}function Ok(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Ok(i.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function z4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Q4(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var U4=/^:[\w-]+$/,W4=3,j4=2,$4=1,q4=10,K4=-2,xI=e=>e==="*";function Y4(e,t){let n=e.split("/"),i=n.length;return n.some(xI)&&(i+=K4),t&&(i+=j4),n.filter(r=>!xI(r)).reduce((r,s)=>r+(U4.test(s)?W4:s===""?$4:q4),i)}function Q4(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function X4(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",o=[];for(let l=0;l<i.length;++l){let u=i[l],d=l===i.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Kv({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!p&&d&&n&&!i[i.length-1].route.index&&(p=Kv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Zs([s,p.pathname]),pathnameBase:i3(Zs([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Zs([s,p.pathnameBase]))}return o}function Kv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Z4(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:p},m)=>{if(f==="*"){let w=l[m]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const C=l[m];return p&&!C?d[f]=void 0:d[f]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function Z4(e,t=!1,n=!0){xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function J4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function e3({basename:e,pathname:t}){return t==="/"?e:Zs([e,t])}function t3(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?da(e):e;return{pathname:n?n.startsWith("/")?n:n3(n,t):t,search:r3(i),hash:s3(r)}}function n3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function vS(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ly(e){let t=Lk(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function cy(e,t,n,i=!1){let r;typeof e=="string"?r=da(e):(r={...e},Tt(!r.pathname||!r.pathname.includes("?"),vS("?","pathname","search",r)),Tt(!r.pathname||!r.pathname.includes("#"),vS("#","pathname","hash",r)),Tt(!r.search||!r.search.includes("#"),vS("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!i&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}l=p>=0?t[p]:"/"}let u=t3(r,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Zs=e=>e.join("/").replace(/\/\/+/g,"/"),i3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Yv=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function op(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Nk=["POST","PUT","PATCH","DELETE"],o3=new Set(Nk),a3=["GET",...Nk],l3=new Set(a3),c3=new Set([301,302,303,307,308]),u3=new Set([307,308]),CS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},d3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},h3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p0=e=>h3.test(e),f3=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Vk="remix-router-transitions",Bk=Symbol("ResetLoaderData");function p3(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Tt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],r=e.mapRouteProperties||f3,s={},o=sp(e.routes,r,void 0,s),l,u=e.basename||"/",d=e.dataStrategy||y3,f={unstable_middleware:!1,...e.future},p=null,m=new Set,C=null,w=null,E=null,R=e.hydrationData!=null,x=Za(o,e.history.location,u),D=!1,A=null,L;if(x==null&&!e.patchRoutesOnNavigation){let K=qr(404,{pathname:e.history.location.pathname}),{matches:ee,route:oe}=VI(o);L=!0,x=ee,A={[oe.id]:K}}else if(x&&!e.hydrationData&&Oi(x,o,e.history.location.pathname).active&&(x=null),x)if(x.some(K=>K.route.lazy))L=!1;else if(!x.some(K=>K.route.loader))L=!0;else{let K=e.hydrationData?e.hydrationData.loaderData:null,ee=e.hydrationData?e.hydrationData.errors:null;if(ee){let oe=x.findIndex(we=>ee[we.route.id]!==void 0);L=x.slice(0,oe+1).every(we=>!OE(we.route,K,ee))}else L=x.every(oe=>!OE(oe.route,K,ee))}else{L=!1,x=[];let K=Oi(null,o,e.history.location.pathname);K.active&&K.matches&&(D=!0,x=K.matches)}let V,I={historyAction:e.history.action,location:e.history.location,matches:x,initialized:L,navigation:CS,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},_="POP",F=!1,k,O=!1,B=new Map,U=null,G=!1,de=!1,pe=new Set,q=new Map,ne=0,re=-1,ge=new Map,z=new Set,Q=new Map,J=new Map,X=new Set,fe=new Map,Re,Ae=null;function gt(){if(p=e.history.listen(({action:K,location:ee,delta:oe})=>{if(Re){Re(),Re=void 0;return}xn(fe.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=ma({currentLocation:I.location,nextLocation:ee,historyAction:K});if(we&&oe!=null){let Ee=new Promise(_e=>{Re=_e});e.history.go(oe*-1),Ir(we,{state:"blocked",location:ee,proceed(){Ir(we,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Ee.then(()=>e.history.go(oe))},reset(){let _e=new Map(I.blockers);_e.set(we,mf),rt({blockers:_e})}});return}return Ie(K,ee)}),n){I3(t,B);let K=()=>F3(t,B);t.addEventListener("pagehide",K),U=()=>t.removeEventListener("pagehide",K)}return I.initialized||Ie("POP",I.location,{initialHydration:!0}),V}function Ze(){p&&p(),U&&U(),m.clear(),k&&k.abort(),I.fetchers.forEach((K,ee)=>kt(ee)),I.blockers.forEach((K,ee)=>yo(ee))}function Ke(K){return m.add(K),()=>m.delete(K)}function rt(K,ee={}){K.matches&&(K.matches=K.matches.map(Ee=>{let _e=s[Ee.route.id],ze=Ee.route;return ze.element!==_e.element||ze.errorElement!==_e.errorElement||ze.hydrateFallbackElement!==_e.hydrateFallbackElement?{...Ee,route:_e}:Ee})),I={...I,...K};let oe=[],we=[];I.fetchers.forEach((Ee,_e)=>{Ee.state==="idle"&&(X.has(_e)?oe.push(_e):we.push(_e))}),X.forEach(Ee=>{!I.fetchers.has(Ee)&&!q.has(Ee)&&oe.push(Ee)}),[...m].forEach(Ee=>Ee(I,{deletedFetchers:oe,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),oe.forEach(Ee=>kt(Ee)),we.forEach(Ee=>I.fetchers.delete(Ee))}function ht(K,ee,{flushSync:oe}={}){let we=I.actionData!=null&&I.navigation.formMethod!=null&&er(I.navigation.formMethod)&&I.navigation.state==="loading"&&K.state?._isRedirect!==!0,Ee;ee.actionData?Object.keys(ee.actionData).length>0?Ee=ee.actionData:Ee=null:we?Ee=I.actionData:Ee=null;let _e=ee.loaderData?LI(I.loaderData,ee.loaderData,ee.matches||[],ee.errors):I.loaderData,ze=I.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Ge,He)=>ze.set(He,mf)));let Ve=G?!1:va(K,ee.matches||I.matches),Be=F===!0||I.navigation.formMethod!=null&&er(I.navigation.formMethod)&&K.state?._isRedirect!==!0;l&&(o=l,l=void 0),G||_==="POP"||(_==="PUSH"?e.history.push(K,K.state):_==="REPLACE"&&e.history.replace(K,K.state));let Je;if(_==="POP"){let Ge=B.get(I.location.pathname);Ge&&Ge.has(K.pathname)?Je={currentLocation:I.location,nextLocation:K}:B.has(K.pathname)&&(Je={currentLocation:K,nextLocation:I.location})}else if(O){let Ge=B.get(I.location.pathname);Ge?Ge.add(K.pathname):(Ge=new Set([K.pathname]),B.set(I.location.pathname,Ge)),Je={currentLocation:I.location,nextLocation:K}}rt({...ee,actionData:Ee,loaderData:_e,historyAction:_,location:K,initialized:!0,navigation:CS,revalidation:"idle",restoreScrollPosition:Ve,preventScrollReset:Be,blockers:ze},{viewTransitionOpts:Je,flushSync:oe===!0}),_="POP",F=!1,O=!1,G=!1,de=!1,Ae?.resolve(),Ae=null}async function ft(K,ee){if(typeof K=="number"){e.history.go(K);return}let oe=kE(I.location,I.matches,u,K,ee?.fromRouteId,ee?.relative),{path:we,submission:Ee,error:_e}=DI(!1,oe,ee),ze=I.location,Ve=rp(I.location,we,ee&&ee.state);Ve={...Ve,...e.history.encodeLocation(Ve)};let Be=ee&&ee.replace!=null?ee.replace:void 0,Je="PUSH";Be===!0?Je="REPLACE":Be===!1||Ee!=null&&er(Ee.formMethod)&&Ee.formAction===I.location.pathname+I.location.search&&(Je="REPLACE");let Ge=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,He=(ee&&ee.flushSync)===!0,Ct=ma({currentLocation:ze,nextLocation:Ve,historyAction:Je});if(Ct){Ir(Ct,{state:"blocked",location:Ve,proceed(){Ir(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),ft(K,ee)},reset(){let Gt=new Map(I.blockers);Gt.set(Ct,mf),rt({blockers:Gt})}});return}await Ie(Je,Ve,{submission:Ee,pendingError:_e,preventScrollReset:Ge,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:He})}function _t(){Ae||(Ae=M3()),On(),rt({revalidation:"loading"});let K=Ae.promise;return I.navigation.state==="submitting"?K:I.navigation.state==="idle"?(Ie(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),K):(Ie(_||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:O===!0}),K)}async function Ie(K,ee,oe){k&&k.abort(),k=null,_=K,G=(oe&&oe.startUninterruptedRevalidation)===!0,us(I.location,I.matches),F=(oe&&oe.preventScrollReset)===!0,O=(oe&&oe.enableViewTransition)===!0;let we=l||o,Ee=oe&&oe.overrideNavigation,_e=oe?.initialHydration&&I.matches&&I.matches.length>0&&!D?I.matches:Za(we,ee,u),ze=(oe&&oe.flushSync)===!0;if(_e&&I.initialized&&!de&&T3(I.location,ee)&&!(oe&&oe.submission&&er(oe.submission.formMethod))){ht(ee,{matches:_e},{flushSync:ze});return}let Ve=Oi(_e,we,ee.pathname);if(Ve.active&&Ve.matches&&(_e=Ve.matches),!_e){let{error:zt,notFoundMatches:mt,route:Ut}=wo(ee.pathname);ht(ee,{matches:mt,loaderData:{},errors:{[Ut.id]:zt}},{flushSync:ze});return}k=new AbortController;let Be=Ju(e.history,ee,k.signal,oe&&oe.submission),Je=new TI(e.unstable_getContext?await e.unstable_getContext():void 0),Ge;if(oe&&oe.pendingError)Ge=[pc(_e).route.id,{type:"error",error:oe.pendingError}];else if(oe&&oe.submission&&er(oe.submission.formMethod)){let zt=await Me(Be,ee,oe.submission,_e,Je,Ve.active,oe&&oe.initialHydration===!0,{replace:oe.replace,flushSync:ze});if(zt.shortCircuited)return;if(zt.pendingActionResult){let[mt,Ut]=zt.pendingActionResult;if(Cr(Ut)&&op(Ut.error)&&Ut.error.status===404){k=null,ht(ee,{matches:zt.matches,loaderData:{},errors:{[mt]:Ut.error}});return}}_e=zt.matches||_e,Ge=zt.pendingActionResult,Ee=yS(ee,oe.submission),ze=!1,Ve.active=!1,Be=Ju(e.history,Be.url,Be.signal)}let{shortCircuited:He,matches:Ct,loaderData:Gt,errors:ln}=await Qe(Be,ee,_e,Je,Ve.active,Ee,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,ze,Ge);He||(k=null,ht(ee,{matches:Ct||_e,...NI(Ge),loaderData:Gt,errors:ln}))}async function Me(K,ee,oe,we,Ee,_e,ze,Ve={}){On();let Be=A3(ee,oe);if(rt({navigation:Be},{flushSync:Ve.flushSync===!0}),_e){let He=await Is(we,ee.pathname,K.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Ct=pc(He.partialMatches).route.id;return{matches:He.partialMatches,pendingActionResult:[Ct,{type:"error",error:He.error}]}}else if(He.matches)we=He.matches;else{let{notFoundMatches:Ct,error:Gt,route:ln}=wo(ee.pathname);return{matches:Ct,pendingActionResult:[ln.id,{type:"error",error:Gt}]}}}let Je,Ge=vv(we,ee);if(!Ge.route.action&&!Ge.route.lazy)Je={type:"error",error:qr(405,{method:K.method,pathname:ee.pathname,routeId:Ge.route.id})};else{let He=ld(r,s,K,we,Ge,ze?[]:i,Ee),Ct=await Ft(K,He,Ee,null);if(Je=Ct[Ge.route.id],!Je){for(let Gt of we)if(Ct[Gt.route.id]){Je=Ct[Gt.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(mc(Je)){let He;return Ve&&Ve.replace!=null?He=Ve.replace:He=_I(Je.response.headers.get("Location"),new URL(K.url),u)===I.location.pathname+I.location.search,await wt(K,Je,!0,{submission:oe,replace:He}),{shortCircuited:!0}}if(Cr(Je)){let He=pc(we,Ge.route.id);return(Ve&&Ve.replace)!==!0&&(_="PUSH"),{matches:we,pendingActionResult:[He.route.id,Je,Ge.route.id]}}return{matches:we,pendingActionResult:[Ge.route.id,Je]}}async function Qe(K,ee,oe,we,Ee,_e,ze,Ve,Be,Je,Ge,He){let Ct=_e||yS(ee,ze),Gt=ze||Ve||GI(Ct),ln=!G&&!Je;if(Ee){if(ln){let vn=Oe(He);rt({navigation:Ct,...vn!==void 0?{actionData:vn}:{}},{flushSync:Ge})}let dt=await Is(oe,ee.pathname,K.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let vn=pc(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[vn]:dt.error}}}else if(dt.matches)oe=dt.matches;else{let{error:vn,notFoundMatches:bo,route:Vi}=wo(ee.pathname);return{matches:bo,loaderData:{},errors:{[Vi.id]:vn}}}}let zt=l||o,{dsMatches:mt,revalidatingFetchers:Ut}=AI(K,we,r,s,e.history,I,oe,Gt,ee,Je?[]:i,Je===!0,de,pe,X,Q,z,zt,u,e.patchRoutesOnNavigation!=null,He);if(re=++ne,!e.dataStrategy&&!mt.some(dt=>dt.shouldLoad)&&Ut.length===0){let dt=As();return ht(ee,{matches:oe,loaderData:{},errors:He&&Cr(He[1])?{[He[0]]:He[1].error}:null,...NI(He),...dt?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Ge}),{shortCircuited:!0}}if(ln){let dt={};if(!Ee){dt.navigation=Ct;let vn=Oe(He);vn!==void 0&&(dt.actionData=vn)}Ut.length>0&&(dt.fetchers=Ye(Ut)),rt(dt,{flushSync:Ge})}Ut.forEach(dt=>{Pr(dt.key),dt.controller&&q.set(dt.key,dt.controller)});let Ki=()=>Ut.forEach(dt=>Pr(dt.key));k&&k.signal.addEventListener("abort",Ki);let{loaderResults:li,fetcherResults:Qn}=await fn(mt,Ut,K,we);if(K.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Ki),Ut.forEach(dt=>q.delete(dt.key));let Li=Hm(li);if(Li)return await wt(K,Li.result,!0,{replace:Be}),{shortCircuited:!0};if(Li=Hm(Qn),Li)return z.add(Li.key),await wt(K,Li.result,!0,{replace:Be}),{shortCircuited:!0};let{loaderData:ya,errors:lr}=OI(I,oe,li,He,Ut,Qn);Je&&I.errors&&(lr={...I.errors,...lr});let Mr=As(),cr=Ps(re),Ni=Mr||cr||Ut.length>0;return{matches:oe,loaderData:ya,errors:lr,...Ni?{fetchers:new Map(I.fetchers)}:{}}}function Oe(K){if(K&&!Cr(K[1]))return{[K[0]]:K[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Ye(K){return K.forEach(ee=>{let oe=I.fetchers.get(ee.key),we=vf(void 0,oe?oe.data:void 0);I.fetchers.set(ee.key,we)}),new Map(I.fetchers)}async function St(K,ee,oe,we){Pr(K);let Ee=(we&&we.flushSync)===!0,_e=l||o,ze=kE(I.location,I.matches,u,oe,ee,we?.relative),Ve=Za(_e,ze,u),Be=Oi(Ve,_e,ze);if(Be.active&&Be.matches&&(Ve=Be.matches),!Ve){et(K,ee,qr(404,{pathname:ze}),{flushSync:Ee});return}let{path:Je,submission:Ge,error:He}=DI(!0,ze,we);if(He){et(K,ee,He,{flushSync:Ee});return}let Ct=new TI(e.unstable_getContext?await e.unstable_getContext():void 0),Gt=(we&&we.preventScrollReset)===!0;if(Ge&&er(Ge.formMethod)){await st(K,ee,Je,Ve,Ct,Be.active,Ee,Gt,Ge);return}Q.set(K,{routeId:ee,path:Je}),await yt(K,ee,Je,Ve,Ct,Be.active,Ee,Gt,Ge)}async function st(K,ee,oe,we,Ee,_e,ze,Ve,Be){On(),Q.delete(K);let Je=I.fetchers.get(K);Le(K,P3(Be,Je),{flushSync:ze});let Ge=new AbortController,He=Ju(e.history,oe,Ge.signal,Be);if(_e){let un=await Is(we,new URL(He.url).pathname,He.signal,K);if(un.type==="aborted")return;if(un.type==="error"){et(K,ee,un.error,{flushSync:ze});return}else if(un.matches)we=un.matches;else{et(K,ee,qr(404,{pathname:oe}),{flushSync:ze});return}}let Ct=vv(we,oe);if(!Ct.route.action&&!Ct.route.lazy){let un=qr(405,{method:Be.formMethod,pathname:oe,routeId:ee});et(K,ee,un,{flushSync:ze});return}q.set(K,Ge);let Gt=ne,ln=ld(r,s,He,we,Ct,i,Ee),mt=(await Ft(He,ln,Ee,K))[Ct.route.id];if(He.signal.aborted){q.get(K)===Ge&&q.delete(K);return}if(X.has(K)){if(mc(mt)||Cr(mt)){Le(K,Ya(void 0));return}}else{if(mc(mt))if(q.delete(K),re>Gt){Le(K,Ya(void 0));return}else return z.add(K),Le(K,vf(Be)),wt(He,mt,!1,{fetcherSubmission:Be,preventScrollReset:Ve});if(Cr(mt)){et(K,ee,mt.error);return}}let Ut=I.navigation.location||I.location,Ki=Ju(e.history,Ut,Ge.signal),li=l||o,Qn=I.navigation.state!=="idle"?Za(li,I.navigation.location,u):I.matches;Tt(Qn,"Didn't find any matches after fetcher action");let Li=++ne;ge.set(K,Li);let ya=vf(Be,mt.data);I.fetchers.set(K,ya);let{dsMatches:lr,revalidatingFetchers:Mr}=AI(Ki,Ee,r,s,e.history,I,Qn,Be,Ut,i,!1,de,pe,X,Q,z,li,u,e.patchRoutesOnNavigation!=null,[Ct.route.id,mt]);Mr.filter(un=>un.key!==K).forEach(un=>{let ds=un.key,wa=I.fetchers.get(ds),ba=vf(void 0,wa?wa.data:void 0);I.fetchers.set(ds,ba),Pr(ds),un.controller&&q.set(ds,un.controller)}),rt({fetchers:new Map(I.fetchers)});let cr=()=>Mr.forEach(un=>Pr(un.key));Ge.signal.addEventListener("abort",cr);let{loaderResults:Ni,fetcherResults:dt}=await fn(lr,Mr,Ki,Ee);if(Ge.signal.aborted)return;if(Ge.signal.removeEventListener("abort",cr),ge.delete(K),q.delete(K),Mr.forEach(un=>q.delete(un.key)),I.fetchers.has(K)){let un=Ya(mt.data);I.fetchers.set(K,un)}let vn=Hm(Ni);if(vn)return wt(Ki,vn.result,!1,{preventScrollReset:Ve});if(vn=Hm(dt),vn)return z.add(vn.key),wt(Ki,vn.result,!1,{preventScrollReset:Ve});let{loaderData:bo,errors:Vi}=OI(I,Qn,Ni,void 0,Mr,dt);Ps(Li),I.navigation.state==="loading"&&Li>re?(Tt(_,"Expected pending action"),k&&k.abort(),ht(I.navigation.location,{matches:Qn,loaderData:bo,errors:Vi,fetchers:new Map(I.fetchers)})):(rt({errors:Vi,loaderData:LI(I.loaderData,bo,Qn,Vi),fetchers:new Map(I.fetchers)}),de=!1)}async function yt(K,ee,oe,we,Ee,_e,ze,Ve,Be){let Je=I.fetchers.get(K);Le(K,vf(Be,Je?Je.data:void 0),{flushSync:ze});let Ge=new AbortController,He=Ju(e.history,oe,Ge.signal);if(_e){let Ut=await Is(we,new URL(He.url).pathname,He.signal,K);if(Ut.type==="aborted")return;if(Ut.type==="error"){et(K,ee,Ut.error,{flushSync:ze});return}else if(Ut.matches)we=Ut.matches;else{et(K,ee,qr(404,{pathname:oe}),{flushSync:ze});return}}let Ct=vv(we,oe);q.set(K,Ge);let Gt=ne,ln=ld(r,s,He,we,Ct,i,Ee),mt=(await Ft(He,ln,Ee,K))[Ct.route.id];if(q.get(K)===Ge&&q.delete(K),!He.signal.aborted){if(X.has(K)){Le(K,Ya(void 0));return}if(mc(mt))if(re>Gt){Le(K,Ya(void 0));return}else{z.add(K),await wt(He,mt,!1,{preventScrollReset:Ve});return}if(Cr(mt)){et(K,ee,mt.error);return}Le(K,Ya(mt.data))}}async function wt(K,ee,oe,{submission:we,fetcherSubmission:Ee,preventScrollReset:_e,replace:ze}={}){ee.response.headers.has("X-Remix-Revalidate")&&(de=!0);let Ve=ee.response.headers.get("Location");Tt(Ve,"Expected a Location header on the redirect Response"),Ve=_I(Ve,new URL(K.url),u);let Be=rp(I.location,Ve,{_isRedirect:!0});if(n){let ln=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))ln=!0;else if(p0(Ve)){const zt=_k(Ve,!0);ln=zt.origin!==t.location.origin||rs(zt.pathname,u)==null}if(ln){ze?t.location.replace(Ve):t.location.assign(Ve);return}}k=null;let Je=ze===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ge,formAction:He,formEncType:Ct}=I.navigation;!we&&!Ee&&Ge&&He&&Ct&&(we=GI(I.navigation));let Gt=we||Ee;if(u3.has(ee.response.status)&&Gt&&er(Gt.formMethod))await Ie(Je,Be,{submission:{...Gt,formAction:Ve},preventScrollReset:_e||F,enableViewTransition:oe?O:void 0});else{let ln=yS(Be,we);await Ie(Je,Be,{overrideNavigation:ln,fetcherSubmission:Ee,preventScrollReset:_e||F,enableViewTransition:oe?O:void 0})}}async function Ft(K,ee,oe,we){let Ee,_e={};try{Ee=await w3(d,K,ee,we,oe,!1)}catch(ze){return ee.filter(Ve=>Ve.shouldLoad).forEach(Ve=>{_e[Ve.route.id]={type:"error",error:ze}}),_e}if(K.signal.aborted)return _e;for(let[ze,Ve]of Object.entries(Ee))if(x3(Ve)){let Be=Ve.result;_e[ze]={type:"redirect",response:E3(Be,K,ze,ee,u)}}else _e[ze]=await S3(Ve);return _e}async function fn(K,ee,oe,we){let Ee=Ft(oe,K,we,null),_e=Promise.all(ee.map(async Be=>{if(Be.matches&&Be.match&&Be.request&&Be.controller){let Ge=(await Ft(Be.request,Be.matches,we,Be.key))[Be.match.route.id];return{[Be.key]:Ge}}else return Promise.resolve({[Be.key]:{type:"error",error:qr(404,{pathname:Be.path})}})})),ze=await Ee,Ve=(await _e).reduce((Be,Je)=>Object.assign(Be,Je),{});return{loaderResults:ze,fetcherResults:Ve}}function On(){de=!0,Q.forEach((K,ee)=>{q.has(ee)&&pe.add(ee),Pr(ee)})}function Le(K,ee,oe={}){I.fetchers.set(K,ee),rt({fetchers:new Map(I.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function et(K,ee,oe,we={}){let Ee=pc(I.matches,ee);kt(K),rt({errors:{[Ee.route.id]:oe},fetchers:new Map(I.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function ut(K){return J.set(K,(J.get(K)||0)+1),X.has(K)&&X.delete(K),I.fetchers.get(K)||d3}function kt(K){let ee=I.fetchers.get(K);q.has(K)&&!(ee&&ee.state==="loading"&&ge.has(K))&&Pr(K),Q.delete(K),ge.delete(K),z.delete(K),X.delete(K),pe.delete(K),I.fetchers.delete(K)}function ga(K){let ee=(J.get(K)||0)-1;ee<=0?(J.delete(K),X.add(K)):J.set(K,ee),rt({fetchers:new Map(I.fetchers)})}function Pr(K){let ee=q.get(K);ee&&(ee.abort(),q.delete(K))}function Ds(K){for(let ee of K){let oe=ut(ee),we=Ya(oe.data);I.fetchers.set(ee,we)}}function As(){let K=[],ee=!1;for(let oe of z){let we=I.fetchers.get(oe);Tt(we,`Expected fetcher: ${oe}`),we.state==="loading"&&(z.delete(oe),K.push(oe),ee=!0)}return Ds(K),ee}function Ps(K){let ee=[];for(let[oe,we]of ge)if(we<K){let Ee=I.fetchers.get(oe);Tt(Ee,`Expected fetcher: ${oe}`),Ee.state==="loading"&&(Pr(oe),ge.delete(oe),ee.push(oe))}return Ds(ee),ee.length>0}function ar(K,ee){let oe=I.blockers.get(K)||mf;return fe.get(K)!==ee&&fe.set(K,ee),oe}function yo(K){I.blockers.delete(K),fe.delete(K)}function Ir(K,ee){let oe=I.blockers.get(K)||mf;Tt(oe.state==="unblocked"&&ee.state==="blocked"||oe.state==="blocked"&&ee.state==="blocked"||oe.state==="blocked"&&ee.state==="proceeding"||oe.state==="blocked"&&ee.state==="unblocked"||oe.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${oe.state} -> ${ee.state}`);let we=new Map(I.blockers);we.set(K,ee),rt({blockers:we})}function ma({currentLocation:K,nextLocation:ee,historyAction:oe}){if(fe.size===0)return;fe.size>1&&xn(!1,"A router only supports one blocker at a time");let we=Array.from(fe.entries()),[Ee,_e]=we[we.length-1],ze=I.blockers.get(Ee);if(!(ze&&ze.state==="proceeding")&&_e({currentLocation:K,nextLocation:ee,historyAction:oe}))return Ee}function wo(K){let ee=qr(404,{pathname:K}),oe=l||o,{matches:we,route:Ee}=VI(oe);return{notFoundMatches:we,route:Ee,error:ee}}function Ol(K,ee,oe){if(C=K,E=ee,w=oe||null,!R&&I.navigation===CS){R=!0;let we=va(I.location,I.matches);we!=null&&rt({restoreScrollPosition:we})}return()=>{C=null,E=null,w=null}}function Fr(K,ee){return w&&w(K,ee.map(we=>H4(we,I.loaderData)))||K.key}function us(K,ee){if(C&&E){let oe=Fr(K,ee);C[oe]=E()}}function va(K,ee){if(C){let oe=Fr(K,ee),we=C[oe];if(typeof we=="number")return we}return null}function Oi(K,ee,oe){if(e.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:mv(ee,oe,u,!0)}}else return{active:!0,matches:mv(ee,oe,u,!0)||[]};return{active:!1,matches:null}}async function Is(K,ee,oe,we){if(!e.patchRoutesOnNavigation)return{type:"success",matches:K};let Ee=K;for(;;){let _e=l==null,ze=l||o,Ve=s;try{await e.patchRoutesOnNavigation({signal:oe,path:ee,matches:Ee,fetcherKey:we,patch:(Ge,He)=>{oe.aborted||PI(Ge,He,ze,Ve,r,!1)}})}catch(Ge){return{type:"error",error:Ge,partialMatches:Ee}}finally{_e&&!oe.aborted&&(o=[...o])}if(oe.aborted)return{type:"aborted"};let Be=Za(ze,ee,u);if(Be)return{type:"success",matches:Be};let Je=mv(ze,ee,u,!0);if(!Je||Ee.length===Je.length&&Ee.every((Ge,He)=>Ge.route.id===Je[He].route.id))return{type:"success",matches:null};Ee=Je}}function Fs(K){s={},l=sp(K,r,void 0,s)}function Ca(K,ee,oe=!1){let we=l==null;PI(K,ee,l||o,s,r,oe),we&&(o=[...o],rt({}))}return V={get basename(){return u},get future(){return f},get state(){return I},get routes(){return o},get window(){return t},initialize:gt,subscribe:Ke,enableScrollRestoration:Ol,navigate:ft,fetch:St,revalidate:_t,createHref:K=>e.history.createHref(K),encodeLocation:K=>e.history.encodeLocation(K),getFetcher:ut,deleteFetcher:ga,dispose:Ze,getBlocker:ar,deleteBlocker:yo,patchRoutes:Ca,_internalFetchControllers:q,_internalSetRoutes:Fs,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){rt(K)}},V}function g3(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function kE(e,t,n,i,r,s){let o,l;if(r){o=[];for(let d of t)if(o.push(d),d.route.id===r){l=d;break}}else o=t,l=t[t.length-1];let u=cy(i||".",ly(o),rs(e.pathname,n)||e.pathname,s==="path");if(i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l){let d=g0(u.search);if(l.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(C=>C).forEach(C=>f.append("index",C));let m=f.toString();u.search=m?`?${m}`:""}}return n!=="/"&&(u.pathname=e3({basename:n,pathname:u.pathname})),ml(u)}function DI(e,t,n){if(!n||!g3(n))return{path:t};if(n.formMethod&&!D3(n.formMethod))return{path:t,error:qr(405,{method:n.formMethod})};let i=()=>({path:t,error:qr(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=jk(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!er(s))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[C,w])=>`${m}${C}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!er(s))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Tt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=NE(n.formData),u=n.formData;else if(n.body instanceof FormData)l=NE(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=kI(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=kI(l)}catch{return i()}let d={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(er(d.formMethod))return{path:t,submission:d};let f=da(t);return e&&f.search&&g0(f.search)&&l.append("index",""),f.search=`?${l}`,{path:ml(f),submission:d}}function AI(e,t,n,i,r,s,o,l,u,d,f,p,m,C,w,E,R,x,D,A){let L=A?Cr(A[1])?A[1].error:A[1].data:void 0,V=r.createURL(s.location),I=r.createURL(u),_;if(f&&s.errors){let G=Object.keys(s.errors)[0];_=o.findIndex(de=>de.route.id===G)}else if(A&&Cr(A[1])){let G=A[0];_=o.findIndex(de=>de.route.id===G)-1}let F=A?A[1].statusCode:void 0,k=F&&F>=400,O={currentUrl:V,currentParams:s.matches[0]?.params||{},nextUrl:I,nextParams:o[0].params,...l,actionResult:L,actionStatus:F},B=o.map((G,de)=>{let{route:pe}=G,q=null;if(_!=null&&de>_?q=!1:pe.lazy?q=!0:pe.loader==null?q=!1:f?q=OE(pe,s.loaderData,s.errors):m3(s.loaderData,s.matches[de],G)&&(q=!0),q!==null)return LE(n,i,e,G,d,t,q);let ne=k?!1:p||V.pathname+V.search===I.pathname+I.search||V.search!==I.search||v3(s.matches[de],G),re={...O,defaultShouldRevalidate:ne},ge=Qv(G,re);return LE(n,i,e,G,d,t,ge,re)}),U=[];return w.forEach((G,de)=>{if(f||!o.some(J=>J.route.id===G.routeId)||C.has(de))return;let pe=s.fetchers.get(de),q=pe&&pe.state!=="idle"&&pe.data===void 0,ne=Za(R,G.path,x);if(!ne){if(D&&q)return;U.push({key:de,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(E.has(de))return;let re=vv(ne,G.path),ge=new AbortController,z=Ju(r,G.path,ge.signal),Q=null;if(m.has(de))m.delete(de),Q=ld(n,i,z,ne,re,d,t);else if(q)p&&(Q=ld(n,i,z,ne,re,d,t));else{let J={...O,defaultShouldRevalidate:k?!1:p};Qv(re,J)&&(Q=ld(n,i,z,ne,re,d,t,J))}Q&&U.push({key:de,routeId:G.routeId,path:G.path,matches:Q,match:re,request:z,controller:ge})}),{dsMatches:B,revalidatingFetchers:U}}function OE(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=t!=null&&e.id in t,r=n!=null&&n[e.id]!==void 0;return!i&&r?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!r}function m3(e,t,n){let i=!t||n.route.id!==t.route.id,r=!e.hasOwnProperty(n.route.id);return i||r}function v3(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Qv(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function PI(e,t,n,i,r,s){let o;if(e){let d=i[e];Tt(d,`No route found to patch children into: routeId = ${e}`),d.children||(d.children=[]),o=d.children}else o=n;let l=[],u=[];if(t.forEach(d=>{let f=o.find(p=>Gk(d,p));f?u.push({existingRoute:f,newRoute:d}):l.push(d)}),l.length>0){let d=sp(l,r,[e||"_","patch",String(o?.length||"0")],i);o.push(...d)}if(s&&u.length>0)for(let d=0;d<u.length;d++){let{existingRoute:f,newRoute:p}=u[d],m=f,[C]=sp([p],r,[],{},!0);Object.assign(m,{element:C.element?C.element:m.element,errorElement:C.errorElement?C.errorElement:m.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:m.hydrateFallbackElement})}}function Gk(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>t.children?.some(r=>Gk(n,r))):!1}var II=new WeakMap,Hk=({key:e,route:t,manifest:n,mapRouteProperties:i})=>{let r=n[t.id];if(Tt(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let s=r.lazy[e];if(!s)return;let o=II.get(r);o||(o={},II.set(r,o));let l=o[e];if(l)return l;let u=(async()=>{let d=N4(e),p=r[e]!==void 0&&e!=="hasErrorBoundary";if(d)xn(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)xn(!1,`Route "${r.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let m=await s();m!=null&&(Object.assign(r,{[e]:m}),Object.assign(r,i(r)))}typeof r.lazy=="object"&&(r.lazy[e]=void 0,Object.values(r.lazy).every(m=>m===void 0)&&(r.lazy=void 0))})();return o[e]=u,u},FI=new WeakMap;function C3(e,t,n,i,r){let s=n[e.id];if(Tt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=FI.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Tt(typeof e.lazy=="function","No lazy route function found");let m=await e.lazy(),C={};for(let w in m){let E=m[w];if(E===void 0)continue;let R=B4(w),D=s[w]!==void 0&&w!=="hasErrorBoundary";R?xn(!R,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?xn(!D,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):C[w]=E}Object.assign(s,C),Object.assign(s,{...i(s),lazy:void 0})})();return FI.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),l=[],u;for(let f of o){if(r&&r.includes(f))continue;let p=Hk({key:f,route:e,manifest:n,mapRouteProperties:i});p&&(l.push(p),f===t&&(u=p))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function MI(e){let t=e.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(t.map(r=>r.resolve()))).forEach((r,s)=>{n[t[s].route.id]=r}),n}async function y3(e){return e.matches.some(t=>t.route.unstable_middleware)?zk(e,!1,()=>MI(e),(t,n)=>({[n]:{type:"error",result:t}})):MI(e)}async function zk(e,t,n,i){let{matches:r,request:s,params:o,context:l}=e,u={handlerResult:void 0};try{let d=r.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(m=>[p.route.id,m]):[]),f=await Uk({request:s,params:o,context:l},d,t,u,n);return t?f:u.handlerResult}catch(d){if(!u.middlewareError)throw d;let f=await i(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,f):f}}async function Uk(e,t,n,i,r,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let l=t[s];if(!l)return i.handlerResult=await r(),i.handlerResult;let[u,d]=l,f=!1,p,m=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await Uk(e,t,n,i,r,s+1)};try{let C=await d({request:e.request,params:e.params,context:e.context},m);return f?C===void 0?p:C:m()}catch(C){throw i.middlewareError?i.middlewareError.error!==C&&(i.middlewareError={routeId:u,error:C}):i.middlewareError={routeId:u,error:C},C}}function Wk(e,t,n,i,r){let s=Hk({key:"unstable_middleware",route:i.route,manifest:t,mapRouteProperties:e}),o=C3(i.route,er(n.method)?"action":"loader",t,e,r);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function LE(e,t,n,i,r,s,o,l=null){let u=!1,d=Wk(e,t,n,i,r);return{...i,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(f){return u=!0,l?typeof f=="boolean"?Qv(i,{...l,defaultShouldRevalidate:f}):Qv(i,l):o},resolve(f){return u||o||f&&!er(n.method)&&(i.route.lazy||i.route.loader)?b3({request:n,match:i,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function ld(e,t,n,i,r,s,o,l=null){return i.map(u=>u.route.id!==r.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:Wk(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:LE(e,t,n,u,s,o,!0,l))}async function w3(e,t,n,i,r,s){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:r,matches:n},u=await e({...o,fetcherKey:i,unstable_runClientMiddleware:d=>{let f=o;return zk(f,!1,()=>d({...f,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,m)=>({[m]:{type:"error",result:p}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return u}async function b3({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:r,scopedContext:s}){let o,l,u=er(e.method),d=u?"action":"loader",f=p=>{let m,C=new Promise((R,x)=>m=x);l=()=>m(),e.signal.addEventListener("abort",l);let w=R=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:s},...R!==void 0?[R]:[]),E=(async()=>{try{return{type:"data",result:await(r?r(x=>w(x)):w())}}catch(R){return{type:"error",result:R}}})();return Promise.race([E,C])};try{let p=u?t.route.action:t.route.loader;if(n||i)if(p){let m,[C]=await Promise.all([f(p).catch(w=>{m=w}),n,i]);if(m!==void 0)throw m;o=C}else{await n;let m=u?t.route.action:t.route.loader;if(m)[o]=await Promise.all([f(m),i]);else if(d==="action"){let C=new URL(e.url),w=C.pathname+C.search;throw qr(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let m=new URL(e.url),C=m.pathname+m.search;throw qr(404,{pathname:C})}}catch(p){return{type:"error",result:p}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function S3(e){let{result:t,type:n}=e;if($k(t)){let i;try{let r=t.headers.get("Content-Type");r&&/\bapplication\/json\b/.test(r)?t.body==null?i=null:i=await t.json():i=await t.text()}catch(r){return{type:"error",error:r}}return n==="error"?{type:"error",error:new Yv(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:"data",data:i,statusCode:t.status,headers:t.headers}}return n==="error"?BI(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Yv(t.init?.status||500,void 0,t.data),statusCode:op(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:op(t)?t.status:void 0}:BI(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function E3(e,t,n,i,r){let s=e.headers.get("Location");if(Tt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!p0(s)){let o=i.slice(0,i.findIndex(l=>l.route.id===n)+1);s=kE(new URL(t.url),o,r,s),e.headers.set("Location",s)}return e}function _I(e,t,n){if(p0(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),s=rs(r.pathname,n)!=null;if(r.origin===t.origin&&s)return r.pathname+r.search+r.hash}return e}function Ju(e,t,n,i){let r=e.createURL(jk(t)).toString(),s={signal:n};if(i&&er(i.formMethod)){let{formMethod:o,formEncType:l}=i;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(i.json)):l==="text/plain"?s.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?s.body=NE(i.formData):s.body=i.formData}return new Request(r,s)}function NE(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function kI(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function R3(e,t,n,i=!1,r=!1){let s={},o=null,l,u=!1,d={},f=n&&Cr(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let m=p.route.id,C=t[m];if(Tt(!mc(C),"Cannot handle redirect results in processLoaderData"),Cr(C)){let w=C.error;if(f!==void 0&&(w=f,f=void 0),o=o||{},r)o[m]=w;else{let E=pc(e,m);o[E.route.id]==null&&(o[E.route.id]=w)}i||(s[m]=Bk),u||(u=!0,l=op(C.error)?C.error.status:500),C.headers&&(d[m]=C.headers)}else s[m]=C.data,C.statusCode&&C.statusCode!==200&&!u&&(l=C.statusCode),C.headers&&(d[m]=C.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:d}}function OI(e,t,n,i,r,s){let{loaderData:o,errors:l}=R3(t,n,i);return r.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:f,controller:p}=u,m=s[d];if(Tt(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Cr(m)){let C=pc(e.matches,f?.route.id);l&&l[C.route.id]||(l={...l,[C.route.id]:m.error}),e.fetchers.delete(d)}else if(mc(m))Tt(!1,"Unhandled fetcher revalidation redirect");else{let C=Ya(m.data);e.fetchers.set(d,C)}}),{loaderData:o,errors:l}}function LI(e,t,n,i){let r=Object.entries(t).filter(([,s])=>s!==Bk).reduce((s,[o,l])=>(s[o]=l,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(r[o]=e[o]),i&&i.hasOwnProperty(o))break}return r}function NI(e){return e?Cr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function pc(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function VI(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function qr(e,{pathname:t,routeId:n,method:i,type:r,message:s}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&t&&n?l=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",l=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",i&&t&&n?l=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(l=`Invalid request method "${i.toUpperCase()}"`)),new Yv(e||500,o,new Error(l),!0)}function Hm(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,r]=t[n];if(mc(r))return{key:i,result:r}}}function jk(e){let t=typeof e=="string"?da(e):e;return ml({...t,hash:""})}function T3(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function x3(e){return $k(e.result)&&c3.has(e.result.status)}function Cr(e){return e.type==="error"}function mc(e){return(e&&e.type)==="redirect"}function BI(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function $k(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function D3(e){return l3.has(e.toUpperCase())}function er(e){return o3.has(e.toUpperCase())}function g0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function vv(e,t){let n=typeof t=="string"?da(t).search:t.search;if(e[e.length-1].route.index&&g0(n||""))return e[e.length-1];let i=Lk(e);return i[i.length-1]}function GI(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:s,json:o}=e;if(!(!t||!n||!i)){if(r!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:t,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function yS(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function A3(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function vf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function P3(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ya(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function I3(e,t){try{let n=e.sessionStorage.getItem(Vk);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(r,new Set(s||[]))}}catch{}}function F3(e,t){if(t.size>0){let n={};for(let[i,r]of t)n[i]=[...r];try{e.sessionStorage.setItem(Vk,JSON.stringify(n))}catch(i){xn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function M3(){let e,t,n=new Promise((i,r)=>{e=async s=>{i(s);try{await n}catch{}},t=async s=>{r(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Zc=S.createContext(null);Zc.displayName="DataRouter";var qp=S.createContext(null);qp.displayName="DataRouterState";S.createContext(!1);var m0=S.createContext({isTransitioning:!1});m0.displayName="ViewTransition";var qk=S.createContext(new Map);qk.displayName="Fetchers";var _3=S.createContext(null);_3.displayName="Await";var Es=S.createContext(null);Es.displayName="Navigation";var uy=S.createContext(null);uy.displayName="Location";var Rs=S.createContext({outlet:null,matches:[],isDataRoute:!1});Rs.displayName="Route";var v0=S.createContext(null);v0.displayName="RouteError";function k3(e,{relative:t}={}){Tt(Kd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=S.useContext(Es),{hash:r,pathname:s,search:o}=Kp(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:Zs([n,s])),i.createHref({pathname:l,search:o,hash:r})}function Kd(){return S.useContext(uy)!=null}function mo(){return Tt(Kd(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(uy).location}var Kk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yk(e){S.useContext(Es).static||S.useLayoutEffect(e)}function C0(){let{isDataRoute:e}=S.useContext(Rs);return e?Y3():O3()}function O3(){Tt(Kd(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Zc),{basename:t,navigator:n}=S.useContext(Es),{matches:i}=S.useContext(Rs),{pathname:r}=mo(),s=JSON.stringify(ly(i)),o=S.useRef(!1);return Yk(()=>{o.current=!0}),S.useCallback((u,d={})=>{if(xn(o.current,Kk),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=cy(u,JSON.parse(s),r,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,r,e])}var L3=S.createContext(null);function N3(e){let t=S.useContext(Rs).outlet;return t&&S.createElement(L3.Provider,{value:e},t)}function Kp(e,{relative:t}={}){let{matches:n}=S.useContext(Rs),{pathname:i}=mo(),r=JSON.stringify(ly(n));return S.useMemo(()=>cy(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function V3(e,t,n,i){Tt(Kd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=S.useContext(Es),{matches:s}=S.useContext(Rs),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let x=f&&f.path||"";Qk(u,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=mo(),m;m=p;let C=m.pathname||"/",w=C;if(d!=="/"){let x=d.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=Za(e,{pathname:w});return xn(f||E!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),xn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),U3(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Zs([d,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Zs([d,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i)}function B3(){let e=K3(),t=op(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:r},n):null,o)}var G3=S.createElement(B3,null),H3=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(Rs.Provider,{value:this.props.routeContext},S.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z3({routeContext:e,match:t,children:n}){let i=S.useContext(Zc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Rs.Provider,{value:e},n)}function U3(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n?.errors;if(s!=null){let u=r.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);Tt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){o=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((u,d,f)=>{let p,m=!1,C=null,w=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,C=d.route.errorElement||G3,o&&(l<0&&f===0?(Qk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===f&&(m=!0,w=d.route.hydrateFallbackElement||null)));let E=t.concat(r.slice(0,f+1)),R=()=>{let x;return p?x=C:m?x=w:d.route.Component?x=S.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,S.createElement(z3,{match:d,routeContext:{outlet:u,matches:E,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(H3,{location:n.location,revalidation:n.revalidation,component:C,error:p,children:R(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):R()},null)}function y0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W3(e){let t=S.useContext(Zc);return Tt(t,y0(e)),t}function j3(e){let t=S.useContext(qp);return Tt(t,y0(e)),t}function $3(e){let t=S.useContext(Rs);return Tt(t,y0(e)),t}function w0(e){let t=$3(e),n=t.matches[t.matches.length-1];return Tt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function q3(){return w0("useRouteId")}function K3(){let e=S.useContext(v0),t=j3("useRouteError"),n=w0("useRouteError");return e!==void 0?e:t.errors?.[n]}function Y3(){let{router:e}=W3("useNavigate"),t=w0("useNavigate"),n=S.useRef(!1);return Yk(()=>{n.current=!0}),S.useCallback(async(r,s={})=>{xn(n.current,Kk),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var HI={};function Qk(e,t,n){!t&&!HI[e]&&(HI[e]=!0,xn(!1,n))}var zI={};function UI(e,t){!e&&!zI[t]&&(zI[t]=!0,console.warn(t))}function Q3(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&xn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:S.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&xn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:S.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&xn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:S.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var X3=["HydrateFallback","hydrateFallbackElement"],Z3=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function J3({router:e,flushSync:t}){let[n,i]=S.useState(e.state),[r,s]=S.useState(),[o,l]=S.useState({isTransitioning:!1}),[u,d]=S.useState(),[f,p]=S.useState(),[m,C]=S.useState(),w=S.useRef(new Map),E=S.useCallback((A,{deletedFetchers:L,flushSync:V,viewTransitionOpts:I})=>{A.fetchers.forEach((F,k)=>{F.data!==void 0&&w.current.set(k,F.data)}),L.forEach(F=>w.current.delete(F)),UI(V===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(UI(I==null||_,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!_){t&&V?t(()=>i(A)):S.startTransition(()=>i(A));return}if(t&&V){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let F=e.window.document.startViewTransition(()=>{t(()=>i(A))});F.finished.finally(()=>{t(()=>{d(void 0),p(void 0),s(void 0),l({isTransitioning:!1})})}),t(()=>p(F));return}f?(u&&u.resolve(),f.skipTransition(),C({state:A,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(s(A),l({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[e.window,t,f,u]);S.useLayoutEffect(()=>e.subscribe(E),[e,E]),S.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new Z3)},[o]),S.useEffect(()=>{if(u&&r&&e.window){let A=r,L=u.promise,V=e.window.document.startViewTransition(async()=>{S.startTransition(()=>i(A)),await L});V.finished.finally(()=>{d(void 0),p(void 0),s(void 0),l({isTransitioning:!1})}),p(V)}},[r,u,e.window]),S.useEffect(()=>{u&&r&&n.location.key===r.location.key&&u.resolve()},[u,f,n.location,r]),S.useEffect(()=>{!o.isTransitioning&&m&&(s(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),C(void 0))},[o.isTransitioning,m]);let R=S.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,L,V)=>e.navigate(A,{state:L,preventScrollReset:V?.preventScrollReset}),replace:(A,L,V)=>e.navigate(A,{replace:!0,state:L,preventScrollReset:V?.preventScrollReset})}),[e]),x=e.basename||"/",D=S.useMemo(()=>({router:e,navigator:R,static:!1,basename:x}),[e,R,x]);return S.createElement(S.Fragment,null,S.createElement(Zc.Provider,{value:D},S.createElement(qp.Provider,{value:n},S.createElement(qk.Provider,{value:w.current},S.createElement(m0.Provider,{value:o},S.createElement(iW,{basename:x,location:n.location,navigationType:n.historyAction,navigator:R},S.createElement(eW,{routes:e.routes,future:e.future,state:n})))))),null)}var eW=S.memo(tW);function tW({routes:e,future:t,state:n}){return V3(e,void 0,n,t)}function cd({to:e,replace:t,state:n,relative:i}){Tt(Kd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=S.useContext(Es);xn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(Rs),{pathname:o}=mo(),l=C0(),u=cy(e,ly(s),o,i==="path"),d=JSON.stringify(u);return S.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:i})},[l,d,i,t,n]),null}function nW(e){return N3(e.context)}function iW({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Tt(!Kd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=da(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,C=S.useMemo(()=>{let w=rs(u,o);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:m},navigationType:i}},[o,u,d,f,p,m,i]);return xn(C!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:S.createElement(Es.Provider,{value:l},S.createElement(uy.Provider,{children:t,value:C}))}var Cv="get",yv="application/x-www-form-urlencoded";function dy(e){return e!=null&&typeof e.tagName=="string"}function rW(e){return dy(e)&&e.tagName.toLowerCase()==="button"}function sW(e){return dy(e)&&e.tagName.toLowerCase()==="form"}function oW(e){return dy(e)&&e.tagName.toLowerCase()==="input"}function aW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lW(e,t){return e.button===0&&(!t||t==="_self")&&!aW(e)}var zm=null;function cW(){if(zm===null)try{new FormData(document.createElement("form"),0),zm=!1}catch{zm=!0}return zm}var uW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wS(e){return e!=null&&!uW.has(e)?(xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yv}"`),null):e}function dW(e,t){let n,i,r,s,o;if(sW(e)){let l=e.getAttribute("action");i=l?rs(l,t):null,n=e.getAttribute("method")||Cv,r=wS(e.getAttribute("enctype"))||yv,s=new FormData(e)}else if(rW(e)||oW(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(i=u?rs(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Cv,r=wS(e.getAttribute("formenctype"))||wS(l.getAttribute("enctype"))||yv,s=new FormData(l,e),!cW()){let{name:d,type:f,value:p}=e;if(f==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,p)}}else{if(dy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cv,i=null,r=yv,o=e}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hW(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&rs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function fW(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pW(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gW(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await fW(s,n);return o.links?o.links():[]}return[]}));return yW(i.flat(1).filter(pW).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function WI(e,t,n,i,r,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):s==="data"?t.filter((u,d)=>{let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function mW(e,t,{includeHydrateFallback:n}={}){return vW(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function vW(e){return[...new Set(e)]}function CW(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function yW(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let s=JSON.stringify(CW(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function Xk(){let e=S.useContext(Zc);return b0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wW(){let e=S.useContext(qp);return b0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var S0=S.createContext(void 0);S0.displayName="FrameworkContext";function Zk(){let e=S.useContext(S0);return b0(e,"You must render this element inside a <HydratedRouter> element"),e}function bW(e,t){let n=S.useContext(S0),[i,r]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,m=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let E=x=>{x.forEach(D=>{o(D.isIntersecting)})},R=new IntersectionObserver(E,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[e]),S.useEffect(()=>{if(i){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[i]);let C=()=>{r(!0)},w=()=>{r(!1),o(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Cf(l,C),onBlur:Cf(u,w),onMouseEnter:Cf(d,C),onMouseLeave:Cf(f,w),onTouchStart:Cf(p,C)}]:[!1,m,{}]}function Cf(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function SW({page:e,...t}){let{router:n}=Xk(),i=S.useMemo(()=>Za(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?S.createElement(RW,{page:e,matches:i,...t}):null}function EW(e){let{manifest:t,routeModules:n}=Zk(),[i,r]=S.useState([]);return S.useEffect(()=>{let s=!1;return gW(e,t,n).then(o=>{s||r(o)}),()=>{s=!0}},[e,t,n]),i}function RW({page:e,matches:t,...n}){let i=mo(),{manifest:r,routeModules:s}=Zk(),{basename:o}=Xk(),{loaderData:l,matches:u}=wW(),d=S.useMemo(()=>WI(e,t,u,r,i,"data"),[e,t,u,r,i]),f=S.useMemo(()=>WI(e,t,u,r,i,"assets"),[e,t,u,r,i]),p=S.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let w=new Set,E=!1;if(t.forEach(x=>{let D=r.routes[x.route.id];!D||!D.hasLoader||(!d.some(A=>A.route.id===x.route.id)&&x.route.id in l&&s[x.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:w.add(x.route.id))}),w.size===0)return[];let R=hW(e,o,"data");return E&&w.size>0&&R.searchParams.set("_routes",t.filter(x=>w.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[o,l,i,r,d,t,e,s]),m=S.useMemo(()=>mW(f,r),[f,r]),C=EW(f);return S.createElement(S.Fragment,null,p.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),m.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),C.map(({key:w,link:E})=>S.createElement("link",{key:w,...E})))}function TW(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jk&&(window.__reactRouterVersion="7.7.1")}catch{}function xW(e,t){return p3({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:_4({window:t?.window}),hydrationData:DW(),routes:e,mapRouteProperties:Q3,hydrationRouteProperties:X3,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function DW(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:AW(e.errors)}),e}function AW(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&r.__type==="RouteErrorResponse")n[i]=new Yv(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}var eO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tO=S.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:p,...m},C){let{basename:w}=S.useContext(Es),E=typeof d=="string"&&eO.test(d),R,x=!1;if(typeof d=="string"&&E&&(R=d,Jk))try{let k=new URL(window.location.href),O=d.startsWith("//")?new URL(k.protocol+d):new URL(d),B=rs(O.pathname,w);O.origin===k.origin&&B!=null?d=B+O.search+O.hash:x=!0}catch{xn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=k3(d,{relative:r}),[A,L,V]=bW(i,m),I=MW(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:p});function _(k){t&&t(k),k.defaultPrevented||I(k)}let F=S.createElement("a",{...m,...V,href:R||D,onClick:x||s?t:_,ref:TW(C,L),target:u,"data-discover":!E&&n==="render"?"true":void 0});return A&&!E?S.createElement(S.Fragment,null,F,S.createElement(SW,{page:D})):F});tO.displayName="Link";var PW=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:l,children:u,...d},f){let p=Kp(o,{relative:d.relative}),m=mo(),C=S.useContext(qp),{navigator:w,basename:E}=S.useContext(Es),R=C!=null&&NW(p)&&l===!0,x=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,D=m.pathname,A=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(D=D.toLowerCase(),A=A?A.toLowerCase():null,x=x.toLowerCase()),A&&E&&(A=rs(A,E)||A);const L=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let V=D===x||!r&&D.startsWith(x)&&D.charAt(L)==="/",I=A!=null&&(A===x||!r&&A.startsWith(x)&&A.charAt(x.length)==="/"),_={isActive:V,isPending:I,isTransitioning:R},F=V?t:void 0,k;typeof i=="function"?k=i(_):k=[i,V?"active":null,I?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(_):s;return S.createElement(tO,{...d,"aria-current":F,className:k,ref:f,style:O,to:o,viewTransition:l},typeof u=="function"?u(_):u)});PW.displayName="NavLink";var IW=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:o=Cv,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...m},C)=>{let w=OW(),E=LW(l,{relative:d}),R=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&eO.test(l),D=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let L=A.nativeEvent.submitter,V=L?.getAttribute("formmethod")||o;w(L||A.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:r,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return S.createElement("form",{ref:C,method:R,action:E,onSubmit:i?u:D,...m,"data-discover":!x&&e==="render"?"true":void 0})});IW.displayName="Form";function FW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nO(e){let t=S.useContext(Zc);return Tt(t,FW(e)),t}function MW(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let l=C0(),u=mo(),d=Kp(e,{relative:s});return S.useCallback(f=>{if(lW(f,t)){f.preventDefault();let p=n!==void 0?n:ml(u)===ml(d);l(e,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[u,l,d,n,i,t,e,r,s,o])}var _W=0,kW=()=>`__${String(++_W)}__`;function OW(){let{router:e}=nO("useSubmit"),{basename:t}=S.useContext(Es),n=q3();return S.useCallback(async(i,r={})=>{let{action:s,method:o,encType:l,formData:u,body:d}=dW(i,t);if(r.navigate===!1){let f=r.fetcherKey||kW();await e.fetch(f,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function LW(e,{relative:t}={}){let{basename:n}=S.useContext(Es),i=S.useContext(Rs);Tt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Kp(e||".",{relative:t})},o=mo();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Zs([n,s.pathname])),ml(s)}function NW(e,{relative:t}={}){let n=S.useContext(m0);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nO("useViewTransitionState"),r=Kp(e,{relative:t});if(!n.isTransitioning)return!1;let s=rs(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=rs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Kv(r.pathname,o)!=null||Kv(r.pathname,s)!=null}var Yd=Fk();const rl=oy(Yd);function VW(e){return S.createElement(J3,{flushSync:Yd.flushSync,...e})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var In=function(){return In=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},In.apply(this,arguments)};function _c(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function Mi(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},VE.apply(this,arguments)}function E0(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var BW=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,GW=E0(function(e){return BW.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function HW(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function zW(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var UW=function(){function e(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zW(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=HW(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}(),xi="-ms-",Xv="-moz-",jt="-webkit-",iO="comm",R0="rule",T0="decl",WW="@import",rO="@keyframes",jW=Math.abs,hy=String.fromCharCode,$W=Object.assign;function qW(e,t){return mi(e,0)^45?(((t<<2^mi(e,0))<<2^mi(e,1))<<2^mi(e,2))<<2^mi(e,3):0}function sO(e){return e.trim()}function KW(e,t){return(e=t.exec(e))?e[0]:e}function Kt(e,t,n){return e.replace(t,n)}function BE(e,t){return e.indexOf(t)}function mi(e,t){return e.charCodeAt(t)|0}function ap(e,t,n){return e.slice(t,n)}function qs(e){return e.length}function x0(e){return e.length}function Um(e,t){return t.push(e),e}function YW(e,t){return e.map(t).join("")}var fy=1,xd=1,oO=0,sr=0,Gn=0,Qd="";function py(e,t,n,i,r,s,o){return{value:e,root:t,parent:n,type:i,props:r,children:s,line:fy,column:xd,length:o,return:""}}function yf(e,t){return $W(py("",null,null,"",null,null,0),e,{length:-e.length},t)}function QW(){return Gn}function XW(){return Gn=sr>0?mi(Qd,--sr):0,xd--,Gn===10&&(xd=1,fy--),Gn}function Er(){return Gn=sr<oO?mi(Qd,sr++):0,xd++,Gn===10&&(xd=1,fy++),Gn}function Js(){return mi(Qd,sr)}function wv(){return sr}function Yp(e,t){return ap(Qd,e,t)}function lp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aO(e){return fy=xd=1,oO=qs(Qd=e),sr=0,[]}function lO(e){return Qd="",e}function bv(e){return sO(Yp(sr-1,GE(e===91?e+2:e===40?e+1:e)))}function ZW(e){for(;(Gn=Js())&&Gn<33;)Er();return lp(e)>2||lp(Gn)>3?"":" "}function JW(e,t){for(;--t&&Er()&&!(Gn<48||Gn>102||Gn>57&&Gn<65||Gn>70&&Gn<97););return Yp(e,wv()+(t<6&&Js()==32&&Er()==32))}function GE(e){for(;Er();)switch(Gn){case e:return sr;case 34:case 39:e!==34&&e!==39&&GE(Gn);break;case 40:e===41&&GE(e);break;case 92:Er();break}return sr}function e5(e,t){for(;Er()&&e+Gn!==57;)if(e+Gn===84&&Js()===47)break;return"/*"+Yp(t,sr-1)+"*"+hy(e===47?e:Er())}function t5(e){for(;!lp(Js());)Er();return Yp(e,sr)}function jI(e){return lO(Sv("",null,null,null,[""],e=aO(e),0,[0],e))}function Sv(e,t,n,i,r,s,o,l,u){for(var d=0,f=0,p=o,m=0,C=0,w=0,E=1,R=1,x=1,D=0,A="",L=r,V=s,I=i,_=A;R;)switch(w=D,D=Er()){case 40:if(w!=108&&mi(_,p-1)==58){BE(_+=Kt(bv(D),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:_+=bv(D);break;case 9:case 10:case 13:case 32:_+=ZW(w);break;case 92:_+=JW(wv()-1,7);continue;case 47:switch(Js()){case 42:case 47:Um(n5(e5(Er(),wv()),t,n),u);break;default:_+="/"}break;case 123*E:l[d++]=qs(_)*x;case 125*E:case 59:case 0:switch(D){case 0:case 125:R=0;case 59+f:C>0&&qs(_)-p&&Um(C>32?qI(_+";",i,n,p-1):qI(Kt(_," ","")+";",i,n,p-2),u);break;case 59:_+=";";default:if(Um(I=$I(_,t,n,d,f,r,l,A,L=[],V=[],p),s),D===123)if(f===0)Sv(_,t,I,I,L,s,p,l,V);else switch(m===99&&mi(_,3)===110?100:m){case 100:case 109:case 115:Sv(e,I,I,i&&Um($I(e,I,I,0,0,r,l,A,r,L=[],p),V),r,V,p,l,i?L:V);break;default:Sv(_,I,I,I,[""],V,0,l,V)}}d=f=C=0,E=x=1,A=_="",p=o;break;case 58:p=1+qs(_),C=w;default:if(E<1){if(D==123)--E;else if(D==125&&E++==0&&XW()==125)continue}switch(_+=hy(D),D*E){case 38:x=f>0?1:(_+="\f",-1);break;case 44:l[d++]=(qs(_)-1)*x,x=1;break;case 64:Js()===45&&(_+=bv(Er())),m=Js(),f=p=qs(A=_+=t5(wv())),D++;break;case 45:w===45&&qs(_)==2&&(E=0)}}return s}function $I(e,t,n,i,r,s,o,l,u,d,f){for(var p=r-1,m=r===0?s:[""],C=x0(m),w=0,E=0,R=0;w<i;++w)for(var x=0,D=ap(e,p+1,p=jW(E=o[w])),A=e;x<C;++x)(A=sO(E>0?m[x]+" "+D:Kt(D,/&\f/g,m[x])))&&(u[R++]=A);return py(e,t,n,r===0?R0:l,u,d,f)}function n5(e,t,n){return py(e,t,n,iO,hy(QW()),ap(e,2,-2),0)}function qI(e,t,n,i){return py(e,t,n,T0,ap(e,0,i),ap(e,i+1,-1),i)}function Sc(e,t){for(var n="",i=x0(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function KI(e,t,n,i){switch(e.type){case WW:case T0:return e.return=e.return||e.value;case iO:return"";case rO:return e.return=e.value+"{"+Sc(e.children,i)+"}";case R0:e.value=e.props.join(",")}return qs(n=Sc(e.children,i))?e.return=e.value+"{"+n+"}":""}function YI(e){var t=x0(e);return function(n,i,r,s){for(var o="",l=0;l<t;l++)o+=e[l](n,i,r,s)||"";return o}}function i5(e){return function(t){t.root||(t=t.return)&&e(t)}}var r5=function(t){var n=new WeakMap;return function(i){if(n.has(i))return n.get(i);var r=t(i);return n.set(i,r),r}},s5=function(t,n,i){for(var r=0,s=0;r=s,s=Js(),r===38&&s===12&&(n[i]=1),!lp(s);)Er();return Yp(t,sr)},o5=function(t,n){var i=-1,r=44;do switch(lp(r)){case 0:r===38&&Js()===12&&(n[i]=1),t[i]+=s5(sr-1,n,i);break;case 2:t[i]+=bv(r);break;case 4:if(r===44){t[++i]=Js()===58?"&\f":"",n[i]=t[i].length;break}default:t[i]+=hy(r)}while(r=Er());return t},a5=function(t,n){return lO(o5(aO(t),n))},QI=new WeakMap,l5=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,i=t.parent,r=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!QI.get(i))&&!r){QI.set(t,!0);for(var s=[],o=a5(n,s),l=i.props,u=0,d=0;u<o.length;u++)for(var f=0;f<l.length;f++,d++)t.props[d]=s[u]?o[u].replace(/&\f/g,l[f]):l[f]+" "+o[u]}}},c5=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function cO(e,t){switch(qW(e,t)){case 5103:return jt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return jt+e+Xv+e+xi+e+e;case 6828:case 4268:return jt+e+xi+e+e;case 6165:return jt+e+xi+"flex-"+e+e;case 5187:return jt+e+Kt(e,/(\w+).+(:[^]+)/,jt+"box-$1$2"+xi+"flex-$1$2")+e;case 5443:return jt+e+xi+"flex-item-"+Kt(e,/flex-|-self/,"")+e;case 4675:return jt+e+xi+"flex-line-pack"+Kt(e,/align-content|flex-|-self/,"")+e;case 5548:return jt+e+xi+Kt(e,"shrink","negative")+e;case 5292:return jt+e+xi+Kt(e,"basis","preferred-size")+e;case 6060:return jt+"box-"+Kt(e,"-grow","")+jt+e+xi+Kt(e,"grow","positive")+e;case 4554:return jt+Kt(e,/([^-])(transform)/g,"$1"+jt+"$2")+e;case 6187:return Kt(Kt(Kt(e,/(zoom-|grab)/,jt+"$1"),/(image-set)/,jt+"$1"),e,"")+e;case 5495:case 3959:return Kt(e,/(image-set\([^]*)/,jt+"$1$`$1");case 4968:return Kt(Kt(e,/(.+:)(flex-)?(.*)/,jt+"box-pack:$3"+xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jt+e+e;case 4095:case 3583:case 4068:case 2532:return Kt(e,/(.+)-inline(.+)/,jt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qs(e)-1-t>6)switch(mi(e,t+1)){case 109:if(mi(e,t+4)!==45)break;case 102:return Kt(e,/(.+:)(.+)-([^]+)/,"$1"+jt+"$2-$3$1"+Xv+(mi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~BE(e,"stretch")?cO(Kt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(mi(e,t+1)!==115)break;case 6444:switch(mi(e,qs(e)-3-(~BE(e,"!important")&&10))){case 107:return Kt(e,":",":"+jt)+e;case 101:return Kt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jt+(mi(e,14)===45?"inline-":"")+"box$3$1"+jt+"$2$3$1"+xi+"$2box$3")+e}break;case 5936:switch(mi(e,t+11)){case 114:return jt+e+xi+Kt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return jt+e+xi+Kt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return jt+e+xi+Kt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return jt+e+xi+e+e}return e}var u5=function(t,n,i,r){if(t.length>-1&&!t.return)switch(t.type){case T0:t.return=cO(t.value,t.length);break;case rO:return Sc([yf(t,{value:Kt(t.value,"@","@"+jt)})],r);case R0:if(t.length)return YW(t.props,function(s){switch(KW(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sc([yf(t,{props:[Kt(s,/:(read-\w+)/,":"+Xv+"$1")]})],r);case"::placeholder":return Sc([yf(t,{props:[Kt(s,/:(plac\w+)/,":"+jt+"input-$1")]}),yf(t,{props:[Kt(s,/:(plac\w+)/,":"+Xv+"$1")]}),yf(t,{props:[Kt(s,/:(plac\w+)/,xi+"input-$1")]})],r)}return""})}},Ev=typeof document<"u",d5=Ev?void 0:r5(function(){return E0(function(){var e={};return function(t){return e[t]}})}),h5=[u5],uO=function(t){var n=t.key;if(Ev&&n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(L){var V=L.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(L),L.setAttribute("data-s",""))})}var r=t.stylisPlugins||h5,s={},o,l=[];Ev&&(o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(L){for(var V=L.getAttribute("data-emotion").split(" "),I=1;I<V.length;I++)s[V[I]]=!0;l.push(L)}));var u,d=[l5,c5];if(Ev){var f,p=[KI,i5(function(L){f.insert(L)})],m=YI(d.concat(r,p)),C=function(V){return Sc(jI(V),m)};u=function(V,I,_,F){f=_,C(V?V+"{"+I.styles+"}":I.styles),F&&(A.inserted[I.name]=!0)}}else{var w=[KI],E=YI(d.concat(r,w)),R=function(V){return Sc(jI(V),E)},x=d5(r)(n),D=function(V,I){var _=I.name;return x[_]===void 0&&(x[_]=R(V?V+"{"+I.styles+"}":I.styles)),x[_]};u=function(V,I,_,F){var k=I.name,O=D(V,I);if(A.compat===void 0)return F&&(A.inserted[k]=!0),O;if(F)A.inserted[k]=O;else return O}}var A={key:n,sheet:new UW({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return A.sheet.hydrate(l),A},f5=typeof document<"u",XI=function(t){return t()},p5=S.useInsertionEffect?S.useInsertionEffect:!1,g5=f5&&p5||XI,m5=typeof document<"u",Zv=S.createContext(typeof HTMLElement<"u"?uO({key:"css"}):null);Zv.Provider;var dO=function(t){return S.forwardRef(function(n,i){var r=S.useContext(Zv);return t(n,r,i)})};m5||(dO=function(t){return function(n){var i=S.useContext(Zv);return i===null?(i=uO({key:"css"}),S.createElement(Zv.Provider,{value:i},t(n,i))):t(n,i)}});var v5=S.createContext({}),HE=typeof document<"u";function C5(e,t,n){var i="";return n.split(" ").forEach(function(r){e[r]!==void 0?t.push(e[r]+";"):i+=r+" "}),i}var hO=function(t,n,i){var r=t.key+"-"+n.name;(i===!1||HE===!1&&t.compat!==void 0)&&t.registered[r]===void 0&&(t.registered[r]=n.styles)},y5=function(t,n,i){hO(t,n,i);var r=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s="",o=n;do{var l=t.insert(n===o?"."+r:"",o,t.sheet,!0);!HE&&l!==void 0&&(s+=l),o=o.next}while(o!==void 0);if(!HE&&s.length!==0)return s}};function w5(e){for(var t=0,n,i=0,r=e.length;r>=4;++i,r-=4)n=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(r){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var b5={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},S5=/[A-Z]|^ms/g,E5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fO=function(t){return t.charCodeAt(1)===45},ZI=function(t){return t!=null&&typeof t!="boolean"},bS=E0(function(e){return fO(e)?e:e.replace(S5,"-$&").toLowerCase()}),JI=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(E5,function(i,r,s){return Ks={name:r,styles:s,next:Ks},r})}return b5[t]!==1&&!fO(t)&&typeof n=="number"&&n!==0?n+"px":n};function cp(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ks={name:n.name,styles:n.styles,next:Ks},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)Ks={name:i.name,styles:i.styles,next:Ks},i=i.next;var r=n.styles+";";return r}return R5(e,t,n)}case"function":{if(e!==void 0){var s=Ks,o=n(e);return Ks=s,cp(e,t,o)}break}}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function R5(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=cp(e,t,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?i+=s+"{"+t[o]+"}":ZI(o)&&(i+=bS(s)+":"+JI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)ZI(o[l])&&(i+=bS(s)+":"+JI(s,o[l])+";");else{var u=cp(e,t,o);switch(s){case"animation":case"animationName":{i+=bS(s)+":"+u+";";break}default:i+=s+"{"+u+"}"}}}return i}var eF=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ks,T5=function(t,n,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Ks=void 0;var o=t[0];o==null||o.raw===void 0?(r=!1,s+=cp(i,n,o)):s+=o[0];for(var l=1;l<t.length;l++)s+=cp(i,n,t[l]),r&&(s+=o[l]);eF.lastIndex=0;for(var u="",d;(d=eF.exec(s))!==null;)u+="-"+d[1];var f=w5(s)+u;return{name:f,styles:s,next:Ks}},x5=GW,D5=function(t){return t!=="theme"},tF=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?x5:D5},nF=function(t,n,i){var r;if(n){var s=n.shouldForwardProp;r=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof r!="function"&&i&&(r=t.__emotion_forwardProp),r},A5=typeof document<"u",P5=function(t){var n=t.cache,i=t.serialized,r=t.isStringTag;hO(n,i,r);var s=g5(function(){return y5(n,i,r)});if(!A5&&s!==void 0){for(var o,l=i.name,u=i.next;u!==void 0;)l+=" "+u.name,u=u.next;return S.createElement("style",(o={},o["data-emotion"]=n.key+" "+l,o.dangerouslySetInnerHTML={__html:s},o.nonce=n.sheet.nonce,o))}return null},I5=function e(t,n){var i=t.__emotion_real===t,r=i&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var l=nF(t,n,i),u=l||tF(r),d=!u("as");return function(){var f=arguments,p=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)p.push.apply(p,f);else{p.push(f[0][0]);for(var m=f.length,C=1;C<m;C++)p.push(f[C],f[0][C])}var w=dO(function(E,R,x){var D=d&&E.as||r,A="",L=[],V=E;if(E.theme==null){V={};for(var I in E)V[I]=E[I];V.theme=S.useContext(v5)}typeof E.className=="string"?A=C5(R.registered,L,E.className):E.className!=null&&(A=E.className+" ");var _=T5(p.concat(L),R.registered,V);A+=R.key+"-"+_.name,o!==void 0&&(A+=" "+o);var F=d&&l===void 0?tF(D):u,k={};for(var O in E)d&&O==="as"||F(O)&&(k[O]=E[O]);return k.className=A,k.ref=x,S.createElement(S.Fragment,null,S.createElement(P5,{cache:R,serialized:_,isStringTag:typeof D=="string"}),S.createElement(D,k))});return w.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=r,w.__emotion_styles=p,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(E,R){return e(E,VE({},n,R,{shouldForwardProp:nF(w,R,!0)})).apply(void 0,p)},w}},F5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],oi=I5.bind();F5.forEach(function(e){oi[e]=oi(e)});var pO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&i.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var u in s)t.call(s,u)&&s[u]&&i.push(u)}}}return i.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(pO);var Kn=pO.exports,gO=$.createContext(void 0),M5=function(e){var t=e.children,n=$.useState({collapsed:!1,toggled:!1,broken:!1,rtl:!1,transitionDuration:300}),i=n[0],r=n[1],s=$.useCallback(function(d){r(function(f){return In(In({},f),d)})},[]),o=$.useCallback(function(){r(function(d){return In(In({},d),{collapsed:!d?.collapsed})})},[]),l=$.useCallback(function(){r(function(d){return In(In({},d),{toggled:!d?.toggled})})},[]),u=$.useMemo(function(){return In(In({},i),{updateSidebarState:s,updateCollapseState:o,updateToggleState:l})},[i,o,s,l]);return $.createElement(gO.Provider,{value:u},t)},mO=function(){var e=$.useContext(gO);return e},_5=function(e){var t=$.useState(!!e&&typeof window<"u"&&window.matchMedia(e).matches),n=t[0],i=t[1];return $.useEffect(function(){if(e){var r=window.matchMedia(e),s=function(){r.matches!==n&&i(r.matches)};return s(),r.addEventListener("change",s),function(){return r.removeEventListener("change",s)}}},[n,e]),n},Pn={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},$t={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},k5=oi.div(iF||(iF=Mi([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),iF,O5={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},L5=oi.aside(rF||(rF=Mi([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")},function(e){var t=e.width;return t},function(e){var t=e.width;return t},Pn.collapsed,function(e){var t=e.collapsedWidth;return t},function(e){var t=e.collapsedWidth;return t},Pn.rtl,Pn.broken,function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")},Pn.collapsed,function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")},Pn.toggled,function(e){var t=e.rtl;return t?"":"left: 0;"},Pn.rtl,function(e){var t=e.width;return t},Pn.collapsed,function(e){var t=e.collapsedWidth;return t},Pn.toggled,function(e){var t=e.rootStyles;return t}),N5=oi.div(sF||(sF=Mi([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""}),V5=oi.img(oF||(oF=Mi([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),Pn.image),gy=$.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),B5=$.forwardRef(function(e,t){var n,i=e.collapsed,r=e.toggled,s=e.onBackdropClick,o=e.onBreakPoint,l=e.width,u=l===void 0?"250px":l,d=e.collapsedWidth,f=d===void 0?"80px":d,p=e.defaultCollapsed,m=e.className,C=e.children,w=e.breakPoint,E=e.customBreakPoint,R=e.backgroundColor,x=R===void 0?"rgb(249, 249, 249, 0.7)":R,D=e.transitionDuration,A=D===void 0?300:D,L=e.image,V=e.rtl,I=e.rootStyles,_=_c(e,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),F=function(){if(E)return"(max-width: ".concat(E,")");if(w)return["xs","sm","md","lg","xl","xxl"].includes(w)?"(max-width: ".concat(O5[w],")"):w==="always"||w==="all"?(w==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(w,")")},k=$.useRef();k.current=function(re){o?.(re)};var O=_5(F()),B=$.useState(!1),U=B[0],G=B[1],de=mO(),pe=i??(!U&&p?!0:de?.collapsed),q=r??de?.toggled,ne=function(){s?.(),de?.updateSidebarState({toggled:!1})};return $.useEffect(function(){var re;(re=k.current)===null||re===void 0||re.call(k,O)},[O]),$.useEffect(function(){de?.updateSidebarState({broken:O,rtl:V,transitionDuration:A})},[O,de?.updateSidebarState,V,A]),$.useEffect(function(){U||(de?.updateSidebarState({collapsed:p}),G(!0))},[p,U,de?.updateSidebarState]),$.createElement(gy.Provider,{value:{collapsed:pe,toggled:q,rtl:V,transitionDuration:A}},$.createElement(L5,In({ref:t,"data-testid":"".concat(Pn.root,"-test-id"),rtl:V,rootStyles:I,width:u,collapsedWidth:f,transitionDuration:A,className:Kn(Pn.root,(n={},n[Pn.collapsed]=pe,n[Pn.toggled]=q,n[Pn.broken]=O,n[Pn.rtl]=V,n),m)},_),$.createElement(N5,{"data-testid":"".concat(Pn.container,"-test-id"),className:Pn.container,backgroundColor:x},C),L&&$.createElement(V5,{"data-testid":"".concat(Pn.image,"-test-id"),src:L,alt:"sidebar background",className:Pn.image}),O&&q&&$.createElement(k5,{"data-testid":"".concat(Pn.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:ne,onKeyPress:ne,className:Pn.backdrop})))}),rF,sF,oF,vO=oi.ul(aF||(aF=Mi([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),aF,G5=oi.nav(lF||(lF=Mi([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),$t.root,function(e){var t=e.rootStyles;return t}),CO=$.createContext(void 0),Jv=$.createContext(0),H5=function(e,t){var n=e.children,i=e.className,r=e.transitionDuration,s=r===void 0?300:r,o=e.closeOnClick,l=o===void 0?!1:o,u=e.rootStyles,d=e.menuItemStyles,f=e.renderExpandIcon,p=_c(e,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),m=$.useMemo(function(){return{transitionDuration:s,closeOnClick:l,menuItemStyles:d,renderExpandIcon:f}},[s,l,d,f]);return $.createElement(CO.Provider,{value:m},$.createElement(Jv.Provider,{value:0},$.createElement(G5,In({ref:t,className:Kn($t.root,i),rootStyles:u},p),$.createElement(vO,null,n))))},z5=$.forwardRef(H5),lF,D0=function(){var e=$.useContext(CO);if(e===void 0)throw new Error("Menu Component is required!");return e},U5=oi.div(cF||(cF=Mi([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(e){var t=e.transitionDuration;return t},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(e){var t=e.defaultOpen;return t&&"height: auto;display: block;"},function(e){var t=e.collapsed,n=e.firstLevel,i=e.openWhenCollapsed;return t&&n?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(i?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(e){var t=e.rootStyles;return t}),W5=function(e,t){var n=e.children,i=e.open,r=e.openWhenCollapsed,s=e.firstLevel,o=e.collapsed,l=e.defaultOpen,u=_c(e,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),d=D0().transitionDuration,f=$.useState(l)[0];return $.createElement(U5,In({"data-testid":"".concat($t.subMenuContent,"-test-id"),ref:t,firstLevel:s,collapsed:o,open:i,openWhenCollapsed:r,transitionDuration:d,defaultOpen:f},u),$.createElement(vO,null,n))},j5=$.forwardRef(W5),cF,yO=oi.span(uF||(uF=Mi([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(e){var t=e.rootStyles;return t}),uF,wO=oi.span(dF||(dF=Mi([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 10px;":"margin-right: 10px;"},function(e){var t=e.rootStyles;return t}),dF,bO=oi.span(hF||(hF=Mi([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 5px;":"margin-right: 5px;"},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),hF,SO=oi.span(fF||(fF=Mi([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),fF,$5=oi.span(pF||(pF=Mi([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(e){var t=e.collapsed,n=e.level,i=e.rtl;return t&&n===0&&`
    position: absolute;
    `.concat(i?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(e){var t=e.rootStyles;return t}),q5=oi.span(gF||(gF=Mi([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(e){var t=e.rtl;return t?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"}),K5=oi.span(mF||(mF=Mi([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),pF,gF,mF,ir="top",ss="bottom",os="right",rr="left",A0="auto",Qp=[ir,ss,os,rr],Dd="start",up="end",Y5="clippingParents",EO="viewport",wf="popper",Q5="reference",vF=Qp.reduce(function(e,t){return e.concat([t+"-"+Dd,t+"-"+up])},[]),RO=[].concat(Qp,[A0]).reduce(function(e,t){return e.concat([t,t+"-"+Dd,t+"-"+up])},[]),X5="beforeRead",Z5="read",J5="afterRead",e6="beforeMain",t6="main",n6="afterMain",i6="beforeWrite",r6="write",s6="afterWrite",o6=[X5,Z5,J5,e6,t6,n6,i6,r6,s6];function co(e){return e?(e.nodeName||"").toLowerCase():null}function cs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function kc(e){var t=cs(e).Element;return e instanceof t||e instanceof Element}function ns(e){var t=cs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function P0(e){if(typeof ShadowRoot>"u")return!1;var t=cs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function a6(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},s=t.elements[n];!ns(s)||!co(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var l=r[o];l===!1?s.removeAttribute(o):s.setAttribute(o,l===!0?"":l)}))})}function l6(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),l=o.reduce(function(u,d){return u[d]="",u},{});!ns(r)||!co(r)||(Object.assign(r.style,l),Object.keys(s).forEach(function(u){r.removeAttribute(u)}))})}}var c6={name:"applyStyles",enabled:!0,phase:"write",fn:a6,effect:l6,requires:["computeStyles"]};function eo(e){return e.split("-")[0]}var Ec=Math.max,eC=Math.min,Ad=Math.round;function zE(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function TO(){return!/^((?!chrome|android).)*safari/i.test(zE())}function Pd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&ns(e)&&(r=e.offsetWidth>0&&Ad(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ad(i.height)/e.offsetHeight||1);var o=kc(e)?cs(e):window,l=o.visualViewport,u=!TO()&&n,d=(i.left+(u&&l?l.offsetLeft:0))/r,f=(i.top+(u&&l?l.offsetTop:0))/s,p=i.width/r,m=i.height/s;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d,x:d,y:f}}function I0(e){var t=Pd(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function xO(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&P0(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function na(e){return cs(e).getComputedStyle(e)}function u6(e){return["table","td","th"].indexOf(co(e))>=0}function Al(e){return((kc(e)?e.ownerDocument:e.document)||window.document).documentElement}function my(e){return co(e)==="html"?e:e.assignedSlot||e.parentNode||(P0(e)?e.host:null)||Al(e)}function CF(e){return!ns(e)||na(e).position==="fixed"?null:e.offsetParent}function d6(e){var t=/firefox/i.test(zE()),n=/Trident/i.test(zE());if(n&&ns(e)){var i=na(e);if(i.position==="fixed")return null}var r=my(e);for(P0(r)&&(r=r.host);ns(r)&&["html","body"].indexOf(co(r))<0;){var s=na(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Xp(e){for(var t=cs(e),n=CF(e);n&&u6(n)&&na(n).position==="static";)n=CF(n);return n&&(co(n)==="html"||co(n)==="body"&&na(n).position==="static")?t:n||d6(e)||t}function F0(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hf(e,t,n){return Ec(e,eC(t,n))}function h6(e,t,n){var i=Hf(e,t,n);return i>n?n:i}function DO(){return{top:0,right:0,bottom:0,left:0}}function AO(e){return Object.assign({},DO(),e)}function PO(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var f6=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,AO(typeof t!="number"?t:PO(t,Qp))};function p6(e){var t,n=e.state,i=e.name,r=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=eo(n.placement),u=F0(l),d=[rr,os].indexOf(l)>=0,f=d?"height":"width";if(!(!s||!o)){var p=f6(r.padding,n),m=I0(s),C=u==="y"?ir:rr,w=u==="y"?ss:os,E=n.rects.reference[f]+n.rects.reference[u]-o[u]-n.rects.popper[f],R=o[u]-n.rects.reference[u],x=Xp(s),D=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0,A=E/2-R/2,L=p[C],V=D-m[f]-p[w],I=D/2-m[f]/2+A,_=Hf(L,I,V),F=u;n.modifiersData[i]=(t={},t[F]=_,t.centerOffset=_-I,t)}}function g6(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||xO(t.elements.popper,r)&&(t.elements.arrow=r))}var m6={name:"arrow",enabled:!0,phase:"main",fn:p6,effect:g6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Id(e){return e.split("-")[1]}var v6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function C6(e){var t=e.x,n=e.y,i=window,r=i.devicePixelRatio||1;return{x:Ad(t*r)/r||0,y:Ad(n*r)/r||0}}function yF(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,l=e.position,u=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,p=e.isFixed,m=o.x,C=m===void 0?0:m,w=o.y,E=w===void 0?0:w,R=typeof f=="function"?f({x:C,y:E}):{x:C,y:E};C=R.x,E=R.y;var x=o.hasOwnProperty("x"),D=o.hasOwnProperty("y"),A=rr,L=ir,V=window;if(d){var I=Xp(n),_="clientHeight",F="clientWidth";if(I===cs(n)&&(I=Al(n),na(I).position!=="static"&&l==="absolute"&&(_="scrollHeight",F="scrollWidth")),I=I,r===ir||(r===rr||r===os)&&s===up){L=ss;var k=p&&I===V&&V.visualViewport?V.visualViewport.height:I[_];E-=k-i.height,E*=u?1:-1}if(r===rr||(r===ir||r===ss)&&s===up){A=os;var O=p&&I===V&&V.visualViewport?V.visualViewport.width:I[F];C-=O-i.width,C*=u?1:-1}}var B=Object.assign({position:l},d&&v6),U=f===!0?C6({x:C,y:E}):{x:C,y:E};if(C=U.x,E=U.y,u){var G;return Object.assign({},B,(G={},G[L]=D?"0":"",G[A]=x?"0":"",G.transform=(V.devicePixelRatio||1)<=1?"translate("+C+"px, "+E+"px)":"translate3d("+C+"px, "+E+"px, 0)",G))}return Object.assign({},B,(t={},t[L]=D?E+"px":"",t[A]=x?C+"px":"",t.transform="",t))}function y6(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,u=l===void 0?!0:l,d={placement:eo(t.placement),variation:Id(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yF(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yF(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var w6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:y6,data:{}},Wm={passive:!0};function b6(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,l=o===void 0?!0:o,u=cs(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",n.update,Wm)}),l&&u.addEventListener("resize",n.update,Wm),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",n.update,Wm)}),l&&u.removeEventListener("resize",n.update,Wm)}}var S6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:b6,data:{}},E6={left:"right",right:"left",bottom:"top",top:"bottom"};function Rv(e){return e.replace(/left|right|bottom|top/g,function(t){return E6[t]})}var R6={start:"end",end:"start"};function wF(e){return e.replace(/start|end/g,function(t){return R6[t]})}function M0(e){var t=cs(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function _0(e){return Pd(Al(e)).left+M0(e).scrollLeft}function T6(e,t){var n=cs(e),i=Al(e),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,l=0,u=0;if(r){s=r.width,o=r.height;var d=TO();(d||!d&&t==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}return{width:s,height:o,x:l+_0(e),y:u}}function x6(e){var t,n=Al(e),i=M0(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=Ec(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Ec(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+_0(e),u=-i.scrollTop;return na(r||n).direction==="rtl"&&(l+=Ec(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:l,y:u}}function k0(e){var t=na(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function IO(e){return["html","body","#document"].indexOf(co(e))>=0?e.ownerDocument.body:ns(e)&&k0(e)?e:IO(my(e))}function zf(e,t){var n;t===void 0&&(t=[]);var i=IO(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),s=cs(i),o=r?[s].concat(s.visualViewport||[],k0(i)?i:[]):i,l=t.concat(o);return r?l:l.concat(zf(my(o)))}function UE(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function D6(e,t){var n=Pd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function bF(e,t,n){return t===EO?UE(T6(e,n)):kc(t)?D6(t,n):UE(x6(Al(e)))}function A6(e){var t=zf(my(e)),n=["absolute","fixed"].indexOf(na(e).position)>=0,i=n&&ns(e)?Xp(e):e;return kc(i)?t.filter(function(r){return kc(r)&&xO(r,i)&&co(r)!=="body"}):[]}function P6(e,t,n,i){var r=t==="clippingParents"?A6(e):[].concat(t),s=[].concat(r,[n]),o=s[0],l=s.reduce(function(u,d){var f=bF(e,d,i);return u.top=Ec(f.top,u.top),u.right=eC(f.right,u.right),u.bottom=eC(f.bottom,u.bottom),u.left=Ec(f.left,u.left),u},bF(e,o,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function FO(e){var t=e.reference,n=e.element,i=e.placement,r=i?eo(i):null,s=i?Id(i):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(r){case ir:u={x:o,y:t.y-n.height};break;case ss:u={x:o,y:t.y+t.height};break;case os:u={x:t.x+t.width,y:l};break;case rr:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var d=r?F0(r):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case Dd:u[d]=u[d]-(t[f]/2-n[f]/2);break;case up:u[d]=u[d]+(t[f]/2-n[f]/2);break}}return u}function dp(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,s=n.strategy,o=s===void 0?e.strategy:s,l=n.boundary,u=l===void 0?Y5:l,d=n.rootBoundary,f=d===void 0?EO:d,p=n.elementContext,m=p===void 0?wf:p,C=n.altBoundary,w=C===void 0?!1:C,E=n.padding,R=E===void 0?0:E,x=AO(typeof R!="number"?R:PO(R,Qp)),D=m===wf?Q5:wf,A=e.rects.popper,L=e.elements[w?D:m],V=P6(kc(L)?L:L.contextElement||Al(e.elements.popper),u,f,o),I=Pd(e.elements.reference),_=FO({reference:I,element:A,placement:r}),F=UE(Object.assign({},A,_)),k=m===wf?F:I,O={top:V.top-k.top+x.top,bottom:k.bottom-V.bottom+x.bottom,left:V.left-k.left+x.left,right:k.right-V.right+x.right},B=e.modifiersData.offset;if(m===wf&&B){var U=B[r];Object.keys(O).forEach(function(G){var de=[os,ss].indexOf(G)>=0?1:-1,pe=[ir,ss].indexOf(G)>=0?"y":"x";O[G]+=U[pe]*de})}return O}function I6(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,d=u===void 0?RO:u,f=Id(i),p=f?l?vF:vF.filter(function(w){return Id(w)===f}):Qp,m=p.filter(function(w){return d.indexOf(w)>=0});m.length===0&&(m=p);var C=m.reduce(function(w,E){return w[E]=dp(e,{placement:E,boundary:r,rootBoundary:s,padding:o})[eo(E)],w},{});return Object.keys(C).sort(function(w,E){return C[w]-C[E]})}function F6(e){if(eo(e)===A0)return[];var t=Rv(e);return[wF(e),t,wF(t)]}function M6(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,l=o===void 0?!0:o,u=n.fallbackPlacements,d=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,C=n.flipVariations,w=C===void 0?!0:C,E=n.allowedAutoPlacements,R=t.options.placement,x=eo(R),D=x===R,A=u||(D||!w?[Rv(R)]:F6(R)),L=[R].concat(A).reduce(function(fe,Re){return fe.concat(eo(Re)===A0?I6(t,{placement:Re,boundary:f,rootBoundary:p,padding:d,flipVariations:w,allowedAutoPlacements:E}):Re)},[]),V=t.rects.reference,I=t.rects.popper,_=new Map,F=!0,k=L[0],O=0;O<L.length;O++){var B=L[O],U=eo(B),G=Id(B)===Dd,de=[ir,ss].indexOf(U)>=0,pe=de?"width":"height",q=dp(t,{placement:B,boundary:f,rootBoundary:p,altBoundary:m,padding:d}),ne=de?G?os:rr:G?ss:ir;V[pe]>I[pe]&&(ne=Rv(ne));var re=Rv(ne),ge=[];if(s&&ge.push(q[U]<=0),l&&ge.push(q[ne]<=0,q[re]<=0),ge.every(function(fe){return fe})){k=B,F=!1;break}_.set(B,ge)}if(F)for(var z=w?3:1,Q=function(Re){var Ae=L.find(function(gt){var Ze=_.get(gt);if(Ze)return Ze.slice(0,Re).every(function(Ke){return Ke})});if(Ae)return k=Ae,"break"},J=z;J>0;J--){var X=Q(J);if(X==="break")break}t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}}var _6={name:"flip",enabled:!0,phase:"main",fn:M6,requiresIfExists:["offset"],data:{_skip:!1}};function SF(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function EF(e){return[ir,os,ss,rr].some(function(t){return e[t]>=0})}function k6(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=dp(t,{elementContext:"reference"}),l=dp(t,{altBoundary:!0}),u=SF(o,i),d=SF(l,r,s),f=EF(u),p=EF(d);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}var O6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:k6};function L6(e,t,n){var i=eo(e),r=[rr,ir].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*r,[rr,os].indexOf(i)>=0?{x:l,y:o}:{x:o,y:l}}function N6(e){var t=e.state,n=e.options,i=e.name,r=n.offset,s=r===void 0?[0,0]:r,o=RO.reduce(function(f,p){return f[p]=L6(p,t.rects,s),f},{}),l=o[t.placement],u=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=d),t.modifiersData[i]=o}var V6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:N6};function B6(e){var t=e.state,n=e.name;t.modifiersData[n]=FO({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var G6={name:"popperOffsets",enabled:!0,phase:"read",fn:B6,data:{}};function H6(e){return e==="x"?"y":"x"}function z6(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,l=o===void 0?!1:o,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,C=m===void 0?!0:m,w=n.tetherOffset,E=w===void 0?0:w,R=dp(t,{boundary:u,rootBoundary:d,padding:p,altBoundary:f}),x=eo(t.placement),D=Id(t.placement),A=!D,L=F0(x),V=H6(L),I=t.modifiersData.popperOffsets,_=t.rects.reference,F=t.rects.popper,k=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,O=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(I){if(s){var G,de=L==="y"?ir:rr,pe=L==="y"?ss:os,q=L==="y"?"height":"width",ne=I[L],re=ne+R[de],ge=ne-R[pe],z=C?-F[q]/2:0,Q=D===Dd?_[q]:F[q],J=D===Dd?-F[q]:-_[q],X=t.elements.arrow,fe=C&&X?I0(X):{width:0,height:0},Re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:DO(),Ae=Re[de],gt=Re[pe],Ze=Hf(0,_[q],fe[q]),Ke=A?_[q]/2-z-Ze-Ae-O.mainAxis:Q-Ze-Ae-O.mainAxis,rt=A?-_[q]/2+z+Ze+gt+O.mainAxis:J+Ze+gt+O.mainAxis,ht=t.elements.arrow&&Xp(t.elements.arrow),ft=ht?L==="y"?ht.clientTop||0:ht.clientLeft||0:0,_t=(G=B?.[L])!=null?G:0,Ie=ne+Ke-_t-ft,Me=ne+rt-_t,Qe=Hf(C?eC(re,Ie):re,ne,C?Ec(ge,Me):ge);I[L]=Qe,U[L]=Qe-ne}if(l){var Oe,Ye=L==="x"?ir:rr,St=L==="x"?ss:os,st=I[V],yt=V==="y"?"height":"width",wt=st+R[Ye],Ft=st-R[St],fn=[ir,rr].indexOf(x)!==-1,On=(Oe=B?.[V])!=null?Oe:0,Le=fn?wt:st-_[yt]-F[yt]-On+O.altAxis,et=fn?st+_[yt]+F[yt]-On-O.altAxis:Ft,ut=C&&fn?h6(Le,st,et):Hf(C?Le:wt,st,C?et:Ft);I[V]=ut,U[V]=ut-st}t.modifiersData[i]=U}}var U6={name:"preventOverflow",enabled:!0,phase:"main",fn:z6,requiresIfExists:["offset"]};function W6(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function j6(e){return e===cs(e)||!ns(e)?M0(e):W6(e)}function $6(e){var t=e.getBoundingClientRect(),n=Ad(t.width)/e.offsetWidth||1,i=Ad(t.height)/e.offsetHeight||1;return n!==1||i!==1}function q6(e,t,n){n===void 0&&(n=!1);var i=ns(t),r=ns(t)&&$6(t),s=Al(t),o=Pd(e,r,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&((co(t)!=="body"||k0(s))&&(l=j6(t)),ns(t)?(u=Pd(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=_0(s))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function K6(e){var t=new Map,n=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&r(u)}}),i.push(s)}return e.forEach(function(s){n.has(s.name)||r(s)}),i}function Y6(e){var t=K6(e);return o6.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function Q6(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function X6(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var RF={placement:"bottom",modifiers:[],strategy:"absolute"};function TF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Z6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,s=r===void 0?RF:r;return function(l,u,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},RF,s),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],m=!1,C={state:f,setOptions:function(x){var D=typeof x=="function"?x(f.options):x;E(),f.options=Object.assign({},s,f.options,D),f.scrollParents={reference:kc(l)?zf(l):l.contextElement?zf(l.contextElement):[],popper:zf(u)};var A=Y6(X6([].concat(i,f.options.modifiers)));return f.orderedModifiers=A.filter(function(L){return L.enabled}),w(),C.update()},forceUpdate:function(){if(!m){var x=f.elements,D=x.reference,A=x.popper;if(TF(D,A)){f.rects={reference:q6(D,Xp(A),f.options.strategy==="fixed"),popper:I0(A)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(O){return f.modifiersData[O.name]=Object.assign({},O.data)});for(var L=0;L<f.orderedModifiers.length;L++){if(f.reset===!0){f.reset=!1,L=-1;continue}var V=f.orderedModifiers[L],I=V.fn,_=V.options,F=_===void 0?{}:_,k=V.name;typeof I=="function"&&(f=I({state:f,options:F,name:k,instance:C})||f)}}}},update:Q6(function(){return new Promise(function(R){C.forceUpdate(),R(f)})}),destroy:function(){E(),m=!0}};if(!TF(l,u))return C;C.setOptions(d).then(function(R){!m&&d.onFirstUpdate&&d.onFirstUpdate(R)});function w(){f.orderedModifiers.forEach(function(R){var x=R.name,D=R.options,A=D===void 0?{}:D,L=R.effect;if(typeof L=="function"){var V=L({state:f,name:x,instance:C,options:A}),I=function(){};p.push(V||I)}})}function E(){p.forEach(function(R){return R()}),p=[]}return C}}var J6=[S6,G6,w6,c6,V6,_6,U6,m6,O6],ej=Z6({defaultModifiers:J6}),tj=function(e){var t=e.level,n=e.buttonRef,i=e.contentRef,r=$.useContext(gy),s=r.collapsed,o=r.toggled,l=r.transitionDuration,u=$.useRef();return $.useEffect(function(){return t===0&&s&&i.current&&n.current&&(u.current=ej(n.current,i.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var d;return(d=u.current)===null||d===void 0?void 0:d.destroy()}},[t,s,i,n]),$.useEffect(function(){if(i.current&&n.current){var d=new ResizeObserver(function(){var f;(f=u.current)===null||f===void 0||f.update()});d.observe(i.current),d.observe(n.current)}setTimeout(function(){var f;(f=u.current)===null||f===void 0||f.update()},l)},[l,o,i,n]),{popperInstance:u.current}},MO=function(e){var t=e.rtl,n=e.level,i=e.collapsed,r=e.disabled,s=e.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(t?`padding-left: 20px;
           padding-right: `.concat(n===0?20:(i?n:n+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(n===0?20:(i?n:n+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(r&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(s&&"background-color: #e2eef9;",`
  
  `)},nj=function(e,t){var n=e.className,i=e.component,r=e.children,s=_c(e,["className","component","children"]);if(i){if(typeof i=="string")return $.createElement(i,In(In({className:Kn(n)},s),{ref:t}),r);var o=i.props,l=o.className,u=_c(o,["className"]);return $.cloneElement(i,In(In(In({className:Kn(n,l)},s),u),{ref:t}),r)}else return $.createElement("a",In({ref:t,className:Kn(n)},s),r)},_O=$.forwardRef(nj),ij=oi.li(xF||(xF=Mi([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},$t.button,function(e){var t=e.level,n=e.disabled,i=e.active,r=e.collapsed,s=e.rtl;return MO({level:t,disabled:n,active:i,collapsed:r,rtl:s})},function(e){var t=e.buttonStyles;return t}),rj=function(e,t){var n,i=e.children,r=e.className,s=e.label,o=e.icon,l=e.title,u=e.prefix,d=e.suffix,f=e.open,p=e.defaultOpen,m=e.active,C=m===void 0?!1:m,w=e.disabled,E=w===void 0?!1:w,R=e.rootStyles,x=e.component,D=e.onOpenChange,A=e.onClick,L=e.onKeyUp,V=_c(e,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),I=$.useContext(Jv),_=$.useContext(gy),F=_.collapsed,k=_.rtl,O=_.transitionDuration,B=D0(),U=B.renderExpandIcon,G=B.closeOnClick,de=B.menuItemStyles,pe=B.transitionDuration,q=$.useState(!!p),ne=q[0],re=q[1],ge=$.useState(!1),z=ge[0],Q=ge[1],J=$.useState(!1),X=J[0],fe=J[1],Re=$.useRef(null),Ae=$.useRef(null),gt=$.useRef(),Ze=tj({level:I,buttonRef:Re,contentRef:Ae}).popperInstance,Ke=$.useCallback(function(){var Qe,Oe=Ae.current;if(Oe){var Ye=(Qe=Oe?.querySelector(".".concat($t.subMenuContent," > ul")))===null||Qe===void 0?void 0:Qe.clientHeight;Oe.style.overflow="hidden",Oe.style.height="".concat(Ye,"px"),gt.current=setTimeout(function(){Oe.style.overflow="auto",Oe.style.height="auto"},pe)}},[pe]),rt=function(){var Qe,Oe=Ae.current;if(Oe){var Ye=(Qe=Oe?.querySelector(".".concat($t.subMenuContent," > ul")))===null||Qe===void 0?void 0:Qe.clientHeight;Oe.style.overflow="hidden",Oe.style.height="".concat(Ye,"px"),Oe.offsetHeight,Oe.style.height="0px"}},ht=function(){I===0&&F||(typeof f>"u"?(clearTimeout(Number(gt.current)),ne?rt():Ke(),D?.(!ne),re(!ne)):D?.(!f))};$.useEffect(function(){!(I===0&&F)&&typeof f<"u"&&X&&(clearTimeout(Number(gt.current)),f?Ke():rt())},[F,Ke,s,I,D,f]);var ft=function(Qe){A?.(Qe),ht()},_t=function(Qe){L?.(Qe),Qe.key==="Enter"&&ht()},Ie=function(Qe){if(de){var Oe={level:I,disabled:E,active:C,isSubmenu:!0,open:f??ne},Ye=de.root,St=de.button,st=de.label,yt=de.icon,wt=de.prefix,Ft=de.suffix,fn=de.subMenuContent,On=de.SubMenuExpandIcon;switch(Qe){case"root":return typeof Ye=="function"?Ye(Oe):Ye;case"button":return typeof St=="function"?St(Oe):St;case"label":return typeof st=="function"?st(Oe):st;case"icon":return typeof yt=="function"?yt(Oe):yt;case"prefix":return typeof wt=="function"?wt(Oe):wt;case"suffix":return typeof Ft=="function"?Ft(Oe):Ft;case"SubMenuExpandIcon":return typeof On=="function"?On(Oe):On;case"subMenuContent":return typeof fn=="function"?fn(Oe):fn;default:return}}};$.useEffect(function(){setTimeout(function(){return Ze?.update()},O),F&&I===0&&Q(!1)},[F,I,k,O,Ze]),$.useEffect(function(){var Qe=function(st){var yt,wt,Ft;!z&&(!((yt=Re.current)===null||yt===void 0)&&yt.contains(st))?Q(!0):(G&&!(!((wt=st.closest(".".concat($t.menuItemRoot)))===null||wt===void 0)&&wt.classList.contains($t.subMenuRoot))||!(!((Ft=Ae.current)===null||Ft===void 0)&&Ft.contains(st))&&z)&&Q(!1)},Oe=function(st){Qe(st.target)},Ye=function(st){st.key==="Enter"?Qe(st.target):st.key==="Escape"&&Q(!1)},St=function(){document.removeEventListener("click",Oe),document.removeEventListener("keyup",Ye)};return St(),F&&I===0&&(document.addEventListener("click",Oe,!1),document.addEventListener("keyup",Ye,!1)),function(){St()}},[F,I,G,z]),$.useEffect(function(){fe(!0)},[]);var Me=(n={},n[$t.active]=C,n[$t.disabled]=E,n[$t.open]=f??ne,n);return $.createElement(ij,{ref:t,className:Kn($t.menuItemRoot,$t.subMenuRoot,Me,r),menuItemStyles:Ie("root"),level:I,collapsed:F,rtl:k,disabled:E,active:C,buttonStyles:Ie("button"),rootStyles:R},$.createElement(_O,In({"data-testid":"".concat($t.button,"-test-id"),ref:Re,title:l,className:Kn($t.button,Me),onClick:ft,onKeyUp:_t,component:x,tabIndex:0},V),o&&$.createElement(wO,{rtl:k,className:Kn($t.icon,Me),rootStyles:Ie("icon")},o),u&&$.createElement(bO,{collapsed:F,transitionDuration:O,firstLevel:I===0,className:Kn($t.prefix,Me),rtl:k,rootStyles:Ie("prefix")},u),$.createElement(yO,{className:Kn($t.label,Me),rootStyles:Ie("label")},s),d&&$.createElement(SO,{collapsed:F,transitionDuration:O,firstLevel:I===0,className:Kn($t.suffix,Me),rootStyles:Ie("suffix")},d),$.createElement($5,{rtl:k,className:Kn($t.SubMenuExpandIcon,Me),collapsed:F,level:I,rootStyles:Ie("SubMenuExpandIcon")},U?U({level:I,disabled:E,active:C,open:f??ne}):F&&I===0?$.createElement(K5,null):$.createElement(q5,{rtl:k,open:f??ne}))),$.createElement(j5,{ref:Ae,openWhenCollapsed:z,open:f??ne,firstLevel:I===0,collapsed:F,defaultOpen:f&&!X||p,className:Kn($t.subMenuContent,Me),rootStyles:Ie("subMenuContent")},$.createElement(Jv.Provider,{value:I+1},i)))};$.forwardRef(rj);var xF,sj=oi.li(DF||(DF=Mi([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},$t.button,function(e){var t=e.level,n=e.disabled,i=e.active,r=e.collapsed,s=e.rtl;return MO({level:t,disabled:n,active:i,collapsed:r,rtl:s})},function(e){var t=e.buttonStyles;return t}),oj=function(e,t){var n,i=e.children,r=e.icon,s=e.className,o=e.prefix,l=e.suffix,u=e.active,d=u===void 0?!1:u,f=e.disabled,p=f===void 0?!1:f,m=e.component,C=e.rootStyles,w=_c(e,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),E=$.useContext(Jv),R=$.useContext(gy),x=R.collapsed,D=R.rtl,A=R.transitionDuration,L=D0().menuItemStyles,V=function(_){if(L){var F={level:E,disabled:p,active:d,isSubmenu:!1},k=L.root,O=L.button,B=L.label,U=L.icon,G=L.prefix,de=L.suffix;switch(_){case"root":return typeof k=="function"?k(F):k;case"button":return typeof O=="function"?O(F):O;case"label":return typeof B=="function"?B(F):B;case"icon":return typeof U=="function"?U(F):U;case"prefix":return typeof G=="function"?G(F):G;case"suffix":return typeof de=="function"?de(F):de;default:return}}},I=(n={},n[$t.active]=d,n[$t.disabled]=p,n);return $.createElement(sj,{ref:t,className:Kn($t.menuItemRoot,I,s),menuItemStyles:V("root"),level:E,collapsed:x,rtl:D,disabled:p,active:d,buttonStyles:V("button"),rootStyles:C},$.createElement(_O,In({className:Kn($t.button,I),"data-testid":"".concat($t.button,"-test-id"),component:m,tabIndex:0},w),r&&$.createElement(wO,{rtl:D,className:Kn($t.icon,I),rootStyles:V("icon")},r),o&&$.createElement(bO,{collapsed:x,transitionDuration:A,firstLevel:E===0,className:Kn($t.prefix,I),rtl:D,rootStyles:V("prefix")},o),$.createElement(yO,{className:Kn($t.label,I),rootStyles:V("label")},i),l&&$.createElement(SO,{collapsed:x,transitionDuration:A,firstLevel:E===0,className:Kn($t.suffix,I),rootStyles:V("suffix")},l)))},jm=$.forwardRef(oj),DF,aj=function(e){var t=e.children;return console.warn("ProSidebarProvider is deprecated and will be removed in the next major release."),$.createElement(M5,null,t)},lj=function(){var e=mO();if(e===void 0)throw new Error("useProSidebar must be used within a ProSidebarProvider. Please wrap your component with a ProSidebarProvider to use this hook.");var t=$.useCallback(function(i){i===void 0?e.updateCollapseState():e.updateSidebarState({collapsed:i})},[e.updateCollapseState,e.updateSidebarState]),n=$.useCallback(function(i){i===void 0?e.updateToggleState():e.updateSidebarState({toggled:i})},[e.updateToggleState,e.updateSidebarState]);return $.useEffect(function(){console.warn("useProSidebar is deprecated and will be removed in the next major release. Please use Sidebar props instead.")},[]),{collapseSidebar:t,toggleSidebar:n,collapsed:!!e.collapsed,broken:!!e.broken,toggled:!!e.toggled,rtl:!!e.rtl}},SS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var AF;function cj(){return AF||(AF=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=r(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=r(o,l));return o}function r(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(SS)),SS.exports}var uj=cj();const We=oy(uj);function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hp.apply(null,arguments)}function kO(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function PF(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function dj(e){var t=hj(e,"string");return typeof t=="symbol"?t:String(t)}function hj(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fj(e,t,n){var i=S.useRef(e!==void 0),r=S.useState(t),s=r[0],o=r[1],l=e!==void 0,u=i.current;return i.current=l,!l&&u&&s!==t&&o(t),[l?e:s,S.useCallback(function(d){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[d].concat(p)),o(d)},[n])]}function O0(e,t){return Object.keys(t).reduce(function(n,i){var r,s=n,o=s[PF(i)],l=s[i],u=kO(s,[PF(i),i].map(dj)),d=t[i],f=fj(l,o,e[d]),p=f[0],m=f[1];return hp({},u,(r={},r[i]=p,r[d]=m,r))},e)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WE(e,t)}function pj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,WE(e,t)}const gj=["xxl","xl","lg","md","sm","xs"],mj="xs",Zp=S.createContext({prefixes:{},breakpoints:gj,minBreakpoint:mj}),{Consumer:$be,Provider:qbe}=Zp;function it(e,t){const{prefixes:n}=S.useContext(Zp);return e||n[t]||t}function OO(){const{breakpoints:e}=S.useContext(Zp);return e}function LO(){const{minBreakpoint:e}=S.useContext(Zp);return e}function vj(){const{dir:e}=S.useContext(Zp);return e==="rtl"}function vy(e){return e&&e.ownerDocument||document}function Cj(e){var t=vy(e);return t&&t.defaultView||window}function yj(e,t){return Cj(e).getComputedStyle(e,t)}var wj=/([A-Z])/g;function bj(e){return e.replace(wj,"-$1").toLowerCase()}var Sj=/^ms-/;function $m(e){return bj(e).replace(Sj,"-ms-")}var Ej=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Rj(e){return!!(e&&Ej.test(e))}function Ko(e,t){var n="",i="";if(typeof t=="string")return e.style.getPropertyValue($m(t))||yj(e).getPropertyValue($m(t));Object.keys(t).forEach(function(r){var s=t[r];!s&&s!==0?e.style.removeProperty($m(r)):Rj(r)?i+=r+"("+s+") ":n+=$m(r)+": "+s+";"}),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n}var ES={exports:{}},RS,IF;function Tj(){if(IF)return RS;IF=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return RS=e,RS}var TS,FF;function xj(){if(FF)return TS;FF=1;var e=Tj();function t(){}function n(){}return n.resetWarningCache=t,TS=function(){function i(o,l,u,d,f,p){if(p!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},TS}var MF;function Dj(){return MF||(MF=1,ES.exports=xj()()),ES.exports}var Aj=Dj();const Yo=oy(Aj),_F={disabled:!1},NO=$.createContext(null);var Pj=function(t){return t.scrollTop},If="unmounted",Qa="exited",ms="entering",Wo="entered",fp="exiting",ha=function(e){pj(t,e);function t(i,r){var s;s=e.call(this,i,r)||this;var o=r,l=o&&!o.isMounting?i.enter:i.appear,u;return s.appearStatus=null,i.in?l?(u=Qa,s.appearStatus=ms):u=Wo:i.unmountOnExit||i.mountOnEnter?u=If:u=Qa,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===If?{status:Qa}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==ms&&o!==Wo&&(s=ms):(o===ms||o===Wo)&&(s=fp)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,s,o,l;return s=o=l=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,l=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===ms){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:rl.findDOMNode(this);o&&Pj(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qa&&this.setState({status:If})},n.performEnter=function(r){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:r,u=this.props.nodeRef?[l]:[rl.findDOMNode(this),l],d=u[0],f=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!r&&!o||_F.disabled){this.safeSetState({status:Wo},function(){s.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:ms},function(){s.props.onEntering(d,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Wo},function(){s.props.onEntered(d,f)})})})},n.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:rl.findDOMNode(this);if(!s||_F.disabled){this.safeSetState({status:Qa},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:fp},function(){r.props.onExiting(l),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Qa},function(){r.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},n.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:rl.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=u[0],f=u[1];this.props.addEndListener(d,f)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===If)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=kO(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $.createElement(NO.Provider,{value:null},typeof o=="function"?o(r,l):$.cloneElement($.Children.only(o),l))},t}($.Component);ha.contextType=NO;ha.propTypes={};function Ku(){}ha.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ku,onEntering:Ku,onEntered:Ku,onExit:Ku,onExiting:Ku,onExited:Ku};ha.UNMOUNTED=If;ha.EXITED=Qa;ha.ENTERING=ms;ha.ENTERED=Wo;ha.EXITING=fp;function Ij(e){return e.code==="Escape"||e.keyCode===27}function Fj(){const e=S.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Xd(e){if(!e||typeof e=="function")return null;const{major:t}=Fj();return t>=19?e.props.ref:e.ref}const Zd=!!(typeof window<"u"&&window.document&&window.document.createElement);var jE=!1,$E=!1;try{var xS={get passive(){return jE=!0},get once(){return $E=jE=!0}};Zd&&(window.addEventListener("test",xS,xS),window.removeEventListener("test",xS,!0))}catch{}function VO(e,t,n,i){if(i&&typeof i!="boolean"&&!$E){var r=i.once,s=i.capture,o=n;!$E&&r&&(o=n.__once||function l(u){this.removeEventListener(t,l,s),n.call(this,u)},n.__once=o),e.addEventListener(t,o,jE?i:s)}e.addEventListener(t,n,i)}function qE(e,t,n,i){var r=i&&typeof i!="boolean"?i.capture:i;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)}function tC(e,t,n,i){return VO(e,t,n,i),function(){qE(e,t,n,i)}}function Mj(e,t,n,i){if(i===void 0&&(i=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,i),e.dispatchEvent(r)}}function _j(e){var t=Ko(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function kj(e,t,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||Mj(e,"transitionend",!0)},t+n),s=tC(e,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),s()}}function BO(e,t,n,i){n==null&&(n=_j(e)||0);var r=kj(e,n,i),s=tC(e,"transitionend",t);return function(){r(),s()}}function kF(e,t){const n=Ko(e,t)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function L0(e,t){const n=kF(e,"transitionDuration"),i=kF(e,"transitionDelay"),r=BO(e,s=>{s.target===e&&(r(),t(s))},n+i)}function bf(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...r){t.apply(this,r),n.apply(this,r)}},null)}function GO(e){e.offsetHeight}const OF=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Oj(e,t){const n=OF(e),i=OF(t);return r=>{n&&n(r),i&&i(r)}}function HO(e,t){return S.useMemo(()=>Oj(e,t),[e,t])}function Lj(e){return e&&"setState"in e?rl.findDOMNode(e):e??null}const Cy=$.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:r,onExited:s,addEndListener:o,children:l,childRef:u,...d},f)=>{const p=S.useRef(null),m=HO(p,u),C=I=>{m(Lj(I))},w=I=>_=>{I&&p.current&&I(p.current,_)},E=S.useCallback(w(e),[e]),R=S.useCallback(w(t),[t]),x=S.useCallback(w(n),[n]),D=S.useCallback(w(i),[i]),A=S.useCallback(w(r),[r]),L=S.useCallback(w(s),[s]),V=S.useCallback(w(o),[o]);return N.jsx(ha,{ref:f,...d,onEnter:E,onEntered:x,onEntering:R,onExit:D,onExited:L,onExiting:A,addEndListener:V,nodeRef:p,children:typeof l=="function"?(I,_)=>l(I,{..._,ref:C}):$.cloneElement(l,{ref:C})})});Cy.displayName="TransitionWrapper";const Nj={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Vj(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,i=t[n],r=Nj[e];return i+parseInt(Ko(t,r[0]),10)+parseInt(Ko(t,r[1]),10)}const Bj={[Qa]:"collapse",[fp]:"collapsing",[ms]:"collapsing",[Wo]:"collapse show"},zO=$.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:i,onExiting:r,className:s,children:o,dimension:l="height",in:u=!1,timeout:d=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:C=Vj,...w},E)=>{const R=typeof l=="function"?l():l,x=S.useMemo(()=>bf(I=>{I.style[R]="0"},e),[R,e]),D=S.useMemo(()=>bf(I=>{const _=`scroll${R[0].toUpperCase()}${R.slice(1)}`;I.style[R]=`${I[_]}px`},t),[R,t]),A=S.useMemo(()=>bf(I=>{I.style[R]=null},n),[R,n]),L=S.useMemo(()=>bf(I=>{I.style[R]=`${C(R,I)}px`,GO(I)},i),[i,C,R]),V=S.useMemo(()=>bf(I=>{I.style[R]=null},r),[R,r]);return N.jsx(Cy,{ref:E,addEndListener:L0,...w,"aria-expanded":w.role?u:null,onEnter:x,onEntering:D,onEntered:A,onExit:L,onExiting:V,childRef:Xd(o),in:u,timeout:d,mountOnEnter:f,unmountOnExit:p,appear:m,children:(I,_)=>$.cloneElement(o,{..._,className:We(s,o.props.className,Bj[I],R==="width"&&"collapse-horizontal")})})});zO.displayName="Collapse";function Gj(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e},[e]),t}function vl(e){const t=Gj(e);return S.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Jp=e=>S.forwardRef((t,n)=>N.jsx("div",{...t,ref:n,className:We(t.className,e)})),UO=Jp("h4");UO.displayName="DivStyledAsH4";const WO=S.forwardRef(({className:e,bsPrefix:t,as:n=UO,...i},r)=>(t=it(t,"alert-heading"),N.jsx(n,{ref:r,className:We(e,t),...i})));WO.displayName="AlertHeading";function Hj(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e},[e]),t}function jo(e){const t=Hj(e);return S.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function zj(){const e=S.useRef(!0),t=S.useRef(()=>e.current);return S.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Uj(e){const t=S.useRef(null);return S.useEffect(()=>{t.current=e}),t.current}const Wj=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jj=typeof document<"u",LF=jj||Wj?S.useLayoutEffect:S.useEffect,$j=["as","disabled"];function qj(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Kj(e){return!e||e.trim()==="#"}function N0({tagName:e,disabled:t,href:n,target:i,rel:r,role:s,onClick:o,tabIndex:l=0,type:u}){e||(n!=null||i!=null||r!=null?e="a":e="button");const d={tagName:e};if(e==="button")return[{type:u||"button",disabled:t},d];const f=m=>{if((t||e==="a"&&Kj(n))&&m.preventDefault(),t){m.stopPropagation();return}o?.(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:l,href:n,target:e==="a"?i:void 0,"aria-disabled":t||void 0,rel:e==="a"?r:void 0,onClick:f,onKeyDown:p},d]}const jO=S.forwardRef((e,t)=>{let{as:n,disabled:i}=e,r=qj(e,$j);const[s,{tagName:o}]=N0(Object.assign({tagName:n,disabled:i},r));return N.jsx(o,Object.assign({},r,s,{ref:t}))});jO.displayName="Button";const Yj=["onKeyDown"];function Qj(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Xj(e){return!e||e.trim()==="#"}const $O=S.forwardRef((e,t)=>{let{onKeyDown:n}=e,i=Qj(e,Yj);const[r]=N0(Object.assign({tagName:"a"},i)),s=jo(o=>{r.onKeyDown(o),n?.(o)});return Xj(i.href)||i.role==="button"?N.jsx("a",Object.assign({ref:t},i,r,{onKeyDown:s})):N.jsx("a",Object.assign({ref:t},i,{onKeyDown:n}))});$O.displayName="Anchor";const qO=S.forwardRef(({className:e,bsPrefix:t,as:n=$O,...i},r)=>(t=it(t,"alert-link"),N.jsx(n,{ref:r,className:We(e,t),...i})));qO.displayName="AlertLink";const Zj={[ms]:"show",[Wo]:"show"},Fd=S.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:i,...r},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},l=S.useCallback((u,d)=>{GO(u),i?.(u,d)},[i]);return N.jsx(Cy,{ref:s,addEndListener:L0,...o,onEnter:l,childRef:Xd(t),children:(u,d)=>S.cloneElement(t,{...d,className:We("fade",e,t.props.className,Zj[u],n[u])})})});Fd.displayName="Fade";const Jj={"aria-label":Yo.string,onClick:Yo.func,variant:Yo.oneOf(["white"])},yy=S.forwardRef(({className:e,variant:t,"aria-label":n="Close",...i},r)=>N.jsx("button",{ref:r,type:"button",className:We("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...i}));yy.displayName="CloseButton";yy.propTypes=Jj;const KO=S.forwardRef((e,t)=>{const{bsPrefix:n,show:i=!0,closeLabel:r="Close alert",closeVariant:s,className:o,children:l,variant:u="primary",onClose:d,dismissible:f,transition:p=Fd,...m}=O0(e,{show:"onClose"}),C=it(n,"alert"),w=vl(x=>{d&&d(!1,x)}),E=p===!0?Fd:p,R=N.jsxs("div",{role:"alert",...E?void 0:m,ref:t,className:We(o,C,u&&`${C}-${u}`,f&&`${C}-dismissible`),children:[f&&N.jsx(yy,{onClick:w,"aria-label":r,variant:s}),l]});return E?N.jsx(E,{unmountOnExit:!0,...m,ref:void 0,in:i,children:R}):i?R:null});KO.displayName="Alert";const nC=Object.assign(KO,{Link:qO,Heading:WO}),KE=S.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:i,className:r,as:s="span",...o},l)=>{const u=it(e,"badge");return N.jsx(s,{ref:l,...o,className:We(r,u,n&&"rounded-pill",i&&`text-${i}`,t&&`bg-${t}`)})});KE.displayName="Badge";const $i=S.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:i,active:r=!1,disabled:s=!1,className:o,...l},u)=>{const d=it(t,"btn"),[f,{tagName:p}]=N0({tagName:e,disabled:s,...l}),m=p;return N.jsx(m,{...f,...l,ref:u,disabled:s,className:We(o,d,r&&"active",n&&`${d}-${n}`,i&&`${d}-${i}`,l.href&&s&&"disabled")})});$i.displayName="Button";const V0=S.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=it(t,"card-body"),N.jsx(n,{ref:r,className:We(e,t),...i})));V0.displayName="CardBody";const YO=S.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=it(t,"card-footer"),N.jsx(n,{ref:r,className:We(e,t),...i})));YO.displayName="CardFooter";const QO=S.createContext(null);QO.displayName="CardHeaderContext";const XO=S.forwardRef(({bsPrefix:e,className:t,as:n="div",...i},r)=>{const s=it(e,"card-header"),o=S.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return N.jsx(QO.Provider,{value:o,children:N.jsx(n,{ref:r,...i,className:We(t,s)})})});XO.displayName="CardHeader";const ZO=S.forwardRef(({bsPrefix:e,className:t,variant:n,as:i="img",...r},s)=>{const o=it(e,"card-img");return N.jsx(i,{ref:s,className:We(n?`${o}-${n}`:o,t),...r})});ZO.displayName="CardImg";const JO=S.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=it(t,"card-img-overlay"),N.jsx(n,{ref:r,className:We(e,t),...i})));JO.displayName="CardImgOverlay";const eL=S.forwardRef(({className:e,bsPrefix:t,as:n="a",...i},r)=>(t=it(t,"card-link"),N.jsx(n,{ref:r,className:We(e,t),...i})));eL.displayName="CardLink";const e9=Jp("h6"),tL=S.forwardRef(({className:e,bsPrefix:t,as:n=e9,...i},r)=>(t=it(t,"card-subtitle"),N.jsx(n,{ref:r,className:We(e,t),...i})));tL.displayName="CardSubtitle";const nL=S.forwardRef(({className:e,bsPrefix:t,as:n="p",...i},r)=>(t=it(t,"card-text"),N.jsx(n,{ref:r,className:We(e,t),...i})));nL.displayName="CardText";const t9=Jp("h5"),iL=S.forwardRef(({className:e,bsPrefix:t,as:n=t9,...i},r)=>(t=it(t,"card-title"),N.jsx(n,{ref:r,className:We(e,t),...i})));iL.displayName="CardTitle";const rL=S.forwardRef(({bsPrefix:e,className:t,bg:n,text:i,border:r,body:s=!1,children:o,as:l="div",...u},d)=>{const f=it(e,"card");return N.jsx(l,{ref:d,...u,className:We(t,f,n&&`bg-${n}`,i&&`text-${i}`,r&&`border-${r}`),children:s?N.jsx(V0,{children:o}):o})});rL.displayName="Card";const Pi=Object.assign(rL,{Img:ZO,Title:iL,Subtitle:tL,Body:V0,Link:eL,Text:nL,Header:XO,Footer:YO,ImgOverlay:JO});function n9(e){const t=S.useRef(e);return t.current=e,t}function i9(e){const t=n9(e);S.useEffect(()=>()=>t.current(),[])}function r9(e,t){return S.Children.toArray(e).some(n=>S.isValidElement(n)&&n.type===t)}function s9({as:e,bsPrefix:t,className:n,...i}){t=it(t,"col");const r=OO(),s=LO(),o=[],l=[];return r.forEach(u=>{const d=i[u];delete i[u];let f,p,m;typeof d=="object"&&d!=null?{span:f,offset:p,order:m}=d:f=d;const C=u!==s?`-${u}`:"";f&&o.push(f===!0?`${t}${C}`:`${t}${C}-${f}`),m!=null&&l.push(`order${C}-${m}`),p!=null&&l.push(`offset${C}-${p}`)}),[{...i,className:We(n,...o,...l)},{as:e,bsPrefix:t,spans:o}]}const ol=S.forwardRef((e,t)=>{const[{className:n,...i},{as:r="div",bsPrefix:s,spans:o}]=s9(e);return N.jsx(r,{...i,ref:t,className:We(n,!o.length&&s)})});ol.displayName="Col";const pp=S.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:i,...r},s)=>{const o=it(e,"container"),l=typeof t=="string"?`-${t}`:"-fluid";return N.jsx(n,{ref:s,...r,className:We(i,t?`${o}${l}`:o)})});pp.displayName="Container";var o9=Function.prototype.bind.call(Function.prototype.call,[].slice);function cc(e,t){return o9(e.querySelectorAll(t))}function a9(){const[,e]=S.useReducer(t=>t+1,0);return e}function NF(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const iC=S.createContext(null),B0=(e,t=null)=>e!=null?String(e):t||null,G0=S.createContext(null);G0.displayName="NavContext";const l9="data-rr-ui-",c9="rrUi";function wy(e){return`${l9}${e}`}function u9(e){return`${c9}${e}`}const sL=S.createContext(Zd?window:void 0);sL.Provider;function H0(){return S.useContext(sL)}const d9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",h9=typeof document<"u",f9=h9||d9?S.useLayoutEffect:S.useEffect,oL=S.createContext(null);oL.displayName="InputGroupContext";const eg=S.createContext(null);eg.displayName="NavbarContext";const p9={type:Yo.string,tooltip:Yo.bool,as:Yo.elementType},by=S.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:i=!1,...r},s)=>N.jsx(e,{...r,ref:s,className:We(t,`${n}-${i?"tooltip":"feedback"}`)}));by.displayName="Feedback";by.propTypes=p9;const ia=S.createContext({}),tg=S.forwardRef(({id:e,bsPrefix:t,className:n,type:i="checkbox",isValid:r=!1,isInvalid:s=!1,as:o="input",...l},u)=>{const{controlId:d}=S.useContext(ia);return t=it(t,"form-check-input"),N.jsx(o,{...l,ref:u,type:i,id:e||d,className:We(n,t,r&&"is-valid",s&&"is-invalid")})});tg.displayName="FormCheckInput";const rC=S.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...i},r)=>{const{controlId:s}=S.useContext(ia);return e=it(e,"form-check-label"),N.jsx("label",{...i,ref:r,htmlFor:n||s,className:We(t,e)})});rC.displayName="FormCheckLabel";const aL=S.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:i=!1,reverse:r=!1,disabled:s=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:d,feedbackType:f,className:p,style:m,title:C="",type:w="checkbox",label:E,children:R,as:x="input",...D},A)=>{t=it(t,"form-check"),n=it(n,"form-switch");const{controlId:L}=S.useContext(ia),V=S.useMemo(()=>({controlId:e||L}),[L,e]),I=!R&&E!=null&&E!==!1||r9(R,rC),_=N.jsx(tg,{...D,type:w==="switch"?"checkbox":w,ref:A,isValid:o,isInvalid:l,disabled:s,as:x});return N.jsx(ia.Provider,{value:V,children:N.jsx("div",{style:m,className:We(p,I&&t,i&&`${t}-inline`,r&&`${t}-reverse`,w==="switch"&&n),children:R||N.jsxs(N.Fragment,{children:[_,I&&N.jsx(rC,{title:C,children:E}),d&&N.jsx(by,{type:f,tooltip:u,children:d})]})})})});aL.displayName="FormCheck";const sC=Object.assign(aL,{Input:tg,Label:rC}),lL=S.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:i,id:r,className:s,isValid:o=!1,isInvalid:l=!1,plaintext:u,readOnly:d,as:f="input",...p},m)=>{const{controlId:C}=S.useContext(ia);return e=it(e,"form-control"),N.jsx(f,{...p,type:t,size:i,ref:m,readOnly:d,id:r||C,className:We(s,u?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",l&&"is-invalid")})});lL.displayName="FormControl";const g9=Object.assign(lL,{Feedback:by}),cL=S.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=it(t,"form-floating"),N.jsx(n,{ref:r,className:We(e,t),...i})));cL.displayName="FormFloating";const z0=S.forwardRef(({controlId:e,as:t="div",...n},i)=>{const r=S.useMemo(()=>({controlId:e}),[e]);return N.jsx(ia.Provider,{value:r,children:N.jsx(t,{...n,ref:i})})});z0.displayName="FormGroup";const uL=S.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:i=!1,className:r,htmlFor:s,...o},l)=>{const{controlId:u}=S.useContext(ia);t=it(t,"form-label");let d="col-form-label";typeof n=="string"&&(d=`${d} ${d}-${n}`);const f=We(r,t,i&&"visually-hidden",n&&d);return s=s||u,n?N.jsx(ol,{ref:l,as:"label",className:f,htmlFor:s,...o}):N.jsx(e,{ref:l,className:f,htmlFor:s,...o})});uL.displayName="FormLabel";const dL=S.forwardRef(({bsPrefix:e,className:t,id:n,...i},r)=>{const{controlId:s}=S.useContext(ia);return e=it(e,"form-range"),N.jsx("input",{...i,type:"range",ref:r,className:We(t,e),id:n||s})});dL.displayName="FormRange";const hL=S.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:i,isValid:r=!1,isInvalid:s=!1,id:o,...l},u)=>{const{controlId:d}=S.useContext(ia);return e=it(e,"form-select"),N.jsx("select",{...l,size:n,ref:u,className:We(i,e,t&&`${e}-${t}`,r&&"is-valid",s&&"is-invalid"),id:o||d})});hL.displayName="FormSelect";const fL=S.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:i,...r},s)=>(e=it(e,"form-text"),N.jsx(n,{...r,ref:s,className:We(t,e,i&&"text-muted")})));fL.displayName="FormText";const pL=S.forwardRef((e,t)=>N.jsx(sC,{...e,ref:t,type:"switch"}));pL.displayName="Switch";const m9=Object.assign(pL,{Input:sC.Input,Label:sC.Label}),oC=S.forwardRef(({bsPrefix:e,className:t,children:n,controlId:i,label:r,...s},o)=>(e=it(e,"form-floating"),N.jsxs(z0,{ref:o,className:We(t,e),controlId:i,...s,children:[n,N.jsx("label",{htmlFor:i,children:r})]})));oC.displayName="FloatingLabel";const v9={_ref:Yo.any,validated:Yo.bool,as:Yo.elementType},U0=S.forwardRef(({className:e,validated:t,as:n="form",...i},r)=>N.jsx(n,{...i,ref:r,className:We(e,t&&"was-validated")}));U0.displayName="Form";U0.propTypes=v9;const Tn=Object.assign(U0,{Group:z0,Control:g9,Floating:cL,Check:sC,Switch:m9,Label:uL,Text:fL,Range:dL,Select:hL,FloatingLabel:oC}),Sy=S.forwardRef(({className:e,bsPrefix:t,as:n="span",...i},r)=>(t=it(t,"input-group-text"),N.jsx(n,{ref:r,className:We(e,t),...i})));Sy.displayName="InputGroupText";const C9=e=>N.jsx(Sy,{children:N.jsx(tg,{type:"checkbox",...e})}),y9=e=>N.jsx(Sy,{children:N.jsx(tg,{type:"radio",...e})}),gL=S.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:i,as:r="div",...s},o)=>{e=it(e,"input-group");const l=S.useMemo(()=>({}),[]);return N.jsx(oL.Provider,{value:l,children:N.jsx(r,{ref:o,...s,className:We(i,e,t&&`${e}-${t}`,n&&"has-validation")})})});gL.displayName="InputGroup";const vc=Object.assign(gL,{Text:Sy,Radio:y9,Checkbox:C9}),VF=e=>!e||typeof e=="function"?e:t=>{e.current=t};function w9(e,t){const n=VF(e),i=VF(t);return r=>{n&&n(r),i&&i(r)}}function Ey(e,t){return S.useMemo(()=>w9(e,t),[e,t])}const mL=S.createContext(null),b9=["as","active","eventKey"];function S9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function vL({key:e,onClick:t,active:n,id:i,role:r,disabled:s}){const o=S.useContext(iC),l=S.useContext(G0),u=S.useContext(mL);let d=n;const f={role:r};if(l){!r&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(e??null),m=l.getControlledId(e??null);f[wy("event-key")]=e,f.id=p||i,d=n==null&&e!=null?l.activeKey===e:n,(d||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=d,d||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=jo(p=>{s||(t?.(p),e!=null&&o&&!p.isPropagationStopped()&&o(e,p))}),[f,{isActive:d}]}const CL=S.forwardRef((e,t)=>{let{as:n=jO,active:i,eventKey:r}=e,s=S9(e,b9);const[o,l]=vL(Object.assign({key:B0(r,s.href),active:i},s));return o[wy("active")]=l.isActive,N.jsx(n,Object.assign({},s,o,{ref:t}))});CL.displayName="NavItem";const E9=["as","onSelect","activeKey","role","onKeyDown"];function R9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}const BF=()=>{},GF=wy("event-key"),yL=S.forwardRef((e,t)=>{let{as:n="div",onSelect:i,activeKey:r,role:s,onKeyDown:o}=e,l=R9(e,E9);const u=a9(),d=S.useRef(!1),f=S.useContext(iC),p=S.useContext(mL);let m,C;p&&(s=s||"tablist",r=p.activeKey,m=p.getControlledId,C=p.getControllerId);const w=S.useRef(null),E=A=>{const L=w.current;if(!L)return null;const V=cc(L,`[${GF}]:not([aria-disabled=true])`),I=L.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const _=V.indexOf(I);if(_===-1)return null;let F=_+A;return F>=V.length&&(F=0),F<0&&(F=V.length-1),V[F]},R=(A,L)=>{A!=null&&(i?.(A,L),f?.(A,L))},x=A=>{if(o?.(A),!p)return;let L;switch(A.key){case"ArrowLeft":case"ArrowUp":L=E(-1);break;case"ArrowRight":case"ArrowDown":L=E(1);break;default:return}L&&(A.preventDefault(),R(L.dataset[u9("EventKey")]||null,A),d.current=!0,u())};S.useEffect(()=>{if(w.current&&d.current){const A=w.current.querySelector(`[${GF}][aria-selected=true]`);A?.focus()}d.current=!1});const D=Ey(t,w);return N.jsx(iC.Provider,{value:R,children:N.jsx(G0.Provider,{value:{role:s,activeKey:B0(r),getControlledId:m||BF,getControllerId:C||BF},children:N.jsx(n,Object.assign({},l,{onKeyDown:x,ref:D,role:s}))})})});yL.displayName="Nav";const T9=Object.assign(yL,{Item:CL}),wL=S.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:i,className:r,variant:s,action:o,as:l,...u},d)=>{e=it(e,"list-group-item");const[f,p]=vL({key:B0(i,u.href),active:t,...u}),m=vl(w=>{if(n){w.preventDefault(),w.stopPropagation();return}f.onClick(w)});n&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0);const C=l||(o?u.href?"a":"button":"div");return N.jsx(C,{ref:d,...u,...f,onClick:m,className:We(r,e,p.isActive&&"active",n&&"disabled",s&&`${e}-${s}`,o&&`${e}-action`)})});wL.displayName="ListGroupItem";const bL=S.forwardRef((e,t)=>{const{className:n,bsPrefix:i,variant:r,horizontal:s,numbered:o,as:l="div",...u}=O0(e,{activeKey:"onSelect"}),d=it(i,"list-group");let f;return s&&(f=s===!0?"horizontal":`horizontal-${s}`),N.jsx(T9,{ref:t,...u,as:l,className:We(n,d,r&&`${d}-${r}`,f&&`${d}-${f}`,o&&`${d}-numbered`)})});bL.displayName="ListGroup";const Cc=Object.assign(bL,{Item:wL});var qm;function HF(e){if((!qm&&qm!==0||e)&&Zd){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),qm=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return qm}function x9(){return S.useState(null)}function DS(e){e===void 0&&(e=vy());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function D9(e){const t=S.useRef(e);return t.current=e,t}function A9(e){const t=D9(e);S.useEffect(()=>()=>t.current(),[])}function P9(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const zF=wy("modal-open");class W0{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return P9(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[i]:r.style[i]},t.scrollBarWidth&&(n[i]=`${parseInt(Ko(r,i)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(zF,""),Ko(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(zF),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const AS=(e,t)=>Zd?e==null?(t||vy()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function I9(e,t){const n=H0(),[i,r]=S.useState(()=>AS(e,n?.document));if(!i){const s=AS(e);s&&r(s)}return S.useEffect(()=>{},[t,i]),S.useEffect(()=>{const s=AS(e);s!==i&&r(s)},[e,i]),i}function F9({children:e,in:t,onExited:n,mountOnEnter:i,unmountOnExit:r}){const s=S.useRef(null),o=S.useRef(t),l=jo(n);S.useEffect(()=>{t?o.current=!0:l(s.current)},[t,l]);const u=Ey(s,Xd(e)),d=S.cloneElement(e,{ref:u});return t?d:r||!o.current&&i?null:d}const M9=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function k9(e){let{onEnter:t,onEntering:n,onEntered:i,onExit:r,onExiting:s,onExited:o,addEndListener:l,children:u}=e,d=_9(e,M9);const f=S.useRef(null),p=Ey(f,Xd(u)),m=L=>V=>{L&&f.current&&L(f.current,V)},C=S.useCallback(m(t),[t]),w=S.useCallback(m(n),[n]),E=S.useCallback(m(i),[i]),R=S.useCallback(m(r),[r]),x=S.useCallback(m(s),[s]),D=S.useCallback(m(o),[o]),A=S.useCallback(m(l),[l]);return Object.assign({},d,{nodeRef:f},t&&{onEnter:C},n&&{onEntering:w},i&&{onEntered:E},r&&{onExit:R},s&&{onExiting:x},o&&{onExited:D},l&&{addEndListener:A},{children:typeof u=="function"?(L,V)=>u(L,Object.assign({},V,{ref:p})):S.cloneElement(u,{ref:p})})}const O9=["component"];function L9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}const N9=S.forwardRef((e,t)=>{let{component:n}=e,i=L9(e,O9);const r=k9(i);return N.jsx(n,Object.assign({ref:t},r))});function V9({in:e,onTransition:t}){const n=S.useRef(null),i=S.useRef(!0),r=jo(t);return LF(()=>{if(!n.current)return;let s=!1;return r({in:e,element:n.current,initial:i.current,isStale:()=>s}),()=>{s=!0}},[e,r]),LF(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function B9({children:e,in:t,onExited:n,onEntered:i,transition:r}){const[s,o]=S.useState(!t);t&&s&&o(!1);const l=V9({in:!!t,onTransition:d=>{const f=()=>{d.isStale()||(d.in?i?.(d.element,d.initial):(o(!0),n?.(d.element)))};Promise.resolve(r(d)).then(f,p=>{throw d.in||o(!0),p})}}),u=Ey(l,Xd(e));return s&&!t?null:S.cloneElement(e,{ref:u})}function UF(e,t,n){return e?N.jsx(N9,Object.assign({},n,{component:e})):t?N.jsx(B9,Object.assign({},n,{transition:t})):N.jsx(F9,Object.assign({},n))}const G9=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function H9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}let PS;function z9(e){return PS||(PS=new W0({ownerDocument:e?.document})),PS}function U9(e){const t=H0(),n=e||z9(t),i=S.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:S.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:S.useCallback(r=>{i.current.backdrop=r},[])})}const SL=S.forwardRef((e,t)=>{let{show:n=!1,role:i="dialog",className:r,style:s,children:o,backdrop:l=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:C,runBackdropTransition:w,autoFocus:E=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:D,renderDialog:A,renderBackdrop:L=Me=>N.jsx("div",Object.assign({},Me)),manager:V,container:I,onShow:_,onHide:F=()=>{},onExit:k,onExited:O,onExiting:B,onEnter:U,onEntering:G,onEntered:de}=e,pe=H9(e,G9);const q=H0(),ne=I9(I),re=U9(V),ge=zj(),z=Uj(n),[Q,J]=S.useState(!n),X=S.useRef(null);S.useImperativeHandle(t,()=>re,[re]),Zd&&!z&&n&&(X.current=DS(q?.document)),n&&Q&&J(!1);const fe=jo(()=>{if(re.add(),rt.current=tC(document,"keydown",Ze),Ke.current=tC(document,"focus",()=>setTimeout(Ae),!0),_&&_(),E){var Me,Qe;const Oe=DS((Me=(Qe=re.dialog)==null?void 0:Qe.ownerDocument)!=null?Me:q?.document);re.dialog&&Oe&&!NF(re.dialog,Oe)&&(X.current=Oe,re.dialog.focus())}}),Re=jo(()=>{if(re.remove(),rt.current==null||rt.current(),Ke.current==null||Ke.current(),x){var Me;(Me=X.current)==null||Me.focus==null||Me.focus(D),X.current=null}});S.useEffect(()=>{!n||!ne||fe()},[n,ne,fe]),S.useEffect(()=>{Q&&Re()},[Q,Re]),A9(()=>{Re()});const Ae=jo(()=>{if(!R||!ge()||!re.isTopModal())return;const Me=DS(q?.document);re.dialog&&Me&&!NF(re.dialog,Me)&&re.dialog.focus()}),gt=jo(Me=>{Me.target===Me.currentTarget&&(d?.(Me),l===!0&&F())}),Ze=jo(Me=>{u&&Ij(Me)&&re.isTopModal()&&(f?.(Me),Me.defaultPrevented||F())}),Ke=S.useRef(),rt=S.useRef(),ht=(...Me)=>{J(!0),O?.(...Me)};if(!ne)return null;const ft=Object.assign({role:i,ref:re.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},pe,{style:s,className:r,tabIndex:-1});let _t=A?A(ft):N.jsx("div",Object.assign({},ft,{children:S.cloneElement(o,{role:"document"})}));_t=UF(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:k,onExiting:B,onExited:ht,onEnter:U,onEntering:G,onEntered:de,children:_t});let Ie=null;return l&&(Ie=L({ref:re.setBackdropRef,onClick:gt}),Ie=UF(C,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ie})),N.jsx(N.Fragment,{children:rl.createPortal(N.jsxs(N.Fragment,{children:[Ie,_t]}),ne)})});SL.displayName="Modal";const EL=Object.assign(SL,{Manager:W0});function W9(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function j9(e,t){e.classList?e.classList.add(t):W9(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function WF(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $9(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=WF(e.className,t):e.setAttribute("class",WF(e.className&&e.className.baseVal||"",t))}const Yu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class RL extends W0{adjustAndStore(t,n,i){const r=n.style[t];n.dataset[t]=r,Ko(n,{[t]:`${parseFloat(Ko(n,t))+i}px`})}restore(t,n){const i=n.dataset[t];i!==void 0&&(delete n.dataset[t],Ko(n,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(j9(n,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";cc(n,Yu.FIXED_CONTENT).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth)),cc(n,Yu.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-t.scrollBarWidth)),cc(n,Yu.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();$9(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";cc(n,Yu.FIXED_CONTENT).forEach(s=>this.restore(i,s)),cc(n,Yu.STICKY_CONTENT).forEach(s=>this.restore(r,s)),cc(n,Yu.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let IS;function TL(e){return IS||(IS=new RL(e)),IS}const xL=S.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=it(t,"modal-body"),N.jsx(n,{ref:r,className:We(e,t),...i})));xL.displayName="ModalBody";const j0=S.createContext({onHide(){}}),$0=S.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:i,size:r,fullscreen:s,children:o,scrollable:l,...u},d)=>{e=it(e,"modal");const f=`${e}-dialog`,p=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return N.jsx("div",{...u,ref:d,className:We(f,t,r&&`${e}-${r}`,i&&`${f}-centered`,l&&`${f}-scrollable`,s&&p),children:N.jsx("div",{className:We(`${e}-content`,n),children:o})})});$0.displayName="ModalDialog";const DL=S.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=it(t,"modal-footer"),N.jsx(n,{ref:r,className:We(e,t),...i})));DL.displayName="ModalFooter";const q0=S.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:i,children:r,...s},o)=>{const l=S.useContext(j0),u=vl(()=>{l?.onHide(),i?.()});return N.jsxs("div",{ref:o,...s,children:[r,n&&N.jsx(yy,{"aria-label":e,variant:t,onClick:u})]})});q0.displayName="AbstractModalHeader";const AL=S.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:i=!1,...r},s)=>(e=it(e,"modal-header"),N.jsx(q0,{ref:s,...r,className:We(t,e),closeLabel:n,closeButton:i})));AL.displayName="ModalHeader";const q9=Jp("h4"),PL=S.forwardRef(({className:e,bsPrefix:t,as:n=q9,...i},r)=>(t=it(t,"modal-title"),N.jsx(n,{ref:r,className:We(e,t),...i})));PL.displayName="ModalTitle";function K9(e){return N.jsx(Fd,{...e,timeout:null})}function Y9(e){return N.jsx(Fd,{...e,timeout:null})}const IL=S.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:i,contentClassName:r,children:s,dialogAs:o=$0,"data-bs-theme":l,"aria-labelledby":u,"aria-describedby":d,"aria-label":f,show:p=!1,animation:m=!0,backdrop:C=!0,keyboard:w=!0,onEscapeKeyDown:E,onShow:R,onHide:x,container:D,autoFocus:A=!0,enforceFocus:L=!0,restoreFocus:V=!0,restoreFocusOptions:I,onEntered:_,onExit:F,onExiting:k,onEnter:O,onEntering:B,onExited:U,backdropClassName:G,manager:de,...pe},q)=>{const[ne,re]=S.useState({}),[ge,z]=S.useState(!1),Q=S.useRef(!1),J=S.useRef(!1),X=S.useRef(null),[fe,Re]=x9(),Ae=HO(q,Re),gt=vl(x),Ze=vj();e=it(e,"modal");const Ke=S.useMemo(()=>({onHide:gt}),[gt]);function rt(){return de||TL({isRTL:Ze})}function ht(Le){if(!Zd)return;const et=rt().getScrollbarWidth()>0,ut=Le.scrollHeight>vy(Le).documentElement.clientHeight;re({paddingRight:et&&!ut?HF():void 0,paddingLeft:!et&&ut?HF():void 0})}const ft=vl(()=>{fe&&ht(fe.dialog)});i9(()=>{qE(window,"resize",ft),X.current==null||X.current()});const _t=()=>{Q.current=!0},Ie=Le=>{Q.current&&fe&&Le.target===fe.dialog&&(J.current=!0),Q.current=!1},Me=()=>{z(!0),X.current=BO(fe.dialog,()=>{z(!1)})},Qe=Le=>{Le.target===Le.currentTarget&&Me()},Oe=Le=>{if(C==="static"){Qe(Le);return}if(J.current||Le.target!==Le.currentTarget){J.current=!1;return}x?.()},Ye=Le=>{w?E?.(Le):(Le.preventDefault(),C==="static"&&Me())},St=(Le,et)=>{Le&&ht(Le),O?.(Le,et)},st=Le=>{X.current==null||X.current(),F?.(Le)},yt=(Le,et)=>{B?.(Le,et),VO(window,"resize",ft)},wt=Le=>{Le&&(Le.style.display=""),U?.(Le),qE(window,"resize",ft)},Ft=S.useCallback(Le=>N.jsx("div",{...Le,className:We(`${e}-backdrop`,G,!m&&"show")}),[m,G,e]),fn={...n,...ne};fn.display="block";const On=Le=>N.jsx("div",{role:"dialog",...Le,style:fn,className:We(t,e,ge&&`${e}-static`,!m&&"show"),onClick:C?Oe:void 0,onMouseUp:Ie,"data-bs-theme":l,"aria-label":f,"aria-labelledby":u,"aria-describedby":d,children:N.jsx(o,{...pe,onMouseDown:_t,className:i,contentClassName:r,children:s})});return N.jsx(j0.Provider,{value:Ke,children:N.jsx(EL,{show:p,ref:Ae,backdrop:C,container:D,keyboard:!0,autoFocus:A,enforceFocus:L,restoreFocus:V,restoreFocusOptions:I,onEscapeKeyDown:Ye,onShow:R,onHide:x,onEnter:St,onEntering:yt,onEntered:_,onExit:st,onExiting:k,onExited:wt,manager:rt(),transition:m?K9:void 0,backdropTransition:m?Y9:void 0,renderBackdrop:Ft,renderDialog:On})})});IL.displayName="Modal";const pi=Object.assign(IL,{Body:xL,Header:AL,Title:PL,Footer:DL,Dialog:$0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),FL=S.forwardRef(({bsPrefix:e,className:t,as:n,...i},r)=>{e=it(e,"navbar-brand");const s=n||(i.href?"a":"span");return N.jsx(s,{...i,ref:r,className:We(t,e)})});FL.displayName="NavbarBrand";const ML=S.forwardRef(({children:e,bsPrefix:t,...n},i)=>{t=it(t,"navbar-collapse");const r=S.useContext(eg);return N.jsx(zO,{in:!!(r&&r.expanded),...n,children:N.jsx("div",{ref:i,className:t,children:e})})});ML.displayName="NavbarCollapse";const _L=S.forwardRef(({bsPrefix:e,className:t,children:n,label:i="Toggle navigation",as:r="button",onClick:s,...o},l)=>{e=it(e,"navbar-toggler");const{onToggle:u,expanded:d}=S.useContext(eg)||{},f=vl(p=>{s&&s(p),u&&u()});return r==="button"&&(o.type="button"),N.jsx(r,{...o,ref:l,onClick:f,"aria-label":i,className:We(t,e,!d&&"collapsed"),children:n||N.jsx("span",{className:`${e}-icon`})})});_L.displayName="NavbarToggle";const YE=new WeakMap,jF=(e,t)=>{if(!e||!t)return;const n=YE.get(t)||new Map;YE.set(t,n);let i=n.get(e);return i||(i=t.matchMedia(e),i.refCount=0,n.set(i.media,i)),i};function Q9(e,t=typeof window>"u"?void 0:window){const n=jF(e,t),[i,r]=S.useState(()=>n?n.matches:!1);return f9(()=>{let s=jF(e,t);if(!s)return r(!1);let o=YE.get(t);const l=()=>{r(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[e]),i}function X9(e){const t=Object.keys(e);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function i(l){return t[Math.min(t.indexOf(l)+1,t.length-1)]}function r(l){const u=i(l);let d=e[u];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function s(l){let u=e[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(l,u,d){let f;typeof l=="object"?(f=l,d=u,u=!0):(u=u||!0,f={[l]:u});let p=S.useMemo(()=>Object.entries(f).reduce((m,[C,w])=>((w==="up"||w===!0)&&(m=n(m,s(C))),(w==="down"||w===!0)&&(m=n(m,r(C))),m),""),[JSON.stringify(f)]);return Q9(p,d)}return o}const Z9=X9({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),kL=S.forwardRef(({className:e,bsPrefix:t,as:n="div",...i},r)=>(t=it(t,"offcanvas-body"),N.jsx(n,{ref:r,className:We(e,t),...i})));kL.displayName="OffcanvasBody";const J9={[ms]:"show",[Wo]:"show"},OL=S.forwardRef(({bsPrefix:e,className:t,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:s=!1,appear:o=!1,...l},u)=>(e=it(e,"offcanvas"),N.jsx(Cy,{ref:u,addEndListener:L0,in:i,mountOnEnter:r,unmountOnExit:s,appear:o,...l,childRef:Xd(n),children:(d,f)=>S.cloneElement(n,{...f,className:We(t,n.props.className,(d===ms||d===fp)&&`${e}-toggling`,J9[d])})})));OL.displayName="OffcanvasToggling";const LL=S.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:i=!1,...r},s)=>(e=it(e,"offcanvas-header"),N.jsx(q0,{ref:s,...r,className:We(t,e),closeLabel:n,closeButton:i})));LL.displayName="OffcanvasHeader";const e$=Jp("h5"),NL=S.forwardRef(({className:e,bsPrefix:t,as:n=e$,...i},r)=>(t=it(t,"offcanvas-title"),N.jsx(n,{ref:r,className:We(e,t),...i})));NL.displayName="OffcanvasTitle";function t$(e){return N.jsx(OL,{...e})}function n$(e){return N.jsx(Fd,{...e})}const VL=S.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":i,placement:r="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:u=!0,scroll:d=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:C,autoFocus:w=!0,enforceFocus:E=!0,restoreFocus:R=!0,restoreFocusOptions:x,onEntered:D,onExit:A,onExiting:L,onEnter:V,onEntering:I,onExited:_,backdropClassName:F,manager:k,renderStaticNode:O=!1,...B},U)=>{const G=S.useRef();e=it(e,"offcanvas");const[de,pe]=S.useState(!1),q=vl(m),ne=Z9(s||"xs","up");S.useEffect(()=>{pe(s?o&&!ne:o)},[o,s,ne]);const re=S.useMemo(()=>({onHide:q}),[q]);function ge(){return k||(d?(G.current||(G.current=new RL({handleContainerOverflow:!1})),G.current):TL())}const z=(fe,...Re)=>{fe&&(fe.style.visibility="visible"),V?.(fe,...Re)},Q=(fe,...Re)=>{fe&&(fe.style.visibility=""),_?.(...Re)},J=S.useCallback(fe=>N.jsx("div",{...fe,className:We(`${e}-backdrop`,F)}),[F,e]),X=fe=>N.jsx("div",{...fe,...B,className:We(t,s?`${e}-${s}`:e,`${e}-${r}`),"aria-labelledby":i,children:n});return N.jsxs(N.Fragment,{children:[!de&&(s||O)&&X({}),N.jsx(j0.Provider,{value:re,children:N.jsx(EL,{show:de,ref:U,backdrop:l,container:C,keyboard:u,autoFocus:w,enforceFocus:E&&!d,restoreFocus:R,restoreFocusOptions:x,onEscapeKeyDown:f,onShow:p,onHide:q,onEnter:z,onEntering:I,onEntered:D,onExit:A,onExiting:L,onExited:Q,manager:ge(),transition:t$,backdropTransition:n$,renderBackdrop:J,renderDialog:X})})]})});VL.displayName="Offcanvas";const Ff=Object.assign(VL,{Body:kL,Header:LL,Title:NL}),BL=S.forwardRef(({onHide:e,...t},n)=>{const i=S.useContext(eg),r=vl(()=>{i==null||i.onToggle==null||i.onToggle(),e?.()});return N.jsx(Ff,{ref:n,show:!!(i!=null&&i.expanded),...t,renderStaticNode:!0,onHide:r})});BL.displayName="NavbarOffcanvas";const GL=S.forwardRef(({className:e,bsPrefix:t,as:n="span",...i},r)=>(t=it(t,"navbar-text"),N.jsx(n,{ref:r,className:We(e,t),...i})));GL.displayName="NavbarText";const HL=S.forwardRef((e,t)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:s,fixed:o,sticky:l,className:u,as:d="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:C=!1,...w}=O0(e,{expanded:"onToggle"}),E=it(n,"navbar"),R=S.useCallback((...A)=>{m?.(...A),C&&f&&p?.(!1)},[m,C,f,p]);w.role===void 0&&d!=="nav"&&(w.role="navigation");let x=`${E}-expand`;typeof i=="string"&&(x=`${x}-${i}`);const D=S.useMemo(()=>({onToggle:()=>p?.(!f),bsPrefix:E,expanded:!!f,expand:i}),[E,f,i,p]);return N.jsx(eg.Provider,{value:D,children:N.jsx(iC.Provider,{value:R,children:N.jsx(d,{ref:t,...w,className:We(u,E,i&&x,r&&`${E}-${r}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});HL.displayName="Navbar";const i$=Object.assign(HL,{Brand:FL,Collapse:ML,Offcanvas:BL,Text:GL,Toggle:_L}),gp=S.forwardRef(({bsPrefix:e,className:t,as:n="div",...i},r)=>{const s=it(e,"row"),o=OO(),l=LO(),u=`${s}-cols`,d=[];return o.forEach(f=>{const p=i[f];delete i[f];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const C=f!==l?`-${f}`:"";m!=null&&d.push(`${u}${C}-${m}`)}),N.jsx(n,{ref:r,...i,className:We(t,s,...d)})});gp.displayName="Row";const Oc=S.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:i,as:r="div",className:s,...o},l)=>{e=it(e,"spinner");const u=`${e}-${n}`;return N.jsx(r,{ref:l,...o,className:We(s,u,i&&`${u}-${i}`,t&&`text-${t}`)})});Oc.displayName="Spinner";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),$F=e=>{const t=s$(e);return t.charAt(0).toUpperCase()+t.slice(1)},zL=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),o$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...l},u)=>S.createElement("svg",{ref:u,...a$,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:zL("lucide",r),...!s&&!o$(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,f])=>S.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=(e,t)=>{const n=S.forwardRef(({className:i,...r},s)=>S.createElement(l$,{ref:s,iconNode:t,className:zL(`lucide-${r$($F(e))}`,`lucide-${e}`,i),...r}));return n.displayName=$F(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qF=_i("arrow-right",c$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],d$=_i("eye-off",u$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f$=_i("eye",h$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],g$=_i("info",p$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],v$=_i("layers",m$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],y$=_i("log-out",C$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],b$=_i("mail",w$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],E$=_i("map",S$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],T$=_i("menu",R$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ry=_i("plus",x$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A$=_i("save",D$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],K0=_i("search",P$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UL=_i("trash-2",I$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Y0=_i("user-plus",F$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_$=_i("user",M$);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qo=_i("users",k$),O$=()=>{};var KF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},L$=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},jL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,l=o?e[r+1]:0,u=r+2<e.length,d=u?e[r+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|d>>6,C=d&63;u||(C=64,o||(m=64)),i.push(n[f],n[p],n[m],n[C])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(WL(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):L$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||d==null||p==null)throw new N$;const m=s<<2|l>>4;if(i.push(m),d!==64){const C=l<<4&240|d>>2;if(i.push(C),p!==64){const w=d<<6&192|p;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class N$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V$=function(e){const t=WL(e);return jL.encodeByteArray(t,!0)},aC=function(e){return V$(e).replace(/\./g,"")},$L=function(e){try{return jL.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=()=>B$().__FIREBASE_DEFAULTS__,H$=()=>{if(typeof process>"u"||typeof KF>"u")return;const e=KF.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},z$=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$L(e[1]);return t&&JSON.parse(t)},Ty=()=>{try{return O$()||G$()||H$()||z$()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qL=e=>Ty()?.emulatorHosts?.[e],U$=e=>{const t=qL(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},KL=()=>Ty()?.config,YL=e=>Ty()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QL(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[aC(JSON.stringify(n)),aC(JSON.stringify(o)),""].join(".")}const Uf={};function $$(){const e={prod:[],emulator:[]};for(const t of Object.keys(Uf))Uf[t]?e.emulator.push(t):e.prod.push(t);return e}function q$(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let YF=!1;function XL(e,t){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||Uf[e]===t||Uf[e]||YF)return;Uf[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=$$().prod.length>0;function o(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,C){m.setAttribute("width","24"),m.setAttribute("id",C),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{YF=!0,o()},m}function f(m,C){m.setAttribute("id",C),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=q$(i),C=n("text"),w=document.getElementById(C)||document.createElement("span"),E=n("learnmore"),R=document.getElementById(E)||document.createElement("a"),x=n("preprendIcon"),D=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;l(A),f(R,E);const L=d();u(D,x),A.append(D,w,R,L),document.body.appendChild(A)}s?(w.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())}function Y$(){const e=Ty()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Z$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J$(){const e=Fi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function e7(){return!Y$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t7(){try{return typeof indexedDB=="object"}catch{return!1}}function n7(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="FirebaseError";class vo extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=i7,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ng.prototype.create)}}class ng{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?r7(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new vo(r,l,i)}}function r7(e,t){return e.replace(s7,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const s7=/\{\$([^}]+)}/g;function o7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lc(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(QF(s)&&QF(o)){if(!Lc(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function QF(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Mf(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function _f(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function a7(e,t){const n=new l7(e,t);return n.subscribe.bind(n)}class l7{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");c7(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=FS),r.error===void 0&&(r.error=FS),r.complete===void 0&&(r.complete=FS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c7(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function FS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e){return e&&e._delegate?e._delegate:e}let Nc=class{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u7=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new W$;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(h7(t))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=uc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=uc){return this.instances.has(t)}getOptions(t=uc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d7(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=uc){return this.component?this.component.multipleInstances?t:uc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d7(e){return e===uc?void 0:e}function h7(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new u7(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(At||(At={}));const p7={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},g7=At.INFO,m7={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},v7=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=m7[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Q0{constructor(t){this.name=t,this._logLevel=g7,this._logHandler=v7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in At))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?p7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...t),this._logHandler(this,At.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...t),this._logHandler(this,At.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,At.INFO,...t),this._logHandler(this,At.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,At.WARN,...t),this._logHandler(this,At.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...t),this._logHandler(this,At.ERROR,...t)}}const C7=(e,t)=>t.some(n=>e instanceof n);let XF,ZF;function y7(){return XF||(XF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w7(){return ZF||(ZF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZL=new WeakMap,QE=new WeakMap,JL=new WeakMap,MS=new WeakMap,X0=new WeakMap;function b7(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(al(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ZL.set(n,e)}).catch(()=>{}),X0.set(t,e),t}function S7(e){if(QE.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});QE.set(e,t)}let XE={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return QE.get(e);if(t==="objectStoreNames")return e.objectStoreNames||JL.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return al(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function E7(e){XE=e(XE)}function R7(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(_S(this),t,...n);return JL.set(i,t.sort?t.sort():[t]),al(i)}:w7().includes(e)?function(...t){return e.apply(_S(this),t),al(ZL.get(this))}:function(...t){return al(e.apply(_S(this),t))}}function T7(e){return typeof e=="function"?R7(e):(e instanceof IDBTransaction&&S7(e),C7(e,y7())?new Proxy(e,XE):e)}function al(e){if(e instanceof IDBRequest)return b7(e);if(MS.has(e))return MS.get(e);const t=T7(e);return t!==e&&(MS.set(e,t),X0.set(t,e)),t}const _S=e=>X0.get(e);function x7(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),l=al(o);return i&&o.addEventListener("upgradeneeded",u=>{i(al(o.result),u.oldVersion,u.newVersion,al(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const D7=["get","getKey","getAll","getAllKeys","count"],A7=["put","add","delete","clear"],kS=new Map;function JF(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(kS.get(t))return kS.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=A7.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||D7.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return kS.set(t,s),s}E7(e=>({...e,get:(t,n,i)=>JF(t,n)||e.get(t,n,i),has:(t,n)=>!!JF(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I7(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function I7(e){return e.getComponent()?.type==="VERSION"}const ZE="@firebase/app",eM="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Q0("@firebase/app"),F7="@firebase/app-compat",M7="@firebase/analytics-compat",_7="@firebase/analytics",k7="@firebase/app-check-compat",O7="@firebase/app-check",L7="@firebase/auth",N7="@firebase/auth-compat",V7="@firebase/database",B7="@firebase/data-connect",G7="@firebase/database-compat",H7="@firebase/functions",z7="@firebase/functions-compat",U7="@firebase/installations",W7="@firebase/installations-compat",j7="@firebase/messaging",$7="@firebase/messaging-compat",q7="@firebase/performance",K7="@firebase/performance-compat",Y7="@firebase/remote-config",Q7="@firebase/remote-config-compat",X7="@firebase/storage",Z7="@firebase/storage-compat",J7="@firebase/firestore",e8="@firebase/ai",t8="@firebase/firestore-compat",n8="firebase",i8="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="[DEFAULT]",r8={[ZE]:"fire-core",[F7]:"fire-core-compat",[_7]:"fire-analytics",[M7]:"fire-analytics-compat",[O7]:"fire-app-check",[k7]:"fire-app-check-compat",[L7]:"fire-auth",[N7]:"fire-auth-compat",[V7]:"fire-rtdb",[B7]:"fire-data-connect",[G7]:"fire-rtdb-compat",[H7]:"fire-fn",[z7]:"fire-fn-compat",[U7]:"fire-iid",[W7]:"fire-iid-compat",[j7]:"fire-fcm",[$7]:"fire-fcm-compat",[q7]:"fire-perf",[K7]:"fire-perf-compat",[Y7]:"fire-rc",[Q7]:"fire-rc-compat",[X7]:"fire-gcs",[Z7]:"fire-gcs-compat",[J7]:"fire-fst",[t8]:"fire-fst-compat",[e8]:"fire-vertex","fire-js":"fire-js",[n8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Map,s8=new Map,eR=new Map;function tM(e,t){try{e.container.addComponent(t)}catch(n){ra.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Md(e){const t=e.name;if(eR.has(t))return ra.debug(`There were multiple attempts to register component ${t}.`),!1;eR.set(t,e);for(const n of lC.values())tM(n,e);for(const n of s8.values())tM(n,e);return!0}function Z0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Qr(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ll=new ng("app","Firebase",o8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Nc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ll.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=i8;function eN(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:JE,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ll.create("bad-app-name",{appName:String(r)});if(n||(n=KL()),!n)throw ll.create("no-options");const s=lC.get(r);if(s){if(Lc(n,s.options)&&Lc(i,s.config))return s;throw ll.create("duplicate-app",{appName:r})}const o=new f7(r);for(const u of eR.values())o.addComponent(u);const l=new a8(n,i,o);return lC.set(r,l),l}function tN(e=JE){const t=lC.get(e);if(!t&&e===JE&&KL())return eN();if(!t)throw ll.create("no-app",{appName:e});return t}function cl(e,t,n){let i=r8[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${t}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ra.warn(o.join(" "));return}Md(new Nc(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="firebase-heartbeat-database",c8=1,mp="firebase-heartbeat-store";let OS=null;function nN(){return OS||(OS=x7(l8,c8,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mp)}catch(n){console.warn(n)}}}}).catch(e=>{throw ll.create("idb-open",{originalErrorMessage:e.message})})),OS}async function u8(e){try{const n=(await nN()).transaction(mp),i=await n.objectStore(mp).get(iN(e));return await n.done,i}catch(t){if(t instanceof vo)ra.warn(t.message);else{const n=ll.create("idb-get",{originalErrorMessage:t?.message});ra.warn(n.message)}}}async function nM(e,t){try{const i=(await nN()).transaction(mp,"readwrite");await i.objectStore(mp).put(t,iN(e)),await i.done}catch(n){if(n instanceof vo)ra.warn(n.message);else{const i=ll.create("idb-set",{originalErrorMessage:n?.message});ra.warn(i.message)}}}function iN(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=1024,h8=30;class f8{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g8(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iM();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>h8){const r=m8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ra.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iM(),{heartbeatsToSend:n,unsentEntries:i}=p8(this._heartbeatsCache.heartbeats),r=aC(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return ra.warn(t),""}}}function iM(){return new Date().toISOString().substring(0,10)}function p8(e,t=d8){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),rM(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),rM(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class g8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t7()?n7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return nM(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return nM(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function rM(e){return aC(JSON.stringify({version:2,heartbeats:e})).length}function m8(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(e){Md(new Nc("platform-logger",t=>new P7(t),"PRIVATE")),Md(new Nc("heartbeat",t=>new f8(t),"PRIVATE")),cl(ZE,eM,e),cl(ZE,eM,"esm2020"),cl("fire-js","")}v8("");var C8="firebase",y8="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cl(C8,y8,"app");const w8="AIzaSyCw5stPCkMrXawbxzgT-aFT8Q3_swl5Ms4",b8="tutordecolonial.firebaseapp.com",S8="tutordecolonial",E8="tutordecolonial.firebasestorage.app",R8="1086836762849",T8="1:1086836762849:web:ed4d9b2715c421e4eeafa0",x8={apiKey:w8,authDomain:b8,projectId:S8,storageBucket:E8,messagingSenderId:R8,appId:T8};function rN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D8=rN,sN=new ng("auth","Firebase",rN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Q0("@firebase/auth");function A8(e,...t){cC.logLevel<=At.WARN&&cC.warn(`Auth (${eh}): ${e}`,...t)}function Tv(e,...t){cC.logLevel<=At.ERROR&&cC.error(`Auth (${eh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e,...t){throw J0(e,...t)}function to(e,...t){return J0(e,...t)}function oN(e,t,n){const i={...D8(),[t]:n};return new ng("auth","Firebase",i).create(t,{appName:e.name})}function Xo(e){return oN(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return sN.create(e,...t)}function at(e,t,...n){if(!e)throw J0(t,...n)}function $o(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tv(t),new Error(t)}function sa(e,t){e||$o(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof self<"u"&&self.location?.href||""}function P8(){return sM()==="http:"||sM()==="https:"}function sM(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P8()||X$()||"connection"in navigator)?navigator.onLine:!0}function F8(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,n){this.shortDelay=t,this.longDelay=n,sa(n>t,"Short delay should be less than long delay!"),this.isMobile=K$()||Z$()}get(){return I8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e,t){sa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k8=new rg(3e4,6e4);function Pl(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Il(e,t,n,i,r={}){return lN(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const l=ig({key:e.config.apiKey,...o}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:u,...s};return Q$()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&Jd(e.emulatorConfig.host)&&(d.credentials="include"),aN.fetch()(await cN(e,e.config.apiHost,n,l),d)})}async function lN(e,t,n){e._canInitEmulator=!1;const i={...M8,...t};try{const r=new L8(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Km(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Km(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Km(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw Km(e,"user-disabled",o);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw oN(e,f,d);bs(e,f)}}catch(r){if(r instanceof vo)throw r;bs(e,"network-request-failed",{message:String(r)})}}async function sg(e,t,n,i,r={}){const s=await Il(e,t,n,i,r);return"mfaPendingCredential"in s&&bs(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function cN(e,t,n,i){const r=`${t}${n}?${i}`,s=e,o=s.config.emulator?eT(e.config,r):`${e.config.apiScheme}://${r}`;return _8.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function O8(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(to(this.auth,"network-request-failed")),k8.get())})}}function Km(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=to(e,t,i);return r.customData._tokenResponse=n,r}function oM(e){return e!==void 0&&e.enterprise!==void 0}class N8{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return O8(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V8(e,t){return Il(e,"GET","/v2/recaptchaConfig",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(e,t){return Il(e,"POST","/v1/accounts:delete",t)}async function uC(e,t){return Il(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function G8(e,t=!1){const n=bi(e),i=await n.getIdToken(t),r=tT(i);at(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Wf(LS(r.auth_time)),issuedAtTime:Wf(LS(r.iat)),expirationTime:Wf(LS(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function LS(e){return Number(e)*1e3}function tT(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Tv("JWT malformed, contained fewer than 3 sections"),null;try{const r=$L(n);return r?JSON.parse(r):(Tv("Failed to decode base64 JWT payload"),null)}catch(r){return Tv("Caught error parsing JWT payload as JSON",r?.toString()),null}}function aM(e){const t=tT(e);return at(t,"internal-error"),at(typeof t.exp<"u","internal-error"),at(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof vo&&H8(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function H8({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(e){const t=e.auth,n=await e.getIdToken(),i=await vp(e,uC(t,{idToken:n}));at(i?.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=r.providerUserInfo?.length?uN(r.providerUserInfo):[],o=W8(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!o?.length,d=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new nR(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function U8(e){const t=bi(e);await dC(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function W8(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function uN(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(e,t){const n=await lN(e,{},async()=>{const i=ig({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=await cN(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Jd(e.emulatorConfig.host)&&(u.credentials="include"),aN.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $8(e,t){return Il(e,"POST","/v2/accounts:revokeToken",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){at(t.idToken,"internal-error"),at(typeof t.idToken<"u","internal-error"),at(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){at(t.length!==0,"internal-error");const n=aM(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await j8(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new ud;return i&&(at(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(at(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(at(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ud,this.toJSON())}_performRefresh(){return $o("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e,t){at(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vs{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new z8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new nR(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await vp(this,this.stsTokenManager.getToken(this.auth,t));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return G8(this,t)}reload(){return U8(this)}_assign(t){this!==t&&(at(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await dC(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Xo(this.auth));const t=await this.getIdToken();return await vp(this,B8(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:C,providerData:w,stsTokenManager:E}=n;at(p&&E,t,"internal-error");const R=ud.fromJSON(this.name,E);at(typeof p=="string",t,"internal-error"),ja(i,t.name),ja(r,t.name),at(typeof m=="boolean",t,"internal-error"),at(typeof C=="boolean",t,"internal-error"),ja(s,t.name),ja(o,t.name),ja(l,t.name),ja(u,t.name),ja(d,t.name),ja(f,t.name);const x=new vs({uid:p,auth:t,email:r,emailVerified:m,displayName:i,isAnonymous:C,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:R,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(x.providerData=w.map(D=>({...D}))),u&&(x._redirectEventId=u),x}static async _fromIdTokenResponse(t,n,i=!1){const r=new ud;r.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await dC(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];at(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?uN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,l=new ud;l.updateFromIdToken(i);const u=new vs({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new nR(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Map;function qo(e){sa(e instanceof Function,"Expected a class definition");let t=lM.get(e);return t?(sa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,lM.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dN.type="NONE";const cM=dN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(e,t,n){return`firebase:${e}:${t}:${n}`}class dd{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=xv(this.userKey,r.apiKey,s),this.fullPersistenceKey=xv("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await uC(this.auth,{idToken:t}).catch(()=>{});return n?vs._fromGetAccountInfoResponse(this.auth,n,t):null}return vs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new dd(qo(cM),t,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||qo(cM);const o=xv(i,t.config.apiKey,t.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let p;if(typeof f=="string"){const m=await uC(t,{idToken:f}).catch(()=>{});if(!m)break;p=await vs._fromGetAccountInfoResponse(t,m,f)}else p=vs._fromJSON(t,f);d!==s&&(l=p),s=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new dd(s,t,i):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new dd(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vN(t))return"Blackberry";if(CN(t))return"Webos";if(fN(t))return"Safari";if((t.includes("chrome/")||pN(t))&&!t.includes("edge/"))return"Chrome";if(mN(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function hN(e=Fi()){return/firefox\//i.test(e)}function fN(e=Fi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pN(e=Fi()){return/crios\//i.test(e)}function gN(e=Fi()){return/iemobile/i.test(e)}function mN(e=Fi()){return/android/i.test(e)}function vN(e=Fi()){return/blackberry/i.test(e)}function CN(e=Fi()){return/webos/i.test(e)}function nT(e=Fi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function q8(e=Fi()){return nT(e)&&!!window.navigator?.standalone}function K8(){return J$()&&document.documentMode===10}function yN(e=Fi()){return nT(e)||mN(e)||CN(e)||vN(e)||/windows phone/i.test(e)||gN(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e,t=[]){let n;switch(e){case"Browser":n=uM(Fi());break;case"Worker":n=`${uM(Fi())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,l)=>{try{const u=t(s);o(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8(e,t={}){return Il(e,"GET","/v2/passwordPolicy",Pl(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=6;class Z8{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??X8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dM(this),this.idTokenSubscription=new dM(this),this.beforeStateQueue=new Y8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dd.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await uC(this,{idToken:t}),i=await vs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=i?._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&l?.user&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await dC(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=F8()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qr(this.app))return Promise.reject(Xo(this));const n=t?bi(t):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&at(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(Xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qr(this.app)?Promise.reject(Xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Q8(this),n=new Z8(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ng("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await $8(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qo(t)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await dd.create(this,[qo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&A8(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jc(e){return bi(e)}class dM{constructor(t){this.auth=t,this.observer=null,this.addObserver=a7(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eq(e){xy=e}function bN(e){return xy.loadJS(e)}function tq(){return xy.recaptchaEnterpriseScript}function nq(){return xy.gapiScript}function iq(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class rq{constructor(){this.enterprise=new sq}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class sq{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const oq="recaptcha-enterprise",SN="NO_RECAPTCHA";class aq{constructor(t){this.type=oq,this.auth=Jc(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{V8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new N8(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function r(s,o,l){const u=window.grecaptcha;oM(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(d=>{o(d)}).catch(()=>{o(SN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rq().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(l=>{if(!n&&oM(window.grecaptcha))r(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=tq();u.length!==0&&(u+=l),bN(u).then(()=>{r(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function hM(e,t,n,i=!1,r=!1){const s=new aq(e);let o;if(r)o=SN;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function iR(e,t,n,i,r){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await hM(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hM(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(e,t){const n=Z0(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Lc(s,t??{}))return r;bs(r,"already-initialized")}return n.initialize({options:t})}function cq(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(qo);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function uq(e,t,n){const i=Jc(e);at(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=EN(t),{host:o,port:l}=dq(t),u=l===null?"":`:${l}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){at(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),at(Lc(d,i.config.emulator)&&Lc(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,Jd(o)?(QL(`${s}//${o}${u}`),XL("Auth",!0)):hq()}function EN(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dq(e){const t=EN(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:fM(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:fM(o)}}}function fM(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function hq(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $o("not implemented")}_getIdTokenResponse(t){return $o("not implemented")}_linkToIdToken(t,n){return $o("not implemented")}_getReauthenticationResolver(t){return $o("not implemented")}}async function fq(e,t){return Il(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pq(e,t){return sg(e,"POST","/v1/accounts:signInWithPassword",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gq(e,t){return sg(e,"POST","/v1/accounts:signInWithEmailLink",Pl(e,t))}async function mq(e,t){return sg(e,"POST","/v1/accounts:signInWithEmailLink",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends iT{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Cp(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Cp(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iR(t,n,"signInWithPassword",pq);case"emailLink":return gq(t,{email:this._email,oobCode:this._password});default:bs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iR(t,i,"signUpPassword",fq);case"emailLink":return mq(t,{idToken:n,email:this._email,oobCode:this._password});default:bs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(e,t){return sg(e,"POST","/v1/accounts:signInWithIdp",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq="http://localhost";class Vc extends iT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Vc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const o=new Vc(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return hd(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,hd(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,hd(t,n)}buildRequest(){const t={requestUri:vq,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ig(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yq(e){const t=Mf(_f(e)).link,n=t?Mf(_f(t)).deep_link_id:null,i=Mf(_f(e)).deep_link_id;return(i?Mf(_f(i)).link:null)||i||n||t||e}class rT{constructor(t){const n=Mf(_f(t)),i=n.apiKey??null,r=n.oobCode??null,s=Cq(n.mode??null);at(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=yq(t);try{return new rT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this.providerId=th.PROVIDER_ID}static credential(t,n){return Cp._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=rT.parseLink(n);return at(i,"argument-error"),Cp._fromEmailAndCode(t,i.code,i.tenantId)}}th.PROVIDER_ID="password";th.EMAIL_PASSWORD_SIGN_IN_METHOD="password";th.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends RN{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends og{constructor(){super("facebook.com")}static credential(t){return Vc._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ja.credential(t.oauthAccessToken)}catch{return null}}}Ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends og{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Vc._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return el.credentialFromTaggedObject(t)}static credentialFromError(t){return el.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return el.credential(n,i)}catch{return null}}}el.GOOGLE_SIGN_IN_METHOD="google.com";el.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends og{constructor(){super("github.com")}static credential(t){return Vc._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tl.credentialFromTaggedObject(t)}static credentialFromError(t){return tl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tl.credential(t.oauthAccessToken)}catch{return null}}}tl.GITHUB_SIGN_IN_METHOD="github.com";tl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends og{constructor(){super("twitter.com")}static credential(t,n){return Vc._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return nl.credentialFromTaggedObject(t)}static credentialFromError(t){return nl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return nl.credential(n,i)}catch{return null}}}nl.TWITTER_SIGN_IN_METHOD="twitter.com";nl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(e,t){return sg(e,"POST","/v1/accounts:signUp",Pl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await vs._fromIdTokenResponse(t,i,r),o=pM(i);return new Bc({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=pM(i);return new Bc({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function pM(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends vo{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,hC.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new hC(t,n,i,r)}}function TN(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hC._fromErrorAndOperation(e,s,t,i):s})}async function bq(e,t,n=!1){const i=await vp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Bc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(e,t,n=!1){const{auth:i}=e;if(Qr(i.app))return Promise.reject(Xo(i));const r="reauthenticate";try{const s=await vp(e,TN(i,r,t,e),n);at(s.idToken,i,"internal-error");const o=tT(s.idToken);at(o,i,"internal-error");const{sub:l}=o;return at(e.uid===l,i,"user-mismatch"),Bc._forOperation(e,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&bs(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(e,t,n=!1){if(Qr(e.app))return Promise.reject(Xo(e));const i="signIn",r=await TN(e,i,t),s=await Bc._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Eq(e,t){return xN(Jc(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(e){const t=Jc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Rq(e,t,n){if(Qr(e.app))return Promise.reject(Xo(e));const i=Jc(e),o=await iR(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wq).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&DN(e),u}),l=await Bc._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}function Tq(e,t,n){return Qr(e.app)?Promise.reject(Xo(e)):Eq(bi(e),th.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DN(e),i})}function xq(e,t,n,i){return bi(e).onIdTokenChanged(t,n,i)}function Dq(e,t,n){return bi(e).beforeAuthStateChanged(t,n)}function Aq(e){return bi(e).signOut()}const fC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fC,"1"),this.storage.removeItem(fC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=1e3,Iq=10;class PN extends AN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);K8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Iq):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Pq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}PN.type="LOCAL";const Fq=PN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN extends AN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}IN.type="SESSION";const FN=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Dy(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await Mq(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=sT("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return window}function kq(e){no().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return typeof no().WorkerGlobalScope<"u"&&typeof no().importScripts=="function"}async function Oq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lq(){return navigator?.serviceWorker?.controller||null}function Nq(){return MN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebaseLocalStorageDb",Vq=1,pC="firebaseLocalStorage",kN="fbase_key";class ag{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ay(e,t){return e.transaction([pC],t?"readwrite":"readonly").objectStore(pC)}function Bq(){const e=indexedDB.deleteDatabase(_N);return new ag(e).toPromise()}function rR(){const e=indexedDB.open(_N,Vq);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(pC,{keyPath:kN})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(pC)?t(i):(i.close(),await Bq(),t(await rR()))})})}async function gM(e,t,n){const i=Ay(e,!0).put({[kN]:t,value:n});return new ag(i).toPromise()}async function Gq(e,t){const n=Ay(e,!1).get(t),i=await new ag(n).toPromise();return i===void 0?null:i.value}function mM(e,t){const n=Ay(e,!0).delete(t);return new ag(n).toPromise()}const Hq=800,zq=3;class ON{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rR(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>zq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dy._getInstance(Nq()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Oq(),!this.activeServiceWorker)return;this.sender=new _q(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Lq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rR();return await gM(t,fC,"1"),await mM(t,fC),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>gM(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>Gq(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mM(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Ay(r,!1).getAll();return new ag(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ON.type="LOCAL";const Uq=ON;new rg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(e,t){return t?qo(t):(at(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends iT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hd(t,this._buildIdpRequest())}_linkToIdToken(t,n){return hd(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return hd(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function jq(e){return xN(e.auth,new oT(e),e.bypassAuthState)}function $q(e){const{auth:t,user:n}=e;return at(n,t,"internal-error"),Sq(n,new oT(e),e.bypassAuthState)}async function qq(e){const{auth:t,user:n}=e;return at(n,t,"internal-error"),bq(n,new oT(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jq;case"linkViaPopup":case"linkViaRedirect":return qq;case"reauthViaPopup":case"reauthViaRedirect":return $q;default:bs(this.auth,"internal-error")}}resolve(t){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new rg(2e3,1e4);class od extends LN{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,od.currentPopupAction&&od.currentPopupAction.cancel(),od.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return at(t,this.auth,"internal-error"),t}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const t=sT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(to(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(to(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,od.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(to(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Kq.get())};t()}}od.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="pendingRedirect",Dv=new Map;class Qq extends LN{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Dv.get(this.auth._key());if(!t){try{const i=await Xq(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Dv.set(this.auth._key(),t)}return this.bypassAuthState||Dv.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xq(e,t){const n=eK(t),i=Jq(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function Zq(e,t){Dv.set(e._key(),t)}function Jq(e){return qo(e._redirectPersistence)}function eK(e){return xv(Yq,e.config.apiKey,e.name)}async function tK(e,t,n=!1){if(Qr(e.app))return Promise.reject(Xo(e));const i=Jc(e),r=Wq(i,t),o=await new Qq(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=600*1e3;class iK{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rK(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!NN(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(to(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nK&&this.cachedEventUids.clear(),this.cachedEventUids.has(vM(t))}saveEventToCache(t){this.cachedEventUids.add(vM(t)),this.lastProcessedEventTime=Date.now()}}function vM(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function NN({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function rK(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NN(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sK(e,t={}){return Il(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aK=/^https?/;async function lK(e){if(e.config.emulator)return;const{authorizedDomains:t}=await sK(e);for(const n of t)try{if(cK(n))return}catch{}bs(e,"unauthorized-domain")}function cK(e){const t=tR(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!aK.test(n))return!1;if(oK.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=new rg(3e4,6e4);function CM(){const e=no().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function dK(e){return new Promise((t,n)=>{function i(){CM(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{CM(),n(to(e,"network-request-failed"))},timeout:uK.get()})}if(no().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(no().gapi?.load)i();else{const r=iq("iframefcb");return no()[r]=()=>{gapi.load?i():n(to(e,"network-request-failed"))},bN(`${nq()}?onload=${r}`).catch(s=>n(s))}}).catch(t=>{throw Av=null,t})}let Av=null;function hK(e){return Av=Av||dK(e),Av}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=new rg(5e3,15e3),pK="__/auth/iframe",gK="emulator/auth/iframe",mK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CK(e){const t=e.config;at(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?eT(t,gK):`https://${e.config.authDomain}/${pK}`,i={apiKey:t.apiKey,appName:e.name,v:eh},r=vK.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ig(i).slice(1)}`}async function yK(e){const t=await hK(e),n=no().gapi;return at(n,e,"internal-error"),t.open({where:document.body,url:CK(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mK,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=to(e,"network-request-failed"),l=no().setTimeout(()=>{s(o)},fK.get());function u(){no().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bK=500,SK=600,EK="_blank",RK="http://localhost";class yM{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TK(e,t,n,i=bK,r=SK){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...wK,width:i.toString(),height:r.toString(),top:s,left:o},d=Fi().toLowerCase();n&&(l=pN(d)?EK:n),hN(d)&&(t=t||RK,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[C,w])=>`${m}${C}=${w},`,"");if(q8(d)&&l!=="_self")return xK(t||"",l),new yM(null);const p=window.open(t||"",l,f);at(p,e,"popup-blocked");try{p.focus()}catch{}return new yM(p)}function xK(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK="__/auth/handler",AK="emulator/auth/handler",PK=encodeURIComponent("fac");async function wM(e,t,n,i,r,s){at(e.config.authDomain,e,"auth-domain-config-required"),at(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:eh,eventId:r};if(t instanceof RN){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",o7(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(t instanceof og){const f=t.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await e._getAppCheckToken(),d=u?`#${PK}=${encodeURIComponent(u)}`:"";return`${IK(e)}?${ig(l).slice(1)}${d}`}function IK({config:e}){return e.emulator?eT(e,AK):`https://${e.authDomain}/${DK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="webStorageSupport";class FK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FN,this._completeRedirectFn=tK,this._overrideRedirectResult=Zq}async _openPopup(t,n,i,r){sa(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await wM(t,n,i,tR(),r);return TK(t,s,sT())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await wM(t,n,i,tR(),r);return kq(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(sa(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await yK(t),i=new iK(t);return n.register("authEvent",r=>(at(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(NS,{type:NS},r=>{const s=r?.[0]?.[NS];s!==void 0&&n(!!s),bs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lK(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yN()||fN()||nT()}}const MK=FK;var bM="@firebase/auth",SM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OK(e){Md(new Nc("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wN(e)},d=new J8(i,r,s,u);return cq(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Md(new Nc("auth-internal",t=>{const n=Jc(t.getProvider("auth").getImmediate());return(i=>new _K(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cl(bM,SM,kK(e)),cl(bM,SM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=300,NK=YL("authIdTokenMaxAge")||LK;let EM=null;const VK=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>NK)return;const r=n?.token;EM!==r&&(EM=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function BK(e=tN()){const t=Z0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=lq(e,{popupRedirectResolver:MK,persistence:[Uq,Fq,FN]}),i=YL("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=VK(s.toString());Dq(n,o,()=>o(n.currentUser)),xq(n,l=>o(l))}}const r=qL("auth");return r&&uq(n,`http://${r}`),n}function GK(){return document.getElementsByTagName("head")?.[0]??document}eq({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=to("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",GK().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OK("Browser");var RM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ul,VN;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,F){function k(){}k.prototype=F.prototype,_.D=F.prototype,_.prototype=new k,_.prototype.constructor=_,_.C=function(O,B,U){for(var G=Array(arguments.length-2),de=2;de<arguments.length;de++)G[de-2]=arguments[de];return F.prototype[B].apply(O,G)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(_,F,k){k||(k=0);var O=Array(16);if(typeof F=="string")for(var B=0;16>B;++B)O[B]=F.charCodeAt(k++)|F.charCodeAt(k++)<<8|F.charCodeAt(k++)<<16|F.charCodeAt(k++)<<24;else for(B=0;16>B;++B)O[B]=F[k++]|F[k++]<<8|F[k++]<<16|F[k++]<<24;F=_.g[0],k=_.g[1],B=_.g[2];var U=_.g[3],G=F+(U^k&(B^U))+O[0]+3614090360&4294967295;F=k+(G<<7&4294967295|G>>>25),G=U+(B^F&(k^B))+O[1]+3905402710&4294967295,U=F+(G<<12&4294967295|G>>>20),G=B+(k^U&(F^k))+O[2]+606105819&4294967295,B=U+(G<<17&4294967295|G>>>15),G=k+(F^B&(U^F))+O[3]+3250441966&4294967295,k=B+(G<<22&4294967295|G>>>10),G=F+(U^k&(B^U))+O[4]+4118548399&4294967295,F=k+(G<<7&4294967295|G>>>25),G=U+(B^F&(k^B))+O[5]+1200080426&4294967295,U=F+(G<<12&4294967295|G>>>20),G=B+(k^U&(F^k))+O[6]+2821735955&4294967295,B=U+(G<<17&4294967295|G>>>15),G=k+(F^B&(U^F))+O[7]+4249261313&4294967295,k=B+(G<<22&4294967295|G>>>10),G=F+(U^k&(B^U))+O[8]+1770035416&4294967295,F=k+(G<<7&4294967295|G>>>25),G=U+(B^F&(k^B))+O[9]+2336552879&4294967295,U=F+(G<<12&4294967295|G>>>20),G=B+(k^U&(F^k))+O[10]+4294925233&4294967295,B=U+(G<<17&4294967295|G>>>15),G=k+(F^B&(U^F))+O[11]+2304563134&4294967295,k=B+(G<<22&4294967295|G>>>10),G=F+(U^k&(B^U))+O[12]+1804603682&4294967295,F=k+(G<<7&4294967295|G>>>25),G=U+(B^F&(k^B))+O[13]+4254626195&4294967295,U=F+(G<<12&4294967295|G>>>20),G=B+(k^U&(F^k))+O[14]+2792965006&4294967295,B=U+(G<<17&4294967295|G>>>15),G=k+(F^B&(U^F))+O[15]+1236535329&4294967295,k=B+(G<<22&4294967295|G>>>10),G=F+(B^U&(k^B))+O[1]+4129170786&4294967295,F=k+(G<<5&4294967295|G>>>27),G=U+(k^B&(F^k))+O[6]+3225465664&4294967295,U=F+(G<<9&4294967295|G>>>23),G=B+(F^k&(U^F))+O[11]+643717713&4294967295,B=U+(G<<14&4294967295|G>>>18),G=k+(U^F&(B^U))+O[0]+3921069994&4294967295,k=B+(G<<20&4294967295|G>>>12),G=F+(B^U&(k^B))+O[5]+3593408605&4294967295,F=k+(G<<5&4294967295|G>>>27),G=U+(k^B&(F^k))+O[10]+38016083&4294967295,U=F+(G<<9&4294967295|G>>>23),G=B+(F^k&(U^F))+O[15]+3634488961&4294967295,B=U+(G<<14&4294967295|G>>>18),G=k+(U^F&(B^U))+O[4]+3889429448&4294967295,k=B+(G<<20&4294967295|G>>>12),G=F+(B^U&(k^B))+O[9]+568446438&4294967295,F=k+(G<<5&4294967295|G>>>27),G=U+(k^B&(F^k))+O[14]+3275163606&4294967295,U=F+(G<<9&4294967295|G>>>23),G=B+(F^k&(U^F))+O[3]+4107603335&4294967295,B=U+(G<<14&4294967295|G>>>18),G=k+(U^F&(B^U))+O[8]+1163531501&4294967295,k=B+(G<<20&4294967295|G>>>12),G=F+(B^U&(k^B))+O[13]+2850285829&4294967295,F=k+(G<<5&4294967295|G>>>27),G=U+(k^B&(F^k))+O[2]+4243563512&4294967295,U=F+(G<<9&4294967295|G>>>23),G=B+(F^k&(U^F))+O[7]+1735328473&4294967295,B=U+(G<<14&4294967295|G>>>18),G=k+(U^F&(B^U))+O[12]+2368359562&4294967295,k=B+(G<<20&4294967295|G>>>12),G=F+(k^B^U)+O[5]+4294588738&4294967295,F=k+(G<<4&4294967295|G>>>28),G=U+(F^k^B)+O[8]+2272392833&4294967295,U=F+(G<<11&4294967295|G>>>21),G=B+(U^F^k)+O[11]+1839030562&4294967295,B=U+(G<<16&4294967295|G>>>16),G=k+(B^U^F)+O[14]+4259657740&4294967295,k=B+(G<<23&4294967295|G>>>9),G=F+(k^B^U)+O[1]+2763975236&4294967295,F=k+(G<<4&4294967295|G>>>28),G=U+(F^k^B)+O[4]+1272893353&4294967295,U=F+(G<<11&4294967295|G>>>21),G=B+(U^F^k)+O[7]+4139469664&4294967295,B=U+(G<<16&4294967295|G>>>16),G=k+(B^U^F)+O[10]+3200236656&4294967295,k=B+(G<<23&4294967295|G>>>9),G=F+(k^B^U)+O[13]+681279174&4294967295,F=k+(G<<4&4294967295|G>>>28),G=U+(F^k^B)+O[0]+3936430074&4294967295,U=F+(G<<11&4294967295|G>>>21),G=B+(U^F^k)+O[3]+3572445317&4294967295,B=U+(G<<16&4294967295|G>>>16),G=k+(B^U^F)+O[6]+76029189&4294967295,k=B+(G<<23&4294967295|G>>>9),G=F+(k^B^U)+O[9]+3654602809&4294967295,F=k+(G<<4&4294967295|G>>>28),G=U+(F^k^B)+O[12]+3873151461&4294967295,U=F+(G<<11&4294967295|G>>>21),G=B+(U^F^k)+O[15]+530742520&4294967295,B=U+(G<<16&4294967295|G>>>16),G=k+(B^U^F)+O[2]+3299628645&4294967295,k=B+(G<<23&4294967295|G>>>9),G=F+(B^(k|~U))+O[0]+4096336452&4294967295,F=k+(G<<6&4294967295|G>>>26),G=U+(k^(F|~B))+O[7]+1126891415&4294967295,U=F+(G<<10&4294967295|G>>>22),G=B+(F^(U|~k))+O[14]+2878612391&4294967295,B=U+(G<<15&4294967295|G>>>17),G=k+(U^(B|~F))+O[5]+4237533241&4294967295,k=B+(G<<21&4294967295|G>>>11),G=F+(B^(k|~U))+O[12]+1700485571&4294967295,F=k+(G<<6&4294967295|G>>>26),G=U+(k^(F|~B))+O[3]+2399980690&4294967295,U=F+(G<<10&4294967295|G>>>22),G=B+(F^(U|~k))+O[10]+4293915773&4294967295,B=U+(G<<15&4294967295|G>>>17),G=k+(U^(B|~F))+O[1]+2240044497&4294967295,k=B+(G<<21&4294967295|G>>>11),G=F+(B^(k|~U))+O[8]+1873313359&4294967295,F=k+(G<<6&4294967295|G>>>26),G=U+(k^(F|~B))+O[15]+4264355552&4294967295,U=F+(G<<10&4294967295|G>>>22),G=B+(F^(U|~k))+O[6]+2734768916&4294967295,B=U+(G<<15&4294967295|G>>>17),G=k+(U^(B|~F))+O[13]+1309151649&4294967295,k=B+(G<<21&4294967295|G>>>11),G=F+(B^(k|~U))+O[4]+4149444226&4294967295,F=k+(G<<6&4294967295|G>>>26),G=U+(k^(F|~B))+O[11]+3174756917&4294967295,U=F+(G<<10&4294967295|G>>>22),G=B+(F^(U|~k))+O[2]+718787259&4294967295,B=U+(G<<15&4294967295|G>>>17),G=k+(U^(B|~F))+O[9]+3951481745&4294967295,_.g[0]=_.g[0]+F&4294967295,_.g[1]=_.g[1]+(B+(G<<21&4294967295|G>>>11))&4294967295,_.g[2]=_.g[2]+B&4294967295,_.g[3]=_.g[3]+U&4294967295}i.prototype.u=function(_,F){F===void 0&&(F=_.length);for(var k=F-this.blockSize,O=this.B,B=this.h,U=0;U<F;){if(B==0)for(;U<=k;)r(this,_,U),U+=this.blockSize;if(typeof _=="string"){for(;U<F;)if(O[B++]=_.charCodeAt(U++),B==this.blockSize){r(this,O),B=0;break}}else for(;U<F;)if(O[B++]=_[U++],B==this.blockSize){r(this,O),B=0;break}}this.h=B,this.o+=F},i.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var F=1;F<_.length-8;++F)_[F]=0;var k=8*this.o;for(F=_.length-8;F<_.length;++F)_[F]=k&255,k/=256;for(this.u(_),_=Array(16),F=k=0;4>F;++F)for(var O=0;32>O;O+=8)_[k++]=this.g[F]>>>O&255;return _};function s(_,F){var k=l;return Object.prototype.hasOwnProperty.call(k,_)?k[_]:k[_]=F(_)}function o(_,F){this.h=F;for(var k=[],O=!0,B=_.length-1;0<=B;B--){var U=_[B]|0;O&&U==F||(k[B]=U,O=!1)}this.g=k}var l={};function u(_){return-128<=_&&128>_?s(_,function(F){return new o([F|0],0>F?-1:0)}):new o([_|0],0>_?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return p;if(0>_)return R(d(-_));for(var F=[],k=1,O=0;_>=k;O++)F[O]=_/k|0,k*=4294967296;return new o(F,0)}function f(_,F){if(_.length==0)throw Error("number format error: empty string");if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(_.charAt(0)=="-")return R(f(_.substring(1),F));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(F,8)),O=p,B=0;B<_.length;B+=8){var U=Math.min(8,_.length-B),G=parseInt(_.substring(B,B+U),F);8>U?(U=d(Math.pow(F,U)),O=O.j(U).add(d(G))):(O=O.j(k),O=O.add(d(G)))}return O}var p=u(0),m=u(1),C=u(16777216);e=o.prototype,e.m=function(){if(E(this))return-R(this).m();for(var _=0,F=1,k=0;k<this.g.length;k++){var O=this.i(k);_+=(0<=O?O:4294967296+O)*F,F*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w(this))return"0";if(E(this))return"-"+R(this).toString(_);for(var F=d(Math.pow(_,6)),k=this,O="";;){var B=L(k,F).g;k=x(k,B.j(F));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(_);if(k=B,w(k))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function w(_){if(_.h!=0)return!1;for(var F=0;F<_.g.length;F++)if(_.g[F]!=0)return!1;return!0}function E(_){return _.h==-1}e.l=function(_){return _=x(this,_),E(_)?-1:w(_)?0:1};function R(_){for(var F=_.g.length,k=[],O=0;O<F;O++)k[O]=~_.g[O];return new o(k,~_.h).add(m)}e.abs=function(){return E(this)?R(this):this},e.add=function(_){for(var F=Math.max(this.g.length,_.g.length),k=[],O=0,B=0;B<=F;B++){var U=O+(this.i(B)&65535)+(_.i(B)&65535),G=(U>>>16)+(this.i(B)>>>16)+(_.i(B)>>>16);O=G>>>16,U&=65535,G&=65535,k[B]=G<<16|U}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(_,F){return _.add(R(F))}e.j=function(_){if(w(this)||w(_))return p;if(E(this))return E(_)?R(this).j(R(_)):R(R(this).j(_));if(E(_))return R(this.j(R(_)));if(0>this.l(C)&&0>_.l(C))return d(this.m()*_.m());for(var F=this.g.length+_.g.length,k=[],O=0;O<2*F;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var B=0;B<_.g.length;B++){var U=this.i(O)>>>16,G=this.i(O)&65535,de=_.i(B)>>>16,pe=_.i(B)&65535;k[2*O+2*B]+=G*pe,D(k,2*O+2*B),k[2*O+2*B+1]+=U*pe,D(k,2*O+2*B+1),k[2*O+2*B+1]+=G*de,D(k,2*O+2*B+1),k[2*O+2*B+2]+=U*de,D(k,2*O+2*B+2)}for(O=0;O<F;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=F;O<2*F;O++)k[O]=0;return new o(k,0)};function D(_,F){for(;(_[F]&65535)!=_[F];)_[F+1]+=_[F]>>>16,_[F]&=65535,F++}function A(_,F){this.g=_,this.h=F}function L(_,F){if(w(F))throw Error("division by zero");if(w(_))return new A(p,p);if(E(_))return F=L(R(_),F),new A(R(F.g),R(F.h));if(E(F))return F=L(_,R(F)),new A(R(F.g),F.h);if(30<_.g.length){if(E(_)||E(F))throw Error("slowDivide_ only works with positive integers.");for(var k=m,O=F;0>=O.l(_);)k=V(k),O=V(O);var B=I(k,1),U=I(O,1);for(O=I(O,2),k=I(k,2);!w(O);){var G=U.add(O);0>=G.l(_)&&(B=B.add(k),U=G),O=I(O,1),k=I(k,1)}return F=x(_,B.j(F)),new A(B,F)}for(B=p;0<=_.l(F);){for(k=Math.max(1,Math.floor(_.m()/F.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=d(k),G=U.j(F);E(G)||0<G.l(_);)k-=O,U=d(k),G=U.j(F);w(U)&&(U=m),B=B.add(U),_=x(_,G)}return new A(B,_)}e.A=function(_){return L(this,_).h},e.and=function(_){for(var F=Math.max(this.g.length,_.g.length),k=[],O=0;O<F;O++)k[O]=this.i(O)&_.i(O);return new o(k,this.h&_.h)},e.or=function(_){for(var F=Math.max(this.g.length,_.g.length),k=[],O=0;O<F;O++)k[O]=this.i(O)|_.i(O);return new o(k,this.h|_.h)},e.xor=function(_){for(var F=Math.max(this.g.length,_.g.length),k=[],O=0;O<F;O++)k[O]=this.i(O)^_.i(O);return new o(k,this.h^_.h)};function V(_){for(var F=_.g.length+1,k=[],O=0;O<F;O++)k[O]=_.i(O)<<1|_.i(O-1)>>>31;return new o(k,_.h)}function I(_,F){var k=F>>5;F%=32;for(var O=_.g.length-k,B=[],U=0;U<O;U++)B[U]=0<F?_.i(U+k)>>>F|_.i(U+k+1)<<32-F:_.i(U+k);return new o(B,_.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VN=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,ul=o}).apply(typeof RM<"u"?RM:typeof self<"u"?self:typeof window<"u"?window:{});var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BN,kf,GN,Pv,sR,HN,zN,UN;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,T,P){return v==Array.prototype||v==Object.prototype||(v[T]=P.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ym=="object"&&Ym];for(var T=0;T<v.length;++T){var P=v[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var i=n(this);function r(v,T){if(T)e:{var P=i;v=v.split(".");for(var W=0;W<v.length-1;W++){var te=v[W];if(!(te in P))break e;P=P[te]}v=v[v.length-1],W=P[v],T=T(W),T!=W&&T!=null&&t(P,v,{configurable:!0,writable:!0,value:T})}}function s(v,T){v instanceof String&&(v+="");var P=0,W=!1,te={next:function(){if(!W&&P<v.length){var he=P++;return{value:T(he,v[he]),done:!1}}return W=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}r("Array.prototype.values",function(v){return v||function(){return s(this,function(T,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(v){var T=typeof v;return T=T!="object"?T:v?Array.isArray(v)?"array":T:"null",T=="array"||T=="object"&&typeof v.length=="number"}function d(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function f(v,T,P){return v.call.apply(v.bind,arguments)}function p(v,T,P){if(!v)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,W),v.apply(T,te)}}return function(){return v.apply(T,arguments)}}function m(v,T,P){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function C(v,T){var P=Array.prototype.slice.call(arguments,1);return function(){var W=P.slice();return W.push.apply(W,arguments),v.apply(this,W)}}function w(v,T){function P(){}P.prototype=T.prototype,v.aa=T.prototype,v.prototype=new P,v.prototype.constructor=v,v.Qb=function(W,te,he){for(var xe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)xe[Ot-2]=arguments[Ot];return T.prototype[te].apply(W,xe)}}function E(v){const T=v.length;if(0<T){const P=Array(T);for(let W=0;W<T;W++)P[W]=v[W];return P}return[]}function R(v,T){for(let P=1;P<arguments.length;P++){const W=arguments[P];if(u(W)){const te=v.length||0,he=W.length||0;v.length=te+he;for(let xe=0;xe<he;xe++)v[te+xe]=W[xe]}else v.push(W)}}class x{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function D(v){return/^[\s\xa0]*$/.test(v)}function A(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function L(v){return L[" "](v),v}L[" "]=function(){};var V=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function I(v,T,P){for(const W in v)T.call(P,v[W],W,v)}function _(v,T){for(const P in v)T.call(void 0,v[P],P,v)}function F(v){const T={};for(const P in v)T[P]=v[P];return T}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(v,T){let P,W;for(let te=1;te<arguments.length;te++){W=arguments[te];for(P in W)v[P]=W[P];for(let he=0;he<k.length;he++)P=k[he],Object.prototype.hasOwnProperty.call(W,P)&&(v[P]=W[P])}}function B(v){var T=1;v=v.split(":");const P=[];for(;0<T&&v.length;)P.push(v.shift()),T--;return v.length&&P.push(v.join(":")),P}function U(v){l.setTimeout(()=>{throw v},0)}function G(){var v=ge;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class de{constructor(){this.h=this.g=null}add(T,P){const W=pe.get();W.set(T,P),this.h?this.h.next=W:this.g=W,this.h=W}}var pe=new x(()=>new q,v=>v.reset());class q{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,re=!1,ge=new de,z=()=>{const v=l.Promise.resolve(void 0);ne=()=>{v.then(Q)}};var Q=()=>{for(var v;v=G();){try{v.h.call(v.g)}catch(P){U(P)}var T=pe;T.j(v),100>T.h&&(T.h++,v.next=T.g,T.g=v)}re=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};l.addEventListener("test",P,T),l.removeEventListener("test",P,T)}catch{}return v}();function Re(v,T){if(X.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var P=this.type=v.type,W=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget){if(V){e:{try{L(T.nodeName);var te=!0;break e}catch{}te=!1}te||(T=null)}}else P=="mouseover"?T=v.fromElement:P=="mouseout"&&(T=v.toElement);this.relatedTarget=T,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Ae[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Re.aa.h.call(this)}}w(Re,X);var Ae={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Ke(v,T,P,W,te){this.listener=v,this.proxy=null,this.src=T,this.type=P,this.capture=!!W,this.ha=te,this.key=++Ze,this.da=this.fa=!1}function rt(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function ht(v){this.src=v,this.g={},this.h=0}ht.prototype.add=function(v,T,P,W,te){var he=v.toString();v=this.g[he],v||(v=this.g[he]=[],this.h++);var xe=_t(v,T,W,te);return-1<xe?(T=v[xe],P||(T.fa=!1)):(T=new Ke(T,this.src,he,!!W,te),T.fa=P,v.push(T)),T};function ft(v,T){var P=T.type;if(P in v.g){var W=v.g[P],te=Array.prototype.indexOf.call(W,T,void 0),he;(he=0<=te)&&Array.prototype.splice.call(W,te,1),he&&(rt(T),v.g[P].length==0&&(delete v.g[P],v.h--))}}function _t(v,T,P,W){for(var te=0;te<v.length;++te){var he=v[te];if(!he.da&&he.listener==T&&he.capture==!!P&&he.ha==W)return te}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Me={};function Qe(v,T,P,W,te){if(Array.isArray(T)){for(var he=0;he<T.length;he++)Qe(v,T[he],P,W,te);return null}return P=On(P),v&&v[gt]?v.K(T,P,d(W)?!!W.capture:!1,te):Oe(v,T,P,!1,W,te)}function Oe(v,T,P,W,te,he){if(!T)throw Error("Invalid event type");var xe=d(te)?!!te.capture:!!te,Ot=Ft(v);if(Ot||(v[Ie]=Ot=new ht(v)),P=Ot.add(T,P,W,xe,he),P.proxy)return P;if(W=Ye(),P.proxy=W,W.src=v,W.listener=P,v.addEventListener)fe||(te=xe),te===void 0&&(te=!1),v.addEventListener(T.toString(),W,te);else if(v.attachEvent)v.attachEvent(yt(T.toString()),W);else if(v.addListener&&v.removeListener)v.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ye(){function v(P){return T.call(v.src,v.listener,P)}const T=wt;return v}function St(v,T,P,W,te){if(Array.isArray(T))for(var he=0;he<T.length;he++)St(v,T[he],P,W,te);else W=d(W)?!!W.capture:!!W,P=On(P),v&&v[gt]?(v=v.i,T=String(T).toString(),T in v.g&&(he=v.g[T],P=_t(he,P,W,te),-1<P&&(rt(he[P]),Array.prototype.splice.call(he,P,1),he.length==0&&(delete v.g[T],v.h--)))):v&&(v=Ft(v))&&(T=v.g[T.toString()],v=-1,T&&(v=_t(T,P,W,te)),(P=-1<v?T[v]:null)&&st(P))}function st(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[gt])ft(T.i,v);else{var P=v.type,W=v.proxy;T.removeEventListener?T.removeEventListener(P,W,v.capture):T.detachEvent?T.detachEvent(yt(P),W):T.addListener&&T.removeListener&&T.removeListener(W),(P=Ft(T))?(ft(P,v),P.h==0&&(P.src=null,T[Ie]=null)):rt(v)}}}function yt(v){return v in Me?Me[v]:Me[v]="on"+v}function wt(v,T){if(v.da)v=!0;else{T=new Re(T,this);var P=v.listener,W=v.ha||v.src;v.fa&&st(v),v=P.call(W,T)}return v}function Ft(v){return v=v[Ie],v instanceof ht?v:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function On(v){return typeof v=="function"?v:(v[fn]||(v[fn]=function(T){return v.handleEvent(T)}),v[fn])}function Le(){J.call(this),this.i=new ht(this),this.M=this,this.F=null}w(Le,J),Le.prototype[gt]=!0,Le.prototype.removeEventListener=function(v,T,P,W){St(this,v,T,P,W)};function et(v,T){var P,W=v.F;if(W)for(P=[];W;W=W.F)P.push(W);if(v=v.M,W=T.type||T,typeof T=="string")T=new X(T,v);else if(T instanceof X)T.target=T.target||v;else{var te=T;T=new X(W,v),O(T,te)}if(te=!0,P)for(var he=P.length-1;0<=he;he--){var xe=T.g=P[he];te=ut(xe,W,!0,T)&&te}if(xe=T.g=v,te=ut(xe,W,!0,T)&&te,te=ut(xe,W,!1,T)&&te,P)for(he=0;he<P.length;he++)xe=T.g=P[he],te=ut(xe,W,!1,T)&&te}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var v=this.i,T;for(T in v.g){for(var P=v.g[T],W=0;W<P.length;W++)rt(P[W]);delete v.g[T],v.h--}}this.F=null},Le.prototype.K=function(v,T,P,W){return this.i.add(String(v),T,!1,P,W)},Le.prototype.L=function(v,T,P,W){return this.i.add(String(v),T,!0,P,W)};function ut(v,T,P,W){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();for(var te=!0,he=0;he<T.length;++he){var xe=T[he];if(xe&&!xe.da&&xe.capture==P){var Ot=xe.listener,Wn=xe.ha||xe.src;xe.fa&&ft(v.i,xe),te=Ot.call(Wn,W)!==!1&&te}}return te&&!W.defaultPrevented}function kt(v,T,P){if(typeof v=="function")P&&(v=m(v,P));else if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:l.setTimeout(v,T||0)}function ga(v){v.g=kt(()=>{v.g=null,v.i&&(v.i=!1,ga(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Pr extends J{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(v){J.call(this),this.h=v,this.g={}}w(Ds,J);var As=[];function Ps(v){I(v.g,function(T,P){this.g.hasOwnProperty(P)&&st(T)},v),v.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),Ps(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=l.JSON.stringify,yo=l.JSON.parse,Ir=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function ma(){}ma.prototype.h=null;function wo(v){return v.h||(v.h=v.i())}function Ol(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function us(){X.call(this,"d")}w(us,X);function va(){X.call(this,"c")}w(va,X);var Oi={},Is=null;function Fs(){return Is=Is||new Le}Oi.La="serverreachability";function Ca(v){X.call(this,Oi.La,v)}w(Ca,X);function K(v){const T=Fs();et(T,new Ca(T))}Oi.STAT_EVENT="statevent";function ee(v,T){X.call(this,Oi.STAT_EVENT,v),this.stat=T}w(ee,X);function oe(v){const T=Fs();et(T,new ee(T,v))}Oi.Ma="timingevent";function we(v,T){X.call(this,Oi.Ma,v),this.size=T}w(we,X);function Ee(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function _e(){this.g=!0}_e.prototype.xa=function(){this.g=!1};function ze(v,T,P,W,te,he){v.info(function(){if(v.g)if(he)for(var xe="",Ot=he.split("&"),Wn=0;Wn<Ot.length;Wn++){var Lt=Ot[Wn].split("=");if(1<Lt.length){var Zn=Lt[0];Lt=Lt[1];var jn=Zn.split("_");xe=2<=jn.length&&jn[1]=="type"?xe+(Zn+"="+Lt+"&"):xe+(Zn+"=redacted&")}}else xe=null;else xe=he;return"XMLHTTP REQ ("+W+") [attempt "+te+"]: "+T+`
`+P+`
`+xe})}function Ve(v,T,P,W,te,he,xe){v.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+te+"]: "+T+`
`+P+`
`+he+" "+xe})}function Be(v,T,P,W){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ge(v,P)+(W?" "+W:"")})}function Je(v,T){v.info(function(){return"TIMEOUT: "+T})}_e.prototype.info=function(){};function Ge(v,T){if(!v.g)return T;if(!T)return null;try{var P=JSON.parse(T);if(P){for(v=0;v<P.length;v++)if(Array.isArray(P[v])){var W=P[v];if(!(2>W.length)){var te=W[1];if(Array.isArray(te)&&!(1>te.length)){var he=te[0];if(he!="noop"&&he!="stop"&&he!="close")for(var xe=1;xe<te.length;xe++)te[xe]=""}}}}return ar(P)}catch{return T}}var He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ct={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gt;function ln(){}w(ln,ma),ln.prototype.g=function(){return new XMLHttpRequest},ln.prototype.i=function(){return{}},Gt=new ln;function zt(v,T,P,W){this.j=v,this.i=T,this.l=P,this.R=W||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Ut={},Ki={};function li(v,T,P){v.L=1,v.v=Vl(ur(T)),v.m=P,v.P=!0,Qn(v,null)}function Qn(v,T){v.F=Date.now(),lr(v),v.A=ur(v.v);var P=v.A,W=v.R;Array.isArray(W)||(W=[String(W)]),wh(P.i,"t",W),v.C=0,P=v.j.J,v.h=new mt,v.g=Ng(v.j,P?T:null,!v.m),0<v.O&&(v.M=new Pr(m(v.Y,v,v.g),v.O)),T=v.U,P=v.g,W=v.ca;var te="readystatechange";Array.isArray(te)||(te&&(As[0]=te.toString()),te=As);for(var he=0;he<te.length;he++){var xe=Qe(P,te[he],W||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=v.H?F(v.H):{},v.m?(v.u||(v.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,T)):(v.u="GET",v.g.ea(v.A,v.u,null,T)),K(),ze(v.i,v.u,v.A,v.l,v.R,v.m)}zt.prototype.ca=function(v){v=v.target;const T=this.M;T&&Lr(v)==3?T.j():this.Y(v)},zt.prototype.Y=function(v){try{if(v==this.g)e:{const jn=Lr(this.g);var T=this.g.Ba();const Ao=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||Pg(this.g)))){this.J||jn!=4||T==7||(T==8||0>=Ao?K(3):K(2)),cr(this);var P=this.g.Z();this.X=P;t:if(Li(this)){var W=Pg(this.g);v="";var te=W.length,he=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),Ni(this);var xe="";break t}this.h.i=new l.TextDecoder}for(T=0;T<te;T++)this.h.h=!0,v+=this.h.i.decode(W[T],{stream:!(he&&T==te-1)});W.length=0,this.h.g+=v,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=P==200,Ve(this.i,this.u,this.A,this.l,this.R,jn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Wn=this.g;if((Ot=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ot)){var Lt=Ot;break t}}Lt=null}if(P=Lt)Be(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,P);else{this.o=!1,this.s=3,oe(12),dt(this),Ni(this);break e}}if(this.P){P=!0;let ci;for(;!this.J&&this.C<xe.length;)if(ci=ya(this,xe),ci==Ki){jn==4&&(this.s=4,oe(14),P=!1),Be(this.i,this.l,null,"[Incomplete Response]");break}else if(ci==Ut){this.s=4,oe(15),Be(this.i,this.l,xe,"[Invalid Chunk]"),P=!1;break}else Be(this.i,this.l,ci,null),vn(this,ci);if(Li(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||xe.length!=0||this.h.h||(this.s=1,oe(16),P=!1),this.o=this.o&&P,!P)Be(this.i,this.l,xe,"[Invalid Chunked Response]"),dt(this),Ni(this);else if(0<xe.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),$l(Zn),Zn.M=!0,oe(11))}}else Be(this.i,this.l,xe,null),vn(this,xe);jn==4&&dt(this),this.o&&!this.J&&(jn==4?kg(this.j,this):(this.o=!1,lr(this)))}else Cw(this.g),P==400&&0<xe.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),dt(this),Ni(this)}}}catch{}finally{}};function Li(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function ya(v,T){var P=v.C,W=T.indexOf(`
`,P);return W==-1?Ki:(P=Number(T.substring(P,W)),isNaN(P)?Ut:(W+=1,W+P>T.length?Ki:(T=T.slice(W,W+P),v.C=W+P,T)))}zt.prototype.cancel=function(){this.J=!0,dt(this)};function lr(v){v.S=Date.now()+v.I,Mr(v,v.I)}function Mr(v,T){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Ee(m(v.ba,v),T)}function cr(v){v.B&&(l.clearTimeout(v.B),v.B=null)}zt.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Je(this.i,this.A),this.L!=2&&(K(),oe(17)),dt(this),this.s=2,Ni(this)):Mr(this,this.S-v)};function Ni(v){v.j.G==0||v.J||kg(v.j,v)}function dt(v){cr(v);var T=v.M;T&&typeof T.ma=="function"&&T.ma(),v.M=null,Ps(v.U),v.g&&(T=v.g,v.g=null,T.abort(),T.ma())}function vn(v,T){try{var P=v.j;if(P.G!=0&&(P.g==v||wa(P.h,v))){if(!v.K&&wa(P.h,v)&&P.G==3){try{var W=P.Da.g.parse(T)}catch{W=null}if(Array.isArray(W)&&W.length==3){var te=W;if(te[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<v.F)Cu(P),mu(P);else break e;Th(P),oe(18)}}else P.za=te[1],0<P.za-P.T&&37500>te[2]&&P.F&&P.v==0&&!P.C&&(P.C=Ee(m(P.Za,P),6e3));if(1>=ds(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Do(P,11)}else if((v.K||P.g==v)&&Cu(P),!D(T))for(te=P.Da.g.parse(T),T=0;T<te.length;T++){let Lt=te[T];if(P.T=Lt[0],Lt=Lt[1],P.G==2)if(Lt[0]=="c"){P.K=Lt[1],P.ia=Lt[2];const Zn=Lt[3];Zn!=null&&(P.la=Zn,P.j.info("VER="+P.la));const jn=Lt[4];jn!=null&&(P.Aa=jn,P.j.info("SVER="+P.Aa));const Ao=Lt[5];Ao!=null&&typeof Ao=="number"&&0<Ao&&(W=1.5*Ao,P.L=W,P.j.info("backChannelRequestTimeoutMs_="+W)),W=P;const ci=v.g;if(ci){const Vs=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var he=W.h;he.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ba(he,he.h),he.h=null))}if(W.D){const Dh=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Dh&&(W.ya=Dh,nn(W.I,W.D,Dh))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-v.F,P.j.info("Handshake RTT: "+P.R+"ms")),W=P;var xe=v;if(W.qa=Lg(W,W.J?W.ia:null,W.W),xe.K){Bi(W.h,xe);var Ot=xe,Wn=W.L;Wn&&(Ot.I=Wn),Ot.B&&(cr(Ot),lr(Ot)),W.g=xe}else Mg(W);0<P.i.length&&vu(P)}else Lt[0]!="stop"&&Lt[0]!="close"||Do(P,7);else P.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Do(P,7):Eh(P):Lt[0]!="noop"&&P.l&&P.l.ta(Lt),P.v=0)}}K(4)}catch{}}var bo=class{constructor(v,T){this.g=v,this.map=T}};function Vi(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function un(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ds(v){return v.h?1:v.g?v.g.size:0}function wa(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function ba(v,T){v.g?v.g.add(T):v.h=T}function Bi(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}Vi.prototype.cancel=function(){if(this.i=mh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function mh(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const P of v.g.values())T=T.concat(P.D);return T}return E(v.i)}function pw(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var T=[],P=v.length,W=0;W<P;W++)T.push(v[W]);return T}T=[],P=0;for(W in v)T[P++]=v[W];return T}function uu(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var T=[];v=v.length;for(var P=0;P<v;P++)T.push(P);return T}T=[],P=0;for(const W in v)T[P++]=W;return T}}}function vh(v,T){if(v.forEach&&typeof v.forEach=="function")v.forEach(T,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,T,void 0);else for(var P=uu(v),W=pw(v),te=W.length,he=0;he<te;he++)T.call(void 0,W[he],P&&P[he],v)}var Ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gw(v,T){if(v){v=v.split("&");for(var P=0;P<v.length;P++){var W=v[P].indexOf("="),te=null;if(0<=W){var he=v[P].substring(0,W);te=v[P].substring(W+1)}else he=v[P];T(he,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Ln(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Ln){this.h=v.h,Nl(this,v.j),this.o=v.o,this.g=v.g,Sa(this,v.s),this.l=v.l;var T=v.i,P=new Eo;P.i=T.i,T.g&&(P.g=new Map(T.g),P.h=T.h),So(this,P),this.m=v.m}else v&&(T=String(v).match(Ll))?(this.h=!1,Nl(this,T[1]||"",!0),this.o=_r(T[2]||""),this.g=_r(T[3]||"",!0),Sa(this,T[4]),this.l=_r(T[5]||"",!0),So(this,T[6]||"",!0),this.m=_r(T[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}Ln.prototype.toString=function(){var v=[],T=this.j;T&&v.push(Bl(T,Ch,!0),":");var P=this.g;return(P||T=="file")&&(v.push("//"),(T=this.o)&&v.push(Bl(T,Ch,!0),"@"),v.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&v.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&v.push("/"),v.push(Bl(P,P.charAt(0)=="/"?mw:yh,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",Bl(P,du)),v.join("")};function ur(v){return new Ln(v)}function Nl(v,T,P){v.j=P?_r(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function Sa(v,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);v.s=T}else v.s=null}function So(v,T,P){T instanceof Eo?(v.i=T,Dg(v.i,v.h)):(P||(T=Bl(T,vw)),v.i=new Eo(T,v.h))}function nn(v,T,P){v.i.set(T,P)}function Vl(v){return nn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function _r(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Bl(v,T,P){return typeof v=="string"?(v=encodeURI(v).replace(T,xg),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function xg(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ch=/[#\/\?@]/g,yh=/[#\?:]/g,mw=/[#\?]/g,vw=/[#\?@]/g,du=/#/g;function Eo(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function kr(v){v.g||(v.g=new Map,v.h=0,v.i&&gw(v.i,function(T,P){v.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}e=Eo.prototype,e.add=function(v,T){kr(this),this.i=null,v=Ms(this,v);var P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(T),this.h+=1,this};function Ro(v,T){kr(v),T=Ms(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function To(v,T){return kr(v),T=Ms(v,T),v.g.has(T)}e.forEach=function(v,T){kr(this),this.g.forEach(function(P,W){P.forEach(function(te){v.call(T,te,W,this)},this)},this)},e.na=function(){kr(this);const v=Array.from(this.g.values()),T=Array.from(this.g.keys()),P=[];for(let W=0;W<T.length;W++){const te=v[W];for(let he=0;he<te.length;he++)P.push(T[W])}return P},e.V=function(v){kr(this);let T=[];if(typeof v=="string")To(this,v)&&(T=T.concat(this.g.get(Ms(this,v))));else{v=Array.from(this.g.values());for(let P=0;P<v.length;P++)T=T.concat(v[P])}return T},e.set=function(v,T){return kr(this),this.i=null,v=Ms(this,v),To(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},e.get=function(v,T){return v?(v=this.V(v),0<v.length?String(v[0]):T):T};function wh(v,T,P){Ro(v,T),0<P.length&&(v.i=null,v.g.set(Ms(v,T),E(P)),v.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(var P=0;P<T.length;P++){var W=T[P];const he=encodeURIComponent(String(W)),xe=this.V(W);for(W=0;W<xe.length;W++){var te=he;xe[W]!==""&&(te+="="+encodeURIComponent(String(xe[W]))),v.push(te)}}return this.i=v.join("&")};function Ms(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Dg(v,T){T&&!v.j&&(kr(v),v.i=null,v.g.forEach(function(P,W){var te=W.toLowerCase();W!=te&&(Ro(this,W),wh(this,te,P))},v)),v.j=T}function Gl(v,T){const P=new _e;if(l.Image){const W=new Image;W.onload=C(Or,P,"TestLoadImage: loaded",!0,T,W),W.onerror=C(Or,P,"TestLoadImage: error",!1,T,W),W.onabort=C(Or,P,"TestLoadImage: abort",!1,T,W),W.ontimeout=C(Or,P,"TestLoadImage: timeout",!1,T,W),l.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=v}else T(!1)}function hs(v,T){const P=new _e,W=new AbortController,te=setTimeout(()=>{W.abort(),Or(P,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:W.signal}).then(he=>{clearTimeout(te),he.ok?Or(P,"TestPingServer: ok",!0,T):Or(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),Or(P,"TestPingServer: error",!1,T)})}function Or(v,T,P,W,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),W(P)}catch{}}function Hl(){this.g=new Ir}function _s(v,T,P){const W=P||"";try{vh(v,function(te,he){let xe=te;d(te)&&(xe=ar(te)),T.push(W+he+"="+encodeURIComponent(xe))})}catch(te){throw T.push(W+"type="+encodeURIComponent("_badmap")),te}}function Ea(v){this.l=v.Ub||null,this.j=v.eb||!1}w(Ea,ma),Ea.prototype.g=function(){return new xo(this.l,this.j)},Ea.prototype.i=function(v){return function(){return v}}({});function xo(v,T){Le.call(this),this.D=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(xo,Le),e=xo.prototype,e.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=T,this.readyState=1,Os(this)},e.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(T.body=v),(this.D||l).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},e.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bh(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function bh(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}e.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?ks(this):Os(this),this.readyState==3&&bh(this)}},e.Ra=function(v){this.g&&(this.response=this.responseText=v,ks(this))},e.Qa=function(v){this.g&&(this.response=v,ks(this))},e.ga=function(){this.g&&ks(this)};function ks(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Os(v)}e.setRequestHeader=function(v,T){this.u.append(v,T)},e.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,v.push(P[0]+": "+P[1]),P=T.next();return v.join(`\r
`)};function Os(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Sh(v){let T="";return I(v,function(P,W){T+=W,T+=":",T+=P,T+=`\r
`}),T}function Xn(v,T,P){e:{for(W in P){var W=!1;break e}W=!0}W||(P=Sh(P),typeof v=="string"?P!=null&&encodeURIComponent(String(P)):nn(v,T,P))}function qt(v){Le.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(qt,Le);var hu=/^https?$/i,zl=["POST","PUT"];e=qt.prototype,e.Ha=function(v){this.J=v},e.ea=function(v,T,P,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gt.g(),this.v=this.o?wo(this.o):wo(Gt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(he){Ag(this,he);return}if(v=P||"",P=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var te in W)P.set(te,W[te]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const he of W.keys())P.set(he,W.get(he));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(P.keys()).find(he=>he.toLowerCase()=="content-type"),te=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(zl,T,void 0))||W||te||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,xe]of P)this.g.setRequestHeader(he,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ul(this),this.u=!0,this.g.send(v),this.u=!1}catch(he){Ag(this,he)}};function Ag(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.m=5,fu(v),Ls(v)}function fu(v){v.A||(v.A=!0,et(v,"complete"),et(v,"error"))}e.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,et(this,"complete"),et(this,"abort"),Ls(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?pu(this):this.bb())},e.bb=function(){pu(this)};function pu(v){if(v.h&&typeof o<"u"&&(!v.v[1]||Lr(v)!=4||v.Z()!=2)){if(v.u&&Lr(v)==4)kt(v.Ea,0,v);else if(et(v,"readystatechange"),Lr(v)==4){v.h=!1;try{const xe=v.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var W;if(W=xe===0){var te=String(v.D).match(Ll)[1]||null;!te&&l.self&&l.self.location&&(te=l.self.location.protocol.slice(0,-1)),W=!hu.test(te?te.toLowerCase():"")}P=W}if(P)et(v,"complete"),et(v,"success");else{v.m=6;try{var he=2<Lr(v)?v.g.statusText:""}catch{he=""}v.l=he+" ["+v.Z()+"]",fu(v)}}finally{Ls(v)}}}}function Ls(v,T){if(v.g){Ul(v);const P=v.g,W=v.v[0]?()=>{}:null;v.g=null,v.v=null,T||et(v,"ready");try{P.onreadystatechange=W}catch{}}}function Ul(v){v.I&&(l.clearTimeout(v.I),v.I=null)}e.isActive=function(){return!!this.g};function Lr(v){return v.g?v.g.readyState:0}e.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),yo(T)}};function Pg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Cw(v){const T={};v=(v.g&&2<=Lr(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<v.length;W++){if(D(v[W]))continue;var P=B(v[W]);const te=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const he=T[te]||[];T[te]=he,he.push(P)}_(T,function(W){return W.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wl(v,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||T}function gu(v){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wl("baseRetryDelayMs",5e3,v),this.cb=Wl("retryDelaySeedMs",1e4,v),this.Wa=Wl("forwardChannelMaxRetries",2,v),this.wa=Wl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(v&&v.concurrentRequestLimit),this.Da=new Hl,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=gu.prototype,e.la=8,e.G=1,e.connect=function(v,T,P,W){oe(0),this.W=v,this.H=T||{},P&&W!==void 0&&(this.H.OSID=P,this.H.OAID=W),this.F=this.X,this.I=Lg(this,null,this.W),vu(this)};function Eh(v){if(Ig(v),v.G==3){var T=v.U++,P=ur(v.I);if(nn(P,"SID",v.K),nn(P,"RID",T),nn(P,"TYPE","terminate"),jl(v,P),T=new zt(v,v.j,T),T.L=2,T.v=Vl(ur(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(T.v.toString(),"")}catch{}!P&&l.Image&&(new Image().src=T.v,P=!0),P||(T.g=Ng(T.j,null),T.g.ea(T.v)),T.F=Date.now(),lr(T)}Og(v)}function mu(v){v.g&&($l(v),v.g.cancel(),v.g=null)}function Ig(v){mu(v),v.u&&(l.clearTimeout(v.u),v.u=null),Cu(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function vu(v){if(!un(v.h)&&!v.s){v.s=!0;var T=v.Ga;ne||z(),re||(ne(),re=!0),ge.add(T,v),v.B=0}}function yw(v,T){return ds(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=T.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Ee(m(v.Ga,v,T),xh(v,v.B)),v.B++,!0)}e.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const te=new zt(this,this.j,v);let he=this.o;if(this.S&&(he?(he=F(he),O(he,this.S)):he=this.S),this.m!==null||this.O||(te.H=he,he=null),this.P)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var W=this.i[P];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(T+=W,4096<T){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=Fg(this,te,T),P=ur(this.I),nn(P,"RID",v),nn(P,"CVER",22),this.D&&nn(P,"X-HTTP-Session-Id",this.D),jl(this,P),he&&(this.O?T="headers="+encodeURIComponent(String(Sh(he)))+"&"+T:this.m&&Xn(P,this.m,he)),ba(this.h,te),this.Ua&&nn(P,"TYPE","init"),this.P?(nn(P,"$req",T),nn(P,"SID","null"),te.T=!0,li(te,P,null)):li(te,P,T),this.G=2}}else this.G==3&&(v?Rh(this,v):this.i.length==0||un(this.h)||Rh(this))};function Rh(v,T){var P;T?P=T.l:P=v.U++;const W=ur(v.I);nn(W,"SID",v.K),nn(W,"RID",P),nn(W,"AID",v.T),jl(v,W),v.m&&v.o&&Xn(W,v.m,v.o),P=new zt(v,v.j,P,v.B+1),v.m===null&&(P.H=v.o),T&&(v.i=T.D.concat(v.i)),T=Fg(v,P,1e3),P.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),ba(v.h,P),li(P,W,T)}function jl(v,T){v.H&&I(v.H,function(P,W){nn(T,W,P)}),v.l&&vh({},function(P,W){nn(T,W,P)})}function Fg(v,T,P){P=Math.min(v.i.length,P);var W=v.l?m(v.l.Na,v.l,v):null;e:{var te=v.i;let he=-1;for(;;){const xe=["count="+P];he==-1?0<P?(he=te[0].g,xe.push("ofs="+he)):he=0:xe.push("ofs="+he);let Ot=!0;for(let Wn=0;Wn<P;Wn++){let Lt=te[Wn].g;const Zn=te[Wn].map;if(Lt-=he,0>Lt)he=Math.max(0,te[Wn].g-100),Ot=!1;else try{_s(Zn,xe,"req"+Lt+"_")}catch{W&&W(Zn)}}if(Ot){W=xe.join("&");break e}}}return v=v.i.splice(0,P),T.D=v,W}function Mg(v){if(!v.g&&!v.u){v.Y=1;var T=v.Fa;ne||z(),re||(ne(),re=!0),ge.add(T,v),v.v=0}}function Th(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Ee(m(v.Fa,v),xh(v,v.v)),v.v++,!0)}e.Fa=function(){if(this.u=null,_g(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ee(m(this.ab,this),v)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),mu(this),_g(this))};function $l(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function _g(v){v.g=new zt(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var T=ur(v.qa);nn(T,"RID","rpc"),nn(T,"SID",v.K),nn(T,"AID",v.T),nn(T,"CI",v.F?"0":"1"),!v.F&&v.ja&&nn(T,"TO",v.ja),nn(T,"TYPE","xmlhttp"),jl(v,T),v.m&&v.o&&Xn(T,v.m,v.o),v.L&&(v.g.I=v.L);var P=v.g;v=v.ia,P.L=1,P.v=Vl(ur(T)),P.m=null,P.P=!0,Qn(P,v)}e.Za=function(){this.C!=null&&(this.C=null,mu(this),Th(this),oe(19))};function Cu(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function kg(v,T){var P=null;if(v.g==T){Cu(v),$l(v),v.g=null;var W=2}else if(wa(v.h,T))P=T.D,Bi(v.h,T),W=1;else return;if(v.G!=0){if(T.o)if(W==1){P=T.m?T.m.length:0,T=Date.now()-T.F;var te=v.B;W=Fs(),et(W,new we(W,P)),vu(v)}else Mg(v);else if(te=T.s,te==3||te==0&&0<T.X||!(W==1&&yw(v,T)||W==2&&Th(v)))switch(P&&0<P.length&&(T=v.h,T.i=T.i.concat(P)),te){case 1:Do(v,5);break;case 4:Do(v,10);break;case 3:Do(v,6);break;default:Do(v,2)}}}function xh(v,T){let P=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(P*=2),P*T}function Do(v,T){if(v.j.info("Error code "+T),T==2){var P=m(v.fb,v),W=v.Xa;const te=!W;W=new Ln(W||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nl(W,"https"),Vl(W),te?Gl(W.toString(),P):hs(W.toString(),P)}else oe(2);v.G=0,v.l&&v.l.sa(T),Og(v),Ig(v)}e.fb=function(v){v?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Og(v){if(v.G=0,v.ka=[],v.l){const T=mh(v.h);(T.length!=0||v.i.length!=0)&&(R(v.ka,T),R(v.ka,v.i),v.h.i.length=0,E(v.i),v.i.length=0),v.l.ra()}}function Lg(v,T,P){var W=P instanceof Ln?ur(P):new Ln(P);if(W.g!="")T&&(W.g=T+"."+W.g),Sa(W,W.s);else{var te=l.location;W=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;var he=new Ln(null);W&&Nl(he,W),T&&(he.g=T),te&&Sa(he,te),P&&(he.l=P),W=he}return P=v.D,T=v.ya,P&&T&&nn(W,P,T),nn(W,"VER",v.la),jl(v,W),W}function Ng(v,T,P){if(T&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Ca&&!v.pa?new qt(new Ea({eb:P})):new qt(v.pa),T.Ha(v.J),T}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vg(){}e=Vg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function yu(){}yu.prototype.g=function(v,T){return new Gi(v,T)};function Gi(v,T){Le.call(this),this.g=new gu(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(v?v["X-WebChannel-Client-Profile"]=T.va:v={"X-WebChannel-Client-Profile":T.va}),this.g.S=v,(v=T&&T.Sb)&&!D(v)&&(this.g.m=v),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!D(T)&&(this.g.D=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new Ns(this)}w(Gi,Le),Gi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gi.prototype.close=function(){Eh(this.g)},Gi.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var P={};P.__data__=v,v=P}else this.u&&(P={},P.__data__=ar(v),v=P);T.i.push(new bo(T.Ya++,v)),T.G==3&&vu(T)},Gi.prototype.N=function(){this.g.l=null,delete this.j,Eh(this.g),delete this.g,Gi.aa.N.call(this)};function Bg(v){us.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const P in T){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}w(Bg,us);function Gg(){va.call(this),this.status=1}w(Gg,va);function Ns(v){this.g=v}w(Ns,Vg),Ns.prototype.ua=function(){et(this.g,"a")},Ns.prototype.ta=function(v){et(this.g,new Bg(v))},Ns.prototype.sa=function(v){et(this.g,new Gg)},Ns.prototype.ra=function(){et(this.g,"b")},yu.prototype.createWebChannel=yu.prototype.g,Gi.prototype.send=Gi.prototype.o,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,UN=function(){return new yu},zN=function(){return Fs()},HN=Oi,sR={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,Pv=He,Ct.COMPLETE="complete",GN=Ct,Ol.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",Le.prototype.listen=Le.prototype.K,kf=Ol,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,BN=qt}).apply(typeof Ym<"u"?Ym:typeof self<"u"?self:typeof window<"u"?window:{});const TM="@firebase/firestore",xM="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Q0("@firebase/firestore");function ed(){return Gc.logLevel}function ke(e,...t){if(Gc.logLevel<=At.DEBUG){const n=t.map(aT);Gc.debug(`Firestore (${nh}): ${e}`,...n)}}function oa(e,...t){if(Gc.logLevel<=At.ERROR){const n=t.map(aT);Gc.error(`Firestore (${nh}): ${e}`,...n)}}function _d(e,...t){if(Gc.logLevel<=At.WARN){const n=t.map(aT);Gc.warn(`Firestore (${nh}): ${e}`,...n)}}function aT(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,WN(e,i,n)}function WN(e,t,n){let i=`FIRESTORE (${nh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw oa(i),new Error(i)}function Jt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||WN(t,r,i)}function vt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends vo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Di.UNAUTHENTICATED))}shutdown(){}}class zK{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UK{constructor(t){this.t=t,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zo,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zo)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string",31837,{l:i}),new jN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new Di(t)}}class WK{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jK{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new WK(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $K{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const i=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DM(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=qK(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function Pt(e,t){return e<t?-1:e>t?1:0}function oR(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return VS(r)===VS(s)?Pt(r,s):VS(r)?1:-1}return Pt(e.length,t.length)}const KK=55296,YK=57343;function VS(e){const t=e.charCodeAt(0);return t>=KK&&t<=YK}function kd(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="__name__";class $s{constructor(t,n,i){n===void 0?n=0:n>t.length&&lt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&lt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return $s.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $s?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=$s.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return Pt(t.length,n.length)}static compareSegments(t,n){const i=$s.isNumericId(t),r=$s.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?$s.extractNumericId(t).compare($s.extractNumericId(n)):oR(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ul.fromString(t.substring(4,t.length-2))}}class hn extends $s{construct(t,n,i){return new hn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Fe(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new hn(n)}static emptyPath(){return new hn([])}}const QK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends $s{construct(t,n,i){return new vi(t,n,i)}static isValidIdentifier(t){return QK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AM}static keyField(){return new vi([AM])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Fe(Ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new Fe(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Fe(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(i+=l,r++):(s(),r++)}if(s(),o)throw new Fe(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vi(n)}static emptyPath(){return new vi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.path=t}static fromPath(t){return new Xe(hn.fromString(t))}static fromName(t){return new Xe(hn.fromString(t).popFirst(5))}static empty(){return new Xe(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return hn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xe(new hn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e,t,n){if(!n)throw new Fe(Ce.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function XK(e,t,n,i){if(t===!0&&i===!0)throw new Fe(Ce.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function PM(e){if(!Xe.isDocumentKey(e))throw new Fe(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function IM(e){if(Xe.isDocumentKey(e))throw new Fe(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qN(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Py(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":lt(12329,{type:typeof e})}function uo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fe(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Py(e);throw new Fe(Ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(e,t){const n={typeString:e};return t&&(n.value=t),n}function lg(e,t){if(!qN(e))throw new Fe(Ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const o=e[i];if(r&&typeof o!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new Fe(Ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=-62135596800,MM=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(t){return gn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*MM);return new gn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Fe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<FM)throw new Fe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MM}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lg(t,gn._jsonSchema))return new gn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-FM;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gn._jsonSchemaVersion="firestore/timestamp/1.0",gn._jsonSchema={type:Un("string",gn._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new gn(0,0))}static max(){return new pt(new gn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-1;function ZK(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=pt.fromTimestamp(i===1e9?new gn(n+1,0):new gn(n,i));return new Cl(r,Xe.empty(),t)}function JK(e){return new Cl(e.readTime,e.key,yp)}class Cl{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Cl(pt.min(),Xe.empty(),yp)}static max(){return new Cl(pt.max(),Xe.empty(),yp)}}function eY(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Xe.comparator(e.documentKey,t.documentKey),n!==0?n:Pt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(e){if(e.code!==Ce.FAILED_PRECONDITION||e.message!==tY)throw e;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new be((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):be.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):be.reject(n)}static resolve(t){return new be((n,i)=>{n(t)})}static reject(t){return new be((n,i)=>{i(t)})}static waitFor(t){return new be((n,i)=>{let r=0,s=0,o=!1;t.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&n()},u=>i(u))}),o=!0,s===r&&n()})}static or(t){let n=be.resolve(!1);for(const i of t)n=n.next(r=>r?be.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new be((i,r)=>{const s=t.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(t[d]).next(f=>{o[d]=f,++l,l===s&&i(o)},f=>r(f))}})}static doWhile(t,n){return new be((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function iY(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rh(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Iy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=-1;function Fy(e){return e==null}function gC(e){return e===0&&1/e==-1/0}function rY(e){return typeof e=="number"&&Number.isInteger(e)&&!gC(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="";function sY(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_M(t)),t=oY(e.get(n),t);return _M(t)}function oY(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case KN:n+="";break;default:n+=s}}return n}function _M(e){return e+KN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function YN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t,n){this.comparator=t,this.root=n||gi.EMPTY}insert(t,n){return new bn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(t){return new bn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qm(this.root,t,this.comparator,!0)}}class Qm{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gi{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??gi.RED,this.left=r??gi.EMPTY,this.right=s??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new gi(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return gi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw lt(27949);return t+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1;gi.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new gi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.comparator=t,this.data=new bn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new OM(this.data.getIterator())}getIteratorFrom(t){return new OM(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Yn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Yn(this.comparator);return n.data=t,n}}class OM{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.fields=t,t.sort(vi.comparator)}static empty(){return new yr([])}unionWith(t){let n=new Yn(vi.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new yr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return kd(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new QN("Invalid base64 string: "+s):s}}(t);return new Si(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Si(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const aY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yl(e){if(Jt(!!e,39018),typeof e=="string"){let t=0;const n=aY.exec(e);if(Jt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fn(e.seconds),nanos:Fn(e.nanos)}}function Fn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wl(e){return typeof e=="string"?Si.fromBase64String(e):Si.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="server_timestamp",ZN="__type__",JN="__previous_value__",eV="__local_write_time__";function uT(e){return(e?.mapValue?.fields||{})[ZN]?.stringValue===XN}function My(e){const t=e.mapValue.fields[JN];return uT(t)?My(t):t}function wp(e){const t=yl(e.mapValue.fields[eV].timestampValue);return new gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(t,n,i,r,s,o,l,u,d,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const mC="(default)";class bp{constructor(t,n){this.projectId=t,this.database=n||mC}static empty(){return new bp("","")}get isDefaultDatabase(){return this.database===mC}isEqual(t){return t instanceof bp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="__type__",cY="__max__",Xm={mapValue:{}},nV="__vector__",vC="value";function bl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uT(e)?4:dY(e)?9007199254740991:uY(e)?10:11:lt(28295,{value:e})}function ho(e,t){if(e===t)return!0;const n=bl(e);if(n!==bl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wp(e).isEqual(wp(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=yl(r.timestampValue),l=yl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return wl(r.bytesValue).isEqual(wl(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Fn(r.geoPointValue.latitude)===Fn(s.geoPointValue.latitude)&&Fn(r.geoPointValue.longitude)===Fn(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Fn(r.integerValue)===Fn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Fn(r.doubleValue),l=Fn(s.doubleValue);return o===l?gC(o)===gC(l):isNaN(o)&&isNaN(l)}return!1}(e,t);case 9:return kd(e.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(kM(o)!==kM(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!ho(o[u],l[u])))return!1;return!0}(e,t);default:return lt(52216,{left:e})}}function Sp(e,t){return(e.values||[]).find(n=>ho(n,t))!==void 0}function Od(e,t){if(e===t)return 0;const n=bl(e),i=bl(t);if(n!==i)return Pt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const l=Fn(s.integerValue||s.doubleValue),u=Fn(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return LM(e.timestampValue,t.timestampValue);case 4:return LM(wp(e),wp(t));case 5:return oR(e.stringValue,t.stringValue);case 6:return function(s,o){const l=wl(s),u=wl(o);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=Pt(l[d],u[d]);if(f!==0)return f}return Pt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const l=Pt(Fn(s.latitude),Fn(o.latitude));return l!==0?l:Pt(Fn(s.longitude),Fn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return NM(e.arrayValue,t.arrayValue);case 10:return function(s,o){const l=s.fields||{},u=o.fields||{},d=l[vC]?.arrayValue,f=u[vC]?.arrayValue,p=Pt(d?.values?.length||0,f?.values?.length||0);return p!==0?p:NM(d,f)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Xm.mapValue&&o===Xm.mapValue)return 0;if(s===Xm.mapValue)return 1;if(o===Xm.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=oR(u[p],f[p]);if(m!==0)return m;const C=Od(l[u[p]],d[f[p]]);if(C!==0)return C}return Pt(u.length,f.length)}(e.mapValue,t.mapValue);default:throw lt(23264,{he:n})}}function LM(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pt(e,t);const n=yl(e),i=yl(t),r=Pt(n.seconds,i.seconds);return r!==0?r:Pt(n.nanos,i.nanos)}function NM(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Od(n[r],i[r]);if(s)return s}return Pt(n.length,i.length)}function Ld(e){return aR(e)}function aR(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=yl(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return wl(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Xe.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=aR(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${aR(n.fields[o])}`;return r+"}"}(e.mapValue):lt(61005,{value:e})}function Iv(e){switch(bl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=My(e);return t?16+Iv(t):16;case 5:return 2*e.stringValue.length;case 6:return wl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Iv(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Fl(i.fields,(s,o)=>{r+=s.length+Iv(o)}),r}(e.mapValue);default:throw lt(13486,{value:e})}}function VM(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lR(e){return!!e&&"integerValue"in e}function dT(e){return!!e&&"arrayValue"in e}function BM(e){return!!e&&"nullValue"in e}function GM(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fv(e){return!!e&&"mapValue"in e}function uY(e){return(e?.mapValue?.fields||{})[tV]?.stringValue===nV}function jf(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Fl(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=jf(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jf(e.arrayValue.values[n]);return t}return{...e}}function dY(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===cY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.value=t}static empty(){return new nr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Fv(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jf(n)}setAll(t){let n=vi.emptyPath(),i={},r=[];t.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}o?i[l.lastSegment()]=jf(o):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Fv(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ho(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Fv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Fl(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new nr(jf(this.value))}}function iV(e){const t=[];return Fl(e.fields,(n,i)=>{const r=new vi([n]);if(Fv(i)){const s=iV(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new yr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n,i,r,s,o,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(t){return new Ii(t,0,pt.min(),pt.min(),pt.min(),nr.empty(),0)}static newFoundDocument(t,n,i,r){return new Ii(t,1,n,pt.min(),i,r,0)}static newNoDocument(t,n){return new Ii(t,2,n,pt.min(),pt.min(),nr.empty(),0)}static newUnknownDocument(t,n){return new Ii(t,3,n,pt.min(),pt.min(),nr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ii&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,n){this.position=t,this.inclusive=n}}function HM(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=Xe.comparator(Xe.fromName(o.referenceValue),n.key):i=Od(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function zM(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ho(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,n="asc"){this.field=t,this.dir=n}}function hY(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{}class zn extends rV{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new pY(t,n,i):n==="array-contains"?new vY(t,i):n==="in"?new CY(t,i):n==="not-in"?new yY(t,i):n==="array-contains-any"?new wY(t,i):new zn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new gY(t,i):new mY(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Od(n,this.value)):n!==null&&bl(this.value)===bl(n)&&this.matchesComparison(Od(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ss extends rV{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ss(t,n)}matches(t){return sV(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sV(e){return e.op==="and"}function oV(e){return fY(e)&&sV(e)}function fY(e){for(const t of e.filters)if(t instanceof Ss)return!1;return!0}function cR(e){if(e instanceof zn)return e.field.canonicalString()+e.op.toString()+Ld(e.value);if(oV(e))return e.filters.map(t=>cR(t)).join(",");{const t=e.filters.map(n=>cR(n)).join(",");return`${e.op}(${t})`}}function aV(e,t){return e instanceof zn?function(i,r){return r instanceof zn&&i.op===r.op&&i.field.isEqual(r.field)&&ho(i.value,r.value)}(e,t):e instanceof Ss?function(i,r){return r instanceof Ss&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,l)=>s&&aV(o,r.filters[l]),!0):!1}(e,t):void lt(19439)}function lV(e){return e instanceof zn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ld(n.value)}`}(e):e instanceof Ss?function(n){return n.op.toString()+" {"+n.getFilters().map(lV).join(" ,")+"}"}(e):"Filter"}class pY extends zn{constructor(t,n,i){super(t,n,i),this.key=Xe.fromName(i.referenceValue)}matches(t){const n=Xe.comparator(t.key,this.key);return this.matchesComparison(n)}}class gY extends zn{constructor(t,n){super(t,"in",n),this.keys=cV("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class mY extends zn{constructor(t,n){super(t,"not-in",n),this.keys=cV("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function cV(e,t){return(t.arrayValue?.values||[]).map(n=>Xe.fromName(n.referenceValue))}class vY extends zn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dT(n)&&Sp(n.arrayValue,this.value)}}class CY extends zn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sp(this.value.arrayValue,n)}}class yY extends zn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sp(this.value.arrayValue,n)}}class wY extends zn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Sp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(t,n=null,i=[],r=[],s=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function UM(e,t=null,n=[],i=[],r=null,s=null,o=null){return new bY(e,t,n,i,r,s,o)}function hT(e){const t=vt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>cR(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Fy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ld(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ld(i)).join(",")),t.Te=n}return t.Te}function fT(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hY(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!aV(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zM(e.startAt,t.startAt)&&zM(e.endAt,t.endAt)}function uR(e){return Xe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,n=null,i=[],r=[],s=null,o="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SY(e,t,n,i,r,s,o,l){return new cg(e,t,n,i,r,s,o,l)}function pT(e){return new cg(e)}function WM(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function uV(e){return e.collectionGroup!==null}function $f(e){const t=vt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Yn(vi.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new yC(s,i))}),n.has(vi.keyField().canonicalString())||t.Ie.push(new yC(vi.keyField(),i))}return t.Ie}function io(e){const t=vt(e);return t.Ee||(t.Ee=EY(t,$f(e))),t.Ee}function EY(e,t){if(e.limitType==="F")return UM(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new yC(r.field,s)});const n=e.endAt?new CC(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new CC(e.startAt.position,e.startAt.inclusive):null;return UM(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function dR(e,t){const n=e.filters.concat([t]);return new cg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hR(e,t,n){return new cg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _y(e,t){return fT(io(e),io(t))&&e.limitType===t.limitType}function dV(e){return`${hT(io(e))}|lt:${e.limitType}`}function td(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>lV(r)).join(", ")}]`),Fy(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ld(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ld(r)).join(",")),`Target(${i})`}(io(e))}; limitType=${e.limitType})`}function ky(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Xe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of $f(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,l,u){const d=HM(o,l,u);return o.inclusive?d<=0:d<0}(i.startAt,$f(i),r)||i.endAt&&!function(o,l,u){const d=HM(o,l,u);return o.inclusive?d>=0:d>0}(i.endAt,$f(i),r))}(e,t)}function RY(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hV(e){return(t,n)=>{let i=!1;for(const r of $f(e)){const s=TY(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function TY(e,t,n){const i=e.field.isKeyField()?Xe.comparator(t.key,n.key):function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Od(u,d):lt(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return lt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Fl(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return YN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=new bn(Xe.comparator);function aa(){return xY}const fV=new bn(Xe.comparator);function Of(...e){let t=fV;for(const n of e)t=t.insert(n.key,n);return t}function pV(e){let t=fV;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function yc(){return qf()}function gV(){return qf()}function qf(){return new eu(e=>e.toString(),(e,t)=>e.isEqual(t))}const DY=new bn(Xe.comparator),AY=new Yn(Xe.comparator);function It(...e){let t=AY;for(const n of e)t=t.add(n);return t}const PY=new Yn(Pt);function IY(){return PY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gC(t)?"-0":t}}function mV(e){return{integerValue:""+e}}function FY(e,t){return rY(t)?mV(t):gT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this._=void 0}}function MY(e,t,n){return e instanceof wC?function(r,s){const o={fields:{[ZN]:{stringValue:XN},[eV]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&uT(s)&&(s=My(s)),s&&(o.fields[JN]=s),{mapValue:o}}(n,t):e instanceof Ep?CV(e,t):e instanceof Rp?yV(e,t):function(r,s){const o=vV(r,s),l=jM(o)+jM(r.Ae);return lR(o)&&lR(r.Ae)?mV(l):gT(r.serializer,l)}(e,t)}function _Y(e,t,n){return e instanceof Ep?CV(e,t):e instanceof Rp?yV(e,t):n}function vV(e,t){return e instanceof bC?function(i){return lR(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class wC extends Oy{}class Ep extends Oy{constructor(t){super(),this.elements=t}}function CV(e,t){const n=wV(t);for(const i of e.elements)n.some(r=>ho(r,i))||n.push(i);return{arrayValue:{values:n}}}class Rp extends Oy{constructor(t){super(),this.elements=t}}function yV(e,t){let n=wV(t);for(const i of e.elements)n=n.filter(r=>!ho(r,i));return{arrayValue:{values:n}}}class bC extends Oy{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function jM(e){return Fn(e.integerValue||e.doubleValue)}function wV(e){return dT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function kY(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Ep&&r instanceof Ep||i instanceof Rp&&r instanceof Rp?kd(i.elements,r.elements,ho):i instanceof bC&&r instanceof bC?ho(i.Ae,r.Ae):i instanceof wC&&r instanceof wC}(e.transform,t.transform)}class OY{constructor(t,n){this.version=t,this.transformResults=n}}class ys{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mv(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ly{}function bV(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mT(e.key,ys.none()):new ug(e.key,e.data,ys.none());{const n=e.data,i=nr.empty();let r=new Yn(vi.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ml(e.key,i,new yr(r.toArray()),ys.none())}}function LY(e,t,n){e instanceof ug?function(r,s,o){const l=r.value.clone(),u=qM(r.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Ml?function(r,s,o){if(!Mv(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=qM(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(SV(r)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Kf(e,t,n,i){return e instanceof ug?function(s,o,l,u){if(!Mv(s.precondition,o))return l;const d=s.value.clone(),f=KM(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ml?function(s,o,l,u){if(!Mv(s.precondition,o))return l;const d=KM(s.fieldTransforms,u,o),f=o.data;return f.setAll(SV(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,o,l){return Mv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(e,t,n)}function NY(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=vV(i.transform,r||null);s!=null&&(n===null&&(n=nr.empty()),n.set(i.field,s))}return n||null}function $M(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&kd(i,r,(s,o)=>kY(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ug extends Ly{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ml extends Ly{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SV(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function qM(e,t,n){const i=new Map;Jt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,l=t.data.field(s.field);i.set(s.field,_Y(o,l,n[r]))}return i}function KM(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,MY(s,o,t))}return i}class mT extends Ly{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VY extends Ly{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&LY(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Kf(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Kf(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=gV();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(r.key)?null:l;const u=bV(o,l);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(pt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),It())}isEqual(t){return this.batchId===t.batchId&&kd(this.mutations,t.mutations,(n,i)=>$M(n,i))&&kd(this.baseMutations,t.baseMutations,(n,i)=>$M(n,i))}}class vT{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Jt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return DY}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new vT(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn,Vt;function zY(e){switch(e){case Ce.OK:return lt(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return lt(15467,{code:e})}}function EV(e){if(e===void 0)return oa("GRPC error has no .code"),Ce.UNKNOWN;switch(e){case Bn.OK:return Ce.OK;case Bn.CANCELLED:return Ce.CANCELLED;case Bn.UNKNOWN:return Ce.UNKNOWN;case Bn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Bn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Bn.INTERNAL:return Ce.INTERNAL;case Bn.UNAVAILABLE:return Ce.UNAVAILABLE;case Bn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Bn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Bn.NOT_FOUND:return Ce.NOT_FOUND;case Bn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Bn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Bn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Bn.ABORTED:return Ce.ABORTED;case Bn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Bn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Bn.DATA_LOSS:return Ce.DATA_LOSS;default:return lt(39323,{code:e})}}(Vt=Bn||(Bn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=new ul([4294967295,4294967295],0);function YM(e){const t=UY().encode(e),n=new VN;return n.update(t),new Uint8Array(n.digest())}function QM(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ul([n,i],0),new ul([r,s],0)]}class CT{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Lf(`Invalid padding: ${n}`);if(i<0)throw new Lf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ul.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(ul.fromNumber(i)));return r.compare(WY)===1&&(r=new ul([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=YM(t),[i,r]=QM(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);if(!this.we(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new CT(s,r,n);return i.forEach(l=>o.insert(l)),o}insert(t){if(this.ge===0)return;const n=YM(t),[i,r]=QM(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,dg.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ny(pt.min(),r,new bn(Pt),aa(),It())}}class dg{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new dg(i,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,n,i,r){this.be=t,this.removedTargetIds=n,this.key=i,this.De=r}}class RV{constructor(t,n){this.targetId=t,this.Ce=n}}class TV{constructor(t,n,i=Si.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class XM{constructor(){this.ve=0,this.Fe=ZM(),this.Me=Si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=It(),n=It(),i=It();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:lt(38017,{changeType:s})}}),new dg(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=ZM()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jY{constructor(t){this.Ge=t,this.ze=new Map,this.je=aa(),this.Je=Zm(),this.He=Zm(),this.Ye=new bn(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:lt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(uR(s))if(i===0){const o=new Xe(s.path);this.et(n,o,Ii.newNoDocument(o,pt.min()))}else Jt(i===1,20013,{expectedCount:i});else{const o=this._t(n);if(o!==i){const l=this.ut(t),u=l?this.ct(l,t,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,l;try{o=wl(i).toUint8Array()}catch(u){if(u instanceof QN)return _d("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new CT(o,r,s)}catch(u){return _d(u instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&uR(l.target)){const u=new Xe(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ii.newNoDocument(u,t))}s.Be&&(n.set(o,s.ke()),s.qe())}});let i=It();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const r=new Ny(t,n,this.Ye,this.je,i);return this.je=aa(),this.Je=Zm(),this.He=Zm(),this.Ye=new bn(Pt),r}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new XM,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Yn(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Yn(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new XM),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Zm(){return new bn(Xe.comparator)}function ZM(){return new bn(Xe.comparator)}const $Y={asc:"ASCENDING",desc:"DESCENDING"},qY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KY={and:"AND",or:"OR"};class YY{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fR(e,t){return e.useProto3Json||Fy(t)?t:{value:t}}function SC(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xV(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function QY(e,t){return SC(e,t.toTimestamp())}function ro(e){return Jt(!!e,49232),pt.fromTimestamp(function(n){const i=yl(n);return new gn(i.seconds,i.nanos)}(e))}function yT(e,t){return pR(e,t).canonicalString()}function pR(e,t){const n=function(r){return new hn(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function DV(e){const t=hn.fromString(e);return Jt(MV(t),10190,{key:t.toString()}),t}function gR(e,t){return yT(e.databaseId,t.path)}function BS(e,t){const n=DV(t);if(n.get(1)!==e.databaseId.projectId)throw new Fe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xe(PV(n))}function AV(e,t){return yT(e.databaseId,t)}function XY(e){const t=DV(e);return t.length===4?hn.emptyPath():PV(t)}function mR(e){return new hn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PV(e){return Jt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function JM(e,t,n){return{name:gR(e,t),fields:n.value.mapValue.fields}}function ZY(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:lt(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Jt(f===void 0||typeof f=="string",58123),Si.fromBase64String(f||"")):(Jt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Si.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(d){const f=d.code===void 0?Ce.UNKNOWN:EV(d.code);return new Fe(f,d.message||"")}(o);n=new TV(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=BS(e,i.document.name),s=ro(i.document.updateTime),o=i.document.createTime?ro(i.document.createTime):pt.min(),l=new nr({mapValue:{fields:i.document.fields}}),u=Ii.newFoundDocument(r,s,o,l),d=i.targetIds||[],f=i.removedTargetIds||[];n=new _v(d,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=BS(e,i.document),s=i.readTime?ro(i.readTime):pt.min(),o=Ii.newNoDocument(r,s),l=i.removedTargetIds||[];n=new _v([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=BS(e,i.document),s=i.removedTargetIds||[];n=new _v([],s,r,null)}else{if(!("filter"in t))return lt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new HY(r,s),l=i.targetId;n=new RV(l,o)}}return n}function JY(e,t){let n;if(t instanceof ug)n={update:JM(e,t.key,t.value)};else if(t instanceof mT)n={delete:gR(e,t.key)};else if(t instanceof Ml)n={update:JM(e,t.key,t.data),updateMask:lQ(t.fieldMask)};else{if(!(t instanceof VY))return lt(16599,{Vt:t.type});n={verify:gR(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const l=o.transform;if(l instanceof wC)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ep)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bC)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw lt(20930,{transform:o.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:QY(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lt(27497)}(e,t.precondition)),n}function eQ(e,t){return e&&e.length>0?(Jt(t!==void 0,14353),e.map(n=>function(r,s){let o=r.updateTime?ro(r.updateTime):ro(s);return o.isEqual(pt.min())&&(o=ro(s)),new OY(o,r.transformResults||[])}(n,t))):[]}function tQ(e,t){return{documents:[AV(e,t.path)]}}function nQ(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=AV(e,r);const s=function(d){if(d.length!==0)return FV(Ss.create(d,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(m){return{field:nd(m.field),direction:sQ(m.dir)}}(f))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const l=fR(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:n,parent:r}}function iQ(e){let t=XY(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Jt(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=IV(p);return m instanceof Ss&&oV(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(w){return new yC(id(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Fy(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,C=p.values||[];return new CC(C,m)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const m=!p.before,C=p.values||[];return new CC(C,m)}(n.endAt)),SY(t,r,o,s,l,"F",u,d)}function rQ(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function IV(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=id(n.unaryFilter.field);return zn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=id(n.unaryFilter.field);return zn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=id(n.unaryFilter.field);return zn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=id(n.unaryFilter.field);return zn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}}(e):e.fieldFilter!==void 0?function(n){return zn.create(id(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ss.create(n.compositeFilter.filters.map(i=>IV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return lt(1026)}}(n.compositeFilter.op))}(e):lt(30097,{filter:e})}function sQ(e){return $Y[e]}function oQ(e){return qY[e]}function aQ(e){return KY[e]}function nd(e){return{fieldPath:e.canonicalString()}}function id(e){return vi.fromServerFormat(e.fieldPath)}function FV(e){return e instanceof zn?function(n){if(n.op==="=="){if(GM(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NAN"}};if(BM(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GM(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NAN"}};if(BM(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(n.field),op:oQ(n.op),value:n.value}}}(e):e instanceof Ss?function(n){const i=n.getFilters().map(r=>FV(r));return i.length===1?i[0]:{compositeFilter:{op:aQ(n.op),filters:i}}}(e):lt(54877,{filter:e})}function lQ(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function MV(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n,i,r,s=pt.min(),o=pt.min(),l=Si.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new sl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(t){this.yt=t}}function uQ(e){const t=iQ({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hR(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(){this.Cn=new hQ}addToCollectionParentIndex(t,n){return this.Cn.add(n),be.resolve()}getCollectionParents(t,n){return be.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return be.resolve()}deleteFieldIndex(t,n){return be.resolve()}deleteAllFieldIndexes(t){return be.resolve()}createTargetIndexes(t,n){return be.resolve()}getDocumentsMatchingTarget(t,n){return be.resolve(null)}getIndexType(t,n){return be.resolve(0)}getFieldIndexes(t,n){return be.resolve([])}getNextCollectionGroupToUpdate(t){return be.resolve(null)}getMinOffset(t,n){return be.resolve(Cl.min())}getMinOffsetFromCollectionGroup(t,n){return be.resolve(Cl.min())}updateCollectionGroup(t,n,i){return be.resolve()}updateIndexEntries(t,n){return be.resolve()}}class hQ{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Yn(hn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Yn(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_V=41943040;class Ji{static withCacheSize(t){return new Ji(t,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(_V,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Nd(0)}static cr(){return new Nd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",fQ=1048576;function n_([e,t],[n,i]){const r=Pt(e,n);return r===0?Pt(t,i):r}class pQ{constructor(t){this.Ir=t,this.buffer=new Yn(n_),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();n_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gQ{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ke(t_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rh(n)?ke(t_,"Ignoring IndexedDB error during garbage collection: ",n):await ih(n)}await this.Vr(3e5)})}}class mQ{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return be.resolve(Iy.ce);const i=new pQ(n);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(e_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,r,s,o,l,u,d;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(d=Date.now(),ed()<=At.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function vQ(e,t){return new mQ(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(){this.changes=new eu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ii.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?be.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Kf(i.mutation,r,yr.empty(),gn.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,It()).next(()=>i))}getLocalViewOfDocuments(t,n,i=It()){const r=yc();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=Of();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=yc();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,It()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(t,n,i,r){let s=aa();const o=qf(),l=function(){return qf()}();return n.forEach((u,d)=>{const f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Ml)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Kf(f.mutation,d,f.mutation.getFieldMask(),gn.now())):o.set(d.key,yr.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>l.set(d,new yQ(f,o.get(d)??null))),l))}recalculateAndSaveOverlays(t,n){const i=qf();let r=new bn((o,l)=>o-l),s=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=i.get(u)||yr.empty();f=l.applyToLocalView(d,f),i.set(u,f);const p=(r.get(l.batchId)||It()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,p=gV();f.forEach(m=>{if(!s.has(m)){const C=bV(n.get(m),i.get(m));C!==null&&p.set(m,C),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,d,p))}return be.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return Xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uV(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):be.resolve(yc());let l=yp,u=s;return o.next(d=>be.forEach(d,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?be.resolve():this.remoteDocumentCache.getEntry(t,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,u,d,It())).next(f=>({batchId:l,changes:pV(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Xe(n)).next(i=>{let r=Of();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=Of();return this.indexManager.getCollectionParents(t,s).next(l=>be.forEach(l,u=>{const d=function(p,m){return new cg(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Ii.newInvalidDocument(f)))});let l=Of();return o.forEach((u,d)=>{const f=s.get(u);f!==void 0&&Kf(f.mutation,d,yr.empty(),gn.now()),ky(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return be.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ro(r.createTime)}}(n)),be.resolve()}getNamedQuery(t,n){return be.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(r){return{name:r.name,query:uQ(r.bundledQuery),readTime:ro(r.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(){this.overlays=new bn(Xe.comparator),this.qr=new Map}getOverlay(t,n){return be.resolve(this.overlays.get(n))}getOverlays(t,n){const i=yc();return be.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),be.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),be.resolve()}getOverlaysForCollection(t,n,i){const r=yc(),s=n.length+1,o=new Xe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return be.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new bn((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=s.get(d.largestBatchId);f===null&&(f=yc(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=yc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=r)););return be.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new GY(n,i));let s=this.qr.get(n);s===void 0&&(s=It(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(t){return be.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.Qr=new Yn(ii.$r),this.Ur=new Yn(ii.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new ii(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new ii(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new Xe(new hn([])),i=new ii(n,t),r=new ii(n,t+1),s=[];return this.Ur.forEachInRange([i,r],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Xe(new hn([])),i=new ii(n,t),r=new ii(n,t+1);let s=It();return this.Ur.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ii(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ii{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Xe.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||Xe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yn(ii.$r)}checkEmpty(t){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BY(s,n,i,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new ii(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return be.resolve(o)}lookupMutationBatch(t,n){return be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?cT:this.tr-1)}getAllMutationBatches(t){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ii(n,0),r=new ii(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],o=>{const l=this.Xr(o.Yr);s.push(l)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Yn(Pt);return n.forEach(r=>{const s=new ii(r,0),o=new ii(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{i=i.add(l.Yr)})}),be.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Xe.isDocumentKey(s)||(s=s.child(""));const o=new ii(new Xe(s),0);let l=new Yn(Pt);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.Yr)),!0)},o),be.resolve(this.ti(l))}ti(t){const n=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return be.forEach(n.mutations,r=>{const s=new ii(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new ii(n,0),r=this.Zr.firstAfterOrEqual(i);return be.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,be.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(t){this.ri=t,this.docs=function(){return new bn(Xe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return be.resolve(i?i.document.mutableCopy():Ii.newInvalidDocument(n))}getEntries(t,n){let i=aa();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ii.newInvalidDocument(r))}),be.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=aa();const o=n.path,l=new Xe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||eY(JK(f),i)<=0||(r.has(f.key)||ky(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(t,n,i,r){lt(9500)}ii(t,n){return be.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new xQ(this)}getSize(t){return be.resolve(this.size)}}class xQ extends CQ{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),be.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(t){this.persistence=t,this.si=new eu(n=>hT(n),fT),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new wT,this.targetCount=0,this.ai=Nd.ur()}forEachTarget(t,n){return this.si.forEach((i,r)=>n(r)),be.resolve()}getLastRemoteSnapshotVersion(t){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return be.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),be.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Nd(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,be.resolve()}updateTargetData(t,n){return this.Pr(n),be.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),be.waitFor(s).next(()=>r)}getTargetCount(t){return be.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return be.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),be.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),be.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return be.resolve(i)}containsKey(t,n){return be.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t,n){this.ui={},this.overlays={},this.ci=new Iy(0),this.li=!1,this.li=!0,this.hi=new EQ,this.referenceDelegate=t(this),this.Pi=new DQ(this),this.indexManager=new dQ,this.remoteDocumentCache=function(r){return new TQ(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new cQ(n),this.Ii=new bQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new SQ,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new RQ(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){ke("MemoryPersistence","Starting transaction:",t);const r=new AQ(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(t,n){return be.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class AQ extends nY{constructor(t){super(),this.currentSequenceNumber=t}}class bT{constructor(t){this.persistence=t,this.Ri=new wT,this.Vi=null}static mi(t){return new bT(t)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),be.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),be.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),be.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,i=>{const r=Xe.fromPath(i);return this.gi(t,r).next(s=>{s||n.removeEntry(r,pt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class EC{constructor(t,n){this.persistence=t,this.pi=new eu(i=>sY(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=vQ(this,n)}static mi(t,n){return new EC(t,n)}Ei(){}di(t){return be.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return be.forEach(this.pi,(i,r)=>this.br(t,i,r).next(s=>s?be.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(t,o=>this.br(t,o,n).next(l=>{l||(i++,s.removeEntry(o,pt.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),be.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),be.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),be.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),be.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Iv(t.data.value)),n}br(t,n,i){return be.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.pi.get(n);return be.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=r}static As(t,n){let i=It(),r=It();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ST(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return e7()?8:iY(Fi())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ys(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new PQ;return this.Ss(t,n,o).next(l=>{if(s.result=l,this.Vs)return this.bs(t,n,o,l.size)})}).next(()=>s.result)}bs(t,n,i,r){return i.documentReadCount<this.fs?(ed()<=At.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",td(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(ed()<=At.DEBUG&&ke("QueryEngine","Query:",td(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ed()<=At.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",td(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,io(n))):be.resolve())}ys(t,n){if(WM(n))return be.resolve(null);let i=io(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=hR(n,null,"F"),i=io(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=It(...s);return this.ps.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(t,hR(n,null,"F")):this.vs(t,d,n,u)}))})))}ws(t,n,i,r){return WM(n)||r.isEqual(pt.min())?be.resolve(null):this.ps.getDocuments(t,i).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,i,r)?be.resolve(null):(ed()<=At.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),td(n)),this.vs(t,o,n,ZK(r,yp)).next(l=>l))})}Ds(t,n){let i=new Yn(hV(t));return n.forEach((r,s)=>{ky(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return ed()<=At.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",td(n)),this.ps.getDocumentsMatchingQuery(t,n,Cl.min(),i)}vs(t,n,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="LocalStore",FQ=3e8;class MQ{constructor(t,n,i,r){this.persistence=t,this.Fs=n,this.serializer=r,this.Ms=new bn(Pt),this.xs=new eu(s=>hT(s),fT),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function _Q(e,t,n,i){return new MQ(e,t,n,i)}async function OV(e,t){const n=vt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],l=[];let u=It();for(const d of r){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function kQ(e,t){const n=vt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const p=d.batch,m=p.keys();let C=be.resolve();return m.forEach(w=>{C=C.next(()=>f.getEntry(u,w)).next(E=>{const R=d.docVersions.get(w);Jt(R!==null,48541),E.version.compareTo(R)<0&&(p.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),f.addEntry(E)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=It();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function LV(e){const t=vt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function OQ(e,t){const n=vt(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];t.targetChanges.forEach((f,p)=>{const m=r.get(p);if(!m)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,p)));let C=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?C=C.withResumeToken(Si.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):f.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(f.resumeToken,i)),r=r.insert(p,C),function(E,R,x){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=FQ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,C,f)&&l.push(n.Pi.updateTargetData(s,C))});let u=aa(),d=It();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(LQ(s,o,t.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!i.isEqual(pt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return be.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.Ms=r,s))}function LQ(e,t,n){let i=It(),r=It();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=aa();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(pt.min())?(t.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),o=o.insert(l,u)):ke(ET,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:r}})}function NQ(e,t){const n=vt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=cT),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function VQ(e,t){const n=vt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,t).next(s=>s?(r=s,be.resolve(r)):n.Pi.allocateTargetId(i).next(o=>(r=new sl(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function vR(e,t,n){const i=vt(e),r=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!rh(o))throw o;ke(ET,`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function i_(e,t,n){const i=vt(e);let r=pt.min(),s=It();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const p=vt(u),m=p.xs.get(f);return m!==void 0?be.resolve(p.Ms.get(m)):p.Pi.getTargetData(d,f)}(i,o,io(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(o,t,n?r:pt.min(),n?s:It())).next(l=>(BQ(i,RY(t),l),{documents:l,Qs:s})))}function BQ(e,t,n){let i=e.Os.get(t)||pt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Os.set(t,i)}class r_{constructor(){this.activeTargetIds=IY()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GQ{constructor(){this.Mo=new r_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new r_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="ConnectivityMonitor";class o_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(s_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ke(s_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=null;function CR(){return Jm===null?Jm=function(){return 268435456+Math.round(2147483648*Math.random())}():Jm++,"0x"+Jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="RestConnection",zQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UQ{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===mC?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,n,i,r,s){const o=CR(),l=this.zo(t,n.toUriEncodedString());ke(GS,`Sending RPC '${t}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:d}=new URL(l),f=Jd(d);return this.Jo(t,l,u,i,f).then(p=>(ke(GS,`Received RPC '${t}' ${o}: `,p),p),p=>{throw _d(GS,`RPC '${t}' ${o} failed with error: `,p,"url: ",l,"request:",i),p})}Ho(t,n,i,r,s,o){return this.Go(t,n,i,r,s)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}zo(t,n){const i=zQ[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="WebChannelConnection";class jQ extends UQ{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const o=CR();return new Promise((l,u)=>{const d=new BN;d.setWithCredentials(!0),d.listenOnce(GN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Pv.NO_ERROR:const p=d.getResponseJson();ke(Ti,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),l(p);break;case Pv.TIMEOUT:ke(Ti,`RPC '${t}' ${o} timed out`),u(new Fe(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Pv.HTTP_ERROR:const m=d.getStatus();if(ke(Ti,`RPC '${t}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let C=d.getResponseJson();Array.isArray(C)&&(C=C[0]);const w=C?.error;if(w&&w.status&&w.message){const E=function(x){const D=x.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(D)>=0?D:Ce.UNKNOWN}(w.status);u(new Fe(E,w.message))}else u(new Fe(Ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Fe(Ce.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:t,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ke(Ti,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(r);ke(Ti,`RPC '${t}' ${o} sending request:`,r),d.send(n,"POST",f,i,15)})}T_(t,n,i){const r=CR(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=UN(),l=zN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");ke(Ti,`Creating RPC '${t}' stream ${r}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let m=!1,C=!1;const w=new WQ({Yo:R=>{C?ke(Ti,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(m||(ke(Ti,`Opening RPC '${t}' stream ${r} transport.`),p.open(),m=!0),ke(Ti,`RPC '${t}' stream ${r} sending:`,R),p.send(R))},Zo:()=>p.close()}),E=(R,x,D)=>{R.listen(x,A=>{try{D(A)}catch(L){setTimeout(()=>{throw L},0)}})};return E(p,kf.EventType.OPEN,()=>{C||(ke(Ti,`RPC '${t}' stream ${r} transport opened.`),w.o_())}),E(p,kf.EventType.CLOSE,()=>{C||(C=!0,ke(Ti,`RPC '${t}' stream ${r} transport closed`),w.a_(),this.E_(p))}),E(p,kf.EventType.ERROR,R=>{C||(C=!0,_d(Ti,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),w.a_(new Fe(Ce.UNAVAILABLE,"The operation could not be completed")))}),E(p,kf.EventType.MESSAGE,R=>{if(!C){const x=R.data[0];Jt(!!x,16349);const D=x,A=D?.error||D[0]?.error;if(A){ke(Ti,`RPC '${t}' stream ${r} received error:`,A);const L=A.status;let V=function(F){const k=Bn[F];if(k!==void 0)return EV(k)}(L),I=A.message;V===void 0&&(V=Ce.INTERNAL,I="Unknown error status: "+L+" with message "+A.message),C=!0,w.a_(new Fe(V,I)),p.close()}else ke(Ti,`RPC '${t}' stream ${r} received:`,x),w.u_(x)}}),E(l,HN.STAT_EVENT,R=>{R.stat===sR.PROXY?ke(Ti,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===sR.NOPROXY&&ke(Ti,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function HS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e){return new YY(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="PersistentStream";class VV{constructor(t,n,i,r,s,o,l,u){this.Mi=t,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NV(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new Fe(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ke(a_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ke(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $Q extends VV{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ZY(this.serializer,t),i=function(s){if(!("targetChange"in s))return pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?ro(o.readTime):pt.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=mR(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=uR(u)?{documents:tQ(s,u)}:{query:nQ(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=xV(s,o.resumeToken);const d=fR(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(pt.min())>0){l.readTime=SC(s,o.snapshotVersion.toTimestamp());const d=fR(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,t);const i=rQ(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=mR(this.serializer),n.removeTarget=t,this.q_(n)}}class qQ extends VV{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=eQ(t.writeResults,t.commitTime),i=ro(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=mR(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>JY(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{}class YQ extends KQ{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Fe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,pR(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(Ce.UNKNOWN,s.toString())})}Ho(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(t,pR(n,i),r,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(Ce.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QQ{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oa(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="RemoteStore";class XQ{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{i.enqueueAndForget(async()=>{tu(this)&&(ke(Hc,"Restarting streams for network reachability change."),await async function(u){const d=vt(u);d.Ea.add(4),await hg(d),d.Ra.set("Unknown"),d.Ea.delete(4),await By(d)}(this))})}),this.Ra=new QQ(i,r)}}async function By(e){if(tu(e))for(const t of e.da)await t(!0)}async function hg(e){for(const t of e.da)await t(!1)}function BV(e,t){const n=vt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),DT(n)?xT(n):sh(n).O_()&&TT(n,t))}function RT(e,t){const n=vt(e),i=sh(n);n.Ia.delete(t),i.O_()&&GV(n,t),n.Ia.size===0&&(i.O_()?i.L_():tu(n)&&n.Ra.set("Unknown"))}function TT(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sh(e).Y_(t)}function GV(e,t){e.Va.Ue(t),sh(e).Z_(t)}function xT(e){e.Va=new jY({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),sh(e).start(),e.Ra.ua()}function DT(e){return tu(e)&&!sh(e).x_()&&e.Ia.size>0}function tu(e){return vt(e).Ea.size===0}function HV(e){e.Va=void 0}async function ZQ(e){e.Ra.set("Online")}async function JQ(e){e.Ia.forEach((t,n)=>{TT(e,t)})}async function eX(e,t){HV(e),DT(e)?(e.Ra.ha(t),xT(e)):e.Ra.set("Unknown")}async function tX(e,t,n){if(e.Ra.set("Online"),t instanceof TV&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))}(e,t)}catch(i){ke(Hc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await RC(e,i)}else if(t instanceof _v?e.Va.Ze(t):t instanceof RV?e.Va.st(t):e.Va.tt(t),!n.isEqual(pt.min()))try{const i=await LV(e.localStore);n.compareTo(i)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Si.EMPTY_BYTE_STRING,f.snapshotVersion)),GV(s,u);const p=new sl(f.target,u,d,f.sequenceNumber);TT(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){ke(Hc,"Failed to raise snapshot:",i),await RC(e,i)}}async function RC(e,t,n){if(!rh(t))throw t;e.Ea.add(1),await hg(e),e.Ra.set("Offline"),n||(n=()=>LV(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ke(Hc,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await By(e)})}function zV(e,t){return t().catch(n=>RC(e,n,t))}async function Gy(e){const t=vt(e),n=Sl(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:cT;for(;nX(t);)try{const r=await NQ(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,iX(t,r)}catch(r){await RC(t,r)}UV(t)&&WV(t)}function nX(e){return tu(e)&&e.Ta.length<10}function iX(e,t){e.Ta.push(t);const n=Sl(e);n.O_()&&n.X_&&n.ea(t.mutations)}function UV(e){return tu(e)&&!Sl(e).x_()&&e.Ta.length>0}function WV(e){Sl(e).start()}async function rX(e){Sl(e).ra()}async function sX(e){const t=Sl(e);for(const n of e.Ta)t.ea(n.mutations)}async function oX(e,t,n){const i=e.Ta.shift(),r=vT.from(i,t,n);await zV(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Gy(e)}async function aX(e,t){t&&Sl(e).X_&&await async function(i,r){if(function(o){return zY(o)&&o!==Ce.ABORTED}(r.code)){const s=i.Ta.shift();Sl(i).B_(),await zV(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Gy(i)}}(e,t),UV(e)&&WV(e)}async function l_(e,t){const n=vt(e);n.asyncQueue.verifyOperationInProgress(),ke(Hc,"RemoteStore received new credentials");const i=tu(n);n.Ea.add(3),await hg(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await By(n)}async function lX(e,t){const n=vt(e);t?(n.Ea.delete(2),await By(n)):t||(n.Ea.add(2),await hg(n),n.Ra.set("Unknown"))}function sh(e){return e.ma||(e.ma=function(n,i,r){const s=vt(n);return s.sa(),new $Q(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:ZQ.bind(null,e),t_:JQ.bind(null,e),r_:eX.bind(null,e),H_:tX.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),DT(e)?xT(e):e.Ra.set("Unknown")):(await e.ma.stop(),HV(e))})),e.ma}function Sl(e){return e.fa||(e.fa=function(n,i,r){const s=vt(n);return s.sa(),new qQ(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:rX.bind(null,e),r_:aX.bind(null,e),ta:sX.bind(null,e),na:oX.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Gy(e)):(await e.fa.stop(),e.Ta.length>0&&(ke(Hc,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,l=new AT(t,n,o,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PT(e,t){if(oa("AsyncQueue",`${t}: ${e}`),rh(e))return new Fe(Ce.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{static emptySet(t){return new fd(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Xe.comparator(n.key,i.key):(n,i)=>Xe.comparator(n.key,i.key),this.keyedMap=Of(),this.sortedSet=new bn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fd)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new fd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new bn(Xe.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):lt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Vd{constructor(t,n,i,r,s,o,l,u,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Vd(t,n,fd.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_y(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class uX{constructor(){this.queries=u_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=vt(n),s=r.queries;r.queries=u_(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new Fe(Ce.ABORTED,"Firestore shutting down"))}}function u_(){return new eu(e=>dV(e),_y)}async function jV(e,t){const n=vt(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new cX,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=PT(o,`Initialization of query '${td(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&IT(n)}async function $V(e,t){const n=vt(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function dX(e,t){const n=vt(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(r)&&(i=!0);o.wa=r}}i&&IT(n)}function hX(e,t,n){const i=vt(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function IT(e){e.Ca.forEach(t=>{t.next()})}var yR,d_;(d_=yR||(yR={})).Ma="default",d_.Cache="cache";class qV{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Vd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Vd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==yR.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(t){this.key=t}}class YV{constructor(t){this.key=t}}class fX{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=hV(t),this.tu=new fd(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new c_,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,p)=>{const m=r.get(f),C=ky(this.query,p)?p:null,w=!!m&&this.mutatedKeys.has(m.key),E=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let R=!1;m&&C?m.data.isEqual(C.data)?w!==E&&(i.track({type:3,doc:C}),R=!0):this.su(m,C)||(i.track({type:2,doc:C}),R=!0,(u&&this.eu(C,u)>0||d&&this.eu(C,d)<0)&&(l=!0)):!m&&C?(i.track({type:0,doc:C}),R=!0):m&&!C&&(i.track({type:1,doc:m}),R=!0,(u||d)&&(l=!0)),R&&(C?(o=o.add(C),s=E?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:o,iu:i,Cs:l,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((f,p)=>function(C,w){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:R})}};return E(C)-E(w)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Vd(this.query,t.tu,s,o,t.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=It(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new YV(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new KV(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=It();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Vd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const FT="SyncEngine";class pX{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class gX{constructor(t){this.key=t,this.hu=!1}}class mX{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new eu(l=>dV(l),_y),this.Iu=new Map,this.Eu=new Set,this.du=new bn(Xe.comparator),this.Au=new Map,this.Ru=new wT,this.Vu={},this.mu=new Map,this.fu=Nd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vX(e,t,n=!0){const i=t2(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await QV(i,t,n,!0),r}async function CX(e,t){const n=t2(e);await QV(n,t,!0,!1)}async function QV(e,t,n,i){const r=await VQ(e.localStore,io(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await yX(e,t,s,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&BV(e.remoteStore,r),l}async function yX(e,t,n,i,r){e.pu=(p,m,C)=>async function(E,R,x,D){let A=R.view.ru(x);A.Cs&&(A=await i_(E.localStore,R.query,!1).then(({documents:_})=>R.view.ru(_,A)));const L=D&&D.targetChanges.get(R.targetId),V=D&&D.targetMismatches.get(R.targetId)!=null,I=R.view.applyChanges(A,E.isPrimaryClient,L,V);return f_(E,R.targetId,I.au),I.snapshot}(e,p,m,C);const s=await i_(e.localStore,t,!0),o=new fX(t,s.Qs),l=o.ru(s.documents),u=dg.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),d=o.applyChanges(l,e.isPrimaryClient,u);f_(e,n,d.au);const f=new pX(t,n,o);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),d.snapshot}async function wX(e,t,n){const i=vt(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(o=>!_y(o,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await vR(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&RT(i.remoteStore,r.targetId),wR(i,r.targetId)}).catch(ih)):(wR(i,r.targetId),await vR(i.localStore,r.targetId,!0))}async function bX(e,t){const n=vt(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),RT(n.remoteStore,i.targetId))}async function SX(e,t,n){const i=PX(e);try{const r=await function(o,l){const u=vt(o),d=gn.now(),f=l.reduce((C,w)=>C.add(w.key),It());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let w=aa(),E=It();return u.Ns.getEntries(C,f).next(R=>{w=R,w.forEach((x,D)=>{D.isValidDocument()||(E=E.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,w)).next(R=>{p=R;const x=[];for(const D of l){const A=NY(D,p.get(D.key).overlayedDocument);A!=null&&x.push(new Ml(D.key,A,iV(A.value.mapValue),ys.exists(!0)))}return u.mutationQueue.addMutationBatch(C,d,x,l)}).next(R=>{m=R;const x=R.applyToLocalDocumentSet(p,E);return u.documentOverlayCache.saveOverlays(C,R.batchId,x)})}).then(()=>({batchId:m.batchId,changes:pV(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new bn(Pt)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d}(i,r.batchId,n),await fg(i,r.changes),await Gy(i.remoteStore)}catch(r){const s=PT(r,"Failed to persist write");n.reject(s)}}async function XV(e,t){const n=vt(e);try{const i=await OQ(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Au.get(s);o&&(Jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Jt(o.hu,14607):r.removedDocuments.size>0&&(Jt(o.hu,42227),o.hu=!1))}),await fg(n,i,t)}catch(i){await ih(i)}}function h_(e,t,n){const i=vt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,o)=>{const l=o.view.va(t);l.snapshot&&r.push(l.snapshot)}),function(o,l){const u=vt(o);u.onlineState=l;let d=!1;u.queries.forEach((f,p)=>{for(const m of p.Sa)m.va(l)&&(d=!0)}),d&&IT(u)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function EX(e,t,n){const i=vt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let o=new bn(Xe.comparator);o=o.insert(s,Ii.newNoDocument(s,pt.min()));const l=It().add(s),u=new Ny(pt.min(),new Map,new bn(Pt),o,l);await XV(i,u),i.du=i.du.remove(s),i.Au.delete(t),MT(i)}else await vR(i.localStore,t,!1).then(()=>wR(i,t,n)).catch(ih)}async function RX(e,t){const n=vt(e),i=t.batch.batchId;try{const r=await kQ(n.localStore,t);JV(n,i,null),ZV(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await fg(n,r)}catch(r){await ih(r)}}async function TX(e,t,n){const i=vt(e);try{const r=await function(o,l){const u=vt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(p=>(Jt(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,t);JV(i,t,n),ZV(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await fg(i,r)}catch(r){await ih(r)}}function ZV(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function JV(e,t,n){const i=vt(e);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function wR(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||e2(e,i)})}function e2(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(RT(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),MT(e))}function f_(e,t,n){for(const i of n)i instanceof KV?(e.Ru.addReference(i.key,t),xX(e,i)):i instanceof YV?(ke(FT,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||e2(e,i.key)):lt(19791,{wu:i})}function xX(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(ke(FT,"New document in limbo: "+n),e.Eu.add(i),MT(e))}function MT(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Xe(hn.fromString(t)),i=e.fu.next();e.Au.set(i,new gX(n)),e.du=e.du.insert(n,i),BV(e.remoteStore,new sl(io(pT(n.path)),i,"TargetPurposeLimboResolution",Iy.ce))}}async function fg(e,t,n){const i=vt(e),r=[],s=[],o=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{o.push(i.pu(u,t,n).then(d=>{if((d||n)&&i.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(u.targetId)?.current;i.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){r.push(d);const f=ST.As(u.targetId,d);s.push(f)}}))}),await Promise.all(o),i.Pu.H_(r),await async function(u,d){const f=vt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>be.forEach(d,m=>be.forEach(m.Es,C=>f.persistence.referenceDelegate.addReference(p,m.targetId,C)).next(()=>be.forEach(m.ds,C=>f.persistence.referenceDelegate.removeReference(p,m.targetId,C)))))}catch(p){if(!rh(p))throw p;ke(ET,"Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const C=f.Ms.get(m),w=C.snapshotVersion,E=C.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(m,E)}}}(i.localStore,s))}async function DX(e,t){const n=vt(e);if(!n.currentUser.isEqual(t)){ke(FT,"User change. New user:",t.toKey());const i=await OV(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new Fe(Ce.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await fg(n,i.Ls)}}function AX(e,t){const n=vt(e),i=n.Au.get(t);if(i&&i.hu)return It().add(i.key);{let r=It();const s=n.Iu.get(t);if(!s)return r;for(const o of s){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function t2(e){const t=vt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=XV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EX.bind(null,t),t.Pu.H_=dX.bind(null,t.eventManager),t.Pu.yu=hX.bind(null,t.eventManager),t}function PX(e){const t=vt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TX.bind(null,t),t}class TC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vy(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return _Q(this.persistence,new IQ,t.initialUser,this.serializer)}Cu(t){return new kV(bT.mi,this.serializer)}Du(t){return new GQ}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}TC.provider={build:()=>new TC};class IX extends TC{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Jt(this.persistence.referenceDelegate instanceof EC,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new gQ(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new kV(i=>EC.mi(i,n),this.serializer)}}class bR{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>h_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DX.bind(null,this.syncEngine),await lX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uX}()}createDatastore(t){const n=Vy(t.databaseInfo.databaseId),i=function(s){return new jQ(s)}(t.databaseInfo);return function(s,o,l,u){return new YQ(s,o,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,l){return new XQ(i,r,s,o,l)}(this.localStore,this.datastore,t.asyncQueue,n=>h_(this.syncEngine,n,0),function(){return o_.v()?new o_:new HQ}())}createSyncEngine(t,n){return function(r,s,o,l,u,d,f){const p=new mX(r,s,o,l,u,d);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=vt(n);ke(Hc,"RemoteStore shutting down."),i.Ea.add(5),await hg(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bR.provider={build:()=>new bR};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):oa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="FirestoreClient";class FX{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Di.UNAUTHENTICATED,this.clientId=lT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{ke(El,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ke(El,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=PT(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function zS(e,t){e.asyncQueue.verifyOperationInProgress(),ke(El,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await OV(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function p_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await MX(e);ke(El,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>l_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>l_(t.remoteStore,r)),e._onlineComponents=t}async function MX(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ke(El,"Using user provided OfflineComponentProvider");try{await zS(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===Ce.FAILED_PRECONDITION||r.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;_d("Error using user provided cache. Falling back to memory cache: "+n),await zS(e,new TC)}}else ke(El,"Using default OfflineComponentProvider"),await zS(e,new IX(void 0));return e._offlineComponents}async function i2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ke(El,"Using user provided OnlineComponentProvider"),await p_(e,e._uninitializedComponentsProvider._online)):(ke(El,"Using default OnlineComponentProvider"),await p_(e,new bR))),e._onlineComponents}function _X(e){return i2(e).then(t=>t.syncEngine)}async function r2(e){const t=await i2(e),n=t.eventManager;return n.onListen=vX.bind(null,t.syncEngine),n.onUnlisten=wX.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CX.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bX.bind(null,t.syncEngine),n}function kX(e,t,n={}){const i=new Zo;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const f=new n2({next:m=>{f.Nu(),o.enqueueAndForget(()=>$V(s,p));const C=m.docs.has(l);!C&&m.fromCache?d.reject(new Fe(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&m.fromCache&&u&&u.source==="server"?d.reject(new Fe(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new qV(pT(l.path),f,{includeMetadataChanges:!0,qa:!0});return jV(s,p)}(await r2(e),e.asyncQueue,t,n,i)),i.promise}function OX(e,t,n={}){const i=new Zo;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const f=new n2({next:m=>{f.Nu(),o.enqueueAndForget(()=>$V(s,p)),m.fromCache&&u.source==="server"?d.reject(new Fe(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new qV(l,f,{includeMetadataChanges:!0,qa:!0});return jV(s,p)}(await r2(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firestore.googleapis.com",m_=!0;class v_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Fe(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o2,this.ssl=m_}else this.host=t.host,this.ssl=t.ssl??m_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_V;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fQ)throw new Fe(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XK("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s2(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Fe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hy{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Fe(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new HK;switch(i.type){case"firstParty":return new jK(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Fe(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=g_.get(n);i&&(ke("ComponentProvider","Removing Datastore"),g_.delete(n),i.terminate())}(this),Promise.resolve()}}function LX(e,t,n,i={}){e=uo(e,Hy);const r=Jd(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;r&&(QL(`https://${l}`),XL("Firestore",!0)),s.host!==o2&&s.host!==l&&_d("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Lc(u,o)&&(e._setSettings(u),i.mockUserToken)){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=Di.MOCK_USER;else{d=j$(i.mockUserToken,e._app?.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Fe(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Di(p)}e._authCredentials=new zK(new jN(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new oh(this.firestore,t,this._query)}}class _n{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}toJSON(){return{type:_n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(lg(n,_n._jsonSchema))return new _n(t,i||null,new Xe(hn.fromString(n.referencePath)))}}_n._jsonSchemaVersion="firestore/documentReference/1.0",_n._jsonSchema={type:Un("string",_n._jsonSchemaVersion),referencePath:Un("string")};class dl extends oh{constructor(t,n,i){super(t,n,pT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new Xe(t))}withConverter(t){return new dl(this.firestore,t,this._path)}}function a2(e,t,...n){if(e=bi(e),$N("collection","path",t),e instanceof Hy){const i=hn.fromString(t,...n);return IM(i),new dl(e,null,i)}{if(!(e instanceof _n||e instanceof dl))throw new Fe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(hn.fromString(t,...n));return IM(i),new dl(e.firestore,null,i)}}function pg(e,t,...n){if(e=bi(e),arguments.length===1&&(t=lT.newId()),$N("doc","path",t),e instanceof Hy){const i=hn.fromString(t,...n);return PM(i),new _n(e,null,new Xe(i))}{if(!(e instanceof _n||e instanceof dl))throw new Fe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(hn.fromString(t,...n));return PM(i),new _n(e.firestore,e instanceof dl?e.converter:null,new Xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class y_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NV(this,"async_queue_retry"),this._c=()=>{const i=HS();i&&ke(C_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=HS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=HS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rh(t))throw t;ke(C_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,oa("INTERNAL UNHANDLED ERROR: ",w_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=AT.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&lt(47125,{Pc:w_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function w_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ah extends Hy{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new y_,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y_(t),this._firestoreClient=void 0,await t}}}function NX(e,t){const n=typeof e=="object"?e:tN(),i=typeof e=="string"?e:mC,r=Z0(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=U$("firestore");s&&LX(r,...s)}return r}function _T(e){if(e._terminated)throw new Fe(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||VX(e),e._firestoreClient}function VX(e){const t=e._freezeSettings(),n=function(r,s,o,l){return new lY(r,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,s2(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new FX(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xr(Si.fromBase64String(t))}catch(n){throw new Fe(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xr(Si.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lg(t,Xr._jsonSchema))return Xr.fromBase64String(t.bytes)}}Xr._jsonSchemaVersion="firestore/bytes/1.0",Xr._jsonSchema={type:Un("string",Xr._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Fe(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Fe(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fe(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:so._jsonSchemaVersion}}static fromJSON(t){if(lg(t,so._jsonSchema))return new so(t.latitude,t.longitude)}}so._jsonSchemaVersion="firestore/geoPoint/1.0",so._jsonSchema={type:Un("string",so._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:oo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lg(t,oo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new oo(t.vectorValues);throw new Fe(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oo._jsonSchemaVersion="firestore/vectorValue/1.0",oo._jsonSchema={type:Un("string",oo._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX=/^__.*__$/;class GX{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ml(t,this.data,this.fieldMask,n,this.fieldTransforms):new ug(t,this.data,n,this.fieldTransforms)}}class l2{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Ml(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function c2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:e})}}class OT{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new OT({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return xC(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(c2(this.Ac)&&BX.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HX{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Vy(t)}Cc(t,n,i,r=!1){return new OT({Ac:t,methodName:n,Dc:i,path:vi.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(e){const t=e._freezeSettings(),n=Vy(e._databaseId);return new HX(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zX(e,t,n,i,r,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,r);NT("Data must be an object, but it was:",o,i);const l=u2(i,o);let u,d;if(s.merge)u=new yr(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=SR(t,p,n);if(!o.contains(m))throw new Fe(Ce.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);h2(f,m)||f.push(m)}u=new yr(f),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new GX(new nr(l),u,d)}class Uy extends kT{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uy}}function UX(e,t,n,i){const r=e.Cc(1,t,n);NT("Data must be an object, but it was:",r,i);const s=[],o=nr.empty();Fl(i,(u,d)=>{const f=VT(t,u,n);d=bi(d);const p=r.yc(f);if(d instanceof Uy)s.push(f);else{const m=gg(d,p);m!=null&&(s.push(f),o.set(f,m))}});const l=new yr(s);return new l2(o,l,r.fieldTransforms)}function WX(e,t,n,i,r,s){const o=e.Cc(1,t,n),l=[SR(t,i,n)],u=[r];if(s.length%2!=0)throw new Fe(Ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(SR(t,s[m])),u.push(s[m+1]);const d=[],f=nr.empty();for(let m=l.length-1;m>=0;--m)if(!h2(d,l[m])){const C=l[m];let w=u[m];w=bi(w);const E=o.yc(C);if(w instanceof Uy)d.push(C);else{const R=gg(w,E);R!=null&&(d.push(C),f.set(C,R))}}const p=new yr(d);return new l2(f,p,o.fieldTransforms)}function jX(e,t,n,i=!1){return gg(n,e.Cc(i?4:3,t))}function gg(e,t){if(d2(e=bi(e)))return NT("Unsupported field value:",t,e),u2(e,t);if(e instanceof kT)return function(i,r){if(!c2(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const l of i){let u=gg(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=bi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FY(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=gn.fromDate(i);return{timestampValue:SC(r.serializer,s)}}if(i instanceof gn){const s=new gn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:SC(r.serializer,s)}}if(i instanceof so)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xr)return{bytesValue:xV(r.serializer,i._byteString)};if(i instanceof _n){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yT(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof oo)return function(o,l){return{mapValue:{fields:{[tV]:{stringValue:nV},[vC]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return gT(l.serializer,d)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${Py(i)}`)}(e,t)}function u2(e,t){const n={};return YN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fl(e,(i,r)=>{const s=gg(r,t.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function d2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gn||e instanceof so||e instanceof Xr||e instanceof _n||e instanceof kT||e instanceof oo)}function NT(e,t,n){if(!d2(n)||!qN(n)){const i=Py(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function SR(e,t,n){if((t=bi(t))instanceof zy)return t._internalPath;if(typeof t=="string")return VT(e,t);throw xC("Field path arguments must be of type string or ",e,!1,void 0,n)}const $X=new RegExp("[~\\*/\\[\\]]");function VT(e,t,n){if(t.search($X)>=0)throw xC(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zy(...t.split("."))._internalPath}catch{throw xC(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xC(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new Fe(Ce.INVALID_ARGUMENT,l+e+u)}function h2(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(BT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qX extends f2{data(){return super.data()}}function BT(e,t){return typeof t=="string"?VT(e,t):t instanceof zy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Fe(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GT{}class YX extends GT{}function p2(e,t,...n){let i=[];t instanceof GT&&i.push(t),i=i.concat(n),function(s){const o=s.filter(u=>u instanceof HT).length,l=s.filter(u=>u instanceof Wy).length;if(o>1||o>0&&l>0)throw new Fe(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Wy extends YX{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Wy(t,n,i)}_apply(t){const n=this._parse(t);return m2(t._query,n),new oh(t.firestore,t.converter,dR(t._query,n))}_parse(t){const n=LT(t.firestore);return function(s,o,l,u,d,f,p){let m;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Fe(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){S_(p,f);const w=[];for(const E of p)w.push(b_(u,s,E));m={arrayValue:{values:w}}}else m=b_(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||S_(p,f),m=jX(l,o,p,f==="in"||f==="not-in");return zn.create(d,f,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function g2(e,t,n){const i=t,r=BT("where",e);return Wy._create(r,i,n)}class HT extends GT{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new HT(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ss.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const l=s.getFlattenedFilters();for(const u of l)m2(o,u),o=dR(o,u)}(t._query,n),new oh(t.firestore,t.converter,dR(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function b_(e,t,n){if(typeof(n=bi(n))=="string"){if(n==="")throw new Fe(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uV(t)&&n.indexOf("/")!==-1)throw new Fe(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(hn.fromString(n));if(!Xe.isDocumentKey(i))throw new Fe(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return VM(e,new Xe(i))}if(n instanceof _n)return VM(e,n._key);throw new Fe(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Py(n)}.`)}function S_(e,t){if(!Array.isArray(e)||e.length===0)throw new Fe(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m2(e,t){const n=function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Fe(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Fe(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class QX{convertValue(t,n="none"){switch(bl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(wl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw lt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Fl(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){const n=t.fields?.[vC].arrayValue?.values?.map(i=>Fn(i.doubleValue));return new oo(n)}convertGeoPoint(t){return new so(Fn(t.latitude),Fn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=My(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wp(t));default:return null}}convertTimestamp(t){const n=yl(t);return new gn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=hn.fromString(t);Jt(MV(i),9688,{name:t});const r=new bp(i.get(1),i.get(3)),s=new Xe(i.popFirst(5));return r.isEqual(n)||oa(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Nf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Rc extends f2{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(BT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Rc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rc._jsonSchema={type:Un("string",Rc._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class kv extends Rc{data(t={}){return super.data(t)}}class pd{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Nf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new kv(this._firestore,this._userDataWriter,i.key,i,new Nf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const u=new kv(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Nf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new kv(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Nf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:ZX(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pd._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=lT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(e){e=uo(e,_n);const t=uo(e.firestore,ah);return kX(_T(t),e._key).then(n=>nZ(t,e,n))}pd._jsonSchemaVersion="firestore/querySnapshot/1.0",pd._jsonSchema={type:Un("string",pd._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class v2 extends QX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function C2(e){e=uo(e,oh);const t=uo(e.firestore,ah),n=_T(t),i=new v2(t);return KX(e._query),OX(n,e._query).then(r=>new pd(t,i,e,r))}function y2(e,t,n){e=uo(e,_n);const i=uo(e.firestore,ah),r=XX(e.converter,t);return zT(i,[zX(LT(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,ys.none())])}function eZ(e,t,n,...i){e=uo(e,_n);const r=uo(e.firestore,ah),s=LT(r);let o;return o=typeof(t=bi(t))=="string"||t instanceof zy?WX(s,"updateDoc",e._key,t,n,i):UX(s,"updateDoc",e._key,t),zT(r,[o.toMutation(e._key,ys.exists(!0))])}function tZ(e){return zT(uo(e.firestore,ah),[new mT(e._key,ys.none())])}function zT(e,t){return function(i,r){const s=new Zo;return i.asyncQueue.enqueueAndForget(async()=>SX(await _X(i),r,s)),s.promise}(_T(e),t)}function nZ(e,t,n){const i=n.docs.get(t._key),r=new v2(e);return new Rc(e,r,t._key,i,new Nf(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){nh=r})(eh),Md(new Nc("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),l=new ah(new UK(i.getProvider("auth-internal")),new $K(o,i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Fe(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bp(d.options.projectId,f)}(o,r),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),cl(TM,xM,t),cl(TM,xM,"esm2020")})();const w2=eN(x8),UT=BK(w2),nu=NX(w2);var Kr=(e=>(e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMINISTRATOR="ADMINISTRATOR",e))(Kr||{});const WT="users",iZ=async(e,t)=>{await y2(pg(nu,WT,t),e)},rZ=async e=>(await JX(pg(nu,WT,e))).data(),b2=async()=>(await C2(p2(a2(nu,WT),g2("role","==",Kr.STUDENT)))).docs.map(t=>t.data()),sZ=async(e,t)=>{const n=await Tq(UT,e,t);return await rZ(n.user.uid)},oZ=async e=>{const t=e.name.slice(0,3)+e.email.slice(0,3),n=await Rq(UT,e.email,t);return e={...e,id:n.user.uid},await iZ(e,n.user.uid),e},aZ=async()=>{await Aq(UT)},E_=e=>{let t;const n=new Set,i=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const m=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(C=>C(t,m))}},r=()=>t,l={setState:i,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(i,r,l);return l},lZ=e=>e?E_(e):E_,cZ=e=>e;function uZ(e,t=cZ){const n=$.useSyncExternalStore(e.subscribe,$.useCallback(()=>t(e.getState()),[e,t]),$.useCallback(()=>t(e.getInitialState()),[e,t]));return $.useDebugValue(n),n}const R_=e=>{const t=lZ(e),n=i=>uZ(t,i);return Object.assign(n,t),n},jT=e=>e?R_(e):R_,lh=jT(e=>({user:null,setUser:t=>e({user:t})})),T_=({onNavigate:e})=>{const t=C0(),{user:n,setUser:i}=lh(),r=l=>{t(l),e&&e()},s=()=>{aZ(),t("/"),i(null),localStorage.removeItem("user")},o=n?.role===Kr.TEACHER||n?.role===Kr.ADMINISTRATOR;return N.jsxs(z5,{children:[N.jsx(jm,{icon:N.jsx(E$,{size:18}),onClick:()=>r("/dashboard/mapa"),children:"Mapa Interactivo"}),o&&N.jsxs(N.Fragment,{children:[N.jsx(jm,{icon:N.jsx(Qo,{size:18}),onClick:()=>r("/dashboard/estudiantes"),children:"Estudiantes"}),N.jsx(jm,{icon:N.jsx(v$,{size:18}),onClick:()=>r("/dashboard/grupos"),children:"Grupos"})]}),N.jsx(jm,{icon:N.jsx(y$,{size:18}),onClick:s,children:"Cerrar Sesin"})]})},dZ=()=>{const[e,t]=S.useState(!1),{collapseSidebar:n,collapsed:i}=lj();return N.jsxs("div",{className:"d-flex flex-column vh-100",children:[N.jsx(i$,{bg:"light",expand:"lg",className:"border-bottom px-3",children:N.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[N.jsx("div",{className:"fw-bold fs-4",children:"TutorIngls"}),N.jsx("div",{className:"d-lg-none",children:N.jsx($i,{variant:"outline-primary",onClick:()=>t(!0),children:N.jsx(T$,{size:20})})}),N.jsx("div",{className:"d-none d-lg-block",children:N.jsx($i,{variant:"outline-secondary",onClick:()=>n(),size:"sm",children:i?"":""})})]})}),N.jsxs("div",{className:"flex-grow-1 d-flex",children:[N.jsx("div",{className:"d-none d-lg-block",children:N.jsx(B5,{breakPoint:"lg",collapsed:!1,style:{height:"100%"},className:"bg-dark",children:N.jsx(T_,{})})}),N.jsx("div",{className:"flex-grow-1 p-3",style:{overflowY:"auto"},children:N.jsx(nW,{})})]}),N.jsxs(Ff,{show:e,onHide:()=>t(!1),placement:"end",children:[N.jsx(Ff.Header,{closeButton:!0,children:N.jsx(Ff.Title,{children:"Men"})}),N.jsx(Ff.Body,{children:N.jsx(T_,{onNavigate:()=>t(!1)})})]})]})};function S2(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=S2(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Tc(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=S2(e))&&(i&&(i+=" "),i+=t);return i}function hZ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}hZ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var mg=e=>typeof e=="number"&&!isNaN(e),zc=e=>typeof e=="string",la=e=>typeof e=="function",fZ=e=>zc(e)||mg(e),ER=e=>zc(e)||la(e)?e:null,pZ=(e,t)=>e===!1||mg(e)&&e>0?e:t,RR=e=>S.isValidElement(e)||zc(e)||la(e)||mg(e);function gZ(e,t,n=300){let{scrollHeight:i,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}function mZ({enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:l,done:u,nodeRef:d,isIn:f,playToast:p}){let m=n?`${e}--${o}`:e,C=n?`${t}--${o}`:t,w=S.useRef(0);return S.useLayoutEffect(()=>{let E=d.current,R=m.split(" "),x=D=>{D.target===d.current&&(p(),E.removeEventListener("animationend",x),E.removeEventListener("animationcancel",x),w.current===0&&D.type!=="animationcancel"&&E.classList.remove(...R))};E.classList.add(...R),E.addEventListener("animationend",x),E.addEventListener("animationcancel",x)},[]),S.useEffect(()=>{let E=d.current,R=()=>{E.removeEventListener("animationend",R),i?gZ(E,u,r):u()};f||(l?R():(w.current=1,E.className+=` ${C}`,E.addEventListener("animationend",R)))},[f]),$.createElement($.Fragment,null,s)}}function x_(e,t){return{content:E2(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function E2(e,t,n=!1){return S.isValidElement(e)&&!zc(e.type)?S.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):la(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function vZ({closeToast:e,theme:t,ariaLabel:n="close"}){return $.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":n},$.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},$.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CZ({delay:e,isRunning:t,closeToast:n,type:i="default",hide:r,className:s,controlledProgress:o,progress:l,rtl:u,isIn:d,theme:f}){let p=r||o&&l===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(m.transform=`scaleX(${l})`);let C=Tc("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),w=la(s)?s({rtl:u,type:i,defaultClassName:C}):Tc(C,s),E={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{d&&n()}};return $.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},$.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),$.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:w,style:m,...E}))}var yZ=1,R2=()=>`${yZ++}`;function wZ(e,t,n){let i=1,r=0,s=[],o=[],l=t,u=new Map,d=new Set,f=D=>(d.add(D),()=>d.delete(D)),p=()=>{o=Array.from(u.values()),d.forEach(D=>D())},m=({containerId:D,toastId:A,updateId:L})=>{let V=D?D!==e:e!==1,I=u.has(A)&&L==null;return V||I},C=(D,A)=>{u.forEach(L=>{var V;(A==null||A===L.props.toastId)&&((V=L.toggle)==null||V.call(L,D))})},w=D=>{var A,L;(L=(A=D.props)==null?void 0:A.onClose)==null||L.call(A,D.removalReason),D.isActive=!1},E=D=>{if(D==null)u.forEach(w);else{let A=u.get(D);A&&w(A)}p()},R=()=>{r-=s.length,s=[]},x=D=>{var A,L;let{toastId:V,updateId:I}=D.props,_=I==null;D.staleId&&u.delete(D.staleId),D.isActive=!0,u.set(V,D),p(),n(x_(D,_?"added":"updated")),_&&((L=(A=D.props).onOpen)==null||L.call(A))};return{id:e,props:l,observe:f,toggle:C,removeToast:E,toasts:u,clearQueue:R,buildToast:(D,A)=>{if(m(A))return;let{toastId:L,updateId:V,data:I,staleId:_,delay:F}=A,k=V==null;k&&r++;let O={...l,style:l.toastStyle,key:i++,...Object.fromEntries(Object.entries(A).filter(([U,G])=>G!=null)),toastId:L,updateId:V,data:I,isIn:!1,className:ER(A.className||l.toastClassName),progressClassName:ER(A.progressClassName||l.progressClassName),autoClose:A.isLoading?!1:pZ(A.autoClose,l.autoClose),closeToast(U){u.get(L).removalReason=U,E(L)},deleteToast(){let U=u.get(L);if(U!=null){if(n(x_(U,"removed")),u.delete(L),r--,r<0&&(r=0),s.length>0){x(s.shift());return}p()}}};O.closeButton=l.closeButton,A.closeButton===!1||RR(A.closeButton)?O.closeButton=A.closeButton:A.closeButton===!0&&(O.closeButton=RR(l.closeButton)?l.closeButton:!0);let B={content:D,props:O,staleId:_};l.limit&&l.limit>0&&r>l.limit&&k?s.push(B):mg(F)?setTimeout(()=>{x(B)},F):x(B)},setProps(D){l=D},setToggle:(D,A)=>{let L=u.get(D);L&&(L.toggle=A)},isToastActive:D=>{var A;return(A=u.get(D))==null?void 0:A.isActive},getSnapshot:()=>o}}var ji=new Map,Tp=[],TR=new Set,bZ=e=>TR.forEach(t=>t(e)),T2=()=>ji.size>0;function SZ(){Tp.forEach(e=>D2(e.content,e.options)),Tp=[]}var EZ=(e,{containerId:t})=>{var n;return(n=ji.get(t||1))==null?void 0:n.toasts.get(e)};function x2(e,t){var n;if(t)return!!((n=ji.get(t))!=null&&n.isToastActive(e));let i=!1;return ji.forEach(r=>{r.isToastActive(e)&&(i=!0)}),i}function RZ(e){if(!T2()){Tp=Tp.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||fZ(e))ji.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ji.get(e.containerId);t?t.removeToast(e.id):ji.forEach(n=>{n.removeToast(e.id)})}}var TZ=(e={})=>{ji.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function D2(e,t){RR(e)&&(T2()||Tp.push({content:e,options:t}),ji.forEach(n=>{n.buildToast(e,t)}))}function xZ(e){var t;(t=ji.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function A2(e,t){ji.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function DZ(e){let t=e.containerId||1;return{subscribe(n){let i=wZ(t,e,bZ);ji.set(t,i);let r=i.observe(n);return SZ(),()=>{r(),ji.delete(t)}},setProps(n){var i;(i=ji.get(t))==null||i.setProps(n)},getSnapshot(){var n;return(n=ji.get(t))==null?void 0:n.getSnapshot()}}}function AZ(e){return TR.add(e),()=>{TR.delete(e)}}function PZ(e){return e&&(zc(e.toastId)||mg(e.toastId))?e.toastId:R2()}function vg(e,t){return D2(e,t),t.toastId}function jy(e,t){return{...t,type:t&&t.type||e,toastId:PZ(t)}}function $y(e){return(t,n)=>vg(t,jy(e,n))}function Yt(e,t){return vg(e,jy("default",t))}Yt.loading=(e,t)=>vg(e,jy("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function IZ(e,{pending:t,error:n,success:i},r){let s;t&&(s=zc(t)?Yt.loading(t,r):Yt.loading(t.render,{...r,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,f,p)=>{if(f==null){Yt.dismiss(s);return}let m={type:d,...o,...r,data:p},C=zc(f)?{render:f}:f;return s?Yt.update(s,{...m,...C}):Yt(C.render,{...m,...C}),p},u=la(e)?e():e;return u.then(d=>l("success",i,d)).catch(d=>l("error",n,d)),u}Yt.promise=IZ;Yt.success=$y("success");Yt.info=$y("info");Yt.error=$y("error");Yt.warning=$y("warning");Yt.warn=Yt.warning;Yt.dark=(e,t)=>vg(e,jy("default",{theme:"dark",...t}));function FZ(e){RZ(e)}Yt.dismiss=FZ;Yt.clearWaitingQueue=TZ;Yt.isActive=x2;Yt.update=(e,t={})=>{let n=EZ(e,t);if(n){let{props:i,content:r}=n,s={delay:100,...i,...t,toastId:t.toastId||e,updateId:R2()};s.toastId!==e&&(s.staleId=e);let o=s.render||r;delete s.render,vg(o,s)}};Yt.done=e=>{Yt.update(e,{progress:1})};Yt.onChange=AZ;Yt.play=e=>A2(!0,e);Yt.pause=e=>A2(!1,e);function MZ(e){var t;let{subscribe:n,getSnapshot:i,setProps:r}=S.useRef(DZ(e)).current;r(e);let s=(t=S.useSyncExternalStore(n,i,i))==null?void 0:t.slice();function o(l){if(!s)return[];let u=new Map;return e.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:f}=d.props;u.has(f)||u.set(f,[]),u.get(f).push(d)}),Array.from(u,d=>l(d[0],d[1]))}return{getToastToRender:o,isToastActive:x2,count:s?.length}}function _Z(e){let[t,n]=S.useState(!1),[i,r]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:d,onClick:f,closeOnClick:p}=e;xZ({id:e.toastId,containerId:e.containerId,fn:n}),S.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{C()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||x(),window.addEventListener("focus",R),window.addEventListener("blur",x)}function C(){window.removeEventListener("focus",R),window.removeEventListener("blur",x)}function w(_){if(e.draggable===!0||e.draggable===_.pointerType){D();let F=s.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",e.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=F.offsetWidth*(e.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=F.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function E(_){let{top:F,bottom:k,left:O,right:B}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_.clientX>=O&&_.clientX<=B&&_.clientY>=F&&_.clientY<=k?x():R()}function R(){n(!0)}function x(){n(!1)}function D(){o.didMove=!1,document.addEventListener("pointermove",L),document.addEventListener("pointerup",V)}function A(){document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",V)}function L(_){let F=s.current;if(o.canDrag&&F){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=_.clientX-o.start:o.delta=_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1);let k=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;F.style.transform=`translate3d(${k},0)`,F.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function V(){A();let _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),e.closeToast(!0),e.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let I={onPointerDown:w,onPointerUp:E};return l&&u&&(I.onMouseEnter=x,e.stacked||(I.onMouseLeave=R)),p&&(I.onClick=_=>{f&&f(_),o.canCloseOnClick&&d(!0)}),{playToast:R,pauseToast:x,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:I}}var kZ=typeof window<"u"?S.useLayoutEffect:S.useEffect,qy=({theme:e,type:t,isLoading:n,...i})=>$.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function OZ(e){return $.createElement(qy,{...e},$.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function LZ(e){return $.createElement(qy,{...e},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function NZ(e){return $.createElement(qy,{...e},$.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function VZ(e){return $.createElement(qy,{...e},$.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function BZ(){return $.createElement("div",{className:"Toastify__spinner"})}var xR={info:LZ,warning:OZ,success:NZ,error:VZ,spinner:BZ},GZ=e=>e in xR;function HZ({theme:e,type:t,isLoading:n,icon:i}){let r=null,s={theme:e,type:t};return i===!1||(la(i)?r=i({...s,isLoading:n}):S.isValidElement(i)?r=S.cloneElement(i,s):n?r=xR.spinner():GZ(t)&&(r=xR[t](s))),r}var zZ=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=_Z(e),{closeButton:o,children:l,autoClose:u,onClick:d,type:f,hideProgressBar:p,closeToast:m,transition:C,position:w,className:E,style:R,progressClassName:x,updateId:D,role:A,progress:L,rtl:V,toastId:I,deleteToast:_,isIn:F,isLoading:k,closeOnClick:O,theme:B,ariaLabel:U}=e,G=Tc("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":O}),de=la(E)?E({rtl:V,position:w,type:f,defaultClassName:G}):Tc(G,E),pe=HZ(e),q=!!L||!u,ne={closeToast:m,type:f,theme:B},re=null;return o===!1||(la(o)?re=o(ne):S.isValidElement(o)?re=S.cloneElement(o,ne):re=vZ(ne)),$.createElement(C,{isIn:F,done:_,position:w,preventExitTransition:n,nodeRef:i,playToast:s},$.createElement("div",{id:I,tabIndex:0,onClick:d,"data-in":F,className:de,...r,style:R,ref:i,...F&&{role:A,"aria-label":U}},pe!=null&&$.createElement("div",{className:Tc("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},pe),E2(l,e,!t),re,!e.customProgressBar&&$.createElement(CZ,{...D&&!q?{key:`p-${D}`}:{},rtl:V,theme:B,delay:u,isRunning:t,isIn:F,closeToast:m,hide:p,type:f,className:x,controlledProgress:q,progress:L||0})))},UZ=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),P2=mZ(UZ("bounce",!0)),WZ={position:"top-right",transition:P2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function I2(e){let t={...WZ,...e},n=e.stacked,[i,r]=S.useState(!0),s=S.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=MZ(t),{className:d,style:f,rtl:p,containerId:m,hotKeys:C}=t;function w(R){let x=Tc("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":p});return la(d)?d({position:R,rtl:p,defaultClassName:x}):Tc(x,ER(d))}function E(){n&&(r(!0),Yt.play())}return kZ(()=>{var R;if(n){let x=s.current.querySelectorAll('[data-in="true"]'),D=12,A=(R=t.position)==null?void 0:R.includes("top"),L=0,V=0;Array.from(x).reverse().forEach((I,_)=>{let F=I;F.classList.add("Toastify__toast--stacked"),_>0&&(F.dataset.collapsed=`${i}`),F.dataset.pos||(F.dataset.pos=A?"top":"bot");let k=L*(i?.2:1)+(i?0:D*_);F.style.setProperty("--y",`${A?k:k*-1}px`),F.style.setProperty("--g",`${D}`),F.style.setProperty("--s",`${1-(i?V:0)}`),L+=F.offsetHeight,V+=.025})}},[i,u,n]),S.useEffect(()=>{function R(x){var D;let A=s.current;C(x)&&((D=A.querySelector('[tabIndex="0"]'))==null||D.focus(),r(!1),Yt.pause()),x.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(r(!0),Yt.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[C]),$.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(r(!1),Yt.pause())},onMouseLeave:E,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((R,x)=>{let D=x.length?{...f}:{...f,pointerEvents:"none"};return $.createElement("div",{tabIndex:-1,className:w(R),"data-stacked":n,style:D,key:`c-${R}`},x.map(({content:A,props:L})=>$.createElement(zZ,{...L,stacked:n,collapseAll:E,isIn:l(L.toastId,L.containerId),key:`t-${L.key}`},A)))}))}const F2=e=>{if(console.log(e),e instanceof vo)switch(e.code){case"auth/invalid-credential":return"Correo electrnico o contrasea invlidos";case"auth/email-already-in-use":return"El correo electrnico ya est en uso";default:return"Ocurri un error al iniciar sesin"}return"Ocurri un error al iniciar sesin"},jZ=()=>{const{setUser:e}=lh(),[t,n]=S.useState(""),[i,r]=S.useState(""),[s,o]=S.useState(!1),[l,u]=S.useState(!1),d=p=>{p.preventDefault(),u(!0),sZ(t,i).then(m=>{e(m),localStorage.setItem("user",JSON.stringify(m))}).catch(m=>{Yt.error(F2(m),{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{u(!1)})},f=()=>{o(p=>!p)};return N.jsxs(pp,{className:"d-flex align-items-center justify-content-center min-vh-100",children:[N.jsx(gp,{className:"w-100 justify-content-center",children:N.jsx(ol,{xs:12,sm:10,md:6,lg:4,children:N.jsxs(Pi,{className:"p-4 shadow",children:[N.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesin"}),N.jsxs(Tn,{onSubmit:d,children:[N.jsxs(Tn.Group,{className:"mb-3",controlId:"formEmail",children:[N.jsx(Tn.Label,{children:"Correo electrnico"}),N.jsx(Tn.Control,{type:"email",placeholder:"ejemplo@email.com",value:t,onChange:p=>n(p.target.value),required:!0})]}),N.jsxs(Tn.Group,{className:"mb-3",controlId:"formPassword",children:[N.jsx(Tn.Label,{children:"Contrasea"}),N.jsxs(vc,{children:[N.jsx(Tn.Control,{type:s?"text":"password",placeholder:"",value:i,onChange:p=>r(p.target.value),required:!0}),N.jsx($i,{variant:"outline-secondary",onClick:f,tabIndex:-1,children:s?N.jsx(d$,{size:20}):N.jsx(f$,{size:20})})]})]}),N.jsx("div",{className:"d-grid",children:N.jsx($i,{variant:"primary",type:"submit",disabled:l,children:l?N.jsx(Oc,{animation:"border",size:"sm",className:"me-2"}):"Ingresar"})})]})]})})}),N.jsx(I2,{})]})},$Z="/TutorIngles/assets/song1-C81d3HDJ.mp3",qZ="/TutorIngles/assets/song2-b_eX15j3.mp3",KZ="/TutorIngles/assets/song3-OOvYPbp8.mp3",YZ="/TutorIngles/assets/song4-CVRpB5kG.mp3",QZ="/TutorIngles/assets/song5-Cc3tgGiA.mp3",D_="/TutorIngles/assets/mapa-colombia-1Bl1cRkB.png",XZ="/TutorIngles/assets/choco-BBZz_lSB.png",ZZ="/TutorIngles/assets/narino-BPiHBDGg.png",JZ="/TutorIngles/assets/palenquera-CKdrs8GG.png",eJ="/TutorIngles/assets/nasa-Bgu4UTQT.png",tJ="/TutorIngles/assets/ni%C3%B1osikuani-CNppRRPB.png",A_=[{id:1,region:"Vichada",position:{x:650,y:490},avatarImage:tJ,text:"Hello, my name is Jomo and I belong to the Sikuani indigenous people. I am from Vichada and I am ten years old. My language is Sikuani. I like to fish, hunt, gather fruits, and live in harmony with nature. My favorite tradition is when we dance and sing el cacho de venado.",audioSrc:$Z},{id:2,region:"Cauca",position:{x:200,y:630},avatarImage:eJ,text:"Hello everyone. My name is Wiya, which means 'bird' in Nasa Yuwe. I am eleven years old and I speak Nasa Yuwe, Spanish, and English. I like to play palmo, a traditional game in my community. My favorite tradition is weaving ruanas and backpacks called kwetanderas.",audioSrc:qZ},{id:3,region:"Bolvar",position:{x:270,y:170},avatarImage:JZ,text:"Hi there. My name is Rosalina. I am twelve years old. I am from San Basilio de Palenque, Bolvar. I speak Spanish and Palenquera. I love designing colorful dresses with my grandmother and playing the marimba.",audioSrc:KZ},{id:4,region:"Nario",position:{x:140,y:720},avatarImage:ZZ,text:"Hello everyone. My name is Santiago. I am nine years old. I speak Spanish and English. I was born in Pasto, Nario. I love La Laguna de la Cocha and the Gold Museum. My favorite food is pusandao and paila ice cream.",audioSrc:YZ},{id:5,region:"Choc",position:{x:160,y:440},avatarImage:XZ,text:"Hello everyone. My name is Camila. I am ten years old. I was born in Quibd, Choc. I like to dance chirima and eat fish sancocho. I also love chontaduro with salt and sugar.",audioSrc:QZ}];function nJ(){const[e,t]=S.useState(null),[n,i]=S.useState(null),r=()=>{if(n&&(n.pause(),n.currentTime=0),e){const s=new Audio(e.audioSrc);s.play(),i(s)}};return S.useEffect(()=>()=>{n&&(n.pause(),n.currentTime=0)},[n]),S.useEffect(()=>{A_.forEach(s=>{new Audio(s.audioSrc).load()})},[]),N.jsxs("div",{className:"map-container",children:[N.jsx("img",{src:D_,alt:"Mapa de Colombia",className:"map-image",onError:s=>{const o=s.target;o.onerror=null,o.src=D_,console.error("Error loading map image")}}),A_.map(s=>N.jsx("button",{className:"map-point",style:{left:`${s.position.x}px`,top:`${s.position.y}px`},onClick:()=>t(s),"aria-label":`Ver avatar de ${s.region}`},s.id)),N.jsxs(pi,{show:!!e,onHide:()=>{n&&(n.pause(),n.currentTime=0),t(null)},centered:!0,onExited:()=>{n&&(n.pause(),n.currentTime=0,i(null))},children:[N.jsx(pi.Header,{closeButton:!0,children:N.jsx(pi.Title,{children:e?.region})}),N.jsx(pi.Body,{className:"text-center",children:e&&N.jsxs(N.Fragment,{children:[N.jsx("img",{src:e.avatarImage,alt:`Avatar de ${e.region}`,className:"avatar-image",onError:s=>{const o=s.target;o.onerror=null,o.src="/assets/default-avatar.png"}}),N.jsx("p",{className:"mt-3",children:e.text}),N.jsx($i,{variant:"primary",onClick:r,disabled:!e.audioSrc,children:n&&!n.paused?" Repetir":" Play"})]})})]})]})}var Uc=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const{frameworkOverrides:i}=this,r=l=>{const u=i?()=>i.wrapIncoming(l):l;t?this.dispatchAsync(u):u()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const l=new Set(s);for(const u of l)s?.has(u)&&r(()=>u(e))}const o=this.getGlobalListeners(t);if(o.size>0){const l=new Set(o);for(const u of l)r(()=>u(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function iJ(e,t){return t}function M2(e){return e?.getLocaleTextFunc()??iJ}function rJ(e,t,n,i){const r=t[n];return e.getLocaleTextFunc()(n,typeof r=="function"?r(i):r,i)}function Jo(e){return e==null||e===""?null:e}function Te(e){return e!=null&&e!==""}function mn(e){return!Te(e)}function DR(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function xp(e,t){const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function sJ(e,t,n=!1){const i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,l){return o>l?1:o<l?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var _2=new Set(["__proto__","constructor","prototype"]);function oJ(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(i=>!_2.has(i)))t(n,e[n])}}function qi(e,t,n=!0,i=!1){Te(t)&&oJ(t,(r,s)=>{let o=e[r];o!==s&&(i&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[r]=o),P_(s)&&P_(o)&&!Array.isArray(o)?qi(o,s,n,i):(n||s!==void 0)&&(e[r]=s))})}function Yf(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let r=e;for(let s=0;s<i.length;s++){if(r==null)return;r=r[i[s]]}return r}function P_(e){return typeof e=="object"&&e!==null}var $T=class dc{static applyGlobalGridOptions(t){if(!dc.gridOptions)return{...t};let n={};return qi(n,dc.gridOptions,!0,!0),dc.mergeStrategy==="deep"?qi(n,t,!0,!0):n={...n,...t},dc.gridOptions.context&&(n.context=dc.gridOptions.context),t.context&&(dc.mergeStrategy==="deep"&&n.context&&qi(t.context,n.context,!0,!0),n.context=t.context),n}};$T.gridOptions=void 0;$T.mergeStrategy="shallow";var k2=$T;function aJ(e){return k2.gridOptions?.[e]}var O2={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function Ts(e,t,n){n==null||typeof n=="string"&&n==""?L2(e,t):xs(e,t,n)}function xs(e,t,n){e.setAttribute(N2(t),n.toString())}function L2(e,t){e.removeAttribute(N2(t))}function N2(e){return`aria-${e}`}function Wc(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function lJ(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function cJ(e){return e.getAttribute("aria-label")}function Bd(e,t){Ts(e,"label",t)}function Dp(e,t){Ts(e,"labelledby",t)}function V2(e,t){Ts(e,"live",t)}function uJ(e,t){Ts(e,"atomic",t)}function dJ(e,t){Ts(e,"relevant",t)}function hJ(e,t){Ts(e,"invalid",t)}function fJ(e,t){Ts(e,"disabled",t)}function B2(e,t){Ts(e,"hidden",t)}function AR(e,t){xs(e,"expanded",t)}function pJ(e,t){xs(e,"setsize",t)}function gJ(e,t){xs(e,"posinset",t)}function mJ(e,t){xs(e,"rowcount",t)}function G2(e,t){xs(e,"rowindex",t)}function vJ(e,t){xs(e,"rowspan",t)}function CJ(e,t){xs(e,"colcount",t)}function H2(e,t){xs(e,"colindex",t)}function yJ(e,t){xs(e,"colspan",t)}function wJ(e,t){xs(e,"sort",t)}function bJ(e){L2(e,"sort")}function PR(e,t){Ts(e,"selected",t)}function SJ(e,t){Ts(e,"controls",t)}function EJ(e,t){SJ(e,t.id),Dp(t,e.id)}function I_(e,t){Ts(e,"owns",t)}function Ky(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var US,WS,jS,$S,IR,FR,qS;function iu(){return US===void 0&&(US=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),US}function z2(){return WS===void 0&&(WS=/(firefox)/i.test(navigator.userAgent)),WS}function U2(){return jS===void 0&&(jS=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),jS}function xc(){return $S===void 0&&($S=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),$S}function MR(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!z2())?null:t.toString()}function RJ(){if(qS!==void 0)return qS;if(!document.body)return-1;let e=1e6;const t=z2()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),qS=e,e}function TJ(){return FR==null&&W2(),FR}function W2(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(FR=n,IR=n===0)}function j2(){return IR==null&&W2(),IR}var xJ="[tabindex], input, select, button, textarea, [href]",$2="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function qT(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,$2),s=fo(e);return i&&!r&&s}function wn(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||B2(e,!t)}function DJ(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||B2(e,!t)}function Ap(e,t){const n="disabled",i=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);i(e);const r=e.querySelectorAll("input")??[];for(const s of r)i(s)}function Dc(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function ru(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:l,paddingRight:u,paddingBottom:d,paddingLeft:f,marginTop:p,marginRight:m,marginBottom:C,marginLeft:w,boxSizing:E}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(m||"0"),marginBottom:parseFloat(C||"0"),marginLeft:parseFloat(w||"0"),boxSizing:E}}function KT(e){const t=ru(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Pp(e){const t=ru(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function q2(e){const{height:t,marginBottom:n,marginTop:i}=ru(e);return Math.floor(t+n+i)}function DC(e){const{width:t,marginLeft:n,marginRight:i}=ru(e);return Math.floor(t+n+i)}function K2(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=ru(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function AC(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function PC(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Dr(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ca(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Y2(e){return!!e.offsetParent}function fo(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Y2(e)||window.getComputedStyle(e).visibility!=="visible")}function YT(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Ov(e){return()=>{const t=e();return t?Q2(t)||X2(t):!0}}function Q2(e){return e.clientWidth<e.scrollWidth}function X2(e){return e.clientHeight<e.scrollHeight}function IC(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ao(e,t)}function ao(e,t){t=QT(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Qf(e,t){t=QT(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function QT(e){return typeof e=="number"?`${e}px`:e}function XT(e){return e instanceof Node||e instanceof HTMLElement}function wr(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function fa(e,t,n){const r=aB(e).ResizeObserver,s=r?new r(n):null;return s?.observe(t),()=>s?.disconnect()}function pa(e,t){const n=aB(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var Z2="data-ref",KS;function F_(){return KS??(KS=document.createTextNode(" ")),KS.cloneNode()}function kn(e){const{attrs:t,children:n,cls:i,ref:r,role:s,tag:o}=e,l=document.createElement(o);if(i&&(l.className=i),r&&l.setAttribute(Z2,r),s&&l.setAttribute("role",s),t)for(const u of Object.keys(t))l.setAttribute(u,t[u]);if(n)if(typeof n=="string")l.textContent=n;else{let u=!0;for(const d of n)d&&(typeof d=="string"?(l.appendChild(document.createTextNode(d)),u=!1):typeof d=="function"?l.appendChild(d()):(u&&(l.appendChild(F_()),u=!1),l.append(kn(d)),l.appendChild(F_())))}return l}var M_={};function ZT(e,t){M_[t]||(e(),M_[t]=!0)}function jc(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Xf(e,...t){ZT(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function gd(e,...t){ZT(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var AJ={pending:!1,funcs:[]},PJ={pending:!1,funcs:[]};function _R(e,t="setTimeout",n){const i=t==="raf"?PJ:AJ;if(i.funcs.push(e),i.pending)return;i.pending=!0;const r=()=>{const s=i.funcs.slice();i.funcs.length=0,i.pending=!1,s.forEach(o=>o())};t==="raf"?pa(n,r):window.setTimeout(r,0)}function Ci(e,t,n){let i;return function(...r){const s=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(s,r)},n)}}function __(e,t){let n=0;return function(...i){const r=this,s=Date.now();s-n<t||(n=s,e.apply(r,i))}}function IJ(e,t,n=100,i){const r=Date.now();let s=null,o=!1;const l=()=>{const u=Date.now()-r>n;(e()||u)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};l(),o||(s=window.setInterval(l,10))}var J2="https://www.ag-grid.com",Pe="34.1.1",k_=2e3,O_=100,eB="_version_",tB=null,md=`${J2}/javascript-data-grid`;function FJ(e){tB=e}function MJ(e){md=e}function nB(e,t,n){return tB?.getConsoleMessage(e,t)??[LJ(e,t,n)]}function JT(e,t,n,i){e(`error #${t}`,...nB(t,n,i))}function _J(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function kJ(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=_J(e)),t}function FC(e){return e===void 0?"undefined":e===null?"null":e}function kR(e,t){return`${e}?${t.toString()}`}function OJ(e,t,n){const i=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let r=kR(e,t);for(const[s,o]of i){if(s===eB)continue;const l=r.length-n;if(l<=0)break;const u="...",d=l+u.length,f=o.length-d>O_?o.slice(0,o.length-d)+u:o.slice(0,O_)+u;t.set(s,f),r=kR(e,t)}return r}function iB(e,t){const n=new URLSearchParams;if(n.append(eB,Pe),t)for(const s of Object.keys(t))n.append(s,kJ(t[s]));const i=`${md}/errors/${e}`,r=kR(i,n);return r.length<=k_?r:OJ(i,n,k_)}var LJ=(e,t,n)=>{const i=iB(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Se(...e){JT(Xf,e[0],e[1])}function Xt(...e){JT(gd,e[0],e[1])}function Vf(e,t,n){JT(gd,e,t,n)}function NJ(e,t){const n=t[0];return`error #${n} `+nB(n,t[1],e).join(" ")}function lo(...e){return NJ(void 0,e)}function rB(e,t){return e.get("rowModelType")===t}function Hn(e,t){return rB(e,"clientSide")}function su(e,t){return rB(e,"serverSide")}function wi(e,t){return e.get("domLayout")===t}function Ac(e){return _C(e)!==void 0}function sB(e){return typeof e.get("getRowHeight")=="function"}function VJ(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Rl(e,t,n=!1,i){const{gos:r,environment:s}=e;if(i==null&&(i=s.getDefaultRowHeight()),sB(r)){if(n)return{height:i,estimated:!0};const u={node:t,data:t.data},d=r.getCallback("getRowHeight")(u);if(OR(d))return d===0&&Se(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&r.get("masterDetail"))return BJ(r);const o=r.get("rowHeight");return{height:o&&OR(o)?o:i,estimated:!1}}function BJ(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return OR(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Pc(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||mn(i))return t.getDefaultRowHeight();const r=t.refreshRowHeightVariable();return r!==-1?r:(Se(24),t.getDefaultRowHeight())}function OR(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function oB(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function $c(e,t,n,i){const r=e.getDomDataKey();let s=t[r];mn(s)&&(s={},t[r]=s),s[n]=i}function ri(e){const{gos:t,eGridDiv:n}=e;let i=null;const r=t.get("getDocument");return r&&Te(r)?i=r():n&&(i=n.ownerDocument),i&&Te(i)?i:document}function aB(e){return ri(e).defaultView||window}function Ip(e){return e.eGridDiv.getRootNode()}function Sn(e){return Ip(e).activeElement}function ex(e){let t=null,n=null;try{t=ri(e).fullscreenElement}catch{}finally{t||(t=Ip(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function GJ(e){return ex(e)?.clientWidth??(window.innerWidth||-1)}function HJ(e){return ex(e)?.clientHeight??(window.innerHeight||-1)}function zJ(e,t,n){const r=e.getBoundingClientRect().height,s=GJ(n)-2,o=HJ(n)-2;if(!e.offsetParent)return;const u=K2(e.offsetParent),{clientY:d,clientX:f}=t;let p=d-u.top-r/2,m=f-u.left-10;const C=ri(n),w=C.defaultView||window,E=w.pageYOffset||C.documentElement.scrollTop,R=w.pageXOffset||C.documentElement.scrollLeft;s>0&&m+e.clientWidth>s+R&&(m=s+R-e.clientWidth),m<0&&(m=0),o>0&&p+e.clientHeight>o+E&&(p=o+E-e.clientHeight),p<0&&(p=0),e.style.left=`${m}px`,e.style.top=`${p}px`}function lB(e){const t=Sn(e);return t===null||t===ri(e).body}function vd(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function cB(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||wi(e,"print"))}function Ys(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function LR(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function uB(e){return e.get("grandTotalRow")}function dB(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function hB(e,t,n){return!!t.group&&!t.footer&&dB(e,n)}function Gd(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(ZT(()=>Se(25,{id:i}),"getRowIdString"),i=String(i)),i}}function UJ(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function WJ(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Cd(e){return e?.checkboxes??!0}function Lv(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function MC(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function YS(e){return e?.hideDisabledCheckboxes??!1}function jJ(e){return typeof e.get("rowSelection")!="string"}function Tl(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function fB(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function $J(e){const t=fB(e);return t===!0||t==="enableSelection"}function qJ(e){const t=fB(e);return t===!0||t==="enableDeselection"}function NR(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function _C(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function kC(e){return _C(e)==="multiRow"}function KJ(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function OC(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function pB(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Fp(e){const t=OC(e);return t==="descendants"||t==="filteredDescendants"}function L_(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function YJ(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function br(e){return e.get("columnMenu")==="legacy"}function QJ(e){return!br(e)}function XJ(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function ZJ(e,t,n){typeof e!="object"&&(e={});const i={...e};return n.forEach(r=>{const s=t[r];typeof s<"u"&&(i[r]=s)}),i}function JJ(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],i=!0}),!i)return;const r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function qe(e,t){return e.addGridCommonParams(t)}function gB(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function Nv(e,t){return e[t]??e.gridOptions?.[t]??aJ(t)??O2[t]}var mB="__ag_Grid_Stop_Propagation",eee=["touchstart","touchend","touchmove","touchcancel","scroll"],tee=["wheel"],QS={};function qc(e){e[mB]=!0}function ea(e){return e[mB]===!0}var vB=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof QS[n]=="boolean")return QS[n];const i=document.createElement(e[n]||"div");return n="on"+n,QS[n]=n in i}})();function CB(e,t,n){let i=t;for(;i;){const r=oB(e,i,n);if(r)return r;i=i.parentElement}return null}function nee(e,t){return!t||!e?!1:ree(t).indexOf(e)>=0}function iee(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function ree(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():iee(t)}function see(e,t,n,i){const r=yB(n);let s;r!=null&&(s={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,s)}var yB=e=>{const t=eee.includes(e),n=tee.includes(e);if(t)return!0;if(n)return!1},ue=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Uc),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return oee(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?see(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}const s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return M2(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function oee(e){return e.__addEventListener!==void 0}var aee=/[&<>"']/g,lee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ch(e){return e?.toString().toString()??null}function Vv(e){return ch(e)?.replace(aee,t=>lee[t])??null}var cee={resizable:!0,sortable:!0},uee=0;function wB(){return uee++}function xl(e){return e instanceof ou}var ou=class extends ue{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=wB(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Uc,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Vv(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);const r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=Te(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=Te(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const i=e.recreateColDef(this.colDef);this.setColDef(i,i,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return qe(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??cee[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return qe(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return mn(this.sort)}isSorting(){return Te(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return Se(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return qe(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(mn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(mn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&qi(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ai(e){return e instanceof Bv}var Bv=class extends ue{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=wB(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)xl(t)?e(t):Ai(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{xl(t)?e.push(t):Ai(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,o=i.length;s<o;s++){const l=i[s];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{Ai(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},dee={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function N_(e,t,n){const i={},r=e.gos;return Object.assign(i,r.get("defaultColGroupDef")),Object.assign(i,t),r.validateColDef(i,n),i}var hee=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=DR(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){const r=String(i);return e&&n>0&&Se(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}n++}}},LC=Object.freeze([]);function Qt(e){if(e?.length)return e[e.length-1]}function au(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function ev(e,t){if(e)for(const n of e)t(n)}function as(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function V_(e,t,n){for(let i=0;i<t.length;i++)as(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var Yy="ag-Grid-AutoColumn",bB="ag-Grid-SelectionColumn",SB="ag-Grid-RowNumbersColumn";function EB(e){const t=[],n=i=>{for(let r=0;r<i.length;r++){const s=i[r];xl(s)?t.push(s):Ai(s)&&n(s.getChildren())}};return n(e),t}function zo(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function NC(e,t,n){const i={};if(!t)return;ta(null,t,s=>{i[s.getInstanceId()]=s}),n&&ta(null,n,s=>{i[s.getInstanceId()]=null});const r=Object.values(i).filter(s=>s!=null);e.context.destroyBeans(r)}function tx(e){return e.getId().startsWith(Yy)}function _l(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(bB)??!1}function hl(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(SB)??!1}function fee(e){return _l(e)||hl(e)}function VC(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function pee(e,t){return au(e,t,(n,i)=>n.getColId()===i.getColId())}function gee(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function yd(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function RB(e,t){const n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var mee=(e,t)=>(n,i)=>{const r={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],s=!0),Te(i)&&e[i]!==void 0&&(r.value2=e[i],s=!0)),!s&&t&&(t[n]!==void 0&&(r.value1=t[n]),Te(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function vee(e,t=null,n,i,r){const s=new hee,{existingCols:o,existingGroups:l,existingColKeys:u}=Cee(i);s.addExistingKeys(u);const d=TB(e,t,0,n,o,s,l,r),{colGroupSvc:f}=e,p=f?.findMaxDepth(d,0)??0,m=f?f.balanceColumnTree(d,0,p,s):d;return ta(null,m,(w,E)=>{Ai(w)&&w.setupExpandable(),w.originalParent=E}),{columnTree:m,treeDepth:p}}function Cee(e){const t=[],n=[],i=[];return e&&ta(null,e,r=>{if(Ai(r)){const s=r;n.push(s)}else{const s=r;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function TB(e,t,n,i,r,s,o,l){if(!t)return[];const{colGroupSvc:u}=e,d=new Array(t.length);for(let f=0;f<d.length;f++){const p=t[f];u&&Ree(p)?d[f]=u.createProvidedColumnGroup(i,p,n,r,s,o,l):d[f]=yee(e,i,p,r,s,l)}return d}function yee(e,t,n,i,r,s){const o=bee(n,i);o&&i?.splice(o.idx,1);let l=o?.column;if(l){const u=VR(e,n,l.getColId());l.setColDef(u,n,s),wee(e,l,u,s)}else{const u=r.getUniqueKey(n.colId,n.field),d=VR(e,n,u);l=new ou(d,n,u,t),e.context.createBean(l)}return e.dataTypeSvc?.addColumnListeners(l),l}function xB(e,t,n,i,r,s,o,l){const{sortSvc:u,pinnedCols:d,colFlex:f}=e;n!==void 0&&t.setVisible(!n,l),u&&(u.updateColSort(t,i,l),r!==void 0&&u.setColSortIndex(t,r)),s!==void 0&&d?.setColPinned(t,s),o!==void 0&&f?.setColFlex(t,o)}function wee(e,t,n,i){xB(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const s=t.getActualWidth();t.setActualWidth(s,i)}}function bee(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function VR(e,t,n,i){const{gos:r,dataTypeSvc:s}=e,o={},l=r.get("defaultColDef");qi(o,l,!1,!0);const u=See(e,o,t,n);u&&Eee(e,u,o);const d=o.cellDataType;qi(o,t,!1,!0),d!==void 0&&(o.cellDataType=d);const f=r.get("autoGroupColumnDef"),p=Ys(r);return t.rowGroup&&f&&p&&qi(o,{sort:f.sort,initialSort:f.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),r.validateColDef(o,n,i),o}function See(e,t,n,i){const r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),s=n.type??r??t.type;return t.type=s,s?VC(s):void 0}function Eee(e,t,n){if(!t.length)return;const i=Object.assign({},dee),r=e.gos.get("columnTypes")||{};for(const s of Object.keys(r)){const o=r[s];s in i?Se(34,{key:s}):(o.type&&Se(35),i[s]=o)}t.forEach(s=>{const o=i[s.trim()];o?qi(n,o,!1,!0):Se(36,{t:s})})}function Ree(e){return e.children!==void 0}function ta(e,t,n){if(t)for(let i=0;i<t.length;i++){const r=t[i];Ai(r)&&ta(r,r.getChildren(),n),n(r,e)}}function DB(e,t){const n=[],i=[],r=[];return e.forEach(o=>{const l=o.getColDef().lockPosition;l==="right"?r.push(o):l==="left"||l===!0?n.push(o):i.push(o)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function AB(e,t){let n=!0;return ta(null,t,i=>{if(!Ai(i))return;const r=i,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;const l=[];r.getLeafColumns().forEach(m=>{const C=e.indexOf(m);l.push(C)});const u=Math.max.apply(Math,l),d=Math.min.apply(Math,l),f=u-d,p=r.getLeafColumns().length-1;f>p&&(n=!1)}),n}function PB(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function IB(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=PB(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function Tee(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=PB(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function xee(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function Hd(e,t,n,i,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function ws(e,t,n){const{colModel:i,rowGroupColsSvc:r,pivotColsSvc:s,autoColSvc:o,selectionColSvc:l,colAnimation:u,visibleCols:d,pivotResultCols:f,environment:p,valueColsSvc:m,eventSvc:C,gos:w}=e,E=i.getColDefCols()??[],R=l?.getColumns();if(!E?.length&&!R?.length)return!1;if(t?.state&&!t.state.forEach)return Se(32),!1;const x=(V,I,_,F,k)=>{if(!V)return;const O=mee(I,t.defaultState),B=O("flex").value1;if(xB(e,V,O("hide").value1,O("sort").value1,O("sortIndex").value1,O("pinned").value1,B,n),B==null){const U=O("width").value1;if(U!=null){const G=V.getColDef().minWidth??p.getDefaultColumnMinWidth();G!=null&&U>=G&&V.setActualWidth(U,n)}}k||!V.isPrimary()||(m?.syncColumnWithState(V,n,O),r?.syncColumnWithState(V,n,O,_),s?.syncColumnWithState(V,n,O,F))},D=(V,I,_)=>{const F=FB(e,n),k=I.slice(),O={},B={},U=[],G=[],de=[];let pe=0;const q=r?.columns.slice()??[],ne=s?.columns.slice()??[];V.forEach(z=>{const Q=z.colId;if(Q.startsWith(Yy)){U.push(z),de.push(z);return}if(_l(Q)){G.push(z),de.push(z);return}const X=_(Q);X?(x(X,z,O,B,!1),as(k,X)):(de.push(z),pe+=1)});const re=z=>x(z,null,O,B,!1);k.forEach(re),r?.sortColumns(B_.bind(r,O,q)),s?.sortColumns(B_.bind(s,B,ne)),i.refreshCols(!1);const ge=(z,Q,J=[])=>{Q.forEach(X=>{const fe=z(X.colId);as(J,fe),x(fe,X,null,null,!0)}),J.forEach(re)};return ge(z=>o?.getColumn(z)??null,U,o?.getColumns()?.slice()),ge(z=>l?.getColumn(z)??null,G,l?.getColumns()?.slice()),Aee(t,i,w),d.refresh(n),C.dispatchEvent({type:"columnEverythingChanged",source:n}),F(),{unmatchedAndAutoStates:de,unmatchedCount:pe}};u?.start();let{unmatchedAndAutoStates:A,unmatchedCount:L}=D(t.state||[],E,V=>i.getColDefCol(V));if(A.length>0||Te(t.defaultState)){const V=f?.getPivotResultCols()?.list??[];L=D(A,V,I=>f?.getPivotResultCol(I)??null).unmatchedCount}return u?.finish(),L===0}function Dee(e,t){const{colModel:n,autoColSvc:i,selectionColSvc:r,eventSvc:s,gos:o}=e,l=n.getColDefCols();if(!l?.length)return;const u=n.getColDefColTree(),d=EB(u),f=[];let p=1e3,m=1e3;const C=D=>{const A=MB(D);mn(A.rowGroupIndex)&&A.rowGroup&&(A.rowGroupIndex=p++),mn(A.pivotIndex)&&A.pivot&&(A.pivotIndex=m++),f.push(A)};i?.getColumns()?.forEach(C),r?.getColumns()?.forEach(C),d?.forEach(C),ws(e,{state:f},t);const w=i?.getColumns()??[],x=[...r?.getColumns()??[],...w,...l].map(D=>({colId:D.colId}));ws(e,{state:x,applyOrder:!0},t),s.dispatchEvent(qe(o,{type:"columnsReset",source:t}))}function FB(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:s,sortSvc:o,eventSvc:l}=e,u={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},d=BC(e),f={};return d.forEach(p=>{f[p.colId]=p}),()=>{const p=(I,_,F,k)=>{const O=_.map(k),B=F.map(k);if(au(O,B))return;const G=new Set(_);F.forEach(pe=>{G.delete(pe)||G.add(pe)});const de=[...G];l.dispatchEvent({type:I,columns:de,column:de.length===1?de[0]:null,source:t})},m=I=>{const _=[];return s.forAllCols(F=>{const k=f[F.getColId()];k&&I(k,F)&&_.push(F)}),_},C=I=>I.getColId();p("columnRowGroupChanged",u.rowGroupColumns,n?.columns??[],C),p("columnPivotChanged",u.pivotColumns,i?.columns??[],C);const E=m((I,_)=>{const F=I.aggFunc!=null,k=F!=_.isValueActive(),O=F&&I.aggFunc!=_.getAggFunc();return k||O});E.length>0&&xee(l,"columnValueChanged",E,t),Hd(l,m((I,_)=>I.width!=_.getActualWidth()),!0,t),IB(l,m((I,_)=>I.pinned!=_.getPinned()),t),Tee(l,m((I,_)=>I.hide==_.isVisible()),t);const L=m((I,_)=>I.sort!=_.getSort()||I.sortIndex!=_.getSortIndex());L.length>0&&o?.dispatchSortChangedEvents(t,L);const V=BC(e);Iee(d,V,t,s,l)}}function BC(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(mn(r)||!t.isAlive())return[];const s=n?.columns,o=i?.columns,l=[],u=f=>{const p=f.isRowGroupActive()&&s?s.indexOf(f):null,m=f.isPivotActive()&&o?o.indexOf(f):null,C=f.isValueActive()?f.getAggFunc():null,w=f.getSort()!=null?f.getSort():null,E=f.getSortIndex()!=null?f.getSortIndex():null;l.push({colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:w,sortIndex:E,aggFunc:C,rowGroup:f.isRowGroupActive(),rowGroupIndex:p,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null})};t.forAllCols(f=>u(f));const d=new Map(t.getCols().map((f,p)=>[f.getColId(),p]));return l.sort((f,p)=>{const m=d.has(f.colId)?d.get(f.colId):-1,C=d.has(p.colId)?d.get(p.colId):-1;return m-C}),l}function MB(e){const t=(w,E)=>w??E??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),l=t(n.width,n.initialWidth),u=t(n.flex,n.initialFlex);let d=t(n.rowGroupIndex,n.initialRowGroupIndex),f=t(n.rowGroup,n.initialRowGroup);d==null&&(f==null||f==!1)&&(d=null,f=null);let p=t(n.pivotIndex,n.initialPivotIndex),m=t(n.pivot,n.initialPivot);p==null&&(m==null||m==!1)&&(p=null,m=null);const C=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:l,flex:u,rowGroup:f,rowGroupIndex:d,pivot:m,pivotIndex:p,aggFunc:C}}function Aee(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),Pee(t.cols,i,t,n)}function Pee(e,t,n,i){if(e==null)return;let r=[];const s={};t.forEach(l=>{if(s[l])return;const u=e.map[l];u&&(r.push(u),s[l]=!0)});let o=0;if(e.list.forEach(l=>{const u=l.getColId();if(s[u]!=null)return;u.startsWith(Yy)?r.splice(o++,0,l):r.push(l)}),r=DB(r,i),!AB(r,n.getColTree())){Se(39);return}e.list=r}function Iee(e,t,n,i,r){const s={};t.forEach(f=>s[f.colId]=f);const o={};e.forEach(f=>{s[f.colId]&&(o[f.colId]=!0)});const l=e.filter(f=>o[f.colId]),u=t.filter(f=>o[f.colId]),d=[];u.forEach((f,p)=>{const m=l&&l[p];if(m&&m.colId!==f.colId){const C=i.getCol(m.colId);C&&d.push(C)}}),d.length&&r.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:n})}var B_=(e,t,n,i)=>{const r=e[n.getId()],s=e[i.getId()],o=r!=null,l=s!=null;if(o&&l)return r-s;if(o)return-1;if(l)return 1;const u=t.indexOf(n),d=t.indexOf(i),f=u>=0,p=d>=0;return f&&p?u-d:f?-1:1},Fee=class extends ue{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(yd(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),yd(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:s,valueColsSvc:o,visibleCols:l,eventSvc:u}=t,d=this.colDefs?FB(t,e):void 0;n?.expire();const f=this.colDefCols?.list,p=this.colDefCols?.tree,m=vee(t,this.colDefs,!0,p,e);NC(t,this.colDefCols?.tree,m.columnTree);const C=m.columnTree,w=m.treeDepth,E=EB(C),R={};E.forEach(x=>R[x.getId()]=x),this.colDefCols={tree:C,treeDepth:w,list:E,map:R},r?.extractCols(e,f),s?.extractCols(e,f),o?.extractCols(e,f),this.ready=!0,this.refreshCols(!0),l.refresh(e),u.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:s,pivotResultCols:o,showRowGroupCols:l,rowAutoHeight:u,visibleCols:d,colViewport:f,eventSvc:p}=this.beans,m=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,i,r],m);const C=VJ(this.gos,this.showingPivotResult);(!e||C)&&this.restoreColOrder(m),this.positionLockedCols(m),l?.refresh(),s?.refreshCols(),this.setColSpanActive(),u?.setAutoHeightActive(m),d.clear(),f.clear(),!au(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:i,list:r,tree:s,treeDepth:o}=n??t;return this.cols={list:r.slice(),map:{...i},tree:s.slice(),treeDepth:o},n&&(n.list.some(u=>this.cols?.map[u.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,i=this.isPivotMode()&&!this.showingPivotResult,r=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(u=>{const d=tx(u);if(i){const f=o?.includes(u);return d||f||r&&_l(u)||s&&hl(u)}else return d||u.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){ws(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(p=>e.map[p.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const i=p=>{const m=p.getOriginalParent();return m?m.getChildren().length>1?!0:i(m):!1};if(!n.some(p=>i(p))){const p=new Set(n);for(const m of e.list)p.has(m)||n.push(m);e.list=n;return}const r=new Map;for(let p=0;p<n.length;p++){const m=n[p];r.set(m,p)}const s=e.list.filter(p=>!r.has(p));if(s.length===0){e.list=n;return}const o=(p,m)=>{const C=m?m.getOriginalParent():p.getOriginalParent();if(!C)return null;let w=null,E=null;for(const R of C.getChildren())if(!(R===m||R===p)){if(R instanceof ou){const x=r.get(R);if(x==null)continue;(w==null||w<x)&&(w=x,E=R);continue}R.forEachLeafColumn(x=>{const D=r.get(x);D!=null&&(w==null||w<D)&&(w=D,E=x)})}return E??o(p,C)},l=[],u=new Map;for(const p of s){const m=o(p,null);if(m==null){l.push(p);continue}const C=u.get(m);C===void 0?u.set(m,p):Array.isArray(C)?C.push(p):u.set(m,[C,p])}const d=new Array(e.list.length);let f=d.length-1;for(let p=l.length-1;p>=0;p--)d[f--]=l[p];for(let p=n.length-1;p>=0;p--){const m=n[p],C=u.get(m);if(C)if(Array.isArray(C))for(let w=C.length-1;w>=0;w--){const E=C[w];d[f--]=E}else d[f--]=C;d[f--]=m}e.list=d}positionLockedCols(e){e.list=DB(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=yd(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){NC(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;ev(this.colDefCols?.list,e),ev(n?.columns?.list,e),ev(i?.columns?.list,e),ev(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<i.length;r++)if(RB(i[r],e))return i[r];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},_B=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},uh=class extends ue{};function Cg(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var yg=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.toggleCss(r,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},Mee=0,Ue=null,an=class extends ue{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Mee++,this.cssManager=new yg(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(Z2):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const r=this[t];if(r===Ue)this[t]=i??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;const r=this.createComponentFromElement(i,s=>{const o=s.getGui();if(o)for(const l of i.attributes??[])o.setAttribute(l.name,l.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);r.addItems(s)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,r=this.getDataRefAttribute(e),s=i.indexOf("AG-")===0,o=s?this.componentSelectors.get(i):null;let l=null;if(o){const u=n&&r?n[r]:void 0;l=new o.component(u),l.setParentComponent(this),this.createBean(l,null,t)}else if(s)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,l),l}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=YT(e):i=kn(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){const s=t[r];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),XT(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;DJ(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;wn(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function kB(e){return typeof e=="object"&&!!e.component}var Mt=class Bf{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new Bf(n=>{let i=t.length;const r=new Array(i);t.forEach((s,o)=>{s.then(l=>{r[o]=l,i--,i===0&&n(r)})})}):Bf.resolve()}static resolve(t=null){return new Bf(n=>n(t))}then(t){return new Bf(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function _ee(e){return e?e.prototype&&"getGui"in e.prototype:!1}function OB(e,t,n,i){const{name:r}=n;let s,o,l,u,d,f;if(t){const p=t,m=p[r+"Selector"],C=m?m(i):null,w=E=>{typeof E=="string"?s=E:E!=null&&E!==!0&&(e.isFrameworkComponent(E)?l=E:o=E)};C?(w(C.component),u=C.params,d=C.popup,f=C.popupPosition):w(p[r])}return{compName:s,jsComp:o,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:f}}var kee=class extends ue{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){const{name:s,cellRenderer:o}=t;let{compName:l,jsComp:u,fwComp:d,paramsFromSelector:f,popupFromSelector:p,popupPositionFromSelector:m}=OB(this.beans.frameworkOverrides,e,t,i),C,w;const E=A=>{const L=this.registry.getUserComponent(s,A);L&&(u=L.componentFromFramework?void 0:L.component,d=L.componentFromFramework?L.component:void 0,C=L.params,w=L.processParams)};if(l!=null&&E(l),u==null&&d==null&&n!=null&&E(n),u&&o&&!_ee(u)&&(u=this.agCompUtils?.adaptFunction(t,u)),!u&&!d){const{validation:A}=this.beans;r&&(l!==n||!n)?l?A?.isProvidedUserComp(l)||Xt(50,{compName:l}):n?A||Xt(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):Xt(216,{name:s}):n&&!A&&Xt(146,{comp:n});return}const R=this.mergeParams(e,t,i,f,C,w),x=u==null,D=u??d;return{componentFromFramework:x,componentClass:D,params:R,type:t,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(D,x,R,t)}}newAgStackInstance(e,t,n,i){const r=!t;let s;r?s=new e:s=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);const o=s.init?.(n);return o==null?Mt.resolve(s):o.then(()=>s)}mergeParams(e,t,n,i=null,r,s){const o={...n,...r},l=e,u=l&&l[t.name+"Params"];if(typeof u=="function"){const d=u(n);qi(o,d)}else typeof u=="object"&&qi(o,u);return qi(o,i),s?s(o):o}},Oee={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},Lee={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Nee={name:"headerComponent",optionalMethods:["refresh"]},Vee={name:"innerHeaderComponent"},Bee={name:"innerHeaderGroupComponent"},Gee={name:"headerGroupComponent"},Hee={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},zee={name:"loadingCellRenderer",cellRenderer:!0},Uee={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Wee={name:"loadingOverlayComponent",optionalMethods:["refresh"]},jee={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},$ee={name:"tooltipComponent"},nx={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},qee={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Kee={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Yee={name:"loadingCellRenderer",cellRenderer:!0},Qee={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Xee={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Zee(e,t){return e.getCompDetailsFromGridOptions(Lee,"agDragAndDropImage",t,!0)}function Jee(e,t,n){return e.getCompDetails(t,Nee,"agColumnHeader",n)}function ete(e,t,n){return e.getCompDetails(t,Vee,void 0,n)}function tte(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Gee,"agColumnGroupHeader",t)}function nte(e,t,n){return e.getCompDetails(t,Bee,void 0,n)}function ite(e,t){return e.getCompDetailsFromGridOptions(Kee,void 0,t,!0)}function rte(e,t){return e.getCompDetailsFromGridOptions(Yee,"agLoadingCellRenderer",t,!0)}function ste(e,t){return e.getCompDetailsFromGridOptions(Qee,"agGroupRowRenderer",t,!0)}function ote(e,t){return e.getCompDetailsFromGridOptions(Xee,"agDetailCellRenderer",t,!0)}function G_(e,t,n){return e.getCompDetails(t,Hee,void 0,n)}function H_(e,t,n){return e.getCompDetails(t,zee,"agSkeletonCellRenderer",n,!0)}function LB(e,t,n){return e.getCompDetails(t,Uee,"agCellEditor",n,!0)}function ate(e,t,n,i){const r=t.filter;return kB(r)&&(t={filter:r.component,filterParams:t.filterParams}),e.getCompDetails(t,nx,i,n,!0)}function lte(e,t,n){return e.getCompDetails(t,Oee,"agDateInput",n,!0)}function cte(e,t){return e.getCompDetailsFromGridOptions(Wee,"agLoadingOverlay",t,!0)}function ute(e,t){return e.getCompDetailsFromGridOptions(jee,"agNoRowsOverlay",t,!0)}function dte(e,t){return e.getCompDetails(t.colDef,$ee,"agTooltipComponent",t,!0)}function hte(e,t,n,i){return e.getCompDetails(t,qee,i,n)}function NB(e,t){return OB(e,t,nx)}function XS(e,t,n){return e.mergeParams(t,nx,n)}function Mp(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var VB=new Set,GC={},Ic={},Gv,BB=!1,GB=!1,fte=!1;function pte(e){const[t,n]=e.version.split(".")||[],[i,r]=Gv.split(".")||[];return t===i&&n===r}function gte(e){Gv||(Gv=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?pte(e)||gd(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Gv}.`)):gd(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||gd(`${n.message}`)}}function _p(e,t,n=!1){n||(BB=!0),gte(e);const i=e.rowModels??["all"];VB.add(e);let r;t!==void 0?(GB=!0,Ic[t]===void 0&&(Ic[t]={}),r=Ic[t]):r=GC,i.forEach(s=>{r[s]===void 0&&(r[s]={}),r[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>_p(s,t,n))}function mte(e){delete Ic[e]}function BR(e,t,n){const i=r=>!!GC[r]?.[e]||!!Ic[t]?.[r]?.[e];return i(n)||i("all")}function ix(){return GB}function vte(e,t){const n=Ic[e]??{};return[...Object.values(GC.all??{}),...Object.values(n.all??{}),...Object.values(GC[t]??{}),...Object.values(n[t]??{})]}function Cte(){return new Set(VB)}function yte(e,t){const n=Ic[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function wte(){return BB}function bte(){return fte}var Ste=class{static register(e){_p(e,void 0)}static registerModules(e){e.forEach(t=>_p(t,void 0))}},Ete=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function Rte(e){return typeof e=="object"&&!!e.getComp}var Tte=class extends Ete{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),mte(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},xte=class extends ue{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new HB,this.rowValidations=new zB,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),i=e.pinnedSibling,r=t&&i&&this.getEditRow(i);if(!n&&!r)return e.data;const s=Object.assign({},e.data),o=(l,u)=>l.forEach(({pendingValue:d},f)=>{d!==ls&&(u[f.getColId()]=d)});return n&&o(n,s),r&&o(r,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,i)=>t.set(i,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const i=new Map;t.forEach((r,s)=>i.set(s,{...r})),this.edits.set(n,i)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const i=this._getEdit(e);i&&(i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed")}else this.getEditRow(t)?.forEach(i=>{i.editorValue=void 0,i.pendingValue=i.sourceValue,i.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,i)=>{for(const r of n.keys())t.push({rowNode:i,column:r,...n.get(r)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:i}=e,{withOpenEditor:r}=t;if(n){const s=this.getEditRow(n,t);return s?i?r?this.getEdit(e)?.state==="editing":s.has(i)??!1:s.size!==0?r?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return r?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{editorValue:void 0,pendingValue:ls,sourceValue:this.beans.valueSvc.getValue(i,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},HB=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},zB=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Dte(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function UB(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function Ate(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Te(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function Pte(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Ite(e){let t=0,n;const{pinnedRowModel:i,rowModel:r,pageBounds:s}=e;return i?.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=s.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function Fte(e){let t,n=null;const{pinnedRowModel:i,pageBounds:r}=e,s=i?.getPinnedBottomRowCount(),o=i?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function ua(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Gf(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function Mte(e,t,n){const{rowModel:i,pinnedRowModel:r}=e;let s;return s??(s=i?.getRowNode(t)),n?s??(s=r?.getPinnedRowById(t,n)):(s??(s=r?.getPinnedRowById(t,"top")),s??(s=r?.getPinnedRowById(t,"bottom"))),s}function HC(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(n===0)return i==="top"?null:i==="bottom"&&o.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const l=i?void 0:o.getRow(n);return WB(e,l,!0)??{rowIndex:n-1,rowPinned:i}}function z_(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:s,rowModel:o}=e;if(_te(e,t))return i==="bottom"?null:i==="top"&&o.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const l=i?void 0:o.getRow(n);return WB(e,l)??{rowIndex:n+1,rowPinned:i}}function WB(e,t,n=!1){const{gos:i,rowRenderer:r}=e;if(!t?.sticky||!cB(i))return;const s=r.getStickyTopRowCtrls(),o=r.getStickyBottomRowCtrls(),l=!o.some(p=>p.rowNode.rowIndex===t.rowIndex),u=l?s:o,d=(n?-1:1)*(l?-1:1);let f;for(let p=0;p<u.length;p++)if(u[p].rowNode.rowIndex===t.rowIndex){f=u[p+d];break}return f?{rowIndex:f.rowNode.rowIndex,rowPinned:null}:void 0}function _te(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:s}=e;return n==="top"?(r?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(r?.getPinnedBottomRowCount()??0)-1<=i:s.getLastRow()<=i}function rx(e,t={}){const{rowIndex:n,rowId:i,rowCtrl:r,rowPinned:s}=t;if(r)return r;const{rowModel:o,rowRenderer:l}=e;let{rowNode:u}=t;return u||(i?u=Mte(e,i,s):n!=null&&(u=o.getRow(n))),l.getRowCtrls(u?[u]:[])?.[0]}function pn(e,t={}){const{cellCtrl:n,colId:i,columnId:r,column:s}=t;if(n)return n;const o=e.colModel.getCol(i??r??GR(s)),l=t.rowCtrl??rx(e,t),u=l?.getCellCtrl(o)??void 0;if(u)return u;const d=t.rowNode??l?.rowNode;if(d)return e.rowRenderer.getCellCtrls([d],[o])?.[0]}function U_(e){const{editSvc:t}=e;t?.isBatchEditing()?wd(e):t?.stopEditing(void 0,{source:"api"})}function kte(e,t,n){const{gos:i,popupSvc:r}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const l=o.relatedTarget;if(MR(l)===null){U_(t);return}let u=n.some(d=>d.contains(l))&&nG(i,l);u||(u=!!r&&(r.getActivePopups().some(d=>d.contains(l))||r.isElementWithinCustomPopup(l))),u||U_(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function GR(e){if(e)return typeof e=="string"?e:e.getColId()}var ls=Symbol("unedited");function jB(e,t={}){const n=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const r of i){const s=r.comp?.getCellEditor();s&&n.push({ctrl:r,editor:Mp(s)})}return n}var Ote=(e,t={})=>jB(e,t).map(n=>n.editor);function Lte(e,t,n,i,r,s){t.length===0&&n?.rowNode&&n?.column&&zd(e,n,{key:i,event:r,cellStartedEdit:s});const{valueSvc:o,editSvc:l,editModelSvc:u}=e,{rowNode:d,column:f}=n??{};for(const p of t){const{rowNode:m,column:C}=p,w=pn(e,p);if(!w){if(m&&C){const R=o.getValue(C,m,void 0,"api"),A=(n?.rowNode===m&&n?.column===C&&i||void 0)??l?.getCellDataValue(p,!1)??o.getValueForDisplay(C,m)?.value??R??ls;u?.setEdit(p,{pendingValue:A,sourceValue:R,state:"editing"})}continue}const E=s&&d===w.rowNode&&w.column===f;zd(e,{rowNode:d,column:w.column},{key:E?i:null,event:E?r:null,cellStartedEdit:E})}}function fl({pendingValue:e,sourceValue:t}){return e===ls&&(e=t),e!==t}function zd(e,t,n){const{key:i,event:r,cellStartedEdit:s,silent:o}=n??{},l=pn(e,t),u=l?.comp?.getCellEditor(),d=qB(e,t,i,s),f=e.editModelSvc?.getEdit(t);let p=i?.length===1?i:d.value;if(p===void 0&&(p=f?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:p,state:"editing"}),u){u.refresh?.(d);return}const m=t.column.getColDef(),C=LB(e.userCompFactory,m,d),w=C?.popupFromSelector!=null?C.popupFromSelector:!!m.cellEditorPopup,E=C?.popupPositionFromSelector!=null?C.popupPositionFromSelector:m.cellEditorPopupPosition;KB(C.params,r),l&&(l.editCompDetails=C,l.comp?.setEditDetails(C,w,E,e.gos.get("reactiveCustomComponents")),l?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,r,"cellEditingStarted"))}function $B(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function qB(e,t,n,i){const{valueSvc:r,gos:s,editSvc:o}=e,l=pn(e,t),u=t.rowNode?.rowIndex??void 0,d=o?.isBatchEditing(),f=e.colModel.getCol(t.column.getId()),{rowNode:p,column:m}=t,C=l.comp?.getCellEditor(),w=o?.getCellDataValue(t,!1)??(C?$B(C)?.editorValue:void 0),E=w===ls?r.getValueForDisplay(f,p)?.value:w;return qe(s,{value:E,eventKey:n??null,column:m,colDef:m.getColDef(),rowIndex:u,node:p,data:p.data,cellStartedEdit:i??!1,onKeyDown:l?.onKeyDown.bind(l),stopEditing:R=>{o.stopEditing(t,{source:d?"ui":"api",suppressNavigateAfterEdit:R}),zC(e,t)},eGridCell:l?.eGui,parseValue:R=>r.parseValue(f,p,R,l?.value),formatValue:l?.formatValue.bind(l),validate:()=>{o?.validateEdit()}})}function HR(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((i,r)=>{i.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===ls)||!fl(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:r,column:o})})})}function Nte(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:i,cellStartedEdit:r}=t.editCompDetails.params,{column:s}=t,o=qB(e,t,i,r),l=s.getColDef(),u=LB(e.userCompFactory,l,o);n.refresh(KB(u.params,i))}function KB(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function wc(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const i=pn(e,n);if(!i)return;const r=i.comp.getCellEditor();if(!r)return;const{editorValue:s,editorValueExists:o}=$B(r);Hv(e,n,t,s,void 0,!o)})}function Hv(e,t,n,i,r,s){const{editModelSvc:o,valueSvc:l}=e;if(!o)return;const{rowNode:u,column:d}=t;if(!(u&&d))return;const p=!!pn(e,t)?.comp?.getCellEditor();let m=o.getEdit(t,!0);m?.sourceValue||(m=o.setEdit(t,{sourceValue:l.getValue(d,u,void 0,"api"),pendingValue:ls,state:p?"editing":"changed"})),o.setEdit(t,{editorValue:s?m.sourceValue:i,state:p?"editing":"changed"}),n&&Vte(e,t)}function Vte(e,t){const{editModelSvc:n}=e,i=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:i?.editorValue})}function wd(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(i=>zC(e,i,n))}function zC(e,t,n){const{editSvc:i,editModelSvc:r}=e,{rowNode:s,column:o}=t,l=pn(e,t);if(!l){r?.hasEdits(t)&&s&&o&&r?.setEdit(t,{state:"changed"});return}const{comp:u}=l;if(u&&!u.getCellEditor())return;const d=u?.getCellEditor()?.getValidationErrors?.(),f=r?.getCellValidationModel();d?.length?f?.setCellValidation(t,{errorMessages:d}):f?.clearCellValidation(t),r?.getEdit(t)&&r?.setEdit(t,{state:"changed"}),u?.setEditDetails(),u?.refreshEditStyles(!1,!1),l?.refreshCell({force:!0,suppressFlash:!0});const p=r?.getEdit(t);p?.state==="changed"&&!n?.silent&&i?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:fl(p),newValue:p?.pendingValue,oldValue:p?.sourceValue})}function Kc(e){const t=jB(e),n=new HB,{ariaAnnounce:i,localeSvc:r,editModelSvc:s,gos:o}=e,l=o.get("editType")==="fullRow",d=M2(r)("ariaValidationErrorPrefix","Cell Editor Validation");for(const p of t){const{ctrl:m,editor:C}=p,{rowNode:w,column:E}=m,R=C.getValidationErrors?.()??[],x=C.getValidationElement?.(!1)||!C.isPopup?.()&&m.eGui;if(x){const D=R!=null&&R.length>0,A=D?R.join(". "):"";hJ(x,D),D&&i.announceValue(`${d} ${R}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(A):x.classList.toggle("invalid",D)}R?.length>0&&n.setCellValidation({rowNode:w,column:E},{errorMessages:R})}wc(e,!1),s?.setCellValidationModel(n);const f=new Set;for(const{ctrl:p}of t)f.add(p.rowCtrl);if(l){const p=Bte(e);s?.setRowValidationModel(p)}for(const p of f.values()){p.rowEditStyleFeature?.applyRowStyles();for(const m of p.getAllCellCtrls())m.tooltipFeature?.refreshTooltip(!0),m.editorTooltipFeature?.refreshTooltip(!0),m.editStyleFeature?.applyCellStyles?.()}}var Bte=e=>{const t=new zB,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(const r of i.keys()){const s=i.get(r);if(!s)continue;const o=[],{rowIndex:l,rowPinned:u}=r;for(const f of s.keys()){const p=s.get(f);if(!p)continue;const{editorValue:m,pendingValue:C,sourceValue:w}=p,E=m??(C===ls?void 0:C)??w;o.push({column:f,colId:f.getColId(),rowIndex:l,rowPinned:u,oldValue:w,newValue:E})}const d=n?.({editorsState:o})??[];d.length>0&&t.setRowValidation({rowNode:r},{errorMessages:d})}return t};function Gte(e){Kc(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((i,r)=>{i.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:r.rowIndex,rowPinned:r.rowPinned,messages:s??null})})}),n}var Hte="ag-column-first",zte="ag-column-last";function YB(e,t,n,i){return mn(e)?[]:Wte(e.headerClass,e,t,n,i)}function QB(e,t,n){e.toggleCss(Hte,n.isColAtEdge(t,"first")),e.toggleCss(zte,n.isColAtEdge(t,"last"))}function Ute(e,t,n,i){return qe(t,{colDef:e,column:n,columnGroup:i})}function Wte(e,t,n,i,r){if(mn(e))return[];let s;if(typeof e=="function"){const o=Ute(t,n,i,r);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function wg(e){return!!(e.rowPinned&&e.pinnedSibling)}function jr(e,t,n,i){const r=t==="top";if(!n)return jr(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const u=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return jr(e,t,n,r?e.getPinnedTopRow(u-1):e.getPinnedBottomRow(u-1))}let s=!1,o=!1;const l=[];return e.forEachPinnedRow(t,u=>{if(u===n&&!s){s=!0,l.push(u);return}if(s&&u===i){o=!0,l.push(u);return}s&&!o&&l.push(u)}),l}var ae={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},zR=!1,UC=0;function jte(e){UC>0||(e.addEventListener("keydown",WC),e.addEventListener("mousedown",WC))}function $te(e){UC>0||(e.removeEventListener("keydown",WC),e.removeEventListener("mousedown",WC))}function WC(e){const t=zR,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(zR=n)}function qte(e){const t=ri(e);return jte(t),UC++,()=>{UC--,$te(t)}}function Kte(){return zR}function Yte(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===ae.TAB){const r=i.shiftKey;lu(e,n,!1,r)||Ud(e,r)&&i.preventDefault()}}})}function bd(e,t,n=!1){const i=xJ;let r=$2;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(u=>fo(u)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?((u,d)=>u.filter(f=>d.indexOf(f)===-1))(s,o):s}function Yc(e,t=!1,n=!1,i=!1){const r=bd(e,i?".ag-tab-guard":null,n),s=t?Qt(r):r[0];return s?(s.focus({preventScroll:!0}),!0):!1}function lu(e,t,n,i){const r=bd(t,n?':not([tabindex="-1"])':null),s=Sn(e);let o;n?o=r.findIndex(u=>u.contains(s)):o=r.indexOf(s);const l=o+(i?-1:1);return l<0||l>=r.length?null:r[l]}function XB(e,t=5){let n=0;for(;e&&MR(e)===null&&++n<=t;)e=e.parentElement;return MR(e)===null?null:e}function Qte(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Fc(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function Qy(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Ud(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function Xte(e,t,n,{rowNode:i,column:r},s){return qe(e.gos,{type:n,node:i,data:i.data,value:s,column:r,colDef:r.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function Zte(e,t=!1){return e===ae.DELETE?!0:!t&&e===ae.BACKSPACE?U2():!1}var Jte=class extends ue{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case ae.ENTER:this.onEnterKeyDown(e);break;case ae.F2:this.onF2KeyDown(e);break;case ae.ESCAPE:this.onEscapeKeyDown(e);break;case ae.TAB:this.onTabKeyDown(e);break;case ae.BACKSPACE:case ae.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ae.DOWN:case ae.UP:case ae.RIGHT:case ae.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const r=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(e.key===ae.LEFT||e.key===ae.RIGHT?n?.ensureColumnVisible(i.column):n?.ensureRowVisible(i.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:r}=this,{gos:s,rangeSvc:o,eventSvc:l,editSvc:u}=i;if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),Zte(e,s.get("enableCellEditingOnBackspace"))&&!u?.isEditing(n,{withOpenEditor:!0})){if(o&&Tl(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:d}=n,f=this.beans.valueSvc.getDeleteValue(d,r);r.setDataValue(d,f,"cellClear")}}else u?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:r}=n,s=i?.isEditing(t),o=t.rowNode,l=i?.isRowEditing(o),u=d=>{i?.startEditing(d,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||l){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(Kc(n),i?.checkNavWithValidation(void 0,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e}):l&&!t.isCellEditable()?i?.stopEditing({rowNode:o},{event:e}):u(t)}else if(n.gos.get("enterNavigatesVertically")){const d=e.shiftKey?ae.UP:ae.DOWN;r?.navigateToNextCell(null,d,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),u(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===ae.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(Kc(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:r}=this;if(n||i?.isEditing(r,{withOpenEditor:!0}))return;if(e.key===ae.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(r,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(r))return;i?.startEditing(r,{startedEdit:!0,event:e,source:"api"}),!r.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Ac(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}};function ZB(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}function W_({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var ene=class extends ue{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!ea(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:r,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:l}=this,{column:u,cellPosition:d}=l;n&&o&&n.getCellRangeCount(d)>1&&n.intersectLastRange(!0);const f=l.createEvent(e,"cellClicked");t.dispatchEvent(f);const p=u.getColDef();if(p.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{p.onCellClicked(f)})},0),r?.getState(l)!=="editing"){const m=i?.isEditing(),C=r?.getCellValidationModel().getCellValidationMap().size??0,w=r?.getRowValidationModel().getRowValidationMap().size??0;if(m&&(C>0||w>0))return;i?.shouldStartEditing(l,e)?i?.startEditing(l,{event:e}):i?.shouldStopEditing(l,e)&&i?.stopEditing(l)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:s,editSvc:o,editModelSvc:l}=n,u=t.getColDef(),d=i.createEvent(e,"cellDoubleClicked");if(r.dispatchEvent(d),typeof u.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{u.onCellDoubleClicked(d)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const f=o?.isEditing(),p=l?.getCellValidationModel().getCellValidationMap().size??0,m=l?.getRowValidationModel().getRowValidationMap().size??0;if(f&&(p>0||m>0))return;o?.startEditing(i,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:l,rangeSvc:u,rowNumbersSvc:d,focusSvc:f,gos:p,editSvc:m}=o;if(this.isRightClickInExistingRange(e))return;const C=u&&!u.isEmpty(),w=this.containsWidget(r),{cellPosition:E,column:R}=s,x=hl(R);if(d&&x&&!d.handleMouseDownOnCell(E,e)){u&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!C){const D=m?.isEditing(s),L=p.get("enableCellTextSelection")&&e.defaultPrevented,V=(iu()||L)&&!D&&!qT(r)&&!w;s.focusCell(V,e)}if(i&&C&&!f.isCellFocused(E)){e.preventDefault();const D=f.getFocusedCell();if(D){const{column:A,rowIndex:L,rowPinned:V}=D;m?.isEditing(D)&&m?.stopEditing(D),f.setFocusedCell({column:A,rowIndex:L,rowPinned:V,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!w){if(u){x&&e.preventDefault();const D=W_(this.beans,e)&&x;if(i)u.extendLatestRangeToCell(E);else if(!D){const A=t||n;u.setRangeToCell(E,A)}}l.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=W_(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return Dc(e,"ag-selection-checkbox",3)||Dc(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},tne=class extends ue{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();au(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e;const s=e.getPinned();for(let o=0;r&&o<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||mn(r)||s!==r.getPinned()));o++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Qt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Pc(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},nne="ag-cell",ine="ag-cell-auto-height",rne="ag-cell-normal-height",sne="ag-cell-focus",one="ag-cell-first-right-pinned",ane="ag-cell-last-left-pinned",lne="ag-cell-not-inline-editing",cne="ag-cell-wrap-text",jC="cellCtrl";function JB(e,t){return CB(e,t,jC)}var une=0,Sd=class extends ue{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:r}=e;this.instanceId=r+"-"+une++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new tne(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new ene(this,e,this.column),this.keyboardListener=new Jte(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Tl(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),hl(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Kc(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,r,s,o){this.comp=e,this.eGui=t,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(l=>l()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:r}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const l=H_(n,s,o);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let u;const d=new Mt(f=>{u=f});return this.addManagedListeners(r,{bodyScrollEnd:()=>u()}),{loadingComp:l,onReady:d}}return{loadingComp:l,onReady:Mt.resolve()}}showValue(e,t){const{beans:n,column:i,rowNode:r,rangeFeature:s}=this,{userCompFactory:o}=n;let l=this.getValueToDisplay(),u;const d=r.stub&&r.groupData?.[i.getId()]==null,f=i.getColDef();if(d||this.isCellRenderer()){const p=this.createCellRendererParams();!d||hl(i)?u=G_(o,f,p):u=H_(o,f,p)}if(!u&&!d&&n.findSvc?.isMatch(r,i)){const p=this.createCellRendererParams();u=G_(o,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},p)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(r,{checkSiblings:!0})){const p=this.editSvc.prepDetailsDuringBatch(this,{compDetails:u,valueToDisplay:l});p&&(p.compDetails?u=p.compDetails:p.valueToDisplay&&(l=p.valueToDisplay))}this.comp.setRenderDetails(u,l,e),!t&&s&&pa(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&wg(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=MC(t),r=_l(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&Cd(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:s,beans:{valueSvc:o,gos:l,editSvc:u}}=this;return qe(l,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,i).value,setValue:f=>u?.setDataValue({rowNode:i,column:n},f)||o.setValue(i,n,f),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:r.getParentOfValue(),registerRowDragger:(f,p,m,C)=>this.registerRowDragger(f,p,C),setTooltip:(f,p)=>{l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(f,p),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const i=this.column.getColDef(),r=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,s=e||r||n,o=!!this.comp,l=this.updateAndFormatValue(o),u=s||l;if(o){if(u){this.showValue(!!n,!1);const d=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!d&&i.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;$c(this.beans.gos,t,jC,this),e.addDestroyFunc(()=>$c(this.beans.gos,t,jC,null))}createEvent(e,t){const{rowNode:n,column:i,value:r,beans:s}=this;return Xte(s,e,t,{rowNode:n,column:i},r)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;QB(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);H2(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const r=()=>{if(!this.isAlive())return;const s=i.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(r,0);return}r()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(hl(this.column)&&(e=!0),wr(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(one,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(ane,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(Qy(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(sne,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(i){const s=bd(r,null,!0);s.length&&(r=s[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Jo(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(nne,!0),e.toggleCss(lne,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(ine,t),e.toggleCss(rne,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(cne,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Sn(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},eG="__ag_grid_instance";function tG(e,t){t[eG]=e.gridInstanceId}function kp(e,t){return nG(e,t.target)}function nG(e,t){let n=t;for(;n;){const i=n[eG];if(Te(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function dne(e,t){return JB(e,t.target)?.getFocusedCellPosition()??null}function j_(e,t){const n=wi(e.gos,"normal"),i=t;let r,s;i.clientX!=null||i.clientY!=null?(r=i.clientX,s=i.clientY):(r=i.x,s=i.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const l=e.ctrlsSvc.getScrollFeature(),u=l.getVScrollPosition(),d=l.getHScrollPosition();r+=d.left,s+=u.top}return{x:r,y:s}}var hne=class extends ue{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),as(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(f=>this.isMouseOnDropTarget(e,f)),s=this.findCurrentDropTarget(e,r),{lastDropTarget:o,dragSource:l,dragAndDropImageComp:u,dragItem:d}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,i,t),o!==null&&s===null&&l?.onGridExit?.(d),o===null&&s!==null&&l?.onGridEnter?.(d),this.enterDragTargetIfExists(s,e,n,i,t),s&&u){const{comp:f,promise:p}=u;f?f.setIcon(s.getIconName?s.getIconName():null,!1):p.then(m=>{m&&m.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const f=this.createDropTargetEvent(s,e,n,i,t);s.onDragging(f)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const r=(l,u)=>{for(const d of u){const{width:f,height:p,left:m,right:C,top:w,bottom:E}=d.getBoundingClientRect();if(f===0||p===0)return!1;const R=l.clientX>=m&&l.clientX<C,x=l.clientY>=w&&l.clientY<E;if(!R||!x)return!1}return!0};for(const l of n)if(r(e,l)){i=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:i&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const r=Ip(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(u=>u).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){const o=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:l,dragSource:u,gos:d}=this,f=t.clientX-o.left,p=t.clientY-o.top;return qe(d,{event:t,x:f,y:p,vDirection:i,hDirection:n,dragSource:u,fromNudge:r,dragItem:l,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&zJ(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=Zee(n,qe(t,{dragSource:e}));if(!i)return;const r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),tG(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";const s=ex(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(i):Se(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},fne=class extends ue{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),as(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");i&&!o&&(s=l=>{qT(l.target)||(r&&l.stopPropagation(),this.onTouchStart(e,l))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=u=>this.onTouchMove(u,e.eElement),r=u=>this.onTouchUp(u,e.eElement),s=u=>{u.cancelable&&u.preventDefault()},o=t.target,l=[{target:Ip(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=d=>this.onMouseMove(d,e.eElement),r=d=>this.onMouseUp(d,e.eElement),s=d=>d.preventDefault(),o=d=>{d.key===ae.ESCAPE&&this.cancelDrag(e.eElement)},l=Ip(this.beans),u=[{target:l,type:"mousemove",listener:i},{target:l,type:"mouseup",listener:r},{target:l,type:"contextmenu",listener:s},{target:l,type:"keydown",listener:o}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.addEventListener(i,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.removeEventListener(i,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=Te(n)?n:4;return ZB(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){iu()&&ri(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&i&&e.cancelable&&kp(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function iG(e,t){return e+"_"+t}function Mn(e){return e instanceof Op}var Op=class extends ue{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return iG(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Mn(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Qt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{xl(t)?e.push(t):Mn(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{xl(t)?e.push(t):Mn(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Mn(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},UR="row-group-",sx="t-",ox="b-",pne=0,Qc=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=pne++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:i}=this.beans,r=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,r,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const l=this.sibling.createDataChangedEvent(e,r,t);this.sibling.__localEventService?.dispatchEvent(l)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,r,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Xt(13),null):this.rowPinned==="top"?sx+this.rowIndex:this.rowPinned==="bottom"?ox+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const s=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=Gd(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(UR)&&Xt(14,{groupPrefix:UR})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:r,gos:s,editSvc:o}=this.beans,l=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!l)return!1;const u=r.getValueForDisplay(l,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:p},data:m,rowIndex:C,rowPinned:w}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:C,rowPinned:w,column:l,colDef:l.colDef,data:m,node:this,oldValue:u,newValue:t,value:t,source:n}),!1}if(o){const p=o.setDataValue({rowNode:this,column:l},t,n);if(p!=null)return p}const d=r.setValue(this,l,t,n);this.dispatchCellChangedEvent(l,t,u);const f=this.pinnedSibling;return f&&d&&f.dispatchCellChangedEvent(l,t,u),d}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Uc),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Uc),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Se(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function gne(e,t,n){return qe(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var mne=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function vne(e,t){const n=new Qc(t);return Object.keys(e).forEach(i=>{mne.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var rG={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},Cne=new Set(Object.values(rG));function $a(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const i=n.create(n.refreshed),r=n;return r.created=!0,r.promise=i,i}function yne(e,t,n,i,r,s){return t.refresh?.({...n,model:i,source:s}),e().then(o=>{if(o){const{filter:l,filterParams:u}=o;sG(l,u,i,r,s)}})}function sG(e,t,n,i,r){e?.refresh?.({...t,model:n,state:i,source:r})}function oG(e,t,n){const i=e();i?.created&&i.promise.then(r=>{const s=t();sG(r,i.filterParams,s,n()??{model:s},"ui")})}function $_(e,t,n,i,r,s){let o,l=!1,u;switch(e){case"apply":{const d=i();u=d?.model??null,o={state:d?.state,model:u},l=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},l=!0,u=null;break}case"cancel":{o={model:n()};break}}r(o),l?s(u):oG(t,n,i)}function ni(e,t){return e[t]??null}function wne(e){return{tag:"div",cls:e}}var bne=class extends an{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(wne(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const i=this.getGui();Dr(i);let r;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,l=({type:d,label:f})=>{const p=x=>{this.dispatchLocalEvent({type:d,event:x})};["apply","clear","reset","cancel"].includes(d)||Se(75);const m=d==="apply",w=kn({tag:"button",attrs:{type:m&&t?"submit":"button"},ref:`${d}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${m?" "+o+"-apply-button":""}`,children:f});this.activateTabIndex([w]),m&&(r=w);const E=x=>{x.key===ae.ENTER&&(x.preventDefault(),p(x))},R=this.listeners;w.addEventListener("click",p),R.push(()=>w.removeEventListener("click",p)),w.addEventListener("keydown",E),R.push(()=>w.removeEventListener("keydown",E)),s.append(w)};e.forEach(d=>l(d)),this.eApply=r;const u=this.validationTooltipFeature;r&&!u?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!r&&u&&(this.validationTooltipFeature=this.destroyBean(u)),i.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Ap(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},Sne={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function il(e,t,n){return rJ(e,Sne,t,n)}function ax(e,t){const{debounceMs:n}=e;return Xy(e)?(n!=null&&Se(71),0):n??t}function Xy(e){return(e.buttons?.indexOf("apply")??-1)>=0}var Ene=class extends an{constructor(e,t,n,i,r,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=r,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,r=i?"form":"div";this.setTemplate({tag:r,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:l})=>{s===this.column&&this.afterAction(o,l)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:i,readOnly:r}=t??{},{buttons:s,readOnly:o,useForm:l}=e;if(!n&&r===o&&xp(i,s))return;const u=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let d=this.eButtons;if(u){const f=s.map(p=>{const m=`${p}Filter`;return{type:p,label:il(this,m)}});if(this.applyActive=Xy(this.params),!d){d=this.createBean(new bne),this.appendChild(d.getGui());const p=this.column,m=C=>({event:w})=>{this.updateModel(p,C),this.afterAction(C,w)};d?.addManagedListeners(d,{apply:m("apply"),clear:m("clear"),reset:m("reset"),cancel:m("cancel")}),this.eButtons=d}d.updateButtons(f,l)}else this.applyActive=!1,d&&(ca(d.getGui()),this.eButtons=this.destroyBean(d))}close(e){const t=this.hidePopup;if(!t)return;const n=e,i=n&&n.key;let r;(i===ae.ENTER||i===ae.SPACE)&&(r={keyboardEvent:n}),t(r),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:i}=this,r=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),r&&i&&this.close(t);break}case"reset":{r&&i&&this.close();break}case"cancel":{r&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===ae.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},Rne={tag:"div",cls:"ag-filter"},Tne=class extends an{constructor(e,t,n){super(Rne),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Mt.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:i}}=this,r=i.getFilterUiForDisplay(t)??null;this.wrapper=r,r?.then(s=>{if(!s)return;const{isHandler:o,comp:l}=s;let u;if(o){const d=!!this.enableGlobalButtonCheck,f=this.createBean(new Ene(t,s,i,i.updateModel.bind(i),d&&i.isGlobalButtons,d));this.comp=f,u=f.getGui()}else u=l.getGui(),Te(u)||Se(69,{guiFromFilter:u});this.appendChild(u),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):l.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Dr(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},lx="T",xne=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${lx}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Qs(e,t){return e.toString().padStart(t,"0")}function Rr(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Qs(r,2)).join(n);return t&&(i+=lx+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Qs(r,2)).join(":")),i}function tv(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Qs(e.getDate(),2),Qs(e.getHours(),2),`:${Qs(e.getMinutes(),2)}`,`:${Qs(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Qs(e.getDate(),2)].map(String):null}var ZS=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function WR(e,t){if(t==null)return Rr(e,!1);const n=Qs(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>Qs(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${ZS(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${ZS(e.getDate())}`,DD:()=>Qs(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${ZS(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,l=>l in s?s[l]():l)}function zv(e,t=!1){return!!or(e,t)}function Dne(e){return zv(e,!0)}function or(e,t=!1){if(!e||!xne.test(e))return null;const[n,i]=e.split(lx);if(!n)return null;const r=n.split("-").map(m=>parseInt(m,10));if(r.filter(m=>!isNaN(m)).length!==3)return null;const[s,o,l]=r,u=new Date(s,o-1,l);if(u.getFullYear()!==s||u.getMonth()!==o-1||u.getDate()!==l||!i&&t)return null;if(!i||i==="00:00:00")return u;const[d,f,p]=i.split(":").map(m=>parseInt(m,10));if(d>=0&&d<24)u.setHours(d);else if(t)return null;if(f>=0&&f<60)u.setMinutes(f);else if(t)return null;if(p>=0&&p<60)u.setSeconds(p);else if(t)return null;return u}var q_={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},K_=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ane(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function Y_(e){return e instanceof Date&&!isNaN(e.getTime())}var jR={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:Y_}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&Y_(e.dateParser(t))}),dateTime:e=>jR.date(e),dateTimeString:e=>jR.dateString(e),object:()=>{},text:()=>{}},$R={number:()=>({comparator:Ane}),boolean:({t:e})=>({valueFormatter:t=>Te(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return Te(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){const r=K_[Number(n)-1];return t(r,q_[r])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>tv(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{const r=e(i);return Te(r)?r:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>tv(t.dateParser(i??void 0),!1),treeListFormatter:(i,r)=>{if(r===1&&i!=null){const s=K_[Number(i)-1];return n(s,q_[s])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{const t=$R.date(e);return t.treeListPathGetter=tv,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=$R.dateString(e);return n.treeListPathGetter=i=>tv(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return Te(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function Pne(e,t,n,i,r,s,o){let l=t,u=n;const d=e==="agSetColumnFilter";!u&&i.baseDataType==="object"&&!d&&(u=({column:C,node:w})=>r({column:C,node:w,value:s.valueSvc.getValue(C,w)}));const p=(d?$R:jR)[i.baseDataType],m=p({dataTypeDefinition:i,formatValue:r,t:o});return l=typeof t=="object"?{...m,...t}:m,{filterParams:l,filterValueGetter:u}}var Ine={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},Fne={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Mne(e,t=!1){return(t?Fne:Ine)[e??"text"]}var aG="ag-resizer-wrapper",qa=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),_ne={tag:"div",cls:aG,children:[qa("eTopLeft","topLeft"),qa("eTop","top"),qa("eTopRight","topRight"),qa("eRight","right"),qa("eBottomRight","bottomRight"),qa("eBottom","bottom"),qa("eBottomLeft","bottomLeft"),qa("eLeft","left")]},kne=class extends ue{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,i=n/2-this.getWidth()/2,r=t/2-this.getHeight()/2;this.offsetElement(i,r,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:i,width:r,minHeight:s,height:o,x:l,y:u}=this.config;this.offsetParent||this.setOffsetParent();let d=0,f=0;const p=fo(this.element);if(p){const m=this.findBoundaryElement(),C=window.getComputedStyle(m);if(C.minWidth!=null){const w=m.offsetWidth-this.element.offsetWidth;f=parseInt(C.minWidth,10)-w}if(C.minHeight!=null){const w=m.offsetHeight-this.element.offsetHeight;d=parseInt(C.minHeight,10)-w}}if(this.minHeight=s||d,this.minWidth=i||f,r&&this.setWidth(r),o&&this.setHeight(o),(!r||!o)&&this.refreshSize(),t)this.center(e);else if(l||u)this.offsetElement(l,u,e);else if(p&&n){let m=this.boundaryEl,C=!0;if(m||(m=this.findBoundaryElement(),C=!1),m){const w=parseFloat(m.style.top),E=parseFloat(m.style.left);C?this.offsetElement(isNaN(E)?0:E,isNaN(w)?0:w,e):this.setPosition(E,w)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const i=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Qf(n,e),e=q2(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Qf(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,o=e?0:r.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:f}=d.getBoundingClientRect();l=f-i.bottom}}return n+o-s-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ao(t,e),e=DC(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ao(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:i}=this.config,r=i?this.boundaryEl:this.element;r&&(this.popupSvc?.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=fa(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!n,!!r,o)?0:o,d=this.shouldSkipY(t,!!i,s,l)?0:l;return{movementX:u,movementY:d}}shouldSkipX(e,t,n,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:r.left;let u=l<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return u?!0:(t?u=i<0&&e.clientX>l+s.left||i>0&&e.clientX<l+s.left:n?u=i<0&&e.clientX>o.right||i>0&&e.clientX<l+s.left:u=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,u)}shouldSkipY(e,t,n=0,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:r.top;let u=l<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return u?!0:(t?u=i<0&&e.clientY>l+s.top+n||i>0&&e.clientY<l+s.top:u=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,u)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(kn(_ne)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${aG}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const r=e[i],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,l=this.minWidth||0;if(s){const u=window.getComputedStyle(r);u.minHeight&&(o=parseInt(u.minHeight,10)),u.minWidth&&(l=parseInt(u.minWidth,10))}else o=r.offsetHeight,l=r.offsetWidth;t+=o,n+=l}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,l=r||o,u=s||i,{movementX:d,movementY:f}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),p=this.position.x,m=this.position.y;let C=0,w=0;if(l&&d){const E=o?-1:1,R=this.getWidth(),x=R+d*E;let D=!1;o&&(C=R-x,(p+C<=0||x<=this.minWidth)&&(D=!0,C=0)),D||this.setWidth(x)}if(u&&f){const E=i?-1:1,R=this.getHeight(),x=R+f*E;let D=!1;i?(w=R-x,(m+w<=0||x<=this.minHeight)&&(D=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&C||w)&&this.offsetElement(p+C,m+w)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},One="ag-focus-managed",dh=class extends ue{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=lu(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(One),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||ea(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){qc(t);return}t.key===ae.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},Lne=class extends an{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new dh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new kne(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const r=t.state,s=this.state;return this.state=r,(r.model!==s.model||r.state!==s.state)&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=Xy(e),this.setupApplyDebounced()}doesFilterPass(e){Se(283);const{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return Se(284),this.params.model!=null}setupApplyDebounced(){const e=ax(this.params,this.defaultDebounceMs),t=Ci(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return Se(285),this.params.model}setModel(e){Se(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,i=!this.areModelsEqual(t.model,n.model);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;const r=this.params;r.onStateChange(i),r.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:r.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return il(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function Nne(e){return!!e.operator}function Vne(e,t,n){if(t==null)return null;let i=null;const{compName:r,jsComp:s,fwComp:o}=NB(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&o==null&&t.filter===!0&&(i=n()),i}var Uv={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},cx=class extends ue{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Uv.AUTO_HEIGHT:t.print?Uv.PRINT:Uv.NORMAL;this.view.updateLayoutClasses(n,t)}},Ka="Viewport",Q_="fakeVScrollComp",JS=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],X_=100,eE=150,Bne=class extends ue{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ci(this,()=>this.lastScrollSource[1]=null,eE),this.resetLastVScrollDebounced=Ci(this,()=>this.lastScrollSource[0]=null,eE)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Ka)});for(const e of JS){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Ci(this,this.onVScroll.bind(this,Ka),X_):this.onVScroll.bind(this,Ka),i=t?Ci(this,this.onVScroll.bind(this,Q_),X_):this.onVScroll.bind(this,Q_);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...JS,Ka]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);PC(n,e,this.enableRtl)}}getViewportForSource(e){return e===Ka?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=AC(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Ka?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Ka?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},eE)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!xc()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=KT(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of JS)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Ka)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),PC(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let r=-1;for(let s=0;s<i;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){r=s;break}}else if(e===o||e===o.data){r=s;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,n=0){if(wi(this.gos,"print"))return;const{rowModel:i}=this.beans,r=i.getRowCount();if(typeof e!="number"||e<0||e>=r){Se(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:l,rowRenderer:u}=this.beans;s.wrapIncoming(()=>{const d=this.ctrlsSvc.getGridBodyCtrl(),f=i.getRow(e);let p,m,C=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:w,stickyBottomHeight:E}=d,R=f.rowTop,x=f.rowHeight,D=o.getPixelOffset(),A=f.rowTop-D,L=A+f.rowHeight,V=this.getVScrollPosition(),I=l.divStretchOffset,_=V.top+I,F=V.bottom+I,k=F-_,O=l.getScrollPositionForPixel(A),B=l.getScrollPositionForPixel(L-k),U=Math.min((O+B)/2,A),G=_+w>A,de=F-E<L;let pe=null;t==="top"?pe=O-w:t==="bottom"?pe=B+E:t==="middle"?pe=U:G?pe=O-w:de&&(B-O>k?pe=O-w:pe=B+E),pe!==null&&(this.setVerticalScrollPosition(pe),u.redraw({afterScroll:!0})),p=R!==f.rowTop||x!==f.rowHeight,m=w!==d.stickyTopHeight||E!==d.stickyBottomHeight,C++}while((p||m)&&C<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(f?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const w=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const E=this.getVScrollPosition().top;w!==E&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;const s=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let l=(o?n:i)||r,u=o?i:n;t!=="auto"&&(l=t==="start",u=t==="end");const d=t==="middle";if(l||u||d){const{colLeft:f,colMiddle:p,colRight:m}=this.getColumnBounds(e);return d?p-s/2:l?o?m:f:o?f-s:m-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>r:n<r,l=s?n<i:t>i;return{columnBeforeStart:o,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?n-r:r,l=o+i*s,u=o+i/2*s;return{colLeft:o,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},ux=class extends ue{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=wi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=i+r+s:(o=i,this.addSpacer&&(this.gos.get("enableRtl")?r:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},Gne=class extends ue{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{pa(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=KT(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function dx(e,t,n,i,r,s){if(n==null&&t==null)return;const o={},l={},u=(d,f)=>{d.split(" ").forEach(p=>{p.trim()!=""&&f(p)})};if(n){const d=Object.keys(n);for(let f=0;f<d.length;f++){const p=d[f],m=n[p];let C;typeof m=="string"?C=e?e.evaluate(m,i):!0:typeof m=="function"&&(C=m(i)),u(p,w=>{C?o[w]=!0:l[w]=!0})}}t&&s&&Object.keys(t).forEach(d=>u(d,f=>{o[f]||(l[f]=!0)})),s&&Object.keys(l).forEach(s),Object.keys(o).forEach(r)}function Z_(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var Hne=class extends ue{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(l=>e.push(l))},r=n.get("rowClass");r&&i(r);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},l=s(o);i(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:r}=this.beans,s=qe(i,{data:e.data,node:e,rowIndex:e.rowIndex});dx(r,void 0,i.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let r;if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex};r=i(s)}if(r||n)return Object.assign({},n,r)}},zne=0,$C="renderedRow",qC=class extends ue{constructor(e,t,n,i,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+zne++,this.rowId=Vv(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=Z_(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Vv(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){const{context:r,focusSvc:s}=this.beans;i=Cg(this,r,i);const o={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const l=this.rowNode,u=this.rowType==="FullWidthLoading"||l.stub,d=!l.data&&this.beans.rowModel.getType()==="infinite";!u&&!d&&!l.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const f=this.fullWidthGui?.element;f&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(l.rowIndex,l.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>f.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Ac(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.toggleCss(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&AR(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),$c(t,e.element,$C,this),e.compBean.addDestroyFunc(()=>$c(t,e.element,$C,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Vv(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(_R(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(_R(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),s=!!t,o=!!n||!i.isPinningRight();return r&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),r=hB(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Sd(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const i={list:[],map:{}},r=(d,f,p)=>{p!=null?i.list.splice(p,0,f):i.list.push(f),i.map[d]=f},s=[];for(const d of t){const f=d.getInstanceId();let p=e.map[f];p&&!this.isCorrectCtrlForSpan(p)&&(p.destroy(),p=void 0),p||(p=this.getNewCellCtrl(d)),p&&r(f,p)}for(const d of e.list){const f=d.column.getInstanceId();if(i.map[f]!=null)continue;!this.isCellEligibleToBeRemoved(d,n)?s.push([f,d]):d.destroy()}if(s.length)for(const[d,f]of s){const p=i.list.findIndex(C=>C.column.getLeft()>f.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);r(d,f,m)}const{focusSvc:o,visibleCols:l}=this.beans,u=o.getFocusedCell();if(u&&u.column.getPinned()==n){const d=u.column.getInstanceId();if(!i.map[d]&&l.allCols.includes(u.column)){const p=this.createFocusedCellCtrl();if(p){const m=i.list.findIndex(w=>w.column.getLeft()>p.column.getLeft()),C=m===-1?void 0:Math.max(m-1,0);r(d,p,C)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){const{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,l=o?.isEditing(e),u=e.isCellFocused();return l||u?!(s.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||wi(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Te(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,l)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,l).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:r,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...i?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:l})=>{l&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(u=>{this.addRowDraggerToRow(u)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",r=t==="below",o=this.gos.get("treeData")&&(r||n),l=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(u=>{const d=u.rowComp;d.toggleCss("ag-row-highlight-above",n),d.toggleCss("ag-row-highlight-inside",i),d.toggleCss("ag-row-highlight-below",r),d.toggleCss("ag-row-highlight-indent",o),o?u.element.style.setProperty("--ag-row-highlight-level",l):u.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Jo(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:l,navigation:u}=this.beans,d=l.getFocusedCell(),f={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:d?.column??i};u?.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||ea(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=Sn(this.beans);let s=!1;n&&r&&(s=n.contains(r)&&r.classList.contains("ag-cell"));let o=null;!i&&!s&&(o=lu(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>fo(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{wr(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?i=s==="right"?this.rightGui?.element:this.leftGui?.element:i=this.centerGui?.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return qe(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){ea(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Dc(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n?.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:s,column:o}=r,l=s.element,u=e.target;let d=e.defaultPrevented||iu();l&&l.contains(u)&&qT(u)&&(d=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:d})}onRowClick(e){if(ea(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,r=qe(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,l,u,d)=>this.addFullWidthRowDragging(o,l,u,d),setTooltip:(o,l)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,l)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return ote(s,r);case"FullWidthGroup":{const{value:o,valueFormatted:l}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return r.value=o,r.valueFormatted=l,ste(s,r)}case"FullWidthLoading":return rte(s,r);default:return ite(s,r)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:r,context:s}=this.beans;if(!r||!this.isFullWidth())return;const o=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=Z_(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(s.push("ag-row-pinned"),r.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&s.push("ag-row-pinned-source"),i.isSelected()&&s.push("ag-row-selected"),i.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),i.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(s,i),i.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=r;return o&&(o.processClassesFromGridOptions(s,i),o.preProcessRowClassRules(s,i)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&i.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&i.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(i,{mouseEnter:()=>{!r.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=sB(this.gos)?Rl(this.beans,this.rowNode).height:void 0,s=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&vd(this.gos)&&!t.sticky)if(t.rowTop!=null){const r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(Sn(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Te(e)){const t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i?.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",i),s.rowComp.toggleCss("ag-row-odd",!i),G2(s.element,r)})}};function lG(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function qR(e,t,n,i,r){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=qe(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(s&&s(o))}function Une(e){const{pinnedRowModel:t,rowModel:n}=e,[i,r]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=i?null:"top";let o,l;r?(o=null,l=n.getRowCount()-1):(o="bottom",l=t?.getPinnedBottomRowCount()??-1);const{visibleCols:u,rangeSvc:d}=e,f=u.allCols;!d||!f?.length||d.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:l,rowEndPinned:o})}var Wne=65,jne=67,$ne=86,qne=68,Kne=90,Yne=89;function Qne(e){const{keyCode:t}=e;let n;switch(t){case Wne:n=ae.A;break;case jne:n=ae.C;break;case $ne:n=ae.V;break;case qne:n=ae.D;break;case Kne:n=ae.Z;break;case Yne:n=ae.Y;break;default:n=e.code}return n}var Xne=class extends ue{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",vB("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){if(!kp(this.gos,t)||ea(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:JB(t,e),rowCtrl:CB(t,e,$C)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!qR(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),lG(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:r,navigation:s}=this.beans,l=r.getFocusedCell()?.column;if(!qR(this.gos,n,i,l,!1)){const d=n.key;if(t==="keydown")switch(d){case ae.PAGE_HOME:case ae.PAGE_END:case ae.PAGE_UP:case ae.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case ae.LEFT:case ae.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case ae.UP:case ae.DOWN:e.onKeyboardNavigate(n);break;case ae.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!kp(this.gos,e))return;const n=Qne(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===ae.A)return this.onCtrlAndA(e);if(n===ae.C)return this.onCtrlAndC(i,e);if(n===ae.D)return this.onCtrlAndD(i,e);if(n===ae.V)return this.onCtrlAndV(i,e);if(n===ae.X)return this.onCtrlAndX(i,e);if(n===ae.Y)return this.onCtrlAndY(r);if(n===ae.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&Tl(r)&&t.isRowsToRender()?Une(this.beans):i&&i?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:pB(r)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},cG=class extends ue{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},nv=e=>e.topRowCtrls,iv=e=>e.getStickyTopRowCtrls(),rv=e=>e.getStickyBottomRowCtrls(),sv=e=>e.bottomRowCtrls,ov=e=>e.allRowCtrls,tE=e=>e.getCtrls("top"),nE=e=>e.getCtrls("center"),iE=e=>e.getCtrls("bottom"),Zne={center:{type:"center",name:"center-cols",getRowCtrls:ov,getSpannedRowCtrls:nE},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:ov,getSpannedRowCtrls:nE},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:ov,getSpannedRowCtrls:nE},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:ov},topCenter:{type:"center",name:"floating-top",getRowCtrls:nv,getSpannedRowCtrls:tE},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:nv,getSpannedRowCtrls:tE},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:nv,getSpannedRowCtrls:tE},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:nv},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:iv},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:iv},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:iv},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:iv},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:rv},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:rv},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:rv},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:rv},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:sv,getSpannedRowCtrls:iE},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:sv,getSpannedRowCtrls:iE},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:sv,getSpannedRowCtrls:iE},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:sv}};function uG(e){return`ag-${bg(e).name}-viewport`}function Wv(e){const t=bg(e);return t.container??`ag-${t.name}-container`}function Jne(e){return`ag-${bg(e).name}-spanned-cells-container`}function bg(e){return Zne[e]}var eie=["topCenter","topLeft","topRight"],tie=["bottomCenter","bottomLeft","bottomRight"],nie=["center","left","right"],iie=["center","left","right","fullWidth"],rie=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],sie=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],oie=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],dG=["stickyTopCenter","stickyTopLeft","stickyTopRight"],hG=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],aie=[...dG,"stickyTopFullWidth",...hG,"stickyBottomFullWidth"],lie=[...eie,...tie,...nie,...dG,...hG],cie=class extends ue{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=bg(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Gne(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new Xne(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:r,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(sie,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(oie,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(iie,()=>this.createManagedBean(new cG(this.eContainer,this.name==="center"?i:void 0))),s&&this.forContainers(lie,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(rie,()=>this.createManagedBean(new ux(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(aie.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=wi(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Pp(this.eViewport)}getCenterViewportScrollLeft(){return AC(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=fa(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Y2(this.eViewport)}getViewportScrollLeft(){return AC(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Q2(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){PC(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=wi(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const l=o.isFullWidth();return this.options.fullWidth?!r&&l:r||!l});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},uie="ag-force-vertical-scroll",die="ag-selectable",hie="ag-column-moving",fie=class extends ue{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${uG("center")}`),this.eFullWidthContainer=n.querySelector(`.${Wv("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Wv("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Wv("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new cx(this.comp)),this.scrollFeature=this.createManagedBean(new Bne(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=j2()?16:0,r=`calc(100% + ${n+i}px)`;pa(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,r=Dc(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{const{target:i,relatedTarget:r}=n,s=t.contains(r),o=Dc(r,"ag-root",t);Dc(i,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(hie,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(die,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?uie:null,n=wi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&X2(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const r=n&&vd(this.gos)&&!e.stretching,s=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:r,beans:{popupSvc:s,touchSvc:o}}=this,l=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:l}),o?.mockBodyContextMenu(this,l),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const u=this.onStickyWheel.bind(this);for(const f of[t,n,i,r])this.addManagedElementListeners(f,{wheel:u});const d=this.onHorizontalWheel.bind(this);for(const f of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(f).eContainer,{wheel:d});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&kp(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=r-s,l=n?o+n:0,u=i?o+i:0;this.comp.setTopHeight(l),this.comp.setBottomHeight(u),this.comp.setTopInvisible(l<=0),this.comp.setBottomInvisible(u<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=i+s;n.setStickyBottomBottom(`${o}px`)}},fG=class extends an{constructor(e,t){super(),this.direction=t,this.eViewport=Ue,this.eContainer=Ue,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",U2()||xc())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=j2(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),pa(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;IJ(()=>fo(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},pie={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},gie=class extends fG{constructor(){super(pie,"horizontal"),this.eLeftSpacer=Ue,this.eRightSpacer=Ue,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new ux(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),ao(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),ao(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Qf(this.getGui(),s),Qf(this.eViewport,s),Qf(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return AC(this.eViewport,this.enableRtl)}setScrollPosition(e){fo(this.eViewport)||this.attemptSettingScrollPosition(e),PC(this.eViewport,e,this.enableRtl)}},mie={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},vie=class extends fG{constructor(){super(mie,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new cG(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),ao(this.getGui(),r),ao(this.eViewport,r),ao(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!fo(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Xs(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function hx(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const r=i.getGroupRowCount()||0;for(let s=0;s<r;s++){const o=i.getGroupRowCtrlAtIndex(s),l=t[s];if(o){const u=Cie(e,o);(l==null||u>l)&&(t[s]=u)}}}return t}function Cie(e,t){let i=e.colModel.isPivotMode()?wie(e):gG(e);const r=t.getHeaderCellCtrls();for(const s of r){const{column:o}=s,l=o.getAutoHeaderHeight();l!=null&&l>i&&o.isAutoHeaderHeight()&&(i=l)}return i}function fx(e){let n=e.colModel.isPivotMode()?yie(e):Sg(e);return e.colModel.forAllCols(i=>{const r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function Sg(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function pG(e){return e.gos.get("floatingFiltersHeight")??Sg(e)}function gG(e){return e.gos.get("groupHeaderHeight")??Sg(e)}function yie(e){return e.gos.get("pivotHeaderHeight")??Sg(e)}function wie(e){return e.gos.get("pivotGroupHeaderHeight")??gG(e)}var bie=class extends ue{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:r,touchSvc:s,ctrlsSvc:o}=i;r&&this.createManagedBean(new dh(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),s?.mockHeaderContextMenu(this,l),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>pa(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=hx(e).reduce((s,o)=>s+o,0),i=fx(e);if(e.filterManager?.hasFloatingFilters()&&(t+=pG(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:s,focusSvc:o}=r;(s.navigateHorizontally(i,!0,e)||!n&&o.focusOverlay(!1)||Ud(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case ae.LEFT:t="LEFT";case ae.RIGHT:{Te(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ae.UP:t="UP";case ae.DOWN:{Te(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(Sn(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===r.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},px=class extends ue{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Qt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=Te(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!wi(n,"print")||e.getPinned()==="left")return t;const s=i.getColsLeftWidth();if(e.getPinned()==="right"){const o=i.bodyWidth;return s+o+t}return s+t}setLeft(e){if(Te(e)&&(this.eCell.style.left=`${e}px`),Mn(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&yJ(this.ariaEl,t.length)}}},Sie=0,mG="headerCtrl",gx=class extends ue{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Sie++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!Te(r))return!1;const s=qe(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(s)}getWrapperHasFocus(){return Sn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,s=p=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:m,paddingBottom:C,borderBottomWidth:w,borderTopWidth:E}=ru(this.eGui),R=m+C+w+E,D=t.offsetHeight+R;if(p<5){const A=ri(r),L=!A||!A.contains(t),V=D==0;if(L||V){_R(()=>s(p+1),"raf",r);return}}this.setColHeaderHeight(this.column,D)};let o=!1,l;const u=()=>{const p=this.column.isAutoHeaderHeight();p&&!o&&d(),!p&&o&&f()},d=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),l=fa(this.beans,t,()=>s(0))},f=()=>{o=!1,l&&l(),this.comp.toggleCss("ag-header-cell-auto-height",!1),l=void 0};u(),i.addDestroyFunc(()=>f()),i.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),i.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(QB(e,t,n.visibleCols),H2(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Fc(this.beans);this.eGui&&wr(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Sn(this.beans),n=e.key===ae.LEFT||e.key===ae.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const r=e.key===ae.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===ae.LEFT!==t.get("enableRtl");const r=n.getPinned(),s=t.get("enableRtl");return r&&s!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case ae.PAGE_DOWN:case ae.PAGE_UP:case ae.PAGE_HOME:case ae.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=mG,{eGui:n,gos:i}=this;$c(i,n,t,this),e.addDestroyFunc(()=>$c(i,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:r,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&i.preventDefault(),r?.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Eie=class extends gx{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;const{rowCtrl:s,column:o,beans:l}=this,{colResize:u,context:d,colHover:f,rangeSvc:p}=l,m=Cg(this,d,r);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:w=>this.setRefreshFunction("measuring",w),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),u?this.resizeFeature=m.createManagedBean(u.createResizeFeature(s.pinned,o,n,e,this)):wn(n,!1),f?.createHoverFeature(m,[o],t),p?.createRangeHighlightFeature(m,o,e),m.createManagedBean(new px(o,t,l)),m.createManagedBean(new dh(t,{shouldStopEventPropagation:w=>this.shouldStopEventPropagation(w),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),m.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const C=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:C,columnRowGroupChanged:C,columnPivotChanged:C,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return qe(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Jee(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return qe(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||br(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ae.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===ae.ENTER&&this.onEnterKeyDown(e),e.key===ae.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();J_(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Kte()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=YB(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.toggleCss(r,!0)}),i.forEach(r=>this.comp.toggleCss(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,r=hx(this.beans),s=r.reduce((m,C)=>m+=C,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const u=fx(i);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}n.toggleCss("ag-header-span-total",l);const d=(this.column.getFirstRealParent()?.getLevel()??-1)+1,f=r.length-d;let p=0;for(let m=0;m<f;m++)p+=r[r.length-1-m];e.style.setProperty("top",`${-p}px`),e.style.setProperty("height",`${u+p}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(lJ(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!br(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Sn(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return J_(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function J_(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Rie=0,rE=class extends ue{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Rie++,this.comp=null,this.allCtrls=[];let i="ag-header-row-column";n==="group"?i="ag-header-row-group":n==="filter"&&(i="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${i}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=wi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Cg(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=wi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=hx(this.beans);for(let r=0;r<t.length;r++){if(r===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[r]};e+=t[r]}const n=fx(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const i=pG(this.beans);return{topOffset:e,rowHeight:i}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:r,visibleCols:s}=this.beans;return r.isHeaderWrapperFocused(i)?s.isVisible(i.column):!1};if(e)for(const[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new Eie(e,this));break}t.set(i,r)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},Tie=class extends ue{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),r.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:i}=this.beans;let r=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const p=i.headerGroupRowCount;r=p;const m=this.groupsRowCtrls.length;if(m!==p){if(m>p){for(let C=p;C<m;C++)this.destroyBean(this.groupsRowCtrls[C]);this.groupsRowCtrls.length=p;return}for(let C=m;C<p;C++){const w=this.createBean(new rE(C,this.pinned,"group"));this.groupsRowCtrls.push(w)}}},l=()=>{const p=r++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new rE(p,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==p&&this.columnsRowCtrl.setRowIndex(p)},u=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const p=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){p();return}e||p();const m=r++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==m&&this.filtersRowCtrl.setRowIndex(m):this.filtersRowCtrl=this.createBean(new rE(m,this.pinned,"filter"))},d=this.getAllCtrls();o(),l(),u();const f=this.getAllCtrls();this.comp.setCtrls(f),this.restoreFocusOnHeader(t,s),d.length!==f.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(xl(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new ux(e=>this.comp.setCenterWidth(`${e}px`),!0))}},xie=class extends ue{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(t1(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){t1(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(br(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&xl(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(xc()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!br(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!br(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return br(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:r,onClosedCallback:s}=t,o=t.column;if(r==="button"){const{buttonElement:l}=t;e?.showMenuAfterButtonClick(o,l,n,s,i)}else if(r==="mouse"){const{mouseEvent:l}=t;e?.showMenuAfterMouseEvent(o,l,n,s,i)}else if(o){const l=this.beans,u=l.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(o,"auto"),pa(l,()=>{const d=u.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);d&&e?.showMenuAfterButtonClick(o,d.getAnchorElementForMenu(i),n,s,i)})}}};function e1(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function t1(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:i}=e;return t&&br(i)?t:n}var mx=class extends an{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Zy=class extends mx{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},vG=class extends an{constructor(){super()}},Die={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},Aie=class extends vG{init(){const e=Jo(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??Die),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},Pie={tag:"span",cls:"ag-overlay-no-rows-center"},Iie=class extends vG{init(){const e=Jo(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??Pie),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function Fie(e,t,n){const i=Jr(e,t,n);if(i){const{className:s}=i;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return i}const r=kn({tag:"span"});return r.appendChild(i),r}function Jr(e,t,n){let i=null;e==="smallDown"?Se(262):e==="smallLeft"?Se(263):e==="smallRight"&&Se(264);const r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){const s=t.gos.get("icons");s&&(i=s[e])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else{Se(38,{iconName:e});return}if(typeof s=="string")return YT(s);if(XT(s))return s;Se(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),kn({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var Mie=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",_ie={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},kie=class extends an{constructor(){super(),this.dragSource=null,this.eIcon=Ue,this.eLabel=Ue,this.eGhost=Ue,this.registerCSS(Mie)}postConstruct(){const e=t=>Fie(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(_ie),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:r,gos:s}=this;Dr(n);let o=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===r.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},Oie=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Lie=class extends an{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Oie)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Dr(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(wn(t,!1),Wc(t,"presentation")):(wn(t,!0),Wc(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(IC(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Ap(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},CG=class extends Lie{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||cJ(e)!==null?Dp(e,""):Dp(e,t??"")}setAriaLabel(e){return Bd(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ao(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Nie(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var bc=class extends CG{constructor(e,t,n="text",i="input"){super(e,e?.template??Nie(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=Ue,this.eWrapper=Ue,this.eInput=Ue}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:r,inputWidth:s}=this.config;r!=null&&this.setInputName(r),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,wr(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return IC(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return wr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Bd(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Ap(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)wr(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";wr(this.eInput,"autocomplete",t)}return this}},vx=class extends bc{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},Cx={selector:"AG-CHECKBOX",component:vx},Vie=".ag-checkbox-cell{height:100%}",Bie={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Gie=class extends an{constructor(){super(Bie,[Cx]),this.eCheckbox=Ue,this.registerCSS(Vie)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),V2(i,"polite"),this.addManagedListeners(i,{click:r=>{if(qc(r),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:r=>{qc(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===ae.SPACE&&!t.isDisabled()){e.eGridCell===Sn(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:r,node:s}=e;if(s.group&&r)if(typeof i=="boolean")t=i;else{const p=r.getColId();p.startsWith(Yy)?t=i==null||i===""?void 0:i==="true":s.aggData&&s.aggData[p]!==void 0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const l=e.disabled??!r?.isCellEditable(s);o.setDisabled(l);const u=this.getLocaleTextFunc(),d=Ky(u,t),f=l?d:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;o.setInputAriaLabel(f)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:i,value:r}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:i.rowIndex,rowPinned:i.rowPinned,state:"changed",oldValue:r,newValue:r}],{update:!0});const s=i.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:i,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},n1=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),as(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],r=Uie(this.order);if(this.order.sort((o,l)=>(o.pinnedSibling?.rowIndex??0)-(l.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,i)??this.order,!r)return;const s=uB(n);s==="bottom"||s==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){const{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function yG(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?yG(t):!1}function sE(e,t){const{gos:n,rowModel:i,filterManager:r}=e;return su(n)?!i.getRowNode(t.id):r?.isAnyFilterPresent()?!yG(t):n.get("pivotMode")?!t.group:!1}function Hie(e){return!!e.footer&&e.level===-1}function zie(e){return!!e.pinnedSibling&&Hie(e.pinnedSibling)}function Uie(e){const t=e.findIndex(zie);if(t>-1)return e.splice(t,1)?.[0]}var i1=class extends ue{postConstruct(){const{gos:e,beans:t}=this;this.top=new n1(t,"top"),this.bottom=new n1(t,"bottom");const n=r=>sE(t,r.pinnedSibling),i=()=>{const r=e.get("isRowPinned");r&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,r(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:r})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),r||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(jie),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{(e.get("isRowPinnable")?.(r)??!0)||this.pinRow(r,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,qie(this.beans);return}const i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){const o=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(l,t,n);return}const s=n&&$ie(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(o);if(!l)return;l.delete(o);const u=o.pinnedSibling;oE(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(u)}else{const o=r1(this.beans,e,t),l=this.getContainer(t);l.add(o),sE(this.beans,e)&&l.hide(u=>sE(this.beans,u.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=Rl(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return s1(this.top)}getPinnedBottomTotalHeight(){return s1(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const r=this.beans.rowModel.getRowNode(i);r?this.pinRow(r,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(i=>{const r=this.beans.rowModel.getRowNode(i);r&&n.add(r)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,i=t.rowModel;if(!Hn(e))return;const r=i.rootNode?.sibling;if(!r)return;const s=r.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),oE(s)),!o||o.floating!==n){const l=r1(t,r,n);this.getContainer(n).add(l)}}else{if(!o)return;o.delete(s),oE(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>Wie(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function Wie(e,t){let n=0;t.forEach((i,r)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(Rl(e,i).height),i.setRowIndex(r),n+=i.rowHeight})}function r1(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=vne(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const r=n==="top"?sx:ox;return i.id=`${r}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function oE(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function jie(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function $ie(e,t,n){const{rowSpanSvc:i}=e,r=(n&&i?.isCellSpanning(n,t))??!1;if(n&&r)return i?.getCellSpan(n,t)?.spannedNodes}function s1(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function qie({gos:e,rowModel:t}){Hn(e)&&t.refreshModel({step:"map"})}var o1=class extends ue{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Sf(this.pinnedBottomRows,t),Sf(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=Rl(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return Sf(this.pinnedBottomRows,n),t=0,Sf(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=Gd(this.gos),r=t==="top"?sx:ox,s=new Set(n.order),o=[],l=new Set;let u=0,d=-1;for(const f of e){const p=i?.({data:f,level:0,rowPinned:t})??r+this.nextId++;if(l.has(p)){Se(96,{id:p,data:f});continue}d++,l.add(p),o.push(p);const m=Zf(n,p);if(m!==void 0)m.data!==f&&m.updateData(f),u+=this.setRowTopAndRowIndex(m,u,d),s.delete(p);else{const C=new Qc(this.beans);C.id=p,C.data=f,C.rowPinned=t,u+=this.setRowTopAndRowIndex(C,u,d),n.cache[p]=C,n.order.push(p)}}s.forEach(f=>{Zf(n,f)?.clearRowTopAndRowIndex(),delete n.cache[f]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Rl(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return a1(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return a1(this.pinnedBottomRows)}getPinnedTopRowCount(){return YR(this.pinnedTopRows)}getPinnedBottomRowCount(){return YR(this.pinnedBottomRows)}getPinnedTopRow(e){return KR(this.pinnedTopRows,e)}getPinnedBottomRow(e){return KR(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Zf(this.getCache(t),e)}forEachPinnedRow(e,t){return Sf(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function a1(e){const t=YR(e);if(t===0)return 0;const n=KR(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Zf(e,t){return e.cache[t]}function KR(e,t){return Zf(e,e.order[t])}function Sf(e,t){e.order.forEach((n,i)=>{const r=Zf(e,n);r&&t(r,i)})}function YR(e){return e.order.length}var Kie=class extends ue{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),i=uB(e),s=!!n||(i==="pinnedBottom"||i==="pinnedTop"),o=s?this.inner instanceof o1:this.inner instanceof i1;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new i1:new o1))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},Yie="ROOT_NODE_ID",Qie=class extends ue{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=Yie,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=Gd(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,s=new Set,o=this.rootNode,l=o.allLeafChildren,u=l.length;let d=!1,f=!1,p=!1,m=!1;for(let w=0,E=-1,R=t.length;w<R;w++){const x=t[w];let D=this.getRowNode(n({data:x,level:0}));if(!D)d=!0,D=this.createRowNode(x,-1),r.add(D);else{if(i){const A=D.sourceRowIndex;m||(m=A<=E||d),E=A}D.data!==x&&(p=!0,D.updateData(x),r.update(D))}s.add(D)}const C=[];for(let w=0;w<u;w++){const E=l[w];s.has(E)||(f=!0,E.isSelected()&&C.push(E),E.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(E.pinnedSibling,null),this.rowNodeDeleted(E),r.remove(E))}if(d||f||m){const w=new Array(s.size);let E=0;if(!i)for(let x=0;x<u;++x){const D=l[x];s.delete(D)&&(D.sourceRowIndex=E,w[E++]=D)}for(const x of s)x.sourceRowIndex=E,w[E++]=x;o.allLeafChildren=w;const R=o.sibling;R&&(R.allLeafChildren=w),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=m)}(d||f||m||p)&&(this.deselectNodes(C),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=Gd(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let p=0;p<i.length;p++)if(i[p]?.rowIndex==r-1){r=p+1;break}}const s=n.length,o=t.changedRowNodes,l=new Array(s);for(let f=0;f<s;f++){const p=this.createRowNode(n[f],r+f);o.add(p),l[f]=p}const u=this.rootNode;if(r<i.length){const f=i.slice(0,r),p=i.slice(r,i.length),m=f.length+l.length;for(let C=0,w=p.length;C<w;++C)p[C].sourceRowIndex=m+C;i=[...f,...l,...p],t.rowsInserted=!0}else i=i.concat(l);u.allLeafChildren=i;const d=u.sibling;d&&(d.allLeafChildren=i),t.rowNodeTransaction.add=l}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(d=>{const f=this.lookupRowNode(e,d);f&&(f.isSelected()&&r.push(f),f.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(f.pinnedSibling,null),f.clearRowTopAndRowIndex(),o[f.id]=!0,delete this.allNodesMap[f.id],i.remove.push(f),n.remove(f))});const l=this.rootNode;l.allLeafChildren=l.allLeafChildren?.filter(d=>!o[d.id])??null,l.allLeafChildren?.forEach((d,f)=>{d.sourceRowIndex=f});const u=l.sibling;u&&(u.allLeafChildren=l.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{update:s}=t;s?.length&&s.forEach(o=>{const l=this.lookupRowNode(e,o);l&&(l.updateData(o),!l.selectable&&l.isSelected()&&r.push(l),i.update.push(l),n.update(l))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new Qc(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&Se(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return Xt(4,{id:i}),null}else if(n=this.rootNode?.allLeafChildren?.find(i=>i.data===t),!n)return Xt(5,{data:t}),null;return n||null}},Xie={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Zie=class extends an{constructor(){super(Xie,[Cx]),this.eCheckbox=Ue}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=Ky(e,i),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(s,o);n.setValue(i,!0),n.setInputAriaLabel(`${l} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:qc,click:i=>{qc(i),this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=typeof i=="object"?YS(i):void 0,o=typeof r=="object"?YS(r):void 0;s!==o&&this.onSelectableChanged()}),NR(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this,r=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const p=n?.callbackParams;if(!e)o=s({...p,node:t,data:t.data});else{const m=e.createColumnFunctionCallbackParams(t);o=s({...p,...m})}}else o=s??!1;const l=r&&!o||!r&&o,u=r||o,d=i.get("rowSelection"),f=d&&typeof d!="string"?!YS(d):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(u&&(l?f:!0)),this.setDisplayed(u&&(l?f:!0)),u&&this.eCheckbox.setDisabled(l),n?.removeHidden){this.setDisplayed(u);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Cd(t):this.column?.getColDef()?.checkboxSelection}},Jie=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){const r=t.slice(0,i),s=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return jr(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const r=jr(n,"bottom",void 0,e),s=i.getRowCount(),o=i.getRow(s-1);return(i.getNodesInRangeForSelection(t,o)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return jr(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const r=jr(n,"top",t,void 0),s=jr(n,"bottom",void 0,e),o=i.getRow(0),l=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,l)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return jr(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const r=jr(n,"top",e,void 0),s=jr(n,"bottom",void 0,t),o=i.getRow(0),l=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(o,l)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return jr(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const r=jr(n,"bottom",void 0,t),s=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,s)??[]).concat(r)}return null}},ere=class extends ue{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Sn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new vx);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Wc(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(i)!==s(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,s=i.getValue(),o=Ky(t,s),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${l} (${o})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return kC(this.gos)?!0:(Se(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Hn(t)||su(t)?!0:(Se(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return wG(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=pB(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function wG({gos:e,selectionColSvc:t},n){const i=e.get("rowSelection"),r=n.getColDef(),{headerCheckboxSelection:s}=r;let o=!1;if(typeof i=="object"){const u=_l(n),d=tx(n);(MC(i)==="autoGroupColumn"&&d||u&&t?.isSelectionColumnEnabled())&&(o=Lv(i))}else typeof s=="function"?o=s(qe(e,{column:n,colDef:r})):o=!!s;return o}var tre=class extends ue{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Jie(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=NR(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=NR(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Zie}createSelectAllFeature(e){if(wG(this.beans,e))return new ere(e)}isMultiSelect(){return kC(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.toggleCss("ag-row-selected",i);const s=r.element;PR(s,i),s.contains(Sn(this.beans))&&t(r)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!wg(e)||!Ac(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Fp(this.gos)){const r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const r=e.childrenAfterGroup[i];let s=r.isSelected();if(!r.selectable){const o=this.calculateSelectedFromChildren(r);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){const r=!e.selectable&&t,s=e.__selected===t;if(r||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const l=e.pinnedSibling;return l&&l.rowPinned&&l.__localEventService&&l.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...gne(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=_l(e)&&Cd(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:r,selectionCtx:s}=this,o=e.isSelected(),l=Fp(r),u=$J(r),d=qJ(r),f=this.isMultiSelect(),p=i==="rowClicked";if(p&&!(u||d))return null;if(t&&n&&f){const m=s.getRoot();if(m)if(m.isSelected()){const C=s.isInRange(e)?s.truncate(e):s.extend(e,l);return{deselect:C.discard,select:C.keep,reset:!1}}else{const C=s.extend(e,l);return{select:[],deselect:C.keep,reset:!1}}else return null}else if(t&&f){const m=s.selectAll?this.beans.rowModel.getRow(0):void 0,C=s.getRoot(m),w=s.isInRange(e)?s.truncate(e):s.extend(e,l);return{select:w.keep,deselect:w.discard,reset:s.selectAll||!!(C&&!C.isSelected())}}else if(n){if(p){const m=!o;return m&&!u||!m&&!d?null:(s.setRoot(e),{node:e,newValue:m,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!f}}else{s.setRoot(e);const m=KJ(r),C=OC(r)==="filteredDescendants",w=p&&(!m||!u);if(C&&o===void 0&&Hn(r))return{node:e,newValue:!1,clearSelection:!f||w};if(p){const E=o?!m:u;return E===o&&!w||E&&!u||!E&&!d?null:{node:e,newValue:E,clearSelection:!f||w,keepDescendants:e.group&&l}}return{node:e,newValue:!o,clearSelection:!f||w}}}},nre=class extends vx{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},cu=class extends bc{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=Te(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{lG(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const i=n.clipboardData?.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},Jy={selector:"AG-INPUT-TEXT-FIELD",component:cu},ire=class extends bc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},rre={selector:"AG-INPUT-TEXT-AREA",component:ire},yx=class extends cu{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){Sn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,wr(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,wr(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,wr(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(Te(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},sre={selector:"AG-INPUT-NUMBER-FIELD",component:yx},ore=class extends cu{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=iu();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Sn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Rr(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,wr(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Rr(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,wr(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,wr(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return or(this.getValue())??void 0}setDate(e,t){this.setValue(Rr(e??null,this.includeTime),t)}},bG={selector:"AG-INPUT-DATE-FIELD",component:ore},are=class extends an{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ae.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case ae.DOWN:case ae.UP:e.preventDefault(),this.navigate(t);break;case ae.PAGE_DOWN:case ae.PAGE_UP:case ae.PAGE_HOME:case ae.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ae.DOWN;let n;const{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let o=i.indexOf(r)+(t?1:-1);o=Math.min(Math.max(o,0),i.length-1),n=i[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),r=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let l=-1;e===ae.PAGE_HOME?l=0:e===ae.PAGE_END?l=r:e===ae.PAGE_DOWN?l=Math.min(i+o,r):e===ae.PAGE_UP&&(l=Math.max(i-o,0)),l!==-1&&this.highlightItem(t[l])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{ca(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();Wc(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{gJ(t,n+1),pJ(t,e.length)})}renderOption(e,t){const n=kn({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=kn({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!fo(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),PR(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!fo(e)||(e.classList.remove(this.activeClass),PR(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},lre=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",cre={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},ure=class extends CG{constructor(e){if(super(e,e?.template||cre,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ue,this.eWrapper=Ue,this.eDisplayField=Ue,this.eIcon=Ue,this.registerCSS(lre),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=Jr(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),AR(e,!1),this.ariaRole&&Wc(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ae.UP:case ae.DOWN:case ae.ENTER:case ae.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ae.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:l,variableWidth:u,beans:d,eWrapper:f}=this,p={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const E=lB(d);this.beforeHidePicker(),E&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:f};e.style.position="absolute";const m=d.popupSvc,C=m.addPopup(p);u?(o&&(e.style.minWidth=o),e.style.width=QT(DC(f)),l&&(e.style.maxWidth=l)):IC(e,l??DC(f));const w=s??`${KT(m.getPopupParent())}px`;return e.style.setProperty("max-height",w),this.alignPickerToComponent(),C.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:s}=this,o=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();AR(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return IC(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},dre=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",wx=class extends ure{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(dre)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Ov(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new are("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),EJ(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===ae.TAB&&this.hidePicker(),t){case ae.ENTER:case ae.UP:case ae.DOWN:case ae.PAGE_UP:case ae.PAGE_DOWN:case ae.PAGE_HOME:case ae.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case ae.ESCAPE:super.onKeyDown(e);break;case ae.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:r},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let u=i.getDisplayValue();return u==null&&r&&(u=r),s.textContent=u,o?.setTooltipAndRefresh(u??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},hre={selector:"AG-SELECT",component:wx},Ed={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},SG=class extends ue{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:l,onFocusIn:u,onFocusOut:d,shouldStopEventPropagation:f,onTabKeyDown:p,handleKeyDown:m,isEmpty:C,eFocusableElement:w}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=l,this.eFocusableElement=w,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=u,this.providedFocusOut=d,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=m,this.providedIsEmpty=C}postConstruct(){this.createManagedBean(new dh(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():bd(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=ri(this.beans),n=bd(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,s;e?(r=0,s=i):(r=i+1,s=n.length);const o=n.slice(r,s),l=this.gos.get("tabIndex");o.sort((u,d)=>{const f=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return p===l?1:f===l?-1:f===0?1:p===0?-1:f-p}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=bd(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return lu(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},fre=class extends ue{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],s={setTabIndex:R=>{r.forEach(x=>R!=null?x.setAttribute("tabindex",R):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:l,onFocusOut:u,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:w,isFocusableContainer:E}=e;this.tabGuardCtrl=this.createManagedBean(new SG({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:l,onFocusOut:u,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:w,isFocusableContainer:E}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=ri(this.beans).createElement("div"),n=e==="top"?Ed.TAB_GUARD_TOP:Ed.TAB_GUARD_BOTTOM;return t.classList.add(Ed.TAB_GUARD,n),Wc(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Dr(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){XT(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;ca(e),ca(t),super.destroy()}},pre=class extends an{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new fre(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},hc=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Uc,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!ZB(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},gre=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},EG=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${J2}/${this.frameworkName}-data-grid`,MJ(this.baseDocLink)}setInterval(e,t){return new Mt(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){const s=yB(t);s!=null&&(r.passive=s)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function mre(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var vre=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],l1=Object.fromEntries(vre.map((e,t)=>[e,t]));function Cre(e,t){const n=(e.beanName?l1[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?l1[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function yre(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var wre=class extends ue{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:r}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),tG(this.gos,t),this.createManagedBean(new cx(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=fa(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),r.register("gridCtrl",this)}isDetailGrid(){return XB(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:r,focusSvc:s}=this.beans,o=r.allCols,l=Qt(o);if(s.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,s=r.allCols;if(e){if(n.length>1)return this.focusContainer(Qt(n),e);const o=Qt(s);if(i.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Fc(this.beans)){if(i.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(Yc(n[o].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;const r=t[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!Qy(e)||!Fc(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=Sn(this.beans),i=e.findIndex(s=>s.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Yc(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},ot=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},c1={dispatchEvent:"CommunityCore",...ot("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...ot("GridState",{getState:0,setState:0}),...ot("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...ot("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...ot("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...ot("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...ot("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...ot("ValueCache",{expireValueCache:0}),...ot("CellApi",{getCellValue:0}),...ot("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...ot("Sort",{onSortChanged:0}),...ot("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...ot("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...ot("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...ot("HighlightChanges",{flashCells:0}),...ot("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...ot("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...ot("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...ot("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...ot("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...ot("ColumnResize",{setColumnWidths:0}),...ot("ColumnHover",{isColumnHovered:0}),...ot("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...ot("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...ot("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...ot("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...ot("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...ot("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...ot("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...ot("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...ot("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...ot("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...ot("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...ot("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...ot("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...ot("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...ot("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...ot("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...ot("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...ot("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...ot("ContextMenu",{showContextMenu:0}),...ot("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...ot("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...ot("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...ot("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...ot("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...ot("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...ot("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...ot("StatusBar",{getStatusPanel:0})},aE={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},bre=(e,t)=>e.eventSvc.dispatchEvent(t),RG=class{};Reflect.defineProperty(RG,"name",{value:"GridApi"});var Sre=class extends ue{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new RG,this.fns={...aE,dispatchEvent:bre},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(c1))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:i}=this;n!==aE&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)Se(26,{fnName:e,preDestroyLink:i});else{const r=c1[e];n.assertModuleRegistered(r,`api.${e}`)&&Se(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=aE,this.beans=null}};function Ere(e){return e.context.getGridId()}function Rre(e){e.gridDestroySvc.destroy()}function Tre(e){return e.gridDestroySvc.destroyCalled}function xre(e,t){return e.gos.get(t)}function Dre(e,t,n){TG(e,{[t]:n})}function TG(e,t){e.gos.updateGridOptions({options:t})}function Are(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var Pre={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},Ire=class extends an{constructor(e,t,n){super(Pre),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Jr("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:r}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(i,0,0),s){const l=qe(r,{rowNode:t,dragEvent:e});s(l)}else try{const l=JSON.stringify(t.data);o.setData("application/json",l),o.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Fre(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function Mre(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function _re(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function kre(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function Ore(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const i=t?.row;let r=t?.dropIndicatorPosition;r!=="above"&&r!=="below"&&r!=="inside"&&(r="none");const s=i?.rowIndex;s==null||r==="none"?n.clear():n.set(i,r)}var Lre=class extends ue{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Nre={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},Vre=class extends an{constructor(e,t,n,i,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(Nre),this.getGui().appendChild(Jr("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const r=i.get("rowDragManaged")?new Gre(this,t,n):new Bre(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const i=this.getDragItem(),r=i.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},xG=class extends ue{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let i=!t,r=!1;const{column:s,rowNode:o,parent:l}=this;if(s){const u=s.getColDef().rowDrag;r=typeof u=="function",i=(t?!!u:s.isRowDrag(o))||l.isCustomGui()}r?(l.setDisplayed(!0,n),l.setVisible(i&&!t,n)):(l.setDisplayed(i,n),l.setVisible(!t,n))}}},Bre=class extends xG{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Gre=class extends xG{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),l=r&&!o||s;this.setDisplayedOrVisible(l,this.rowNode.footer)}},Lp=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let r=0,s=i.length;r<s;++r){const o=i[r];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},Hre=class extends ue{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;Hn(t)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{const r=i.gridBodyCtrl;let s=0;const o=()=>r.scrollFeature.getVScrollPosition().top;this.autoScrollService=new gre({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:l=>r.scrollFeature.setVerticalScrollPosition(l),onScrollCallback:()=>{const l=o();if(s!==l){s=l;const u=this.lastDraggingEvent;u&&this.onDragging(u)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((r,s)=>r.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e);if(!(i.get("rowDragManaged")&&this.shouldPreventRowMove()))if(i.get("suppressMoveWhenRowDragging")||!r){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),l=o?.target,u=this.beans.rowDropHighlightSvc;l&&o.rows.length?u.set(l,o.position):u.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Qt(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:i}=e.dragItem,s=i?.length&&(n??i[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:l,clientSideRowModel:u}=this,d=u.rootNode,f=j_(o,e).y;let p=u.getRowIndexAtPixel(f),m=u.getRow(p)??null;const C=s!==m;let w=m?(f-m.rowTop-m.rowHeight/2)/m.rowHeight||0:1;const E=this.isFromThisGrid(e),x=gB(l)!=="group"&&E;let D=null;if(x&&m?.footer){D=m.sibling??d;const B=Jf(u,-1,m)??Jf(u,1,m);w=B&&B.rowIndex>m.rowIndex?-.5:.5,m=B??null}let A=w<0,L=!1;if(E&&m){if(C){if(L=i.indexOf(m)>=0,L){const B=zre(u,p<s.rowIndex,i);B?.parent===m.parent&&(m=B,p=m.rowIndex)}}else{if(Math.abs(w)<=.5)return this.makeGroupThrottleClear(),null;L=!0}(L||!x&&Math.abs(p-s.rowIndex)===1)&&(A=p<s.rowIndex)}const V=this.makeGroupThrottleTarget;V!==null&&V!==m&&this.makeGroupThrottleClear(),m?.expanded&&m.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=m),D===null&&x&&(!m||w>=.5&&m.rowIndex===o.pageBounds.getLastRow()?D=d:this.targetShouldBeParent(m,w,L,i)&&(this.makeGroupThrottled&&(D=m),t&&(D===null||!m.expanded)&&(this.makeGroupThrottleTarget=m,this.makeGroupThrottleStart())),D??(D=m?.parent??d));let I=!1;if(D!==null){if(D===m&&D!==d){I=!0;const B=D.expanded?Jf(u,1,m):null;B?.parent===D&&(m=B,I=!1,A=!0)}if(m&&!I){let B=m;for(;B&&B!==d&&B!==D;)m=B,B=B.parent}Wre(i,D)&&(D=null)}if(!D&&L&&(x||s===m))return null;const _=I?"inside":A?"above":"below",F={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:E,position:_,source:s,target:m,newParent:D,rows:i};let k=!1;const O=l.get("isRowValidDropPosition");if(O){const B=O(F);B?typeof B=="object"&&(B.rows!==void 0&&(F.rows=B.rows??LC),B.newParent!==void 0&&(F.newParent=B.newParent),B.target!==void 0&&(F.target=B.target),B.position&&(k=!0,F.position=B.position)):F.rows=LC}return(!F.newParent||!F.rows.length)&&!k&&(F.position=A?"above":"below"),F}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,i){const r=e?.rowIndex;if(n||r===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,l=r+1;const u=this.clientSideRowModel;do o=u.getRow(l++);while(o&&o.footer);const d=e.childrenAfterGroup;if(o&&o.parent===e&&d?.length){const f=new Set(i);for(const p of d)if(p.rowIndex!==null&&!f.has(p))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){Se(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Se(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));const i={isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let l;return e?l={getContainer:t,onDragEnter:e.onDragEnter?u=>{n(u),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}:n,onDragLeave:e.onDragLeave?u=>{i(u),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}:i,onDragging:e.onDragging?u=>{r(u),e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}:r,onDragStop:e.onDragStop?u=>{s(u),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}:s,onDragCancel:e.onDragCancel?u=>{o(u),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}:o,fromGrid:!0}:l={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,onDragCancel:o,fromGrid:!0},l}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:r,gos:s}=n,o=j_(this.beans,t).y,l=o>i.getCurrentPagePixelRange().pageLastPixel;let u=-1,d;return l||(u=r.getRowIndexAtPixel(o),d=r.getRow(u)),qe(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:u,overNode:d,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const i=this.managedRowsDrop(e,!1);i&&this.dropRows(i),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const i=Gd(this.gos),r=this.clientSideRowModel,s=n.filter(({data:l,rowPinned:u})=>!r.getRowNode(i?.({data:l,level:0,rowPinned:u})??l.id)).map(({data:l})=>l);if(s.length===0)return!1;const o=t?u1(t)+(e==="above"?0:1):void 0;return r.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Lp(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:i}){let r=!1;const s=this.clientSideRowModel,o=new Set;for(const f of n){if(f.footer||f.rowTop===null&&f!==s.getRowNode(f.id))continue;if(i&&f.parent!==i){if(Ure(f,i))continue;f.treeParent=i,r=!0}const p=DG(f);p&&o.add(p)}if(!r&&o.size===0)return!1;const l=this.beans.focusSvc,u=l.getFocusedCell(),d=u&&Gf(this.beans,u);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(r=!0),r?(this.refreshModelAfterDrop(),d?d.focusCell():l.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const i=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let r=u1(t);r<0||r>=i?r=i:n||++r;let s=r,o=Math.min(r,i-1);for(const l of e){const u=l.sourceRowIndex;u<s&&(s=u),u>o&&(o=u)}return[s,r,o]}reorderLeafChildren(e,t,n,i){let r=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let u=t;u<n;++u){const d=s[u];e.has(d)||(d.sourceRowIndex!==o&&(d.sourceRowIndex=o,s[o]=d,r=!0),++o)}let l=i;for(let u=i;u>=n;--u){const d=s[u];e.has(d)||(d.sourceRowIndex!==l&&(d.sourceRowIndex=l,s[l]=d,r=!0),--l)}for(const u of e)u.sourceRowIndex!==o&&(u.sourceRowIndex=o,s[o]=u,r=!0),++o;return r}},zre=(e,t,n)=>t?Jf(e,-1,n[0]):Jf(e,1,Qt(n)),Jf=(e,t,n)=>{if(n){const i=e.getRowCount();let r=n.rowIndex+t;for(;r>=0&&r<i;){const s=e.getRow(r);if(!s||!s.footer)return s;r+=t}}},Ure=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},Wre=(e,t)=>{for(let n=0,i=e.length;n<i;++n)if(e[n].parent!==t)return!1;return!0},u1=e=>{const t=DG(e);return t!==void 0?t.sourceRowIndex:-1},DG=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},jre=class extends ue{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new Hre(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,s){return new Vre(e,t,n,i,r,s)}createRowDragCompForRow(e,t){if(Tl(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,s){const o=this.gos;return o.get("rowDragManaged")&&(!Hn(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,s)}},$re=class extends ue{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,i=e.uiLevel,r=t!==this.position,s=i!==this.uiLevel;(n||r||s)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},AG={moduleName:"Drag",version:Pe,beans:[fne]},qre={moduleName:"DragAndDrop",version:Pe,dynamicBeans:{dndSourceComp:Ire},icons:{rowDrag:"grip"}},PG={moduleName:"SharedDragAndDrop",version:Pe,beans:[hne],dependsOn:[AG],userComponents:{agDragAndDropImage:kie},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Kre={moduleName:"RowDrag",version:Pe,beans:[$re,jre],apiFunctions:{addRowDropZone:Fre,removeRowDropZone:Mre,getRowDropZoneParams:_re,getRowDropPositionIndicator:kre,setRowDropPositionIndicator:Ore},dependsOn:[PG]},Yre={moduleName:"HorizontalResize",version:Pe,beans:[Lre],dependsOn:[AG]},Qre=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Xre=class extends ue{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const r=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function Zre(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function Jre(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var ese=class extends ue{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function tse(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{const s=e.indexOf(i),o=e.indexOf(r);return s-o})}function nse(e){const t=[...e];return e.forEach(n=>{let i=null,r=n.getParent();for(;r!=null&&r.getDisplayedLeafColumns().length===1;)i=r,r=r.getParent();i!=null&&(!!i.getColGroupDef()?.marryChildren?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns()).forEach(l=>{t.includes(l)||t.push(l)})}),t}function ise(e,t,n,i){const r=i.allCols;let s=null,o=null;for(let l=0;l<e.length;l++){const u=e[l],d=n.getProposedColumnOrder(t,u);if(!n.doesOrderPassRules(d))continue;const f=d.filter(m=>r.includes(m));if(o===null)o=f;else if(!au(f,o))break;const p=sse(d);(s===null||p<s.fragCount)&&(s={move:u,fragCount:p})}return s}function IG(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gos:l,colModel:u,colMoves:d,visibleCols:f}=e;let{allMovingColumns:p}=e;t&&(p=nse(p));const m=p.slice();tse(u.getCols(),m);const C=ase({movingCols:m,draggingRight:n,xPosition:i,pinned:o,gos:l,colModel:u,visibleCols:f}),w=rse(m,u);if(C.length===0)return;const E=C[0];if(w!==null&&(t||!r)&&!s&&(!n&&E>=w||n&&E<=w))return;const x=ise(C,m,d,f);if(!x)return;const D=x.move;if(!(D>u.getCols().length-m.length))return{columns:m,toIndex:D}}function FG(e){const{columns:t,toIndex:n}=IG(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function rse(e,t){const n=t.getCols(),i=e.map(u=>n.indexOf(u)).sort((u,d)=>u-d),r=i[0];return Qt(i)-r!==i.length-1?null:r}function sse(e){function t(i){const r=[];let s=i.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),s=t(e[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function ose(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function ase(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:s,colModel:o,visibleCols:l}=e;if(s.get("suppressMovableColumns")||t.some(A=>A.getColDef().suppressMovable))return[];const d=ose(l,r),f=o.getCols(),p=d.filter(A=>t.includes(A)),m=d.filter(A=>!t.includes(A)),C=f.filter(A=>!t.includes(A));let w=0,E=i;if(n){let A=0;p.forEach(L=>A+=L.getActualWidth()),E-=A}if(E>0){for(let A=0;A<m.length;A++){const L=m[A];if(E-=L.getActualWidth(),E<0)break;w++}n&&w++}let R;if(w>0){const A=m[w-1];R=C.indexOf(A)+1}else R=C.indexOf(m[0]),R===-1&&(R=0);const x=[R],D=(A,L)=>A-L;if(n){let A=R+1;const L=f.length-1;for(;A<=L;)x.push(A),A++;x.sort(D)}else{let A=R;const L=f.length-1;let V=f[A];for(;A<=L&&d.indexOf(V)<0;)A++,x.push(A),V=f[A];A=R-1;const I=0;for(;A>=I;)x.push(A),A--;x.sort(D).reverse()}return x}function QR(e){const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:s,skipScrollPadding:o}=e;let l=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:u}=e;return l?(n&&(u-=l.getBoundingClientRect().left),i.get("enableRtl")&&(s&&(l=l.querySelector(".ag-header-row")),u=l.clientWidth-u),t==null&&!o&&(u+=r.get("center").getCenterViewportScrollLeft()),u):0}function lE(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var d1=7,XR=100,av=XR/2,lse=5,cse=100,use=class extends ue{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Te(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(const r of i){const s=r.getPinned();if(r.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const r=t.visibleState,s=(n||[]).filter(o=>r[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:r,ctrlsSvc:s}=this.beans,o=r.get("suppressMoveWhenColumnDragging");if(i&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&mn(e.hDirection))return;const l=QR({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:s});t||this.checkCenterForScrolling(l),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,l,i):this.handleColumnDragWhileAllowingMovement(e,t,n,l,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const i=e.filter(r=>!r.getColDef().lockVisible);i.length&&this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:l,xPosition:u}=this.getNormalisedXPositionInfo(s,o)||{};if(l==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:u,fromEnter:t,fakeEvent:n,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:l,xPosition:i,fromLeft:o,fromEnter:t,fakeEvent:n}),d=FG({...u,finished:r});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:o}=e,{gos:l,colModel:u,colMoves:d,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:l,colModel:u,colMoves:d,visibleCols:f}}highlightHoveredColumn(e,t){const{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),s=i.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let o=null,l=null,u=null;for(const f of s){if(l=f.getActualWidth(),o=this.getNormalisedColumnLeft(f,0,r),o!=null){const p=o+l;if(o<=t&&p>=t){u=f;break}}o=null,l=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let f=s.length-1;f>=0;f--){const p=s[f],m=s[f].getParent();if(!m){u=p;break}const C=m?.getDisplayedLeafColumns();if(C.length){u=Qt(C);break}}if(!u)return;o=this.getNormalisedColumnLeft(u,0,r),l=u.getActualWidth()}if(this.lastHighlightedColumn?.column!==u&&this.clearHighlighted(),u==null||o==null||l==null)return;let d;t-o<l/2!==r?d=0:d=1,h1(u,d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:s,column:o,position:l}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!o||l==null)return;const u=i.allCols,d=u.indexOf(s),f=u.indexOf(o),p=l===0!==r,m=d<f||d===f&&!p;let C=0;if(p?m&&(C-=1):m||(C+=1),f+C===d)return;const w=u[f+C];if(!w)return;const E=this.getNormalisedColumnLeft(w,20,r);return{fromLeft:m,xPosition:E}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=dse(e);if(!r||!s||i.column||!t)return{firstMovingCol:r,...i};const l=this.getPinDirection()==="left";return{firstMovingCol:r,position:l?1:0,column:l!==n?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:r}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return QR({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>d1;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:r}),{columns:l,toIndex:u}=IG(o)||{};l&&u!=null&&(this.lastMovedInfo={columns:l,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(h1(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let r,s;this.gos.get("enableRtl")?(r=e<n+av,s=e>i-av):(s=e<n+av,r=e>i-av),this.needToMoveRight=r,this.needToMoveLeft=s,s||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),cse),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*lse,e>XR&&(e=XR);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:i,dragAndDrop:r,gos:s}=this.beans;if(this.failedMoveAttempts<=d1+1||!i)return;if(r.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:r,dragAndDrop:s}=this.beans;return r?.setColsPinned(i,t,"uiColumnDragged"),n&&s.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function h1(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function dse(e){const t=e.length;let n,i;for(let r=0;r<t;r++){if(!n){const s=e[r];s.getLeft()!=null&&(n=s)}if(!i){const s=e[t-1-r];s.getLeft()!=null&&(i=s)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var hse=class extends ue{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r;const s=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[s,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[s,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[s,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new use(n)),this.bodyDropPivotTarget=this.createManagedBean(new ese(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},fse=class extends ue{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){const{colModel:r,colAnimation:s,visibleCols:o,eventSvc:l}=this.beans,u=r.getCols();if(!u)return;if(t>u.length-e.length){Se(30,{toIndex:t});return}s?.start();const d=r.getColsForKeys(e);this.doesMovePassRules(d,t)&&(V_(r.getCols(),d,t),o.refresh(n),l.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:i,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!AB(e,t.getColTree())||!(r=>{const s=d=>d?d==="left"||d===!0?-1:1:0,o=n.get("enableRtl");let l=o?1:-1,u=!0;return r.forEach(d=>{const f=s(d.getColDef().lockPosition);o?f>l&&(u=!1):f<l&&(u=!1),l=f}),u})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return V_(i,e,t),i}createBodyDropTarget(e,t){return new hse(e,t)}moveHeader(e,t,n,i,r){const{ctrlsSvc:s,gos:o,colModel:l,visibleCols:u,focusSvc:d}=this.beans,f=t.getBoundingClientRect(),p=f.left,m=Mn(n),C=m?f.width:n.getActualWidth(),w=e==="left"!==o.get("enableRtl"),E=QR({x:w?p-20:p+C+20,pinned:i,fromKeyboard:!0,gos:o,ctrlsSvc:s}),R=d.focusedHeader;FG({allMovingColumns:m?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:E,pinned:i,fromEnter:!1,fakeEvent:!1,gos:o,colModel:l,colMoves:this,visibleCols:u,finished:!0});let x;if(m){const D=n.getDisplayedLeafColumns();x=w?D[0]:Qt(D)}else x=n;if(s.getScrollFeature().ensureColumnVisible(x,"auto"),(!r.isAlive()||o.get("ensureDomOrder"))&&R){let D;if(m){const A=n.getGroupId(),L=n.getLeafColumns();if(!L.length)return;const V=L[0].getParent();if(!V)return;D=pse(V,A)}else D=n;D&&d.focusHeaderPosition({headerPosition:{...R,column:D}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:r,dragAndDrop:s,visibleCols:o}=this.beans;let l=!i.get("suppressDragLeaveHidesColumns");const u=Mn(t),d=u?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:u?()=>mse(t,o.allCols):()=>gse(t),dragItemName:n,onDragStarted:()=>{l=!i.get("suppressDragLeaveHidesColumns"),lE(d,!0)},onDragStopped:()=>lE(d,!1),onDragCancelled:()=>lE(d,!1),onGridEnter:m=>{if(l){const{columns:C=[],visibleState:w}=m??{},E=u?x=>!w||w[x.getColId()]:()=>!0,R=C.filter(x=>!x.getColDef().lockVisible&&E(x));r.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:m=>{if(l){const C=m?.columns?.filter(w=>!w.getColDef().lockVisible)||[];r.setColsVisible(C,!1,"uiColumnMoved")}}};return s.addDragSource(p,!0),p}};function pse(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function gse(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function mse(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(l=>i[l.getId()]=l.isVisible());const r=[];t.forEach(l=>{n.indexOf(l)>=0&&(r.push(l),as(n,l))}),n.forEach(l=>r.push(l));const s=[],o=e.getLeafColumns();for(const l of r)o.indexOf(l)!==-1&&s.push(l);return{columns:r,columnsInSplit:s,visibleState:i,containerType:s[0]?.pinned}}var vse={moduleName:"ColumnMove",version:Pe,beans:[fse,Xre],apiFunctions:{moveColumnByIndex:Zre,moveColumns:Jre},dependsOn:[PG],css:[Qre]},Cse=class extends ue{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),i.appendChild(n);const r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(l=>n.classList.contains(l))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(u=>o.classList.contains(u))){for(let u=0;u<o.classList.length;u++){const d=o.classList[u];d!="ag-row-position-absolute"&&r.add(d)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}},MG={moduleName:"AutoWidth",version:Pe,beans:[Cse]};function yse(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var wse=class extends ue{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){const t=u=>u.reduce((d,f)=>d+f.getActualWidth(),0),n=(u,d)=>u.map(f=>f.getActualWidth()/d),i=this.getColumnsToResize(),r=t(i),s=n(i,r),o={columnsToResize:i,resizeStartWidth:r,resizeRatios:s};let l=null;if(e&&(l=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),l){const u=l.getDisplayedLeafColumns(),d=o.groupAfterColumns=u.filter(p=>p.isResizable()),f=o.groupAfterStartWidth=t(d);o.groupAfterRatios=n(d,f)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:d}=e,f=[];if(f.push({columns:r,ratios:o,width:t}),l){const p=t-s;f.push({columns:l,ratios:d,width:u-p})}this.beans.colResize?.resizeColumnSets({resizeSets:f,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},bse=class extends ue{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const e=[];let t,n;const i=()=>{if(wn(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:l}=this.beans,u=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(u),n&&l&&e.push(l.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||l!==n)&&(t=o,n=l,r(),i())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:s}=this,o=this.normaliseResizeAmount(t),l=r+o,u=[{key:n,newWidth:l}],{pinnedCols:d,ctrlsSvc:f,colResize:p}=s;if(this.column.getPinned()){const m=d?.leftWidth??0,C=d?.rightWidth??0,w=Pp(f.getGridBodyCtrl().eBodyViewport)-50;if(m+C+(o-i)>w)return}this.lastResizeAmount=o,p?.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},Sse=class extends ue{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const r=[],{colModel:s,gos:o,visibleCols:l}=this.beans;e.forEach(u=>{const d=s.getColDefCol(u.key)||s.getCol(u.key);if(!d)return;if(r.push({width:u.newWidth,ratios:[1],columns:[d]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const p=l.getColAfter(d);if(!p)return;const m=d.getActualWidth()-u.newWidth,C=p.getActualWidth()+m;r.push({width:C,ratios:[1],columns:[p]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(f=>Ese(f)))){if(n){const f=t&&t.length>0?t[0].columns:null;Hd(this.eventSvc,f,n,i)}return}const s=[],o=[];t.forEach(f=>{const{width:p,columns:m,ratios:C}=f,w={},E={};m.forEach(D=>o.push(D));let R=!0,x=0;for(;R;){if(x++,x>1e3){Xt(31);break}R=!1;const D=[];let A=0,L=p;m.forEach((I,_)=>{if(E[I.getId()])L-=w[I.getId()];else{D.push(I);const k=C[_];A+=k}});const V=1/A;D.forEach((I,_)=>{const F=_===D.length-1;let k;F?k=L:(k=Math.round(C[_]*p*V),L-=k);const O=I.getMinWidth(),B=I.getMaxWidth();k<O?(k=O,E[I.getId()]=!0,R=!0):B>0&&k>B&&(k=B,E[I.getId()]=!0,R=!0),w[I.getId()]=k})}m.forEach(D=>{const A=w[D.getId()];D.getActualWidth()!==A&&(D.setActualWidth(A,i),s.push(D))})});const l=s.length>0;let u=[];if(l){const{colFlex:f,visibleCols:p,colViewport:m}=this.beans;u=f?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],p.setLeftValues(i),p.updateBodyWidths(),m.checkViewportColumns()}const d=o.concat(u);(l||n)&&Hd(this.eventSvc,d,n,i,u)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),r=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(i+t,r),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new bse(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new wse(e,t,n,i)}};function Ese(e){const{columns:t,width:n}=e;let i=0,r=0,s=!0;t.forEach(u=>{const d=u.getMinWidth();i+=d||0;const f=u.getMaxWidth();f>0?r+=f:s=!1});const o=n>=i,l=!s||n<=r;return o&&l}var Rse={moduleName:"ColumnResize",version:Pe,beans:[Sse],apiFunctions:{setColumnWidths:yse},dependsOn:[Yre,MG]},Tse=class extends ue{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},xse=class extends gx{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){const{column:s,beans:o}=this,{context:l,colNames:u,colHover:d,rangeSvc:f,colResize:p}=o;this.comp=e,r=Cg(this,l,r),this.setGui(t,r),this.displayName=u.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,C=s.getProvidedColumnGroup().getLeafColumns();d?.createHoverFeature(r,C,t),f?.createRangeHighlightFeature(r,s,e),r.createManagedBean(new px(s,t,o)),r.createManagedBean(new Tse(e,s)),p?this.resizeFeature=r.createManagedBean(p.createGroupResizeFeature(e,n,m,s)):e.setResizableDisplayed(!1),r.createManagedBean(new dh(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,C),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return qe(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=Qt(t)===e;if(!n&&!i)return;const r=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(u=>u.column.isMoving());let o=!1,l=!1;if(s){const u=this.beans.gos.get("enableRtl"),d=r===1,f=r===0;n&&(u?l=d:o=f),i&&(u?o=f:l=d)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,r=this.column,s=r.getProvidedColumnGroup(),o=qe(n,{displayName:this.displayName,columnGroup:r,setExpanded:u=>{e.setColumnGroupOpened(s,u,"gridInitializing")},setTooltip:(u,d)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(u,d)},showColumnMenu:(u,d)=>i?.showMenuAfterButtonClick(s,u,"columnMenu",d),showColumnMenuAfterMouseClick:(u,d)=>i?.showMenuAfterMouseEvent(s,u,"columnMenu",d),eGridHeader:this.eGui}),l=tte(t,o);l&&this.comp.setUserCompDetails(l)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=YB(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(s=>{e.addManagedListeners(s,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ae.ENTER){const n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Dse(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function Ase(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function Pse(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function Ise(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function Fse(e){return e.colGroupSvc?.getColumnGroupState()??[]}function Mse(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function _se(e){e.colGroupSvc?.resetColumnGroupState("api")}function kse(e){return e.visibleCols.treeLeft}function Ose(e){return e.visibleCols.treeCenter}function Lse(e){return e.visibleCols.treeRight}function Nse(e){return e.visibleCols.getAllTrees()}function Vse(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var Bse=class extends ue{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:i,colGroupSvc:r,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(i,r),r?.updateOpenClosedVisibility(),this.leftCols=cE(this.treeLeft),this.centerCols=cE(this.treeCenter),this.rightCols=cE(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const i=n.getProvidedColumnGroup().getLevel()+1;i>e&&(e=i);break}n=n.getParent()}}return e}updateBodyWidths(){const e=zo(this.centerCols),t=zo(this.leftCols),n=zo(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,s;this.gos.get("enableRtl")?(r=t?t[0]:null,s=n?Qt(n):null):(r=t?Qt(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===r,i),o.setFirstRightPinned(o===s,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(u=>u.getPinned()=="left"),r=n.filter(u=>u.getPinned()=="right"),s=n.filter(u=>u.getPinned()!="left"&&u.getPinned()!="right"),o=new _B,l=u=>t?t.createColumnGroups(u):u.columns;this.treeLeft=l({columns:i,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:r,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],r=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):r.push(s):i.push(s)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return Mn(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Mn(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(r){let o=zo(s);s.forEach(l=>{o-=l.getActualWidth(),l.setLeft(o,e)})}else{let o=0;s.forEach(l=>{l.setLeft(o,e),o+=l.getActualWidth()})}Vse(i,s)}),i.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const r=[];let s=null;for(let o=0;o<t.length;o++){const l=t[o],u=t.length-o,d=Math.min(l.getColSpan(e),u),f=[l];if(d>1){const m=d-1;for(let C=1;C<=m;C++)f.push(t[o+C]);o+=m}let p;n?(p=!1,f.forEach(m=>{n(m)&&(p=!0)})):p=!0,p&&(r.length===0&&s&&(i&&i(l))&&r.push(s),r.push(l)),s=l}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Mc(this.treeCenter,!1,e),Mc(this.treeLeft,!1,e),Mc(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?Qt(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return zo(this.leftCols)}getDisplayedColumnsRightWidth(){return zo(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let r;if(Mn(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:Qt(s)}else r=e;return(i?n[0]:Qt(n))===r}};function Mc(e,t,n){if(e)for(let i=0;i<e.length;i++){const r=e[i];if(Mn(r)){const s=t?r.getDisplayedChildren():r.getChildren();Mc(s,t,n)}n(r)}}function cE(e){const t=[];return Mc(e,!0,n=>{xl(n)&&t.push(n)}),t}var Gse=class extends ue{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return ta(null,t,n=>{Ai(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];ta(null,t,i=>{if(Ai(i)){const r=i.getColGroupDef(),s={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:r,eventSvc:s}=this.beans;if(!n.getColTree().length)return;i?.start();const l=[];e.forEach(u=>{const d=u.groupId,f=u.open,p=this.getProvidedColGroup(d);p&&p.isExpanded()!==f&&(p.setExpanded(f),l.push(p))}),r.refresh(t,!0),l.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),i?.finish()}setColumnGroupOpened(e,t,n){let i;Ai(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return ta(null,this.beans.colModel.getColTree(),n=>{Ai(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?Qt(i):i[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](r);if(!o)return null;const l=this.getColGroupAtLevel(o,n);if(l!==e)return l}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Mc(e,!1,t=>{Mn(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Mn(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let r=null;return Mc(n,!1,s=>{if(Mn(s)){const o=s;let l;i?l=e===o.getGroupId()&&t===o.getPartId():l=e===o.getGroupId(),l&&(r=o)}}),r}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),l=[];let u=t;for(;u.length;){const d=u;u=[];let f=0;const p=m=>{const C=f;f=m;const w=d[C],R=(Mn(w)?w.getProvidedColumnGroup():w).getOriginalParent();if(R==null){for(let D=C;D<m;D++)l.push(d[D]);return}const x=this.createColumnGroup(R,n,o,i,s);for(let D=C;D<m;D++)x.addChild(d[D]);u.push(x)};for(let m=1;m<d.length;m++){const C=d[m],E=(Mn(C)?C.getProvidedColumnGroup():C).getOriginalParent(),R=d[f],D=(Mn(R)?R.getProvidedColumnGroup():R).getOriginalParent();E!==D&&p(m)}f<d.length&&p(d.length)}return s||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,n,i,r,s,o){const l=r.getUniqueKey(t.groupId||null,null),u=N_(this.beans,t,l),d=new Bv(u,l,!1,n);this.createBean(d);const f=this.findExistingGroup(t,s);f&&s.splice(f.idx,1);const p=f?.group;p&&d.setExpanded(p.isExpanded());const m=TB(this.beans,u.children,n+1,e,i,r,s,o);return d.setChildren(m),d}balanceColumnTree(e,t,n,i){const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(Ai(o)){const l=o,u=this.balanceColumnTree(l.getChildren(),t+1,n,i);l.setChildren(u),r.push(l)}else{let l,u;for(let d=t;d<n;d++){const f=i.getUniqueKey(null,null),p=N_(this.beans,null,f),m=new Bv(p,f,!0,d);this.createBean(m),u&&u.setChildren([m]),u=m,l||(l=u)}if(l&&u)if(r.push(l),e.some(f=>Ai(f))){u.setChildren([o]);continue}else{u.setChildren(e);break}r.push(o)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Ai(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const r=e[i];if(Ai(r)){const s=r,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(i=>{let r=i;for(let s=t-1;s>=0;s--){const o=new Bv(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([r]),r.originalParent=o,r=o}t===0&&(i.originalParent=null),n.push(r)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),l=iG(s,o);let u=n[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),Te(u)?u.reset():(u=new Op(e,s,o,i),r||this.createBean(u)),u}mapOldGroupsById(e){const t={},n=i=>{i.forEach(r=>{if(Mn(r)){const s=r;t[r.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Mn(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},Hse={moduleName:"ColumnGroup",version:Pe,dynamicBeans:{headerGroupCellCtrl:xse},beans:[Gse],apiFunctions:{getAllDisplayedColumnGroups:Nse,getCenterDisplayedColumnGroups:Ose,getColumnGroup:Ase,getColumnGroupState:Fse,getDisplayNameForColumnGroup:Ise,getLeftDisplayedColumnGroups:kse,getProvidedColumnGroup:Pse,getRightDisplayedColumnGroups:Lse,resetColumnGroupState:_se,setColumnGroupOpened:Dse,setColumnGroupState:Mse}},zse={tag:"div",cls:"ag-skeleton-container"},Use=class extends an{constructor(){super(zse)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Dp(t.eParentOfValue)),Dp(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");Bd(this.getGui(),n)}setupLoading(t){const n=kn({tag:"div",cls:"ag-skeleton-effect"}),i=t.node.rowIndex;if(i!=null){const o=75+25*(i%2===0?Math.sin(i):Math.cos(i));n.style.width=`${o}%`}this.getGui().appendChild(n);const r=this.getLocaleTextFunc(),s=t.deferRender?r("ariaDeferSkeletonCellLoading","Cell is loading"):r("ariaSkeletonCellLoading","Row data is loading");Bd(this.getGui(),s)}refresh(t){return!1}},Wse={moduleName:"CheckboxCellRenderer",version:Pe,userComponents:{agCheckboxCellRenderer:Gie}},jse={moduleName:"SkeletonCellRenderer",version:Pe,userComponents:{agSkeletonCellRenderer:Use}};function $se(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function qse(e){return e.colModel.getColumnDefs()}function Kse(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function Yse(e,t){return e.colModel.getColDefCol(t)}function Qse(e){return e.colModel.getColDefCols()}function Xse(e,t){return ws(e,t,"api")}function Zse(e){return BC(e)}function Jse(e){Dee(e,"api")}function eoe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function toe(e){return e.visibleCols.isPinningLeft()}function noe(e){return e.visibleCols.isPinningRight()}function ioe(e,t){return e.visibleCols.getColAfter(t)}function roe(e,t){return e.visibleCols.getColBefore(t)}function soe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function ooe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function aoe(e){return e.colModel.getCols()}function loe(e){return e.visibleCols.leftCols}function coe(e){return e.visibleCols.centerCols}function uoe(e){return e.visibleCols.rightCols}function doe(e){return e.visibleCols.allCols}function hoe(e){return e.colViewport.getViewportColumns()}function ZR(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||_2.has(r))return;const s=n[r];typeof s=="object"&&s!==null&&s.constructor===Object?i[r]=ZR(s):i[r]=s}),i}var foe=class extends ue{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){const r=e.slice();t?r.sort((l,u)=>n.indexOf(l)-n.indexOf(u)):n&&r.sort((l,u)=>i.indexOf(l)-i.indexOf(u));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,s,o)}buildColumnDefs(e,t=[],n=[]){const i=[],r={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let l=!0,u=o,d=s.getOriginalParent(),f=null;for(;d;){let p=null;if(d.isPadding()){d=d.getOriginalParent();continue}const m=r[d.getGroupId()];if(m){m.children.push(u),l=!1;break}if(p=this.createDefFromGroup(d),p&&(p.children=[u],r[p.groupId]=p,u=p,d=d.getOriginalParent()),d!=null&&f===d){l=!1;break}f=d}l&&i.push(u)}),i}createDefFromGroup(e){const t=ZR(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=ZR(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},poe=class extends ue{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:i}=this.beans,r=i.centerCols;let s=-1;if(e.resizingCols){const w=new Set(e.resizingCols);for(let E=r.length-1;E>=0;E--)if(w.has(r[E])){s=E;break}}let o=!1;const l=r.map((w,E)=>{const R=w.getFlex(),x=R!=null&&R>0&&E>s;return o||(o=x),{col:w,isFlex:x,flex:Math.max(0,R??0),initialSize:w.getActualWidth(),min:w.getMinWidth(),max:w.getMaxWidth(),targetSize:0}});if(!o)return[];let u=l.length,d=l.reduce((w,E)=>w+E.flex,0),f=n;const p=(w,E)=>{w.frozenSize=E,w.col.setActualWidth(E,t),f-=E,d-=w.flex,u-=1},m=w=>w.frozenSize!=null;for(const w of l)w.isFlex||p(w,w.initialSize);for(;u>0;){const w=Math.round(d<1?f*d:f);let E,R=0,x=0;for(const L of l){if(m(L))continue;E=L,x+=w*(L.flex/d);const V=x-R,I=Math.round(V);L.targetSize=I,R+=I}E&&(E.targetSize+=w-R);let D=0;for(const L of l){if(m(L))continue;const V=L.targetSize,I=Math.min(Math.max(V,L.min),L.max);D+=I-V,L.violationType=I===V?void 0:I<V?"max":"min",L.targetSize=I}const A=D===0?"all":D>0?"min":"max";for(const L of l)m(L)||(A==="all"||L.violationType===A)&&p(L,L.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const C=l.filter(w=>w.isFlex&&!w.violationType).map(w=>w.col);if(e.fireResizedEvent){const w=l.filter(R=>R.initialSize!==R.frozenSize).map(R=>R.col),E=l.filter(R=>R.flex).map(R=>R.col);Hd(this.eventSvc,w,!0,t,E)}return C}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},goe=["dateTimeString","dateString","text","number","boolean","date"],moe=class extends ue{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===ae.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,r)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const l=i==null?"":e({column:s,node:null,value:i}),u=r==null?"":e({column:s,node:null,value:r});return l===u?0:l>u?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},i=f=>p=>{const{column:m,node:C,value:w}=p;let E=m.getColDef().valueFormatter;return E===f.groupSafeValueFormatter&&(E=f.valueFormatter),this.beans.valueSvc.formatValue(m,C,w,E)};for(const f of Object.keys(e)){const p=e[f],m={...p,groupSafeValueFormatter:g1(p,this.gos)};t[f]=m,n[f]=i(m)}const r=this.gos.get("dataTypeDefinitions")??{},s={};for(const f of Object.keys(r)){const p=r[f],m=this.processDataTypeDefinition(p,r,[f],e);m&&(t[f]=m,p.dataTypeMatcher&&(s[f]=p.dataTypeMatcher),n[f]=i(m))}const{valueParser:o,valueFormatter:l}=e.object,{valueParser:u,valueFormatter:d}=t.object;this.hasObjectValueParser=u!==o,this.hasObjectValueFormatter=d!==l,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const i of goe)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[s];const l=t[s];if(o&&l&&(o=l),!p1(e,o,s))return;r=f1(o,e)}else{if(n.includes(s)){Se(44);return}const o=t[s];if(!p1(e,o,s))return;const l=this.processDataTypeDefinition(o,t,[...n,s],i);if(!l)return;r=f1(l,e)}return{...r,groupSafeValueFormatter:g1(r,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){Se(47,{cellDataType:i});return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Hn(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(uE(t,i))return!1;const r=t.type===null?e.type:t.type;if(r){const s=n.get("columnTypes")??{};if(VC(r).some(l=>{const u=s[l.trim()];return u&&uE(u,i)}))return!1}return!uE(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Yf(i,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[r]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},r={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],l=this.colModel.getCol(s);if(!l)return;const u=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))return;const d=l.getColDef();if(t&&d.type&&d.type!==u.type){const f=Coe(l,o);f.rowGroup&&f.rowGroupIndex==null&&(i[s]=f),f.pivot&&f.pivotIndex==null&&(r[s]=f),n.push(f)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&ws(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i?.restoreColumnOrder(n,e),r?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=VR(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>Se(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:i,formatValueFuncs:r}=this,s=n[t];i.colFilter?.setColDefPropsForDataType(e,s,r[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){const r=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:r});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>or(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Rr(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>or(n)??void 0,dateFormatter:n=>Rr(n??null,t)??void 0,valueParser:n=>zv(String(n.newValue))?n.newValue:null,valueFormatter:n=>zv(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&zv(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:DR(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&Dne(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>DR(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function f1(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...VC(e.columnTypes),...VC(t.columnTypes)]),n}function p1(e,t,n){return t?t.baseDataType!==e.baseDataType?(Se(46),!1):!0:(Se(45,{parentCellDataType:n}),!1)}function g1(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const i=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&i!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function voe(e,t,n,i){if(!t[n])return!1;const r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function uE(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>voe(e,t,n,i))}function Coe(e,t){const n=MB(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var yoe={moduleName:"DataType",version:Pe,beans:[moe],dependsOn:[Wse]},woe={moduleName:"ColumnFlex",version:Pe,beans:[poe]},_G={moduleName:"ColumnApi",version:Pe,beans:[foe],apiFunctions:{getColumnDef:$se,getDisplayNameForColumn:Kse,getColumn:Yse,getColumns:Qse,applyColumnState:Xse,getColumnState:Zse,resetColumnState:Jse,isPinning:eoe,isPinningLeft:toe,isPinningRight:noe,getDisplayedColAfter:ioe,getDisplayedColBefore:roe,setColumnsVisible:soe,setColumnsPinned:ooe,getAllGridColumns:aoe,getDisplayedLeftColumns:loe,getDisplayedCenterColumns:coe,getDisplayedRightColumns:uoe,getAllDisplayedColumns:doe,getAllDisplayedVirtualColumns:hoe,getColumnDefs:qse}};function boe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var Soe=class extends ue{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){const s=e.headerValueGetter;if(s){const o=qe(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return boe(e.field)}return""}},Eoe=class extends ue{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=i.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||Roe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,s=t<i&&n<i,o=t>r&&n>r;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return Te(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=i=>{const r=new Set,s={};for(const o of i){let l=o.getParent();const u=o.isSpanHeaderHeight();for(;l&&!r.has(l);){if(u&&l.isPadding()){l=l.getParent();continue}const f=l.getProvidedColumnGroup().getLevel();s[f]??(s[f]=[]),s[f].push(l),r.add(l),l=l.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function Roe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var Toe=class extends ue{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){const s=t(r),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=YT("<span>"+s+"</span>");return}if(s==null){this.eGui=kn({tag:"span"});return}this.eGui=s}}return n}},xoe={moduleName:"CellRendererFunction",version:Pe,beans:[Toe]},Doe=class extends ue{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){const s=(o,l,u,d)=>{this.agGridDefaults[o]=l,(u||d)&&(this.agGridDefaultOverrides[o]={params:u,processParams:d})};for(const o of Object.keys(n)){let l=n[o];if(Rte(l)&&(l=l.getComp(this.beans)),typeof l=="object"){const{classImp:u,params:d,processParams:f}=l;s(o,u,d,f)}else s(o,l)}}if(i){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(i))this.dynamicBeans[s]=i[s]}if(r?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(l,u,d,f)=>({componentFromFramework:u,component:l,params:d,processParams:f}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);const s=this.jsComps[t];if(s){const l=i.isFrameworkComponent(s);return n(s,l)}const o=this.agGridDefaults[t];if(o){const l=this.agGridDefaultOverrides[t];return n(o,!1,l?.params,l?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(lo(279,{name:e}));const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??lo(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},Aoe=23,Poe=class extends ue{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===Aoe&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Ioe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',bx=typeof window!="object"||!window?.document?.fonts?.forEach,Wd=(e,t,n,i,r,s)=>{if(bx)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let o=Rd.map.get(t);if(o||(o=[],Rd.map.set(t,o)),o.find(f=>f.css===e))return;const l=document.createElement("style");s&&l.setAttribute("nonce",s),l.dataset.agGlobalCss=n,l.textContent=e;const u={css:e,el:l,priority:r};let d;for(const f of o){if(f.priority>r)break;d=f}if(d){d.el.insertAdjacentElement("afterend",l);const f=o.indexOf(d);o.splice(f+1,0,u)}else t.insertBefore(l,t.querySelector(":not(title, meta)")),o.push(u)},kG=(e,t,n)=>{Wd(Ioe,e,"core",t,0,n),Array.from(Cte()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>i.css?.forEach(r=>Wd(r,e,`module-${i.moduleName}`,t,0,n)))},Foe=e=>{Rd.grids.add(e)},Moe=e=>{if(Rd.grids.delete(e),Rd.grids.size===0){Rd.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},m1,Rd=(m1=typeof window=="object"?window:{}).agStyleInjectionState??(m1.agStyleInjectionState={map:new WeakMap,grids:new Set}),po=e=>new OG(e),Xa="$default",_oe=0,OG=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams={[Xa]:{...n[Xa]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){const s=`ag-theme-${this.feature??"part"}-${++_oe}`;typeof r=="function"&&(r=r()),r=`:where(.${s}) {
${r}
}
`;for(const o of this.cssImports??[])r=`@import url(${JSON.stringify(o)});
${r}`;i={css:r,class:s}}else i=!1;this._inject=i}return i&&e&&Wd(i.css,e,i.class,t,1,n),i?i.class:!1}},koe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),LG=e=>`--ag-${koe(e)}`,go=e=>`var(${LG(e)})`,Ooe=(e,t,n)=>Math.max(t,Math.min(n,e)),Loe=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},js=e=>({ref:"accentColor",mix:e}),$r=e=>({ref:"foregroundColor",mix:e}),Zr=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Noe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),tr={ref:"backgroundColor"},rd={ref:"foregroundColor"},Uo={ref:"accentColor"},KC={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:$r(.15),chromeBackgroundColor:Zr(.02),browserColorScheme:"light"},Voe={...KC,textColor:rd,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:tr,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Uo,rangeSelectionBackgroundColor:js(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:js(.5),rangeHeaderHighlightColor:Noe(.08),rowNumbersSelectedColor:js(.5),rowHoverColor:js(.08),columnHoverColor:js(.05),selectedRowBackgroundColor:js(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:tr,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:tr,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:$r(.7),focusShadow:{spread:3,color:js(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:$r(.1),iconButtonActiveColor:Uo,iconButtonActiveBackgroundColor:js(.28),iconButtonActiveIndicatorColor:Uo,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Uo,toggleButtonOffBackgroundColor:Zr(.3),toggleButtonSwitchBackgroundColor:tr,toggleButtonSwitchInset:2,menuBorder:{color:$r(.2)},menuBackgroundColor:Zr(.03),menuTextColor:Zr(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:$r(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Uo},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:$r(.2)},panelBackgroundColor:tr,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:$r(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:$r(.13)},selectCellBackgroundColor:$r(.07),selectCellBorder:{color:$r(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:tr,filterPanelApplyButtonBackgroundColor:Uo,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:rd,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:rd,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:$r(.15),statusBarLabelColor:rd,statusBarLabelFontWeight:500,statusBarValueColor:rd,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},Boe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",NG={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},Goe={...NG,cellBatchEditTextColor:"#f3d0b3"},Hoe=()=>po({feature:"batchEditStyle",params:NG,css:Boe}),zoe=Hoe(),Uoe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",Woe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},joe=()=>po({feature:"buttonStyle",params:{...Woe,buttonBackgroundColor:tr,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Uo}},css:Uoe}),$oe=joe(),qoe=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",Koe=()=>po({feature:"columnDropStyle",css:qoe}),VG=Koe(),Yoe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Qoe=Loe(e=>(e=e.toLowerCase(),Yoe.find(t=>e.endsWith(t.toLowerCase()))??"length")),ew=e=>typeof e=="object"&&e?.ref?go(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,Sx=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=go(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?go(e.onto):"transparent"}, ${t} ${Ooe(e.mix*100,0,100)}%)`}return!1},Xoe=ew,ad=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${go(n)} `)})`:e&&"ref"in e?go(e.ref):!1,Zoe=ew,JR=(e,t)=>typeof e=="string"?e:e===!0?JR({},t):e===!1?t==="columnBorder"?JR({color:"transparent"},t):"none":e&&"ref"in e?go(e.ref):BG(e.style??"solid")+" "+ad(e.width??{ref:"borderWidth"})+" "+Sx(e.color??{ref:"borderColor"}),Joe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?go(e.ref):[ad(e.offsetX??0),ad(e.offsetY??0),ad(e.radius??0),ad(e.spread??0),Sx(e.color??{ref:"foregroundColor"})].join(" "),BG=ew,GG=e=>typeof e=="string"?e.includes(",")?e:v1(e):e&&"googleFont"in e?GG(e.googleFont):e&&"ref"in e?go(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),v1(t))).join(", "):!1,v1=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),eae=ew,HG=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?HG({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?go(e.ref):!1,tae=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Xt(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?go(e.ref):!1,nae={color:Sx,colorScheme:Xoe,length:ad,scale:Zoe,border:JR,borderStyle:BG,shadow:Joe,image:HG,fontFamily:GG,fontWeight:eae,duration:tae},iae=(e,t)=>{const n=Qoe(e);return nae[n](t,e)},rae=()=>new zG().withPart($oe).withPart(VG).withPart(zoe),zG=class UG{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof OG?new UG([...this.parts,t]):(Vf(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(po({feature:t}))}withParams(t,n=Xa){return this.withPart(po({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(bx)return;oae(),kG(t,n,i);const s=sae(this);if(s.length>0)for(const o of s)r&&lae(o,i);for(const o of this.parts)o.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=C1(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Xa]:{...Voe}};for(const i of C1(this.parts))for(const r of Object.keys(i.modeParams)){const s=i.modeParams[r];if(s){const o=n[r]??(n[r]={}),l=new Set;for(const u of Object.keys(s)){const d=s[u];d!==void 0&&(o[u]=d,l.add(u))}if(r===Xa)for(const u of Object.keys(n)){const d=n[u];if(u!==Xa)for(const f of l)delete d[f]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let i=this._paramsCssCache;if(!i){let r="",s="";const o=this._getModeParams();for(const u of Object.keys(o)){const d=o[u];if(u!==Xa){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(u):u}"]) & {
`;r+=p,s+=p}for(const f of Object.keys(d).sort()){const p=d[f],m=iae(f,p);if(m===!1)Xt(107,{key:f,value:p});else{const C=LG(f),w=C.replace("--ag-","--ag-inherited-");r+=`	${C}: var(${w}, ${m});
`,s+=`	${w}: var(${C});
`}}u!==Xa&&(r+=`}
`,s+=`}
`)}let l=`${n} {
${r}}
`;l+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=i=l}return i.replaceAll(n,`:where(.${t})`)}},C1=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},sae=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},y1=!1,oae=()=>{if(!y1){y1=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},aae=new Set,lae=async(e,t)=>{aae.add(e);const n=`@import url('https://${cae}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Wd(n,document.head,`googleFont:${e}`,void 0,0,t)},cae="fonts.googleapis.com",uae='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',dae=()=>po({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:tr,checkboxUncheckedBorderColor:Zr(.3),checkboxCheckedBackgroundColor:Uo,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:tr,checkboxIndeterminateBackgroundColor:Zr(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:tr,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:uae}),hae=dae(),WG=()=>({...KC,...Goe,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Zr(.05),rowHoverColor:js(.15),selectedRowBackgroundColor:js(.2),menuBackgroundColor:Zr(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:rd,findMatchColor:tr,findActiveMatchColor:tr,checkboxUncheckedBorderColor:Zr(.4),toggleButtonOffBackgroundColor:Zr(.4),rowBatchEditBackgroundColor:Zr(.1)}),fae=()=>({...WG(),backgroundColor:"#1f2836"}),pae=()=>po({feature:"colorScheme",params:KC,modeParams:{light:KC,dark:WG(),"dark-blue":fae()}}),gae=pae(),jG={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},$G={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},mae=(e={})=>{let t="";for(const n of[...Object.keys(jG),...Object.keys($G)]){const i=vae(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},vae=(e,t=1.5)=>{const n=$G[e];if(n)return n;const i=jG[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},Cae=(e={})=>po({feature:"iconSet",css:()=>mae(e)}),yae=Cae(),wae=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',bae=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",Sae={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},Eae=()=>po({feature:"inputStyle",params:{...Sae,inputBackgroundColor:tr,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Uo},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Zr(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>wae+bae}),Rae=Eae(),Tae='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',xae={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Dae=()=>po({feature:"tabStyle",params:{...xae,tabBarBorder:!0,tabBarBackgroundColor:$r(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:tr},css:Tae}),Aae=Dae(),Pae=()=>rae().withPart(hae).withPart(gae).withPart(yae).withPart(Aae).withPart(Rae).withPart(VG).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),Iae=Pae(),Fae={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Mae={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},_ae={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},w1={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},b1={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},S1={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},dE={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},E1={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},kae=0,Oae=class extends ue{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++kae}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(w1),this.getSizeEl(b1),this.getSizeEl(S1),this.getSizeEl(dE),this.getSizeEl(E1),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>Moe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(E1)}getRowBorderWidth(){return this.getCSSVariablePixelValue(dE)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(w1)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(b1)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(Fae)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Mae),n=this.getCSSVariablePixelValue(_ae);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(S1)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(const s of Array.from(i.classList))s.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${s}`:s);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Wd(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===hE?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=kn({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=kn({tag:"div"});const{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${hE}px)`)):t.style.width=`var(${e.cssName}, ${hE}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!r&&Se(9,{variable:e});const o=fa(this.beans,t,()=>{const l=this.measureSizeEl(e);l==="detached"||l==="no-styles"||(this.lastKnownValues.set(e,l),l!==s&&(s=l,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(dE);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme");let s;if(r==="legacy")s=void 0;else{const o=r??Iae;o instanceof zG?s=o:Xt(240,{theme:o})}if(s!==i){if(s){Foe(this),kG(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[l,u]of n)Wd(l,this.eStyleContainer,u,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=kn({tag:"style"});const l=this.gos.get("styleNonce");l&&o.setAttribute("nonce",l),t.appendChild(o)}bx||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Xt(r?106:239)}},hE=15538,Lae=class extends ue{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new Uc}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(qe(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(qe(this.gos,e))}};function qG(e,t,n){const i=e.visibleCols.headerGroupRowCount;if(n>=i)return{column:t,headerRowIndex:n};let r=t.getParent();for(;r&&r.getProvidedColumnGroup().getLevel()>n;)r=r.getParent();const s=t.isSpanHeaderHeight();return!r||s&&r.isPadding()?{column:t,headerRowIndex:i}:{column:r,headerRowIndex:r.getProvidedColumnGroup().getLevel()}}var Nae=class extends ue{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=ri(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:r,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=r?.getColumnGroup(e)??null)):n=e,!n)return null;const l=s.getHeaderRowContainerCtrl()?.getAllCtrls(),u=Qt(l||[]).type==="filter",d=Xs(this.beans)-1;let f=-1,p=n;for(;p;)f++,p=p.getParent();let m=f;return t&&u&&m===d-1&&m++,m===-1?null:{headerRowIndex:m,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:i}=this.beans,{focusedHeader:r}=n;if(!r)return!1;const{headerRowIndex:s}=r,o=r.column,l=Xs(this.beans),u=this.getHeaderRowType(s),d=i.headerGroupRowCount;let{headerRowIndex:f,column:p,headerRowIndexWithoutSpan:m}=e==="UP"?Vae(u,o,s):Bae(o,s,d),C=!1;return f<0&&(f=0,p=o,C=!0),f>=l?(f=-1,this.currentHeaderRowWithoutSpan=-1):m!==void 0&&(this.currentHeaderRowWithoutSpan=m),!C&&!p?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:f,column:p},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:r}=this.beans,s={...i.focusedHeader};let o,l;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(l="Before",o=this.findHeader(s,l)):(l="After",o=this.findHeader(s,l));const u=r.getCallback("tabToNextHeader");if(t&&u){const d=i.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:o,direction:l});if(d){const{headerRowIndex:f}=i.focusedHeader||{};f!=null&&f!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=f)}return d}return o||!t?i.focusHeaderPosition({headerPosition:o,direction:l,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,l,n)}focusNextHeaderRow(e,t,n){const i=this.beans,r=e.headerRowIndex;let s=null,o;const l=Xs(i),u=this.beans.visibleCols.allCols;if(t==="Before"){if(r<=0)return!1;s=Qt(u),o=r-1,this.currentHeaderRowWithoutSpan-=1}else s=u[0],o=r+1,this.currentHeaderRowWithoutSpan<l?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:d,headerRowIndex:f}=qG(this.beans,s,o);return f>=l&&(f=-1),i.focusSvc.focusHeaderPosition({headerPosition:{column:d,headerRowIndex:f},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Mn(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?Qt(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:i}=this.beans;let r=e.column;if(r instanceof Op){const u=r.getDisplayedLeafColumns();r=t==="Before"?u[0]:u[u.length-1]}const s=t==="Before"?i.getColBefore(r):i.getColAfter(r);if(!s)return;const o=i.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const l=n?.getColGroupAtLevel(s,e.headerRowIndex);return l?l.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:i.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:l??s}:{headerRowIndex:s instanceof ou&&s.isSpanHeaderHeight()?i.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function Vae(e,t,n){const i=n-1;if(e!=="filter"){const r=t instanceof ou&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>i||r&&s.isPadding());)s=s.getParent();if(s)return r?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:i}:{column:s,headerRowIndex:i,headerRowIndexWithoutSpan:i}}return{column:t,headerRowIndex:i,headerRowIndexWithoutSpan:i}}function Bae(e,t,n){const i=t+1,r={column:e,headerRowIndex:i,headerRowIndexWithoutSpan:i};if(e instanceof Op){if(i>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:i};let o=e.getDisplayedChildren()[0];if(o instanceof Op&&o.isPadding()){const u=o.getDisplayedLeafColumns()[0];u.isSpanHeaderHeight()&&(o=u)}r.column=o,o instanceof ou&&o.isSpanHeaderHeight()&&(r.headerRowIndex=n,r.headerRowIndexWithoutSpan=i)}return r}var Gae=class extends ue{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(qte(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Sn(this.beans),mG)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Sn(this.beans);return this.isDomDataPresentInHierarchy(e,jC)?!0:this.isDomDataPresentInHierarchy(e,$C)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(oB(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(r.isFullWidthCell=s.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,l=this.colModel.getCol(t);if(!l){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Jo(i),column:l};const u=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...u,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:r,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=u}isCellFocused(e){return this.focusedCell==null?!1:UB(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:s}=this.focusedHeader;return t===r&&n===s&&i==r.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Fc(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:l}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(l);if(i){const u=this.focusedHeader,d=Xs(this.beans);if(n){const f=this.gos.getCallback("tabToNextHeader");f&&(l=this.getHeaderPositionFromUserFunc({userFunc:f,direction:t,currentPosition:u,headerPosition:l,headerRowCount:d}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&r){const p={key:r.key,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:d,event:r};l=f(p)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:r,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Fc(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:r}=e,s=this.focusedHeader,o=Xs(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:o});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:s}=e,l=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:s});return l===!0?i:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:s}=e,{column:o,headerRowIndex:l}=t,{filterManager:u,ctrlsSvc:d,headerNavigation:f}=this.beans;if(l===-1)return u?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});f?.scrollToColumn(o,n);const m=d.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return f&&m&&(r!=null||i)&&(f.currentHeaderRowWithoutSpan=r??-1),m}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=qG(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Xs(this.beans)-1,n=Qt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Jo(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Yc(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(Qy(this.beans))return t&&!Fc(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Ud(this.beans,t);const r=t?Fte(this.beans):Ite(this.beans);if(r){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:l}=r,u=ua(this.beans,r);if(!s||!u||o==null)return!1;if(s.isSuppressNavigable(u)){const d=this.gos.get("enableRtl");let f;return!i||i.key===ae.TAB?f=d?ae.LEFT:ae.RIGHT:f=i.key,this.beans.navigation?.navigateToNextCell(null,f,{rowIndex:o,column:s,rowPinned:l||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:l}),t&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(r,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Jo(l),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:l,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Xs(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Hae=class extends ue{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:TJ();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},zae=class extends ue{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},jv=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Uae=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],Ex=Uae.reduce((e,t)=>(e[t]=XJ(t),e),{}),Ef=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),Wae={tag:"span",cls:"ag-sort-indicator-container",children:[Ef("Order","order"),Ef("Asc","ascending-icon"),Ef("Desc","descending-icon"),Ef("Mixed","mixed-icon"),Ef("None","none-icon")]},Rx=class extends an{constructor(e){super(),this.eSortOrder=Ue,this.eSortAsc=Ue,this.eSortDesc=Ue,this.eSortMixed=Ue,this.eSortNone=Ue,e||this.setTemplate(Wae)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=Jr(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(i);if(e&&wn(e,o==="asc",{skipAriaHidden:!0}),t&&wn(t,o==="desc",{skipAriaHidden:!0}),n){const l=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),u=o==null;wn(n,!l&&u,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;Ys(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";wn(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,s=i.some(l=>n.getDisplaySortIndexForColumn(l)??!1),o=r>=0&&s;wn(e,o,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():Dr(e)}},jae={selector:"AG-SORT-INDICATOR",component:Rx},Np=["asc","desc",null],$ae=class extends ue{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);const{gos:r,showRowGroupCols:s}=this.beans,o=Ys(r);let l=[e];if(o&&e.getColDef().showRowGroup){const p=s?.getSourceColumnsForGroupColumn?.(e)?.filter(m=>m.isSortable());p&&(l=[e,...p])}l.forEach(f=>this.setColSort(f,t,i));const u=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),d=[];if(!u){const f=this.clearSortBarTheseColumns(l,i);d.push(...f)}this.updateSortIndex(e),d.push(...l),this.dispatchSortChangedEvents(i,d)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=Ys(t),s=i?.getShowRowGroupCol(e.getId()),o=r&&s||e,l=this.getColumnsWithSortingOrdered();n.forAllCols(f=>this.setColSortIndex(f,null));const u=l.filter(f=>r&&f.getColDef().showRowGroup?!1:f!==o);(o.getSort()?[...u,o]:u).forEach((f,p)=>this.setColSortIndex(f,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Np,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let r=[];if(t.forAllCols(d=>{d.getSort()&&r.push(d)}),t.isPivotMode()){const d=Ys(e);r=r.filter(f=>{const p=!!f.getAggFunc(),m=!f.isPrimary(),C=d?n?.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return p||m||C})}const s=i?.columns.filter(d=>!!d.getSort())??[],o={};r.forEach((d,f)=>o[d.getId()]=f),r.sort((d,f)=>{const p=d.getSortIndex(),m=f.getSortIndex();if(p!=null&&m!=null)return p-m;if(p==null&&m==null){const C=o[d.getId()],w=o[f.getId()];return C>w?1:-1}else return m==null?-1:1});const l=Ys(e)&&!!s.length;l&&(r=[...new Set(r.map(d=>n?.getShowRowGroupCol(d.getId())??d))]);const u=new Map;return r.forEach((d,f)=>u.set(d,f)),l&&s.forEach(d=>{const f=n.getShowRowGroupCol(d.getId());u.set(d,u.get(f))}),u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Ys(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),u=Date.now()-i<50;o||u||this.progressSortFromEvent(t,s)}});const r=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const u=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(d=>t.getSort()==d.getSort());e.toggleCss("ag-header-cell-sorted-mixed",u)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new Rx(e)}getSortIndicatorSelector(){return jae}},Td={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},qae=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),Kae={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?Td[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:Td[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?Td[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},Yae=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return lo(262);if(t.smallLeft)return lo(263);if(t.smallRight)return lo(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(r=>!Np.includes(r));if(i.length>0)return`sortingOrder must be an array with elements from [${Np.map(FC).join()}], currently it includes [${i.map(FC).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:r,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:l})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":l?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),Qae={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},Xae=()=>Object.keys(Qae),Zae=()=>({objectName:"colDef",allProperties:Xae(),docsUrl:"column-properties/",deprecations:qae(),validations:Yae()}),Jae=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],ele=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],tle=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],KG=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],nle=["theme","rowSelection"],ile=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],YG=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],rle=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],sle=()=>[...tle,...ele,...Jae,...KG,...rle,...YG,...ile,...nle],ole=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Ws(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var ale={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},lle=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Ws("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Ws("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Ws("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:r,pinnedBottomRowData:s}){return i&&(r||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:r,pinnedBottomRowData:s}){return i&&(r||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return lo(262);if(n.smallLeft)return lo(263);if(n.smallRight)return lo(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Ws("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Ws("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Ws("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Ws("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Ws("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const r=i.filter(s=>!Np.includes(s));if(r.length>0)return`sortingOrder must be an array with elements from [${Np.map(FC).join()}], currently it includes [${r.map(FC).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:r,treeDataParentIdField:s,getDataPath:o,getRowId:l}=n;if(!r&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!l)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Ws("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Ws("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const i=n.renderingMode,r=["default","legacy"];return i&&!r.includes(i)?`renderingMode must be one of [${r.join()}], currently it's ${i}`:null}}},t={};return YG.forEach(n=>{t[n]={expectedType:"boolean"}}),KG.forEach(n=>{t[n]={expectedType:"number"}}),qi(t,e),t},cle=()=>({objectName:"gridOptions",allProperties:[...sle(),...Object.values(Ex)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:ole(),validations:lle()}),ule=0,dle=0,hle=class extends ue{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=dle++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Uc,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=jv.has(t);if(i&&!e||!i&&e||!fle(t))return;const r=(s,o)=>{const l=Ex[s],u=this.gridOptions[l];typeof u=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>u(o))};if(this.gridReadyFired)r(t,n);else if(t==="gridReady"){r(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)r(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??O2[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Te(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:ule++,properties:[]},r=[],{gridOptions:s,validation:o}=this;for(const l of Object.keys(e)){const u=e[l];o?.warnOnInitialPropertyUpdate(n,l);const d=t||typeof u=="object"&&n==="api",f=s[l];if(d||f!==u){s[l]=u;const p={type:l,currentValue:u,previousValue:f,changeSet:i,source:n};r.push(p)}}this.validateGridOptions(this.gridOptions),i.properties=r.map(l=>l.type),r.forEach(l=>{jc(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(i==null||i===!1)continue;let r=t[n];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,n)}}validateGridOptions(e){this.validateOptions(e,ale),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,Kae),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||Xt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:ix(),rowModelType:this.get("rowModelType"),isUmd:bte()}}isModuleRegistered(e){return BR(e,this.gridId,this.get("rowModelType"))}};function fle(e){return!!Ex[e]}function QG(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var ple=QG(!0),gle=QG(!1),mle=class extends an{constructor(){super(...arguments),this.eFilter=Ue,this.eFilterButton=Ue,this.eSortIndicator=Ue,this.eMenu=Ue,this.eLabel=Ue,this.eText=Ue,this.eSortOrder=Ue,this.eSortAsc=Ue,this.eSortDesc=Ue,this.eSortMixed=Ue,this.eSortNone=Ue,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};qi(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?ple:gle}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=ete(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=ch(t))}addInIcon(e,t,n){const i=Jr(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){ca(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=br(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:i,eMenu:r,eFilterButton:s}=this,o=t.column,l=br(n);if(e&&!l){if(i.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:r,eSortAsc:s,eSortDesc:o,eSortMixed:l,eSortNone:u}=this;i.attachCustomElements(r,s,o,l,u)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const i=t.column.isFilterActive();wn(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return ca(t),!1;const r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},vle={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},Cle=class extends an{constructor(){super(vle),this.agOpened=Ue,this.agClosed=Ue,this.agLabel=Ue,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&Se(89)}workOutInnerHeaderGroupComponent(e,t){const n=nte(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const r=u=>{if(ea(u))return;const d=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);const s=u=>{qc(u)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();wn(e,i),wn(t,!i)}else wn(e,!1),wn(t,!1)}addInIcon(e,t){const n=Jr(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;wn(t,!1),wn(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Te(t)&&!i&&(this.agLabel.textContent=ch(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},yle={moduleName:"ColumnHeaderComp",version:Pe,userComponents:{agColumnHeader:mle},icons:{menu:"menu",menuAlt:"menu-alt"}},wle={moduleName:"ColumnGroupHeaderComp",version:Pe,userComponents:{agColumnGroupHeader:Cle},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},ble=class extends ue{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Se(92)}createTask(e,t,n,i,r=!1){this.verify();let s=n;i&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:r};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:r,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:l}=s,u=t.list,d=n.list,f=i.list,p=Date.now();let m=0;const C=e<=0,w=o.getScrollFeature();for(;C||m<e;){if(!w.scrollGridIfNeeded()){let R;if(u.length)this.sortTaskList(t),R=u.pop().task;else if(d.length)this.sortTaskList(n),R=d.pop().task;else if(f.length)l.wrapOutgoing(()=>{for(;(C||m<e)&&!w.scrollGridIfNeeded();){if(f.length)this.sortTaskList(i),R=f.pop().task,R();else break;m=Date.now()-p}}),R=()=>{};else if(r.length)R=r.pop();else break;R()}m=Date.now()-p}u.length||d.length||f.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);pa(this.beans,e)}isQueueEmpty(){return!this.ticking}},Sle={moduleName:"AnimationFrame",version:Pe,beans:[ble]},Ele=class extends ue{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!xc())return;const t=(n,i,r)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(r?.target??null);o?.column&&o.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!xc()||vB("dblclick"))return!1;const i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:r,eMenu:s,eFilterButton:o}=e,l=new hc(e.getGui(),!0),u=e.shouldSuppressMenuHide(),d=u&&Te(s)&&r.enableMenu,f=d?new hc(s,!0):l;if(r.enableMenu||i?.isHeaderContextMenuEnabled(r.column)){const p=d?"tap":"longTap",m=C=>r.showColumnMenuAfterMouseClick(C.touchStart);e.addManagedListeners(f,{[p]:m})}if(r.enableSorting){const p=m=>{const C=m.touchStart.target;u&&(s?.contains(C)||o?.contains(C))||n?.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(l,{tap:p})}if(r.enableFilterButton&&o){const p=new hc(o,!0);e.addManagedListeners(p,{tap:()=>r.showFilter(o)}),e.addDestroyFunc(()=>p.destroy())}e.addDestroyFunc(()=>l.destroy()),d&&e.addDestroyFunc(()=>f.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new hc(t.eGridHeader,!0),i=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new hc(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!xc())return;const i=new hc(t),r=s=>{kp(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},Rle={moduleName:"Touch",version:Pe,beans:[Ele]},Tle=class extends ue{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===ae.UP,i=e===ae.DOWN,r=e===ae.LEFT;let s,o;const{pageBounds:l,gos:u,visibleCols:d,pinnedRowModel:f}=this.beans,{rowPinned:p}=t;if(n||i)p&&f?n?o=0:o=p==="top"?f.getPinnedTopRowCount()-1:f.getPinnedBottomRowCount()-1:o=n?l.getFirstRow():l.getLastRow(),s=t.column;else{const m=u.get("enableRtl");o=t.rowIndex,s=(r!==m?d.allCols:[...d.allCols].reverse()).find(w=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:w}))}return s?{rowIndex:o,rowPinned:p,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case ae.UP:n=this.getCellAbove(n);break;case ae.DOWN:n=this.getCellBelow(n);break;case ae.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case ae.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,Se(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=z_(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=HC(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let r=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=i[0];const l=z_(this.beans,e);if(mn(l)||!l.rowPinned&&!(n?.isRowInPage(l.rowIndex)??!0))return null;r=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:r,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols;let s=e.rowIndex,o=e.rowPinned,l=n.getColBefore(e.column);if(!l){l=Qt(r);const u=HC(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(mn(u)||!u.rowPinned&&!(i?.isRowInPage(u.rowIndex)??!0))return null;s=u?u.rowIndex:null,o=u?u.rowPinned:null}return{rowIndex:s,column:l,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function xle(e){return e.focusSvc.getFocusedCell()}function Dle(e){return e.focusSvc.clearFocusedCell()}function Ale(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function Ple(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function Ile(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function Fle(e,t,n=!1){const i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var Mle=class extends ue{constructor(){super(),this.beanName="navigation",this.onPageDown=__(this.onPageDown,100),this.onPageUp=__(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=dne(this.gos,e);let l=!1;switch(n){case ae.PAGE_HOME:case ae.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),l=!0);break;case ae.LEFT:case ae.RIGHT:case ae.UP:case ae.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),l=!0);break;case ae.PAGE_DOWN:case ae.PAGE_UP:!r&&!i&&(l=this.handlePageUpDown(n,o,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===ae.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:i,focusColumn:r,isAsync:s,rowPinned:o}){const{scrollFeature:l}=this.gridBodyCon;Te(n)&&!n.isPinned()&&l.ensureColumnVisible(n),Te(e)&&l.ensureIndexVisible(e,t),s||l.ensureIndexVisible(i);const{focusSvc:u,rangeSvc:d}=this.beans;u.setFocusedCell({rowIndex:i,column:r,rowPinned:o,forceBrowserFocus:!0}),d?.setRangeToCell({rowIndex:i,rowPinned:o,column:r})}onPageDown(e){const t=this.beans,n=fE(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:s,rowAutoHeight:o}=t,l=r.getPixelOffset(),u=n.top+i,d=s.getRowIndexAtPixel(u+l);o?.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,n=fE(t),{pageBounds:i,rowModel:r,rowAutoHeight:s}=t,o=i.getPixelOffset(),l=n.top,u=r.getRowIndexAtPixel(l+o);s?.active?this.navigateToNextPageWithAutoHeight(e,u,!0):this.navigateToNextPage(e,u,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:r}=this.beans,s=this.getViewportHeight(),o=i.getFirstRow(),l=i.getLastRow(),u=i.getPixelOffset(),d=r.getRow(e.rowIndex),f=n?d?.rowHeight-s-u:s-u,p=d?.rowTop+f;let m=r.getRowIndexAtPixel(p+u);if(m===e.rowIndex){const w=n?-1:1;t=m=e.rowIndex+w}let C;n?(C="bottom",m<o&&(m=o),t<o&&(t=o)):(C="top",m>l&&(m=l),t>l&&(t=l)),this.isRowTallerThanView(r.getRow(m))&&(t=m,C="top"),this.navigateTo({scrollIndex:t,scrollType:C,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:s}=this.beans,o=r.getLastRow();let l=0,u=e.rowIndex;for(;u>=0&&u<=o;){const d=s.getRow(u);if(d){const f=d.rowHeight??0;if(l+f>i)break;l+=f}u+=n}return Math.max(0,Math.min(u,o))}getViewportHeight(){const e=this.beans,t=fE(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i,rowPinned:r}=n,s=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s,rowPinned:r})}onHomeOrEndKey(e){const t=e===ae.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,s=n.allCols,o=t?i.getFirstRow():i.getLastRow(),l=r.getRow(o);if(!l)return;const u=(t?s:[...s].reverse()).find(d=>!d.isSuppressNavigable(l));u&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:u,focusIndex:o,focusColumn:u})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:l,gos:u}=r;if(i!==!1){i?t.preventDefault():i===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:d,rowPinned:f}=e.getRowPosition();(f?d===0:d===o.getFirstRow())&&(u.get("headerHeight")===0||Fc(r)?Ud(r,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof Sd&&e.focusCell(!0),(!n&&l.focusOverlay(!1)||Ud(r,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:r}=n,s=i.getFocusedCell();if(!s)return!1;let o=Gf(n,s);return!o&&(o=r.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){const{editSvc:r,focusSvc:s}=this.beans;let o;const l=e instanceof Sd?e:e.getAllCellCtrls()?.[0];return r?.isEditing()?o=r?.moveToNextCell(l,t,n,i):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let r;if(e instanceof qC){if(r={...e.getRowPosition(),column:t?i[0]:Qt(i)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(r.column=o.column)}}else r=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(r,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Sd)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return Te(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let r=e;const s=this.beans,{cellNavigation:o,gos:l,focusSvc:u,rowRenderer:d,rangeSvc:f}=s;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=o.getNextTabbedCell(r,t);const p=l.getCallback("tabToNextCell");if(Te(p)){const E=p({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(E===!0)r=e;else{if(E===!1)return!1;r={rowIndex:E.rowIndex,column:E.column,rowPinned:E.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const w=Xs(s);return u.focusHeaderPosition({headerPosition:{headerRowIndex:w+r.rowIndex,column:r.column},fromCell:!0}),null}const m=l.get("editType")==="fullRow";if(n&&(!m||i)&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const C=Gf(s,r);if(!C){const w=d.getRowByPosition(r);if(!w||!w.isFullWidth()||n)continue;return{...w.getRowPosition(),column:r?.column}}if(!o.isSuppressNavigable(C.column,C.rowNode))return C.setFocusedCellPosition(r),f?.setRangeToCell(r),C}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,s=!1;const o=this.beans,{cellNavigation:l,focusSvc:u,gos:d}=o;for(;r&&(r===n||!this.isValidNavigateCell(r));)d.get("enableRtl")?t===ae.LEFT&&(r=this.getLastCellOfColSpan(r)):t===ae.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=l.getNextCellToFocus(t,r),s=mn(r);if(s&&e&&e.key===ae.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const p=d.getCallback("navigateToNextCell");if(Te(p)){const C=p({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});Te(C)?r={rowPinned:C.rowPinned,rowIndex:C.rowIndex,column:C.column}:r=null}}if(!r)return;if(r.rowIndex<0){const p=Xs(o);u.focusHeaderPosition({headerPosition:{headerRowIndex:p+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(r);f?this.focusPosition(f):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=Gf(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:s}=this.beans,o=n.allCols,l=i.getRowByPosition(e);if(!l||!l.isFullWidth())return!1;const u=r.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Qt(o):o[0])};this.focusPosition(d);const f=t??(u!=null&&Ate(d,u));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!ua(this.beans,e)}getLastCellOfColSpan(e){const t=Gf(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Qt(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=cB(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:r}=this.gridBodyCon;!i&&mn(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function fE(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var _le={moduleName:"KeyboardNavigation",version:Pe,beans:[Mle,Tle,Nae],apiFunctions:{getFocusedCell:xle,clearFocusedCell:Dle,setFocusedCell:Ale,setFocusedHeader:Fle,tabToNextCell:Ple,tabToPreviousCell:Ile}},kle=class extends ue{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},Ole=class extends ue{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Lle=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",Nle=class extends ue{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(wn(n,t),ao(n,e))}},Vle=class extends ue{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=wi(e,"print"),r=i?0:t.getColsLeftWidth(),s=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Pp(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:s}=n;let o=r;!o.length&&!s||(i&&(o=i({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(l=>!hl(l)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new Nle(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:r,visibleCols:s,gos:o}=this.beans;if(!i.cols||!e?.length)return;if(wi(o,"print")){Se(37);return}r?.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const u=[];e.forEach(d=>{if(!d)return;const f=i.getCol(d);f&&f.getPinned()!==l&&(this.setColPinned(f,l),u.push(f))}),u.length&&(s.refresh(n),IB(this.eventSvc,u,n)),r?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const r=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,l=e.hidden!==o,u=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(u&&n||!u&&i)?s+d:s;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!o),l&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:r}=this,s=Pp(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>s)if(s>i+r)e=s-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let r=!1;if(i<e)return{columns:[],hasLockedPinned:r};const{visibleCols:s}=this.beans,o=[...s.leftCols],l=[...s.rightCols];let u=0,d=0;const f=0,p=[];let m=i-f-e;for(;(d<o.length||u<l.length)&&m>0;){if(u<l.length){const C=l[u++];if(C.colDef.lockPinned){r=!0;continue}m-=C.getActualWidth(),p.push(C)}if(d<o.length&&m>0){const C=o[d++];if(C.colDef.lockPinned){r=!0;continue}m-=C.getActualWidth(),p.push(C)}}return{columns:p,hasLockedPinned:r}}},Ble={moduleName:"PinnedColumn",version:Pe,beans:[Vle],css:[Lle]},Gle=class extends ue{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Ci(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=ri(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),V2(n,"polite"),dJ(n,"additions text"),uJ(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Dr(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},Hle={moduleName:"Aria",version:Pe,beans:[Gle]};function zle(e){e.overlays?.showLoadingOverlay()}function Ule(e){e.overlays?.showNoRowsOverlay()}function Wle(e){e.overlays?.hideOverlay()}var jle=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",$le={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},XG=class extends an{constructor(){super($le),this.eOverlayWrapper=Ue,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(jle)}handleKeyDown(e){if(e.key!==ae.TAB||e.defaultPrevented||ea(e))return;const t=this.beans;if(lu(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:Qt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=Ud(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=Uv;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new cx(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const r=Sn(this.beans);r&&!lB(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){const s=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{s.refresh?.(qe(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&Yc(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Dr(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Sn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},qle={selector:"AG-OVERLAY-WRAPPER",component:XG},Kle=class extends ue{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Hn(this.gos),this.isServerSide=!this.isClientSide&&su(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Se(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return qle}getOverlayWrapperCompClass(){return XG}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!i.get("suppressLoadingOverlay")&&(o=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(cte(this.beans.userCompFactory,qe(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(ute(this.beans.userCompFactory,qe(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const i=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},Yle={moduleName:"Overlay",version:Pe,userComponents:{agLoadingOverlay:Aie,agNoRowsOverlay:Iie},apiFunctions:{showLoadingOverlay:zle,showNoRowsOverlay:Ule,hideOverlay:Wle},beans:[Kle]},Qle=class extends ue{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=RJ(),jc(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;jc(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},Xle=400,Zle=class extends ue{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Tl(this.gos)?n():i()}),Tl(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=wi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new Jle(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=u=>{this.getAllCellCtrls().forEach(d=>{d.column===t&&u(d)})},i=()=>{n(u=>u.onLeftChanged())},r=()=>{n(u=>u.onWidthChanged())},s=()=>{n(u=>u.onFirstRightPinnedChanged())},o=()=>{n(u=>u.onLastLeftPinnedChanged())},l=()=>{n(u=>u.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=wi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:i,beans:r,printLayout:s}=this,o=Object.fromEntries(e.map(u=>[u.rowNode.id,u]));i?.forEachPinnedRow(t,(u,d)=>{const f=e[d];f&&i.getPinnedRowById(f.rowNode.id,t)===void 0&&(f.destroyFirstPass(),f.destroySecondPass()),u.id in o&&n?(e[d]=o[u.id],delete o[u.id]):e[d]=new qC(u,r,!1,!1,s)});const l=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=l}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const r=i[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&vd(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const l=s.extraTopHeight+s.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(lo(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Xs(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(qe(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=HC(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const r=this.getRowByPosition(i);if(r?.isAlive())return{...r.getRowPosition(),column:e.column};i=HC(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const r=t[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){const r={force:n,newData:!1,suppressFlash:i};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(r);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=e0(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const r=i.rowNode;return t0(r,t)})}getCellCtrls(e,t){let n;Te(t)&&(n={},t.forEach(r=>{const s=this.colModel.getCol(r);Te(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||i.push(s)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let r;const s=this.stickyRowFeature;s&&(r=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,l=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let u=!1;if(s){u=s.checkStickyRows();const f=s.extraTopHeight+s.extraBottomHeight;f&&this.updateContainerHeights(f)}const d=this.firstRenderedRow!==o||this.lastRenderedRow!==l;if(!(i&&!u&&!d)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!u),r!=null)){const f=t?.getFocusCellToUseAfterRefresh();r!=null&&f==null&&(n?.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);const r=o=>{const l=o.rowNode.rowIndex;l==null||l===i||(l<this.firstRenderedRow||l>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(l)};for(const o of Object.values(this.rowCtrlsByRowIndex))r(o);if(e)for(const o of Object.values(e))r(o);t.sort((o,l)=>o-l);const s=[];for(let o=0;o<t.length;o++){const l=t[o],u=this.rowModel.getRow(l);u&&!u.sticky&&s.push(l)}return s}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,n)}),e){const{animationFrameSvc:r}=this.beans;r?.active&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=e0(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!t0(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),Te(r)&&Te(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),Te(r))s=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),Xle))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Pc(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{const f=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let C=!1,w,E;do{const L=t.getPixelOffset(),{pageFirstPixel:V,pageLastPixel:I}=t.getCurrentPagePixelRange(),_=e.divStretchOffset,F=p.getVScrollPosition(),k=F.top,O=F.bottom;m?(w=V+_,E=I+_):(w=Math.max(k+L-f,V)+_,E=Math.min(O+L+f,I)+_),this.firstVisibleVPixel=Math.max(k+L,V)+_,this.lastVisibleVPixel=Math.min(O+L,I)+_,C=this.ensureAllRowsInRangeHaveHeightsCalculated(w,E)}while(C);let R=n.getRowIndexAtPixel(w),x=n.getRowIndexAtPixel(E);const D=t.getFirstRow(),A=t.getLastRow();R<D&&(R=D),x>A&&(x=A),i=R,r=x}const s=wi(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);s&&!o&&r-i>l&&(r=i+l);const u=i!==this.firstRenderedRow,d=r!==this.lastRenderedRow;(u||d)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,pa(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(o||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),s=this.editSvc?.isEditing(e),o=i.detail;return r||s||o?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;const r=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new qC(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},Jle=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],as(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],as(this.entriesList,e)}getEntries(){return this.entriesList}};function e0(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function t0(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var ece=class extends ue{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Ys(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ys(e))}doFullSort(e,t){const n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,r=n.rowNode;for(let s=0,o=e.length;s<o;s++){const l=e[s],u=l.sort==="desc",d=this.getValue(i,l.column),f=this.getValue(r,l.column);let p;const m=this.getComparator(l,i);if(m?p=m(d,f,i,r,u):p=sJ(d,f,this.isAccentedSort),!isNaN(p)&&p!==0)return l.sort==="asc"?p:p*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const r=!t.group&&n.getColDef().field;if(!r)return;const s=this.beans.colModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:i,showRowGroupCols:r,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(dB(s,i.isPivotActive())){const d=e.allLeafChildren?.[0];return d?n.getValue(t,d,!1):void 0}const u=r?.getShowRowGroupCol(t.getId());return u?e.groupData?.[u.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function tce(e){e.sortSvc?.onSortChanged("api")}var ZG={moduleName:"Sort",version:Pe,beans:[$ae,ece],apiFunctions:{onSortChanged:tce},userComponents:{agSortIndicator:Rx},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},nce=class extends ue{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),jc(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,yd(e.source))}}};function ice(e){e.valueCache?.expire()}function rce(e,t){const{colKey:n,rowNode:i,useFormatter:r}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(mn(s))return null;const o=e.valueSvc.getValueForDisplay(s,i,r);return r?o.valueFormatted??ch(o.value):o.value}var sce="paste",oce=class extends ue{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Hn(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===sce||t.get("suppressChangeDetection"))return;const i=e.node,r=[i],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!i.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),u=new Lp(l,o);u.addParentNode(i.parent,[e.column]),s.doAggregate(u),u.forEachChangedNodeDepthFirst(d=>{r.push(d),d.sibling&&r.push(d.sibling)})}n.refreshCells({rowNodes:r})}},ace=class extends ue{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Xt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Xt(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},lce=class extends ue{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},cce={moduleName:"ValueCache",version:Pe,beans:[lce],apiFunctions:{expireValueCache:ice}},uce={moduleName:"Expression",version:Pe,beans:[ace]},dce={moduleName:"ChangeDetection",version:Pe,beans:[oce]},hce={moduleName:"CellApi",version:Pe,apiFunctions:{getCellValue:rce}},lv={checkSiblings:!0},fce=class extends ue{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=su(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1,r="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,l=e?.colDef.showRowGroup,u=!this.isTreeData||t.footer;if(s&&u&&(o||l)){const E=s.getGroupValue(t,e);if(E==null)return{value:null,valueFormatted:null};if(!n)return{value:E.value,valueFormatted:null};const R=s.formatAndPrefixGroupColValue(E,e,i);return{value:E.value,valueFormatted:R}}if(!e)return{value:t.key,valueFormatted:null};const d=t.leafGroup&&this.colModel.isPivotMode(),f=t.group&&t.expanded&&!t.footer&&!d,p=this.gos.get("groupSuppressBlankHeader")||!t.sibling,m=f&&!p,C=this.getValue(e,t,m,r),w=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:C,valueFormatted:w?this.formatValue(e,t,C):null}}getValue(e,t,n=!1,i="ui"){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),s=r.field,o=e.getColId();let l=t.data;if(this.hasEdit&&i==="ui"){const E=this.editSvc;if(E.isRowEditing(t,lv)&&(l=E.getRowDataValue(t,lv)),E.isEditing()){const R=E.getCellDataValue({rowNode:t,column:e},!0);if(R!==void 0)return R}}let u;const d=r.showRowGroup;if(typeof d=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(d)??-1)>t.level)return null;const f=typeof d!="string"||!t.group,p=t.groupData&&o in t.groupData,m=!n&&t.aggData&&t.aggData[o]!==void 0,C=this.isSsrm&&n&&!!r.aggFunc,w=this.isSsrm&&t.footer&&t.field&&(r.showRowGroup===!0||r.showRowGroup===t.field);if(this.isTreeData&&m)u=t.aggData[o];else if(this.isTreeData&&r.valueGetter)u=this.executeValueGetter(r.valueGetter,l,e,t);else if(this.isTreeData&&s&&l)u=Yf(l,s,e.isFieldContainsDots());else if(p)u=t.groupData[o];else if(m)u=t.aggData[o];else if(r.valueGetter&&!C){if(!f)return u;u=this.executeValueGetter(r.valueGetter,l,e,t)}else if(w)u=Yf(l,t.field,e.isFieldContainsDots());else if(s&&l&&!C){if(!f)return u;u=Yf(l,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const E=u.substring(1);u=this.executeValueGetter(E,l,e,t)}return u}parseValue(e,t,n,i){const r=e.getColDef(),s=r.valueParser;if(Te(s)){const o=qe(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return Te(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,r=!0){const{expressionSvc:s}=this.beans;let o=null,l;const u=e.getColDef();if(i?l=i:r&&(l=u.valueFormatter),l){let d=t?t.data:null;if(t){const p={rowNode:t};if(this.hasEdit){const m=this.editSvc;m.isEditing(p,lv)&&(d=m.getRowDataValue(t,lv))}}const f=qe(this.gos,{value:n,node:t,data:d,colDef:u,column:e});typeof l=="function"?o=l(f):o=s?s.evaluate(l,f):null}else if(u.refData)return u.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,i){const r=this.colModel.getColDefCol(t);if(!e||!r)return!1;mn(e.data)&&(e.data={});const{field:s,valueSetter:o}=r.getColDef();if(mn(s)&&mn(o))return Se(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return Se(135),!1;const l=qe(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,i),newValue:n,colDef:r.getColDef(),column:r});l.newValue=n;let u;if(Te(o)?typeof o=="function"?u=o(l):u=this.expressionSvc?.evaluate(o,l):u=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const d=this.getValue(r,e);return this.dispatchCellValueChangedEvent(e,l,d,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,l,d,i),!0}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const l=s.shift();s.length===0?(r=o[l]===n,r||(o[l]=n)):o=o[l]}}return!r}executeValueGetterWithValueCache(e,t,n,i){const r=n.getColId(),s=this.valueCache.getValue(i,r);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,o),o}executeValueGetterWithoutValueCache(e,t,n,i){const r=qe(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let s;return typeof e=="function"?s=e(r):s=this.expressionSvc?.evaluate(e,r),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let r=n;if(i){const s=qe(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&Se(121)),r}},pce={moduleName:"CommunityCore",version:Pe,beans:[zae,Sre,Doe,kee,Qle,Bse,Lae,hle,Fee,Ole,kle,Zle,fce,Gae,Oae,Hae,Poe,nce,Soe,Eoe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Ere,destroy:Rre,isDestroyed:Tre,getGridOption:xre,setGridOption:Dre,updateGridOptions:TG,isModuleRegistered:Are},dependsOn:[yoe,vse,Rse,ZG,yle,Hse,wle,Yle,dce,Sle,_le,Ble,Hle,Rle,xoe,woe,uce,jse]};function n0(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e;let s=(n??[]).map((u,d)=>({value:u,relevance:gce(t,u),idx:d}));if(s.sort((u,d)=>u.relevance-d.relevance),i&&(s=s.filter(u=>u.relevance<Math.max(u.value.length,t.length))),s.length>0&&r&&r>0){const d=s[0].relevance*r;s=s.filter(f=>d-f.relevance<0)}const o=[],l=[];for(const u of s)o.push(u.value),l.push(u.idx);return{values:o,indices:l}}function gce(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],i=[];const r=e.length,s=t.length;for(let l=0;l<=s;l++)n[l]=l;let o=0;for(let l=1;l<=r;l++){i[0]=l;for(let u=1;u<=s;u++){const d=e[l-1],f=t[u-1];if(d.toLocaleLowerCase()===f.toLocaleLowerCase())++o,d===f&&++o,l>1&&u>1&&e[l-2].toLocaleLowerCase()===t[u-2].toLocaleLowerCase()&&(++o,e[l-2]===t[u-2]&&++o),l<r/2-10&&++o,i[u]=n[u-1];else{const p=i[u-1],m=n[u],C=n[u-1];i[u]=1+Math.min(p,m,C)}}[n,i]=[i,n]}return n[s]/(o+1)}var JG={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},pE=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],mce={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:pE,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...pE,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...pE,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},vce={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function Cce(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const r=mce[i];r?r.forEach(s=>{const o=vce[s];(!o||o===t)&&n.push(s)}):n.push(i)}),n}var eH=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,yce=e=>{const t=e.map(i=>`import { ${ep(i)} } from '${JG[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>ep(i,!0)).join(", ")} ]); 

For more info see: ${md}/modules/`};function ep(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function wce(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>JG[s])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function tH({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var R1=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:s,isUmd:o})=>{const l=Cce(t,r),u=typeof e=="string"?e:Rce[e];if(o)return wce(u,l);const d=l.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),f=d.length>0?`${d.map(m=>ep(m)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${u} as ${l.length>1?"one of "+l.map(m=>ep(m)).join(", "):ep(l[0])} is not registered${n?" for gridId: "+i:""}. ${f} Check if you have registered the module:
`}
${yce(l)}`+(s?` 

${s}`:"")},T1=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,bce=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,Sce={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${bce(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const r=[],s=[...Object.keys(n??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(i??[]).filter(l=>!!i[l])],o=n0({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&r.push(`         Did you mean: [${o.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${md}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=n0({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:R1,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${md}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>T1("IntegratedChartsModule"),258:()=>T1("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>R1({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Td[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${md}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>eH(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:tH,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function Ece(e,t){const n=Sce[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),s=`
See ${iB(e,t)}`;return Array.isArray(i)?i.concat(s):[i,s]}var Rce={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},x1=new WeakMap,D1=new WeakMap,Tce=1,xce=class{create(e,t,n,i,r,s){const o=k2.applyGlobalGridOptions(t),l=o.gridId??String(Tce++),u=this.getRegisteredModules(r,l,o.rowModelType),d=this.createBeansList(o.rowModelType,u,l),f=this.createProvidedBeans(e,o,r);if(!d)return;const m={providedBeanInstances:f,beanClasses:d,gridId:l,beanInitComparator:Cre,beanDestroyComparator:yre,derivedBeans:[mre],destroyCallback:()=>{D1.delete(w),x1.delete(e),s?.()}},C=new Tte(m);this.registerModuleFeatures(C,u),n(C),C.getBean("syncSvc").start(),i?.(C);const w=C.getBean("gridApi");return x1.set(e,w),D1.set(w,e),w}getRegisteredModules(e,t,n){return _p(pce,void 0,!0),e?.modules?.forEach(i=>_p(i,t)),vte(t,A1(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);const s=r.apiFunctions;s&&Object.keys(s).forEach(l=>{i?.addFunction(l,s[l])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;mn(i)&&(i=new EG);const r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=A1(e),s=i[r];if(!s){Vf(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!wte()){Vf(272,void 0,eH());return}if(!e){const l=Object.entries(i).filter(([u,d])=>BR(d,n,u));if(l.length==1){const[u,d]=l[0];if(u!==r){const f={moduleName:d,rowModelType:u};Vf(275,f,tH(f));return}}}if(!BR(s,n,r)){Vf(200,{reasonOrId:`rowModelType = '${r}'`,moduleName:s,gridScoped:ix(),gridId:n,rowModelType:r},`Missing module ${s}Module for rowModelType ${r}.`);return}const o=new Set;return t.forEach(l=>l.beans?.forEach(u=>o.add(u))),Array.from(o)}};function A1(e){return e??"clientSide"}function Co(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function tw(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function nH(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var Dce=class extends ue{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,s)=>t({key:i,defaultValue:r,variableValues:s});const n=e.get("localeText");return(i,r,s)=>{let o=n&&n[i];if(o&&s&&s.length){let l=0;for(;!(l>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[l++])}return o??r}}};function Ace(e,t=!1){const n=[],i=[],r=[],s=[],o=[],l=[],u=[],d=[],f=[];let p=0;for(let m=0;m<e.length;m++){const{colId:C,sort:w,sortIndex:E,rowGroup:R,rowGroupIndex:x,aggFunc:D,pivot:A,pivotIndex:L,pinned:V,hide:I,width:_,flex:F}=e[m];f.push(C),w&&(n[E??p++]={colId:C,sort:w}),R&&(i[x??0]=C),typeof D=="string"&&r.push({colId:C,aggFunc:D}),A&&(s[L??0]=C),V&&(V==="right"?l:o).push(C),I&&u.push(C),(F!=null||_)&&d.push({colId:C,flex:F??void 0,width:_})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||l.length?{leftColIds:o,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:f.length?{orderedColIds:f}:void 0}}function Pce(e){const t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var Ice=class{wrap(e,t,n,i){const r=this.createWrapper(e,i);return t?.forEach(s=>{this.createMethod(r,s,!0)}),n?.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&Se(49,{methodName:t}),null)}}},Fce={tag:"div",cls:"ag-tooltip"},Mce=class extends mx{constructor(){super(Fce)}init(e){const{value:t}=e,n=this.getGui();n.textContent=ch(t);const i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},_ce=1e3,kce=1e3,P1=100,I1,cv=!1,Oce=class extends ue{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!xc()&&(cv?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},P1):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||cv)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-I1<_ce}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Te(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),i=qe(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);dte(this.userCompFactory,i)?.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),I1=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const r=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(ri(this.beans),{keydown:o=>{i.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Sn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?kce:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){cv=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},P1)}unlockService(){cv=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function gE(e){return e.get("tooltipShowMode")==="whenTruncated"}var Lce=class extends ue{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Oce(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function Nce(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var Vce=class extends ue{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Bce=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:s,processCellCallback:o,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){const s=t===0&&hB(this.gos,r,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||r.group)&&(e.isRowGroupDisplayed(r.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(qe(this.gos,{column:e,node:r}))??""};if(this.processCellCallback)return{value:this.processCellCallback(qe(this.gos,{accumulatedRowIndex:n,column:e,node:r,value:this.valueSvc.getValueForDisplay(e,r,void 0,void 0).value,type:i,parseValue:m=>this.valueSvc.parseValue(e,r,m,this.valueSvc.getValue(e,r,void 0)),formatValue:m=>this.valueSvc.formatValue(e,r,m)??m}))??""};const o=this.gos.get("treeData"),l=this.valueSvc,u=r.level===-1&&r.footer,d=e.colDef.showRowGroup===!0&&(r.group||o);if(!u&&(s||d)){let m="",C=r;for(;C&&C.level!==-1;){const{value:w,valueFormatted:E}=l.getValueForDisplay(s?void 0:e,C,!0,!0);m=` -> ${E??w??""}${m}`,C=C.parent}return{value:m,valueFormatted:m}}const{value:f,valueFormatted:p}=l.getValueForDisplay(e,r,!0,!0);return{value:f??"",valueFormatted:p}}getHeaderName(e,t){return e?e(qe(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function Gce(e,t){const n=document.defaultView||window;if(!n){Se(52);return}const i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var Hce={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Zi="clientSide",zi="serverSide",Qu="infinite",zce={onGroupExpandedOrCollapsed:[Zi],refreshClientSideRowModel:[Zi],isRowDataEmpty:[Zi],forEachLeafNode:[Zi],forEachNodeAfterFilter:[Zi],forEachNodeAfterFilterAndSort:[Zi],resetRowHeights:[Zi],applyTransaction:[Zi],applyTransactionAsync:[Zi],flushAsyncTransactions:[Zi],getBestCostNodeSelection:[Zi],getServerSideSelectionState:[zi],setServerSideSelectionState:[zi],applyServerSideTransaction:[zi],applyServerSideTransactionAsync:[zi],applyServerSideRowData:[zi],retryServerSideLoads:[zi],flushServerSideAsyncTransactions:[zi],refreshServerSide:[zi],getServerSideGroupLevelState:[zi],refreshInfiniteCache:[Qu],purgeInfiniteCache:[Qu],getInfiniteRowCount:[Qu],isLastRowIndexKnown:[Qu,zi],expandAll:[Zi,zi],collapseAll:[Zi,zi],onRowHeightChanged:[Zi,zi],setRowCount:[Qu,zi],getCacheBlockState:[Qu,zi]},Uce={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function Wce(e,t,n){const i=Uce[e];if(i){const{version:s,new:o,old:l,message:u}=i,d=l??e;return(...f)=>{const p=o?`Please use ${o} instead. `:"";return Xf(`Since ${s} api.${d} is deprecated. ${p}${u??""}`),t.apply(t,f)}}const r=zce[e];return r?(...s)=>{const o=n.rowModel.getType();if(!r.includes(o)){gd(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,s)}:t}var jce={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},$ce={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},qce={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},Kce=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Yce=class extends ue{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,FJ(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Hce[t]&&Se(22,{key:t})}processGridOptions(e){this.processOptions(e,cle())}validateApiFunction(e,t){return Wce(e,t,this.beans)}missingUserComponent(e,t,n,i){const r=Td[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):Se(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){const t=jce[e];return t?lo(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){Xce.has(e)&&Se(10,{eventType:e})}validateIcon(e){if(Kce.has(e)&&Se(43,{iconName:e}),$ce[e])return;const t=qce[e];if(t){Xt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:ix(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Se(134,{iconName:e})}isProvidedUserComp(e){return!!Td[e]}validateColDef(e){this.processOptions(e,Zae())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:l}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(i)],r,o,l);const u=new Set;Object.keys(e).forEach(f=>{const p=i[f];if(p){const{message:D,version:A}=p;u.add(`As of v${A}, ${String(f)} is deprecated. ${D??""}`)}const m=e[f];if(m==null||m===!1)return;const C=n[f];if(!C)return;const{dependencies:w,validate:E,supportedRowModels:R,expectedType:x}=C;if(x){const D=typeof m;if(D!==x){u.add(`${String(f)} should be of type '${x}' but received '${D}' (${m}).`);return}}if(R){const D=this.gridOptions.rowModelType??"clientSide";if(!R.includes(D)){u.add(`${String(f)} is not supported with the '${D}' row model. It is only valid with: ${R.join(", ")}.`);return}}if(w){const D=this.checkForRequiredDependencies(f,w,e);if(D){u.add(D);return}}if(E){const D=E(e,this.gridOptions,this.beans);if(D){u.add(D);return}}}),u.size>0&&u.forEach(f=>{Xf(f)})}checkForRequiredDependencies(e,t,n){const r=Object.entries(t).filter(([s,o])=>{const l=n[s];return!o.required.includes(l)});return r.length===0?null:r.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){const s=["__ob__","__v_skip","__metadata__"],o=Qce(Object.getOwnPropertyNames(e),[...s,...t,...n],n),l=Object.keys(o);for(const u of l){const d=o[u];let f=`invalid ${i} property '${u}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(f+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),Xf(f)}if(l.length>0&&r){const u=this.beans.frameworkOverrides.getDocLink(r);Xf(`to see all the valid ${i} properties please check: ${u}`)}}getConsoleMessage(e,t){return Ece(e,t)}};function Qce(e,t,n){const i={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=n0({inputValue:s,allSuggestions:n}).values),i}var Xce=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Zce={moduleName:"Validation",version:Pe,beans:[Yce]};function iH(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Jce=class extends ue{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,l=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||l}):i.childrenAfterFilter=i.childrenAfterGroup,iH(i)};if(this.doingTreeDataFiltering()){const i=(s,o)=>{if(s.childrenAfterGroup)for(let l=0;l<s.childrenAfterGroup.length;l++){const u=s.childrenAfterGroup[l],d=o||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(s.childrenAfterGroup[l],d):n(u,d)}n(s,o)},r=s=>i(s,!1);t.executeFromRootNode(r)}else{const i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},eue=class extends gx{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;const s=Cg(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:l})=>{l===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return qe(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Jr("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new dh(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Bd(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(Sn(t)===this.eGui)return;const r=lu(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ae.UP:case ae.DOWN:case ae.LEFT:case ae.RIGHT:if(t)return;qc(e);case ae.ENTER:t&&Yc(this.eGui)&&e.preventDefault();break;case ae.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Dc(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const r=this.lastFocusEvent,s=!!(r&&r.key===ae.TAB);if(r&&s){const o=r.shiftKey;Yc(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new px(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!br(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:i}=this,r=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(l=>{if(l){if(i.get("enableFilterHandlers")){const f=s;let p="filter";f?.afterFloatingFilter?p="ui":f?.afterDataChange?p="dataChanged":s?.source==="api"&&(p="api"),this.updateFloatingFilterParams(this.userCompDetails,p);return}const u=t?.getCurrentFloatingFilterParentModel(n),d=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;l.onParentModelChanged(u,d)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:r}),t?.isFilterActive(n)&&r(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.beans.colFilter,r=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!r?this.updateCompDetails(e,r,n):s.then(o=>{!o||i?.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:ni(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function tue(e,t){const n=e.colModel.getCol(t);if(!n){Xt(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function nue(e){e.menuSvc?.hidePopupMenu()}var iue={moduleName:"SharedMenu",version:Pe,beans:[xie],apiFunctions:{showColumnMenu:tue,hidePopupMenu:nue}},uv=0,rue=200,sue=class extends ue{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:r,event:s}=e,o=t.getBoundingClientRect(),l=this.getParentRect();this.setAlignedTo(t,n);let u=!1;const d=()=>{const f=this.keepXYWithinBounds(n,o.top-l.top,0),p=n.clientWidth>0?n.clientWidth:200;u||(n.style.minWidth=`${p}px`,u=!0);const C=l.right-l.left-p;let w;return this.gos.get("enableRtl")?(w=R(),w<0&&(w=E(),this.setAlignedStyles(n,"left")),w>C&&(w=0,this.setAlignedStyles(n,"right"))):(w=E(),w>C&&(w=R(),this.setAlignedStyles(n,"right")),w<0&&(w=0,this.setAlignedStyles(n,"left"))),{x:w,y:f};function E(){return o.right-l.left-2}function R(){return o.left-l.left-p}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:d,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,i,r)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:l="over",column:u,rowNode:d,type:f}=e,p=s.getBoundingClientRect(),m=this.getParentRect();this.setAlignedTo(s,t);const C=()=>{let w=p.left-m.left;o==="right"&&(w-=t.offsetWidth-p.width);let E;return l==="over"?(E=p.top-m.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,m,e.nudgeY||0)==="under"?E=p.top-m.top+p.height:E=p.top-t.offsetHeight-(i||0)*2-m.top),{x:w,y:E}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:C,postProcessCallback:()=>this.callPostProcessPopup(f,t,s,null,u,d)})}shouldRenderUnderOrAbove(e,t,n,i){const r=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=e,l={width:0,height:0},u=(d=!1)=>{let{x:f,y:p}=o();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,i&&(f+=i),r&&(p+=r),n&&(f=this.keepXYWithinBounds(t,f,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${f}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const d=fa(this.beans,t,()=>u(!0));setTimeout(()=>d(),rue)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=ri(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),K2(t)}keepXYWithinBounds(e,t,n){const i=n===0,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"height":"width",l=i?"scrollTop":"scrollLeft",u=ri(this.beans),d=u.documentElement,f=this.getPopupParent(),p=e.getBoundingClientRect(),m=f.getBoundingClientRect(),C=u.documentElement.getBoundingClientRect(),w=f===u.body,E=Math.ceil(p[o]);let x=w?(i?q2:DC)(d)+d[l]:f[r];w&&(x-=Math.abs(C[s]-m[s]));const D=x-E;return Math.min(Math.max(t,0),Math.abs(D))}addPopup(e){const t=ri(this.beans),{eChild:n,ariaLabel:i,ariaOwns:r,alwaysOnTop:s,positionCallback:o,anchorToElement:l}=e;if(!t)return Se(122),{hideFunc:()=>{}};const u=this.getPopupIndex(n);if(u!==-1)return{hideFunc:this.popupList[u].hideFunc};this.initialisePopupPosition(n);const d=this.createPopupWrapper(n,!!s,i,r),f=this.addEventListenersToPopup({...e,wrapperEl:d});return o&&o(),this.addPopupToPopupList(n,d,f,l),{hideFunc:f}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();Te(e.style.top)||(e.style.top=`${n.top*-1}px`),Te(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,i){const r=this.getPopupParent(),{environment:s,gos:o}=this.beans,l=kn({tag:"div"});return s.applyThemeClasses(l),l.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Wc(e,"dialog"),n?Bd(e,n):i&&(e.id||(e.id=`popup-component-${uv}`),I_(i,e.id)),l.appendChild(e),r.appendChild(l),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),l}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=ri(t),i=this.getPopupParent(),{wrapperEl:r,eChild:s,closedCallback:o,afterGuiAttached:l,closeOnEsc:u,modal:d,ariaOwns:f}=e;let p=!1;const m=R=>{if(!r.contains(Sn(t)))return;R.key===ae.ESCAPE&&!ea(R)&&E({keyboardEvent:R})},C=R=>E({mouseEvent:R}),w=R=>E({touchEvent:R}),E=(R={})=>{const{mouseEvent:x,touchEvent:D,keyboardEvent:A,forceHide:L}=R;!L&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:D},s)||p)||(p=!0,i.removeChild(r),n.removeEventListener("keydown",m),n.removeEventListener("mousedown",C),n.removeEventListener("touchstart",w),n.removeEventListener("contextmenu",C),this.eventSvc.removeEventListener("dragStarted",C),o&&o(x||D||A),this.removePopupFromPopupList(s,f))};return l&&l({hidePopup:E}),window.setTimeout(()=>{u&&n.addEventListener("keydown",m),d&&(n.addEventListener("mousedown",C),this.eventSvc.addEventListener("dragStarted",C),n.addEventListener("touchstart",w),n.addEventListener("contextmenu",C))},0),E}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:uv,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i),uv=uv+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&I_(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,s=i.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),l=(p,m)=>{const C=n[p]-s[p],w=o(r.style[p]);return{initialDiff:C,lastDiff:C,initial:w,last:w,direction:m}},u=l("top",0),d=l("left",1),f=this.beans.frameworkOverrides;return new Mt(p=>{f.wrapIncoming(()=>{f.setInterval(()=>{const m=t.getBoundingClientRect(),C=i.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const E=(R,x)=>{const D=o(r.style[x]);R.last!==D&&(R.initial=D,R.last=D);const A=m[x]-C[x];if(A!=R.lastDiff){const L=this.keepXYWithinBounds(r,R.initial+R.initialDiff-A,R.direction);r.style[x]=`${L}px`,R.last=L}R.lastDiff=A};E(u,"top"),E(d,"left")},200).then(m=>{p(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const l=this.popupList[o];if(nee(l.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=ri(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;const s=[],o=[];for(const m of n)m!==r&&(m.classList.contains("ag-always-on-top")?o.push(m):s.push(m));const l=[],u=o.length,p=r.classList.contains("ag-always-on-top")||!u?[...s,...o,r]:[...s,r,...o];for(let m=0;m<=i;m++){const C=p[m];if(n[m]===p[m]||C===r)continue;C.querySelectorAll("div").forEach(E=>{E.scrollTop!==0&&l.push([E,E.scrollTop])}),m===0?t.insertAdjacentElement("afterbegin",C):p[m-1].insertAdjacentElement("afterend",C)}for(;l.length;){const m=l.pop();m[0].scrollTop=m[1]}}},nw={moduleName:"Popup",version:Pe,beans:[sue]},oue=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function aue(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function lue(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function cue(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function uue(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function due(e){return e.filterManager?.getFilterModel()??{}}function hue(e,t,n){const{gos:i,colModel:r,colFilter:s}=e;n&&!i.get("enableFilterHandlers")&&(Se(288),n=!1);const o=r.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function fue(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function pue(e,t){const n=e.colModel.getCol(t);if(!n){Xt(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function gue(e){e.menuSvc?.hideFilterMenu()}function mue(e,t){const n=e.colModel.getCol(t);if(!n){Xt(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function vue(e,t){const{colModel:n,colFilter:i,gos:r}=e;if(!r.get("enableFilterHandlers")){Se(287);return}const{colId:s,action:o}=t;if(s){const l=n.getColById(s);l&&i?.updateModel(l,o)}else i?.updateAllModels(o)}var Cue={filterHandler:()=>({doesFilterPass:()=>!0})},yue=class extends ue{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...rG},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((u,d)=>{const f=e[d];s.push(this.setModelOnFilterWrapper(u,f)),l.delete(d)}),l.forEach(u=>{const d=n.getColDefCol(u)||n.getCol(u);if(!d){Se(62,{colId:u});return}if(!d.isFilterAllowed()){Se(63,{colId:u});return}const f=this.getOrCreateFilterWrapper(d,!0);if(!f){Se(64,{colId:u});return}s.push(this.setModelOnFilterWrapper(f,e[u],!0))})}else this.model={},this.allColumnFilters.forEach(l=>{s.push(this.setModelOnFilterWrapper(l,null))});Mt.all(s).then(()=>{const l=this.getModel(!0),u=[];this.allColumnFilters.forEach((d,f)=>{const p=o?o[f]:null,m=l?l[f]:null;xp(p,m)||u.push(d.column)}),u.length>0&&r?.onFilterChanged({columns:u,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:i,beans:{colModel:r}}=this;if(n.forEach((s,o)=>{const l=this.getModelFromFilterWrapper(s);Te(l)&&(t[o]=l)}),!e)for(const s of Object.keys(i)){const o=i[s];Te(o)&&!n.has(s)&&r.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const i of Object.keys(t)){const r=t[i];this.state.set(i,{model:ni(this.model,i),state:r})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((i,r)=>{const s=i.state;s!=null&&(n=!0,t[r]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return ni(this.model,n);const i=e.filter;return i?typeof i.getModel!="function"?(Se(66),null):i.getModel():ni(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=d=>d?d.isFilterActive?d.isFilterActive():(Se(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!LR(n),r=d=>{if(!d.isPrimary())return!0;const p=!t.isPivotActive();return!d.isValueActive()||!p?!1:t.isPivotMode()?!0:i},s=[],o=[],l=(d,f,p)=>{f&&(r(d)?s.push(p):o.push(p))},u=[];return this.allColumnFilters.forEach(d=>{const f=d.column,p=f.getColId();if(d.isHandler)u.push(Mt.resolve().then(()=>{l(f,this.isHandlerActive(f),{colId:p,isHandler:!0,handler:d.handler,handlerParams:d.handlerParams})}));else{const m=$a(d);m&&u.push(m.then(C=>{l(f,e(C),{colId:p,isHandler:!1,comp:C})}))}}),Mt.all(u).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(i=>{const r=i.column;if(i.isHandler)n.push(Mt.resolve().then(()=>{this.setColFilterActive(r,this.isHandlerActive(r),e,t)}));else{const s=$a(i);s&&n.push(s.then(o=>{this.setColFilterActive(r,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Mt.all(n)}doFiltersPass(e,t,n){const{data:i,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i,l=this.model;for(let u=0;u<s.length;u++){const d=s[u],{colId:f,isHandler:p}=d;if(f!==t)if(p){const{handler:m,handlerParams:C}=d;if(!m.doesFilterPass({node:e,data:o,model:ni(l,f),handlerParams:C}))return!1}else{const m=d.comp;if(typeof m.doesFilterPass!="function"){Xt(91);continue}if(!m.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{const{column:s,isHandler:o}=r;i!==s.getColId()&&(o&&r.handler.onAnyFilterChanged?.(),$a(r,o)?.then(l=>{typeof l?.onAnyFilterChanged=="function"&&l.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();const r=$a(n,i);r&&t.push(r.then(s=>{s.onNewRowsLoaded?.()}))}),Mt.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:i}=this.beans;return(r,s)=>{const o=s?i.getCol(s):e;return o?n.getValue(o,r,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():ni(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=Te(ni(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?$a(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=$a(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return YJ(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Mne(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,r,s){const o=()=>{const d=this.createFilterCompParams(e,r,s),f=i(d,r);return ate(this.beans.userCompFactory,t,f,n)},l=o();return l?{compDetails:l,createFilterUi:d=>(d?o():l).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){const r=this.beans.selectableFilter;r?.isSelectable(t)&&(t=r.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:l}=this.createHandler(e,t,n)??{},u=this.createFilterComp(e,t,n,i,!!s,"init");if(!u)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:l,handlerParams:o};const{compDetails:d,createFilterUi:f}=u;return this.isGlobalButtons&&(d.params?.buttons?.length||Se(281,{colId:e.getColId()})),{compDetails:d,handler:s,handlerGenerator:l,handlerParams:o,createFilterUi:f}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:i}=this.beans;return qe(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:r=>n?.doesRowPassOtherFilters(e.getColId(),r)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){const r=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,i);if(s.filterChangedCallback=r,s.filterModifiedCallback=i?()=>{}:o=>this.filterModified(e,o),t){const o=s,l=e.getColId(),u=ni(this.model,l);o.model=u,o.state=this.state.get(l)??{model:u},o.onModelChange=(d,f)=>{this.updateStoredModel(l,d),this.refreshHandlerAndUi(e,d,"ui").then(()=>{r({...f,source:"columnFilter"})})},o.onStateChange=d=>{this.updateState(e,d),this.updateOrRefreshFilterUi(e)},o.onAction=(d,f,p)=>{this.updateModel(e,d,f),this.dispatchLocalEvent({type:"filterAction",column:e,action:d,event:p})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=d=>this.filterUiChanged(e,d),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const i=t(),r={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),r}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:i,handlerParams:r,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),l=>l),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...r,source:"init",model:ni(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:r,filterUi:this.createFilterUiForHandler(t,s)};if(s){const l={column:e,filterUi:null,isHandler:!1};return l.filterUi=this.createFilterUiLegacy(t,s,u=>{l.filter=u??void 0}),l}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:i,registry:r}=this.beans;let s;const o=p=>{const m=p.filter;if(kB(m)){const C=m.handler;return C||(s=m.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof m=="string"?m:void 0},l=n.get("enableFilterHandlers")?o(e):void 0,u=p=>()=>this.createBean(r.createDynamicBean(p,!0));let d,f;if(typeof l=="string"){const p=n.get("filterHandlers")?.[l];p!=null?d=p:Cne.has(l)&&(d=u(l),f=l)}else d=l;if(!d){let p;const{compName:m,jsComp:C,fwComp:w}=NB(i,e);m?p=m:C==null&&w==null&&e.filter===!0&&(p=t),f=this.handlerMap[p],f&&(d=u(f))}if(d)return{filterHandler:d,handlerNameOrCallback:s??f}}createHandler(e,t,n){let i=this.createHandlerFunc(t,n);if(!i){const d=this.gos;if(!d.get("enableFilterHandlers"))return;Hn(d)&&Se(277,{colId:e.getColId()}),i=Cue}const r=XS(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=i,{handler:l,handlerParams:u}=this.createHandlerFromFunc(e,o,r);return{handler:l,handlerParams:u,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const i=e.getColDef(),r=t(qe(this.gos,{column:e,colDef:i})),s=this.createHandlerParams(e,n);return{handler:r,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),i=e.getColId(),r=this.filterChangedCallbackFactory(e);return qe(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(i,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(i,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{r({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((s,o)=>{let l;s.column.isPrimary()?l=t.getColDefCol(o):l=t.getCol(o),!(l&&l===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const r=i&&e.every(s=>i.isGroupFilter(s));e.length>0&&!r&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:i,selectableFilter:r}=this.beans,s=m=>{const C=this.getOrCreateFilterUi(e);C?.then(w=>{m(Mp(w))})},o=e.getColDef(),l=r?.isSelectable(o)?r.getFilterDef(e,o):o,u=Vne(i,l,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",d=this.gos.get("enableFilterHandlers"),f=XS(n,l,this.createFilterCompParams(e,d,"init",!0)),p=qe(this.gos,{column:e,filterParams:f,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(d){const m=p,C=e.getColId(),w=this.filterChangedCallbackFactory(e);m.onUiChange=E=>this.floatingFilterUiChanged(e,E),m.model=ni(this.model,C),m.onModelChange=(E,R)=>{this.updateStoredModel(C,E),this.refreshHandlerAndUi(e,E,"floating",!0).then(()=>{w({...R,source:"columnFilter"})})},m.getHandler=()=>this.getHandler(e,!0),m.source="init"}return hte(n,o,p,u)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){if(e.isHandler){const r=t.getColId();delete this.initialModel[r],this.state.delete(r);const s=e.filterUi,o=this.createFilterUiForHandler(n,i);e.filterUi=o,s?.created&&s.promise.then(l=>{this.destroyBean(l),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{r&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:i,isHandler:r,filterUi:s}=e,o=i.getColId();r&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const l=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(s){if(s.created)return s.promise.then(u=>(n=r?n:!!u?.isFilterActive(),this.destroyBean(u),l(),n));l()}return Mt.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const i=this.beans,r=n.column,s=r.getColDef(),o=r.isFilterAllowed(),l=this.getDefaultFilter(r),u=i.selectableFilter,d=u?.isSelectable(s)?u.getFilterDef(r,s):s,f=o?this.createHandlerFunc(d,this.getDefaultFilter(r)):void 0,p=!!f,m=n.isHandler;if(m!=p){this.destroyFilter(r,"paramsUpdated");return}const{compDetails:C,createFilterUi:w}=(o?this.createFilterComp(r,d,l,R=>R,p,"colDef"):null)??{compDetails:null,createFilterUi:null},E=C?.params??XS(i.userCompFactory,d,this.createFilterCompParams(r,p,"colDef"));if(m){const R=f?.handlerNameOrCallback??f?.filterHandler,x=ni(this.model,e);if(n.handlerGenerator!=R){const D=n.handler,{handler:A,handlerParams:L}=this.createHandlerFromFunc(r,f.filterHandler,E);n.handler=A,n.handlerParams=L,n.handlerGenerator=R,delete this.model[e],A.init?.({...L,source:"init",model:null}),this.destroyBean(D),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[r],source:t})}else{const D=this.createHandlerParams(r,C?.params);n.handlerParams=D,n.handler.refresh?.({...D,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,C)||!n.filterUi||!C){this.destroyFilterUi(n,r,C,w);return}n.filterUi.filterParams=E,$a(n,m)?.then(R=>{(R?.refresh?R.refresh(E):!0)===!1?this.destroyFilterUi(n,r,C,w):this.dispatchLocalEvent({type:"filterParamsChanged",column:r,params:E})})}refreshHandlerAndUi(e,t,n,i){const r=this.cachedFilter(e);if(!r)return i&&this.getOrCreateFilterWrapper(e,!0),Mt.resolve();if(!r.isHandler)return Mt.resolve();const{filterUi:s,handler:o,handlerParams:l}=r;return yne(()=>{if(s){const{created:u,filterParams:d}=s;if(u)return s.promise.then(f=>f?{filter:f,filterParams:d}:void 0);s.refreshed=!0}return Mt.resolve(void 0)},o,l,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(r=>{i(Mp(r))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:i,model:r}=this,s=e.getColId(),o=i.get(s);return o?o.model??null:ni(r,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const i=new Promise(r=>{n=r});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:ni(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):Mt.resolve()}setColDefPropsForDataType(e,t,n){const i=e.filter,r=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof r!="string")return;let s,o;const l=this.beans,{filterParams:u,filterValueGetter:d}=e;r==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=l.multiFilter?.getParamsForDataType(u,d,t,n)??{}:{filterParams:s,filterValueGetter:o}=Pne(r,u,d,t,n,l,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new Mt(i=>{if(e.isHandler){const s=e.column,o=s.getColId(),l=this.model[o];if(this.updateStoredModel(o,t),n&&t===l){i();return}this.refreshHandlerAndUi(s,t,"api").then(()=>i());return}const r=$a(e);if(r){r.then(s=>{if(typeof s?.setModel!="function"){Se(65),i();return}(s.setModel(t)||Mt.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){Te(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const i=e.getColId(),r=()=>this.cachedFilter(e)?.filterUi;$_(t,r,()=>ni(this.model,i),()=>this.state.get(i),s=>this.updateState(e,s),s=>r()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((i,r)=>{const s=this.beans.colModel.getColDefCol(r);s&&$_(e,()=>i.filterUi,()=>ni(this.model,r),()=>this.state.get(r),o=>this.updateState(s,o),o=>{this.updateStoredModel(r,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&Mt.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();oG(()=>this.cachedFilter(e)?.filterUi,()=>ni(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const r of n)if(r.source==="COLUMN_MENU")return!1;let i=!1;for(const r of e.keys()){const s=e.get(r);if(s.valid===!1)return!1;(s.model??null)!==ni(t,r)&&(i=!0)}return i}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==ni(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function wue(e){return!!e.filterManager?.isAnyFilterPresent()}function bue(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var Sue=class extends ue{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){LR(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Mt.resolve()).then(()=>{const r={source:t,type:"filterChanged",columns:i};n&&qi(r,n),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!LR(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){Se(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},Eue=class extends ue{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,br(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let r=-1,s="left";const o=br(this.gos);!o&&this.gos.get("enableRtl")&&(r=1,s="right");const l=o?void 0:4*r,u=o?void 0:4;this.showPopup(e,d=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:d,nudgeX:l,nudgeY:u,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,i)}showPopup(e,t,n,i,r,s){const o=e?this.createBean(new Tne(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){Xt(57);return}const l=kn({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(l,{keydown:E=>this.trapFocusWithin(E,l)}),l.appendChild(o?.getGui());let u;const d=()=>o?.afterGuiDetached(),f=QJ(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=E=>{e1(e,!1,"contextMenu");const R=E instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),R&&i&&fo(i)&&XB(i)?.focus({preventScroll:!0}),d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},m=this.getLocaleTextFunc(),C=r&&n!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),w=this.popupSvc?.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(l),anchorToElement:f,ariaLabel:C});w&&(this.hidePopup=u=w.hideFunc),o.afterInit().then(()=>{t(l),o.afterGuiAttached({container:n,hidePopup:u})}),e1(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==ae.TAB||e.defaultPrevented||lu(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Yc(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},Rue=class extends ue{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const i=e.getColDef(),{selectableFilter:r,valueSvc:s}=this.beans,o=n??r?.getFilterValueGetter(e.getColId())??i.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,i):s.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){const{expressionSvc:s,valueSvc:o}=this.beans,l=qe(this.gos,{data:t,node:i,column:n,colDef:r,getValue:o.getValueCallback.bind(o,i)});return typeof e=="function"?e(l):s?.evaluate(e,l)}},Tue={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},xue=class extends an{constructor(){super(Tue,[Jy]),this.eFloatingFilterText=Ue}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,i=n.getHandler();if(i.getModelAsString){const r=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(r)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},Tx=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(s=>t[s]!=null)?!0:(Se(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;Se(73)}else Se(74)}getCustomOption(e){return this.customFilterOptions[e]}};function tp(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function YC(e){return e==null||typeof e=="string"&&e.trim().length===0}function Due(e){return e==="AND"||e==="OR"?e:"AND"}function Aue(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function Pue(e,t){let n=e.length;return n>t&&(e.splice(t),Se(78),n=t),n}function Vp(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:r}=n;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var xx=class extends Lne{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new Tx;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=Due(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const o=e,l=t;s=this.areSimpleModelsEqual(o,l)}else{const o=e,l=t;s=o.operator===l.operator&&au(o.conditions,l.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Mt.resolve();if(e.operator){const i=e;let r=i.conditions;r==null&&(r=[],Se(77));const s=Pue(r,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let u=o;u<s;u++)this.createJoinOperatorPanel(),this.createOption();const l=i.operator==="OR";this.eJoinAnds.forEach(u=>u.setValue(!l,!0)),this.eJoinOrs.forEach(u=>u.setValue(l,!0)),r.forEach((u,d)=>{this.eTypes[d].setValue(u.type,!0),this.setConditionIntoUi(u,d)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Mt.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Se(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(Se(80),n=1),n>t&&(Se(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new wx);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const e=kn({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const i=this.eJoinPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new nre);e.push(i);const r="ag-filter-condition-operator";return i.addCss(r),i.addCss(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{const s=this.isConditionDisabled(r,e);i.setDisabled(s||this.filterListOptions.length<=1),r===1&&(Ap(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((i,r)=>{wn(i,this.isConditionBodyVisible(r))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOrs.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,s,o)=>{this.setElementDisplayed(i,r<o),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinPanels:r,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);const l=Math.max(e-1,0);this.removeElements(r,l,t),this.removeComponents(s,l,t),this.removeComponents(o,l,t)}removeElements(e,t,n){tp(e,t,n).forEach(r=>ca(r))}removeComponents(e,t,n){tp(e,t,n).forEach(r=>{ca(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof bc&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const l=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),u=o<t;(l||u)&&(this.removeConditionsAndOperators(o,1),i=!0,u&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof bc))return;const s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof bc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof an&&wn(e.getGui(),t)}setElementDisabled(e,t){e instanceof an&&Ap(e.getGui(),t)}attachElementOnChange(e,t){e instanceof bc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=Vp(t,this.optionsFactory),r=this.getInputs(e);for(let s=0;s<r.length;s++){const o=r[s];o!=null&&n(o,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Vp(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,r,s)=>{s===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},rH=class{constructor(e,t,n,i,r,s){this.alive=!0,this.context=e,this.eParent=r;const o=lte(t,n,i);o&&o.newAgStackInstance().then(l=>{if(!this.alive){e.destroyBean(l);return}if(this.dateComp=l,!l)return;r.appendChild(l.getGui()),l?.afterGuiAttached?.();const{tempValue:u,disabled:d}=this;u&&l.setDate(u),d!=null&&l.setDisabled?.(d),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){wn(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},Dx=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function sH(e,t){const{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&or(n)||null,i&&or(i)||null].slice(0,Vp(r,t))}var F1=1e3,M1=1/0,Iue=class extends xx{constructor(){super("dateFilter",sH,Dx),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=F1,this.maxValidYear=M1,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(u,d)=>{const f=e[u];if(f!=null)if(isNaN(f))Se(82,{param:u});else return f==null?d:Number(f);return d},n=t("minValidYear",F1),i=t("maxValidYear",M1);this.minValidYear=n,this.maxValidYear=i,n>i&&Se(83);const{minValidDate:r,maxValidDate:s}=e,o=r instanceof Date?r:or(r);this.minValidDate=o;const l=s instanceof Date?s:or(s);this.maxValidDate=l,o&&l&&o>l&&Se(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:i},params:r}=this,s=new rH(n,t,r.colDef,qe(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=kn({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const r=kn({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),tp(this.eConditionPanelsFrom,e,t),tp(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){tp(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,s)=>{r!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=Rr(i[0])),i.length>1&&(n.dateTo=Rr(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},oH=class extends ue{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new Tx;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,i=[];if(n){const o=t;i.push(...o.conditions??[])}else i.push(t);const r=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return i[r](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let s=Nne(t)?t.conditions:[t];const o=n?.map(f=>typeof f=="string"?f:f.displayKey)??this.defaultOptions;if(!(!s||s.every(f=>o.find(p=>p===f.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let u=!1;const d=this.filterType;if((s&&!s.every(f=>f.filterType===d)||t.filterType!==d)&&(s=s.map(f=>({...f,filterType:d})),u=!0),typeof i=="number"&&s&&s.length>i&&(s=s.slice(0,i),u=!0),u){const f=s.length>1?{...t,filterType:d,conditions:s}:{...s[0],filterType:d};this.params={...e,model:f},e.onModelChange(f);return}}individualConditionPasses(e,t,n){const i=this.optionsFactory,r=this.mapValuesFromModel(t,i),s=i.getCustomOption(t.type),o=Aue(s,r,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}},aH=class extends oH{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const r=this.comparator(),s=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=r(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return YC(t);case"notBlank":return!YC(t);default:return Se(76,{filterModelType:i}),!0}}},lH={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},Fue={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},Ax=class extends ue{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?il(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,l=(s.conditions??[]).map(d=>this.getModelAsString(d,t)),u=s.operator==="AND"?"andCondition":"orCondition";return l.join(` ${il(this,u)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?il(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:l,displayName:u,numberOfInputs:d}=o||{};return l&&u&&d===0?n(l,u):this.conditionToString(s,i,s.type==="inRange"||d===2,l,u)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,r,s){let o;const l=this.getTypeKey(e);return l&&(o=il(this,l)),r&&s&&(o=this.getLocaleTextFunc()(r,s)),o!=null?t?`${o} ${il(this,"filterSummaryInRangeValues",[n(),i()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},cH=class extends Ax{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:i,valueSvc:r}=this.beans,s=t.column,l=i?.getDateFormatterFunction(s)?.(n??void 0);return r.formatValue(s,null,l)}),this.filterTypeKeys=lH}conditionToString(e,t,n,i,r){const{type:s}=e,o=or(e.dateFrom),l=or(e.dateTo),u=this.filterParams.inRangeFloatingFilterDateFormat,d=t?this.formatValue.bind(this):m=>WR(m,u),f=()=>o!==null?d(o):"null",p=()=>l!==null?d(l):"null";if(t){const m=this.conditionForToolPanel(s,n,f,p,i,r);if(m!=null)return m}return n?`${f()}-${p()}`:o!=null?d(o):`${s}`}};function Mue(e,t){const n=t;return n<e?-1:n>e?1:0}var _ue=class extends aH{constructor(){super(sH,Dx),this.filterType="date",this.FilterModelFormatterClass=cH}comparator(){return this.params.filterParams.comparator??Mue}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},uH=class extends an{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new Tx;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:i,model:r}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(r)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},kue={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},Oue=class extends uH{constructor(){super(kue,[Jy]),this.eReadOnlyText=Ue,this.eDateWrapper=Ue,this.FilterModelFormatterClass=cH,this.filterType="date",this.defaultOptions=Dx}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?or(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){wn(this.eDateWrapper,e),wn(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,i=Rr(e),r=i==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:i};t.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=ax(e,this.defaultDebounceMs);return qe(this.gos,{onDateChanged:Ci(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new rH(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Lue={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},Nue=class extends an{constructor(){super(Lue,[Jy]),this.eDateInput=Ue,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&iu();const{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o,buttons:l,includeTime:u,colDef:d}=e.filterParams||{},f=this.beans.dataTypeSvc,p=u??f?.getDateIncludesTimeFlag?.(d.cellDataType)??!1;if(n?p?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&i&&Se(85),o&&r&&Se(86),s&&o){const[m,C]=[s,o].map(w=>w instanceof Date?w:or(w));m&&C&&m.getTime()>C.getTime()&&Se(87)}s?s instanceof Date?t.min=WR(s):t.min=s:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=WR(o):t.max=o:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!l?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return or(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Rr(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},Px=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function i0(e){const{allowedCharPattern:t}=e??{};return t??null}function r0(e){return e==null||isNaN(e)?null:e}function dH(e,t){const{filter:n,filterTo:i,type:r}=e||{};return[r0(n),r0(i)].slice(0,Vp(r,t))}var Vue=class extends xx{constructor(){super("numberFilter",dH,Px),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:i}=this.params,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createEValue(){const e=i0(this.params),t=kn({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const r=this.createManagedBean(i?new cu({allowedCharPattern:i}):new yx);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(r0(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Jo(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},hH=class extends Ax{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=lH}conditionToString(e,t,n,i,r){const{filter:s,filterTo:o,type:l}=e,u=this.formatValue.bind(this);if(t){const d=this.conditionForToolPanel(l,n,()=>u(s),()=>u(o),i,r);if(d!=null)return d}return n?`${u(s)}-${u(o)}`:s!=null?u(s):`${l}`}},Bue=class extends aH{constructor(){super(dH,Px),this.filterType="number",this.FilterModelFormatterClass=hH}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},fH=class extends ue{constructor(e){super(),this.params=e,this.eInput=Ue,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new cu(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function pH(e){const t=e?.trim();return t===""?e:t}function gH(e,t){const{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,Vp(r,t))}var Gue={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},mH=class extends uH{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ue,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(Gue)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Xy(e.filterParams),!r){const s=ax(e.filterParams,i),o=Ci(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Dr(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===ae.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:i,params:r,lastType:s}=this;let o=i.getValue();if(r.filterParams.trimInput&&(o=pH(o),i.setValue(o,!0)),n){const l=r,u=l.model,d=this.convertValue(o),f=d==null?null:{...u??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:d};l.onModelChange(f,{afterFloatingFilter:!0})}else r.parentFilterInstance(l=>{l?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},Hue=class extends ue{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new yx),this.eTextInput=this.createManagedBean(new cu),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},zue=class extends mH{constructor(){super(...arguments),this.FilterModelFormatterClass=hH,this.filterType="number",this.defaultOptions=Px}updateParams(e){i0(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=i0(e.filterParams),this.allowedCharPattern?this.createManagedBean(new fH({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Hue)}convertValue(e){return e?Number(e):null}},Ix=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Uue=class extends xx{constructor(){super("textFilter",gH,Ix),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{if(r<o){let l=Jo(i.getValue());t&&this.params.trimInput&&(l=pH(l)??null,i.setValue(l,!0)),n.push(l)}}),n}createEValue(){const e=kn({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new cu);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:i,eValuesTo:r}=this;n(i),n(r)}},vH=class extends Ax{constructor(){super(...arguments),this.filterTypeKeys=Fue}conditionToString(e,t,n,i,r){const{filter:s,filterTo:o,type:l}=e;if(t){const u=f=>()=>il(this,"filterSummaryTextQuote",[f]),d=this.conditionForToolPanel(l,n,u(s),u(o),i,r);if(d!=null)return d}return n?`${s}-${o}`:s!=null?`${s}`:`${l}`}},Wue=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},jue=e=>e,$ue=e=>e==null?null:e.toString().toLowerCase(),que=class extends oH{constructor(){super(gH,Ix),this.filterType="text",this.FilterModelFormatterClass=vH}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??Wue,this.formatter=t.textFormatter??(t.caseSensitive?jue:$ue)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const r=e.map(m=>this.formatter(m))||[],s=this.formatter(t),{api:o,colDef:l,column:u,context:d,filterParams:{textFormatter:f}}=this.params;if(n.type==="blank")return YC(t);if(n.type==="notBlank")return!YC(t);const p={api:o,colDef:l,column:u,context:d,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:f};return r.some(m=>this.matcher({...p,filterText:m}))}},Kue=class extends mH{constructor(){super(...arguments),this.FilterModelFormatterClass=vH,this.filterType="text",this.defaultOptions=Ix}createFloatingFilterInputService(){return this.createManagedBean(new fH)}};function Yue(e){return!!e.quickFilter?.isFilterPresent()}function Que(e){return e.quickFilter?.getText()}function Xue(e){e.quickFilter?.resetCache()}var Zue=class extends ue{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let l=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:o)??[];s&&(l=l.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?l:l.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Te(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Se(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return Te(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const r=qe(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return Te(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);Te(i)&&t.push(i)}),t.join(`
`)}},Jue={moduleName:"ClientSideRowModelFilter",version:Pe,rowModels:["clientSide"],beans:[Jce]},Fx={moduleName:"FilterCore",version:Pe,beans:[Sue],apiFunctions:{isAnyFilterPresent:wue,onFilterChanged:bue},css:[oue],dependsOn:[Jue]},CH={moduleName:"FilterValue",version:Pe,beans:[Rue]},iw={moduleName:"ColumnFilter",version:Pe,beans:[yue,Eue],dynamicBeans:{headerFilterCellCtrl:eue},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:aue,getColumnFilterInstance:lue,destroyFilter:cue,setFilterModel:uue,getFilterModel:due,getColumnFilterModel:hue,setColumnFilterModel:fue,showColumnFilter:pue,hideColumnFilter:gue,getColumnFilterHandler:mue,doFilterAction:vue},dependsOn:[Fx,nw,CH,iue]},ede={moduleName:"CustomFilter",version:Pe,userComponents:{agReadOnlyFloatingFilter:xue},dependsOn:[iw]},tde={moduleName:"TextFilter",version:Pe,dependsOn:[iw],userComponents:{agTextColumnFilter:{classImp:Uue,params:{useForm:!0}},agTextColumnFloatingFilter:Kue},dynamicBeans:{agTextColumnFilterHandler:que}},nde={moduleName:"NumberFilter",version:Pe,dependsOn:[iw],userComponents:{agNumberColumnFilter:{classImp:Vue,params:{useForm:!0}},agNumberColumnFloatingFilter:zue},dynamicBeans:{agNumberColumnFilterHandler:Bue}},ide={moduleName:"DateFilter",version:Pe,dependsOn:[iw],userComponents:{agDateColumnFilter:{classImp:Iue,params:{useForm:!0}},agDateInput:Nue,agDateColumnFloatingFilter:Oue},dynamicBeans:{agDateColumnFilterHandler:_ue}},rde={moduleName:"QuickFilterCore",version:Pe,rowModels:["clientSide"],beans:[Zue],dependsOn:[Fx,CH]},sde={moduleName:"QuickFilter",version:Pe,apiFunctions:{isQuickFilterPresent:Yue,getQuickFilter:Que,resetQuickFilter:Xue},dependsOn:[rde]},ode={moduleName:"ExternalFilter",version:Pe,dependsOn:[Fx]},ade=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",mE=(e,t,n)=>{const{editModelSvc:i}=e,r=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=r||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},lde=class extends ue{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const r=gE(this.gos),{column:s,eGui:o}=t,l=s.getColDef();!i&&r&&!l.headerComponent&&(i=Ov(()=>o.querySelector(".ag-header-cell-text")));const u={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:i};let d=this.createTooltipFeature(u);return d&&(d=t.createBean(d),t.setRefreshFunction("tooltip",()=>d.refreshTooltip())),d}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const r=gE(this.gos),{column:s,eGui:o}=t,l=s.getColGroupDef();!i&&r&&!l?.headerGroupComponent&&(i=Ov(()=>o.querySelector(".ag-header-group-text")));const u={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(l&&l.headerTooltip),shouldDisplayTooltip:i};l&&(u.getColDef=()=>l);const d=this.createTooltipFeature(u);return d&&t.createBean(d)}enableCellTooltipFeature(e,t,n){const{beans:i}=this,{gos:r,editSvc:s}=i,{column:o,rowNode:l}=e;let u="cell";const d=()=>{const C=!!!s?.isEditing(e)&&mE(i,e,this.getLocaleTextFunc());if(C)return u="cellEditor",C;u="cell";const w=o.getColDef(),E=l.data;if(w.tooltipField&&Te(E))return Yf(E,w.tooltipField,o.isTooltipFieldContainsDots());const R=w.tooltipValueGetter;return R?R(qe(r,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:l,data:l.data,value:e.value,valueFormatted:e.valueFormatted})):null},f=gE(r);n||(f&&!e.isCellRenderer()?n=()=>{const m=!!s?.isEditing(e);if(!m&&mE(i,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const E=Ov(()=>{const R=e.eGui;return R.children.length===0?R:R.querySelector(".ag-cell-value")});return!m&&E()}:n=()=>!s?.isEditing(e));const p={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>l,getGui:()=>e.eGui,getLocation:()=>u,getTooltipValue:t!=null?()=>t:d,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(p,i)}setupFullWidthRowTooltip(e,t,n,i){const r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const l=this.createTooltipFeature(r,s);if(l)return t.createBean(l,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:i}=n,r=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!r)return;const s={getGui:()=>r,getTooltipValue:()=>mE(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:l}=n,u=l?.getRowValidationModel()?.getRowValidationMap(),d=l?.getCellValidationModel()?.getCellValidationMap(),f=!!u&&u.size>0,p=!!d&&d.size>0;return f||p}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,i)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Te(t.tooltipField)||Te(t.tooltipValueGetter)||Te(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},yH={moduleName:"Tooltip",version:Pe,beans:[lde],dynamicBeans:{tooltipFeature:Lce},userComponents:{agTooltipComponent:Mce},dependsOn:[nw],css:[ade]},sd=class{constructor(e){this.cellValueChanges=e}},vE=class extends sd{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},cde=10,_1=class{constructor(e){this.actionStack=[],this.maxStackSize=e||cde,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},ude=class extends ue{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&UB(this.activeCellEdit,t),i=this.activeRowEdit!==null&&Pte(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:l,oldValue:u,value:d}=e,f={rowPinned:s,rowIndex:o,columnId:l.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new _1(n),this.redoStack=new _1(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[i],r),s instanceof vE?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:s,columnId:o}=i,l={rowIndex:r,rowPinned:s},u=ua(this.beans,l);u.displayed&&u.setDataValue(o,t(i),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;const s=i.startRow,o=i.endRow;r===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},s=ua(this.beans,r),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:s,rangeSvc:o}=this.beans,l=r.getCol(n);if(!l)return;const{scrollFeature:u}=this.gridBodyCtrl;u.ensureIndexVisible(t),u.ensureColumnVisible(l);const d={rowIndex:t,column:l,rowPinned:i};s.setFocusedCell({...d,forceBrowserFocus:!0}),o?.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new sd(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new sd(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new sd(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new vE(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Tl(n)?e=new vE(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new sd(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new sd(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},dde=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",hde={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},fde=class extends Zy{constructor(){super(hde,[Cx]),this.eEditor=Ue}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=Ky(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},rw=class extends Zy{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Ue}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:i,eventKey:r,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,l=!0;i?(this.focusAfterAttached=!0,r===ae.BACKSPACE||r===ae.DELETE?o="":r&&r.length===1?s?l=!1:o=r:(o=t.getStartValue(),r!==ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),l&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",u=>{const{key:d}=u;(d===ae.PAGE_UP||d===ae.PAGE_DOWN)&&u.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;iu()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},pde={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},gde=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return pde}getAgComponents(){return[bG]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:r,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:r,getValidationErrors:s}=n;let o=[];const l=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){const u=i instanceof Date?i:new Date(i);if(t<u){const d=u.toLocaleDateString();o.push(l("minDateValidation",`Date must be after ${d}`,[d]))}}if(r){const u=r instanceof Date?r:new Date(r);if(t>u){const d=u.toLocaleDateString();o.push(l("maxDateValidation",`Date must be before ${d}`,[d]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!Te(n)&&!Te(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Rr(e,this.includeTime??!1)}},mde=class extends rw{constructor(){super(new gde(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},vde={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},Cde=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return vde}getAgComponents(){return[bG]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:r,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:r,max:s,getValidationErrors:o}=t;let l=[];if(i){const u=new Date(i),d=this.getLocaleTextFunc();if(r){const f=new Date(r);if(u<f){const p=f.toLocaleDateString();l.push(d("minDateValidation",`Date must be after ${p}`,[p]))}}if(s){const f=new Date(s);if(u>f){const p=f.toLocaleDateString();l.push(d("maxDateValidation",`Date must be before ${p}`,[p]))}}}return l.length||(l=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:l}):l}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!Te(n)&&!Te(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Rr(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):or(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Rr(e??null,this.includeTime??!1)??void 0}},yde=class extends rw{constructor(){super(new Cde(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},wde={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},bde=class extends Zy{constructor(){super(wde,[rre]),this.eEditor=Ue}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:i,value:r,maxLength:s,cols:o,rows:l}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(l||10);let u;n?(this.focusAfterAttached=!0,i===ae.BACKSPACE||i===ae.DELETE?u="":i&&i.length===1?u=i:(u=r.toString(),i!==ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,u=r.toString()),u!=null&&t.setValue(u,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ae.LEFT||t===ae.UP||t===ae.RIGHT||t===ae.DOWN||e.shiftKey&&t===ae.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,i=this.getLocaleTextFunc();e.setInputAriaLabel(i("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!Te(i)&&!Te(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),r=this.getValue();let s=[];return typeof r=="string"&&t!=null&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,internalErrors:s,cellEditorParams:e}):s}},Sde={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},Ede=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return Sde}getAgComponents(){return[sre]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:i,precision:r,step:s}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let l=[];return typeof s=="number"&&(t!=null&&s<t&&l.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&l.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),l.length||(l=null),i?i({value:s,cellEditorParams:e,internalErrors:l}):l}preventStepping(e){(e.key===ae.UP||e.key===ae.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!Te(n)&&!Te(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){iu()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},Rde=class extends rw{constructor(){super(new Ede(()=>this.getLocaleTextFunc()))}},Tde={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},xde=class extends Zy{constructor(){super(Tde,[hre]),this.eEditor=Ue,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:i}=this,{values:r,value:s,eventKey:o}=e;if(mn(r)){Se(58);return}this.startedByEnter=o!=null?o===ae.ENTER:!1;let l=!1;r.forEach(p=>{const m={value:p},C=n.formatValue(e.column,null,p),w=C!=null;m.text=w?C:p,t.addOption(m),l=l||s===p}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:f}=e;u!=null&&t.setPickerGap(u),f!=null&&t.setPickerMaxHeight(f),d!=null&&t.setPickerMaxWidth(d),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue();let r=[];if(t&&!t.includes(i)){const s=this.getLocaleTextFunc();r.push(s("invalidSelectionValidation","Invalid selection."))}else r=null;return n?n({value:i,internalErrors:r,cellEditorParams:e}):r}},Dde={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},Ade=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return Dde}getAgComponents(){return[Jy]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),r=this.getLocaleTextFunc();let s=[];return t!=null&&typeof i=="string"&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!Te(n)&&!Te(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=Te(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},k1=class extends rw{constructor(){super(new Ade(()=>this.getLocaleTextFunc()))}};function Pde(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Ide(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function wH(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function bH(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function Fde(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function Mde(e){e.undoRedo?.undo("api")}function _de(e){e.undoRedo?.redo("api")}function kde(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,r)=>{const{rowIndex:s,rowPinned:o}=r;i.forEach((l,u)=>{const{editorValue:d,pendingValue:f,sourceValue:p,state:m}=l,C=fl(l);let w=d??f;w===ls&&(w=void 0);const E={newValue:w,oldValue:p,state:m,column:u,colId:u.getColId(),colKey:u.getColId(),rowIndex:s,rowPinned:o};(m==="editing"||m==="changed"&&C)&&n.push(E)})}),n}function Ode(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(i=>{i.state==="editing"&&n.revertSingleCellEdit(i)}):wc(e,!0),wd(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function Lde(e,t){const n=pn(e,t);return e.editSvc?.isEditing(n)??!1}function Nde(e,t){const{key:n,colKey:i,rowIndex:r,rowPinned:s}=t,{editSvc:o,colModel:l}=e,u=l.getCol(i);if(!u){Se(12,{colKey:i});return}const f=ua(e,{rowIndex:r,rowPinned:s||null});if(!f){Se(290,{rowIndex:r,rowPinned:s});return}if(!u.isCellEditable(f))return;s==null&&bH(e,r),wH(e,i),o?.startEditing({rowNode:f,column:u},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function Vde(e){return e.editSvc?.validateEdit()||null}function Bde(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function Gde(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var Hde={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},zde=class extends mx{constructor(e){super(Hde),this.params=e}postConstruct(){$c(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{qR(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},QC=(e,t=!1)=>{if(e!==void 0)return fl(e)||t&&e.state==="editing"};function SH(e,t,n=!1){return QC(e.editModelSvc?.getEdit(t),n)}function EH(e,t){const{editModelSvc:n}=e,{column:i,rowNode:r}=t;if(e.gos.get("groupTotalRow")&&!r?.footer)return!1;for(const s of r?.allLeafChildren??[])if(QC(n?.getEdit({rowNode:s,column:i}))||QC(n?.getEdit({rowNode:s.pinnedSibling,column:i})))return!0}function RH(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return QC(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var Ude=class extends ue{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const r=SH(n,e)||EH(n,e)||RH(n,e);this.applyBatchingStyle(r)}else this.applyBatchingStyle(!1);const i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},Wde=class extends ue{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let i=e.rowNode,r=t?.getEditRow(i);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!r&&i.pinnedSibling&&(i=i.pinnedSibling,r=t?.getEditRow(i)),r){const o=Array.from(r.keys()).some(l=>{const u={rowNode:i,column:l};return SH(n,u,!0)||EH(n,u)||RH(n,u)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:r})=>{r.toggleCss("ag-row-editing",i&&t),r.toggleCss("ag-row-batch-edit",i&&t&&n),r.toggleCss("ag-row-inline-editing",t),r.toggleCss("ag-row-not-inline-editing",!t),r.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},jde=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{const r=new Set;return e.forEachNode(s=>i.has(s)&&r.add(s)),t?.forEachPinnedRow("top",s=>i.has(s)&&r.add(s)),t?.forEachPinnedRow("bottom",s=>i.has(s)&&r.add(s)),i.forEach(s=>{r.has(s)||n.removeEdits({rowNode:s})}),r},$de=({editModelSvc:e},t,n)=>{t.forEach(i=>e?.getEditRow(i)?.forEach((r,s)=>!n.has(s)&&e.removeEdits({rowNode:i,column:s})))},qde=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());$de(e,jde(e,i),t)},Kde=new Set(["undo","redo"]),TH={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},Yde=new Set(Object.keys(TH)),Qde=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),dv={cancel:!0,source:"api"},Xde={cancel:!1,source:"api"},Xu={checkSiblings:!0},Rf={force:!0,suppressFlash:!0},Zde=class extends ue{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,dv),this.createStrategy(i)});const t=qde(e),n=()=>{const i=this.model.getCellValidationModel().getCellValidationMap().size>0,r=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||r?this.stopEditing(void 0,dv):this.isEditing()&&(this.isBatchEditing()?wd(e,this.model.getEditPositions()):this.stopEditing(void 0,Xde)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,dv)):(this.stopEditing(void 0,dv),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:i}=this,r=e??n.get("editType")??"singleCell";if(i){if(i.beanName===r)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,i)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return Gte(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Xu)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:i=null,source:r="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=pn(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const l=this.shouldStartEditing?.(e,i,n,r);if(l===!1&&r!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,r)&&this.stopEditing(void 0,{source:r}),l&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,i,r,s)}stopEditing(e,t){const{event:n,cancel:i,source:r="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:l}=this;if(Yde.has(r))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:TH[r]});if(!(this.isEditing(e)||this.isBatchEditing()&&l.hasEdits(e,Xu))||!this.strategy)return!1;const d=pn(o,e);d&&(d.onEditorAttachedFuncs=[]);let f=l.getEditMap(!0),p=!1;const m=!i&&!!this.shouldStopEditing(e,n,r),C=i&&!!this.shouldCancelEditing(e,n,r);if(m||C){wc(o,!0);const w=l.getEditMap();this.processEdits(w,i),this.strategy?.stop(i,n),this.bulkRefresh(void 0,f),f=w,p||(p=m)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const w=n.key,E=w===ae.ENTER,R=w===ae.ESCAPE,x=w===ae.TAB;(E||x||R)&&(E||x?wc(o,!0):R&&this.revertSingleCellEdit(d),this.isBatchEditing()?this.strategy?.cleanupEditors():wd(o,l.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,f,{suppressFlash:!0}),f=l.getEditMap())}else wc(o,!0),f=l.getEditMap();return p&&e&&this.model.removeEdits(e),!s&&d&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,d.cellPosition),HR(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),C&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(f.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),p&&m&&this.dispatchBatchEvent("batchEditingStopped",f)),p}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?ae.UP:ae.DOWN;this.beans.navigation?.navigateToNextCell(null,i,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:i}=this,r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const l=e.get(o);for(const u of l.keys()){const d=l.get(u),f={rowNode:o,column:u},p=pn(i,f),m=fl(d),C=p?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!C&&m&&!r&&(this.setNodeDataValue(o,u,d.pendingValue)||s.push(f)),p?.refreshCell(Rf)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,i){const{beans:r}=this,s=pn(r,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),i&&s?.refreshCell(Rf),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(Rf)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:i,sourceValue:r}=n,{rowIndex:s,rowPinned:o,data:l}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:l,newValue:i,oldValue:r,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:i,gos:r}=this,{editModelSvc:s,rowModel:o}=i;Hn(r)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((l,u)=>{for(const d of l.keys())this.refCell({rowNode:u,column:d},l.get(d),n)}))}refCell({rowNode:e,column:t},n,i={}){const{beans:r,gos:s}=this,o=new Set([e]),l=new Set,u=e.pinnedSibling;u&&o.add(u);const d=e.sibling;d&&l.add(d);let f=e.parent;for(;f;)f.sibling?.footer&&s.get("groupTotalRow")||!f.parent&&f.sibling&&s.get("grandTotalRow")?l.add(f.sibling):l.add(f),f=f.parent;o.forEach(p=>this.dispatchEditValuesChanged({rowNode:p,column:t},n)),o.forEach(p=>pn(r,{rowNode:p,column:t})?.refreshCell(i)),l.forEach(p=>pn(r,{rowNode:p,column:t})?.refreshCell(i))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const i=pn(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!i?.hasBrowserFocus()&&i?.focusCell(),i?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(i&&this.revertSingleCellEdit(i),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=pn(this.beans,e);n?.comp?.getCellEditor()&&(wd(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),zd(this.beans,e,{silent:!0}),Kc(this.beans),n?.refreshCell(Rf),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Kc(this.beans);const t=pn(this.beans,e);t&&(t.refreshCell(Rf),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let r;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof Sd&&s&&(r=this.strategy?.moveToNextEditingCell(e,t,n,i,o)),r===null||(r=r||!!this.beans.focusSvc.focusedHeader,r===!1&&!o&&this.stopEditing()),r}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let i=this.model.getEdit({rowNode:e,column:t});const r=e.pinnedSibling;if(r){const o=this.model.getEdit({rowNode:r,column:t});o&&(i=o)}const s=n?i?.editorValue??i?.pendingValue:i?.pendingValue;return s===ls||!i?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){kte(this,this.beans,e)}createPopupEditorWrapper(e){return new zde(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!Qde.has(n))return;const{beans:i}=this;this.strategy??(this.strategy=this.createStrategy());const r=this.isBatchEditing()?"ui":"api";if(!n||Kde.has(n))return Hv(i,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return Hv(i,e,!0,t),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return i.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return Hv(i,e,!0,t),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){Nte(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Xu))return;const{rowNode:i,column:r}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:u}=s;return u.data=this.model.getEditRowDataValue(i,Xu),{compDetails:s}}const l=this.model.getEditRow(e.rowNode,Xu);if(o!==void 0&&l?.has(r))return{valueToDisplay:this.valueSvc.getValue(r,i)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return qe(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:i,rangeSvc:r,valueSvc:s}=this;wc(i,!0);const o=this.model.getEditMap(!0),l=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(d=>{if(r?.forEachRowInRange(d,f=>{const p=ua(i,f);if(p===void 0)return;const m=o.get(p)??new Map;for(const C of d.columns)if(C&&this.isCellEditable({rowNode:p,column:C},"api")){const w=s.getValue(C,p,!0,"api");let E=s.parseValue(C,p??null,l,w);Number.isNaN(E)&&(E=null),m.set(C,{editorValue:void 0,pendingValue:E,sourceValue:w,state:"changed"})}m.size>0&&o.set(p,m)}),this.setEditMap(o),this.batch){this.cleanupEditors(),HR(i),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const u=pn(i,{rowNode:e,column:t});u&&u.focusCell(!0)}createCellStyleFeature(e,t){return new Ude(e,t)}createRowStyleFeature(e,t){return new Wde(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:i,valueSvc:r}=n,s=new Map;e.forEach(({colId:o,column:l,colKey:u,rowIndex:d,rowPinned:f,newValue:p,state:m})=>{const C=o?i.getCol(o):u?i.getCol(u):l;if(!C)return;const w=ua(n,{rowIndex:d,rowPinned:f});if(!w)return;const E=r.getValue(C,w,!0,"api");if(!fl({pendingValue:p,sourceValue:E})&&m!=="editing")return;let R=s.get(w);R||(R=new Map,s.set(w,R)),p===void 0&&(p=ls),R.set(C,{editorValue:void 0,pendingValue:p,sourceValue:E,state:m??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=pn(this.beans,e);if(!t||!this.isEditing(t,Xu))return;const n=this.model.getEdit(t);if(!n||!fl(n))return;const r=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(r,"pendingChange")}allowedFocusTargetOnValidation(e){return pn(this.beans,e)}},xH=class extends ue{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:i,beans:r}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=pn(r,n));const{gos:o,editModelSvc:l}=r,u=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){const{column:d,rowIndex:f,rowPinned:p}=e,m={column:d,rowNode:ua(r,{rowIndex:f,rowPinned:p})},C=o.get("invalidEditValueMode")==="block";if(C)return;const w=!C,E=!!l?.getCellValidationModel().hasCellValidation(m),R=w&&E;(n||u?i.stopEditing(void 0,{cancel:R,source:u&&w?"api":void 0,event:s}):!0)||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),i={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(i.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){i.fail.push(s);return}i.pass.push(s)}),e)return n.forEach(s=>{zC(this.beans,s),this.model.stop(s)}),!0;const r=this.processValidationResults(i);return r.destroy.length>0&&r.destroy.forEach(s=>{zC(this.beans,s,{event:t}),this.model.stop(s)}),r.keep.length>0&&r.keep.forEach(s=>{const o=pn(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){wc(this.beans,!1);const n=this.model.getEditPositions(),i=[];e?n.forEach(r=>{!e||r.rowNode===e||i.push(r)}):n.forEach(r=>{i.push(r)}),wd(this.beans,i),HR(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,i,r=!1){const s=i instanceof KeyboardEvent&&!r&&i.key||void 0;Lte(this.beans,e,t,s,i,n)}dispatchCellEvent(e,t,n,i){const r=pn(this.beans,e);r&&this.eventSvc.dispatchEvent({...r.createEvent(t??null,n),...i})}dispatchRowEvent(e,t){const n=rx(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,i="ui"){if(t instanceof KeyboardEvent&&(t.key===ae.TAB||t.key===ae.ENTER||t.key===ae.F2||t.key===ae.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),l=t?.type;return l==="click"&&t?.detail===1&&o===1||l==="dblclick"&&t?.detail===2&&o===2?!0:i==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===ae.ENTER:null}shouldCancel(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===ae.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((i,r)=>{i.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:r,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const i=n.at(-1),r=i.pendingValue===ls?void 0:i.pendingValue;this.start(i,new KeyboardEvent("keydown",{key:r}),"api");const s=pn(this.beans,i);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},Jde=class extends xH{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(r=>super.isCellEditable({rowNode:e.rowNode,column:r},t))}shouldStop(e,t,n="ui"){const{rowNode:i}=e||{};if(!rx(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",i){const{rowNode:r}=e;this.rowNode!==r&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:r},"rowEditingStarted"),this.startedRows.push(r);const s=this.beans.visibleCols.allCols,o=[];s.forEach(l=>{if(!l.isCellEditable(r))return;const u={rowNode:r,column:l};o.push(u),this.model.hasEdits(u)||this.model.start(u)}),this.rowNode=r,this.setupEditors(o,e,!0,t,i)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const i=[];return e||this.model.getEditMap().forEach((r,s)=>{if(!(!r||r.size===0)){for(const o of r.values())if(fl(o)){i.push(s);break}}}),Kc(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),i.forEach(r=>this.dispatchRowEvent({rowNode:r},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const i=pn(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&i&&(this.model.getCellValidationModel().getCellValidation(i)||this.model.getRowValidationModel().getRowValidation(i))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,i="ui",r=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,u=e.isCellEditable(),d=o.isCellEditable(),f=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;u&&this.setFocusOutOnEditor(e),this.restoreEditors();const p=this.gos.get("suppressStartEditOnTab");return d&&!r?p?o.focusCell(!0,n):(o.comp?.getCellEditor()||zd(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(d&&r&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!f&&!r&&(this.cleanupEditors(o,!0),p?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},i)=>{if(n!=="editing")return;const r=pn(this.beans,{rowNode:t,column:i});r&&!r.comp?.getCellEditor()&&zd(this.beans,r,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},ehe=class extends xH{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const i=super.shouldStop(e,t,n);if(i!==null)return i;const{rowNode:r,column:s}=e||{};return(!this.rowNode||!this.column)&&r&&s?null:this.rowNode!==r||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",i){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,i)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:r,rowPinned:s}=e,o=ua(this.beans,{rowIndex:i,rowPinned:s}),l=GR(r),u=t.getCol(l),d=e.previousParams;if(d){const f=GR(d.column);if(d?.rowIndex===i&&f===l&&d?.rowPinned===s)return}n?.isEditing({rowNode:o,column:u},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui",r=!1){const s=e.cellPosition;let o;const l=this.beans.gos.get("editType")==="fullRow";l&&this.model.suspend(!0),r||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{l&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const u=o.cellPosition,d=e.isCellEditable(),f=o.isCellEditable(),p=u&&s.rowIndex===u.rowIndex&&s.rowPinned===u.rowPinned;d&&!r&&this.setFocusOutOnEditor(e);const m=this.gos.get("suppressStartEditOnTab");return!p&&!r&&(super.cleanupEditors(o,!0),m?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),f&&!r?(o.focusCell(!1,n),m?o.focusCell(!0,n):o.comp?.getCellEditor()||(zd(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(f&&r&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},kl={moduleName:"EditCore",version:Pe,beans:[xte,Zde],apiFunctions:{getEditingCells:kde,getCellEditorInstances:Ote,startEditingCell:Nde,stopEditing:Ode,isEditing:Lde,validateEdit:Vde},dynamicBeans:{singleCell:ehe,fullRow:Jde},dependsOn:[nw,yH],css:[dde]},the={moduleName:"UndoRedoEdit",version:Pe,beans:[ude],apiFunctions:{undoCellEditing:Mde,redoCellEditing:_de,getCurrentUndoSize:Bde,getCurrentRedoSize:Gde},dependsOn:[kl]},nhe={moduleName:"TextEditor",version:Pe,userComponents:{agCellEditor:k1,agTextCellEditor:k1},dependsOn:[kl]},ihe={moduleName:"NumberEditor",version:Pe,userComponents:{agNumberCellEditor:{classImp:Rde}},dependsOn:[kl]},rhe={moduleName:"DateEditor",version:Pe,userComponents:{agDateCellEditor:mde,agDateStringCellEditor:yde},dependsOn:[kl]},she={moduleName:"CheckboxEditor",version:Pe,userComponents:{agCheckboxCellEditor:fde},dependsOn:[kl]},ohe={moduleName:"SelectEditor",version:Pe,userComponents:{agSelectCellEditor:xde},dependsOn:[kl]},ahe={moduleName:"LargeTextEditor",version:Pe,userComponents:{agLargeTextCellEditor:bde},dependsOn:[kl]},lhe={moduleName:"CustomEditor",version:Pe,dependsOn:[kl]},che=class extends ue{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,yd(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),gee(e))}createColumns(e,t){const n=()=>{NC(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,s=(this.columns?.treeDepth??-1)==i,o=this.generateSelectionCols();if(pee(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:u}=this.beans,d=u?.findDepth(e.tree)??0,f=u?.balanceTreeForAutoCols(o,d)??[];this.columns={list:o,tree:f,treeDepth:d,map:{}},t(m=>{if(!m)return null;const C=m.filter(w=>!_l(w));return[...o,...C]})}updateColumns(e){const t=yd(e.source);this.columns?.list.forEach(n=>{const i=this.createSelectionColDef(e.currentValue);n.setColDef(i,null,t),ws(this.beans,{state:[{...i,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>RB(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Ac(e))return!1;const i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const r=!!Cd(n),s=Lv(n);return r||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:r,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(l,u,d,f){const p=d.isSelected(),m=f.isSelected();return p===m?0:p?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:bB,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new ou(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?Cd(t):void 0,r=e&&typeof e!="string"?Cd(e):void 0,s=i!==r,o=t&&typeof t!="string"?Lv(t):void 0,l=e&&typeof e!="string"?Lv(e):void 0,u=o!==l,d=MC(e),f=MC(t);(s||u||d!==f)&&this.beans.colModel.refreshAll(n)}destroy(){NC(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const i=e.length+t.length+n.length;if(i===0)return;const r=this.columns.list[0];if(!r.isVisible())return;const s=()=>{let u;switch(r.pinned){case"left":case!0:u=e;break;case"right":u=n;break;default:u=t}u&&as(u,r)};(this.beans.rowNumbersSvc?.getColumn(SB)?2:1)===i&&s()}};function uhe(e,t){if(!t.nodes.every(o=>o.rowPinned&&!wg(o)?(Se(59),!1):o.id===void 0?(Se(60),!1):!0))return;const{nodes:i,source:r,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:r??"api",newValue:s})}function dhe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function hhe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function fhe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function phe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function ghe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function mhe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function vhe(e){return e.selectionSvc?.getSelectedNodes()??[]}function Che(e){return e.selectionSvc?.getSelectedRows()??[]}var yhe=class extends tre{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=_C(e),this.groupSelectsDescendants=Fp(e),this.groupSelectsFiltered=OC(e)==="filteredDescendants",this.masterSelectsDetail=L_(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Fp(e),n=_C(e),i=OC(e)==="filteredDescendants";this.masterSelectsDetail=L_(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:s,keepDescendants:o=!1}){if(!Ac(this.gos)&&e)return Se(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return Se(130),0;let l=0;for(let u=0;u<i.length;u++){const d=i[u],f=Zu(d),p=this.groupSelectsFiltered&&f.group;if(f.rowPinned&&!wg(f)){Se(59);continue}if(f.id===void 0){Se(60);continue}p||this.selectRowNode(f,e,r,s)&&(this.detailSelection.delete(f.id),l++),this.groupSelectsDescendants&&f.childrenAfterGroup?.length&&(l+=this.selectChildren(f,e,s))}return n||(i.length===1&&s==="api"&&this.selectionCtx.setRoot(Zu(i[0])),e&&(t||!this.isMultiSelect())&&(l+=this.clearOtherNodes(Zu(i[0]),o,s)),l>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),l}selectRange(e,t,n){let i=0;return e.forEach(r=>{const s=Zu(r);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!Hn(n))return!1;const r=i.rootNode;if(!r)return!1;t||(t=new Lp(!0,r),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==r){const l=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,l===null?!1:l,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const i=new Map;let r=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!bhe(e,s):!0)&&!o){const u=this.selectedNodes.get(s.id);r+=this.setNodesSelected({nodes:[u],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),r}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Qc(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Hn(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function r(s){for(let o=0,l=s.length;o<l;o++){const u=s[o];u.isSelected()?i.push(u):u.group&&u.childrenAfterGroup&&r(u.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Hn(this.gos);let i=!1;const r=s=>{const o=this.selectRowNode(Zu(s),!1,void 0,e);i||(i=o)};if(t==="currentPage"||t==="filtered"){if(!n){Xt(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);i||(i=s)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return DH(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){n(r);return}if(!r.expanded&&!r.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(r);return}this.groupSelectsDescendants||n(r)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let s=i;s<=r;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Ac(t)){Se(132);return}if(jJ(t)&&!kC(t)){Se(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:r}=e;let s=!1;if(this.getNodesToSelect(r).forEach(o=>{const l=this.selectRowNode(Zu(o),!0,void 0,i);s||(s=l)}),n.selectAll=!0,Hn(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(i);s||(s=o)}s&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Xt(103);return}const i=new Set(e),r=[];this.beans.rowModel.forEachNode(s=>{i.has(s.id)&&r.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!Hn(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!Ac(t))return;const i="selectableChanged",r=e!==void 0,s=Hn(t)&&this.groupSelectsDescendants,o=[],l=u=>{if(r&&!u.group)return;if(s&&u.group){const f=u.childrenAfterGroup?.some(p=>p.selectable)??!1;this.setRowSelectable(u,f,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&o.push(u)};if(s){if(e===void 0){const u=n.rootNode;e=u?new Lp(!1,u):void 0}e?.forEachChangedNodeDepthFirst(l,!r,!r)}else n.forEachNode(l);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:i}),!r&&s&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const i=whe(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!kC(t)){Se(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const r=[];for(const s of i){const o=n.getRowNode(s);o&&r.push(o)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Zu(e){return wg(e)?e.pinnedSibling:e.footer?e.sibling:e}function whe(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),DH(t,n)}function DH(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function bhe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var She={moduleName:"SharedRowSelection",version:Pe,beans:[che],apiFunctions:{setNodesSelected:uhe,selectAll:dhe,deselectAll:hhe,selectAllFiltered:fhe,deselectAllFiltered:phe,selectAllOnCurrentPage:ghe,deselectAllOnCurrentPage:mhe,getSelectedNodes:vhe,getSelectedRows:Che}},Ehe={moduleName:"RowSelection",version:Pe,rowModels:["clientSide","infinite","viewport"],beans:[yhe],dependsOn:[She]};function Rhe(e){e.expansionSvc?.expandAll(!0)}function The(e){e.expansionSvc?.expandAll(!1)}function xhe(e){const t=Co(e),n=nH(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function Dhe(e,t,n){const i=nH(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Xt(238);return}i.setRowCount(t,n);return}Xt(28);return}const r=tw(e);if(r){r.setRowCount(t,n);return}}function Ahe(e){return su(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function Phe(e){return e.rowModel.isLastRowIndexKnown()}var Ihe={moduleName:"CsrmSsrmSharedApi",version:Pe,apiFunctions:{expandAll:Rhe,collapseAll:The,onRowHeightChanged:xhe}},Fhe={moduleName:"SsrmInfiniteSharedApi",version:Pe,apiFunctions:{setRowCount:Dhe,getCacheBlockState:Ahe,isLastRowIndexKnown:Phe}},Mhe=class extends ue{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){Xt(18),t||Xt(20);return}if(this.isGridApi(i))return i;const r=i;return"current"in r?r.current?.api:(r.api||Xt(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Se(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const i=this.beans,{colResize:r,ctrlsSvc:s,colModel:o}=i;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(m=>({colId:m.colId}));ws(i,{state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));ws(i,{state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));ws(i,{state:p},"alignedGridChanged")}break;case"columnResized":{const f=e,p={};l.forEach(m=>{p[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),f.flexColumns?.forEach(m=>{p[m.getId()]&&delete p[m.getId()]}),r?.setColumnWidths(Object.values(p),!1,f.finished,"alignedGridChanged");break}}const d=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(f=>{f.setGridOption("alwaysShowVerticalScroll",d)})}},_he={moduleName:"AlignedGrids",version:Pe,beans:[Mhe],dependsOn:[_G]},khe=class extends Qie{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},CE=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function Ohe(e){if(mn(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],r=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==s&&(i.lastChild=s,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function AH(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),Ohe(e)}var Lhe=class extends ue{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=Te(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>Ys(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,i,r,s,o){const{gos:l,colModel:u,rowGroupColsSvc:d,rowNodeSorter:f,rowRenderer:p,showRowGroupCols:m}=e,C=l.get("groupMaintainOrder"),w=u.getCols().some(A=>A.isRowGroupActive()),E=u.isPivotMode(),R=l.getCallback("postSortRows");let x=!1;const D=A=>{const L=E&&A.leafGroup,V=C&&w&&!A.leafGroup&&!o;let I;if(V){const F=d?.columns?.[A.level+1]?.getSort()===null,k=A.childrenAfterAggFilter.slice(0);if(A.childrenAfterSort&&!F){const O={};A.childrenAfterSort.forEach((B,U)=>{O[B.id]=U}),k.sort((B,U)=>(O[B.id]??0)-(O[U.id]??0))}I=k}else!n||L?I=A.childrenAfterAggFilter.slice(0):i&&r?I=Nhe(f,A,r,s,t):I=f.doFullSort(A.childrenAfterAggFilter,t);if(x||(x=A.childrenAfterSort?.[0]!==I[0]),A.childrenAfterSort=I,AH(A),R){const _={nodes:A.childrenAfterSort};R(_)}};if(s?.forEachChangedNodeDepthFirst(D),x&&this.gos.get("groupHideOpenParents")){const A=m?.getShowRowGroupCols();A?.length&&p.refreshCells({columns:A,force:!0})}}};function Nhe(e,t,n,i,r){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,r);const l=new Set,u=[],{updates:d,adds:f}=n;for(let m=0,C=s.length;m<C;++m){const w=s[m];d.has(w)||f.has(w)||i&&!i.canSkip(w)?u.push({currentPos:u.length,rowNode:w}):l.add(w.id)}const p=o.filter(m=>l.has(m.id)).map((m,C)=>({currentPos:C,rowNode:m}));return u.sort((m,C)=>e.compareRowNodes(r,m,C)),Vhe(e,r,u,p)}function Vhe(e,t,n,i){const r=[];let s=0,o=0;const l=n.length,u=i.length;for(;s<l&&o<u;){const d=n[s],f=i[o],p=e.compareRowNodes(t,d,f);let m;p<0?(m=d,++s):(m=f,++o),r.push(m.rowNode)}for(;s<l;)r.push(n[s++].rowNode);for(;o<u;)r.push(i[o++].rowNode);return r}var Bhe=class extends ue{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Ci(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Qc(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return gB(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(o,n),d=Math.min(l,i);for(let f=u;f<=d;f++){const p=this.getRow(f);if(p.rowHeightEstimated){const m=Rl(this.beans,p);p.setRowHeight(m.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),l=s!==o||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let u;if((l||r)&&(u=t.get("rowData"),u!=null&&!Array.isArray(u)&&(u=null,Se(1))),l&&(r||(u=s?.extractRowData()??u),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),u)if(!l&&!this.isEmpty()&&u.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new CE,o.setImmutableRowData(i,u);else{i.rowDataUpdated=!0,i.newData=!0;const{selectionSvc:f,pinnedRowModel:p}=this.beans;f?.reset("rowDataChanged"),p?.isManual()&&p.reset(),this.rowNodesCountReady=!0,o.setNewRowData(u)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:d,step:f}of this.orderedStages)if(e.some(p=>d.has(p))){i.step=f;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let i=0;const r=new Set,s=wi(this.gos,"normal");for(let o=0,l=t.length;o<l;++o){const u=t[o];if(u.id!=null&&r.add(u.id),u.rowHeight==null){const d=Rl(e,u,s,n);u.setRowHeight(d.height,d.estimated)}u.setRowTop(i),u.setRowIndex(o),i+=u.rowHeight}return r}clearRowTopAndRowIndex(e,t){const n=e.active,i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(s!==null&&(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,i=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:r}=t,s=l=>{let u=r[l];if(this.gos.get("groupHideOpenParents"))for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,r,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;const s=t.childrenAfterSort?.findIndex(o=>o===r);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=vd(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=vd(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=vd(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Lp(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const i=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.changedRowNodes,i);case"map":this.doRowsToDisplay()}const r=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,r),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const r=[],s=Fp(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===t||o===e)&&(i=!0,o.group&&s)){r.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){r.push(o);return}}),r}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(Qt(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const l=Math.floor((n+i)/2),u=t[l];if(this.isRowInPixel(u,e)||(u.rowTop<e?n=l+1:u.rowTop>e&&(i=l-1),s===n&&o===i))return l;s=n,o=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:i,rowGroupColsSvc:r}=this.beans;if(!i.isPivotMode())return;if(!r?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,i=this.rootNode,r=0){let s=r;if(!i)return s;const o=i===this.rootNode;o||e(i,s++);const{footerSvc:l}=this.beans;if(i.hasChildren()&&!i.footer){const u=n(i);if(u){s=l?.addTotalRows(s,i,e,t,o,"top")??s;for(const d of u)s=this.depthFirstSearchRowNodes(e,t,n,d,s);return l?.addTotalRows(s,i,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),AH(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const i=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,i&&(i.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,iH(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(UR)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new CE;let i=!1;this.rowDataTransactionBatch?.forEach(r=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(r.rowDataTransaction,n);o&&(i=!0),t.push(s),r.callback&&e.push(r.callback.bind(null,s))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new CE,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=LC,this.rowsToDisplay=LC}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Ghe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function Hhe(e,t){const n=Co(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function zhe(e){return Co(e)?.isEmpty()??!0}function Uhe(e,t){Co(e)?.forEachLeafNode(t)}function Whe(e,t){Co(e)?.forEachNodeAfterFilter(t)}function jhe(e,t){Co(e)?.forEachNodeAfterFilterAndSort(t)}function $he(e){if(e.rowAutoHeight?.active){Se(3);return}Co(e)?.resetRowHeights()}function qhe(e,t){return e.frameworkOverrides.wrapIncoming(()=>Co(e)?.updateRowData(t))}function Khe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Co(e)?.batchUpdateRowData(t,n))}function Yhe(e){e.frameworkOverrides.wrapIncoming(()=>Co(e)?.flushAsyncTransactions())}function Qhe(e){return e.selectionSvc?.getBestCostNodeSelection()}var Xhe={moduleName:"ClientSideRowModel",version:Pe,rowModels:["clientSide"],beans:[khe,Bhe,Lhe],dependsOn:[ZG]},Zhe={moduleName:"ClientSideRowModelApi",version:Pe,apiFunctions:{onGroupExpandedOrCollapsed:Ghe,refreshClientSideRowModel:Hhe,isRowDataEmpty:zhe,forEachLeafNode:Uhe,forEachNodeAfterFilter:Whe,forEachNodeAfterFilterAndSort:jhe,resetRowHeights:$he,applyTransaction:qhe,applyTransactionAsync:Khe,flushAsyncTransactions:Yhe,getBestCostNodeSelection:Qhe},dependsOn:[Ihe]},Jhe=class extends ue{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((l,u)=>u(l),e).parse()}processRow(e,t,n,i){const r=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!o,u=this.colModel.isPivotMode()?i.leafGroup:!i.group,d=!!i.footer,f=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&UJ(this.gos,i);if(!u&&!d&&(t.skipRowGroups||f||l)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!u&&!d||r(qe(this.gos,{node:i})))return;const C=e.onNewBodyRow(i);if(n.forEach((w,E)=>{C.onColumn(w,E,i)}),t.getCustomContentBelowRow){const w=t.getCustomContentBelowRow(qe(this.gos,{node:i}));w&&e.addCustomContent(w)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new _B,{colGroupSvc:r}=this.beans,s=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((r,s)=>{i.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{const i=this.rowModel,r=Hn(this.gos),s=su(this.gos),o=!r&&e.onlySelected,l=this.processRow.bind(this,n,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(d=>d.rowPinned==null).sort((d,f)=>d.rowIndex-f.rowIndex).map(d=>i.getRow(d.rowIndex)).forEach(l),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(l,!0,u==="filteredAndSorted"):s?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l),n;if(e.onlySelectedAllPages||o){const d=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(d),d.forEach(l)}else u==="all"?i.forEachNode(l):r||s?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),r=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(i,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):r(s.parent,o.parent):s.level>o.level?r(s.parent,o):r(s,o.parent);e.sort(r)}processPinnedBottomRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:s,gos:o,visibleCols:l}=this,u=s.isPivotMode(),d=m=>_l(m)?!1:!hl(m)||i;if(r&&r.length)return s.getColsForKeys(r).filter(d);const f=o.get("treeData");let p=[];return t&&!u?p=s.getCols():p=l.allCols,p=p.filter(m=>d(m)&&(n&&!f?!tx(m):!0)),p}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(r=>{const s=r;s.getChildren&&s.getChildren().forEach(o=>i.push(o))}),e.length>0&&Mn(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const o=s;let l;n?l=n(qe(this.gos,{columnGroup:o})):l=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const u=o.getLeafColumns().reduce((d,f,p,m)=>{let C=Qt(d);return f.getColumnGroupShow()==="open"?(!C||C[1]!=null)&&(C=[p],d.push(C)):C&&C[1]==null&&(C[1]=p-1),p===m.length-1&&C&&C[1]==null&&(C[1]=p),d},[]);i.onColumn(o,l||"",r++,o.getLeafColumns().length-1,u)})}},efe={moduleName:"SharedExport",version:Pe,beans:[Jhe]},O1=`\r
`,tfe=class extends Bce{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,O1),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Se(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=O1),this.isFirstLine=!1}},nfe=class extends Vce{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Se(51);return}const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(qe(this.gos,{})):t.fileName;Gce(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:f,columnSeparator:p}=e;return new tfe({colModel:t,colNames:n,valueSvc:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:f||!1,columnSeparator:p||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function ife(e,t){return e.csvCreator?.getDataAsCsv(t)}function rfe(e,t){e.csvCreator?.exportDataAsCsv(t)}var sfe={moduleName:"CsvExport",version:Pe,beans:[nfe],apiFunctions:{getDataAsCsv:ife,exportDataAsCsv:rfe},dependsOn:[efe]},ofe=class extends ue{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let s=0;s<e;s++){const o=n+s,l=new Qc(i);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(o),l.setRowTop(t*o),r.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){Te(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(mn(this.params.datasource.getRows)){Se(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:qe(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((r,s)=>{const o=e.rowData?e.rowData[s]:void 0;!r.id&&r.alreadyRendered&&o&&(t[s]=new Qc(n),t[s].setRowIndex(r.rowIndex),t[s].setRowTop(r.rowTop),t[s].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},afe=2,lfe=class extends ue{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new ofe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(jc(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,l)=>l.lastAccessed-o.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,s=afe-1;t.forEach((o,l)=>{const u=o.state==="needsLoading"&&l>=s,d=i?l>=r:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,s=(e.id+1)*n+i;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,Te(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,r=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(u=>{if(!o){if(r&&i+1!==u.id){o=!0;return}i=u.id,u.forEachNode(d=>{const f=d===e||d===t;(r||f)&&n.push(d),f&&(r=!r)},s,this.rowCount)}}),o||r?[]:n}},cfe=class extends ue{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Pc(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Pc(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!xp(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;Gd(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Pc(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new lfe(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function ufe(e){tw(e)?.refreshCache()}function dfe(e){tw(e)?.purgeCache()}function hfe(e){return tw(e)?.getRowCount()}var ffe=class extends ue{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=WJ(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Ci(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){as(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){jc(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){jc(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},pfe={moduleName:"InfiniteRowModelCore",version:Pe,rowModels:["infinite"],beans:[cfe,ffe]},gfe={moduleName:"InfiniteRowModel",version:Pe,apiFunctions:{refreshInfiniteCache:ufe,purgeInfiniteCache:dfe,getInfiniteRowCount:hfe},dependsOn:[pfe,Fhe]},mfe="",vfe="",Cfe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},yfe=class extends an{constructor(){super(Cfe),this.eValue=Ue,this.eDelta=Ue,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),r=Te(i)?i:n,s=t>=0,o=this.eDelta;s?o.textContent=mfe+r:o.textContent=vfe+r,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Dr(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:i}=e,{eValue:r,lastValue:s,beans:o}=this;if(n===s||(Te(i)?r.textContent=i:Te(n)?r.textContent=n:Dr(r),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const l=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,u=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(l===u)return!1;if(typeof l=="number"&&typeof u=="number"){const d=l-u;this.showDelta(e,d)}return s&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},wfe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",bfe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},Sfe=class extends an{constructor(){super(bfe),this.eCurrent=Ue,this.refreshCount=0,this.registerCSS(wfe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=kn({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(mn(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return Te(e.valueFormatted)?i.textContent=e.valueFormatted:Te(e.value)?i.textContent=n:Dr(i),!0}},Efe=class extends ue{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){const r=this.animations[t];r.delete(e);const s=Date.now(),o=s+n,l=s+n+i,u={phase:"flash",flashEndTime:o,fadeEndTime:l};r.set(e,u);const d=`ag-cell-${t}`,f=`${d}-animation`,{comp:p,eGui:{style:m}}=e;p.toggleCss(d,!0),p.toggleCss(f,!1),m.removeProperty("transition"),m.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],r=`ag-cell-${n}`,s=`${r}-animation`;for(const[o,l]of i){if(!o.isAlive()||!o.comp){i.delete(o);continue}const{phase:u,flashEndTime:d,fadeEndTime:f}=l,p=u==="flash"?d:f;if(!(e+15>=p)){t=Math.min(p,t??1/0);continue}const{comp:C,eGui:{style:w}}=o;switch(u){case"flash":C.toggleCss(r,!1),C.toggleCss(s,!0),w.transition=`background-color ${f-d}ms`,w.transitionDelay=`${d-e}ms`,t=Math.min(f,t??1/0),l.phase="fade";break;case"fade":C.toggleCss(r,!1),C.toggleCss(s,!1),w.removeProperty("transition"),w.removeProperty("transition-delay"),i.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Dte(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function Rfe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var Tfe={moduleName:"HighlightChanges",version:Pe,beans:[Efe],userComponents:{agAnimateShowChangeCellRenderer:yfe,agAnimateSlideCellRenderer:Sfe},apiFunctions:{flashCells:Rfe}};function xfe(e){return e.stateSvc?.getState()??{}}function Dfe(e,t,n){return e.stateSvc?.setState(t,n)}function L1(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Afe(e)}return e.version=Pe,e}function Afe(e){return e.cellSelection=Pfe(e,"rangeSelection"),e}function Pfe(e,t){if(e&&typeof e=="object")return e[t]}var Ife=class extends ue{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ci(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ci(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Ci(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=Hn(this.gos);const e=L1(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[i,r,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(i(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{r?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=L1(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const i="api",r=t?new Set(t):void 0;this.setGridReadyState(n,i,r),this.setColumnsInitialisedState(n,i,!1,r),this.setRowCountState(n,i,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,r),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:i,rowGroupExpansion:r,rowSelection:s,pagination:o}=e,l=(d,f)=>!n?.has(d)&&(f||t==="api");l("filter",i)&&this.setFilterState(i),l("rowGroupExpansion",r)&&this.setRowGroupExpansionState(r,t),l("rowSelection",s)&&this.setRowSelectionState(s,t),l("pagination",o)&&this.setPaginationState(o,t);const u=this.updateCachedState.bind(this);u("filter",this.getFilterState()),u("rowGroupExpansion",this.getRowGroupExpansionState()),u("rowSelection",this.getRowSelectionState()),u("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},i=()=>t("filter",this.getFilterState()),{gos:r,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:i,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(r.get("groupDefaultExpanded")!==0||r.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:i})}setFirstDataRenderedState(e,t,n){const{scroll:i,cellSelection:r,focusedCell:s,columnOrder:o,rowPinning:l}=e,u=(p,m)=>!n?.has(p)&&(m||t==="api");u("focusedCell",s)&&this.setFocusedCellState(s),u("cellSelection",r)&&this.setCellSelectionState(r),u("scroll",i)&&this.setScrollState(i),u("rowPinning",l)&&this.setRowPinningState(l),this.setColumnPivotState(!!o?.orderedColIds,t);const d=this.updateCachedState.bind(this);d("sideBar",this.getSideBarState()),d("focusedCell",this.getFocusedCellState());const f=this.getRangeSelectionState();d("rangeSelection",f),d("cellSelection",f),d("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return Ace(BC(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){const{sort:r,rowGroup:s,aggregation:o,pivot:l,columnPinning:u,columnVisibility:d,columnSizing:f,columnOrder:p}=e,m=(O,B)=>!i?.has(O)&&(B||t==="api"),C={},w=O=>{let B=C[O];return B||(B={colId:O},C[O]=B,B)},E={},R=m("sort",r);R&&r?.sortModel.forEach(({colId:O,sort:B},U)=>{const G=w(O);G.sort=B,G.sortIndex=U}),(R||!n)&&(E.sort=null,E.sortIndex=null);const x=m("rowGroup",s);x&&s?.groupColIds.forEach((O,B)=>{const U=w(O);U.rowGroup=!0,U.rowGroupIndex=B}),(x||!n)&&(E.rowGroup=null,E.rowGroupIndex=null);const D=m("aggregation",o);D&&o?.aggregationModel.forEach(({colId:O,aggFunc:B})=>{w(O).aggFunc=B}),(D||!n)&&(E.aggFunc=null);const A=m("pivot",l);A&&(l?.pivotColIds.forEach((O,B)=>{const U=w(O);U.pivot=!0,U.pivotIndex=B}),this.gos.updateGridOptions({options:{pivotMode:!!l?.pivotMode},source:t})),(A||!n)&&(E.pivot=null,E.pivotIndex=null);const L=m("columnPinning",u);L&&(u?.leftColIds.forEach(O=>{w(O).pinned="left"}),u?.rightColIds.forEach(O=>{w(O).pinned="right"})),(L||!n)&&(E.pinned=null);const V=m("columnVisibility",d);V&&d?.hiddenColIds.forEach(O=>{w(O).hide=!0}),(V||!n)&&(E.hide=null);const I=m("columnSizing",f);I&&f?.columnSizingModel.forEach(({colId:O,flex:B,width:U})=>{const G=w(O);G.flex=B??null,G.width=U}),(I||!n)&&(E.flex=null);const _=p?.orderedColIds,F=!!_?.length&&!i?.has("columnOrder"),k=F?_.map(O=>w(O)):Object.values(C);k.length&&(this.columnStates=k,ws(this.beans,{state:k,applyOrder:F,defaultState:E},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const r=this.beans,{pivotResultCols:s,colGroupSvc:o}=r;if(s?.isPivotResultColsPresent()){if(n){const l=[];for(const u of n)s.getPivotResultCol(u.colId)&&l.push(u);ws(r,{state:l,applyOrder:e},t)}i&&o?.setColumnGroupState(i,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return Pce(t)}setColumnGroupState(e,t,n){const i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const r=new Set(e.columnGroup?.openColumnGroupIds),o=i.getColumnGroupState().map(({groupId:l})=>{const u=r.has(l);return u&&r.delete(l),{groupId:l,open:u}});r.forEach(l=>{o.push({groupId:l,open:!0})}),o.length&&(this.columnGroupStates=o),i.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0;return t||i||n?{filterModel:t,columnFilterState:n,advancedFilterModel:i}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:i,advancedFilterModel:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||i!==void 0)&&t?.setFilterState(n??null,i??null,"columnFilter"),r!==void 0&&t?.setAdvFilterModel(r??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:i,startRow:r,endRow:s,columns:o,startColumn:l}=t;return{id:n,type:i,startRow:r,endRow:s,colIds:o.map(u=>u.getColId()),startColId:l.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!Tl(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const l=[];if(o.colIds.forEach(d=>{const f=i.getCol(d);f&&l.push(f)}),!l.length)return;let u=i.getCol(o.startColId);if(!u){const d=r.allCols,f=new Set(l);u=d.find(p=>f.has(p))}s.push({...o,columns:l,startColumn:u})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:s,ctrlsSvc:o}=this.beans;i.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:i,rowIndex:r,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:r,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){const{pagination:n,gos:i}=this.beans;if(!n)return;const{pageSize:r,page:s}=e??{page:0,pageSize:i.get("paginationPageSize")},o=t==="gridInitializing";r&&!i.get("paginationAutoPageSize")&&n.setPageSize(r,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const i=e?.expandedRowGroupIds??[];let r;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const l of i)o.delete(l);r=Array.from(o)}}n.expandRows(i,r)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const r of Object.keys(t)){const s=t[r];xp(s,i[r])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),xp(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},Ffe={moduleName:"GridState",version:Pe,beans:[Ife],apiFunctions:{getState:xfe,setState:Dfe}};function Mfe(e){return e.rowModel.isLastRowIndexKnown()}function _fe(e){return e.pagination?.getPageSize()??100}function kfe(e){return e.pagination?.getCurrentPage()??0}function Ofe(e){return e.pagination?.getTotalPages()??1}function Lfe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Nfe(e){e.pagination?.goToNextPage()}function Vfe(e){e.pagination?.goToPreviousPage()}function Bfe(e){e.pagination?.goToFirstPage()}function Gfe(e){e.pagination?.goToLastPage()}function Hfe(e,t){e.pagination?.goToPage(t)}var zfe=class extends ue{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(Pc(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?Ci(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Tf="paginationPageSizeSelector",Ufe={tag:"span",cls:"ag-paging-page-size"},Wfe=class extends an{constructor(){super(Ufe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Tf,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Dr(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Tf)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const r=this.gos.exists("paginationPageSize"),s=this.gos.get(Tf)!==!0;Se(94,{pageSizeSet:r,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||Se(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Tf}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(au(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new wx).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Tf);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},jfe={selector:"AG-PAGE-SIZE-SELECTOR",component:Wfe},$fe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",qfe=class extends pre{constructor(){super(),this.btFirst=Ue,this.btPrevious=Ue,this.btNext=Ue,this.btLast=Ue,this.lbRecordCount=Ue,this.lbFirstRowOnPage=Ue,this.lbLastRowOnPage=Ue,this.lbCurrent=Ue,this.lbTotal=Ue,this.pageSizeComp=Ue,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS($fe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[jfe]);const{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",Jr(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Jr(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Jr(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",Jr(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):Qte(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===ae.ENTER||i.key===ae.SPACE)&&(i.preventDefault(),n())}})}),Yte(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Nce(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){fJ(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,l;this.isZeroPagesToDisplay()?o=l=0:(o=s*r+1,l=o+s-1,e&&l>i&&(l=i));const u=o+s-1,d=!e&&n<u,f=this.formatNumber(o);this.lbFirstRowOnPage.textContent=f;let p;const m=this.getLocaleTextFunc();d?p=m("pageLastRowUnknown","?"):p=this.formatNumber(l),this.lbLastRowOnPage.textContent=p;const w=t>0?r+1:0,E=this.formatNumber(w);this.lbCurrent.textContent=E;let R,x;if(e)R=this.formatNumber(t),x=this.formatNumber(i);else{const D=m("more","more");R=D,x=D}this.lbTotal.textContent=R,this.lbRecordCount.textContent=x,this.announceAriaStatus(f,p,x,E,R)}announceAriaStatus(e,t,n,i,r){const s=this.getLocaleTextFunc(),o=s("page","Page"),l=s("to","to"),u=s("of","of"),d=`${e} ${l} ${t} ${u} ${n}`,f=`${o} ${i} ${u} ${r}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnounce?.announceValue(d,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,this.ariaAnnounce?.announceValue(f,"paginationPage"))}},Kfe={selector:"AG-PAGINATION",component:qfe},Yfe=class extends ue{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Kfe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Te(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Te(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Te(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Te(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const r=this.currentPage,s=n*r;let o=n*(r+1)-1;if(o>i&&(o=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},Qfe={moduleName:"Pagination",version:Pe,beans:[Yfe,zfe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:Mfe,paginationGetPageSize:_fe,paginationGetCurrentPage:kfe,paginationGetTotalPages:Ofe,paginationGetRowCount:Lfe,paginationGoToNextPage:Nfe,paginationGoToPreviousPage:Vfe,paginationGoToFirstPage:Bfe,paginationGoToLastPage:Gfe,paginationGoToPage:Hfe},dependsOn:[nw]};function Xfe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function PH(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&PH(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function Zfe(e,t){return e.rowModel.getRowNode(t)}function Jfe(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function epe(e){return e.rowRenderer.getRenderedNodes()}function tpe(e,t,n){e.rowModel.forEachNode(t,n)}function npe(e){return e.rowRenderer.firstRenderedRow}function ipe(e){return e.rowRenderer.lastRenderedRow}function rpe(e,t){return e.rowModel.getRow(t)}function spe(e){return e.rowModel.getRowCount()}var ope={moduleName:"RowApi",version:Pe,apiFunctions:{redrawRows:Xfe,setRowNodeExpanded:PH,getRowNode:Zfe,addRenderedRowListener:Jfe,getRenderedNodes:epe,forEachNode:tpe,getFirstDisplayedRowIndex:npe,getLastDisplayedRowIndex:ipe,getDisplayedRowAtIndex:rpe,getDisplayedRowCount:spe}},ape={moduleName:"ScrollApi",version:Pe,apiFunctions:{getVerticalPixelRange:Pde,getHorizontalPixelRange:Ide,ensureColumnVisible:wH,ensureIndexVisible:bH,ensureNodeVisible:Fde}};function lpe(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function cpe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function upe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function dpe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function hpe(e){e.animationFrameSvc?.flushAllFrames()}function fpe(e){return{rowHeight:Pc(e),headerHeight:Sg(e)}}function ppe(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(Mp(o))}),t.columns?.length)return n;const i=[],r=e0(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(r&&!t0(s.rowNode,r)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let l=0;l<o.length;l++){const u=o[l];u!=null&&i.push(Mp(u))}}),[...i,...n]}var gpe={moduleName:"RenderApi",version:Pe,apiFunctions:{setGridAriaProperty:lpe,refreshCells:cpe,refreshHeader:upe,isAnimationFrameQueueEmpty:dpe,flushAllAnimationFrames:hpe,getSizesForCurrentTheme:fpe,getCellRendererInstances:ppe}};function mpe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function IH({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function vpe(e,t){t&&typeof t=="object"?IH(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var Cpe=class extends ue{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:l=[],source:u="api"}=e,{animationFrameSvc:d,renderStatus:f,colModel:p,autoWidthCalc:m,visibleCols:C}=this.beans;if(d?.flushAllFrames(),this.timesDelayed<5&&f&&!f.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const w=[];let E=-1;const R=Object.fromEntries(l.map(({colId:A,maxWidth:L,minWidth:V})=>[A,{maxWidth:L,minWidth:V}])),x=n??this.gos.get("skipHeaderOnAutoSize"),D=i??x;for(;E!==0;){E=0;const A=[];t.forEach(L=>{if(!L||fee(L))return;const V=p.getCol(L);if(!V||w.indexOf(V)>=0)return;const I=m.getPreferredWidthForColumn(V,x);if(I>0){const _=R[V.colId]??{};_.minWidth??(_.minWidth=o),_.maxWidth??(_.maxWidth=s);const F=ype(V,I,_);V.setActualWidth(F,u),w.push(V),E++}A.push(V)}),A.length&&C.refresh(u)}D||this.autoSizeColumnGroupsByColumns(t,u,r),Hd(this.eventSvc,w,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:r}=this.beans,s=new Set;i.getColsForKeys(e).forEach(d=>{let f=d.getParent();for(;f&&f!=n;)f.isPadding()||s.add(f),f=f.getParent()});let l;const u=[];for(const d of s){for(const f of r.getHeaderRowContainerCtrls())if(l=f.getHeaderCtrlForColumn(d),l)break;l&&l.resizeLeafColumnsToFit(t)}return u}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const r=new hc(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{const s=[];t.getDisplayedLeafColumns().forEach(l=>{l.getColDef().suppressAutoSize||s.push(l.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),o=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,u=Pp(r.eGridBody)-o;if(u>0){this.sizeColumnsToFit(u,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Se(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const r={};i&&i?.columnLimits?.forEach(({key:C,...w})=>{r[typeof C=="string"?C:C.getColId()]=w});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===zo(s)&&s.every(w=>{if(w.colDef.suppressSizeToFit)return!0;const E=r?.[w.getId()],R=E?.minWidth??i?.defaultMinWidth,x=E?.maxWidth??i?.defaultMaxWidth,D=w.getActualWidth();return(R==null||D>=R)&&(x==null||D<=x)}))return;const l=[],u=[];s.forEach(C=>{C.getColDef().suppressSizeToFit===!0?u.push(C):l.push(C)});const d=l.slice(0);let f=!1;const p=C=>{as(l,C),u.push(C)};for(l.forEach(C=>{C.resetActualWidth(t);const w=r?.[C.getId()],E=w?.minWidth??i?.defaultMinWidth,R=w?.maxWidth??i?.defaultMaxWidth,x=C.getActualWidth();typeof E=="number"&&x<E?C.setActualWidth(E,t,!0):typeof R=="number"&&x>R&&C.setActualWidth(R,t,!0)});!f;){f=!0;const C=e-zo(u);if(C<=0)l.forEach(w=>{const E=r?.[w.getId()]?.minWidth??i?.defaultMinWidth;if(typeof E=="number"){w.setActualWidth(E,t,!0);return}w.setActualWidth(w.minWidth,t)});else{const w=C/zo(l);let E=C;for(let R=l.length-1;R>=0;R--){const x=l[R],D=r?.[x.getId()],A=D?.minWidth??i?.defaultMinWidth,L=D?.maxWidth??i?.defaultMaxWidth,V=x.getMinWidth(),I=x.getMaxWidth(),_=typeof A=="number"&&A>V?A:V,F=typeof L=="number"&&L<I?L:I;let k=Math.round(x.getActualWidth()*w);k<_?(k=_,p(x),f=!1):k>F?(k=F,p(x),f=!1):R===0&&(k=E),x.setActualWidth(k,t,!0),E-=k}}}d.forEach(C=>{C.fireColumnWidthChangedEvent(t)});const m=this.beans.visibleCols;m.setLeftValues(t),m.updateBodyWidths(),!n&&Hd(this.eventSvc,d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,s=n?.map(({colId:o,minWidth:l,maxWidth:u})=>({key:o,minWidth:l,maxWidth:u}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:i,defaultMinWidth:r,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:i,defaultMinWidth:r,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function ype(e,t,n={}){const i=n.minWidth??e.getMinWidth();t<i&&(t=i);const r=n.maxWidth??e.getMaxWidth();return t>r&&(t=r),t}var wpe={moduleName:"ColumnAutoSize",version:Pe,beans:[Cpe],apiFunctions:{sizeColumnsToFit:mpe,autoSizeColumns:IH,autoSizeAllColumns:vpe},dependsOn:[MG]},bpe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function Spe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function Epe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function Rpe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function Tpe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function xpe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var Dpe={moduleName:"PinnedRow",version:Pe,beans:[Kie],css:[bpe],apiFunctions:{getPinnedTopRowCount:Spe,getPinnedBottomRowCount:Epe,getPinnedTopRow:Rpe,getPinnedBottomRow:Tpe,forEachPinnedRow:xpe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},Ape=class extends Sd{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,s,o){this.eWrapper=n,super.setComp(e,t,n,i,r,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&G2(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){vJ(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Qy(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},Ppe=class extends qC{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new Ape(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},Ipe=class extends ue{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,s=this.getAllRelevantRowControls(e),o=new Map;let l=!1;for(const d of s)d.isAlive()&&t?.forEachSpannedColumn(d.rowNode,(f,p)=>{if(o.has(p.firstNode))return;const m=i.get(p.firstNode);if(m){o.set(p.firstNode,m),i.delete(p.firstNode);return}l=!0;const C=new Ppe(p.firstNode,this.beans,!1,!1,!1);o.set(p.firstNode,C)});this[n]=o;const u=o.size===r;if(!(!l&&u)){for(const d of i.values())d.destroyFirstPass(!0),d.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const i=`${FH(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},FH=e=>e??"center",Fpe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},Mpe=class extends ue{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:s,pagination:o}}=this,{colDef:l}=t,u=this[`${e}ValueNodeMap`],d=new Map,f=n.getCallback("isFullWidthRow"),p=l.equals,m=l.spanRows,C=typeof m=="function";let w=null,E=null,R;const x=(A,L)=>{w=A,E=null,R=L},D=A=>{const L=!A.isExpandable()&&!A.group&&!A.detail&&(f?!f({rowNode:A}):!0);if(A.rowIndex==null||!L){x(null,null);return}if(w==null||A.level!==w.level||A.footer||E&&A.rowIndex-1!==E?.getLastNode().rowIndex){x(A,s.getValue(t,A));return}const V=s.getValue(t,A);if(C){const I=qe(n,{valueA:R,nodeA:w,valueB:V,nodeB:A,column:t,colDef:l});if(!m(I)){x(A,V);return}}else if(p?!p(R,V):R!==V){x(A,V);return}if(!E){const I=u?.get(w);I?.firstNode===w?(I.reset(),E=I):E=new Fpe(t,w),d.set(w,E)}E.addSpannedNode(A),d.set(A,E)};switch(e){case"center":r.forEachDisplayedNode?.(A=>{(!o||o.isRowInPage(A.rowIndex))&&D(A)});break;case"top":i?.forEachPinnedRow("top",D);break;case"bottom":i?.forEachPinnedRow("bottom",D);break}this[`${e}ValueNodeMap`]=d}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${FH(e.rowPinned)}ValueNodeMap`].get(e)}},_pe=class extends ue{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Ci(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Ci(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new Mpe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,s=this.spanningColumns.get(i);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(r);break;case"bottom":o=t?.getPinnedBottomRow(r);break;default:o=n.getRow(r)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},kpe={moduleName:"CellSpan",version:Pe,beans:[_pe,Ipe]},Ope=class extends ue{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);dx(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return qe(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},Lpe=class extends ue{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){dx(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new Ope(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},Npe={moduleName:"CellStyle",version:Pe,beans:[Lpe]},Vpe={moduleName:"RowStyle",version:Pe,beans:[Hne]};function Bpe(e,t){return!!e.colHover?.isHovered(t)}var Gpe=class extends ue{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:r,element:s,columns:o}=this,l=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:l.setMouseOver.bind(l,o),mouseout:l.clearMouseOver.bind(l)}):(this.destroyManagedListeners.forEach(d=>d()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},Hpe="ag-column-hover",zpe=class extends ue{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(Hpe,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const r=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new Gpe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Upe={moduleName:"ColumnHover",version:Pe,beans:[zpe],apiFunctions:{isColumnHovered:Bpe}},Wpe=class extends ue{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,i=!jv.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{jv.has(s)&&t(s,o)},i=(s,o)=>{jv.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=n?.unwrapGlobal(e)??e;if(i.has(r)){const{syncListener:o,asyncListener:l}=i.get(r);t.removeGlobalListener(o,!1),t.removeGlobalListener(l,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function jpe(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function $pe(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function qpe(e,t){e.apiEventSvc?.addGlobalListener(t)}function Kpe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var Ype={moduleName:"EventApi",version:Pe,apiFunctions:{addEventListener:jpe,addGlobalListener:qpe,removeEventListener:$pe,removeGlobalListener:Kpe},beans:[Wpe]},Qpe={moduleName:"Locale",version:Pe,beans:[Dce]},Xpe=class extends ue{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Ci(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols;let s=!1;const o=l=>{const u=l.__autoHeights;let d=Rl(this.beans,l).height;for(const f of r){let p=u?.[f.getColId()];const m=n?.getCellSpan(f,l);if(m){if(m.getLastNode()!==l)continue;if(p=n?.getCellSpan(f,l)?.getLastNodeAutoHeight(),!p)return}if(p==null){if(this.colSpanSkipCell(f,l))continue;return}d=Math.max(p,d)}d!==l.rowHeight&&(l.setRowHeight(d),s=!0)};i?.forEachPinnedRow?.("top",o),i?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=r.getLeftColsForRow(t);break;case"right":s=r.getRightColsForRow(t);break;case null:s=i.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:r,column:s}=e,o=this.beans,l=f=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:C,borderTopWidth:w}=ru(i),E=p+m+C+w,x=t.offsetHeight+E;if(f<5){const D=ri(o),A=!D||!D.contains(t),L=x==0;if(A||L){window.setTimeout(()=>l(f+1),0);return}}this.setRowAutoHeight(r,x,s)},u=()=>l(0);u();const d=fa(o,t,u);return n.addDestroyFunc(()=>{d(),this.setRowAutoHeight(r,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(r=>r.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const i of t){const r=n.__autoHeights[i.getColId()];if(!r||n.rowHeight<r)return!1}}return!0}},Zpe={moduleName:"RowAutoHeight",version:Pe,beans:[Xpe]},Jpe={moduleName:"AllCommunity",version:Pe,dependsOn:[Xhe,sfe,gfe,Zce,nhe,ihe,rhe,she,ohe,ahe,lhe,the,tde,nde,ide,ede,sde,ode,Ffe,_he,Qfe,_G,ope,ape,gpe,wpe,Kre,Dpe,Ehe,cce,Npe,Upe,Vpe,Ype,hce,Tfe,yH,Qpe,Zpe,qre,Zhe,kpe]},ki=$.createContext({}),MH=$.createContext("default"),Eg=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,l,u=!1;return s.then(d=>{if(u){t.destroyBean(d);return}o=d,l=o.getGui(),n.appendChild(l),N1(i,o)}),()=>{u=!0,o&&(l?.parentElement?.removeChild(l),t.destroyBean(o),i&&N1(i,void 0))}},N1=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Yr=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),es=class _H{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const r=new _H;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},hh=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},s0=$.version?.split(".")[0],kH=s0==="16"||s0==="17";function ege(){return s0==="19"}var $v=!1;function tge(e){return $v||setTimeout(()=>$v=!1,0),$v=!0,e()}var Bp=(e,t)=>{!kH&&e&&!$v?rl.flushSync(t):t()},nge=e=>{kH?e():$.startTransition(e)};function ige(e,t,n){return $.useSyncExternalStore?$.useSyncExternalStore(e,t):n}function XC(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],r=[],s=new Map,o=new Map;for(let l=0;l<t.length;l++){const u=t[l];o.set(u.instanceId,u)}for(let l=0;l<e.length;l++){const u=e[l];s.set(u.instanceId,u),o.has(u.instanceId)&&i.push(u)}for(let l=0;l<t.length;l++){const u=t[l],d=u.instanceId;s.has(d)||r.push(u)}return i.length===e.length&&r.length===0?e:i.length===0&&r.length===t.length?t:i.length===0?r:r.length===0?i:[...i,...r]}var OH=S.forwardRef((e,t)=>{const{registry:n,context:i}=S.useContext(ki),r=S.useRef(null),s=S.useRef(null),o=S.useRef(null),l=S.useRef(null),u=S.useRef(null),d=S.useRef(),[f,p]=S.useState(),[m,C]=S.useState(),[w,E]=S.useState(),[R,x]=S.useState(()=>new es),[D,A]=S.useState(()=>new es("ag-hidden")),[L,V]=S.useState(()=>new es("ag-hidden")),[I,_]=S.useState(()=>new es("ag-invisible"));S.useImperativeHandle(t,()=>({refresh(){return!1}})),S.useLayoutEffect(()=>Eg(f,i,s.current),[f]);const F=S.useCallback(ne=>{if(r.current=ne,!ne){d.current=i.destroyBean(d.current);return}const re={setInnerRenderer:(z,Q)=>{p(z),E(Q)},setChildCount:z=>C(z),toggleCss:(z,Q)=>x(J=>J.setClass(z,Q)),setContractedDisplayed:z=>V(Q=>Q.setClass("ag-hidden",!z)),setExpandedDisplayed:z=>A(Q=>Q.setClass("ag-hidden",!z)),setCheckboxVisible:z=>_(Q=>Q.setClass("ag-invisible",!z)),setCheckboxSpacing:z=>_(Q=>Q.setClass("ag-group-checkbox-spacing",z))},ge=n.createDynamicBean("groupCellRendererCtrl",!0);ge&&(d.current=i.createBean(ge),d.current.init(re,ne,o.current,l.current,u.current,OH,e))},[]),k=S.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),O=S.useMemo(()=>`ag-group-expanded ${D.toString()}`,[D]),B=S.useMemo(()=>`ag-group-contracted ${L.toString()}`,[L]),U=S.useMemo(()=>`ag-group-checkbox ${I.toString()}`,[I]),G=f?.componentFromFramework,de=G?f.componentClass:void 0,pe=f==null&&w!=null,q=ch(w);return $.createElement("span",{className:k,ref:F,...e.colDef?{}:{role:d.current?.getCellAriaRole()}},$.createElement("span",{className:O,ref:l}),$.createElement("span",{className:B,ref:u}),$.createElement("span",{className:U,ref:o}),$.createElement("span",{className:"ag-group-value",ref:s},pe?q:G?$.createElement(de,{...f.params}):null),$.createElement("span",{className:"ag-group-child-count"},m))}),V1=OH,Mx=S.createContext({setMethods:()=>{}}),rge=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:r}=e,[{key:s,...o},l]=S.useState(t);return S.useEffect(()=>{n(u=>l(u))},[]),$.createElement(Mx.Provider,{value:{setMethods:r}},$.createElement(i,{key:s,...o}))},sge=S.memo(rge),oge=0;function B1(){return`agPortalKey_${++oge}`}var LH=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=B1(),this.portalKey=B1(),this.instanceCreated=this.isStatelessComponent()?Mt.resolve(!1):new Mt(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Mt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Yd.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return S.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function sw(e,t,n){e.forEach(i=>{const r=t[i];r&&(n[i]=r)})}var Ar=class extends LH{constructor(){super(...arguments),this.awaitUpdateCallback=new Mt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=sge}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Mt(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,sw(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Mt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},age=class extends Ar{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},lge=class extends Ar{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},cge=class extends Ar{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},uge=class extends Ar{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Mt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Mt(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},dge=class extends Ar{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Mt(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function NH(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Mt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var hge=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){sw(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),NH(this.floatingFilterParams,e)}},fge=class extends Ar{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),NH(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},pge=class extends Ar{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},gge=class extends Ar{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},mge=class extends Ar{refresh(e){this.sourceParams=e,this.refreshProps()}},vge=class extends Ar{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Cge=class extends Ar{refresh(e){this.sourceParams=e,this.refreshProps()}},yge=class extends Ar{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},wge=class extends Ar{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function _x(){Se(231)}var bge=1e3,Sge=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||bge}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Bp(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},Ege=({ctrl:e})=>{const t=e.isAlive(),{context:n}=S.useContext(ki),i=t?e.column.getColId():void 0,[r,s]=S.useState(),[o,l]=S.useState(),u=S.useRef(),d=S.useRef(null),f=S.useRef(null),p=S.useRef(null),m=S.useRef(),C=S.useRef();t&&!C.current&&(C.current=new yg(()=>d.current));const w=S.useCallback(D=>{if(d.current=D,u.current=D?n.createBean(new uh):n.destroyBean(u.current),!D||!e.isAlive())return;const A=()=>{const V=e.getSelectAllGui();V&&(f.current?.insertAdjacentElement("afterend",V),u.current.addDestroyFunc(()=>V.remove()))},L={setWidth:V=>{d.current&&(d.current.style.width=V)},toggleCss:(V,I)=>C.current.toggleCss(V,I),setUserStyles:V=>l(V),setAriaSort:V=>{d.current&&(V?wJ(d.current,V):bJ(d.current))},setUserCompDetails:V=>s(V),getUserCompInstance:()=>m.current||void 0,refreshSelectAllGui:A,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(L,D,f.current,p.current,u.current),A()},[]);S.useLayoutEffect(()=>Eg(r,n,p.current,m),[r]),S.useEffect(()=>{e.setDragSource(d.current)},[r]);const E=S.useMemo(()=>!!(r?.componentFromFramework&&hh(r.componentClass)),[r]),R=r?.componentFromFramework,x=r?.componentClass;return $.createElement("div",{ref:w,style:o,className:"ag-header-cell","col-id":i,role:"columnheader"},$.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),$.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},R?E?$.createElement(x,{...r.params}):$.createElement(x,{...r.params,ref:m}):null))},Rge=S.memo(Ege),Tge=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){sw(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},xge=({ctrl:e})=>{const{context:t,gos:n}=S.useContext(ki),[i,r]=S.useState(),[s,o]=S.useState(()=>new es("ag-header-cell","ag-floating-filter")),[l,u]=S.useState(()=>new es),[d,f]=S.useState(()=>new es("ag-floating-filter-button","ag-hidden")),[p,m]=S.useState("false"),[C,w]=S.useState(),[,E]=S.useState(1),R=S.useRef(),x=S.useRef(null),D=S.useRef(null),A=S.useRef(null),L=S.useRef(null),V=S.useRef(),I=S.useRef(),_=z=>{z!=null&&V.current&&V.current(z)},F=S.useCallback(z=>{if(x.current=z,R.current=z?t.createBean(new uh):t.destroyBean(R.current),!z||!e.isAlive())return;I.current=new Mt(J=>{V.current=J});const Q={toggleCss:(J,X)=>o(fe=>fe.setClass(J,X)),setUserStyles:J=>r(J),addOrRemoveBodyCssClass:(J,X)=>u(fe=>fe.setClass(J,X)),setButtonWrapperDisplayed:J=>{f(X=>X.setClass("ag-hidden",!J)),m(J?"false":"true")},setWidth:J=>{x.current&&(x.current.style.width=J)},setCompDetails:J=>w(J),getFloatingFilterComp:()=>I.current?I.current:null,setMenuIcon:J=>L.current?.appendChild(J)};e.setComp(Q,z,L.current,D.current,R.current)},[]);S.useLayoutEffect(()=>Eg(C,t,D.current,_),[C]);const k=S.useMemo(()=>s.toString(),[s]),O=S.useMemo(()=>l.toString(),[l]),B=S.useMemo(()=>d.toString(),[d]),U=S.useMemo(()=>!!(C&&C.componentFromFramework&&hh(C.componentClass)),[C]),G=S.useMemo(()=>n.get("reactiveCustomComponents"),[]),de=S.useMemo(()=>n.get("enableFilterHandlers"),[]),[pe,q]=S.useState();S.useEffect(()=>{if(C?.componentFromFramework)if(G){const z=de?Tge:hge,Q=new z(C.params,()=>E(J=>J+1));_(Q),q(Q)}else _x()},[C]);const ne=pe?.getProps(),re=C?.componentFromFramework,ge=C?.componentClass;return $.createElement("div",{ref:F,style:i,className:k,role:"gridcell"},$.createElement("div",{ref:D,className:O,role:"presentation"},re?G?ne&&$.createElement(Mx.Provider,{value:{setMethods:z=>pe.setMethods(z)}},$.createElement(ge,{...ne})):$.createElement(ge,{...C.params,ref:U?()=>{}:_}):null),$.createElement("div",{ref:A,"aria-hidden":p,className:B,role:"presentation"},$.createElement("button",{ref:L,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Dge=S.memo(xge),Age=({ctrl:e})=>{const{context:t}=S.useContext(ki),[n,i]=S.useState(),[r,s]=S.useState(()=>new es),[o,l]=S.useState(()=>new es),[u,d]=S.useState("false"),[f,p]=S.useState(),[m,C]=S.useState(),w=S.useMemo(()=>e.column.getUniqueId(),[]),E=S.useRef(),R=S.useRef(null),x=S.useRef(null),D=S.useRef(null),A=S.useRef(),L=S.useCallback(O=>{if(R.current=O,E.current=O?t.createBean(new uh):t.destroyBean(E.current),!O||!e.isAlive())return;const B={setWidth:U=>{R.current&&(R.current.style.width=U)},toggleCss:(U,G)=>s(de=>de.setClass(U,G)),setUserStyles:U=>i(U),setHeaderWrapperHidden:U=>{const G=D.current;G&&(U?G.style.setProperty("display","none"):G.style.removeProperty("display"))},setHeaderWrapperMaxHeight:U=>{const G=D.current;G&&(U!=null?G.style.setProperty("max-height",`${U}px`):G.style.removeProperty("max-height"),G.classList.toggle("ag-header-cell-comp-wrapper-limited-height",U!=null))},setUserCompDetails:U=>C(U),setResizableDisplayed:U=>{l(G=>G.setClass("ag-hidden",!U)),d(U?"false":"true")},setAriaExpanded:U=>p(U),getUserCompInstance:()=>A.current||void 0};e.setComp(B,O,x.current,D.current,E.current)},[]);S.useLayoutEffect(()=>Eg(m,t,D.current),[m]),S.useEffect(()=>{R.current&&e.setDragSource(R.current)},[m]);const V=S.useMemo(()=>!!(m?.componentFromFramework&&hh(m.componentClass)),[m]),I=S.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),_=S.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),F=m?.componentFromFramework,k=m?.componentClass;return $.createElement("div",{ref:L,style:n,className:I,"col-id":w,role:"columnheader","aria-expanded":f},$.createElement("div",{ref:D,className:"ag-header-cell-comp-wrapper",role:"presentation"},F?V?$.createElement(k,{...m.params}):$.createElement(k,{...m.params,ref:A}):null),$.createElement("div",{ref:x,"aria-hidden":u,className:_}))},Pge=S.memo(Age),Ige=({ctrl:e})=>{const{context:t}=S.useContext(ki),{topOffset:n,rowHeight:i}=S.useMemo(()=>e.getTopAndHeight(),[]),[r,s]=S.useState(e.getAriaRowIndex()),o=e.headerRowClass,[l,u]=S.useState(()=>i+"px"),[d,f]=S.useState(()=>n+"px"),p=S.useRef([]),[m,C]=S.useState(()=>e.getUpdatedHeaderCtrls()),w=S.useRef(),E=S.useRef(null),R=S.useCallback(A=>{if(E.current=A,w.current=A?t.createBean(new uh):t.destroyBean(w.current),!A)return;const L={setHeight:V=>u(V),setTop:V=>f(V),setHeaderCtrls:(V,I,_)=>{const F=p.current,k=XC(F,V,I);k!==F&&(p.current=k,Bp(_,()=>C(k)))},setWidth:V=>{E.current&&(E.current.style.width=V)},setRowIndex:V=>{s(V)}};e.setComp(L,w.current,!1)},[]),x=S.useMemo(()=>({height:l,top:d}),[l,d]),D=S.useCallback(A=>{switch(e.type){case"group":return $.createElement(Pge,{ctrl:A,key:A.instanceId});case"filter":return $.createElement(Dge,{ctrl:A,key:A.instanceId});default:return $.createElement(Rge,{ctrl:A,key:A.instanceId})}},[]);return $.createElement("div",{ref:R,className:o,role:"row",style:x,"aria-rowindex":r},m.map(D))},Fge=S.memo(Ige),Mge=({pinned:e})=>{const[t,n]=S.useState(!0),[i,r]=S.useState([]),{context:s}=S.useContext(ki),o=S.useRef(null),l=S.useRef(null),u=S.useRef(),d=e==="left",f=e==="right",p=!d&&!f,m=S.useCallback(E=>{if(o.current=E,u.current=E?s.createBean(new Tie(e)):s.destroyBean(u.current),!E)return;const R={setDisplayed:n,setCtrls:x=>r(x),setCenterWidth:x=>{l.current&&(l.current.style.width=x)},setViewportScrollLeft:x=>{o.current&&(o.current.scrollLeft=x)},setPinnedContainerWidth:x=>{o.current&&(o.current.style.width=x,o.current.style.minWidth=x,o.current.style.maxWidth=x)}};u.current.setComp(R,o.current)},[]),C=t?"":"ag-hidden",w=()=>i.map(E=>$.createElement(Fge,{ctrl:E,key:E.instanceId}));return d?$.createElement("div",{ref:m,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},w()):f?$.createElement("div",{ref:m,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},w()):p?$.createElement("div",{ref:m,className:"ag-header-viewport "+C,role:"presentation",tabIndex:-1},$.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},w())):null},yE=S.memo(Mge),_ge=()=>{const[e,t]=S.useState(()=>new es),[n,i]=S.useState(),{context:r}=S.useContext(ki),s=S.useRef(null),o=S.useRef(),l=S.useCallback(f=>{if(s.current=f,o.current=f?r.createBean(new bie):r.destroyBean(o.current),!f)return;const p={toggleCss:(m,C)=>t(w=>w.setClass(m,C)),setHeightAndMinHeight:m=>i(m)};o.current.setComp(p,f,f)},[]),u=S.useMemo(()=>"ag-header "+e.toString(),[e]),d=S.useMemo(()=>({height:n,minHeight:n}),[n]);return $.createElement("div",{ref:l,className:u,style:d,role:"presentation"},$.createElement(yE,{pinned:"left"}),$.createElement(yE,{pinned:null}),$.createElement(yE,{pinned:"right"}))},kge=S.memo(_ge),Oge=(e,t)=>{S.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const r=document.createComment(e);return i.insertBefore(r,n),()=>{i.removeChild(r)}}}},[e])},gc=Oge,Lge=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Mt(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){sw(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},Nge=e=>{const t=S.useRef(e),n=S.useRef(),i=S.useRef(!1),r=S.useRef(!1),[,s]=S.useState(0);i.current&&(r.current=!0),S.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),s(o=>o+1),()=>{r.current&&n.current?.()}),[])},Vge=e=>{const[t,n]=S.useState(),i=S.useContext(ki),{context:r,popupSvc:s,gos:o,editSvc:l}=i,{editDetails:u,cellCtrl:d,eParentCell:f}=e;return Nge(()=>{const{compDetails:p}=u,m=o.get("stopEditingWhenCellsLoseFocus"),C=r.createBean(l.createPopupEditorWrapper(p.params)),w=C.getGui();if(e.jsChildComp){const V=e.jsChildComp.getGui();V&&w.appendChild(V)}const{column:E,rowNode:R}=d,x={column:E,rowNode:R,type:"popupCellEditor",eventSource:f,ePopup:w,position:u.popupPosition,keepWithinBounds:!0},D=s?.positionPopupByComponent.bind(s,x),A=s?.addPopup({modal:m,eChild:w,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:f,positionCallback:D,ariaOwns:f}),L=A?A.hideFunc:void 0;return n(C),e.jsChildComp?.afterGuiAttached?.(),()=>{L?.(),r.destroyBean(C)}}),S.useLayoutEffect(()=>()=>{d.isCellFocused()&&t?.getGui().contains(Sn(i))&&f.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Yd.createPortal(e.wrappedContent,t.getGui()):null},G1=S.memo(Vge),Bge=(e,t,n)=>{const{compProxy:i}=e;n(i);const r=i.getProps(),s=hh(t);return $.createElement(Mx.Provider,{value:{setMethods:o=>i.setMethods(o)}},s?$.createElement(t,{...r}):$.createElement(t,{...r,ref:o=>i.setRef(o)}))},H1=(e,t,n)=>e.compProxy?Bge(e,t,n):$.createElement(t,{...e.compDetails.params,ref:n}),Gge=(e,t,n,i,r)=>{const s=e.compDetails,o=s.componentClass,l=s.componentFromFramework&&!e.popup,u=s.componentFromFramework&&e.popup,d=!s.componentFromFramework&&e.popup;return l?H1(e,o,t):u?$.createElement(G1,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:H1(e,o,t)}):d&&r?$.createElement(G1,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:r}):null},Hge=(e,t,n,i,r,s)=>{const{context:o}=S.useContext(ki),l=S.useCallback(()=>{const u=r.current;if(!u)return;const d=u.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),o.destroyBean(u),r.current=void 0},[]);S.useEffect(()=>{const u=e!=null,d=e?.compDetails&&!e.compDetails.componentFromFramework,f=t&&n==null;if(!(u&&d&&!f)){l();return}const m=e.compDetails;if(r.current){const w=r.current,R=w.refresh!=null&&e.force==!1?w.refresh(m.params):!1;if(R===!0||R===void 0)return;l()}m.newAgStackInstance().then(w=>{if(!w)return;const E=w.getGui();if(!E)return;(t?n:s.current).appendChild(E),r.current=w})},[e,t,i]),S.useEffect(()=>l,[])},VH=Hge,zge=({cellCtrl:e,parent:t})=>{const n=S.useRef(),i=S.useMemo(()=>{const{loadingComp:r}=e.getDeferLoadingCellRenderer();return r?{value:void 0,compDetails:r,force:!1}:void 0},[e]);if(VH(i,!1,void 0,1,n,t),i?.compDetails?.componentFromFramework){const r=i.compDetails.componentClass;return $.createElement(r,{...i.compDetails.params})}return $.createElement($.Fragment,null)},Uge=({cellCtrl:e,printLayout:t,editingCell:n})=>{const i=S.useContext(ki),{context:r}=i,{column:{colIdSanitised:s},instanceId:o}=e,l=S.useRef(),[u,d]=S.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,p]=S.useState(),[m,C]=S.useState(1),[w,E]=S.useState(),[R,x]=S.useState(!1),[D,A]=S.useState(!1),[L,V]=S.useState(!1),[I,_]=S.useState(),F=S.useMemo(()=>e.isForceWrapper(),[e]),k=S.useMemo(()=>e.getCellAriaRole(),[e]),O=S.useRef(null),B=S.useRef(null),U=S.useRef(null),G=S.useRef(),de=S.useRef(),pe=S.useRef(),q=S.useRef([]),ne=S.useRef(),[re,ge]=S.useState(0),z=S.useCallback(Ie=>{ne.current=Ie,ge(Me=>Me+1)},[]),Q=u!=null&&(R||L||D)&&(f==null||!!f.popup),J=F||Q,X=S.useCallback(Ie=>{if(de.current=Ie,Ie){const Me=Ie.isCancelBeforeStart&&Ie.isCancelBeforeStart();setTimeout(()=>{Me?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(Ie))})}},[e]),fe=S.useRef();fe.current||(fe.current=new yg(()=>O.current)),VH(u,J,ne.current,re,G,O);const Re=S.useRef();S.useLayoutEffect(()=>{const Ie=Re.current,Me=u;if(Re.current=u,Ie==null||Ie.compDetails==null||Me==null||Me.compDetails==null)return;const Qe=Ie.compDetails,Oe=Me.compDetails;if(Qe.componentClass!=Oe.componentClass||U.current?.refresh==null)return;U.current.refresh(Oe.params)!=!0&&C(St=>St+1)},[u]),S.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework))return;const Me=f.compDetails,Qe=f.popup===!0,Oe=Me.newAgStackInstance();return Oe.then(Ye=>{if(!Ye)return;const St=Ye.getGui();X(Ye),Qe||((F?pe:O).current?.appendChild(St),Ye.afterGuiAttached&&Ye.afterGuiAttached()),_(Ye)}),()=>{Oe.then(Ye=>{const St=Ye.getGui();e.disableEditorTooltipFeature(),r.destroyBean(Ye),X(void 0),_(void 0),St?.parentElement?.removeChild(St)})}},[f]);const Ae=S.useCallback(Ie=>{if(pe.current=Ie,!Ie){q.current.forEach(Qe=>Qe()),q.current=[];return}const Me=Qe=>{if(Qe){const Oe=Qe.getGui();Ie.insertAdjacentElement("afterbegin",Oe),q.current.push(()=>{r.destroyBean(Qe),ca(Oe)})}return Qe};if(R){const Qe=e.createSelectionCheckbox();Me(Qe)}L&&Me(e.createDndSource()),D&&Me(e.createRowDragComp())},[e,r,L,D,R]),gt=S.useCallback(()=>{const Ie=!e.isCellSpanning()||B.current,Me=O.current;if(l.current=Me?r.createBean(new uh):r.destroyBean(l.current),!Me||!Ie||!e)return;const Qe={toggleCss:(Ye,St)=>fe.current.toggleCss(Ye,St),setUserStyles:Ye=>E(Ye),getFocusableElement:()=>O.current,setIncludeSelection:Ye=>x(Ye),setIncludeRowDrag:Ye=>A(Ye),setIncludeDndSource:Ye=>V(Ye),getCellEditor:()=>de.current||null,getCellRenderer:()=>U.current??G.current,getParentOfValue:()=>ne.current??pe.current??O.current,setRenderDetails:(Ye,St,st)=>{const yt=()=>{d(wt=>wt?.compDetails!==Ye||wt?.value!==St||wt?.force!==st?{value:St,compDetails:Ye,force:st}:wt)};if(Ye?.params?.deferRender&&!e.rowNode.group){const{loadingComp:wt,onReady:Ft}=e.getDeferLoadingCellRenderer();if(wt){d({value:void 0,compDetails:wt,force:!1}),Ft.then(()=>nge(yt));return}}yt()},setEditDetails:(Ye,St,st,yt)=>{if(Ye){let wt;Ye.componentFromFramework&&(yt?wt=new Lge(Ye.params,()=>C(Ft=>Ft+1)):_x()),p({compDetails:Ye,popup:St,popupPosition:st,compProxy:wt}),St||d(void 0)}else e.hasBrowserFocus()&&Qe.getFocusableElement().focus({preventScroll:!0}),p(Ft=>{Ft?.compProxy&&(de.current=void 0)})},refreshEditStyles:(Ye,St)=>{if(!O.current)return;const{current:st}=fe;st.toggleCss("ag-cell-value",!J),st.toggleCss("ag-cell-inline-editing",!!Ye&&!St),st.toggleCss("ag-cell-popup-editing",!!Ye&&!!St),st.toggleCss("ag-cell-not-inline-editing",!Ye||!!St)}},Oe=pe.current||void 0;e.setComp(Qe,Me,B.current??void 0,Oe,t,n,l.current)},[]),Ze=S.useCallback(Ie=>{O.current=Ie,gt()},[]),Ke=S.useCallback(Ie=>{B.current=Ie,gt()},[]),rt=S.useMemo(()=>!!(u?.compDetails?.componentFromFramework&&hh(u.compDetails.componentClass)),[u]);S.useLayoutEffect(()=>{if(!O.current)return;const{current:Ie}=fe;Ie.toggleCss("ag-cell-value",!J),Ie.toggleCss("ag-cell-inline-editing",!!f&&!f.popup),Ie.toggleCss("ag-cell-popup-editing",!!f&&!!f.popup),Ie.toggleCss("ag-cell-not-inline-editing",!f||!!f.popup)});const ht=()=>{const{compDetails:Ie,value:Me}=u;if(!Ie)return Me?.toString?.()??Me;if(Ie.componentFromFramework){const Qe=Ie.componentClass;return $.createElement(S.Suspense,{fallback:$.createElement(zge,{cellCtrl:e,parent:O})},rt?$.createElement(Qe,{...Ie.params,key:m}):$.createElement(Qe,{...Ie.params,key:m,ref:U}))}},ft=()=>{const Ie=()=>u==null?null:J?$.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:z},ht()):ht(),Me=Qe=>Gge(Qe,X,O.current,e,I);return f!=null?f.popup?$.createElement($.Fragment,null,Ie(),Me(f)):Me(f):Ie()},_t=()=>$.createElement("div",{ref:Ze,style:w,role:k,"col-id":s},J?$.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Ae},ft()):ft());return e.isCellSpanning()?$.createElement("div",{ref:Ke,className:"ag-spanned-cell-wrapper",role:"presentation"},_t()):_t()},Wge=S.memo(Uge),jge=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i,editSvc:r}=S.useContext(ki),s=S.useContext(MH)==="default",o=S.useRef(),l=S.useRef(e.getDomOrder()),u=e.isFullWidth(),d=e.rowNode.displayed,[f,p]=S.useState(()=>d?e.rowNode.getRowIndexString():null),[m,C]=S.useState(()=>e.rowId),[w,E]=S.useState(()=>e.businessKey),[R,x]=S.useState(()=>e.rowStyles),D=S.useRef(null),[A,L]=S.useState(()=>null),[V,I]=S.useState(),[_,F]=S.useState(()=>d?e.getInitialRowTop(t):void 0),[k,O]=S.useState(()=>d?e.getInitialTransform(t):void 0),B=S.useRef(null),U=S.useRef(),G=S.useRef(!1),[de,pe]=S.useState(0);S.useEffect(()=>{if(G.current||!V||de>10)return;const Ke=B.current?.firstChild;Ke?(e.setupDetailRowAutoHeight(Ke),G.current=!0):pe(rt=>rt+1)},[V,de]);const q=S.useRef();q.current||(q.current=new yg(()=>B.current));const ne=S.useRef(()=>{}),re=S.useCallback(Ke=>(ne.current=Ke,()=>{ne.current=()=>{}}),[]),ge=ige(re,()=>D.current,[]),z=s?ge:A,Q=S.useCallback(Ke=>{if(B.current=Ke,o.current=Ke?n.createBean(new uh):n.destroyBean(o.current),!Ke){e.unsetComp(t);return}if(!e.isAlive())return;const rt={setTop:F,setTransform:O,toggleCss:(ht,ft)=>q.current.toggleCss(ht,ft),setDomOrder:ht=>l.current=ht,setRowIndex:p,setRowId:C,setRowBusinessKey:E,setUserStyles:x,setCellCtrls:(ht,ft)=>{const _t=D.current,Ie=XC(_t,ht,l.current);Ie!==_t&&(D.current=Ie,s?ne.current():Bp(ft,()=>L(Ie)))},showFullWidth:ht=>I(ht),getFullWidthCellRenderer:()=>U.current,refreshFullWidth:ht=>Ae.current?(I(ft=>({...ft,params:ht()})),!0):!U.current||!U.current.refresh?!1:U.current.refresh(ht())};e.setComp(rt,Ke,t,o.current)},[]);S.useLayoutEffect(()=>Eg(V,n,B.current,U),[V]);const J=S.useMemo(()=>{const Ke={top:_,transform:k};return Object.assign(Ke,R),Ke},[_,k,R]),X=u&&V?.componentFromFramework,fe=!u&&z!=null,Re=S.useMemo(()=>!!(V?.componentFromFramework&&hh(V.componentClass)),[V]),Ae=S.useRef(!1);S.useEffect(()=>{Ae.current=Re&&!!V&&!!i.get("reactiveCustomComponents")},[Re,V]);const gt=()=>z?.map(Ke=>$.createElement(Wge,{cellCtrl:Ke,editingCell:r?.isEditing(Ke,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Ke.instanceId})),Ze=()=>{const Ke=V.componentClass;return Re?$.createElement(Ke,{...V.params}):$.createElement(Ke,{...V.params,ref:U})};return $.createElement("div",{ref:Q,role:"row",style:J,"row-index":f,"row-id":m,"row-business-key":w},fe?gt():X?Ze():null)},z1=S.memo(jge),$ge=({name:e})=>{const{context:t,gos:n}=S.useContext(ki),i=S.useMemo(()=>bg(e),[e]),r=S.useRef(null),s=S.useRef(null),o=S.useRef(null),l=S.useRef([]),u=S.useRef([]),[d,f]=S.useState(()=>[]),p=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,m=S.useRef([]),C=S.useRef([]),[w,E]=S.useState(()=>[]),R=S.useRef(!1),x=S.useRef(),D=S.useMemo(()=>Yr("ag-viewport",uG(e)),[e]),A=S.useMemo(()=>Yr(Wv(e)),[e]),L=S.useMemo(()=>Yr("ag-spanning-container",Jne(e)),[e]),V=i.type==="center"||p,I=V?r:s;gc(" AG Row Container "+e+" ",I);const _=S.useCallback(()=>{const pe=!V||r.current!=null,q=s.current!=null,ne=!p||o.current!=null;return pe&&q&&ne},[]),F=S.useCallback(()=>r.current==null&&s.current==null&&o.current==null,[]),k=S.useCallback(()=>{if(F()&&(x.current=t.destroyBean(x.current)),_()){const pe=re=>{const ge=XC(u.current,l.current,R.current);ge!==u.current&&(u.current=ge,Bp(re,()=>f(ge)))},q=re=>{const ge=XC(C.current,m.current,R.current);ge!==C.current&&(C.current=ge,Bp(re,()=>E(ge)))},ne={setHorizontalScroll:re=>{r.current&&(r.current.scrollLeft=re)},setViewportHeight:re=>{r.current&&(r.current.style.height=re)},setRowCtrls:({rowCtrls:re,useFlushSync:ge})=>{const z=!!ge&&l.current.length>0&&re.length>0;l.current=re,pe(z)},setSpannedRowCtrls:(re,ge)=>{const z=!!ge&&m.current.length>0&&re.length>0;m.current=re,q(z)},setDomOrder:re=>{R.current!=re&&(R.current=re,pe(!1))},setContainerWidth:re=>{s.current&&(s.current.style.width=re)},setOffsetTop:re=>{s.current&&(s.current.style.transform=`translateY(${re})`)}};x.current=t.createBean(new cie(e)),x.current.setComp(ne,s.current,o.current??void 0,r.current)}},[_,F]),O=S.useCallback(pe=>{s.current=pe,k()},[k]),B=S.useCallback(pe=>{o.current=pe,k()},[k]),U=S.useCallback(pe=>{r.current=pe,k()},[k]),G=()=>$.createElement("div",{className:A,ref:O,role:"rowgroup"},d.map(pe=>$.createElement(z1,{rowCtrl:pe,containerType:i.type,key:pe.instanceId})));if(!V)return G();const de=()=>$.createElement("div",{className:L,ref:B,role:"rowgroup"},w.map(pe=>$.createElement(z1,{rowCtrl:pe,containerType:i.type,key:pe.instanceId})));return $.createElement("div",{className:D,ref:U,role:"presentation"},G(),p?de():null)},qge=S.memo($ge),Kge=()=>{const e=S.useContext(ki),{context:t,overlays:n}=e,[i,r]=S.useState(""),[s,o]=S.useState(0),[l,u]=S.useState(0),[d,f]=S.useState("0px"),[p,m]=S.useState("0px"),[C,w]=S.useState("100%"),[E,R]=S.useState("0px"),[x,D]=S.useState("0px"),[A,L]=S.useState("100%"),[V,I]=S.useState(!0),[_,F]=S.useState(!0),[k,O]=S.useState(null),[B,U]=S.useState(""),[G,de]=S.useState(null),[pe,q]=S.useState("ag-layout-normal"),ne=S.useRef();ne.current||(ne.current=new yg(()=>re.current));const re=S.useRef(null),ge=S.useRef(null),z=S.useRef(null),Q=S.useRef(null),J=S.useRef(null),X=S.useRef(null),fe=S.useRef(null),Re=S.useRef([]),Ae=S.useRef([]);gc(" AG Grid Body ",re),gc(" AG Pinned Top ",ge),gc(" AG Sticky Top ",z),gc(" AG Middle ",X),gc(" AG Pinned Bottom ",fe);const gt=S.useCallback(yt=>{if(re.current=yt,!yt){Re.current=t.destroyBeans(Re.current),Ae.current.forEach(ut=>ut()),Ae.current=[];return}if(!t)return;const wt=(ut,kt)=>{ut.appendChild(kt),Ae.current.push(()=>ut.removeChild(kt))},Ft=ut=>{const kt=t.createBean(new ut);return Re.current.push(kt),kt},fn=(ut,kt,ga)=>{wt(ut,document.createComment(ga)),wt(ut,Ft(kt).getGui())};fn(yt,gie," AG Fake Horizontal Scroll ");const On=n?.getOverlayWrapperCompClass();On&&fn(yt,On," AG Overlay Wrapper "),J.current&&fn(J.current,vie," AG Fake Vertical Scroll ");const Le={setRowAnimationCssOnBodyViewport:r,setColumnCount:ut=>{re.current&&CJ(re.current,ut)},setRowCount:ut=>{re.current&&mJ(re.current,ut)},setTopHeight:o,setBottomHeight:u,setStickyTopHeight:f,setStickyTopTop:m,setStickyTopWidth:w,setTopInvisible:I,setBottomInvisible:F,setColumnMovingCss:(ut,kt)=>ne.current.toggleCss(ut,kt),updateLayoutClasses:q,setAlwaysVerticalScrollClass:O,setPinnedTopBottomOverflowY:U,setCellSelectableCss:(ut,kt)=>de(kt?ut:null),setBodyViewportWidth:ut=>{X.current&&(X.current.style.width=ut)},registerBodyViewportResizeListener:ut=>{if(X.current){const kt=fa(e,X.current,ut);Ae.current.push(()=>kt())}},setStickyBottomHeight:R,setStickyBottomBottom:D,setStickyBottomWidth:L,setGridRootRole:ut=>yt.setAttribute("role",ut)},et=t.createBean(new fie);Re.current.push(et),et.setComp(Le,yt,X.current,ge.current,fe.current,z.current,Q.current)},[]),Ze=S.useMemo(()=>Yr("ag-root","ag-unselectable",pe),[pe]),Ke=S.useMemo(()=>Yr("ag-body-viewport",i,pe,k,G),[i,pe,k,G]),rt=S.useMemo(()=>Yr("ag-body",pe),[pe]),ht=S.useMemo(()=>Yr("ag-floating-top",V?"ag-invisible":null,G),[G,V]),ft=S.useMemo(()=>Yr("ag-sticky-top",G),[G]),_t=S.useMemo(()=>Yr("ag-sticky-bottom",E==="0px"?"ag-invisible":null,G),[G,E]),Ie=S.useMemo(()=>Yr("ag-floating-bottom",_?"ag-invisible":null,G),[G,_]),Me=S.useMemo(()=>({height:s,minHeight:s,overflowY:B}),[s,B]),Qe=S.useMemo(()=>({height:d,top:p,width:C}),[d,p,C]),Oe=S.useMemo(()=>({height:E,bottom:x,width:A}),[E,x,A]),Ye=S.useMemo(()=>({height:l,minHeight:l,overflowY:B}),[l,B]),St=yt=>$.createElement(qge,{name:yt,key:`${yt}-container`}),st=({section:yt,children:wt,className:Ft,style:fn})=>$.createElement("div",{ref:yt,className:Ft,role:"presentation",style:fn},wt.map(St));return $.createElement("div",{ref:gt,className:Ze},$.createElement(kge,null),st({section:ge,className:ht,style:Me,children:["topLeft","topCenter","topRight","topFullWidth"]}),$.createElement("div",{className:rt,ref:J,role:"presentation"},st({section:X,className:Ke,children:["left","center","right","fullWidth"]})),st({section:z,className:ft,style:Qe,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),st({section:Q,className:_t,style:Oe,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),st({section:fe,className:Ie,style:Ye,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Yge=S.memo(Kge),Qge=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:l}=e,{context:u}=S.useContext(ki),d=S.useRef(null),f=S.useRef(null),p=S.useRef(),m=x=>{const D=x==null?void 0:parseInt(x,10).toString();[d,f].forEach(A=>{D===void 0?A.current?.removeAttribute("tabindex"):A.current?.setAttribute("tabindex",D)})};S.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){p.current?.forceFocusOutOfContainer(x)}}));const C=S.useCallback(()=>{const x=d.current,D=f.current;if(!x&&!D){p.current=u.destroyBean(p.current);return}if(x&&D){const A={setTabIndex:m};p.current=u.createBean(new SG({comp:A,eTopGuard:x,eBottomGuard:D,eFocusableElement:i,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:L=>s.focusInnerElement(L),isEmpty:l}))}},[]),w=S.useCallback(x=>{d.current=x,C()},[C]),E=S.useCallback(x=>{f.current=x,C()},[C]),R=x=>{const D=x==="top"?Ed.TAB_GUARD_TOP:Ed.TAB_GUARD_BOTTOM;return $.createElement("div",{className:`${Ed.TAB_GUARD} ${D}`,role:"presentation",ref:x==="top"?w:E})};return $.createElement($.Fragment,null,R("top"),n,R("bottom"))},Xge=S.forwardRef(Qge),Zge=S.memo(Xge),Jge=({context:e})=>{const[t,n]=S.useState(""),[i,r]=S.useState(""),[s,o]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState(!1),[p,m]=S.useState(),C=S.useRef(),w=S.useRef(null),E=S.useRef(),[R,x]=S.useState(null),D=S.useRef(()=>{}),A=S.useRef(),L=S.useRef([]),V=S.useCallback(()=>{},[]),I=S.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);gc(" AG Grid ",w);const _=S.useCallback(G=>{if(w.current=G,C.current=G?e.createBean(new wre):e.destroyBean(C.current),!G||e.isDestroyed())return;const de=C.current;D.current=de.focusInnerElement.bind(de);const pe={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:q=>{if(!q&&A.current?.isDisplayed()){A.current.forceFocusOutOfContainer(q);return}E.current?.forceFocusOutOfContainer(q)},updateLayoutClasses:r,getFocusableContainers:()=>{const q=[],ne=w.current?.querySelector(".ag-root");return ne&&q.push({getGui:()=>ne}),L.current.forEach(re=>{re.isDisplayed()&&q.push(re)}),q},setCursor:o,setUserSelect:u};de.setComp(pe,G,G),f(!0)},[]);S.useEffect(()=>{const G=C.current,de=w.current;if(!p||!I||!G||!R||!de||e.isDestroyed())return;const pe=[],{watermarkSelector:q,paginationSelector:ne,sideBarSelector:re,statusBarSelector:ge,gridHeaderDropZonesSelector:z}=G.getOptionalSelectors(),Q=[];if(z){const X=e.createBean(new z.component),fe=X.getGui();de.insertAdjacentElement("afterbegin",fe),Q.push(fe),pe.push(X)}if(re){const X=e.createBean(new re.component),fe=X.getGui(),Re=R.querySelector(".ag-tab-guard-bottom");Re&&(Re.insertAdjacentElement("beforebegin",fe),Q.push(fe)),pe.push(X),L.current.push(X)}const J=X=>{const fe=e.createBean(new X),Re=fe.getGui();return de.insertAdjacentElement("beforeend",Re),Q.push(Re),pe.push(fe),fe};if(ge&&J(ge.component),ne){const X=J(ne.component);A.current=X,L.current.push(X)}return q&&J(q.component),()=>{e.destroyBeans(pe),Q.forEach(X=>{X.parentElement?.removeChild(X)})}},[p,R,I]);const F=S.useMemo(()=>Yr("ag-root-wrapper",t,i),[t,i]),k=S.useMemo(()=>Yr("ag-root-wrapper-body","ag-focus-managed",i),[i]),O=S.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:s??""}),[l,s]),B=S.useCallback(G=>{E.current=G,m(G!==null)},[]),U=S.useCallback(()=>!C.current?.isFocusable(),[]);return $.createElement("div",{ref:_,className:F,style:O,role:"presentation"},$.createElement("div",{className:k,ref:x,role:"presentation"},d&&R&&I&&$.createElement(ki.Provider,{value:I},$.createElement(Zge,{ref:B,eFocusableElement:R,onTabKeyDown:V,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:U},$.createElement(Yge,null)))))},eme=S.memo(Jge),tme=class extends ue{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},BH={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},nme={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...BH},GH=new Set(Object.keys(nme)),ime=new Set(Object.keys(BH)),HH=e=>{const t=S.useRef(),n=S.useRef(null),i=S.useRef(null),r=S.useRef([]),s=S.useRef([]),o=S.useRef(e),l=S.useRef(),u=S.useRef(),d=S.useRef(!1),[f,p]=S.useState(void 0),[,m]=S.useState(0),C=S.useCallback(x=>{if(n.current=x,!x){r.current.forEach(B=>B()),r.current.length=0;return}const D=e.modules||[];i.current||(i.current=new Sge(()=>m(B=>B+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{i.current?.destroy(),i.current=null}));const A=ZJ(e.gridOptions,e,Object.keys(e).filter(B=>!GH.has(B))),L=()=>{if(d.current){const B=()=>l.current?.shouldQueueUpdates()?void 0:s.current.shift();let U=B();for(;U;)U(),U=B()}},V=new ame(L);l.current=V;const I=new tme,_={providedBeanInstances:{frameworkCompWrapper:new sme(i.current,A),renderStatus:I},modules:D,frameworkOverrides:V,setThemeOnGridDiv:!0},F=B=>{p(B),B.createBean(I),r.current.push(()=>{B.destroy()}),B.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{r.current.push(U)}},()=>{if(B.isDestroyed())return;const U=t.current;U&&e.passGridApi?.(U)})},k=B=>{B.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{r.current.push(U)}},()=>{s.current.forEach(U=>U()),s.current.length=0,d.current=!0})},O=new xce;A.gridId??(A.gridId=u.current),t.current=O.create(x,A,F,k,_),r.current.push(()=>{t.current=void 0}),t.current&&(u.current=t.current.getGridId())},[]),w=S.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),E=S.useCallback(x=>{d.current&&!l.current?.shouldQueueUpdates()?x():s.current.push(x)},[]);S.useEffect(()=>{const x=rme(o.current,e);o.current=e,E(()=>{t.current&&JJ(x,t.current)})},[e]);const R=!$.useSyncExternalStore||Nv(e,"renderingMode")==="legacy"?"legacy":"default";return $.createElement("div",{style:w,className:e.className,ref:C},$.createElement(MH.Provider,{value:R},f&&!f.isDestroyed()?$.createElement(eme,{context:f}):null,i.current?.getPortals()??null))};function rme(e,t){const n={};return Object.keys(t).forEach(i=>{if(GH.has(i)){ime.has(i)&&Se(274,{prop:i});return}const r=t[i];e[i]!==r&&(n[i]=r)}),n}var sme=class extends Ice{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(Nv(n,"reactiveCustomComponents")){const o=(l=>{switch(l){case"filter":return Nv(n,"enableFilterHandlers")?dge:uge;case"floatingFilterComponent":return Nv(n,"enableFilterHandlers")?pge:fge;case"dateComponent":return lge;case"dragAndDropImageComponent":return cge;case"loadingOverlayComponent":return mge;case"noRowsOverlayComponent":return Cge;case"statusPanel":return yge;case"toolPanel":return wge;case"menuItem":return vge;case"cellRenderer":return age;case"innerHeaderComponent":return gge}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":_x();break}const r=!t.cellRenderer&&t.name!=="toolPanel";return new LH(e,this.parent,t,r)}},ome=S.forwardRef((e,t)=>{const n=S.useContext(ki),{registry:i,context:r,gos:s,rowModel:o}=n,[l,u]=S.useState(()=>new es),[d,f]=S.useState(()=>new es),[p,m]=S.useState(),[C,w]=S.useState(),E=S.useRef(),R=S.useRef(null),x=S.useRef(),D=S.useMemo(()=>yte(e.api.getGridId(),p?.rowModelType??"clientSide"),[e]),A=S.useMemo(()=>l.toString()+" ag-details-row",[l]),L=S.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&S.useImperativeHandle(t,()=>({refresh(){return E.current?.refresh()??!1}})),e.template&&Se(230);const V=S.useCallback(_=>{if(R.current=_,!_){E.current=r.destroyBean(E.current),x.current?.();return}const F={toggleCss:(O,B)=>u(U=>U.setClass(O,B)),toggleDetailGridCss:(O,B)=>f(U=>U.setClass(O,B)),setDetailGrid:O=>m(O),setRowData:O=>w(O),getGui:()=>R.current},k=i.createDynamicBean("detailCellRendererCtrl",!0);if(k&&(r.createBean(k),k.init(F,e),E.current=k,s.get("detailRowAutoHeight"))){const O=()=>{if(R.current==null)return;const B=R.current.clientHeight;B!=null&&B>0&&setTimeout(()=>{e.node.setRowHeight(B),(Hn(s)||su(s))&&o.onRowHeightChanged()},0)};x.current=fa(n,_,O),O()}},[]),I=S.useCallback(_=>{E.current?.registerDetailWithMaster(_)},[]);return $.createElement("div",{className:A,ref:V},p&&$.createElement(HH,{className:L,...p,modules:D,rowData:C,passGridApi:I}))}),ame=class extends EG{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:V1,agGroupRowRenderer:V1,agDetailCellRenderer:ome},this.wrapIncoming=(t,n)=>n==="ensureVisible"?tge(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return ege()}},lme=class extends S.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return $.createElement(HH,{...this.props,passGridApi:this.setGridApi})}};const kx=jT(e=>({users:[],setUsers:t=>e({users:t}),addUser:t=>e(n=>({users:[...n.users,t]})),showForm:!1,setShowForm:t=>e({showForm:t})})),cme=()=>N.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:N.jsx(Oc,{animation:"border",size:"sm"})}),ume=()=>{const e=S.useRef(null),{users:t,setUsers:n}=kx(),[i,r]=S.useState(""),[s,o]=S.useState(!0),l=S.useCallback(p=>{p.api.sizeColumnsToFit()},[]),[u]=S.useState([{field:"name",headerName:"Nombre",flex:2,minWidth:150,sortable:!0,filter:!0,cellStyle:{fontWeight:"500"}},{field:"email",headerName:"Correo Electrnico",flex:3,minWidth:200,sortable:!0,filter:!0},{field:"role",headerName:"Rol",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:p=>{const m=p.value,C=m==="TEACHER"?"badge bg-primary":"badge bg-success",w=m==="TEACHER"?"Profesor":"Estudiante";return N.jsx("span",{className:C,children:w})}}]),d={sortable:!0,filter:!0,resizable:!0,cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}},f=S.useCallback(p=>{const m=p.target.value;r(m)},[]);return S.useEffect(()=>{if(o(!0),t.length>0){o(!1);return}b2().then(p=>{if(p.length===0){o(!1);return}n(p),o(!1)})},[n,o,t]),N.jsx(pp,{fluid:!0,className:"p-0",children:N.jsxs(Pi,{className:"shadow-sm border-0",children:[N.jsx(Pi.Header,{className:"bg-white border-bottom",children:N.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[N.jsxs("div",{className:"d-flex align-items-center",children:[N.jsx(Qo,{size:24,className:"text-primary me-2"}),N.jsxs("div",{children:[N.jsx("h5",{className:"mb-0 fw-bold",children:"Gestin de Usuarios"}),N.jsxs("small",{className:"text-muted",children:[t.length," usuario",t.length!==1?"s":""," ","registrado",t.length!==1?"s":""]})]})]}),N.jsx("div",{style:{width:"300px"},children:N.jsxs(vc,{className:"search-input-group",children:[N.jsx(vc.Text,{className:"bg-light border-end-0",children:N.jsx(K0,{size:16,className:"text-muted"})}),N.jsx(Tn.Control,{type:"text",placeholder:"Buscar usuarios...",value:i,onChange:f,className:"border-start-0 ps-2",style:{boxShadow:"none",borderColor:"#dee2e6"}})]})})]})}),N.jsx(Pi.Body,{className:"p-0",children:N.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:N.jsx(lme,{ref:e,rowData:t,columnDefs:u,defaultColDef:d,onGridReady:l,quickFilterText:i,animateRows:!0,rowSelection:"multiple",rowHeight:50,headerHeight:45,suppressCellFocus:!0,suppressRowHoverHighlight:!1,domLayout:"normal",suppressMovableColumns:!0,loading:s,loadingOverlayComponent:cme,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:100}})})})]})})},dme=({onSubmit:e})=>{const{addUser:t,setShowForm:n}=kx(),[i,r]=S.useState(!1),[s,o]=S.useState({id:"",name:"",email:"",role:Kr.STUDENT}),[l,u]=S.useState(!1),d=async p=>{p.preventDefault(),p.currentTarget.checkValidity()===!1?p.stopPropagation():(r(!0),e(s).then(C=>{t(C),u(!0),n(!1),Yt.success("Usuario creado correctamente",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",transition:P2})}).catch(C=>{Yt.error(F2(C),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{r(!1)}))},f=p=>{const{name:m,value:C}=p.target;o({...s,[m]:C})};return N.jsxs(Tn,{noValidate:!0,validated:l,onSubmit:d,className:"p-2",children:[N.jsxs(gp,{className:"g-3",children:[N.jsx(ol,{xs:12,children:N.jsx(Tn.Group,{controlId:"formUserName",children:N.jsxs(vc,{hasValidation:!0,children:[N.jsx(vc.Text,{children:N.jsx(_$,{size:18,className:"text-muted"})}),N.jsxs(oC,{label:"Nombre completo",children:[N.jsx(Tn.Control,{type:"text",name:"name",placeholder:"Nombre completo",value:s.name,onChange:f,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),N.jsx(Tn.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre."})]})]})})}),N.jsx(ol,{xs:12,children:N.jsx(Tn.Group,{controlId:"formUserEmail",children:N.jsxs(vc,{hasValidation:!0,children:[N.jsx(vc.Text,{children:N.jsx(b$,{size:18,className:"text-muted"})}),N.jsxs(oC,{label:"Correo electrnico",children:[N.jsx(Tn.Control,{type:"email",name:"email",placeholder:"Correo electrnico",value:s.email,onChange:f,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),N.jsx(Tn.Control.Feedback,{type:"invalid",children:"Por favor, introduce un correo vlido."})]})]})})})]}),N.jsxs(nC,{variant:"info",className:"mt-4 d-flex align-items-center",children:[N.jsx(g$,{size:24,className:"me-3"}),N.jsxs("div",{children:[N.jsx(nC.Heading,{as:"h6",className:"mb-1 fw-bold",children:"Generacin de Contrasea"}),N.jsx("p",{className:"mb-0 small",children:"La contrasea se crear automticamente con los 3 primeros caracteres del nombre y del correo."})]})]}),N.jsx("div",{className:"d-grid mt-4",children:N.jsx($i,{variant:"primary",type:"submit",size:"lg",disabled:i,children:i?N.jsx(Oc,{animation:"border",size:"sm",className:"me-2"}):N.jsxs(N.Fragment,{children:[N.jsx(A$,{size:16,className:"me-2"}),"Crear Usuario"]})})})]})},hme=()=>{const{showForm:e,setShowForm:t}=kx();return N.jsxs("div",{children:[N.jsxs($i,{variant:"outline-success",onClick:()=>t(!0),className:"mb-3",children:[N.jsx(Ry,{size:16,className:"me-2"}),"Agregar Usuario"]}),N.jsx(ume,{}),e&&N.jsxs(pi,{show:e,onHide:()=>t(!1),children:[N.jsx(pi.Header,{closeButton:!0,children:N.jsx(pi.Title,{children:"Agregar Usuario"})}),N.jsx(pi.Body,{children:N.jsx(dme,{onSubmit:oZ})})]}),N.jsx(I2,{})]})};function Wi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fme=typeof Symbol=="function"&&Symbol.observable||"@@observable",U1=fme,W1=()=>Math.random().toString(36).substring(7).split("").join("."),pme={INIT:`@@redux/INIT${W1()}`,REPLACE:`@@redux/REPLACE${W1()}`},j1=pme;function gme(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function zH(e,t,n){if(typeof e!="function")throw new Error(Wi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wi(1));return n(zH)(e,t)}let i=e,r=t,s=new Map,o=s,l=0,u=!1;function d(){o===s&&(o=new Map,s.forEach((R,x)=>{o.set(x,R)}))}function f(){if(u)throw new Error(Wi(3));return r}function p(R){if(typeof R!="function")throw new Error(Wi(4));if(u)throw new Error(Wi(5));let x=!0;d();const D=l++;return o.set(D,R),function(){if(x){if(u)throw new Error(Wi(6));x=!1,d(),o.delete(D),s=null}}}function m(R){if(!gme(R))throw new Error(Wi(7));if(typeof R.type>"u")throw new Error(Wi(8));if(typeof R.type!="string")throw new Error(Wi(17));if(u)throw new Error(Wi(9));try{u=!0,r=i(r,R)}finally{u=!1}return(s=o).forEach(D=>{D()}),R}function C(R){if(typeof R!="function")throw new Error(Wi(10));i=R,m({type:j1.REPLACE})}function w(){const R=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Wi(11));function D(){const L=x;L.next&&L.next(f())}return D(),{unsubscribe:R(D)}},[U1](){return this}}}return m({type:j1.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:C,[U1]:w}}function $1(e,t){return function(...n){return t(e.apply(this,n))}}function q1(e,t){if(typeof e=="function")return $1(e,t);if(typeof e!="object"||e===null)throw new Error(Wi(16));const n={};for(const i in e){const r=e[i];typeof r=="function"&&(n[i]=$1(r,t))}return n}function UH(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function mme(...e){return t=>(n,i)=>{const r=t(n,i);let s=()=>{throw new Error(Wi(15))};const o={getState:r.getState,dispatch:(u,...d)=>s(u,...d)},l=e.map(u=>u(o));return s=UH(...l)(r.dispatch),{...r,dispatch:s}}}var wE={exports:{}},bE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function vme(){if(K1)return bE;K1=1;var e=ay();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,r=e.useRef,s=e.useEffect,o=e.useMemo,l=e.useDebugValue;return bE.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var C=r(null);if(C.current===null){var w={hasValue:!1,value:null};C.current=w}else w=C.current;C=o(function(){function R(V){if(!x){if(x=!0,D=V,V=p(V),m!==void 0&&w.hasValue){var I=w.value;if(m(I,V))return A=I}return A=V}if(I=A,n(D,V))return I;var _=p(V);return m!==void 0&&m(I,_)?(D=V,I):(D=V,A=_)}var x=!1,D,A,L=f===void 0?null:f;return[function(){return R(d())},L===null?void 0:function(){return R(L())}]},[d,f,p,m]);var E=i(u,C[0],C[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),l(E),E},bE}var Y1;function Cme(){return Y1||(Y1=1,wE.exports=vme()),wE.exports}Cme();var yme=S.version.startsWith("19"),wme=Symbol.for(yme?"react.transitional.element":"react.element"),bme=Symbol.for("react.portal"),Sme=Symbol.for("react.fragment"),Eme=Symbol.for("react.strict_mode"),Rme=Symbol.for("react.profiler"),Tme=Symbol.for("react.consumer"),xme=Symbol.for("react.context"),WH=Symbol.for("react.forward_ref"),Dme=Symbol.for("react.suspense"),Ame=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),Pme=Symbol.for("react.lazy"),Ime=WH,Fme=Ox;function Mme(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case wme:switch(e=e.type,e){case Sme:case Rme:case Eme:case Dme:case Ame:return e;default:switch(e=e&&e.$$typeof,e){case xme:case WH:case Pme:case Ox:return e;case Tme:return e;default:return t}}case bme:return t}}}function _me(e){return Mme(e)===Ox}function kme(e,t,n,i,{areStatesEqual:r,areOwnPropsEqual:s,areStatePropsEqual:o}){let l=!1,u,d,f,p,m;function C(D,A){return u=D,d=A,f=e(u,d),p=t(i,d),m=n(f,p,d),l=!0,m}function w(){return f=e(u,d),t.dependsOnOwnProps&&(p=t(i,d)),m=n(f,p,d),m}function E(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(p=t(i,d)),m=n(f,p,d),m}function R(){const D=e(u,d),A=!o(D,f);return f=D,A&&(m=n(f,p,d)),m}function x(D,A){const L=!s(A,d),V=!r(D,u,A,d);return u=D,d=A,L&&V?w():L?E():V?R():m}return function(A,L){return l?x(A,L):C(A,L)}}function Ome(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:i,...r}){const s=t(e,r),o=n(e,r),l=i(e,r);return kme(s,o,l,e,r)}function Lme(e,t){const n={};for(const i in e){const r=e[i];typeof r=="function"&&(n[i]=(...s)=>t(r(...s)))}return n}function o0(e){return function(n){const i=e(n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function Q1(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function jH(e,t){return function(i,{displayName:r}){const s=function(l,u){return s.dependsOnOwnProps?s.mapToProps(l,u):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,u){s.mapToProps=e,s.dependsOnOwnProps=Q1(e);let d=s(l,u);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=Q1(d),d=s(l,u)),d},s}}function Lx(e,t){return(n,i)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function Nme(e){return e&&typeof e=="object"?o0(t=>Lme(e,t)):e?typeof e=="function"?jH(e):Lx(e,"mapDispatchToProps"):o0(t=>({dispatch:t}))}function Vme(e){return e?typeof e=="function"?jH(e):Lx(e,"mapStateToProps"):o0(()=>({}))}function Bme(e,t,n){return{...n,...e,...t}}function Gme(e){return function(n,{displayName:i,areMergedPropsEqual:r}){let s=!1,o;return function(u,d,f){const p=e(u,d,f);return s?r(p,o)||(o=p):(s=!0,o=p),o}}}function Hme(e){return e?typeof e=="function"?Gme(e):Lx(e,"mergeProps"):()=>Bme}function zme(e){e()}function Ume(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zme(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var X1={notify(){},get:()=>[]};function $H(e,t){let n,i=X1,r=0,s=!1;function o(E){f();const R=i.subscribe(E);let x=!1;return()=>{x||(x=!0,R(),p())}}function l(){i.notify()}function u(){w.onStateChange&&w.onStateChange()}function d(){return s}function f(){r++,n||(n=t?t.addNestedSub(u):e.subscribe(u),i=Ume())}function p(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=X1)}function m(){s||(s=!0,f())}function C(){s&&(s=!1,p())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:C,getListeners:()=>i};return w}var Wme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jme=Wme(),$me=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qme=$me(),Kme=()=>jme||qme?S.useLayoutEffect:S.useEffect,ZC=Kme();function Z1(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function SE(e,t){if(Z1(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Z1(e[n[r]],t[n[r]]))return!1;return!0}var Yme={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Qme={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Xme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Zme={[Ime]:Xme,[Fme]:qH};function J1(e){return _me(e)?qH:Zme[e.$$typeof]||Yme}var Jme=Object.defineProperty,eve=Object.getOwnPropertyNames,ek=Object.getOwnPropertySymbols,tve=Object.getOwnPropertyDescriptor,nve=Object.getPrototypeOf,tk=Object.prototype;function a0(e,t){if(typeof t!="string"){if(tk){const s=nve(t);s&&s!==tk&&a0(e,s)}let n=eve(t);ek&&(n=n.concat(ek(t)));const i=J1(e),r=J1(t);for(let s=0;s<n.length;++s){const o=n[s];if(!Qme[o]&&!(r&&r[o])&&!(i&&i[o])){const l=tve(t,o);try{Jme(e,o,l)}catch{}}}}return e}var ive=Symbol.for("react-redux-context"),rve=typeof globalThis<"u"?globalThis:{};function sve(){if(!S.createContext)return{};const e=rve[ive]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var KH=sve(),ove=[null,null];function ave(e,t,n){ZC(()=>e(...t),n)}function lve(e,t,n,i,r,s){e.current=i,n.current=!1,r.current&&(r.current=null,s())}function cve(e,t,n,i,r,s,o,l,u,d,f){if(!e)return()=>{};let p=!1,m=null;const C=()=>{if(p||!l.current)return;const E=t.getState();let R,x;try{R=i(E,r.current)}catch(D){x=D,m=D}x||(m=null),R===s.current?o.current||d():(s.current=R,u.current=R,o.current=!0,f())};return n.onStateChange=C,n.trySubscribe(),C(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function uve(e,t){return e===t}function dve(e,t,n,{pure:i,areStatesEqual:r=uve,areOwnPropsEqual:s=SE,areStatePropsEqual:o=SE,areMergedPropsEqual:l=SE,forwardRef:u=!1,context:d=KH}={}){const f=d,p=Vme(e),m=Nme(t),C=Hme(n),w=!!e;return R=>{const x=R.displayName||R.name||"Component",D=`Connect(${x})`,A={shouldHandleStateChanges:w,displayName:D,wrappedComponentName:x,WrappedComponent:R,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:C,areStatesEqual:r,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:l};function L(_){const[F,k,O]=S.useMemo(()=>{const{reactReduxForwardedRef:ft,..._t}=_;return[_.context,ft,_t]},[_]),B=S.useMemo(()=>{let ft=f;return F?.Consumer,ft},[F,f]),U=S.useContext(B),G=!!_.store&&!!_.store.getState&&!!_.store.dispatch,de=!!U&&!!U.store,pe=G?_.store:U.store,q=de?U.getServerState:pe.getState,ne=S.useMemo(()=>Ome(pe.dispatch,A),[pe]),[re,ge]=S.useMemo(()=>{if(!w)return ove;const ft=$H(pe,G?void 0:U.subscription),_t=ft.notifyNestedSubs.bind(ft);return[ft,_t]},[pe,G,U]),z=S.useMemo(()=>G?U:{...U,subscription:re},[G,U,re]),Q=S.useRef(void 0),J=S.useRef(O),X=S.useRef(void 0),fe=S.useRef(!1),Re=S.useRef(!1),Ae=S.useRef(void 0);ZC(()=>(Re.current=!0,()=>{Re.current=!1}),[]);const gt=S.useMemo(()=>()=>X.current&&O===J.current?X.current:ne(pe.getState(),O),[pe,O]),Ze=S.useMemo(()=>_t=>re?cve(w,pe,re,ne,J,Q,fe,Re,X,ge,_t):()=>{},[re]);ave(lve,[J,Q,fe,O,X,ge]);let Ke;try{Ke=S.useSyncExternalStore(Ze,gt,q?()=>ne(q(),O):gt)}catch(ft){throw Ae.current&&(ft.message+=`
The error may be correlated with this previous error:
${Ae.current.stack}

`),ft}ZC(()=>{Ae.current=void 0,X.current=void 0,Q.current=Ke});const rt=S.useMemo(()=>S.createElement(R,{...Ke,ref:k}),[k,R,Ke]);return S.useMemo(()=>w?S.createElement(B.Provider,{value:z},rt):rt,[B,rt,z])}const I=S.memo(L);if(I.WrappedComponent=R,I.displayName=L.displayName=D,u){const F=S.forwardRef(function(O,B){return S.createElement(I,{...O,reactReduxForwardedRef:B})});return F.displayName=D,F.WrappedComponent=R,a0(F,R)}return a0(I,R)}}var YH=dve;function hve(e){const{children:t,context:n,serverState:i,store:r}=e,s=S.useMemo(()=>{const u=$H(r);return{store:r,subscription:u,getServerState:i?()=>i:void 0}},[r,i]),o=S.useMemo(()=>r.getState(),[r]);ZC(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const l=n||KH;return S.createElement(l.Provider,{value:s},t)}var fve=hve,pve="Invariant failed";function gve(e,t){throw new Error(pve)}var Cs=function(t){var n=t.top,i=t.right,r=t.bottom,s=t.left,o=i-s,l=r-n,u={top:n,right:i,bottom:r,left:s,width:o,height:l,x:s,y:n,center:{x:(i+s)/2,y:(r+n)/2}};return u},Nx=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},nk=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},mve=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},EE={top:0,right:0,bottom:0,left:0},Vx=function(t){var n=t.borderBox,i=t.margin,r=i===void 0?EE:i,s=t.border,o=s===void 0?EE:s,l=t.padding,u=l===void 0?EE:l,d=Cs(Nx(n,r)),f=Cs(nk(n,o)),p=Cs(nk(f,u));return{marginBox:d,borderBox:Cs(n),paddingBox:f,contentBox:p,margin:r,border:o,padding:u}},Wr=function(t){var n=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var r=Number(n);return isNaN(r)&&gve(),r},vve=function(){return{x:window.pageXOffset,y:window.pageYOffset}},JC=function(t,n){var i=t.borderBox,r=t.border,s=t.margin,o=t.padding,l=mve(i,n);return Vx({borderBox:l,border:r,margin:s,padding:o})},ey=function(t,n){return n===void 0&&(n=vve()),JC(t,n)},QH=function(t,n){var i={top:Wr(n.marginTop),right:Wr(n.marginRight),bottom:Wr(n.marginBottom),left:Wr(n.marginLeft)},r={top:Wr(n.paddingTop),right:Wr(n.paddingRight),bottom:Wr(n.paddingBottom),left:Wr(n.paddingLeft)},s={top:Wr(n.borderTopWidth),right:Wr(n.borderRightWidth),bottom:Wr(n.borderBottomWidth),left:Wr(n.borderLeftWidth)};return Vx({borderBox:t,margin:i,padding:r,border:s})},XH=function(t){var n=t.getBoundingClientRect(),i=window.getComputedStyle(t);return QH(n,i)},Gp=function(t){var n=[],i=null,r=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,n)}))};return r.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},r};function ZH(e,t){}ZH.bind(null,"warn");ZH.bind(null,"error");function pl(){}function Cve(e,t){return{...e,...t}}function ts(e,t,n){const i=t.map(r=>{const s=Cve(n,r.options);return e.addEventListener(r.eventName,r.fn,s),function(){e.removeEventListener(r.eventName,r.fn,s)}});return function(){i.forEach(s=>{s()})}}const yve="Invariant failed";class ty extends Error{}ty.prototype.toString=function(){return this.message};function De(e,t){throw new ty(yve)}class wve extends $.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=pl,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof ty&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ts(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof ty){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const bve=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ny=e=>e+1,Sve=e=>`
  You have lifted an item in position ${ny(e.source.index)}
`,JH=(e,t)=>{const n=e.droppableId===t.droppableId,i=ny(e.index),r=ny(t.index);return n?`
      You have moved the item from position ${i}
      to position ${r}
    `:`
    You have moved the item from position ${i}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${r}
  `},ez=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Eve=e=>{const t=e.destination;if(t)return JH(e.source,t);const n=e.combine;return n?ez(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},ik=e=>`
  The item has returned to its starting position
  of ${ny(e.index)}
`,Rve=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ik(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${JH(e.source,t)}
    `:n?`
      You have dropped the item.
      ${ez(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ik(e.source)}
  `},qv={dragHandleUsageInstructions:bve,onDragStart:Sve,onDragUpdate:Eve,onDragEnd:Rve};function Tve(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function tz(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Tve(e[n],t[n]))return!1;return!0}function Bt(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],i=S.useRef(!0),r=S.useRef(n),o=i.current||!!(t&&r.current.inputs&&tz(t,r.current.inputs))?r.current:{inputs:t,result:e()};return S.useEffect(()=>{i.current=!1,r.current=o},[o]),o.result}function $e(e,t){return Bt(()=>e,t)}const ai={x:0,y:0},yi=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Sr=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),gl=(e,t)=>e.x===t.x&&e.y===t.y,fh=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Xc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Hp=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),rk=(e,t)=>Math.min(...t.map(n=>Hp(e,n))),nz=e=>t=>({x:e(t.x),y:e(t.y)});var xve=(e,t)=>{const n=Cs({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Rg=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),sk=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Dve={top:0,right:0,bottom:0,left:0},Ave=(e,t)=>t?Rg(e,t.scroll.diff.displacement):e,Pve=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Ive=(e,t)=>t&&t.shouldClipSubject?xve(t.pageMarginBox,e):Cs(e);var jd=({page:e,withPlaceholder:t,axis:n,frame:i})=>{const r=Ave(e.marginBox,i),s=Pve(r,n,t),o=Ive(s,i);return{page:e,withPlaceholder:t,active:o}},Bx=(e,t)=>{e.frame||De();const n=e.frame,i=Sr(t,n.scroll.initial),r=fh(i),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:i,displacement:r},max:n.scroll.max}},o=jd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function si(e,t=tz){let n=null;function i(...r){if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;const s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=function(){n=null},i}const iz=si(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),rz=si(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),ow=si(e=>Object.values(e)),Fve=si(e=>Object.values(e));var ph=si((e,t)=>Fve(t).filter(i=>e===i.descriptor.droppableId).sort((i,r)=>i.descriptor.index-r.descriptor.index));function Gx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function aw(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var lw=si((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Mve=({isMovingForward:e,draggable:t,destination:n,insideDestination:i,previousImpact:r})=>{if(!n.isCombineEnabled||!Gx(r))return null;function o(C){const w={type:"COMBINE",combine:{draggableId:C,droppableId:n.descriptor.id}};return{...r,at:w}}const l=r.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=lw(t,i);if(!u){if(!d.length)return null;const C=d[d.length-1];return o(C.descriptor.id)}const f=d.findIndex(C=>C.descriptor.id===u);f===-1&&De();const p=f-1;if(p<0)return null;const m=d[p];return o(m.descriptor.id)},gh=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const sz={point:ai,value:0},zp={invisible:{},visible:{},all:[]},_ve={displaced:zp,displacedBy:sz,at:null};var is=(e,t)=>n=>e<=n&&n<=t,oz=e=>{const t=is(e.top,e.bottom),n=is(e.left,e.right);return i=>{if(t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right))return!0;const s=t(i.top)||t(i.bottom),o=n(i.left)||n(i.right);if(s&&o)return!0;const u=i.top<e.top&&i.bottom>e.bottom,d=i.left<e.left&&i.right>e.right;return u&&d?!0:u&&o||d&&s}},kve=e=>{const t=is(e.top,e.bottom),n=is(e.left,e.right);return i=>t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right)};const Hx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},az={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ove=e=>t=>{const n=is(t.top,t.bottom),i=is(t.left,t.right);return r=>e===Hx?n(r.top)&&n(r.bottom):i(r.left)&&i(r.right)};const Lve=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:ai;return Rg(e,n)},Nve=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Vve=(e,t,n)=>n(t)(e),zx=({target:e,destination:t,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:r})=>{const s=i?Lve(e,t):e;return Nve(s,t,r)&&Vve(s,n,r)},Bve=e=>zx({...e,isVisibleThroughFrameFn:oz}),lz=e=>zx({...e,isVisibleThroughFrameFn:kve}),Gve=e=>zx({...e,isVisibleThroughFrameFn:Ove(e.destination.axis)}),Hve=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:i,visible:r}=t;if(i[e])return!1;const s=r[e];return s?s.shouldAnimate:!0};function zve(e,t){const n=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return Cs(Nx(n,i))}function Up({afterDragging:e,destination:t,displacedBy:n,viewport:i,forceShouldAnimate:r,last:s}){return e.reduce(function(l,u){const d=zve(u,n),f=u.descriptor.id;if(l.all.push(f),!Bve({target:d,destination:t,viewport:i,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const m=Hve(f,s,r),C={draggableId:f,shouldAnimate:m};return l.visible[f]=C,l},{all:[],visible:{},invisible:{}})}function Uve(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function ok({insideDestination:e,inHomeList:t,displacedBy:n,destination:i}){const r=Uve(e,{inHomeList:t});return{displaced:zp,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:r}}}}function iy({draggable:e,insideDestination:t,destination:n,viewport:i,displacedBy:r,last:s,index:o,forceShouldAnimate:l}){const u=gh(e,n);if(o==null)return ok({insideDestination:t,inHomeList:u,displacedBy:r,destination:n});const d=t.find(w=>w.descriptor.index===o);if(!d)return ok({insideDestination:t,inHomeList:u,displacedBy:r,destination:n});const f=lw(e,t),p=t.indexOf(d),m=f.slice(p);return{displaced:Up({afterDragging:m,destination:n,displacedBy:r,last:s,viewport:i.frame,forceShouldAnimate:l}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Dl(e,t){return!!t.effected[e]}var Wve=({isMovingForward:e,destination:t,draggables:n,combine:i,afterCritical:r})=>{if(!t.isCombineEnabled)return null;const s=i.draggableId,l=n[s].descriptor.index;return Dl(s,r)?e?l:l-1:e?l+1:l},jve=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:i})=>{if(!n.length)return null;const r=i.index,s=e?r+1:r-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return s<o||s>u?null:s},$ve=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:i,destination:r,insideDestination:s,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||De(),d.type==="REORDER"){const p=jve({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:s});return p==null?null:iy({draggable:n,insideDestination:s,destination:r,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const f=Wve({isMovingForward:e,destination:r,displaced:o.displaced,draggables:i,combine:d.combine,afterCritical:u});return f==null?null:iy({draggable:n,insideDestination:s,destination:r,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})},qve=({displaced:e,afterCritical:t,combineWith:n,displacedBy:i})=>{const r=!!(e.visible[n]||e.invisible[n]);return Dl(n,t)?r?ai:fh(i.point):r?i.point:ai},Kve=({afterCritical:e,impact:t,draggables:n})=>{const i=aw(t);i||De();const r=i.draggableId,s=n[r].page.borderBox.center,o=qve({displaced:t.displaced,afterCritical:e,combineWith:r,displacedBy:t.displacedBy});return yi(s,o)};const cz=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Yve=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Ux=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,ak=({axis:e,moveRelativeTo:t,isMoving:n})=>Xc(e.line,t.marginBox[e.end]+cz(e,n),Ux(e,t.marginBox,n)),lk=({axis:e,moveRelativeTo:t,isMoving:n})=>Xc(e.line,t.marginBox[e.start]-Yve(e,n),Ux(e,t.marginBox,n)),Qve=({axis:e,moveInto:t,isMoving:n})=>Xc(e.line,t.contentBox[e.start]+cz(e,n),Ux(e,t.contentBox,n));var Xve=({impact:e,draggable:t,draggables:n,droppable:i,afterCritical:r})=>{const s=ph(i.descriptor.id,n),o=t.page,l=i.axis;if(!s.length)return Qve({axis:l,moveInto:i.page,isMoving:o});const{displaced:u,displacedBy:d}=e,f=u.all[0];if(f){const m=n[f];if(Dl(f,r))return lk({axis:l,moveRelativeTo:m.page,isMoving:o});const C=JC(m.page,d.point);return lk({axis:l,moveRelativeTo:C,isMoving:o})}const p=s[s.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Dl(p.descriptor.id,r)){const m=JC(p.page,fh(r.displacedBy.point));return ak({axis:l,moveRelativeTo:m,isMoving:o})}return ak({axis:l,moveRelativeTo:p.page,isMoving:o})},l0=(e,t)=>{const n=e.frame;return n?yi(t,n.scroll.diff.displacement):t};const Zve=({impact:e,draggable:t,droppable:n,draggables:i,afterCritical:r})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?Xve({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:r}):Kve({impact:e,draggables:i,afterCritical:r})};var cw=e=>{const t=Zve(e),n=e.droppable;return n?l0(n,t):t},uz=(e,t)=>{const n=Sr(t,e.scroll.initial),i=fh(n);return{frame:Cs({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:i}}}};function ck(e,t){return e.map(n=>t[n])}function Jve(e,t){for(let n=0;n<t.length;n++){const i=t[n].visible[e];if(i)return i}return null}var eCe=({impact:e,viewport:t,destination:n,draggables:i,maxScrollChange:r})=>{const s=uz(t,yi(t.scroll.current,r)),o=n.frame?Bx(n,yi(n.frame.scroll.current,r)):n,l=e.displaced,u=Up({afterDragging:ck(l.all,i),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=Up({afterDragging:ck(l.all,i),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},p={},m=[l,u,d];return l.all.forEach(w=>{const E=Jve(w,m);if(E){p[w]=E;return}f[w]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:p}}},tCe=(e,t)=>yi(e.scroll.diff.displacement,t),Wx=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const i=tCe(n,e),r=Sr(i,t.page.borderBox.center);return yi(t.client.borderBox.center,r)},dz=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:r,onlyOnMainAxis:s=!1})=>{const o=Sr(n,e.page.borderBox.center),u={target:Rg(e.page.borderBox,o),destination:t,withDroppableDisplacement:r,viewport:i};return s?Gve(u):lz(u)},nCe=({isMovingForward:e,draggable:t,destination:n,draggables:i,previousImpact:r,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=ph(n.descriptor.id,i),f=gh(t,n),p=Mve({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:r})||$ve({isMovingForward:e,isInHomeList:f,draggable:t,draggables:i,destination:n,insideDestination:d,previousImpact:r,viewport:s,afterCritical:u});if(!p)return null;const m=cw({impact:p,draggable:t,droppable:n,draggables:i,afterCritical:u});if(dz({draggable:t,destination:n,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Wx({pageBorderBoxCenter:m,draggable:t,viewport:s}),impact:p,scrollJumpRequest:null};const w=Sr(m,o),E=eCe({impact:p,viewport:s,destination:n,draggables:i,maxScrollChange:w});return{clientSelection:l,impact:E,scrollJumpRequest:w}};const Ui=e=>{const t=e.subject.active;return t||De(),t};var iCe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:r})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,l=is(s[o.start],s[o.end]),u=ow(i).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>oz(r.frame)(Ui(f))).filter(f=>{const p=Ui(f);return e?s[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<s[o.crossAxisStart]}).filter(f=>{const p=Ui(f),m=is(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||m(s[o.start])||m(s[o.end])}).sort((f,p)=>{const m=Ui(f)[o.crossAxisStart],C=Ui(p)[o.crossAxisStart];return e?m-C:C-m}).filter((f,p,m)=>Ui(f)[o.crossAxisStart]===Ui(m[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(f=>is(Ui(f)[o.start],Ui(f)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((f,p)=>Ui(f)[o.start]-Ui(p)[o.start])[0]:u.sort((f,p)=>{const m=rk(t,sk(Ui(f))),C=rk(t,sk(Ui(p)));return m!==C?m-C:Ui(f)[o.start]-Ui(p)[o.start]})[0]};const uk=(e,t)=>{const n=e.page.borderBox.center;return Dl(e.descriptor.id,t)?Sr(n,t.displacedBy.point):n},rCe=(e,t)=>{const n=e.page.borderBox;return Dl(e.descriptor.id,t)?Rg(n,fh(t.displacedBy.point)):n};var sCe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:i,afterCritical:r})=>i.filter(o=>lz({target:rCe(o,r),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Hp(e,l0(n,uk(o,r))),d=Hp(e,l0(n,uk(l,r)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,Tg=si(function(t,n){const i=n[t.line];return{value:i,point:Xc(t.line,i)}});const oCe=(e,t,n)=>{const i=e.axis;if(e.descriptor.mode==="virtual")return Xc(i.line,t[i.line]);const r=e.subject.page.contentBox[i.size],u=ph(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[i.size],0)+t[i.line]-r;return u<=0?null:Xc(i.line,u)},hz=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),fz=(e,t,n)=>{const i=e.frame;gh(t,e)&&De(),e.subject.withPlaceholder&&De();const r=Tg(e.axis,t.displaceBy).point,s=oCe(e,r,n),o={placeholderSize:r,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){const f=jd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=s?yi(i.scroll.max,s):i.scroll.max,u=hz(i,l),d=jd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},aCe=e=>{const t=e.subject.withPlaceholder;t||De();const n=e.frame;if(!n){const o=jd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const i=t.oldFrameMaxScroll;i||De();const r=hz(n,i),s=jd({page:e.subject.page,axis:e.axis,frame:r,withPlaceholder:null});return{...e,subject:s,frame:r}};var lCe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:i,draggables:r,destination:s,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:zp,displacedBy:sz,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},m=cw({impact:p,draggable:i,droppable:s,draggables:r,afterCritical:l}),C=gh(i,s)?s:fz(s,i,r);return dz({draggable:i,destination:C,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===i.descriptor.id||u?p:p+1})(),f=Tg(s.axis,i.displaceBy);return iy({draggable:i,insideDestination:n,destination:s,viewport:o,displacedBy:f,last:zp,index:d})},cCe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:i,draggables:r,droppables:s,viewport:o,afterCritical:l})=>{const u=iCe({isMovingForward:e,pageBorderBoxCenter:t,source:i,droppables:s,viewport:o});if(!u)return null;const d=ph(u.descriptor.id,r),f=sCe({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=lCe({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:r,moveRelativeTo:f,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const m=cw({impact:p,draggable:n,droppable:u,draggables:r,afterCritical:l});return{clientSelection:Wx({pageBorderBoxCenter:m,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Tr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const uCe=(e,t)=>{const n=Tr(e);return n?t[n]:null};var dCe=({state:e,type:t})=>{const n=uCe(e.impact,e.dimensions.droppables),i=!!n,r=e.dimensions.droppables[e.critical.droppable.id],s=n||r,o=s.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!i)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:p,droppables:m}=e.dimensions;return l?nCe({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:s,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):cCe({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:s,draggables:p,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function fc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function pz(e){const t=is(e.top,e.bottom),n=is(e.left,e.right);return function(r){return t(r.y)&&n(r.x)}}function hCe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function fCe({pageBorderBox:e,draggable:t,candidates:n}){const i=t.page.borderBox.center,r=n.map(s=>{const o=s.axis,l=Xc(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Hp(i,l)}}).sort((s,o)=>o.distance-s.distance);return r[0]?r[0].id:null}function pCe({pageBorderBox:e,draggable:t,droppables:n}){const i=ow(n).filter(r=>{if(!r.isEnabled)return!1;const s=r.subject.active;if(!s||!hCe(e,s))return!1;if(pz(s)(e.center))return!0;const o=r.axis,l=s.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],f=is(s[o.crossAxisStart],s[o.crossAxisEnd]),p=f(u),m=f(d);return!p&&!m?!0:p?u<l:d>l});return i.length?i.length===1?i[0].descriptor.id:fCe({pageBorderBox:e,draggable:t,candidates:i}):null}const gz=(e,t)=>Cs(Rg(e,t));var gCe=(e,t)=>{const n=e.frame;return n?gz(t,n.scroll.diff.value):t};function mz({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function mCe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var vCe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:i,last:r,viewport:s,afterCritical:o})=>{const l=n.axis,u=Tg(n.axis,t.displaceBy),d=u.value,f=e[l.start],p=e[l.end],C=lw(t,i).find(E=>{const R=E.descriptor.id,x=E.page.borderBox.center[l.line],D=Dl(R,o),A=mz({displaced:r,id:R});return D?A?p<=x:f<x-d:A?p<=x+d:f<x})||null,w=mCe({draggable:t,closest:C,inHomeList:gh(t,n)});return iy({draggable:t,insideDestination:i,destination:n,viewport:s,last:r,displacedBy:u,index:w})};const CCe=4;var yCe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:i,insideDestination:r,afterCritical:s})=>{if(!i.isCombineEnabled)return null;const o=i.axis,l=Tg(i.axis,e.displaceBy),u=l.value,d=t[o.start],f=t[o.end],m=lw(e,r).find(w=>{const E=w.descriptor.id,R=w.page.borderBox,D=R[o.size]/CCe,A=Dl(E,s),L=mz({displaced:n.displaced,id:E});return A?L?f>R[o.start]+D&&f<R[o.end]-D:d>R[o.start]-u+D&&d<R[o.end]-u-D:L?f>R[o.start]+u+D&&f<R[o.end]+u-D:d>R[o.start]+D&&d<R[o.end]-D});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}}:null},vz=({pageOffset:e,draggable:t,draggables:n,droppables:i,previousImpact:r,viewport:s,afterCritical:o})=>{const l=gz(t.page.borderBox,e),u=pCe({pageBorderBox:l,draggable:t,droppables:i});if(!u)return _ve;const d=i[u],f=ph(d.descriptor.id,n),p=gCe(d,l);return yCe({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:r,destination:d,insideDestination:f,afterCritical:o})||vCe({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:f,last:r.displaced,viewport:s,afterCritical:o})},jx=(e,t)=>({...e,[t.descriptor.id]:t});const wCe=({previousImpact:e,impact:t,droppables:n})=>{const i=Tr(e),r=Tr(t);if(!i||i===r)return n;const s=n[i];if(!s.subject.withPlaceholder)return n;const o=aCe(s);return jx(n,o)};var bCe=({draggable:e,draggables:t,droppables:n,previousImpact:i,impact:r})=>{const s=wCe({previousImpact:i,impact:r,droppables:n}),o=Tr(r);if(!o)return s;const l=n[o];if(gh(e,l)||l.subject.withPlaceholder)return s;const u=fz(l,e,t);return jx(s,u)},np=({state:e,clientSelection:t,dimensions:n,viewport:i,impact:r,scrollJumpRequest:s})=>{const o=i||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Sr(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:yi(e.initial.client.borderBoxCenter,d)},p={selection:yi(f.selection,o.scroll.current),borderBoxCenter:yi(f.borderBoxCenter,o.scroll.current),offset:yi(f.offset,o.scroll.diff.value)},m={client:f,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const C=l.draggables[e.critical.draggable.id],w=r||vz({pageOffset:p.offset,draggable:C,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),E=bCe({draggable:C,impact:w,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:E},impact:w,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function SCe(e,t){return e.map(n=>t[n])}var Cz=({impact:e,viewport:t,draggables:n,destination:i,forceShouldAnimate:r})=>{const s=e.displaced,o=SCe(s.all,n),l=Up({afterDragging:o,destination:i,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:r,last:s});return{...e,displaced:l}},yz=({impact:e,draggable:t,droppable:n,draggables:i,viewport:r,afterCritical:s})=>{const o=cw({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:s});return Wx({pageBorderBoxCenter:o,draggable:t,viewport:r})},wz=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&De();const i=e.impact,r=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:l}=s,u=o[e.critical.draggable.id],d=Tr(i);d||De();const f=l[d],p=Cz({impact:i,viewport:r,destination:f,draggables:o}),m=yz({impact:p,draggable:u,droppable:f,draggables:o,viewport:r,afterCritical:e.afterCritical});return np({impact:p,clientSelection:m,state:e,dimensions:s,viewport:r})},ECe=e=>({index:e.index,droppableId:e.droppableId}),bz=({draggable:e,home:t,draggables:n,viewport:i})=>{const r=Tg(t.axis,e.displaceBy),s=ph(t.descriptor.id,n),o=s.indexOf(e);o===-1&&De();const l=s.slice(o+1),u=l.reduce((m,C)=>(m[C.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:r,effected:u};return{impact:{displaced:Up({afterDragging:l,destination:t,displacedBy:r,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:ECe(e.descriptor)}},afterCritical:d}},RCe=(e,t)=>({draggables:e.draggables,droppables:jx(e.droppables,t)}),TCe=({draggable:e,offset:t,initialWindowScroll:n})=>{const i=JC(e.client,t),r=ey(i,n);return{...e,placeholder:{...e.placeholder,client:i},client:i,page:r}},xCe=e=>{const t=e.frame;return t||De(),t},DCe=({additions:e,updatedDroppables:t,viewport:n})=>{const i=n.scroll.diff.value;return e.map(r=>{const s=r.descriptor.droppableId,o=t[s],u=xCe(o).scroll.diff.value,d=yi(i,u);return TCe({draggable:r,offset:d,initialWindowScroll:n.scroll.initial})})},ACe=({state:e,published:t})=>{const n=t.modified.map(x=>{const D=e.dimensions.droppables[x.droppableId];return Bx(D,x.scroll)}),i={...e.dimensions.droppables,...iz(n)},r=rz(DCe({additions:t.additions,updatedDroppables:i,viewport:e.viewport})),s={...e.dimensions.draggables,...r};t.removals.forEach(x=>{delete s[x]});const o={droppables:i,draggables:s},l=Tr(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],f=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:m}=bz({draggable:d,home:f,draggables:s,viewport:e.viewport}),C=u&&u.isCombineEnabled?e.impact:p,w=vz({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:C,viewport:e.viewport,afterCritical:m}),E={...e,phase:"DRAGGING",impact:w,onLiftImpact:p,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?E:{...E,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const c0=e=>e.movementMode==="SNAP",RE=(e,t,n)=>{const i=RCe(e.dimensions,t);return!c0(e)||n?np({state:e,dimensions:i}):wz({state:e,dimensions:i})};function TE(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const dk={phase:"IDLE",completed:null,shouldFlush:!1};var PCe=(e=dk,t)=>{if(t.type==="FLUSH")return{...dk,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&De();const{critical:n,clientSelection:i,viewport:r,dimensions:s,movementMode:o}=t.payload,l=s.draggables[n.draggable.id],u=s.droppables[n.droppable.id],d={selection:i,borderBoxCenter:l.client.borderBox.center,offset:ai},f={client:d,page:{selection:yi(d.selection,r.scroll.initial),borderBoxCenter:yi(d.selection,r.scroll.initial),offset:yi(d.selection,r.scroll.diff.value)}},p=ow(s.droppables).every(E=>!E.isFixedOnPage),{impact:m,afterCritical:C}=bz({draggable:l,home:u,draggables:s.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:C,onLiftImpact:m,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&De(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||De(),ACe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;fc(e)||De();const{client:n}=t.payload;return gl(n,e.current.client.selection)?e:np({state:e,clientSelection:n,impact:c0(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return TE(e);fc(e)||De();const{id:n,newScroll:i}=t.payload,r=e.dimensions.droppables[n];if(!r)return e;const s=Bx(r,i);return RE(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;fc(e)||De();const{id:n,isEnabled:i}=t.payload,r=e.dimensions.droppables[n];r||De(),r.isEnabled===i&&De();const s={...r,isEnabled:i};return RE(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;fc(e)||De();const{id:n,isCombineEnabled:i}=t.payload,r=e.dimensions.droppables[n];r||De(),r.isCombineEnabled===i&&De();const s={...r,isCombineEnabled:i};return RE(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;fc(e)||De(),e.isWindowScrollAllowed||De();const n=t.payload.newScroll;if(gl(e.viewport.scroll.current,n))return TE(e);const i=uz(e.viewport,n);return c0(e)?wz({state:e,viewport:i}):np({state:e,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fc(e))return e;const n=t.payload.maxScroll;if(gl(n,e.viewport.scroll.max))return e;const i={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&De();const n=dCe({state:e,type:t.type});return n?np({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&De(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:r}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||De(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:r,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Zt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const ICe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),FCe=e=>({type:"LIFT",payload:e}),MCe=e=>({type:"INITIAL_PUBLISH",payload:e}),_Ce=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),kCe=()=>({type:"COLLECTION_STARTING",payload:null}),OCe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),LCe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),NCe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Sz=e=>({type:"MOVE",payload:e}),VCe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),BCe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),GCe=()=>({type:"MOVE_UP",payload:null}),HCe=()=>({type:"MOVE_DOWN",payload:null}),zCe=()=>({type:"MOVE_RIGHT",payload:null}),UCe=()=>({type:"MOVE_LEFT",payload:null}),$x=()=>({type:"FLUSH",payload:null}),WCe=e=>({type:"DROP_ANIMATE",payload:e}),qx=e=>({type:"DROP_COMPLETE",payload:e}),Ez=e=>({type:"DROP",payload:e}),jCe=e=>({type:"DROP_PENDING",payload:e}),Rz=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var $Ce=e=>({getState:t,dispatch:n})=>i=>r=>{if(!Zt(r,"LIFT")){i(r);return}const{id:s,clientSelection:o,movementMode:l}=r.payload,u=t();u.phase==="DROP_ANIMATING"&&n(qx({completed:u.completed})),t().phase!=="IDLE"&&De(),n($x()),n(ICe({draggableId:s,movementMode:l}));const f={draggableId:s,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:m,viewport:C}=e.startPublishing(f);n(MCe({critical:p,dimensions:m,clientSelection:o,movementMode:l,viewport:C}))},qCe=e=>()=>t=>n=>{Zt(n,"INITIAL_PUBLISH")&&e.dragging(),Zt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Zt(n,"FLUSH")||Zt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Kx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Wp={opacity:{drop:0,combining:.7},scale:{drop:.75}},Tz={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},lc=`${Tz.outOfTheWay}s ${Kx.outOfTheWay}`,ip={fluid:`opacity ${lc}`,snap:`transform ${lc}, opacity ${lc}`,drop:e=>{const t=`${e}s ${Kx.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${lc}`,placeholder:`height ${lc}, width ${lc}, margin ${lc}`},hk=e=>gl(e,ai)?void 0:`translate(${e.x}px, ${e.y}px)`,u0={moveTo:hk,drop:(e,t)=>{const n=hk(e);if(n)return t?`${n} scale(${Wp.scale.drop})`:n}},{minDropTime:d0,maxDropTime:xz}=Tz,KCe=xz-d0,fk=1500,YCe=.6;var QCe=({current:e,destination:t,reason:n})=>{const i=Hp(e,t);if(i<=0)return d0;if(i>=fk)return xz;const r=i/fk,s=d0+KCe*r,o=n==="CANCEL"?s*YCe:s;return Number(o.toFixed(2))},XCe=({impact:e,draggable:t,dimensions:n,viewport:i,afterCritical:r})=>{const{draggables:s,droppables:o}=n,l=Tr(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],f=yz({impact:e,draggable:t,draggables:s,afterCritical:r,droppable:u||d,viewport:i});return Sr(f,t.client.borderBox.center)},ZCe=({draggables:e,reason:t,lastImpact:n,home:i,viewport:r,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:Cz({draggables:e,impact:s,destination:i,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:zp},didDropInsideDroppable:!0};const JCe=({getState:e,dispatch:t})=>n=>i=>{if(!Zt(i,"DROP")){n(i);return}const r=e(),s=i.payload.reason;if(r.phase==="COLLECTING"){t(jCe({reason:s}));return}if(r.phase==="IDLE")return;r.phase==="DROP_PENDING"&&r.isWaiting&&De(),r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||De();const l=r.critical,u=r.dimensions,d=u.draggables[r.critical.draggable.id],{impact:f,didDropInsideDroppable:p}=ZCe({reason:s,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),m=p?Gx(f):null,C=p?aw(f):null,w={index:l.draggable.index,droppableId:l.droppable.id},E={draggableId:d.descriptor.id,type:d.descriptor.type,source:w,reason:s,mode:r.movementMode,destination:m,combine:C},R=XCe({impact:f,draggable:d,dimensions:u,viewport:r.viewport,afterCritical:r.afterCritical}),x={critical:r.critical,afterCritical:r.afterCritical,result:E,impact:f};if(!(!gl(r.current.client.offset,R)||!!E.combine)){t(qx({completed:x}));return}const A=QCe({current:r.current.client.offset,destination:R,reason:s});t(WCe({newHomeClientOffset:R,dropDuration:A,completed:x}))};var Dz=()=>({x:window.pageXOffset,y:window.pageYOffset});function eye(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function tye({onWindowScroll:e}){function t(){e(Dz())}const n=Gp(t),i=eye(n);let r=pl;function s(){return r!==pl}function o(){s()&&De(),r=ts(window,[i])}function l(){s()||De(),n.cancel(),r(),r=pl}return{start:o,stop:l,isActive:s}}const nye=e=>Zt(e,"DROP_COMPLETE")||Zt(e,"DROP_ANIMATE")||Zt(e,"FLUSH"),iye=e=>{const t=tye({onWindowScroll:n=>{e.dispatch(VCe({newScroll:n}))}});return n=>i=>{!t.isActive()&&Zt(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&nye(i)&&t.stop(),n(i)}};var rye=e=>{let t=!1,n=!1;const i=setTimeout(()=>{n=!0}),r=s=>{t||n||(t=!0,e(s),clearTimeout(i))};return r.wasCalled=()=>t,r},sye=()=>{const e=[],t=r=>{const s=e.findIndex(l=>l.timerId===r);s===-1&&De();const[o]=e.splice(s,1);o.callback()};return{add:r=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:r};e.push(o)},flush:()=>{if(!e.length)return;const r=[...e];e.length=0,r.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const oye=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,aye=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,lye=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&i},xf=(e,t)=>{t()},hv=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function xE(e,t,n,i){if(!e){n(i(t));return}const r=rye(n);e(t,{announce:r}),r.wasCalled()||n(i(t))}var cye=(e,t)=>{const n=sye();let i=null;const r=(p,m)=>{i&&De(),xf("onBeforeCapture",()=>{const C=e().onBeforeCapture;C&&C({draggableId:p,mode:m})})},s=(p,m)=>{i&&De(),xf("onBeforeDragStart",()=>{const C=e().onBeforeDragStart;C&&C(hv(p,m))})},o=(p,m)=>{i&&De();const C=hv(p,m);i={mode:m,lastCritical:p,lastLocation:C.source,lastCombine:null},n.add(()=>{xf("onDragStart",()=>xE(e().onDragStart,C,t,qv.onDragStart))})},l=(p,m)=>{const C=Gx(m),w=aw(m);i||De();const E=!lye(p,i.lastCritical);E&&(i.lastCritical=p);const R=!oye(i.lastLocation,C);R&&(i.lastLocation=C);const x=!aye(i.lastCombine,w);if(x&&(i.lastCombine=w),!E&&!R&&!x)return;const D={...hv(p,i.mode),combine:w,destination:C};n.add(()=>{xf("onDragUpdate",()=>xE(e().onDragUpdate,D,t,qv.onDragUpdate))})},u=()=>{i||De(),n.flush()},d=p=>{i||De(),i=null,xf("onDragEnd",()=>xE(e().onDragEnd,p,t,qv.onDragEnd))};return{beforeCapture:r,beforeStart:s,start:o,update:l,flush:u,drop:d,abort:()=>{if(!i)return;const p={...hv(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},uye=(e,t)=>{const n=cye(e,t);return i=>r=>s=>{if(Zt(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Zt(s,"INITIAL_PUBLISH")){const l=s.payload.critical;n.beforeStart(l,s.payload.movementMode),r(s),n.start(l,s.payload.movementMode);return}if(Zt(s,"DROP_COMPLETE")){const l=s.payload.completed.result;n.flush(),r(s),n.drop(l);return}if(r(s),Zt(s,"FLUSH")){n.abort();return}const o=i.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const dye=e=>t=>n=>{if(!Zt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const i=e.getState();i.phase!=="DROP_ANIMATING"&&De(),e.dispatch(qx({completed:i.completed}))},hye=e=>{let t=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return r=>s=>{if((Zt(s,"FLUSH")||Zt(s,"DROP_COMPLETE")||Zt(s,"DROP_ANIMATION_FINISHED"))&&i(),r(s),!Zt(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Rz())}};n=requestAnimationFrame(()=>{n=null,t=ts(window,[o])})}};var fye=e=>()=>t=>n=>{(Zt(n,"DROP_COMPLETE")||Zt(n,"FLUSH")||Zt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},pye=e=>{let t=!1;return()=>n=>i=>{if(Zt(i,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),n(i),e.tryRestoreFocusRecorded();return}if(n(i),!!t){if(Zt(i,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Zt(i,"DROP_COMPLETE")){t=!1;const r=i.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const gye=e=>Zt(e,"DROP_COMPLETE")||Zt(e,"DROP_ANIMATE")||Zt(e,"FLUSH");var mye=e=>t=>n=>i=>{if(gye(i)){e.stop(),n(i);return}if(Zt(i,"INITIAL_PUBLISH")){n(i);const r=t.getState();r.phase!=="DRAGGING"&&De(),e.start(r);return}n(i),e.scroll(t.getState())};const vye=e=>t=>n=>{if(t(n),!Zt(n,"PUBLISH_WHILE_DRAGGING"))return;const i=e.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||e.dispatch(Ez({reason:i.reason})))},Cye=UH;var yye=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:i,announce:r,autoScroller:s})=>zH(PCe,Cye(mme(qCe(n),fye(e),$Ce(e),JCe,dye,hye,vye,mye(s),iye,pye(t),uye(i,r))));const DE=()=>({additions:{},removals:{},modified:{}});function wye({registry:e,callbacks:t}){let n=DE(),i=null;const r=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:u,removals:d,modified:f}=n,p=Object.keys(u).map(w=>e.draggable.getById(w).getDimension(ai)).sort((w,E)=>w.descriptor.index-E.descriptor.index),m=Object.keys(f).map(w=>{const R=e.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:R}}),C={additions:p,removals:Object.keys(d),modified:m};n=DE(),t.publish(C)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],r()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],r()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=DE())}}}var Az=({scrollHeight:e,scrollWidth:t,height:n,width:i})=>{const r=Sr({x:t,y:e},{x:i,y:n});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},Pz=()=>{const e=document.documentElement;return e||De(),e},Iz=()=>{const e=Pz();return Az({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},bye=()=>{const e=Dz(),t=Iz(),n=e.y,i=e.x,r=Pz(),s=r.clientWidth,o=r.clientHeight,l=i+s,u=n+o;return{frame:Cs({top:n,left:i,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:ai,displacement:ai}}}},Sye=({critical:e,scrollOptions:t,registry:n})=>{const i=bye(),r=i.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(f=>f.callbacks.getDimensionAndWatchScroll(r,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(r));return{dimensions:{draggables:rz(l),droppables:iz(o)},critical:e,viewport:i}};function pk(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Eye=(e,t)=>{let n=null;const i=wye({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),r=(m,C)=>{e.droppable.exists(m)||De(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:C})},s=(m,C)=>{n&&(e.droppable.exists(m)||De(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:C}))},o=(m,C)=>{n&&(e.droppable.exists(m)||De(),t.updateDroppableScroll({id:m,newScroll:C}))},l=(m,C)=>{n&&e.droppable.getById(m).callbacks.scroll(C)},u=()=>{if(!n)return;i.stop();const m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(C=>C.callbacks.dragStopped()),n.unsubscribe(),n=null},d=m=>{n||De();const C=n.critical.draggable;m.type==="ADDITION"&&pk(e,C,m.value)&&i.add(m.value),m.type==="REMOVAL"&&pk(e,C,m.value)&&i.remove(m.value)};return{updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{n&&De();const C=e.draggable.getById(m.draggableId),w=e.droppable.getById(C.descriptor.droppableId),E={draggable:C.descriptor,droppable:w.descriptor},R=e.subscribe(d);return n={critical:E,unsubscribe:R},Sye({critical:E,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},Fz=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Rye=e=>{window.scrollBy(e.x,e.y)};const Tye=si(e=>ow(e).filter(t=>!(!t.isEnabled||!t.frame))),xye=(e,t)=>Tye(t).find(i=>(i.frame||De(),pz(i.frame.pageMarginBox)(e)))||null;var Dye=({center:e,destination:t,droppables:n})=>{if(t){const r=n[t];return r.frame?r:null}return xye(e,n)};const jp={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Aye=(e,t,n=()=>jp)=>{const i=n(),r=e[t.size]*i.startFromPercentage,s=e[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:r,maxScrollValueAt:s}},Mz=({startOfRange:e,endOfRange:t,current:n})=>{const i=t-e;return i===0?0:(n-e)/i},Yx=1,Pye=(e,t,n=()=>jp)=>{const i=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return i.maxPixelScroll;if(e===t.startScrollingFrom)return Yx;const s=1-Mz({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=i.maxPixelScroll*i.ease(s);return Math.ceil(o)},Iye=(e,t,n)=>{const i=n(),r=i.durationDampening.accelerateAt,s=i.durationDampening.stopDampeningAt,o=t,l=s,d=Date.now()-o;if(d>=s)return e;if(d<r)return Yx;const f=Mz({startOfRange:r,endOfRange:l,current:d}),p=e*i.ease(f);return Math.ceil(p)},gk=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const s=Pye(e,t,r);return s===0?0:i?Math.max(Iye(s,n,r),Yx):s},mk=({container:e,distanceToEdges:t,dragStartTime:n,axis:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=Aye(e,i,s);return t[i.end]<t[i.start]?gk({distanceToEdge:t[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s}):-1*gk({distanceToEdge:t[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})},Fye=({container:e,subject:t,proposedScroll:n})=>{const i=t.height>e.height,r=t.width>e.width;return!r&&!i?n:r&&i?null:{x:r?0:n.x,y:i?0:n.y}};const Mye=nz(e=>e===0?0:e);var _z=({dragStartTime:e,container:t,subject:n,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},l=mk({container:t,distanceToEdges:o,dragStartTime:e,axis:Hx,shouldUseTimeDampening:r,getAutoScrollerOptions:s}),u=mk({container:t,distanceToEdges:o,dragStartTime:e,axis:az,shouldUseTimeDampening:r,getAutoScrollerOptions:s}),d=Mye({x:u,y:l});if(gl(d,ai))return null;const f=Fye({container:t,subject:n,proposedScroll:d});return f?gl(f,ai)?null:f:null};const _ye=nz(e=>e===0?0:e>0?1:-1),Qx=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:i})=>{const r=yi(t,i),s={x:e(r.x,n.x),y:e(r.y,n.y)};return gl(s,ai)?null:s}})(),kz=({max:e,current:t,change:n})=>{const i={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},r=_ye(n),s=Qx({max:i,current:t,change:r});return!s||r.x!==0&&s.x===0||r.y!==0&&s.y===0},Xx=(e,t)=>kz({current:e.scroll.current,max:e.scroll.max,change:t}),kye=(e,t)=>{if(!Xx(e,t))return null;const n=e.scroll.max,i=e.scroll.current;return Qx({current:i,max:n,change:t})},Zx=(e,t)=>{const n=e.frame;return n?kz({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Oye=(e,t)=>{const n=e.frame;return!n||!Zx(e,t)?null:Qx({current:n.scroll.current,max:n.scroll.max,change:t})};var Lye=({viewport:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=_z({dragStartTime:i,container:e.frame,subject:t,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s});return o&&Xx(e,o)?o:null},Nye=({droppable:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const l=_z({dragStartTime:i,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s});return l&&Zx(e,l)?l:null},vk=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:r,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,m=Lye({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(m){i(m);return}}const d=Dye({center:o,destination:Tr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=Nye({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});f&&r(d.descriptor.id,f)},Vye=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>jp})=>{const i=Gp(e),r=Gp(t);let s=null;const o=d=>{s||De();const{shouldUseTimeDampening:f,dragStartTime:p}=s;vk({state:d,scrollWindow:i,scrollDroppable:r,dragStartTime:p,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{s&&De();const f=Date.now();let p=!1;const m=()=>{p=!0};vk({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),s={dragStartTime:f,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{s&&(i.cancel(),r.cancel(),s=null)},scroll:o}},Bye=({move:e,scrollDroppable:t,scrollWindow:n})=>{const i=(l,u)=>{const d=yi(l.current.client.selection,u);e({client:d})},r=(l,u)=>{if(!Zx(l,u))return u;const d=Oye(l,u);if(!d)return t(l.descriptor.id,u),null;const f=Sr(u,d);return t(l.descriptor.id,f),Sr(u,f)},s=(l,u,d)=>{if(!l||!Xx(u,d))return d;const f=kye(u,d);if(!f)return n(d),null;const p=Sr(d,f);return n(p),Sr(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Tr(l.impact);d||De();const f=r(l.dimensions.droppables[d],u);if(!f)return;const p=l.viewport,m=s(l.isWindowScrollAllowed,p,f);m&&i(l,m)}},Gye=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:i})=>{const r=Vye({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:i}),s=Bye({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(i().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){r.scroll(u);return}u.scrollJumpRequest&&s(u)}},start:r.start,stop:r.stop}};const $d="data-rfd",qd=(()=>{const e=`${$d}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),h0=(()=>{const e=`${$d}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Hye=(()=>{const e=`${$d}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Ck={contextId:`${$d}-scroll-container-context-id`},zye=e=>t=>`[${t}="${e}"]`,Df=(e,t)=>e.map(n=>{const i=n.styles[t];return i?`${n.selector} { ${i} }`:""}).join(" "),Uye="pointer-events: none;";var Wye=e=>{const t=zye(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(qd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Uye,dropAnimating:l}}})(),i=(()=>{const l=`
      transition: ${ip.outOfTheWay};
    `;return{selector:t(h0.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),r={selector:t(Hye.contextId),styles:{always:"overflow-anchor: none;"}},o=[i,n,r,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Df(o,"always"),resting:Df(o,"resting"),dragging:Df(o,"dragging"),dropAnimating:Df(o,"dropAnimating"),userCancel:Df(o,"userCancel")}};const xr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,AE=()=>{const e=document.querySelector("head");return e||De(),e},yk=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function jye(e,t){const n=Bt(()=>Wye(e),[e]),i=S.useRef(null),r=S.useRef(null),s=$e(si(p=>{const m=r.current;m||De(),m.textContent=p}),[]),o=$e(p=>{const m=i.current;m||De(),m.textContent=p},[]);xr(()=>{!i.current&&!r.current||De();const p=yk(t),m=yk(t);return i.current=p,r.current=m,p.setAttribute(`${$d}-always`,e),m.setAttribute(`${$d}-dynamic`,e),AE().appendChild(p),AE().appendChild(m),o(n.always),s(n.resting),()=>{const C=w=>{const E=w.current;E||De(),AE().removeChild(E),w.current=null};C(i),C(r)}},[t,o,s,n.always,n.resting,e]);const l=$e(()=>s(n.dragging),[s,n.dragging]),u=$e(p=>{if(p==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),d=$e(()=>{r.current&&s(n.resting)},[s,n.resting]);return Bt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function Oz(e,t){return Array.from(e.querySelectorAll(t))}var Lz=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function uw(e){return e instanceof Lz(e).HTMLElement}function $ye(e,t){const n=`[${qd.contextId}="${e}"]`,i=Oz(document,n);if(!i.length)return null;const r=i.find(s=>s.getAttribute(qd.draggableId)===t);return!r||!uw(r)?null:r}function qye(e){const t=S.useRef({}),n=S.useRef(null),i=S.useRef(null),r=S.useRef(!1),s=$e(function(m,C){const w={id:m,focus:C};return t.current[m]=w,function(){const R=t.current;R[m]!==w&&delete R[m]}},[]),o=$e(function(m){const C=$ye(e,m);C&&C!==document.activeElement&&C.focus()},[e]),l=$e(function(m,C){n.current===m&&(n.current=C)},[]),u=$e(function(){i.current||r.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const m=n.current;m&&o(m)}))},[o]),d=$e(function(m){n.current=null;const C=document.activeElement;C&&C.getAttribute(qd.draggableId)===m&&(n.current=m)},[]);return xr(()=>(r.current=!0,function(){r.current=!1;const m=i.current;m&&cancelAnimationFrame(m)}),[]),Bt(()=>({register:s,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[s,d,u,l])}function Kye(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const C=t.indexOf(p);C!==-1&&t.splice(C,1)}}function i(p){t.length&&t.forEach(m=>m(p))}function r(p){return e.draggables[p]||null}function s(p){const m=r(p);return m||De(),m}const o={register:p=>{e.draggables[p.descriptor.id]=p,i({type:"ADDITION",value:p})},update:(p,m)=>{const C=e.draggables[m.descriptor.id];C&&C.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const m=p.descriptor.id,C=r(m);C&&p.uniqueId===C.uniqueId&&(delete e.draggables[m],e.droppables[p.descriptor.droppableId]&&i({type:"REMOVAL",value:p}))},getById:s,findById:r,exists:p=>!!r(p),getAllByType:p=>Object.values(e.draggables).filter(m=>m.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const m=l(p);return m||De(),m}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const m=l(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(m=>m.descriptor.type===p)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:f}}function Yye(){const e=Bt(Kye,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var Jx=$.createContext(null),ry=()=>{const e=document.body;return e||De(),e};const Qye={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Xye=e=>`rfd-announcement-${e}`;function Zye(e){const t=Bt(()=>Xye(e),[e]),n=S.useRef(null);return S.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),hp(s.style,Qye),ry().appendChild(s),function(){setTimeout(function(){const u=ry();u.contains(s)&&u.removeChild(s),s===n.current&&(n.current=null)})}},[t]),$e(r=>{const s=n.current;if(s){s.textContent=r;return}},[])}const Jye={separator:"::"};function eD(e,t=Jye){const n=$.useId();return Bt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function ewe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function twe({contextId:e,text:t}){const n=eD("hidden-text",{separator:"-"}),i=Bt(()=>ewe({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const s=document.createElement("div");return s.id=i,s.textContent=t,s.style.display="none",ry().appendChild(s),function(){const l=ry();l.contains(s)&&l.removeChild(s)}},[i,t]),i}var dw=$.createContext(null);function Nz(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function nwe(){let e=null;function t(){return!!e}function n(o){return o===e}function i(o){e&&De();const l={abandon:o};return e=l,l}function r(){e||De(),e=null}function s(){e&&(e.abandon(),r())}return{isClaimed:t,isActive:n,claim:i,release:r,tryAbandon:s}}function $p(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const iwe=9,rwe=13,tD=27,Vz=32,swe=33,owe=34,awe=35,lwe=36,cwe=37,uwe=38,dwe=39,hwe=40,fwe={[rwe]:!0,[iwe]:!0};var Bz=e=>{fwe[e.keyCode]&&e.preventDefault()};const hw=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(i=>`on${i}`in document)||e})(),Gz=0,wk=5;function pwe(e,t){return Math.abs(t.x-e.x)>=wk||Math.abs(t.y-e.y)>=wk}const bk={type:"IDLE"};function gwe({cancel:e,completed:t,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:r=>{const{button:s,clientX:o,clientY:l}=r;if(s!==Gz)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){r.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&De();const f=d.point;if(!pwe(f,u))return;r.preventDefault();const p=d.actions.fluidLift(u);i({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:r=>{n().type==="DRAGGING"&&r.preventDefault(),e()}},{eventName:"keydown",fn:r=>{if(n().type==="PENDING"){e();return}if(r.keyCode===tD){r.preventDefault(),e();return}Bz(r)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:r=>{const s=n();if(s.type==="IDLE"&&De(),s.actions.shouldRespectForcePress()){e();return}r.preventDefault()}},{eventName:hw,fn:e}]}function mwe(e){const t=S.useRef(bk),n=S.useRef(pl),i=Bt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==Gz||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const m=e.findClosestDraggableId(p);if(!m)return;const C=e.tryGetLock(m,o,{sourceEvent:p});if(!C)return;p.preventDefault();const w={x:p.clientX,y:p.clientY};n.current(),d(C,w)}}),[e]),r=Bt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}),[e]),s=$e(function(){const p={passive:!1,capture:!0};n.current=ts(window,[r,i],p)},[r,i]),o=$e(()=>{t.current.type!=="IDLE"&&(t.current=bk,n.current(),s())},[s]),l=$e(()=>{const f=t.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),u=$e(function(){const p={capture:!0,passive:!1},m=gwe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:C=>{t.current=C}});n.current=ts(window,m,p)},[l,o]),d=$e(function(p,m){t.current.type!=="IDLE"&&De(),t.current={type:"PENDING",point:m,actions:p},u()},[u]);xr(function(){return s(),function(){n.current()}},[s])}function vwe(){}const Cwe={[owe]:!0,[swe]:!0,[lwe]:!0,[awe]:!0};function ywe(e,t){function n(){t(),e.cancel()}function i(){t(),e.drop()}return[{eventName:"keydown",fn:r=>{if(r.keyCode===tD){r.preventDefault(),n();return}if(r.keyCode===Vz){r.preventDefault(),i();return}if(r.keyCode===hwe){r.preventDefault(),e.moveDown();return}if(r.keyCode===uwe){r.preventDefault(),e.moveUp();return}if(r.keyCode===dwe){r.preventDefault(),e.moveRight();return}if(r.keyCode===cwe){r.preventDefault(),e.moveLeft();return}if(Cwe[r.keyCode]){r.preventDefault();return}Bz(r)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:hw,fn:n}]}function wwe(e){const t=S.useRef(vwe),n=Bt(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Vz)return;const o=e.findClosestDraggableId(s);if(!o)return;const l=e.tryGetLock(o,f,{sourceEvent:s});if(!l)return;s.preventDefault();let u=!0;const d=l.snapLift();t.current();function f(){u||De(),u=!1,t.current(),i()}t.current=ts(window,ywe(d,f),{capture:!0,passive:!1})}}),[e]),i=$e(function(){const s={passive:!1,capture:!0};t.current=ts(window,[n],s)},[n]);xr(function(){return i(),function(){t.current()}},[i])}const PE={type:"IDLE"},bwe=120,Swe=.15;function Ewe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===tD&&n.preventDefault(),e()}},{eventName:hw,fn:e}]}function Rwe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const r=n();if(r.type!=="DRAGGING"){e();return}r.hasMoved=!0;const{clientX:s,clientY:o}=i.touches[0],l={x:s,y:o};i.preventDefault(),r.actions.move(l)}},{eventName:"touchend",fn:i=>{const r=n();if(r.type!=="DRAGGING"){e();return}i.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){e();return}i.preventDefault(),e()}},{eventName:"touchforcechange",fn:i=>{const r=n();r.type==="IDLE"&&De();const s=i.touches[0];if(!s||!(s.force>=Swe))return;const l=r.actions.shouldRespectForcePress();if(r.type==="PENDING"){l&&e();return}if(l){if(r.hasMoved){i.preventDefault();return}e();return}i.preventDefault()}},{eventName:hw,fn:e}]}function Twe(e){const t=S.useRef(PE),n=S.useRef(pl),i=$e(function(){return t.current},[]),r=$e(function(C){t.current=C},[]),s=Bt(()=>({eventName:"touchstart",fn:function(C){if(C.defaultPrevented)return;const w=e.findClosestDraggableId(C);if(!w)return;const E=e.tryGetLock(w,l,{sourceEvent:C});if(!E)return;const R=C.touches[0],{clientX:x,clientY:D}=R,A={x,y:D};n.current(),p(E,A)}}),[e]),o=$e(function(){const C={capture:!0,passive:!1};n.current=ts(window,[s],C)},[s]),l=$e(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),r(PE),n.current(),o())},[o,r]),u=$e(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=$e(function(){const C={capture:!0,passive:!1},w={cancel:u,completed:l,getPhase:i},E=ts(window,Rwe(w),C),R=ts(window,Ewe(w),C);n.current=function(){E(),R()}},[u,i,l]),f=$e(function(){const C=i();C.type!=="PENDING"&&De();const w=C.actions.fluidLift(C.point);r({type:"DRAGGING",actions:w,hasMoved:!1})},[i,r]),p=$e(function(C,w){i().type!=="IDLE"&&De();const E=setTimeout(f,bwe);r({type:"PENDING",point:w,actions:C,longPressTimerId:E}),d()},[d,i,r,f]);xr(function(){return o(),function(){n.current();const w=i();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),r(PE))}},[i,o,r]),xr(function(){return ts(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const xwe=["input","button","textarea","select","option","optgroup","video","audio"];function Hz(e,t){if(t==null)return!1;if(xwe.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===e?!1:Hz(e,t.parentElement)}function Dwe(e,t){const n=t.target;return uw(n)?Hz(e,n):!1}var Awe=e=>Cs(e.getBoundingClientRect()).center;function Pwe(e){return e instanceof Lz(e).Element}const Iwe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||e})();function zz(e,t){return e==null?null:e[Iwe](t)?e:zz(e.parentElement,t)}function Fwe(e,t){return e.closest?e.closest(t):zz(e,t)}function Mwe(e){return`[${qd.contextId}="${e}"]`}function _we(e,t){const n=t.target;if(!Pwe(n))return null;const i=Mwe(e),r=Fwe(n,i);return!r||!uw(r)?null:r}function kwe(e,t){const n=_we(e,t);return n?n.getAttribute(qd.draggableId):null}function Owe(e,t){const n=`[${h0.contextId}="${e}"]`,r=Oz(document,n).find(s=>s.getAttribute(h0.id)===t);return!r||!uw(r)?null:r}function Lwe(e){e.preventDefault()}function fv({expected:e,phase:t,isLockActive:n,shouldWarn:i}){return!(!n()||e!==t)}function Uz({lockAPI:e,store:t,registry:n,draggableId:i}){if(e.isClaimed())return!1;const r=n.draggable.findById(i);return!(!r||!r.options.isEnabled||!Fz(t.getState(),i))}function Nwe({lockAPI:e,contextId:t,store:n,registry:i,draggableId:r,forceSensorStop:s,sourceEvent:o}){if(!Uz({lockAPI:e,store:n,registry:i,draggableId:r}))return null;const u=i.draggable.getById(r),d=Owe(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&Dwe(d,o))return null;const f=e.claim(s||pl);let p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function C(){return e.isActive(f)}function w(V,I){fv({expected:V,phase:p,isLockActive:C,shouldWarn:!0})&&n.dispatch(I())}const E=w.bind(null,"DRAGGING");function R(V){function I(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(I(),De()),n.dispatch(FCe(V.liftActionArgs)),p="DRAGGING";function _(F,k={shouldBlockNextClick:!1}){if(V.cleanup(),k.shouldBlockNextClick){const O=ts(window,[{eventName:"click",fn:Lwe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}I(),n.dispatch(Ez({reason:F}))}return{isActive:()=>fv({expected:"DRAGGING",phase:p,isLockActive:C,shouldWarn:!1}),shouldRespectForcePress:m,drop:F=>_("DROP",F),cancel:F=>_("CANCEL",F),...V.actions}}function x(V){const I=Gp(F=>{E(()=>Sz({client:F}))});return{...R({liftActionArgs:{id:r,clientSelection:V,movementMode:"FLUID"},cleanup:()=>I.cancel(),actions:{move:I}}),move:I}}function D(){const V={moveUp:()=>E(GCe),moveRight:()=>E(zCe),moveDown:()=>E(HCe),moveLeft:()=>E(UCe)};return R({liftActionArgs:{id:r,clientSelection:Awe(d),movementMode:"SNAP"},cleanup:pl,actions:V})}function A(){fv({expected:"PRE_DRAG",phase:p,isLockActive:C,shouldWarn:!0})&&e.release()}return{isActive:()=>fv({expected:"PRE_DRAG",phase:p,isLockActive:C,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:x,snapLift:D,abort:A}}const Vwe=[mwe,wwe,Twe];function Bwe({contextId:e,store:t,registry:n,customSensors:i,enableDefaultSensors:r}){const s=[...r?Vwe:[],...i||[]],o=S.useState(()=>nwe())[0],l=$e(function(R,x){$p(R)&&!$p(x)&&o.tryAbandon()},[o]);xr(function(){let R=t.getState();return t.subscribe(()=>{const D=t.getState();l(R,D),R=D})},[o,t,l]),xr(()=>o.tryAbandon,[o.tryAbandon]);const u=$e(E=>Uz({lockAPI:o,registry:n,store:t,draggableId:E}),[o,n,t]),d=$e((E,R,x)=>Nwe({lockAPI:o,registry:n,contextId:e,store:t,draggableId:E,forceSensorStop:R||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,o,n,t]),f=$e(E=>kwe(e,E),[e]),p=$e(E=>{const R=n.draggable.findById(E);return R?R.options:null},[n.draggable]),m=$e(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch($x()))},[o,t]),C=$e(()=>o.isClaimed(),[o]),w=Bt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:C}),[u,d,f,p,m,C]);for(let E=0;E<s.length;E++)s[E](w)}const Gwe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Yd.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Hwe=e=>({...jp,...e.autoScrollerOptions,durationDampening:{...jp.durationDampening,...e.autoScrollerOptions}});function Af(e){return e.current||De(),e.current}function zwe(e){const{contextId:t,setCallbacks:n,sensors:i,nonce:r,dragHandleUsageInstructions:s}=e,o=S.useRef(null),l=Nz(e),u=$e(()=>Gwe(l.current),[l]),d=$e(()=>Hwe(l.current),[l]),f=Zye(t),p=twe({contextId:t,text:s}),m=jye(t,r),C=$e(O=>{Af(o).dispatch(O)},[]),w=Bt(()=>q1({publishWhileDragging:_Ce,updateDroppableScroll:OCe,updateDroppableIsEnabled:LCe,updateDroppableIsCombineEnabled:NCe,collectionStarting:kCe},C),[C]),E=Yye(),R=Bt(()=>Eye(E,w),[E,w]),x=Bt(()=>Gye({scrollWindow:Rye,scrollDroppable:R.scrollDroppable,getAutoScrollerOptions:d,...q1({move:Sz},C)}),[R.scrollDroppable,C,d]),D=qye(t),A=Bt(()=>yye({announce:f,autoScroller:x,dimensionMarshal:R,focusMarshal:D,getResponders:u,styleMarshal:m}),[f,x,R,D,u,m]);o.current=A;const L=$e(()=>{const O=Af(o);O.getState().phase!=="IDLE"&&O.dispatch($x())},[]),V=$e(()=>{const O=Af(o).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),I=Bt(()=>({isDragging:V,tryAbort:L}),[V,L]);n(I);const _=$e(O=>Fz(Af(o).getState(),O),[]),F=$e(()=>fc(Af(o).getState()),[]),k=Bt(()=>({marshal:R,focus:D,contextId:t,canLift:_,isMovementAllowed:F,dragHandleUsageInstructionsId:p,registry:E}),[t,R,p,D,_,F,E]);return Bwe({contextId:t,store:A,registry:E,customSensors:i||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>L,[L]),$.createElement(dw.Provider,{value:k},$.createElement(fve,{context:Jx,store:A},e.children))}function Uwe(){return $.useId()}function Wwe(e){const t=Uwe(),n=e.dragHandleUsageInstructions||qv.dragHandleUsageInstructions;return $.createElement(wve,null,i=>$.createElement(zwe,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Sk={dragging:5e3,dropAnimating:4500},jwe=(e,t)=>t?ip.drop(t.duration):e?ip.snap:ip.fluid,$we=(e,t)=>{if(e)return t?Wp.opacity.drop:Wp.opacity.combining},qwe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Kwe(e){const n=e.dimension.client,{offset:i,combineWith:r,dropping:s}=e,o=!!r,l=qwe(e),u=!!s,d=u?u0.drop(i,o):u0.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:jwe(l,s),transform:d,opacity:$we(o,u),zIndex:u?Sk.dropAnimating:Sk.dragging,pointerEvents:"none"}}function Ywe(e){return{transform:u0.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Qwe(e){return e.type==="DRAGGING"?Kwe(e):Ywe(e)}function Xwe(e,t,n=ai){const i=window.getComputedStyle(t),r=t.getBoundingClientRect(),s=QH(r,i),o=ey(s,n),l={client:s,tagName:t.tagName.toLowerCase(),display:i.display},u={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:s,page:o}}function Zwe(e){const t=eD("draggable"),{descriptor:n,registry:i,getDraggableRef:r,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}=e,u=Bt(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}),[s,l,o]),d=$e(C=>{const w=r();return w||De(),Xwe(n,w,C)},[n,r]),f=Bt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=S.useRef(f),m=S.useRef(!0);xr(()=>(i.draggable.register(p.current),()=>i.draggable.unregister(p.current)),[i.draggable]),xr(()=>{if(m.current){m.current=!1;return}const C=p.current;p.current=f,i.draggable.update(f,C)},[f,i.draggable])}var nD=$.createContext(null);function sy(e){const t=S.useContext(e);return t||De(),t}function Jwe(e){e.preventDefault()}const ebe=e=>{const t=S.useRef(null),n=$e((I=null)=>{t.current=I},[]),i=$e(()=>t.current,[]),{contextId:r,dragHandleUsageInstructionsId:s,registry:o}=sy(dw),{type:l,droppableId:u}=sy(nD),d=Bt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:f,draggableId:p,isEnabled:m,shouldRespectForcePress:C,canDragInteractiveElements:w,isClone:E,mapped:R,dropAnimationFinished:x}=e;if(!E){const I=Bt(()=>({descriptor:d,registry:o,getDraggableRef:i,canDragInteractiveElements:w,shouldRespectForcePress:C,isEnabled:m}),[d,o,i,w,C,m]);Zwe(I)}const D=Bt(()=>m?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:Jwe}:null,[r,s,p,m]),A=$e(I=>{R.type==="DRAGGING"&&R.dropping&&I.propertyName==="transform"&&Yd.flushSync(x)},[x,R]),L=Bt(()=>{const I=Qwe(R),_=R.type==="DRAGGING"&&R.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":p,style:I,onTransitionEnd:_},dragHandleProps:D}},[r,D,p,R,A,n]),V=Bt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return $.createElement($.Fragment,null,f(L,R.snapshot,V))};var Wz=(e,t)=>e===t,jz=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const tbe=e=>e.combine?e.combine.draggableId:null,nbe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function ibe(){const e=si((r,s)=>({x:r,y:s})),t=si((r,s,o=null,l=null,u=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!u,dropAnimation:u,mode:r,draggingOver:o,combineWith:l,combineTargetFor:null})),n=si((r,s,o,l,u=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:s,offset:r,dimension:o,forceShouldAnimate:f,snapshot:t(s,l,u,d,null)}}));return(r,s)=>{if($p(r)){if(r.critical.draggable.id!==s.draggableId)return null;const o=r.current.client.offset,l=r.dimensions.draggables[s.draggableId],u=Tr(r.impact),d=nbe(r.impact),f=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,l,s.isClone,u,d,f)}if(r.phase==="DROP_ANIMATING"){const o=r.completed;if(o.result.draggableId!==s.draggableId)return null;const l=s.isClone,u=r.dimensions.draggables[s.draggableId],d=o.result,f=d.mode,p=jz(d),m=tbe(d),w={duration:r.dropDuration,curve:Kx.drop,moveTo:r.newHomeClientOffset,opacity:m?Wp.opacity.drop:null,scale:m?Wp.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:u,dropping:w,draggingOver:p,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:t(f,l,p,m,w)}}}return null}}function $z(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const rbe={mapped:{type:"SECONDARY",offset:ai,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:$z(null)}};function sbe(){const e=si((o,l)=>({x:o,y:l})),t=si($z),n=si((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),i=o=>o?n(ai,o,!0):null,r=(o,l,u,d)=>{const f=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),m=aw(u),C=m&&m.draggableId===o?l:null;if(!f){if(!p)return i(C);if(u.displaced.invisible[o])return null;const R=fh(d.displacedBy.point),x=e(R.x,R.y);return n(x,C,!0)}if(p)return i(C);const w=u.displacedBy.point,E=e(w.x,w.y);return n(E,C,f.shouldAnimate)};return(o,l)=>{if($p(o))return o.critical.draggable.id===l.draggableId?null:r(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:r(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const obe=()=>{const e=ibe(),t=sbe();return(i,r)=>e(i,r)||t(i,r)||rbe},abe={dropAnimationFinished:Rz},lbe=YH(obe,abe,null,{context:Jx,areStatePropsEqual:Wz})(ebe);function qz(e){return sy(nD).isUsingCloneFor===e.draggableId&&!e.isClone?null:$.createElement(lbe,e)}function Ek(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,i=!!e.shouldRespectForcePress;return $.createElement(qz,hp({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const Kz=e=>t=>e===t,cbe=Kz("scroll"),ube=Kz("auto"),Rk=(e,t)=>t(e.overflowX)||t(e.overflowY),dbe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Rk(n,cbe)||Rk(n,ube)},hbe=()=>!1,Yz=e=>e==null?null:e===document.body?hbe()?e:null:e===document.documentElement?null:dbe(e)?e:Yz(e.parentElement);var f0=e=>({x:e.scrollLeft,y:e.scrollTop});const Qz=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Qz(e.parentElement):!1;var fbe=e=>{const t=Yz(e),n=Qz(e);return{closestScrollable:t,isFixedOnPage:n}},pbe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:i,direction:r,client:s,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:m,client:C}=l,w=Az({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:C.paddingBox.height,width:C.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:C,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:w,diff:{value:ai,displacement:ai}}}})(),d=r==="vertical"?Hx:az,f=jd({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:d,isEnabled:t,client:s,page:o,frame:u,subject:f}};const gbe=(e,t)=>{const n=XH(e);if(!t||e!==t)return n;const i=n.paddingBox.top-t.scrollTop,r=n.paddingBox.left-t.scrollLeft,s=i+t.scrollHeight,o=r+t.scrollWidth,u=Nx({top:i,right:o,bottom:s,left:r},n.border);return Vx({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var mbe=({ref:e,descriptor:t,env:n,windowScroll:i,direction:r,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=gbe(e,u),f=ey(d,i),p=(()=>{if(!u)return null;const C=XH(u),w={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:C,page:ey(C,i),scroll:f0(u),scrollSize:w,shouldClipSubject:l}})();return pbe({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:r,client:d,page:f,closest:p})};const vbe={passive:!1},Cbe={passive:!0};var Tk=e=>e.shouldPublishImmediately?vbe:Cbe;const pv=e=>e&&e.env.closestScrollable||null;function ybe(e){const t=S.useRef(null),n=sy(dw),i=eD("droppable"),{registry:r,marshal:s}=n,o=Nz(e),l=Bt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(l),d=Bt(()=>si((L,V)=>{t.current||De();const I={x:L,y:V};s.updateDroppableScroll(l.id,I)}),[l.id,s]),f=$e(()=>{const L=t.current;return!L||!L.env.closestScrollable?ai:f0(L.env.closestScrollable)},[]),p=$e(()=>{const L=f();d(L.x,L.y)},[f,d]),m=Bt(()=>Gp(p),[p]),C=$e(()=>{const L=t.current,V=pv(L);if(L&&V||De(),L.scrollOptions.shouldPublishImmediately){p();return}m()},[m,p]),w=$e((L,V)=>{t.current&&De();const I=o.current,_=I.getDroppableRef();_||De();const F=fbe(_),k={ref:_,descriptor:l,env:F,scrollOptions:V};t.current=k;const O=mbe({ref:_,descriptor:l,env:F,windowScroll:L,direction:I.direction,isDropDisabled:I.isDropDisabled,isCombineEnabled:I.isCombineEnabled,shouldClipSubject:!I.ignoreContainerClipping}),B=F.closestScrollable;return B&&(B.setAttribute(Ck.contextId,n.contextId),B.addEventListener("scroll",C,Tk(k.scrollOptions))),O},[n.contextId,l,C,o]),E=$e(()=>{const L=t.current,V=pv(L);return L&&V||De(),f0(V)},[]),R=$e(()=>{const L=t.current;L||De();const V=pv(L);t.current=null,V&&(m.cancel(),V.removeAttribute(Ck.contextId),V.removeEventListener("scroll",C,Tk(L.scrollOptions)))},[C,m]),x=$e(L=>{const V=t.current;V||De();const I=pv(V);I||De(),I.scrollTop+=L.y,I.scrollLeft+=L.x},[]),D=Bt(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:E,dragStopped:R,scroll:x}),[R,w,E,x]),A=Bt(()=>({uniqueId:i,descriptor:l,callbacks:D}),[D,l,i]);xr(()=>(u.current=A.descriptor,r.droppable.register(A),()=>{t.current&&R(),r.droppable.unregister(A)}),[D,l,R,A,s,r.droppable]),xr(()=>{t.current&&s.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),xr(()=>{t.current&&s.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function IE(){}const xk={width:0,height:0,margin:Dve},wbe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?xk:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},bbe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const i=wbe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ip.placeholder:null}},Sbe=e=>{const t=S.useRef(null),n=$e(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:r,onClose:s,contextId:o}=e,[l,u]=S.useState(e.animate==="open");S.useEffect(()=>l?i!=="open"?(n(),u(!1),IE):t.current?IE:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):IE,[i,l,n]);const d=$e(p=>{p.propertyName==="height"&&(r(),i==="close"&&s())},[i,s,r]),f=bbe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return $.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var Ebe=$.memo(Sbe);class Rbe extends $.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Tbe=e=>{const t=S.useContext(dw);t||De();const{contextId:n,isMovementAllowed:i}=t,r=S.useRef(null),s=S.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:f,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:C,snapshot:w,useClone:E,updateViewportMaxScroll:R,getContainerForClone:x}=e,D=$e(()=>r.current,[]),A=$e((B=null)=>{r.current=B},[]);$e(()=>s.current,[]);const L=$e((B=null)=>{s.current=B},[]),V=$e(()=>{i()&&R({maxScroll:Iz()})},[i,R]);ybe({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:m,isCombineEnabled:C,ignoreContainerClipping:p,getDroppableRef:D});const I=Bt(()=>$.createElement(Rbe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:B,data:U,animate:G})=>$.createElement(Ebe,{placeholder:U,onClose:B,innerRef:L,animate:G,contextId:n,onTransitionEnd:V})),[n,V,e.placeholder,e.shouldAnimatePlaceholder,L]),_=Bt(()=>({innerRef:A,placeholder:I,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,I,A]),F=E?E.dragging.draggableId:null,k=Bt(()=>({droppableId:l,type:u,isUsingCloneFor:F}),[l,F,u]);function O(){if(!E)return null;const{dragging:B,render:U}=E,G=$.createElement(qz,{draggableId:B.draggableId,index:B.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(de,pe)=>U(de,pe,B));return rl.createPortal(G,x())}return $.createElement(nD.Provider,{value:k},o(_,w),O())};function xbe(){return document.body||De(),document.body}const Dk={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xbe},Xz=e=>{let t={...e},n;for(n in Dk)e[n]===void 0&&(t={...t,[n]:Dk[n]});return t},FE=(e,t)=>e===t.droppable.type,Ak=(e,t)=>t.draggables[e.draggable.id],Dbe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=si(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),i=si((s,o,l,u,d,f)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===s){const w=f?{render:f,dragging:n(d.descriptor)}:null,E={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:E,useClone:w}}if(!o)return t;if(!u)return e;const C={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:C,useClone:null}});return(s,o)=>{const l=Xz(o),u=l.droppableId,d=l.type,f=!l.isDropDisabled,p=l.renderClone;if($p(s)){const m=s.critical;if(!FE(d,m))return t;const C=Ak(m,s.dimensions),w=Tr(s.impact)===u;return i(u,f,w,w,C,p)}if(s.phase==="DROP_ANIMATING"){const m=s.completed;if(!FE(d,m.critical))return t;const C=Ak(m.critical,s.dimensions);return i(u,f,jz(m.result)===u,Tr(m.impact)===u,C,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const m=s.completed;if(!FE(d,m.critical))return t;const C=Tr(m.impact)===u,w=!!(m.impact.at&&m.impact.at.type==="COMBINE"),E=m.critical.droppable.id===u;return C?w?e:t:E?e:t}return t}},Abe={updateViewportMaxScroll:BCe},Pk=YH(Dbe,Abe,(e,t,n)=>({...Xz(n),...e,...t}),{context:Jx,areStatePropsEqual:Wz})(Tbe),Pbe=jT((e,t)=>({groups:[],availableStudents:[],allStudents:[],setGroups:n=>e({groups:n}),setAvailableStudents:n=>e({availableStudents:n}),setAllStudents:n=>e({allStudents:n}),addGroup:n=>e(i=>({groups:[...i.groups,n]})),updateGroup:(n,i)=>e(r=>({groups:r.groups.map(s=>s.id===n?{...s,...i}:s)})),removeGroup:n=>e(i=>{const r=i.groups.find(s=>s.id===n);if(r){const s=i.availableStudents.filter(o=>r.studentIds.includes(o.id));return{groups:i.groups.filter(o=>o.id!==n),availableStudents:[...i.availableStudents,...s]}}return i}),moveStudentToGroup:(n,i,r)=>e(s=>{let o=[...s.groups],l=[...s.availableStudents];if(i?o=o.map(u=>u.id===i?{...u,studentIds:u.studentIds.filter(d=>d!==n)}:u):l=l.filter(u=>u.id!==n),r)o=o.map(u=>u.id===r?{...u,studentIds:[...u.studentIds,n]}:u);else{const u=t().allStudents.find(d=>d.id===n);u&&(l=[...l,u])}return{groups:o,availableStudents:l}}),getStudentById:n=>t().allStudents.find(r=>r.id===n)})),fi=[];for(let e=0;e<256;++e)fi.push((e+256).toString(16).slice(1));function Ibe(e,t=0){return(fi[e[t+0]]+fi[e[t+1]]+fi[e[t+2]]+fi[e[t+3]]+"-"+fi[e[t+4]]+fi[e[t+5]]+"-"+fi[e[t+6]]+fi[e[t+7]]+"-"+fi[e[t+8]]+fi[e[t+9]]+"-"+fi[e[t+10]]+fi[e[t+11]]+fi[e[t+12]]+fi[e[t+13]]+fi[e[t+14]]+fi[e[t+15]]).toLowerCase()}let ME;const Fbe=new Uint8Array(16);function Mbe(){if(!ME){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ME=crypto.getRandomValues.bind(crypto)}return ME(Fbe)}const _be=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ik={randomUUID:_be};function kbe(e,t,n){if(Ik.randomUUID&&!e)return Ik.randomUUID();e=e||{};const i=e.random??e.rng?.()??Mbe();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ibe(i)}const fw="groups",Obe=async e=>{const t=kbe(),n={id:t,name:e.name,studentIds:[],createdAt:new Date,teacherId:e.teacherId};return await y2(pg(nu,fw,t),n),n},Lbe=async e=>{const t=p2(a2(nu,fw),g2("teacherId","==",e));return(await C2(t)).docs.map(r=>r.data()).sort((r,s)=>new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime())},gv=async(e,t)=>{await eZ(pg(nu,fw,e),t)},Nbe=async e=>{await tZ(pg(nu,fw,e))},Vbe=(e=768)=>{const[t,n]=S.useState(!1);return S.useEffect(()=>{const i=window.matchMedia(`(max-width: ${e}px)`),r=s=>{n(s.matches)};return n(i.matches),i.addEventListener("change",r),()=>{i.removeEventListener("change",r)}},[e]),t},Bbe=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:i,onDragEnd:r,getStudentById:s,searchTerm:o,onSearchChange:l})=>N.jsx(Wwe,{onDragEnd:r,children:N.jsxs(gp,{children:[N.jsx(ol,{lg:3,className:"mb-4",children:N.jsxs(Pi,{className:"h-100",children:[N.jsxs(Pi.Header,{className:"bg-light",children:[N.jsxs("div",{className:"d-flex align-items-center mb-2",children:[N.jsx(Y0,{size:18,className:"me-2 text-muted"}),N.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),N.jsx(Tn.Group,{className:"mb-2",children:N.jsxs("div",{className:"position-relative",children:[N.jsx(Tn.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:u=>l(u.target.value),size:"sm",className:"ps-5 search-input"}),N.jsx(K0,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})}),N.jsx("small",{className:"text-muted",children:o.trim()?`${t.length} de ${t.length+e.flatMap(u=>u.studentIds).length} estudiantes`:`${t.length} estudiantes`})]}),N.jsx(Pi.Body,{style:{minHeight:"500px"},children:N.jsx(Pk,{droppableId:"available",children:(u,d)=>N.jsxs("div",{ref:u.innerRef,...u.droppableProps,className:`p-2 rounded ${d.isDraggingOver?"bg-light":""}`,style:{minHeight:"100px"},children:[t.length===0?N.jsxs("div",{className:"text-center text-muted py-4",children:[N.jsx(Qo,{size:32,className:"mb-2 opacity-50"}),N.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):t.map((f,p)=>N.jsx(Ek,{draggableId:f.id,index:p,children:(m,C)=>N.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${C.isDragging?"shadow":""}`,style:{...m.draggableProps.style,cursor:"grab"},children:[N.jsx("div",{className:"fw-medium",children:f.name}),N.jsx("small",{className:"text-muted",children:f.email})]})},f.id)),u.placeholder]})})})]})}),N.jsx(ol,{lg:9,children:e.length===0?N.jsxs(nC,{variant:"info",className:"text-center py-5",children:[N.jsx(Qo,{size:48,className:"mb-3 opacity-50"}),N.jsx("h5",{children:"No hay grupos creados"}),N.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),N.jsxs($i,{variant:"primary",onClick:i,children:[N.jsx(Ry,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):N.jsx(gp,{children:e.map(u=>N.jsx(ol,{md:6,lg:4,className:"mb-4",children:N.jsxs(Pi,{className:"h-100",children:[N.jsxs(Pi.Header,{className:"d-flex justify-content-between align-items-center",children:[N.jsxs("div",{children:[N.jsx("h6",{className:"mb-0",children:u.name}),N.jsxs("small",{className:"text-muted",children:[u.studentIds.length," estudiante",u.studentIds.length!==1?"s":""]})]}),N.jsx($i,{variant:"outline-danger",size:"sm",onClick:()=>n(u.id),children:N.jsx(UL,{size:14})})]}),N.jsx(Pi.Body,{style:{minHeight:"300px"},children:N.jsx(Pk,{droppableId:u.id,children:(d,f)=>N.jsxs("div",{ref:d.innerRef,...d.droppableProps,className:`p-2 rounded ${f.isDraggingOver?"bg-light":""}`,style:{minHeight:"200px"},children:[u.studentIds.length===0?N.jsxs("div",{className:"text-center text-muted py-4",children:[N.jsx(Qo,{size:24,className:"mb-2 opacity-50"}),N.jsx("p",{className:"mb-0 small",children:"Arrastra estudiantes aqu"})]}):u.studentIds.map((p,m)=>{const C=s(p);return C?N.jsx(Ek,{draggableId:p,index:m,children:(w,E)=>N.jsxs("div",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${E.isDragging?"shadow":""}`,style:{...w.draggableProps.style,cursor:"grab"},children:[N.jsx("div",{className:"fw-medium",children:C.name}),N.jsx("small",{className:"text-muted",children:C.email})]})},p):null}),d.placeholder]})})})]})},u.id))})})]})}),Gbe=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:i,onSelectStudent:r,getStudentById:s,searchTerm:o,onSearchChange:l})=>N.jsxs("div",{children:[N.jsxs(Pi,{className:"mb-4",children:[N.jsxs(Pi.Header,{className:"bg-light",children:[N.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[N.jsxs("div",{className:"d-flex align-items-center",children:[N.jsx(Y0,{size:18,className:"me-2 text-muted"}),N.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),N.jsx(KE,{bg:"secondary",className:"badge-count",children:t.length})]}),N.jsx(Tn.Group,{children:N.jsxs("div",{className:"position-relative",children:[N.jsx(Tn.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:u=>l(u.target.value),size:"sm",className:"ps-5 search-input"}),N.jsx(K0,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})})]}),N.jsx(Pi.Body,{className:"p-2",children:t.length===0?N.jsxs("div",{className:"text-center text-muted py-4",children:[N.jsx(Qo,{size:32,className:"mb-2 opacity-50"}),N.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):N.jsx(Cc,{variant:"flush",children:t.map(u=>N.jsxs(Cc.Item,{action:!0,onClick:()=>r(u),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[N.jsxs("div",{children:[N.jsx("div",{className:"fw-medium",children:u.name}),N.jsx("small",{className:"text-muted",children:u.email})]}),N.jsx(qF,{size:16,className:"text-muted"})]},u.id))})})]}),e.length===0?N.jsxs(nC,{variant:"info",className:"text-center py-5",children:[N.jsx(Qo,{size:48,className:"mb-3 opacity-50"}),N.jsx("h5",{children:"No hay grupos creados"}),N.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),N.jsxs($i,{variant:"primary",onClick:i,children:[N.jsx(Ry,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):e.map(u=>N.jsxs(Pi,{className:"mb-3",children:[N.jsxs(Pi.Header,{className:"d-flex justify-content-between align-items-center",children:[N.jsxs("div",{className:"d-flex align-items-center",children:[N.jsx("h6",{className:"mb-0 me-2",children:u.name}),N.jsx(KE,{bg:"primary",className:"badge-count",children:u.studentIds.length})]}),N.jsx($i,{variant:"outline-danger",size:"sm",onClick:()=>n(u.id),children:N.jsx(UL,{size:14})})]}),N.jsx(Pi.Body,{className:"p-2",children:u.studentIds.length===0?N.jsxs("div",{className:"text-center text-muted py-3",children:[N.jsx(Qo,{size:24,className:"mb-2 opacity-50"}),N.jsx("p",{className:"mb-0 small",children:"No hay estudiantes asignados"})]}):N.jsx(Cc,{variant:"flush",children:u.studentIds.map(d=>{const f=s(d);return f?N.jsxs(Cc.Item,{action:!0,onClick:()=>r(f,u.id),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[N.jsxs("div",{children:[N.jsx("div",{className:"fw-medium",children:f.name}),N.jsx("small",{className:"text-muted",children:f.email})]}),N.jsx(qF,{size:16,className:"text-muted"})]},d):null})})})]},u.id))]}),Hbe=()=>{const{user:e}=lh(),{groups:t,availableStudents:n,setGroups:i,setAvailableStudents:r,setAllStudents:s,addGroup:o,removeGroup:l,moveStudentToGroup:u,getStudentById:d}=Pbe(),f=Vbe(),[p,m]=S.useState(!0),[C,w]=S.useState(!1),[E,R]=S.useState(""),[x,D]=S.useState(!1),[A,L]=S.useState(!1),[V,I]=S.useState(null),[_,F]=S.useState(),[k,O]=S.useState(""),U=(ge=>{let z=ge;if(k.trim()){const Q=k.toLowerCase().trim();z=ge.filter(J=>J.name.toLowerCase().includes(Q)||J.email.toLowerCase().includes(Q))}return z.sort((Q,J)=>Q.name.localeCompare(J.name))})(n);S.useEffect(()=>{(async()=>{if(e?.id)try{m(!0);const[z,Q]=await Promise.all([Lbe(e.id),b2()]),J=z.flatMap(fe=>fe.studentIds),X=Q.filter(fe=>!J.includes(fe.id));i(z),s(Q),r(X)}catch(z){console.error("Error loading data:",z)}finally{m(!1)}})()},[e?.id,i,r,s]);const G=async()=>{if(!(!E.trim()||!e?.id))try{D(!0);const ge=await Obe({name:E.trim(),teacherId:e.id});o(ge),R(""),w(!1)}catch(ge){console.error("Error creating group:",ge)}finally{D(!1)}},de=async ge=>{try{await Nbe(ge),l(ge)}catch(z){console.error("Error deleting group:",z)}},pe=async ge=>{const{destination:z,source:Q,draggableId:J}=ge;if(!z||z.droppableId===Q.droppableId&&z.index===Q.index)return;const X=Q.droppableId==="available"?null:Q.droppableId,fe=z.droppableId==="available"?null:z.droppableId;await re(J,X,fe)},q=(ge,z)=>{I(ge),F(z),L(!0)},ne=async ge=>{V&&(await re(V.id,_||null,ge),L(!1),I(null),F(void 0))},re=async(ge,z,Q)=>{u(ge,z,Q);try{if(z&&Q){const J=t.find(fe=>fe.id===z),X=t.find(fe=>fe.id===Q);J&&X&&(await gv(z,{studentIds:J.studentIds.filter(fe=>fe!==ge)}),await gv(Q,{studentIds:[...X.studentIds,ge]}))}else if(z&&!Q){const J=t.find(X=>X.id===z);J&&await gv(z,{studentIds:J.studentIds.filter(X=>X!==ge)})}else if(!z&&Q){const J=t.find(X=>X.id===Q);J&&await gv(Q,{studentIds:[...J.studentIds,ge]})}}catch(J){console.error("Error updating groups:",J)}};return p?N.jsx(pp,{fluid:!0,className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:N.jsx(Oc,{animation:"border",variant:"primary"})}):N.jsxs(pp,{fluid:!0,children:[N.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"mb-1",children:"Gestin de Grupos"}),N.jsx("p",{className:"text-muted mb-0",children:f?"Toca un estudiante para moverlo":"Arrastra estudiantes para asignarlos a grupos"})]}),N.jsxs($i,{variant:"primary",onClick:()=>w(!0),className:"d-flex align-items-center",children:[N.jsx(Ry,{size:16,className:"me-2"}),"Crear Grupo"]})]}),f?N.jsx(Gbe,{groups:t,availableStudents:U,onDeleteGroup:de,onShowCreateModal:()=>w(!0),onSelectStudent:q,getStudentById:d,searchTerm:k,onSearchChange:O}):N.jsx(Bbe,{groups:t,availableStudents:U,onDeleteGroup:de,onShowCreateModal:()=>w(!0),onDragEnd:pe,getStudentById:d,searchTerm:k,onSearchChange:O}),N.jsxs(pi,{show:C,onHide:()=>w(!1),children:[N.jsx(pi.Header,{closeButton:!0,children:N.jsx(pi.Title,{children:"Crear Nuevo Grupo"})}),N.jsx(pi.Body,{children:N.jsxs(Tn.Group,{children:[N.jsx(Tn.Label,{children:"Nombre del Grupo"}),N.jsx(Tn.Control,{type:"text",placeholder:"Ej: Grupo A, Equipo 1, etc.",value:E,onChange:ge=>R(ge.target.value),autoFocus:!0})]})}),N.jsxs(pi.Footer,{children:[N.jsx($i,{variant:"secondary",onClick:()=>w(!1),children:"Cancelar"}),N.jsx($i,{variant:"primary",onClick:G,disabled:!E.trim()||x,children:x?N.jsxs(N.Fragment,{children:[N.jsx(Oc,{size:"sm",className:"me-2"}),"Creando..."]}):"Crear Grupo"})]})]}),N.jsxs(pi,{show:A,onHide:()=>L(!1),children:[N.jsx(pi.Header,{closeButton:!0,children:N.jsxs(pi.Title,{children:["Mover a ",V?.name]})}),N.jsxs(pi.Body,{children:[N.jsxs("p",{className:"text-muted mb-3",children:["Selecciona el destino para ",V?.name,":"]}),N.jsxs(Cc,{children:[_&&N.jsxs(Cc.Item,{action:!0,onClick:()=>ne(null),className:"d-flex align-items-center",children:[N.jsx(Y0,{size:18,className:"me-3 text-muted"}),N.jsxs("div",{children:[N.jsx("div",{className:"fw-medium",children:"Estudiantes Disponibles"}),N.jsx("small",{className:"text-muted",children:"Quitar del grupo actual"})]})]}),t.filter(ge=>ge.id!==_).map(ge=>N.jsxs(Cc.Item,{action:!0,onClick:()=>ne(ge.id),className:"d-flex align-items-center",children:[N.jsx(Qo,{size:18,className:"me-3 text-primary"}),N.jsxs("div",{children:[N.jsx("div",{className:"fw-medium",children:ge.name}),N.jsxs("small",{className:"text-muted",children:[ge.studentIds.length," estudiante",ge.studentIds.length!==1?"s":""]})]})]},ge.id))]})]})]})]})},_E=({children:e,allowedRoles:t})=>{const{user:n}=lh(),i=mo();return n?t.includes(n.role)?N.jsx(N.Fragment,{children:e}):N.jsx(cd,{to:"/dashboard/mapa",replace:!0}):N.jsx(cd,{to:"/login",state:{from:i},replace:!0})},zbe=({children:e})=>{const{user:t}=lh(),i=mo().state?.from?.pathname||"/";return t?N.jsx(cd,{to:i,replace:!0}):N.jsx(N.Fragment,{children:e})},Ube=xW([{path:"/dashboard",element:N.jsx(aj,{children:N.jsx(dZ,{})}),children:[{index:!0,element:N.jsx(cd,{to:"mapa",replace:!0})},{path:"mapa",element:N.jsx(_E,{allowedRoles:[Kr.STUDENT,Kr.TEACHER,Kr.ADMINISTRATOR],children:N.jsx(nJ,{})})},{path:"estudiantes",element:N.jsx(_E,{allowedRoles:[Kr.TEACHER,Kr.ADMINISTRATOR],children:N.jsx(hme,{})})},{path:"grupos",element:N.jsx(_E,{allowedRoles:[Kr.TEACHER,Kr.ADMINISTRATOR],children:N.jsx(Hbe,{})})}]},{path:"/",element:N.jsx(cd,{to:"/dashboard",replace:!0})},{path:"/login",element:N.jsx(zbe,{children:N.jsx(jZ,{})})},{path:"*",element:N.jsx(cd,{to:"/",replace:!0})}]);Ste.registerModules([Jpe]);function Wbe(){const[e,t]=S.useState(!0),{setUser:n}=lh();return S.useEffect(()=>{const i=localStorage.getItem("user");i&&n(JSON.parse(i)),t(!1)},[]),e?N.jsx(Oc,{animation:"border",className:"d-flex justify-content-center align-items-center"}):N.jsx(VW,{router:Ube})}I4.createRoot(document.getElementById("root")).render(N.jsx(S.StrictMode,{children:N.jsx(Wbe,{})}));
