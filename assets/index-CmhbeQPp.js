(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Of(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AR={exports:{}},sg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO;function YK(){if(hO)return sg;hO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return sg.Fragment=t,sg.jsx=n,sg.jsxs=n,sg}var fO;function XK(){return fO||(fO=1,AR.exports=YK()),AR.exports}var I=XK(),PR={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO;function QK(){if(pO)return Dt;pO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=f&&F[f]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function R(F,X,re){this.props=F,this.context=X,this.refs=S,this.updater=re||v}R.prototype.isReactComponent={},R.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function x(){}x.prototype=R.prototype;function D(F,X,re){this.props=F,this.context=X,this.refs=S,this.updater=re||v}var T=D.prototype=new x;T.constructor=D,C(T,R.prototype),T.isPureReactComponent=!0;var k=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function _(F,X,re,z,ge,Ae){return re=Ae.ref,{$$typeof:e,type:F,key:X,ref:re!==void 0?re:null,props:Ae}}function M(F,X){return _(F.type,X,void 0,void 0,void 0,F.props)}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function B(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(re){return X[re]})}var H=/\/+/g;function U(F,X){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):X.toString(36)}function G(){}function ee(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(G,G):(F.status="pending",F.then(function(X){F.status==="pending"&&(F.status="fulfilled",F.value=X)},function(X){F.status==="pending"&&(F.status="rejected",F.reason=X)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ie(F,X,re,z,ge){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var Te=!1;if(F===null)Te=!0;else switch(Ae){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(F.$$typeof){case e:case t:Te=!0;break;case h:return Te=F._init,ie(Te(F._payload),X,re,z,ge)}}if(Te)return ge=ge(F),Te=z===""?"."+U(F,0):z,k(ge)?(re="",Te!=null&&(re=Te.replace(H,"$&/")+"/"),ie(ge,X,re,"",function(Ue){return Ue})):ge!=null&&(N(ge)&&(ge=M(ge,re+(ge.key==null||F&&F.key===ge.key?"":(""+ge.key).replace(H,"$&/")+"/")+Te)),X.push(ge)),1;Te=0;var ut=z===""?".":z+":";if(k(F))for(var Ke=0;Ke<F.length;Ke++)z=F[Ke],Ae=ut+U(z,Ke),Te+=ie(z,X,re,Ae,ge);else if(Ke=g(F),typeof Ke=="function")for(F=Ke.call(F),Ke=0;!(z=F.next()).done;)z=z.value,Ae=ut+U(z,Ke++),Te+=ie(z,X,re,Ae,ge);else if(Ae==="object"){if(typeof F.then=="function")return ie(ee(F),X,re,z,ge);throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Te}function $(F,X,re){if(F==null)return F;var z=[],ge=0;return ie(F,z,"","",function(Ae){return X.call(re,Ae,ge++)}),z}function Z(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(re){(F._status===0||F._status===-1)&&(F._status=1,F._result=re)},function(re){(F._status===0||F._status===-1)&&(F._status=2,F._result=re)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var te=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function pe(){}return Dt.Children={map:$,forEach:function(F,X,re){$(F,function(){X.apply(this,arguments)},re)},count:function(F){var X=0;return $(F,function(){X++}),X},toArray:function(F){return $(F,function(X){return X})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Dt.Component=R,Dt.Fragment=n,Dt.Profiler=i,Dt.PureComponent=D,Dt.StrictMode=r,Dt.Suspense=l,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return O.H.useMemoCache(F)}},Dt.cache=function(F){return function(){return F.apply(null,arguments)}},Dt.cloneElement=function(F,X,re){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var z=C({},F.props),ge=F.key,Ae=void 0;if(X!=null)for(Te in X.ref!==void 0&&(Ae=void 0),X.key!==void 0&&(ge=""+X.key),X)!P.call(X,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&X.ref===void 0||(z[Te]=X[Te]);var Te=arguments.length-2;if(Te===1)z.children=re;else if(1<Te){for(var ut=Array(Te),Ke=0;Ke<Te;Ke++)ut[Ke]=arguments[Ke+2];z.children=ut}return _(F.type,ge,void 0,void 0,Ae,z)},Dt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Dt.createElement=function(F,X,re){var z,ge={},Ae=null;if(X!=null)for(z in X.key!==void 0&&(Ae=""+X.key),X)P.call(X,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(ge[z]=X[z]);var Te=arguments.length-2;if(Te===1)ge.children=re;else if(1<Te){for(var ut=Array(Te),Ke=0;Ke<Te;Ke++)ut[Ke]=arguments[Ke+2];ge.children=ut}if(F&&F.defaultProps)for(z in Te=F.defaultProps,Te)ge[z]===void 0&&(ge[z]=Te[z]);return _(F,Ae,void 0,void 0,null,ge)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(F){return{$$typeof:a,render:F}},Dt.isValidElement=N,Dt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:Z}},Dt.memo=function(F,X){return{$$typeof:u,type:F,compare:X===void 0?null:X}},Dt.startTransition=function(F){var X=O.T,re={};O.T=re;try{var z=F(),ge=O.S;ge!==null&&ge(re,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(pe,te)}catch(Ae){te(Ae)}finally{O.T=X}},Dt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Dt.use=function(F){return O.H.use(F)},Dt.useActionState=function(F,X,re){return O.H.useActionState(F,X,re)},Dt.useCallback=function(F,X){return O.H.useCallback(F,X)},Dt.useContext=function(F){return O.H.useContext(F)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(F,X){return O.H.useDeferredValue(F,X)},Dt.useEffect=function(F,X,re){var z=O.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(F,X)},Dt.useId=function(){return O.H.useId()},Dt.useImperativeHandle=function(F,X,re){return O.H.useImperativeHandle(F,X,re)},Dt.useInsertionEffect=function(F,X){return O.H.useInsertionEffect(F,X)},Dt.useLayoutEffect=function(F,X){return O.H.useLayoutEffect(F,X)},Dt.useMemo=function(F,X){return O.H.useMemo(F,X)},Dt.useOptimistic=function(F,X){return O.H.useOptimistic(F,X)},Dt.useReducer=function(F,X,re){return O.H.useReducer(F,X,re)},Dt.useRef=function(F){return O.H.useRef(F)},Dt.useState=function(F){return O.H.useState(F)},Dt.useSyncExternalStore=function(F,X,re){return O.H.useSyncExternalStore(F,X,re)},Dt.useTransition=function(){return O.H.useTransition()},Dt.version="19.1.1",Dt}var gO;function dS(){return gO||(gO=1,PR.exports=QK()),PR.exports}var b=dS();const K=Of(b);var IR={exports:{}},og={},FR={exports:{}},MR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO;function ZK(){return mO||(mO=1,function(e){function t($,Z){var te=$.length;$.push(Z);e:for(;0<te;){var pe=te-1>>>1,F=$[pe];if(0<i(F,Z))$[pe]=Z,$[te]=F,te=pe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],te=$.pop();if(te!==Z){$[0]=te;e:for(var pe=0,F=$.length,X=F>>>1;pe<X;){var re=2*(pe+1)-1,z=$[re],ge=re+1,Ae=$[ge];if(0>i(z,te))ge<F&&0>i(Ae,z)?($[pe]=Ae,$[ge]=te,pe=ge):($[pe]=z,$[re]=te,pe=re);else if(ge<F&&0>i(Ae,te))$[pe]=Ae,$[ge]=te,pe=ge;else break e}}return Z}function i($,Z){var te=$.sortIndex-Z.sortIndex;return te!==0?te:$.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,g=3,v=!1,C=!1,S=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k($){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=$)r(u),Z.sortIndex=Z.expirationTime,t(l,Z);else break;Z=n(u)}}function O($){if(S=!1,k($),!C)if(n(l)!==null)C=!0,P||(P=!0,U());else{var Z=n(u);Z!==null&&ie(O,Z.startTime-$)}}var P=!1,_=-1,M=5,N=-1;function B(){return R?!0:!(e.unstable_now()-N<M)}function H(){if(R=!1,P){var $=e.unstable_now();N=$;var Z=!0;try{e:{C=!1,S&&(S=!1,D(_),_=-1),v=!0;var te=g;try{t:{for(k($),f=n(l);f!==null&&!(f.expirationTime>$&&B());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,g=f.priorityLevel;var F=pe(f.expirationTime<=$);if($=e.unstable_now(),typeof F=="function"){f.callback=F,k($),Z=!0;break t}f===n(l)&&r(l),k($)}else r(l);f=n(l)}if(f!==null)Z=!0;else{var X=n(u);X!==null&&ie(O,X.startTime-$),Z=!1}}break e}finally{f=null,g=te,v=!1}Z=void 0}}finally{Z?U():P=!1}}}var U;if(typeof T=="function")U=function(){T(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=H,U=function(){ee.postMessage(null)}}else U=function(){x(H,0)};function ie($,Z){_=x(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var te=g;g=Z;try{return $()}finally{g=te}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=g;g=$;try{return Z()}finally{g=te}},e.unstable_scheduleCallback=function($,Z,te){var pe=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=te+F,$={id:h++,callback:Z,priorityLevel:$,startTime:te,expirationTime:F,sortIndex:-1},te>pe?($.sortIndex=te,t(u,$),n(l)===null&&$===n(u)&&(S?(D(_),_=-1):S=!0,ie(O,te-pe))):($.sortIndex=F,t(l,$),C||v||(C=!0,P||(P=!0,U()))),$},e.unstable_shouldYield=B,e.unstable_wrapCallback=function($){var Z=g;return function(){var te=g;g=Z;try{return $.apply(this,arguments)}finally{g=te}}}}(MR)),MR}var vO;function JK(){return vO||(vO=1,FR.exports=ZK()),FR.exports}var _R={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO;function eY(){if(yO)return ni;yO=1;var e=dS();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ni.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(l,u,null,h)},ni.flushSync=function(l){var u=o.T,h=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=u,r.p=h,r.d.f()}},ni.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},ni.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ni.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(l,{crossOrigin:f,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ni.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},ni.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin);r.d.L(l,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ni.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=a(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},ni.requestFormReset=function(l){r.d.r(l)},ni.unstable_batchedUpdates=function(l,u){return l(u)},ni.useFormState=function(l,u,h){return o.H.useFormState(l,u,h)},ni.useFormStatus=function(){return o.H.useHostTransitionStatus()},ni.version="19.1.1",ni}var CO;function lz(){if(CO)return _R.exports;CO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_R.exports=eY(),_R.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function tY(){if(wO)return og;wO=1;var e=JK(),t=dS(),n=lz();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(s(c)!==c)throw Error(r(188))}function l(c){var d=c.alternate;if(!d){if(d=s(c),d===null)throw Error(r(188));return d!==c?null:c}for(var p=c,m=d;;){var w=p.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){p=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===p)return a(w),c;if(E===m)return a(w),d;E=E.sibling}throw Error(r(188))}if(p.return!==m.return)p=w,m=E;else{for(var V=!1,j=w.child;j;){if(j===p){V=!0,p=w,m=E;break}if(j===m){V=!0,m=w,p=E;break}j=j.sibling}if(!V){for(j=E.child;j;){if(j===p){V=!0,p=E,m=w;break}if(j===m){V=!0,m=E,p=w;break}j=j.sibling}if(!V)throw Error(r(189))}}if(p.alternate!==m)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?c:d}function u(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=u(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=H&&c[H]||c["@@iterator"],typeof c=="function"?c:null)}var G=Symbol.for("react.client.reference");function ee(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===G?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case C:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case N:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case T:return(c.displayName||"Context")+".Provider";case D:return(c._context.displayName||"Context")+".Consumer";case k:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return d=c.displayName||null,d!==null?d:ee(c.type)||"Memo";case M:d=c._payload,c=c._init;try{return ee(c(d))}catch{}}return null}var ie=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},pe=[],F=-1;function X(c){return{current:c}}function re(c){0>F||(c.current=pe[F],pe[F]=null,F--)}function z(c,d){F++,pe[F]=c.current,c.current=d}var ge=X(null),Ae=X(null),Te=X(null),ut=X(null);function Ke(c,d){switch(z(Te,d),z(Ae,c),z(ge,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?Hk(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=Hk(d),c=Gk(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}re(ge),z(ge,c)}function Ue(){re(ge),re(Ae),re(Te)}function rt(c){c.memoizedState!==null&&z(ut,c);var d=ge.current,p=Gk(d,c.type);d!==p&&(z(Ae,c),z(ge,p))}function dt(c){Ae.current===c&&(re(ge),re(Ae)),ut.current===c&&(re(ut),eg._currentValue=te)}var yt=Object.prototype.hasOwnProperty,Ot=e.unstable_scheduleCallback,Oe=e.unstable_cancelCallback,Ne=e.unstable_shouldYield,Ze=e.unstable_requestPaint,Ve=e.unstable_now,Je=e.unstable_getCurrentPriorityLevel,Tt=e.unstable_ImmediatePriority,at=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Mt=e.unstable_IdlePriority,vn=e.log,Gn=e.unstable_setDisableYieldValue,ne=null,ye=null;function Ie(c){if(typeof vn=="function"&&Gn(c),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(ne,c)}catch{}}var Be=Math.clz32?Math.clz32:Rr,Lt=Math.log,An=Math.LN2;function Rr(c){return c>>>=0,c===0?32:31-(Lt(c)/An|0)|0}var ir=256,ei=4194304;function mr(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function _n(c,d,p){var m=c.pendingLanes;if(m===0)return 0;var w=0,E=c.suspendedLanes,V=c.pingedLanes;c=c.warmLanes;var j=m&134217727;return j!==0?(m=j&~E,m!==0?w=mr(m):(V&=j,V!==0?w=mr(V):p||(p=j&~c,p!==0&&(w=mr(p))))):(j=m&~E,j!==0?w=mr(j):V!==0?w=mr(V):p||(p=m&~c,p!==0&&(w=mr(p)))),w===0?0:d!==0&&d!==w&&(d&E)===0&&(E=w&-w,p=d&-d,E>=p||E===32&&(p&4194048)!==0)?d:w}function vr(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function xr(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var c=ir;return ir<<=1,(ir&4194048)===0&&(ir=256),c}function Wc(){var c=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),c}function ys(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function Js(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function vl(c,d,p,m,w,E){var V=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var j=c.entanglements,q=c.expirationTimes,ce=c.hiddenUpdates;for(p=V&~p;0<p;){var Ce=31-Be(p),Se=1<<Ce;j[Ce]=0,q[Ce]=-1;var he=ce[Ce];if(he!==null)for(ce[Ce]=null,Ce=0;Ce<he.length;Ce++){var fe=he[Ce];fe!==null&&(fe.lane&=-536870913)}p&=~Se}m!==0&&hi(c,m,0),E!==0&&w===0&&c.tag!==0&&(c.suspendedLanes|=E&~(V&~d))}function hi(c,d,p){c.pendingLanes|=d,c.suspendedLanes&=~d;var m=31-Be(d);c.entangledLanes|=d,c.entanglements[m]=c.entanglements[m]|1073741824|p&4194090}function wo(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var m=31-Be(p),w=1<<m;w&d|c[m]&d&&(c[m]|=d),p&=~w}}function bo(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function yl(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Y(){var c=Z.p;return c!==0?c:(c=window.event,c===void 0?32:oO(c.type))}function oe(c,d){var p=Z.p;try{return Z.p=c,d()}finally{Z.p=p}}var ue=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ue,De="__reactProps$"+ue,He="__reactContainer$"+ue,Ye="__reactEvents$"+ue,je="__reactListeners$"+ue,We="__reactHandles$"+ue,st="__reactResources$"+ue,$e="__reactMarker$"+ue;function qe(c){delete c[Ee],delete c[De],delete c[Ye],delete c[je],delete c[We]}function xt(c){var d=c[Ee];if(d)return d;for(var p=c.parentNode;p;){if(d=p[He]||p[Ee]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=Wk(c);c!==null;){if(p=c[Ee])return p;c=Wk(c)}return d}c=p,p=c.parentNode}return null}function qt(c){if(c=c[Ee]||c[He]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function yn(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function Xt(c){var d=c[st];return d||(d=c[st]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function St(c){c[$e]=!0}var Qt=new Set,Ai={};function Br(c,d){Tr(c,d),Tr(c+"Capture",d)}function Tr(c,d){for(Ai[c]=d,c=0;c<d.length;c++)Qt.add(d[c])}var fi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Wi={};function Cs(c){return yt.call(Wi,c)?!0:yt.call(Cl,c)?!1:fi.test(c)?Wi[c]=!0:(Cl[c]=!0,!1)}function $i(c,d,p){if(Cs(d))if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var m=d.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+p)}}function pi(c,d,p){if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+p)}}function wt(c,d,p,m){if(m===null)c.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(d,p,""+m)}}var Pn,wa;function gi(c){if(Pn===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);Pn=d&&d[1]||"",wa=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+c+wa}var wn=!1;function eo(c,d){if(!c||wn)return"";wn=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(d){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(fe){var he=fe}Reflect.construct(c,[],Se)}else{try{Se.call()}catch(fe){he=fe}c.call(Se.prototype)}}else{try{throw Error()}catch(fe){he=fe}(Se=c())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(fe){if(fe&&he&&typeof fe.stack=="string")return[fe.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),V=E[0],j=E[1];if(V&&j){var q=V.split(`
`),ce=j.split(`
`);for(w=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;w<ce.length&&!ce[w].includes("DetermineComponentFrameRoot");)w++;if(m===q.length||w===ce.length)for(m=q.length-1,w=ce.length-1;1<=m&&0<=w&&q[m]!==ce[w];)w--;for(;1<=m&&0<=w;m--,w--)if(q[m]!==ce[w]){if(m!==1||w!==1)do if(m--,w--,0>w||q[m]!==ce[w]){var Ce=`
`+q[m].replace(" at new "," at ");return c.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",c.displayName)),Ce}while(1<=m&&0<=w);break}}}finally{wn=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?gi(p):""}function wl(c){switch(c.tag){case 26:case 27:case 5:return gi(c.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return eo(c.type,!1);case 11:return eo(c.type.render,!1);case 1:return eo(c.type,!0);case 31:return gi("Activity");default:return""}}function bl(c){try{var d="";do d+=wl(c),c=c.return;while(c);return d}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function mi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function lp(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ME(c){var d=lp(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),m=""+c[d];if(!c.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,E=p.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return w.call(this)},set:function(V){m=""+V,E.call(this,V)}}),Object.defineProperty(c,d,{enumerable:p.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Fd(c){c._valueTracker||(c._valueTracker=ME(c))}function cp(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),m="";return c&&(m=lp(c)?c.checked?"true":"false":c.value),c=m,c!==p?(d.setValue(c),!0):!1}function $c(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var _E=/[\n"\\]/g;function sr(c){return c.replace(_E,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function qi(c,d,p,m,w,E,V,j){c.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.type=V:c.removeAttribute("type"),d!=null?V==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+mi(d)):c.value!==""+mi(d)&&(c.value=""+mi(d)):V!=="submit"&&V!=="reset"||c.removeAttribute("value"),d!=null?Sl(c,V,mi(d)):p!=null?Sl(c,V,mi(p)):m!=null&&c.removeAttribute("value"),w==null&&E!=null&&(c.defaultChecked=!!E),w!=null&&(c.checked=w&&typeof w!="function"&&typeof w!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?c.name=""+mi(j):c.removeAttribute("name")}function qc(c,d,p,m,w,E,V,j){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(c.type=E),d!=null||p!=null){if(!(E!=="submit"&&E!=="reset"||d!=null))return;p=p!=null?""+mi(p):"",d=d!=null?""+mi(d):p,j||d===c.value||(c.value=d),c.defaultValue=d}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,c.checked=j?c.checked:!!m,c.defaultChecked=!!m,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(c.name=V)}function Sl(c,d,p){d==="number"&&$c(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function ba(c,d,p,m){if(c=c.options,d){d={};for(var w=0;w<p.length;w++)d["$"+p[w]]=!0;for(p=0;p<c.length;p++)w=d.hasOwnProperty("$"+c[p].value),c[p].selected!==w&&(c[p].selected=w),w&&m&&(c[p].defaultSelected=!0)}else{for(p=""+mi(p),d=null,w=0;w<c.length;w++){if(c[w].value===p){c[w].selected=!0,m&&(c[w].defaultSelected=!0);return}d!==null||c[w].disabled||(d=c[w])}d!==null&&(d.selected=!0)}}function dn(c,d,p){if(d!=null&&(d=""+mi(d),d!==c.value&&(c.value=d),p==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=p!=null?""+mi(p):""}function Kc(c,d,p,m){if(d==null){if(m!=null){if(p!=null)throw Error(r(92));if(ie(m)){if(1<m.length)throw Error(r(93));m=m[0]}p=m}p==null&&(p=""),d=p}p=mi(d),c.defaultValue=p,m=c.textContent,m===p&&m!==""&&m!==null&&(c.value=m)}function ws(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ay(c,d,p){var m=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":m?c.setProperty(d,p):typeof p!="number"||p===0||Yc.has(d)?d==="float"?c.cssFloat=p:c[d]=(""+p).trim():c[d]=p+"px"}function up(c,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||d!=null&&d.hasOwnProperty(m)||(m.indexOf("--")===0?c.setProperty(m,""):m==="float"?c.cssFloat="":c[m]="");for(var w in d)m=d[w],d.hasOwnProperty(w)&&p[w]!==m&&ay(c,w,m)}else for(var E in d)d.hasOwnProperty(E)&&ay(c,E,d[E])}function dp(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Md(c){return OE.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Sa=null;function bs(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ea=null,Ra=null;function hp(c){var d=qt(c);if(d&&(c=d.stateNode)){var p=c[De]||null;e:switch(c=d.stateNode,d.type){case"input":if(qi(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+sr(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var m=p[d];if(m!==c&&m.form===c.form){var w=m[De]||null;if(!w)throw Error(r(90));qi(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(d=0;d<p.length;d++)m=p[d],m.form===c.form&&cp(m)}break e;case"textarea":dn(c,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&ba(c,!!p.multiple,d,!1)}}}var So=!1;function ly(c,d,p){if(So)return c(d,p);So=!0;try{var m=c(d);return m}finally{if(So=!1,(Ea!==null||Ra!==null)&&(tC(),Ea&&(d=Ea,c=Ra,Ra=Ea=null,hp(d),c)))for(d=0;d<c.length;d++)hp(c[d])}}function Xc(c,d){var p=c.stateNode;if(p===null)return null;var m=p[De]||null;if(m===null)return null;p=m[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(c=c.type,m=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!m;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(to)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{Ss=!1}var Eo=null,El=null,xa=null;function fp(){if(xa)return xa;var c,d=El,p=d.length,m,w="value"in Eo?Eo.value:Eo.textContent,E=w.length;for(c=0;c<p&&d[c]===w[c];c++);var V=p-c;for(m=1;m<=V&&d[p-m]===w[E-m];m++);return xa=w.slice(c,1<m?1-m:void 0)}function Ro(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function xo(){return!0}function pp(){return!1}function Dr(c){function d(p,m,w,E,V){this._reactName=p,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=V,this.currentTarget=null;for(var j in c)c.hasOwnProperty(j)&&(p=c[j],this[j]=p?p(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xo:pp,this.isPropagationStopped=pp,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),d}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_d=Dr(nn),Zc=h({},nn,{view:0,detail:0}),cy=Dr(Zc),kd,Od,To,Jc=h({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==To&&(To&&c.type==="mousemove"?(kd=c.screenX-To.screenX,Od=c.screenY-To.screenY):Od=kd=0,To=c),kd)},movementY:function(c){return"movementY"in c?c.movementY:Od}}),Es=Dr(Jc),uy=h({},Jc,{dataTransfer:0}),LE=Dr(uy),eu=h({},Zc,{relatedTarget:0}),Ld=Dr(eu),gp=h({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nd=Dr(gp),dy=h({},nn,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Vd=Dr(dy),NE=h({},nn,{data:0}),mp=Dr(NE),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vp(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=fy[c])?!!d[c]:!1}function nu(){return vp}var py=h({},Zc,{key:function(c){if(c.key){var d=tu[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Ro(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?hy[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(c){return c.type==="keypress"?Ro(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ro(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Bd=Dr(py),gy=h({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=Dr(gy),Ta=h({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),my=Dr(Ta),vy=h({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yy=Dr(vy),Cy=h({},Jc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Hd=Dr(Cy),vi=h({},nn,{newState:0,oldState:0}),wy=Dr(vi),by=[9,13,27,32],Do=to&&"CompositionEvent"in window,y=null;to&&"documentMode"in document&&(y=document.documentMode);var A=to&&"TextEvent"in window&&!y,L=to&&(!Do||y&&8<y&&11>=y),W=" ",ae=!1;function ve(c,d){switch(c){case"keyup":return by.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Me(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Gt=!1;function yr(c,d){switch(c){case"compositionend":return Me(d);case"keypress":return d.which!==32?null:(ae=!0,W);case"textInput":return c=d.data,c===W&&ae?null:c;default:return null}}function zt(c,d){if(Gt)return c==="compositionend"||!Do&&ve(c,d)?(c=fp(),xa=El=Eo=null,Gt=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return L&&d.locale!=="ko"?null:d.data;default:return null}}var Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cr(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Ar[c.type]:d==="textarea"}function Da(c,d,p,m){Ea?Ra?Ra.push(m):Ra=[m]:Ea=m,d=aC(d,"onChange"),0<d.length&&(p=new _d("onChange","change",null,p,m),c.push({event:p,listeners:d}))}var Hr=null,Ao=null;function Cp(c){Ok(c,0)}function Sy(c){var d=yn(c);if(cp(d))return c}function nM(c,d){if(c==="change")return d}var rM=!1;if(to){var VE;if(to){var BE="oninput"in document;if(!BE){var iM=document.createElement("div");iM.setAttribute("oninput","return;"),BE=typeof iM.oninput=="function"}VE=BE}else VE=!1;rM=VE&&(!document.documentMode||9<document.documentMode)}function sM(){Hr&&(Hr.detachEvent("onpropertychange",oM),Ao=Hr=null)}function oM(c){if(c.propertyName==="value"&&Sy(Ao)){var d=[];Da(d,Ao,c,bs(c)),ly(Cp,d)}}function xq(c,d,p){c==="focusin"?(sM(),Hr=d,Ao=p,Hr.attachEvent("onpropertychange",oM)):c==="focusout"&&sM()}function Tq(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Sy(Ao)}function Dq(c,d){if(c==="click")return Sy(d)}function Aq(c,d){if(c==="input"||c==="change")return Sy(d)}function Pq(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ki=typeof Object.is=="function"?Object.is:Pq;function wp(c,d){if(Ki(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),m=Object.keys(d);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var w=p[m];if(!yt.call(d,w)||!Ki(c[w],d[w]))return!1}return!0}function aM(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function lM(c,d){var p=aM(c);c=0;for(var m;p;){if(p.nodeType===3){if(m=c+p.textContent.length,c<=d&&m>=d)return{node:p,offset:d-c};c=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=aM(p)}}function cM(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?cM(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function uM(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=$c(c.document);d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=$c(c.document)}return d}function HE(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var Iq=to&&"documentMode"in document&&11>=document.documentMode,Gd=null,GE=null,bp=null,zE=!1;function dM(c,d,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;zE||Gd==null||Gd!==$c(m)||(m=Gd,"selectionStart"in m&&HE(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),bp&&wp(bp,m)||(bp=m,m=aC(GE,"onSelect"),0<m.length&&(d=new _d("onSelect","select",null,d,p),c.push({event:d,listeners:m}),d.target=Gd)))}function ru(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var zd={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionrun:ru("Transition","TransitionRun"),transitionstart:ru("Transition","TransitionStart"),transitioncancel:ru("Transition","TransitionCancel"),transitionend:ru("Transition","TransitionEnd")},UE={},hM={};to&&(hM=document.createElement("div").style,"AnimationEvent"in window||(delete zd.animationend.animation,delete zd.animationiteration.animation,delete zd.animationstart.animation),"TransitionEvent"in window||delete zd.transitionend.transition);function iu(c){if(UE[c])return UE[c];if(!zd[c])return c;var d=zd[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in hM)return UE[c]=d[p];return c}var fM=iu("animationend"),pM=iu("animationiteration"),gM=iu("animationstart"),Fq=iu("transitionrun"),Mq=iu("transitionstart"),_q=iu("transitioncancel"),mM=iu("transitionend"),vM=new Map,jE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jE.push("scrollEnd");function no(c,d){vM.set(c,d),Br(d,[c])}var yM=new WeakMap;function Rs(c,d){if(typeof c=="object"&&c!==null){var p=yM.get(c);return p!==void 0?p:(d={value:c,source:d,stack:bl(d)},yM.set(c,d),d)}return{value:c,source:d,stack:bl(d)}}var xs=[],Ud=0,WE=0;function Ey(){for(var c=Ud,d=WE=Ud=0;d<c;){var p=xs[d];xs[d++]=null;var m=xs[d];xs[d++]=null;var w=xs[d];xs[d++]=null;var E=xs[d];if(xs[d++]=null,m!==null&&w!==null){var V=m.pending;V===null?w.next=w:(w.next=V.next,V.next=w),m.pending=w}E!==0&&CM(p,w,E)}}function Ry(c,d,p,m){xs[Ud++]=c,xs[Ud++]=d,xs[Ud++]=p,xs[Ud++]=m,WE|=m,c.lanes|=m,c=c.alternate,c!==null&&(c.lanes|=m)}function $E(c,d,p,m){return Ry(c,d,p,m),xy(c)}function jd(c,d){return Ry(c,null,null,d),xy(c)}function CM(c,d,p){c.lanes|=p;var m=c.alternate;m!==null&&(m.lanes|=p);for(var w=!1,E=c.return;E!==null;)E.childLanes|=p,m=E.alternate,m!==null&&(m.childLanes|=p),E.tag===22&&(c=E.stateNode,c===null||c._visibility&1||(w=!0)),c=E,E=E.return;return c.tag===3?(E=c.stateNode,w&&d!==null&&(w=31-Be(p),c=E.hiddenUpdates,m=c[w],m===null?c[w]=[d]:m.push(d),d.lane=p|536870912),E):null}function xy(c){if(50<$p)throw $p=0,Z0=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Wd={};function kq(c,d,p,m){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(c,d,p,m){return new kq(c,d,p,m)}function qE(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Aa(c,d){var p=c.alternate;return p===null?(p=Yi(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function wM(c,d){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,d=p.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Ty(c,d,p,m,w,E){var V=0;if(m=c,typeof c=="function")qE(c)&&(V=1);else if(typeof c=="string")V=LK(c,p,ge.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case N:return c=Yi(31,p,d,w),c.elementType=N,c.lanes=E,c;case C:return su(p.children,w,E,d);case S:V=8,w|=24;break;case R:return c=Yi(12,p,d,w|2),c.elementType=R,c.lanes=E,c;case O:return c=Yi(13,p,d,w),c.elementType=O,c.lanes=E,c;case P:return c=Yi(19,p,d,w),c.elementType=P,c.lanes=E,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case x:case T:V=10;break e;case D:V=9;break e;case k:V=11;break e;case _:V=14;break e;case M:V=16,m=null;break e}V=29,p=Error(r(130,c===null?"null":typeof c,"")),m=null}return d=Yi(V,p,d,w),d.elementType=c,d.type=m,d.lanes=E,d}function su(c,d,p,m){return c=Yi(7,c,m,d),c.lanes=p,c}function KE(c,d,p){return c=Yi(6,c,null,d),c.lanes=p,c}function YE(c,d,p){return d=Yi(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var $d=[],qd=0,Dy=null,Ay=0,Ts=[],Ds=0,ou=null,Pa=1,Ia="";function au(c,d){$d[qd++]=Ay,$d[qd++]=Dy,Dy=c,Ay=d}function bM(c,d,p){Ts[Ds++]=Pa,Ts[Ds++]=Ia,Ts[Ds++]=ou,ou=c;var m=Pa;c=Ia;var w=32-Be(m)-1;m&=~(1<<w),p+=1;var E=32-Be(d)+w;if(30<E){var V=w-w%5;E=(m&(1<<V)-1).toString(32),m>>=V,w-=V,Pa=1<<32-Be(d)+w|p<<w|m,Ia=E+c}else Pa=1<<E|p<<w|m,Ia=c}function XE(c){c.return!==null&&(au(c,1),bM(c,1,0))}function QE(c){for(;c===Dy;)Dy=$d[--qd],$d[qd]=null,Ay=$d[--qd],$d[qd]=null;for(;c===ou;)ou=Ts[--Ds],Ts[Ds]=null,Ia=Ts[--Ds],Ts[Ds]=null,Pa=Ts[--Ds],Ts[Ds]=null}var yi=null,zn=null,Zt=!1,lu=null,Po=!1,ZE=Error(r(519));function cu(c){var d=Error(r(418,""));throw Rp(Rs(d,c)),ZE}function SM(c){var d=c.stateNode,p=c.type,m=c.memoizedProps;switch(d[Ee]=c,d[De]=m,p){case"dialog":kt("cancel",d),kt("close",d);break;case"iframe":case"object":case"embed":kt("load",d);break;case"video":case"audio":for(p=0;p<Kp.length;p++)kt(Kp[p],d);break;case"source":kt("error",d);break;case"img":case"image":case"link":kt("error",d),kt("load",d);break;case"details":kt("toggle",d);break;case"input":kt("invalid",d),qc(d,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Fd(d);break;case"select":kt("invalid",d);break;case"textarea":kt("invalid",d),Kc(d,m.value,m.defaultValue,m.children),Fd(d)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||m.suppressHydrationWarning===!0||Bk(d.textContent,p)?(m.popover!=null&&(kt("beforetoggle",d),kt("toggle",d)),m.onScroll!=null&&kt("scroll",d),m.onScrollEnd!=null&&kt("scrollend",d),m.onClick!=null&&(d.onclick=lC),d=!0):d=!1,d||cu(c)}function EM(c){for(yi=c.return;yi;)switch(yi.tag){case 5:case 13:Po=!1;return;case 27:case 3:Po=!0;return;default:yi=yi.return}}function Sp(c){if(c!==yi)return!1;if(!Zt)return EM(c),Zt=!0,!1;var d=c.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||pR(c.type,c.memoizedProps)),p=!p),p&&zn&&cu(c),EM(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(p=c.data,p==="/$"){if(d===0){zn=io(c.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++;c=c.nextSibling}zn=null}}else d===27?(d=zn,Bl(c.type)?(c=yR,yR=null,zn=c):zn=d):zn=yi?io(c.stateNode.nextSibling):null;return!0}function Ep(){zn=yi=null,Zt=!1}function RM(){var c=lu;return c!==null&&(Fi===null?Fi=c:Fi.push.apply(Fi,c),lu=null),c}function Rp(c){lu===null?lu=[c]:lu.push(c)}var JE=X(null),uu=null,Fa=null;function Rl(c,d,p){z(JE,d._currentValue),d._currentValue=p}function Ma(c){c._currentValue=JE.current,re(JE)}function e0(c,d,p){for(;c!==null;){var m=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,m!==null&&(m.childLanes|=d)):m!==null&&(m.childLanes&d)!==d&&(m.childLanes|=d),c===p)break;c=c.return}}function t0(c,d,p,m){var w=c.child;for(w!==null&&(w.return=c);w!==null;){var E=w.dependencies;if(E!==null){var V=w.child;E=E.firstContext;e:for(;E!==null;){var j=E;E=w;for(var q=0;q<d.length;q++)if(j.context===d[q]){E.lanes|=p,j=E.alternate,j!==null&&(j.lanes|=p),e0(E.return,p,c),m||(V=null);break e}E=j.next}}else if(w.tag===18){if(V=w.return,V===null)throw Error(r(341));V.lanes|=p,E=V.alternate,E!==null&&(E.lanes|=p),e0(V,p,c),V=null}else V=w.child;if(V!==null)V.return=w;else for(V=w;V!==null;){if(V===c){V=null;break}if(w=V.sibling,w!==null){w.return=V.return,V=w;break}V=V.return}w=V}}function xp(c,d,p,m){c=null;for(var w=d,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var V=w.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var j=w.type;Ki(w.pendingProps.value,V.value)||(c!==null?c.push(j):c=[j])}}else if(w===ut.current){if(V=w.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(c!==null?c.push(eg):c=[eg])}w=w.return}c!==null&&t0(d,c,p,m),d.flags|=262144}function Py(c){for(c=c.firstContext;c!==null;){if(!Ki(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function du(c){uu=c,Fa=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function ti(c){return xM(uu,c)}function Iy(c,d){return uu===null&&du(c),xM(c,d)}function xM(c,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},Fa===null){if(c===null)throw Error(r(308));Fa=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Fa=Fa.next=d;return p}var Oq=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(p,m){c.push(m)}};this.abort=function(){d.aborted=!0,c.forEach(function(p){return p()})}},Lq=e.unstable_scheduleCallback,Nq=e.unstable_NormalPriority,wr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function n0(){return{controller:new Oq,data:new Map,refCount:0}}function Tp(c){c.refCount--,c.refCount===0&&Lq(Nq,function(){c.controller.abort()})}var Dp=null,r0=0,Kd=0,Yd=null;function Vq(c,d){if(Dp===null){var p=Dp=[];r0=0,Kd=sR(),Yd={status:"pending",value:void 0,then:function(m){p.push(m)}}}return r0++,d.then(TM,TM),d}function TM(){if(--r0===0&&Dp!==null){Yd!==null&&(Yd.status="fulfilled");var c=Dp;Dp=null,Kd=0,Yd=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function Bq(c,d){var p=[],m={status:"pending",value:null,reason:null,then:function(w){p.push(w)}};return c.then(function(){m.status="fulfilled",m.value=d;for(var w=0;w<p.length;w++)(0,p[w])(d)},function(w){for(m.status="rejected",m.reason=w,w=0;w<p.length;w++)(0,p[w])(void 0)}),m}var DM=$.S;$.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Vq(c,d),DM!==null&&DM(c,d)};var hu=X(null);function i0(){var c=hu.current;return c!==null?c:bn.pooledCache}function Fy(c,d){d===null?z(hu,hu.current):z(hu,d.pool)}function AM(){var c=i0();return c===null?null:{parent:wr._currentValue,pool:c}}var Ap=Error(r(460)),PM=Error(r(474)),My=Error(r(542)),s0={then:function(){}};function IM(c){return c=c.status,c==="fulfilled"||c==="rejected"}function _y(){}function FM(c,d,p){switch(p=c[p],p===void 0?c.push(d):p!==d&&(d.then(_y,_y),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,_M(c),c;default:if(typeof d.status=="string")d.then(_y,_y);else{if(c=bn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(m){if(d.status==="pending"){var w=d;w.status="fulfilled",w.value=m}},function(m){if(d.status==="pending"){var w=d;w.status="rejected",w.reason=m}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,_M(c),c}throw Pp=d,Ap}}var Pp=null;function MM(){if(Pp===null)throw Error(r(459));var c=Pp;return Pp=null,c}function _M(c){if(c===Ap||c===My)throw Error(r(483))}var xl=!1;function o0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function a0(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Tl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Dl(c,d,p){var m=c.updateQueue;if(m===null)return null;if(m=m.shared,(cn&2)!==0){var w=m.pending;return w===null?d.next=d:(d.next=w.next,w.next=d),m.pending=d,d=xy(c),CM(c,null,p),d}return Ry(c,m,d,p),xy(c)}function Ip(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var m=d.lanes;m&=c.pendingLanes,p|=m,d.lanes=p,wo(c,p)}}function l0(c,d){var p=c.updateQueue,m=c.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var w=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};E===null?w=E=V:E=E.next=V,p=p.next}while(p!==null);E===null?w=E=d:E=E.next=d}else w=E=d;p={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}var c0=!1;function Fp(){if(c0){var c=Yd;if(c!==null)throw c}}function Mp(c,d,p,m){c0=!1;var w=c.updateQueue;xl=!1;var E=w.firstBaseUpdate,V=w.lastBaseUpdate,j=w.shared.pending;if(j!==null){w.shared.pending=null;var q=j,ce=q.next;q.next=null,V===null?E=ce:V.next=ce,V=q;var Ce=c.alternate;Ce!==null&&(Ce=Ce.updateQueue,j=Ce.lastBaseUpdate,j!==V&&(j===null?Ce.firstBaseUpdate=ce:j.next=ce,Ce.lastBaseUpdate=q))}if(E!==null){var Se=w.baseState;V=0,Ce=ce=q=null,j=E;do{var he=j.lane&-536870913,fe=he!==j.lane;if(fe?(Ut&he)===he:(m&he)===he){he!==0&&he===Kd&&(c0=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var mt=c,lt=j;he=d;var pn=p;switch(lt.tag){case 1:if(mt=lt.payload,typeof mt=="function"){Se=mt.call(pn,Se,he);break e}Se=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=lt.payload,he=typeof mt=="function"?mt.call(pn,Se,he):mt,he==null)break e;Se=h({},Se,he);break e;case 2:xl=!0}}he=j.callback,he!==null&&(c.flags|=64,fe&&(c.flags|=8192),fe=w.callbacks,fe===null?w.callbacks=[he]:fe.push(he))}else fe={lane:he,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Ce===null?(ce=Ce=fe,q=Se):Ce=Ce.next=fe,V|=he;if(j=j.next,j===null){if(j=w.shared.pending,j===null)break;fe=j,j=fe.next,fe.next=null,w.lastBaseUpdate=fe,w.shared.pending=null}}while(!0);Ce===null&&(q=Se),w.baseState=q,w.firstBaseUpdate=ce,w.lastBaseUpdate=Ce,E===null&&(w.shared.lanes=0),Ol|=V,c.lanes=V,c.memoizedState=Se}}function kM(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function OM(c,d){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)kM(p[c],d)}var Xd=X(null),ky=X(0);function LM(c,d){c=Ba,z(ky,c),z(Xd,d),Ba=c|d.baseLanes}function u0(){z(ky,Ba),z(Xd,Xd.current)}function d0(){Ba=ky.current,re(Xd),re(ky)}var Al=0,Pt=null,hn=null,or=null,Oy=!1,Qd=!1,fu=!1,Ly=0,_p=0,Zd=null,Hq=0;function Yn(){throw Error(r(321))}function h0(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!Ki(c[p],d[p]))return!1;return!0}function f0(c,d,p,m,w,E){return Al=E,Pt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,$.H=c===null||c.memoizedState===null?C_:w_,fu=!1,E=p(m,w),fu=!1,Qd&&(E=VM(d,p,m,w)),NM(c),E}function NM(c){$.H=zy;var d=hn!==null&&hn.next!==null;if(Al=0,or=hn=Pt=null,Oy=!1,_p=0,Zd=null,d)throw Error(r(300));c===null||Pr||(c=c.dependencies,c!==null&&Py(c)&&(Pr=!0))}function VM(c,d,p,m){Pt=c;var w=0;do{if(Qd&&(Zd=null),_p=0,Qd=!1,25<=w)throw Error(r(301));if(w+=1,or=hn=null,c.updateQueue!=null){var E=c.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}$.H=qq,E=d(p,m)}while(Qd);return E}function Gq(){var c=$.H,d=c.useState()[0];return d=typeof d.then=="function"?kp(d):d,c=c.useState()[0],(hn!==null?hn.memoizedState:null)!==c&&(Pt.flags|=1024),d}function p0(){var c=Ly!==0;return Ly=0,c}function g0(c,d,p){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~p}function m0(c){if(Oy){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Oy=!1}Al=0,or=hn=Pt=null,Qd=!1,_p=Ly=0,Zd=null}function Pi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Pt.memoizedState=or=c:or=or.next=c,or}function ar(){if(hn===null){var c=Pt.alternate;c=c!==null?c.memoizedState:null}else c=hn.next;var d=or===null?Pt.memoizedState:or.next;if(d!==null)or=d,hn=c;else{if(c===null)throw Pt.alternate===null?Error(r(467)):Error(r(310));hn=c,c={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},or===null?Pt.memoizedState=or=c:or=or.next=c}return or}function v0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kp(c){var d=_p;return _p+=1,Zd===null&&(Zd=[]),c=FM(Zd,c,d),d=Pt,(or===null?d.memoizedState:or.next)===null&&(d=d.alternate,$.H=d===null||d.memoizedState===null?C_:w_),c}function Ny(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return kp(c);if(c.$$typeof===T)return ti(c)}throw Error(r(438,String(c)))}function y0(c){var d=null,p=Pt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var m=Pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(d={data:m.data.map(function(w){return w.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=v0(),Pt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(c),m=0;m<c;m++)p[m]=B;return d.index++,p}function _a(c,d){return typeof d=="function"?d(c):d}function Vy(c){var d=ar();return C0(d,hn,c)}function C0(c,d,p){var m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=p;var w=c.baseQueue,E=m.pending;if(E!==null){if(w!==null){var V=w.next;w.next=E.next,E.next=V}d.baseQueue=w=E,m.pending=null}if(E=c.baseState,w===null)c.memoizedState=E;else{d=w.next;var j=V=null,q=null,ce=d,Ce=!1;do{var Se=ce.lane&-536870913;if(Se!==ce.lane?(Ut&Se)===Se:(Al&Se)===Se){var he=ce.revertLane;if(he===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Se===Kd&&(Ce=!0);else if((Al&he)===he){ce=ce.next,he===Kd&&(Ce=!0);continue}else Se={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},q===null?(j=q=Se,V=E):q=q.next=Se,Pt.lanes|=he,Ol|=he;Se=ce.action,fu&&p(E,Se),E=ce.hasEagerState?ce.eagerState:p(E,Se)}else he={lane:Se,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},q===null?(j=q=he,V=E):q=q.next=he,Pt.lanes|=Se,Ol|=Se;ce=ce.next}while(ce!==null&&ce!==d);if(q===null?V=E:q.next=j,!Ki(E,c.memoizedState)&&(Pr=!0,Ce&&(p=Yd,p!==null)))throw p;c.memoizedState=E,c.baseState=V,c.baseQueue=q,m.lastRenderedState=E}return w===null&&(m.lanes=0),[c.memoizedState,m.dispatch]}function w0(c){var d=ar(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var m=p.dispatch,w=p.pending,E=d.memoizedState;if(w!==null){p.pending=null;var V=w=w.next;do E=c(E,V.action),V=V.next;while(V!==w);Ki(E,d.memoizedState)||(Pr=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),p.lastRenderedState=E}return[E,m]}function BM(c,d,p){var m=Pt,w=ar(),E=Zt;if(E){if(p===void 0)throw Error(r(407));p=p()}else p=d();var V=!Ki((hn||w).memoizedState,p);V&&(w.memoizedState=p,Pr=!0),w=w.queue;var j=zM.bind(null,m,w,c);if(Op(2048,8,j,[c]),w.getSnapshot!==d||V||or!==null&&or.memoizedState.tag&1){if(m.flags|=2048,Jd(9,By(),GM.bind(null,m,w,p,d),null),bn===null)throw Error(r(349));E||(Al&124)!==0||HM(m,d,p)}return p}function HM(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=Pt.updateQueue,d===null?(d=v0(),Pt.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function GM(c,d,p,m){d.value=p,d.getSnapshot=m,UM(d)&&jM(c)}function zM(c,d,p){return p(function(){UM(d)&&jM(c)})}function UM(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!Ki(c,p)}catch{return!0}}function jM(c){var d=jd(c,2);d!==null&&es(d,c,2)}function b0(c){var d=Pi();if(typeof c=="function"){var p=c;if(c=p(),fu){Ie(!0);try{p()}finally{Ie(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:c},d}function WM(c,d,p,m){return c.baseState=p,C0(c,hn,typeof m=="function"?m:_a)}function zq(c,d,p,m,w){if(Gy(c))throw Error(r(485));if(c=d.action,c!==null){var E={payload:w,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){E.listeners.push(V)}};$.T!==null?p(!0):E.isTransition=!1,m(E),p=d.pending,p===null?(E.next=d.pending=E,$M(d,E)):(E.next=p.next,d.pending=p.next=E)}}function $M(c,d){var p=d.action,m=d.payload,w=c.state;if(d.isTransition){var E=$.T,V={};$.T=V;try{var j=p(w,m),q=$.S;q!==null&&q(V,j),qM(c,d,j)}catch(ce){S0(c,d,ce)}finally{$.T=E}}else try{E=p(w,m),qM(c,d,E)}catch(ce){S0(c,d,ce)}}function qM(c,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){KM(c,d,m)},function(m){return S0(c,d,m)}):KM(c,d,p)}function KM(c,d,p){d.status="fulfilled",d.value=p,YM(d),c.state=p,d=c.pending,d!==null&&(p=d.next,p===d?c.pending=null:(p=p.next,d.next=p,$M(c,p)))}function S0(c,d,p){var m=c.pending;if(c.pending=null,m!==null){m=m.next;do d.status="rejected",d.reason=p,YM(d),d=d.next;while(d!==m)}c.action=null}function YM(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function XM(c,d){return d}function QM(c,d){if(Zt){var p=bn.formState;if(p!==null){e:{var m=Pt;if(Zt){if(zn){t:{for(var w=zn,E=Po;w.nodeType!==8;){if(!E){w=null;break t}if(w=io(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){zn=io(w.nextSibling),m=w.data==="F!";break e}}cu(m)}m=!1}m&&(d=p[0])}}return p=Pi(),p.memoizedState=p.baseState=d,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XM,lastRenderedState:d},p.queue=m,p=m_.bind(null,Pt,m),m.dispatch=p,m=b0(!1),E=D0.bind(null,Pt,!1,m.queue),m=Pi(),w={state:d,dispatch:null,action:c,pending:null},m.queue=w,p=zq.bind(null,Pt,w,E,p),w.dispatch=p,m.memoizedState=c,[d,p,!1]}function ZM(c){var d=ar();return JM(d,hn,c)}function JM(c,d,p){if(d=C0(c,d,XM)[0],c=Vy(_a)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var m=kp(d)}catch(V){throw V===Ap?My:V}else m=d;d=ar();var w=d.queue,E=w.dispatch;return p!==d.memoizedState&&(Pt.flags|=2048,Jd(9,By(),Uq.bind(null,w,p),null)),[m,E,c]}function Uq(c,d){c.action=d}function e_(c){var d=ar(),p=hn;if(p!==null)return JM(d,p,c);ar(),d=d.memoizedState,p=ar();var m=p.queue.dispatch;return p.memoizedState=c,[d,m,!1]}function Jd(c,d,p,m){return c={tag:c,create:p,deps:m,inst:d,next:null},d=Pt.updateQueue,d===null&&(d=v0(),Pt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=c.next=c:(m=p.next,p.next=c,c.next=m,d.lastEffect=c),c}function By(){return{destroy:void 0,resource:void 0}}function t_(){return ar().memoizedState}function Hy(c,d,p,m){var w=Pi();m=m===void 0?null:m,Pt.flags|=c,w.memoizedState=Jd(1|d,By(),p,m)}function Op(c,d,p,m){var w=ar();m=m===void 0?null:m;var E=w.memoizedState.inst;hn!==null&&m!==null&&h0(m,hn.memoizedState.deps)?w.memoizedState=Jd(d,E,p,m):(Pt.flags|=c,w.memoizedState=Jd(1|d,E,p,m))}function n_(c,d){Hy(8390656,8,c,d)}function r_(c,d){Op(2048,8,c,d)}function i_(c,d){return Op(4,2,c,d)}function s_(c,d){return Op(4,4,c,d)}function o_(c,d){if(typeof d=="function"){c=c();var p=d(c);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function a_(c,d,p){p=p!=null?p.concat([c]):null,Op(4,4,o_.bind(null,d,c),p)}function E0(){}function l_(c,d){var p=ar();d=d===void 0?null:d;var m=p.memoizedState;return d!==null&&h0(d,m[1])?m[0]:(p.memoizedState=[c,d],c)}function c_(c,d){var p=ar();d=d===void 0?null:d;var m=p.memoizedState;if(d!==null&&h0(d,m[1]))return m[0];if(m=c(),fu){Ie(!0);try{c()}finally{Ie(!1)}}return p.memoizedState=[m,d],m}function R0(c,d,p){return p===void 0||(Al&1073741824)!==0?c.memoizedState=d:(c.memoizedState=p,c=hk(),Pt.lanes|=c,Ol|=c,p)}function u_(c,d,p,m){return Ki(p,d)?p:Xd.current!==null?(c=R0(c,p,m),Ki(c,d)||(Pr=!0),c):(Al&42)===0?(Pr=!0,c.memoizedState=p):(c=hk(),Pt.lanes|=c,Ol|=c,d)}function d_(c,d,p,m,w){var E=Z.p;Z.p=E!==0&&8>E?E:8;var V=$.T,j={};$.T=j,D0(c,!1,d,p);try{var q=w(),ce=$.S;if(ce!==null&&ce(j,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var Ce=Bq(q,m);Lp(c,d,Ce,Ji(c))}else Lp(c,d,m,Ji(c))}catch(Se){Lp(c,d,{then:function(){},status:"rejected",reason:Se},Ji())}finally{Z.p=E,$.T=V}}function jq(){}function x0(c,d,p,m){if(c.tag!==5)throw Error(r(476));var w=h_(c).queue;d_(c,w,d,te,p===null?jq:function(){return f_(c),p(m)})}function h_(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:te},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:p},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function f_(c){var d=h_(c).next.queue;Lp(c,d,{},Ji())}function T0(){return ti(eg)}function p_(){return ar().memoizedState}function g_(){return ar().memoizedState}function Wq(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var p=Ji();c=Tl(p);var m=Dl(d,c,p);m!==null&&(es(m,d,p),Ip(m,d,p)),d={cache:n0()},c.payload=d;return}d=d.return}}function $q(c,d,p){var m=Ji();p={lane:m,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Gy(c)?v_(d,p):(p=$E(c,d,p,m),p!==null&&(es(p,c,m),y_(p,d,m)))}function m_(c,d,p){var m=Ji();Lp(c,d,p,m)}function Lp(c,d,p,m){var w={lane:m,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Gy(c))v_(d,w);else{var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var V=d.lastRenderedState,j=E(V,p);if(w.hasEagerState=!0,w.eagerState=j,Ki(j,V))return Ry(c,d,w,0),bn===null&&Ey(),!1}catch{}finally{}if(p=$E(c,d,w,m),p!==null)return es(p,c,m),y_(p,d,m),!0}return!1}function D0(c,d,p,m){if(m={lane:2,revertLane:sR(),action:m,hasEagerState:!1,eagerState:null,next:null},Gy(c)){if(d)throw Error(r(479))}else d=$E(c,p,m,2),d!==null&&es(d,c,2)}function Gy(c){var d=c.alternate;return c===Pt||d!==null&&d===Pt}function v_(c,d){Qd=Oy=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function y_(c,d,p){if((p&4194048)!==0){var m=d.lanes;m&=c.pendingLanes,p|=m,d.lanes=p,wo(c,p)}}var zy={readContext:ti,use:Ny,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn,useHostTransitionStatus:Yn,useFormState:Yn,useActionState:Yn,useOptimistic:Yn,useMemoCache:Yn,useCacheRefresh:Yn},C_={readContext:ti,use:Ny,useCallback:function(c,d){return Pi().memoizedState=[c,d===void 0?null:d],c},useContext:ti,useEffect:n_,useImperativeHandle:function(c,d,p){p=p!=null?p.concat([c]):null,Hy(4194308,4,o_.bind(null,d,c),p)},useLayoutEffect:function(c,d){return Hy(4194308,4,c,d)},useInsertionEffect:function(c,d){Hy(4,2,c,d)},useMemo:function(c,d){var p=Pi();d=d===void 0?null:d;var m=c();if(fu){Ie(!0);try{c()}finally{Ie(!1)}}return p.memoizedState=[m,d],m},useReducer:function(c,d,p){var m=Pi();if(p!==void 0){var w=p(d);if(fu){Ie(!0);try{p(d)}finally{Ie(!1)}}}else w=d;return m.memoizedState=m.baseState=w,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:w},m.queue=c,c=c.dispatch=$q.bind(null,Pt,c),[m.memoizedState,c]},useRef:function(c){var d=Pi();return c={current:c},d.memoizedState=c},useState:function(c){c=b0(c);var d=c.queue,p=m_.bind(null,Pt,d);return d.dispatch=p,[c.memoizedState,p]},useDebugValue:E0,useDeferredValue:function(c,d){var p=Pi();return R0(p,c,d)},useTransition:function(){var c=b0(!1);return c=d_.bind(null,Pt,c.queue,!0,!1),Pi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,p){var m=Pt,w=Pi();if(Zt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),bn===null)throw Error(r(349));(Ut&124)!==0||HM(m,d,p)}w.memoizedState=p;var E={value:p,getSnapshot:d};return w.queue=E,n_(zM.bind(null,m,E,c),[c]),m.flags|=2048,Jd(9,By(),GM.bind(null,m,E,p,d),null),p},useId:function(){var c=Pi(),d=bn.identifierPrefix;if(Zt){var p=Ia,m=Pa;p=(m&~(1<<32-Be(m)-1)).toString(32)+p,d="«"+d+"R"+p,p=Ly++,0<p&&(d+="H"+p.toString(32)),d+="»"}else p=Hq++,d="«"+d+"r"+p.toString(32)+"»";return c.memoizedState=d},useHostTransitionStatus:T0,useFormState:QM,useActionState:QM,useOptimistic:function(c){var d=Pi();d.memoizedState=d.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=D0.bind(null,Pt,!0,p),p.dispatch=d,[c,d]},useMemoCache:y0,useCacheRefresh:function(){return Pi().memoizedState=Wq.bind(null,Pt)}},w_={readContext:ti,use:Ny,useCallback:l_,useContext:ti,useEffect:r_,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:c_,useReducer:Vy,useRef:t_,useState:function(){return Vy(_a)},useDebugValue:E0,useDeferredValue:function(c,d){var p=ar();return u_(p,hn.memoizedState,c,d)},useTransition:function(){var c=Vy(_a)[0],d=ar().memoizedState;return[typeof c=="boolean"?c:kp(c),d]},useSyncExternalStore:BM,useId:p_,useHostTransitionStatus:T0,useFormState:ZM,useActionState:ZM,useOptimistic:function(c,d){var p=ar();return WM(p,hn,c,d)},useMemoCache:y0,useCacheRefresh:g_},qq={readContext:ti,use:Ny,useCallback:l_,useContext:ti,useEffect:r_,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:c_,useReducer:w0,useRef:t_,useState:function(){return w0(_a)},useDebugValue:E0,useDeferredValue:function(c,d){var p=ar();return hn===null?R0(p,c,d):u_(p,hn.memoizedState,c,d)},useTransition:function(){var c=w0(_a)[0],d=ar().memoizedState;return[typeof c=="boolean"?c:kp(c),d]},useSyncExternalStore:BM,useId:p_,useHostTransitionStatus:T0,useFormState:e_,useActionState:e_,useOptimistic:function(c,d){var p=ar();return hn!==null?WM(p,hn,c,d):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:y0,useCacheRefresh:g_},eh=null,Np=0;function Uy(c){var d=Np;return Np+=1,eh===null&&(eh=[]),FM(eh,c,d)}function Vp(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function jy(c,d){throw d.$$typeof===f?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function b_(c){var d=c._init;return d(c._payload)}function S_(c){function d(se,J){if(c){var le=se.deletions;le===null?(se.deletions=[J],se.flags|=16):le.push(J)}}function p(se,J){if(!c)return null;for(;J!==null;)d(se,J),J=J.sibling;return null}function m(se){for(var J=new Map;se!==null;)se.key!==null?J.set(se.key,se):J.set(se.index,se),se=se.sibling;return J}function w(se,J){return se=Aa(se,J),se.index=0,se.sibling=null,se}function E(se,J,le){return se.index=le,c?(le=se.alternate,le!==null?(le=le.index,le<J?(se.flags|=67108866,J):le):(se.flags|=67108866,J)):(se.flags|=1048576,J)}function V(se){return c&&se.alternate===null&&(se.flags|=67108866),se}function j(se,J,le,be){return J===null||J.tag!==6?(J=KE(le,se.mode,be),J.return=se,J):(J=w(J,le),J.return=se,J)}function q(se,J,le,be){var ze=le.type;return ze===C?Ce(se,J,le.props.children,be,le.key):J!==null&&(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&b_(ze)===J.type)?(J=w(J,le.props),Vp(J,le),J.return=se,J):(J=Ty(le.type,le.key,le.props,null,se.mode,be),Vp(J,le),J.return=se,J)}function ce(se,J,le,be){return J===null||J.tag!==4||J.stateNode.containerInfo!==le.containerInfo||J.stateNode.implementation!==le.implementation?(J=YE(le,se.mode,be),J.return=se,J):(J=w(J,le.children||[]),J.return=se,J)}function Ce(se,J,le,be,ze){return J===null||J.tag!==7?(J=su(le,se.mode,be,ze),J.return=se,J):(J=w(J,le),J.return=se,J)}function Se(se,J,le){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=KE(""+J,se.mode,le),J.return=se,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case g:return le=Ty(J.type,J.key,J.props,null,se.mode,le),Vp(le,J),le.return=se,le;case v:return J=YE(J,se.mode,le),J.return=se,J;case M:var be=J._init;return J=be(J._payload),Se(se,J,le)}if(ie(J)||U(J))return J=su(J,se.mode,le,null),J.return=se,J;if(typeof J.then=="function")return Se(se,Uy(J),le);if(J.$$typeof===T)return Se(se,Iy(se,J),le);jy(se,J)}return null}function he(se,J,le,be){var ze=J!==null?J.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return ze!==null?null:j(se,J,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case g:return le.key===ze?q(se,J,le,be):null;case v:return le.key===ze?ce(se,J,le,be):null;case M:return ze=le._init,le=ze(le._payload),he(se,J,le,be)}if(ie(le)||U(le))return ze!==null?null:Ce(se,J,le,be,null);if(typeof le.then=="function")return he(se,J,Uy(le),be);if(le.$$typeof===T)return he(se,J,Iy(se,le),be);jy(se,le)}return null}function fe(se,J,le,be,ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return se=se.get(le)||null,j(J,se,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case g:return se=se.get(be.key===null?le:be.key)||null,q(J,se,be,ze);case v:return se=se.get(be.key===null?le:be.key)||null,ce(J,se,be,ze);case M:var It=be._init;return be=It(be._payload),fe(se,J,le,be,ze)}if(ie(be)||U(be))return se=se.get(le)||null,Ce(J,se,be,ze,null);if(typeof be.then=="function")return fe(se,J,le,Uy(be),ze);if(be.$$typeof===T)return fe(se,J,le,Iy(J,be),ze);jy(J,be)}return null}function mt(se,J,le,be){for(var ze=null,It=null,et=J,ht=J=0,Fr=null;et!==null&&ht<le.length;ht++){et.index>ht?(Fr=et,et=null):Fr=et.sibling;var Kt=he(se,et,le[ht],be);if(Kt===null){et===null&&(et=Fr);break}c&&et&&Kt.alternate===null&&d(se,et),J=E(Kt,J,ht),It===null?ze=Kt:It.sibling=Kt,It=Kt,et=Fr}if(ht===le.length)return p(se,et),Zt&&au(se,ht),ze;if(et===null){for(;ht<le.length;ht++)et=Se(se,le[ht],be),et!==null&&(J=E(et,J,ht),It===null?ze=et:It.sibling=et,It=et);return Zt&&au(se,ht),ze}for(et=m(et);ht<le.length;ht++)Fr=fe(et,se,ht,le[ht],be),Fr!==null&&(c&&Fr.alternate!==null&&et.delete(Fr.key===null?ht:Fr.key),J=E(Fr,J,ht),It===null?ze=Fr:It.sibling=Fr,It=Fr);return c&&et.forEach(function(jl){return d(se,jl)}),Zt&&au(se,ht),ze}function lt(se,J,le,be){if(le==null)throw Error(r(151));for(var ze=null,It=null,et=J,ht=J=0,Fr=null,Kt=le.next();et!==null&&!Kt.done;ht++,Kt=le.next()){et.index>ht?(Fr=et,et=null):Fr=et.sibling;var jl=he(se,et,Kt.value,be);if(jl===null){et===null&&(et=Fr);break}c&&et&&jl.alternate===null&&d(se,et),J=E(jl,J,ht),It===null?ze=jl:It.sibling=jl,It=jl,et=Fr}if(Kt.done)return p(se,et),Zt&&au(se,ht),ze;if(et===null){for(;!Kt.done;ht++,Kt=le.next())Kt=Se(se,Kt.value,be),Kt!==null&&(J=E(Kt,J,ht),It===null?ze=Kt:It.sibling=Kt,It=Kt);return Zt&&au(se,ht),ze}for(et=m(et);!Kt.done;ht++,Kt=le.next())Kt=fe(et,se,ht,Kt.value,be),Kt!==null&&(c&&Kt.alternate!==null&&et.delete(Kt.key===null?ht:Kt.key),J=E(Kt,J,ht),It===null?ze=Kt:It.sibling=Kt,It=Kt);return c&&et.forEach(function(KK){return d(se,KK)}),Zt&&au(se,ht),ze}function pn(se,J,le,be){if(typeof le=="object"&&le!==null&&le.type===C&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case g:e:{for(var ze=le.key;J!==null;){if(J.key===ze){if(ze=le.type,ze===C){if(J.tag===7){p(se,J.sibling),be=w(J,le.props.children),be.return=se,se=be;break e}}else if(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&b_(ze)===J.type){p(se,J.sibling),be=w(J,le.props),Vp(be,le),be.return=se,se=be;break e}p(se,J);break}else d(se,J);J=J.sibling}le.type===C?(be=su(le.props.children,se.mode,be,le.key),be.return=se,se=be):(be=Ty(le.type,le.key,le.props,null,se.mode,be),Vp(be,le),be.return=se,se=be)}return V(se);case v:e:{for(ze=le.key;J!==null;){if(J.key===ze)if(J.tag===4&&J.stateNode.containerInfo===le.containerInfo&&J.stateNode.implementation===le.implementation){p(se,J.sibling),be=w(J,le.children||[]),be.return=se,se=be;break e}else{p(se,J);break}else d(se,J);J=J.sibling}be=YE(le,se.mode,be),be.return=se,se=be}return V(se);case M:return ze=le._init,le=ze(le._payload),pn(se,J,le,be)}if(ie(le))return mt(se,J,le,be);if(U(le)){if(ze=U(le),typeof ze!="function")throw Error(r(150));return le=ze.call(le),lt(se,J,le,be)}if(typeof le.then=="function")return pn(se,J,Uy(le),be);if(le.$$typeof===T)return pn(se,J,Iy(se,le),be);jy(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,J!==null&&J.tag===6?(p(se,J.sibling),be=w(J,le),be.return=se,se=be):(p(se,J),be=KE(le,se.mode,be),be.return=se,se=be),V(se)):p(se,J)}return function(se,J,le,be){try{Np=0;var ze=pn(se,J,le,be);return eh=null,ze}catch(et){if(et===Ap||et===My)throw et;var It=Yi(29,et,null,se.mode);return It.lanes=be,It.return=se,It}finally{}}}var th=S_(!0),E_=S_(!1),As=X(null),Io=null;function Pl(c){var d=c.alternate;z(br,br.current&1),z(As,c),Io===null&&(d===null||Xd.current!==null||d.memoizedState!==null)&&(Io=c)}function R_(c){if(c.tag===22){if(z(br,br.current),z(As,c),Io===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Io=c)}}else Il()}function Il(){z(br,br.current),z(As,As.current)}function ka(c){re(As),Io===c&&(Io=null),re(br)}var br=X(0);function Wy(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||vR(p)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function A0(c,d,p,m){d=c.memoizedState,p=p(m,d),p=p==null?d:h({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var P0={enqueueSetState:function(c,d,p){c=c._reactInternals;var m=Ji(),w=Tl(m);w.payload=d,p!=null&&(w.callback=p),d=Dl(c,w,m),d!==null&&(es(d,c,m),Ip(d,c,m))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var m=Ji(),w=Tl(m);w.tag=1,w.payload=d,p!=null&&(w.callback=p),d=Dl(c,w,m),d!==null&&(es(d,c,m),Ip(d,c,m))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=Ji(),m=Tl(p);m.tag=2,d!=null&&(m.callback=d),d=Dl(c,m,p),d!==null&&(es(d,c,p),Ip(d,c,p))}};function x_(c,d,p,m,w,E,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(m,E,V):d.prototype&&d.prototype.isPureReactComponent?!wp(p,m)||!wp(w,E):!0}function T_(c,d,p,m){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,m),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,m),d.state!==c&&P0.enqueueReplaceState(d,d.state,null)}function pu(c,d){var p=d;if("ref"in d){p={};for(var m in d)m!=="ref"&&(p[m]=d[m])}if(c=c.defaultProps){p===d&&(p=h({},p));for(var w in c)p[w]===void 0&&(p[w]=c[w])}return p}var $y=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function D_(c){$y(c)}function A_(c){console.error(c)}function P_(c){$y(c)}function qy(c,d){try{var p=c.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(m){setTimeout(function(){throw m})}}function I_(c,d,p){try{var m=c.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function I0(c,d,p){return p=Tl(p),p.tag=3,p.payload={element:null},p.callback=function(){qy(c,d)},p}function F_(c){return c=Tl(c),c.tag=3,c}function M_(c,d,p,m){var w=p.type.getDerivedStateFromError;if(typeof w=="function"){var E=m.value;c.payload=function(){return w(E)},c.callback=function(){I_(d,p,m)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){I_(d,p,m),typeof w!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function Kq(c,d,p,m,w){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(d=p.alternate,d!==null&&xp(d,p,w,!0),p=As.current,p!==null){switch(p.tag){case 13:return Io===null?eR():p.alternate===null&&Un===0&&(Un=3),p.flags&=-257,p.flags|=65536,p.lanes=w,m===s0?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([m]):d.add(m),nR(c,m,w)),!1;case 22:return p.flags|=65536,m===s0?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([m]):p.add(m)),nR(c,m,w)),!1}throw Error(r(435,p.tag))}return nR(c,m,w),eR(),!1}if(Zt)return d=As.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=w,m!==ZE&&(c=Error(r(422),{cause:m}),Rp(Rs(c,p)))):(m!==ZE&&(d=Error(r(423),{cause:m}),Rp(Rs(d,p))),c=c.current.alternate,c.flags|=65536,w&=-w,c.lanes|=w,m=Rs(m,p),w=I0(c.stateNode,m,w),l0(c,w),Un!==4&&(Un=2)),!1;var E=Error(r(520),{cause:m});if(E=Rs(E,p),Wp===null?Wp=[E]:Wp.push(E),Un!==4&&(Un=2),d===null)return!0;m=Rs(m,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,c=w&-w,p.lanes|=c,c=I0(p.stateNode,m,c),l0(p,c),!1;case 1:if(d=p.type,E=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ll===null||!Ll.has(E))))return p.flags|=65536,w&=-w,p.lanes|=w,w=F_(w),M_(w,c,p,m),l0(p,w),!1}p=p.return}while(p!==null);return!1}var __=Error(r(461)),Pr=!1;function Gr(c,d,p,m){d.child=c===null?E_(d,null,p,m):th(d,c.child,p,m)}function k_(c,d,p,m,w){p=p.render;var E=d.ref;if("ref"in m){var V={};for(var j in m)j!=="ref"&&(V[j]=m[j])}else V=m;return du(d),m=f0(c,d,p,V,E,w),j=p0(),c!==null&&!Pr?(g0(c,d,w),Oa(c,d,w)):(Zt&&j&&XE(d),d.flags|=1,Gr(c,d,m,w),d.child)}function O_(c,d,p,m,w){if(c===null){var E=p.type;return typeof E=="function"&&!qE(E)&&E.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=E,L_(c,d,E,m,w)):(c=Ty(p.type,null,m,d,d.mode,w),c.ref=d.ref,c.return=d,d.child=c)}if(E=c.child,!V0(c,w)){var V=E.memoizedProps;if(p=p.compare,p=p!==null?p:wp,p(V,m)&&c.ref===d.ref)return Oa(c,d,w)}return d.flags|=1,c=Aa(E,m),c.ref=d.ref,c.return=d,d.child=c}function L_(c,d,p,m,w){if(c!==null){var E=c.memoizedProps;if(wp(E,m)&&c.ref===d.ref)if(Pr=!1,d.pendingProps=m=E,V0(c,w))(c.flags&131072)!==0&&(Pr=!0);else return d.lanes=c.lanes,Oa(c,d,w)}return F0(c,d,p,m,w)}function N_(c,d,p){var m=d.pendingProps,w=m.children,E=c!==null?c.memoizedState:null;if(m.mode==="hidden"){if((d.flags&128)!==0){if(m=E!==null?E.baseLanes|p:p,c!==null){for(w=d.child=c.child,E=0;w!==null;)E=E|w.lanes|w.childLanes,w=w.sibling;d.childLanes=E&~m}else d.childLanes=0,d.child=null;return V_(c,d,m,p)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Fy(d,E!==null?E.cachePool:null),E!==null?LM(d,E):u0(),R_(d);else return d.lanes=d.childLanes=536870912,V_(c,d,E!==null?E.baseLanes|p:p,p)}else E!==null?(Fy(d,E.cachePool),LM(d,E),Il(),d.memoizedState=null):(c!==null&&Fy(d,null),u0(),Il());return Gr(c,d,w,p),d.child}function V_(c,d,p,m){var w=i0();return w=w===null?null:{parent:wr._currentValue,pool:w},d.memoizedState={baseLanes:p,cachePool:w},c!==null&&Fy(d,null),u0(),R_(d),c!==null&&xp(c,d,m,!0),null}function Ky(c,d){var p=d.ref;if(p===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(c===null||c.ref!==p)&&(d.flags|=4194816)}}function F0(c,d,p,m,w){return du(d),p=f0(c,d,p,m,void 0,w),m=p0(),c!==null&&!Pr?(g0(c,d,w),Oa(c,d,w)):(Zt&&m&&XE(d),d.flags|=1,Gr(c,d,p,w),d.child)}function B_(c,d,p,m,w,E){return du(d),d.updateQueue=null,p=VM(d,m,p,w),NM(c),m=p0(),c!==null&&!Pr?(g0(c,d,E),Oa(c,d,E)):(Zt&&m&&XE(d),d.flags|=1,Gr(c,d,p,E),d.child)}function H_(c,d,p,m,w){if(du(d),d.stateNode===null){var E=Wd,V=p.contextType;typeof V=="object"&&V!==null&&(E=ti(V)),E=new p(m,E),d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=P0,d.stateNode=E,E._reactInternals=d,E=d.stateNode,E.props=m,E.state=d.memoizedState,E.refs={},o0(d),V=p.contextType,E.context=typeof V=="object"&&V!==null?ti(V):Wd,E.state=d.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(A0(d,p,V,m),E.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(V=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),V!==E.state&&P0.enqueueReplaceState(E,E.state,null),Mp(d,m,E,w),Fp(),E.state=d.memoizedState),typeof E.componentDidMount=="function"&&(d.flags|=4194308),m=!0}else if(c===null){E=d.stateNode;var j=d.memoizedProps,q=pu(p,j);E.props=q;var ce=E.context,Ce=p.contextType;V=Wd,typeof Ce=="object"&&Ce!==null&&(V=ti(Ce));var Se=p.getDerivedStateFromProps;Ce=typeof Se=="function"||typeof E.getSnapshotBeforeUpdate=="function",j=d.pendingProps!==j,Ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(j||ce!==V)&&T_(d,E,m,V),xl=!1;var he=d.memoizedState;E.state=he,Mp(d,m,E,w),Fp(),ce=d.memoizedState,j||he!==ce||xl?(typeof Se=="function"&&(A0(d,p,Se,m),ce=d.memoizedState),(q=xl||x_(d,p,q,m,he,ce,V))?(Ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(d.flags|=4194308)):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=m,d.memoizedState=ce),E.props=m,E.state=ce,E.context=V,m=q):(typeof E.componentDidMount=="function"&&(d.flags|=4194308),m=!1)}else{E=d.stateNode,a0(c,d),V=d.memoizedProps,Ce=pu(p,V),E.props=Ce,Se=d.pendingProps,he=E.context,ce=p.contextType,q=Wd,typeof ce=="object"&&ce!==null&&(q=ti(ce)),j=p.getDerivedStateFromProps,(ce=typeof j=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V!==Se||he!==q)&&T_(d,E,m,q),xl=!1,he=d.memoizedState,E.state=he,Mp(d,m,E,w),Fp();var fe=d.memoizedState;V!==Se||he!==fe||xl||c!==null&&c.dependencies!==null&&Py(c.dependencies)?(typeof j=="function"&&(A0(d,p,j,m),fe=d.memoizedState),(Ce=xl||x_(d,p,Ce,m,he,fe,q)||c!==null&&c.dependencies!==null&&Py(c.dependencies))?(ce||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,fe,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,fe,q)),typeof E.componentDidUpdate=="function"&&(d.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof E.componentDidUpdate!="function"||V===c.memoizedProps&&he===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&he===c.memoizedState||(d.flags|=1024),d.memoizedProps=m,d.memoizedState=fe),E.props=m,E.state=fe,E.context=q,m=Ce):(typeof E.componentDidUpdate!="function"||V===c.memoizedProps&&he===c.memoizedState||(d.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&he===c.memoizedState||(d.flags|=1024),m=!1)}return E=m,Ky(c,d),m=(d.flags&128)!==0,E||m?(E=d.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:E.render(),d.flags|=1,c!==null&&m?(d.child=th(d,c.child,null,w),d.child=th(d,null,p,w)):Gr(c,d,p,w),d.memoizedState=E.state,c=d.child):c=Oa(c,d,w),c}function G_(c,d,p,m){return Ep(),d.flags|=256,Gr(c,d,p,m),d.child}var M0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _0(c){return{baseLanes:c,cachePool:AM()}}function k0(c,d,p){return c=c!==null?c.childLanes&~p:0,d&&(c|=Ps),c}function z_(c,d,p){var m=d.pendingProps,w=!1,E=(d.flags&128)!==0,V;if((V=E)||(V=c!==null&&c.memoizedState===null?!1:(br.current&2)!==0),V&&(w=!0,d.flags&=-129),V=(d.flags&32)!==0,d.flags&=-33,c===null){if(Zt){if(w?Pl(d):Il(),Zt){var j=zn,q;if(q=j){e:{for(q=j,j=Po;q.nodeType!==8;){if(!j){j=null;break e}if(q=io(q.nextSibling),q===null){j=null;break e}}j=q}j!==null?(d.memoizedState={dehydrated:j,treeContext:ou!==null?{id:Pa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},q=Yi(18,null,null,0),q.stateNode=j,q.return=d,d.child=q,yi=d,zn=null,q=!0):q=!1}q||cu(d)}if(j=d.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return vR(j)?d.lanes=32:d.lanes=536870912,null;ka(d)}return j=m.children,m=m.fallback,w?(Il(),w=d.mode,j=Yy({mode:"hidden",children:j},w),m=su(m,w,p,null),j.return=d,m.return=d,j.sibling=m,d.child=j,w=d.child,w.memoizedState=_0(p),w.childLanes=k0(c,V,p),d.memoizedState=M0,m):(Pl(d),O0(d,j))}if(q=c.memoizedState,q!==null&&(j=q.dehydrated,j!==null)){if(E)d.flags&256?(Pl(d),d.flags&=-257,d=L0(c,d,p)):d.memoizedState!==null?(Il(),d.child=c.child,d.flags|=128,d=null):(Il(),w=m.fallback,j=d.mode,m=Yy({mode:"visible",children:m.children},j),w=su(w,j,p,null),w.flags|=2,m.return=d,w.return=d,m.sibling=w,d.child=m,th(d,c.child,null,p),m=d.child,m.memoizedState=_0(p),m.childLanes=k0(c,V,p),d.memoizedState=M0,d=w);else if(Pl(d),vR(j)){if(V=j.nextSibling&&j.nextSibling.dataset,V)var ce=V.dgst;V=ce,m=Error(r(419)),m.stack="",m.digest=V,Rp({value:m,source:null,stack:null}),d=L0(c,d,p)}else if(Pr||xp(c,d,p,!1),V=(p&c.childLanes)!==0,Pr||V){if(V=bn,V!==null&&(m=p&-p,m=(m&42)!==0?1:bo(m),m=(m&(V.suspendedLanes|p))!==0?0:m,m!==0&&m!==q.retryLane))throw q.retryLane=m,jd(c,m),es(V,c,m),__;j.data==="$?"||eR(),d=L0(c,d,p)}else j.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=q.treeContext,zn=io(j.nextSibling),yi=d,Zt=!0,lu=null,Po=!1,c!==null&&(Ts[Ds++]=Pa,Ts[Ds++]=Ia,Ts[Ds++]=ou,Pa=c.id,Ia=c.overflow,ou=d),d=O0(d,m.children),d.flags|=4096);return d}return w?(Il(),w=m.fallback,j=d.mode,q=c.child,ce=q.sibling,m=Aa(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&65011712,ce!==null?w=Aa(ce,w):(w=su(w,j,p,null),w.flags|=2),w.return=d,m.return=d,m.sibling=w,d.child=m,m=w,w=d.child,j=c.child.memoizedState,j===null?j=_0(p):(q=j.cachePool,q!==null?(ce=wr._currentValue,q=q.parent!==ce?{parent:ce,pool:ce}:q):q=AM(),j={baseLanes:j.baseLanes|p,cachePool:q}),w.memoizedState=j,w.childLanes=k0(c,V,p),d.memoizedState=M0,m):(Pl(d),p=c.child,c=p.sibling,p=Aa(p,{mode:"visible",children:m.children}),p.return=d,p.sibling=null,c!==null&&(V=d.deletions,V===null?(d.deletions=[c],d.flags|=16):V.push(c)),d.child=p,d.memoizedState=null,p)}function O0(c,d){return d=Yy({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function Yy(c,d){return c=Yi(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function L0(c,d,p){return th(d,c.child,null,p),c=O0(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function U_(c,d,p){c.lanes|=d;var m=c.alternate;m!==null&&(m.lanes|=d),e0(c.return,d,p)}function N0(c,d,p,m,w){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:w}:(E.isBackwards=d,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=p,E.tailMode=w)}function j_(c,d,p){var m=d.pendingProps,w=m.revealOrder,E=m.tail;if(Gr(c,d,m.children,p),m=br.current,(m&2)!==0)m=m&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&U_(c,p,d);else if(c.tag===19)U_(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}m&=1}switch(z(br,m),w){case"forwards":for(p=d.child,w=null;p!==null;)c=p.alternate,c!==null&&Wy(c)===null&&(w=p),p=p.sibling;p=w,p===null?(w=d.child,d.child=null):(w=p.sibling,p.sibling=null),N0(d,!1,w,p,E);break;case"backwards":for(p=null,w=d.child,d.child=null;w!==null;){if(c=w.alternate,c!==null&&Wy(c)===null){d.child=w;break}c=w.sibling,w.sibling=p,p=w,w=c}N0(d,!0,p,null,E);break;case"together":N0(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Oa(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),Ol|=d.lanes,(p&d.childLanes)===0)if(c!==null){if(xp(c,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,p=Aa(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=Aa(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function V0(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Py(c)))}function Yq(c,d,p){switch(d.tag){case 3:Ke(d,d.stateNode.containerInfo),Rl(d,wr,c.memoizedState.cache),Ep();break;case 27:case 5:rt(d);break;case 4:Ke(d,d.stateNode.containerInfo);break;case 10:Rl(d,d.type,d.memoizedProps.value);break;case 13:var m=d.memoizedState;if(m!==null)return m.dehydrated!==null?(Pl(d),d.flags|=128,null):(p&d.child.childLanes)!==0?z_(c,d,p):(Pl(d),c=Oa(c,d,p),c!==null?c.sibling:null);Pl(d);break;case 19:var w=(c.flags&128)!==0;if(m=(p&d.childLanes)!==0,m||(xp(c,d,p,!1),m=(p&d.childLanes)!==0),w){if(m)return j_(c,d,p);d.flags|=128}if(w=d.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),z(br,br.current),m)break;return null;case 22:case 23:return d.lanes=0,N_(c,d,p);case 24:Rl(d,wr,c.memoizedState.cache)}return Oa(c,d,p)}function W_(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps)Pr=!0;else{if(!V0(c,p)&&(d.flags&128)===0)return Pr=!1,Yq(c,d,p);Pr=(c.flags&131072)!==0}else Pr=!1,Zt&&(d.flags&1048576)!==0&&bM(d,Ay,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var m=d.elementType,w=m._init;if(m=w(m._payload),d.type=m,typeof m=="function")qE(m)?(c=pu(m,c),d.tag=1,d=H_(null,d,m,c,p)):(d.tag=0,d=F0(null,d,m,c,p));else{if(m!=null){if(w=m.$$typeof,w===k){d.tag=11,d=k_(null,d,m,c,p);break e}else if(w===_){d.tag=14,d=O_(null,d,m,c,p);break e}}throw d=ee(m)||m,Error(r(306,d,""))}}return d;case 0:return F0(c,d,d.type,d.pendingProps,p);case 1:return m=d.type,w=pu(m,d.pendingProps),H_(c,d,m,w,p);case 3:e:{if(Ke(d,d.stateNode.containerInfo),c===null)throw Error(r(387));m=d.pendingProps;var E=d.memoizedState;w=E.element,a0(c,d),Mp(d,m,null,p);var V=d.memoizedState;if(m=V.cache,Rl(d,wr,m),m!==E.cache&&t0(d,[wr],p,!0),Fp(),m=V.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:V.cache},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){d=G_(c,d,m,p);break e}else if(m!==w){w=Rs(Error(r(424)),d),Rp(w),d=G_(c,d,m,p);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(zn=io(c.firstChild),yi=d,Zt=!0,lu=null,Po=!0,p=E_(d,null,m,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Ep(),m===w){d=Oa(c,d,p);break e}Gr(c,d,m,p)}d=d.child}return d;case 26:return Ky(c,d),c===null?(p=Yk(d.type,null,d.pendingProps,null))?d.memoizedState=p:Zt||(p=d.type,c=d.pendingProps,m=cC(Te.current).createElement(p),m[Ee]=d,m[De]=c,Ur(m,p,c),St(m),d.stateNode=m):d.memoizedState=Yk(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return rt(d),c===null&&Zt&&(m=d.stateNode=$k(d.type,d.pendingProps,Te.current),yi=d,Po=!0,w=zn,Bl(d.type)?(yR=w,zn=io(m.firstChild)):zn=w),Gr(c,d,d.pendingProps.children,p),Ky(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Zt&&((w=m=zn)&&(m=EK(m,d.type,d.pendingProps,Po),m!==null?(d.stateNode=m,yi=d,zn=io(m.firstChild),Po=!1,w=!0):w=!1),w||cu(d)),rt(d),w=d.type,E=d.pendingProps,V=c!==null?c.memoizedProps:null,m=E.children,pR(w,E)?m=null:V!==null&&pR(w,V)&&(d.flags|=32),d.memoizedState!==null&&(w=f0(c,d,Gq,null,null,p),eg._currentValue=w),Ky(c,d),Gr(c,d,m,p),d.child;case 6:return c===null&&Zt&&((c=p=zn)&&(p=RK(p,d.pendingProps,Po),p!==null?(d.stateNode=p,yi=d,zn=null,c=!0):c=!1),c||cu(d)),null;case 13:return z_(c,d,p);case 4:return Ke(d,d.stateNode.containerInfo),m=d.pendingProps,c===null?d.child=th(d,null,m,p):Gr(c,d,m,p),d.child;case 11:return k_(c,d,d.type,d.pendingProps,p);case 7:return Gr(c,d,d.pendingProps,p),d.child;case 8:return Gr(c,d,d.pendingProps.children,p),d.child;case 12:return Gr(c,d,d.pendingProps.children,p),d.child;case 10:return m=d.pendingProps,Rl(d,d.type,m.value),Gr(c,d,m.children,p),d.child;case 9:return w=d.type._context,m=d.pendingProps.children,du(d),w=ti(w),m=m(w),d.flags|=1,Gr(c,d,m,p),d.child;case 14:return O_(c,d,d.type,d.pendingProps,p);case 15:return L_(c,d,d.type,d.pendingProps,p);case 19:return j_(c,d,p);case 31:return m=d.pendingProps,p=d.mode,m={mode:m.mode,children:m.children},c===null?(p=Yy(m,p),p.ref=d.ref,d.child=p,p.return=d,d=p):(p=Aa(c.child,m),p.ref=d.ref,d.child=p,p.return=d,d=p),d;case 22:return N_(c,d,p);case 24:return du(d),m=ti(wr),c===null?(w=i0(),w===null&&(w=bn,E=n0(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=p),w=E),d.memoizedState={parent:m,cache:w},o0(d),Rl(d,wr,w)):((c.lanes&p)!==0&&(a0(c,d),Mp(d,null,null,p),Fp()),w=c.memoizedState,E=d.memoizedState,w.parent!==m?(w={parent:m,cache:m},d.memoizedState=w,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=w),Rl(d,wr,m)):(m=E.cache,Rl(d,wr,m),m!==w.cache&&t0(d,[wr],p,!0))),Gr(c,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function La(c){c.flags|=4}function $_(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!eO(d)){if(d=As.current,d!==null&&((Ut&4194048)===Ut?Io!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||d!==Io))throw Pp=s0,PM;c.flags|=8192}}function Xy(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Wc():536870912,c.lanes|=d,sh|=d)}function Bp(c,d){if(!Zt)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:m.sibling=null}}function kn(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,m=0;if(d)for(var w=c.child;w!==null;)p|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)p|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=m,c.childLanes=p,d}function Xq(c,d,p){var m=d.pendingProps;switch(QE(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(d),null;case 1:return kn(d),null;case 3:return p=d.stateNode,m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Ma(wr),Ue(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(Sp(d)?La(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,RM())),kn(d),null;case 26:return p=d.memoizedState,c===null?(La(d),p!==null?(kn(d),$_(d,p)):(kn(d),d.flags&=-16777217)):p?p!==c.memoizedState?(La(d),kn(d),$_(d,p)):(kn(d),d.flags&=-16777217):(c.memoizedProps!==m&&La(d),kn(d),d.flags&=-16777217),null;case 27:dt(d),p=Te.current;var w=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==m&&La(d);else{if(!m){if(d.stateNode===null)throw Error(r(166));return kn(d),null}c=ge.current,Sp(d)?SM(d):(c=$k(w,m,p),d.stateNode=c,La(d))}return kn(d),null;case 5:if(dt(d),p=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==m&&La(d);else{if(!m){if(d.stateNode===null)throw Error(r(166));return kn(d),null}if(c=ge.current,Sp(d))SM(d);else{switch(w=cC(Te.current),c){case 1:c=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:c=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":c=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":c=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":c=w.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?c.multiple=!0:m.size&&(c.size=m.size);break;default:c=typeof m.is=="string"?w.createElement(p,{is:m.is}):w.createElement(p)}}c[Ee]=d,c[De]=m;e:for(w=d.child;w!==null;){if(w.tag===5||w.tag===6)c.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break e;for(;w.sibling===null;){if(w.return===null||w.return===d)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}d.stateNode=c;e:switch(Ur(c,p,m),p){case"button":case"input":case"select":case"textarea":c=!!m.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&La(d)}}return kn(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==m&&La(d);else{if(typeof m!="string"&&d.stateNode===null)throw Error(r(166));if(c=Te.current,Sp(d)){if(c=d.stateNode,p=d.memoizedProps,m=null,w=yi,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}c[Ee]=d,c=!!(c.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||Bk(c.nodeValue,p)),c||cu(d)}else c=cC(c).createTextNode(m),c[Ee]=d,d.stateNode=c}return kn(d),null;case 13:if(m=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(w=Sp(d),m!==null&&m.dehydrated!==null){if(c===null){if(!w)throw Error(r(318));if(w=d.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Ee]=d}else Ep(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;kn(d),w=!1}else w=RM(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=w),w=!0;if(!w)return d.flags&256?(ka(d),d):(ka(d),null)}if(ka(d),(d.flags&128)!==0)return d.lanes=p,d;if(p=m!==null,c=c!==null&&c.memoizedState!==null,p){m=d.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var E=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==w&&(m.flags|=2048)}return p!==c&&p&&(d.child.flags|=8192),Xy(d,d.updateQueue),kn(d),null;case 4:return Ue(),c===null&&cR(d.stateNode.containerInfo),kn(d),null;case 10:return Ma(d.type),kn(d),null;case 19:if(re(br),w=d.memoizedState,w===null)return kn(d),null;if(m=(d.flags&128)!==0,E=w.rendering,E===null)if(m)Bp(w,!1);else{if(Un!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(E=Wy(c),E!==null){for(d.flags|=128,Bp(w,!1),c=E.updateQueue,d.updateQueue=c,Xy(d,c),d.subtreeFlags=0,c=p,p=d.child;p!==null;)wM(p,c),p=p.sibling;return z(br,br.current&1|2),d.child}c=c.sibling}w.tail!==null&&Ve()>Jy&&(d.flags|=128,m=!0,Bp(w,!1),d.lanes=4194304)}else{if(!m)if(c=Wy(E),c!==null){if(d.flags|=128,m=!0,c=c.updateQueue,d.updateQueue=c,Xy(d,c),Bp(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Zt)return kn(d),null}else 2*Ve()-w.renderingStartTime>Jy&&p!==536870912&&(d.flags|=128,m=!0,Bp(w,!1),d.lanes=4194304);w.isBackwards?(E.sibling=d.child,d.child=E):(c=w.last,c!==null?c.sibling=E:d.child=E,w.last=E)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=Ve(),d.sibling=null,c=br.current,z(br,m?c&1|2:c&1),d):(kn(d),null);case 22:case 23:return ka(d),d0(),m=d.memoizedState!==null,c!==null?c.memoizedState!==null!==m&&(d.flags|=8192):m&&(d.flags|=8192),m?(p&536870912)!==0&&(d.flags&128)===0&&(kn(d),d.subtreeFlags&6&&(d.flags|=8192)):kn(d),p=d.updateQueue,p!==null&&Xy(d,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),m=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),m!==p&&(d.flags|=2048),c!==null&&re(hu),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Ma(wr),kn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function Qq(c,d){switch(QE(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Ma(wr),Ue(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return dt(d),null;case 13:if(ka(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Ep()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return re(br),null;case 4:return Ue(),null;case 10:return Ma(d.type),null;case 22:case 23:return ka(d),d0(),c!==null&&re(hu),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Ma(wr),null;case 25:return null;default:return null}}function q_(c,d){switch(QE(d),d.tag){case 3:Ma(wr),Ue();break;case 26:case 27:case 5:dt(d);break;case 4:Ue();break;case 13:ka(d);break;case 19:re(br);break;case 10:Ma(d.type);break;case 22:case 23:ka(d),d0(),c!==null&&re(hu);break;case 24:Ma(wr)}}function Hp(c,d){try{var p=d.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var w=m.next;p=w;do{if((p.tag&c)===c){m=void 0;var E=p.create,V=p.inst;m=E(),V.destroy=m}p=p.next}while(p!==w)}}catch(j){Cn(d,d.return,j)}}function Fl(c,d,p){try{var m=d.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var E=w.next;m=E;do{if((m.tag&c)===c){var V=m.inst,j=V.destroy;if(j!==void 0){V.destroy=void 0,w=d;var q=p,ce=j;try{ce()}catch(Ce){Cn(w,q,Ce)}}}m=m.next}while(m!==E)}}catch(Ce){Cn(d,d.return,Ce)}}function K_(c){var d=c.updateQueue;if(d!==null){var p=c.stateNode;try{OM(d,p)}catch(m){Cn(c,c.return,m)}}}function Y_(c,d,p){p.props=pu(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(m){Cn(c,d,m)}}function Gp(c,d){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var m=c.stateNode;break;case 30:m=c.stateNode;break;default:m=c.stateNode}typeof p=="function"?c.refCleanup=p(m):p.current=m}}catch(w){Cn(c,d,w)}}function Fo(c,d){var p=c.ref,m=c.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(w){Cn(c,d,w)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(w){Cn(c,d,w)}else p.current=null}function X_(c){var d=c.type,p=c.memoizedProps,m=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(w){Cn(c,c.return,w)}}function B0(c,d,p){try{var m=c.stateNode;yK(m,c.type,p,d),m[De]=d}catch(w){Cn(c,c.return,w)}}function Q_(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Bl(c.type)||c.tag===4}function H0(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Q_(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Bl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function G0(c,d,p){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(c),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=lC));else if(m!==4&&(m===27&&Bl(c.type)&&(p=c.stateNode,d=null),c=c.child,c!==null))for(G0(c,d,p),c=c.sibling;c!==null;)G0(c,d,p),c=c.sibling}function Qy(c,d,p){var m=c.tag;if(m===5||m===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(m!==4&&(m===27&&Bl(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(Qy(c,d,p),c=c.sibling;c!==null;)Qy(c,d,p),c=c.sibling}function Z_(c){var d=c.stateNode,p=c.memoizedProps;try{for(var m=c.type,w=d.attributes;w.length;)d.removeAttributeNode(w[0]);Ur(d,m,p),d[Ee]=c,d[De]=p}catch(E){Cn(c,c.return,E)}}var Na=!1,Xn=!1,z0=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function Zq(c,d){if(c=c.containerInfo,hR=gC,c=uM(c),HE(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var V=0,j=-1,q=-1,ce=0,Ce=0,Se=c,he=null;t:for(;;){for(var fe;Se!==p||w!==0&&Se.nodeType!==3||(j=V+w),Se!==E||m!==0&&Se.nodeType!==3||(q=V+m),Se.nodeType===3&&(V+=Se.nodeValue.length),(fe=Se.firstChild)!==null;)he=Se,Se=fe;for(;;){if(Se===c)break t;if(he===p&&++ce===w&&(j=V),he===E&&++Ce===m&&(q=V),(fe=Se.nextSibling)!==null)break;Se=he,he=Se.parentNode}Se=fe}p=j===-1||q===-1?null:{start:j,end:q}}else p=null}p=p||{start:0,end:0}}else p=null;for(fR={focusedElem:c,selectionRange:p},gC=!1,Ir=d;Ir!==null;)if(d=Ir,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,Ir=c;else for(;Ir!==null;){switch(d=Ir,E=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&E!==null){c=void 0,p=d,w=E.memoizedProps,E=E.memoizedState,m=p.stateNode;try{var mt=pu(p.type,w,p.elementType===p.type);c=m.getSnapshotBeforeUpdate(mt,E),m.__reactInternalSnapshotBeforeUpdate=c}catch(lt){Cn(p,p.return,lt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,p=c.nodeType,p===9)mR(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":mR(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,Ir=c;break}Ir=d.return}}function ek(c,d,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:Ml(c,p),m&4&&Hp(5,p);break;case 1:if(Ml(c,p),m&4)if(c=p.stateNode,d===null)try{c.componentDidMount()}catch(V){Cn(p,p.return,V)}else{var w=pu(p.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(w,d,c.__reactInternalSnapshotBeforeUpdate)}catch(V){Cn(p,p.return,V)}}m&64&&K_(p),m&512&&Gp(p,p.return);break;case 3:if(Ml(c,p),m&64&&(c=p.updateQueue,c!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{OM(c,d)}catch(V){Cn(p,p.return,V)}}break;case 27:d===null&&m&4&&Z_(p);case 26:case 5:Ml(c,p),d===null&&m&4&&X_(p),m&512&&Gp(p,p.return);break;case 12:Ml(c,p);break;case 13:Ml(c,p),m&4&&rk(c,p),m&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=aK.bind(null,p),xK(c,p))));break;case 22:if(m=p.memoizedState!==null||Na,!m){d=d!==null&&d.memoizedState!==null||Xn,w=Na;var E=Xn;Na=m,(Xn=d)&&!E?_l(c,p,(p.subtreeFlags&8772)!==0):Ml(c,p),Na=w,Xn=E}break;case 30:break;default:Ml(c,p)}}function tk(c){var d=c.alternate;d!==null&&(c.alternate=null,tk(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&qe(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var In=null,Ii=!1;function Va(c,d,p){for(p=p.child;p!==null;)nk(c,d,p),p=p.sibling}function nk(c,d,p){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(ne,p)}catch{}switch(p.tag){case 26:Xn||Fo(p,d),Va(c,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Xn||Fo(p,d);var m=In,w=Ii;Bl(p.type)&&(In=p.stateNode,Ii=!1),Va(c,d,p),Xp(p.stateNode),In=m,Ii=w;break;case 5:Xn||Fo(p,d);case 6:if(m=In,w=Ii,In=null,Va(c,d,p),In=m,Ii=w,In!==null)if(Ii)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(p.stateNode)}catch(E){Cn(p,d,E)}else try{In.removeChild(p.stateNode)}catch(E){Cn(p,d,E)}break;case 18:In!==null&&(Ii?(c=In,jk(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),ig(c)):jk(In,p.stateNode));break;case 4:m=In,w=Ii,In=p.stateNode.containerInfo,Ii=!0,Va(c,d,p),In=m,Ii=w;break;case 0:case 11:case 14:case 15:Xn||Fl(2,p,d),Xn||Fl(4,p,d),Va(c,d,p);break;case 1:Xn||(Fo(p,d),m=p.stateNode,typeof m.componentWillUnmount=="function"&&Y_(p,d,m)),Va(c,d,p);break;case 21:Va(c,d,p);break;case 22:Xn=(m=Xn)||p.memoizedState!==null,Va(c,d,p),Xn=m;break;default:Va(c,d,p)}}function rk(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{ig(c)}catch(p){Cn(d,d.return,p)}}function Jq(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new J_),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new J_),d;default:throw Error(r(435,c.tag))}}function U0(c,d){var p=Jq(c);d.forEach(function(m){var w=lK.bind(null,c,m);p.has(m)||(p.add(m),m.then(w,w))})}function Xi(c,d){var p=d.deletions;if(p!==null)for(var m=0;m<p.length;m++){var w=p[m],E=c,V=d,j=V;e:for(;j!==null;){switch(j.tag){case 27:if(Bl(j.type)){In=j.stateNode,Ii=!1;break e}break;case 5:In=j.stateNode,Ii=!1;break e;case 3:case 4:In=j.stateNode.containerInfo,Ii=!0;break e}j=j.return}if(In===null)throw Error(r(160));nk(E,V,w),In=null,Ii=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)ik(d,c),d=d.sibling}var ro=null;function ik(c,d){var p=c.alternate,m=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Xi(d,c),Qi(c),m&4&&(Fl(3,c,c.return),Hp(3,c),Fl(5,c,c.return));break;case 1:Xi(d,c),Qi(c),m&512&&(Xn||p===null||Fo(p,p.return)),m&64&&Na&&(c=c.updateQueue,c!==null&&(m=c.callbacks,m!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var w=ro;if(Xi(d,c),Qi(c),m&512&&(Xn||p===null||Fo(p,p.return)),m&4){var E=p!==null?p.memoizedState:null;if(m=c.memoizedState,p===null)if(m===null)if(c.stateNode===null){e:{m=c.type,p=c.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":E=w.getElementsByTagName("title")[0],(!E||E[$e]||E[Ee]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(m),w.head.insertBefore(E,w.querySelector("head > title"))),Ur(E,m,p),E[Ee]=c,St(E),m=E;break e;case"link":var V=Zk("link","href",w).get(m+(p.href||""));if(V){for(var j=0;j<V.length;j++)if(E=V[j],E.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&E.getAttribute("rel")===(p.rel==null?null:p.rel)&&E.getAttribute("title")===(p.title==null?null:p.title)&&E.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(j,1);break t}}E=w.createElement(m),Ur(E,m,p),w.head.appendChild(E);break;case"meta":if(V=Zk("meta","content",w).get(m+(p.content||""))){for(j=0;j<V.length;j++)if(E=V[j],E.getAttribute("content")===(p.content==null?null:""+p.content)&&E.getAttribute("name")===(p.name==null?null:p.name)&&E.getAttribute("property")===(p.property==null?null:p.property)&&E.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&E.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(j,1);break t}}E=w.createElement(m),Ur(E,m,p),w.head.appendChild(E);break;default:throw Error(r(468,m))}E[Ee]=c,St(E),m=E}c.stateNode=m}else Jk(w,c.type,c.stateNode);else c.stateNode=Qk(w,m,c.memoizedProps);else E!==m?(E===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):E.count--,m===null?Jk(w,c.type,c.stateNode):Qk(w,m,c.memoizedProps)):m===null&&c.stateNode!==null&&B0(c,c.memoizedProps,p.memoizedProps)}break;case 27:Xi(d,c),Qi(c),m&512&&(Xn||p===null||Fo(p,p.return)),p!==null&&m&4&&B0(c,c.memoizedProps,p.memoizedProps);break;case 5:if(Xi(d,c),Qi(c),m&512&&(Xn||p===null||Fo(p,p.return)),c.flags&32){w=c.stateNode;try{ws(w,"")}catch(fe){Cn(c,c.return,fe)}}m&4&&c.stateNode!=null&&(w=c.memoizedProps,B0(c,w,p!==null?p.memoizedProps:w)),m&1024&&(z0=!0);break;case 6:if(Xi(d,c),Qi(c),m&4){if(c.stateNode===null)throw Error(r(162));m=c.memoizedProps,p=c.stateNode;try{p.nodeValue=m}catch(fe){Cn(c,c.return,fe)}}break;case 3:if(hC=null,w=ro,ro=uC(d.containerInfo),Xi(d,c),ro=w,Qi(c),m&4&&p!==null&&p.memoizedState.isDehydrated)try{ig(d.containerInfo)}catch(fe){Cn(c,c.return,fe)}z0&&(z0=!1,sk(c));break;case 4:m=ro,ro=uC(c.stateNode.containerInfo),Xi(d,c),Qi(c),ro=m;break;case 12:Xi(d,c),Qi(c);break;case 13:Xi(d,c),Qi(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Y0=Ve()),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,U0(c,m)));break;case 22:w=c.memoizedState!==null;var q=p!==null&&p.memoizedState!==null,ce=Na,Ce=Xn;if(Na=ce||w,Xn=Ce||q,Xi(d,c),Xn=Ce,Na=ce,Qi(c),m&8192)e:for(d=c.stateNode,d._visibility=w?d._visibility&-2:d._visibility|1,w&&(p===null||q||Na||Xn||gu(c)),p=null,d=c;;){if(d.tag===5||d.tag===26){if(p===null){q=p=d;try{if(E=q.stateNode,w)V=E.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{j=q.stateNode;var Se=q.memoizedProps.style,he=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;j.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(fe){Cn(q,q.return,fe)}}}else if(d.tag===6){if(p===null){q=d;try{q.stateNode.nodeValue=w?"":q.memoizedProps}catch(fe){Cn(q,q.return,fe)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}m&4&&(m=c.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,U0(c,p))));break;case 19:Xi(d,c),Qi(c),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,U0(c,m)));break;case 30:break;case 21:break;default:Xi(d,c),Qi(c)}}function Qi(c){var d=c.flags;if(d&2){try{for(var p,m=c.return;m!==null;){if(Q_(m)){p=m;break}m=m.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var w=p.stateNode,E=H0(c);Qy(c,E,w);break;case 5:var V=p.stateNode;p.flags&32&&(ws(V,""),p.flags&=-33);var j=H0(c);Qy(c,j,V);break;case 3:case 4:var q=p.stateNode.containerInfo,ce=H0(c);G0(c,ce,q);break;default:throw Error(r(161))}}catch(Ce){Cn(c,c.return,Ce)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function sk(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;sk(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Ml(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)ek(c,d.alternate,d),d=d.sibling}function gu(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Fl(4,d,d.return),gu(d);break;case 1:Fo(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&Y_(d,d.return,p),gu(d);break;case 27:Xp(d.stateNode);case 26:case 5:Fo(d,d.return),gu(d);break;case 22:d.memoizedState===null&&gu(d);break;case 30:gu(d);break;default:gu(d)}c=c.sibling}}function _l(c,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var m=d.alternate,w=c,E=d,V=E.flags;switch(E.tag){case 0:case 11:case 15:_l(w,E,p),Hp(4,E);break;case 1:if(_l(w,E,p),m=E,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ce){Cn(m,m.return,ce)}if(m=E,w=m.updateQueue,w!==null){var j=m.stateNode;try{var q=w.shared.hiddenCallbacks;if(q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<q.length;w++)kM(q[w],j)}catch(ce){Cn(m,m.return,ce)}}p&&V&64&&K_(E),Gp(E,E.return);break;case 27:Z_(E);case 26:case 5:_l(w,E,p),p&&m===null&&V&4&&X_(E),Gp(E,E.return);break;case 12:_l(w,E,p);break;case 13:_l(w,E,p),p&&V&4&&rk(w,E);break;case 22:E.memoizedState===null&&_l(w,E,p),Gp(E,E.return);break;case 30:break;default:_l(w,E,p)}d=d.sibling}}function j0(c,d){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&Tp(p))}function W0(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Tp(c))}function Mo(c,d,p,m){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ok(c,d,p,m),d=d.sibling}function ok(c,d,p,m){var w=d.flags;switch(d.tag){case 0:case 11:case 15:Mo(c,d,p,m),w&2048&&Hp(9,d);break;case 1:Mo(c,d,p,m);break;case 3:Mo(c,d,p,m),w&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Tp(c)));break;case 12:if(w&2048){Mo(c,d,p,m),c=d.stateNode;try{var E=d.memoizedProps,V=E.id,j=E.onPostCommit;typeof j=="function"&&j(V,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(q){Cn(d,d.return,q)}}else Mo(c,d,p,m);break;case 13:Mo(c,d,p,m);break;case 23:break;case 22:E=d.stateNode,V=d.alternate,d.memoizedState!==null?E._visibility&2?Mo(c,d,p,m):zp(c,d):E._visibility&2?Mo(c,d,p,m):(E._visibility|=2,nh(c,d,p,m,(d.subtreeFlags&10256)!==0)),w&2048&&j0(V,d);break;case 24:Mo(c,d,p,m),w&2048&&W0(d.alternate,d);break;default:Mo(c,d,p,m)}}function nh(c,d,p,m,w){for(w=w&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var E=c,V=d,j=p,q=m,ce=V.flags;switch(V.tag){case 0:case 11:case 15:nh(E,V,j,q,w),Hp(8,V);break;case 23:break;case 22:var Ce=V.stateNode;V.memoizedState!==null?Ce._visibility&2?nh(E,V,j,q,w):zp(E,V):(Ce._visibility|=2,nh(E,V,j,q,w)),w&&ce&2048&&j0(V.alternate,V);break;case 24:nh(E,V,j,q,w),w&&ce&2048&&W0(V.alternate,V);break;default:nh(E,V,j,q,w)}d=d.sibling}}function zp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=c,m=d,w=m.flags;switch(m.tag){case 22:zp(p,m),w&2048&&j0(m.alternate,m);break;case 24:zp(p,m),w&2048&&W0(m.alternate,m);break;default:zp(p,m)}d=d.sibling}}var Up=8192;function rh(c){if(c.subtreeFlags&Up)for(c=c.child;c!==null;)ak(c),c=c.sibling}function ak(c){switch(c.tag){case 26:rh(c),c.flags&Up&&c.memoizedState!==null&&VK(ro,c.memoizedState,c.memoizedProps);break;case 5:rh(c);break;case 3:case 4:var d=ro;ro=uC(c.stateNode.containerInfo),rh(c),ro=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Up,Up=16777216,rh(c),Up=d):rh(c));break;default:rh(c)}}function lk(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function jp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var m=d[p];Ir=m,uk(m,c)}lk(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ck(c),c=c.sibling}function ck(c){switch(c.tag){case 0:case 11:case 15:jp(c),c.flags&2048&&Fl(9,c,c.return);break;case 3:jp(c);break;case 12:jp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,Zy(c)):jp(c);break;default:jp(c)}}function Zy(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var m=d[p];Ir=m,uk(m,c)}lk(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Fl(8,d,d.return),Zy(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,Zy(d));break;default:Zy(d)}c=c.sibling}}function uk(c,d){for(;Ir!==null;){var p=Ir;switch(p.tag){case 0:case 11:case 15:Fl(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Tp(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,Ir=m;else e:for(p=c;Ir!==null;){m=Ir;var w=m.sibling,E=m.return;if(tk(m),m===p){Ir=null;break e}if(w!==null){w.return=E,Ir=w;break e}Ir=E}}}var eK={getCacheForType:function(c){var d=ti(wr),p=d.data.get(c);return p===void 0&&(p=c(),d.data.set(c,p)),p}},tK=typeof WeakMap=="function"?WeakMap:Map,cn=0,bn=null,_t=null,Ut=0,un=0,Zi=null,kl=!1,ih=!1,$0=!1,Ba=0,Un=0,Ol=0,mu=0,q0=0,Ps=0,sh=0,Wp=null,Fi=null,K0=!1,Y0=0,Jy=1/0,eC=null,Ll=null,zr=0,Nl=null,oh=null,ah=0,X0=0,Q0=null,dk=null,$p=0,Z0=null;function Ji(){if((cn&2)!==0&&Ut!==0)return Ut&-Ut;if($.T!==null){var c=Kd;return c!==0?c:sR()}return Y()}function hk(){Ps===0&&(Ps=(Ut&536870912)===0||Zt?Ca():536870912);var c=As.current;return c!==null&&(c.flags|=32),Ps}function es(c,d,p){(c===bn&&(un===2||un===9)||c.cancelPendingCommit!==null)&&(lh(c,0),Vl(c,Ut,Ps,!1)),Js(c,p),((cn&2)===0||c!==bn)&&(c===bn&&((cn&2)===0&&(mu|=p),Un===4&&Vl(c,Ut,Ps,!1)),_o(c))}function fk(c,d,p){if((cn&6)!==0)throw Error(r(327));var m=!p&&(d&124)===0&&(d&c.expiredLanes)===0||vr(c,d),w=m?iK(c,d):tR(c,d,!0),E=m;do{if(w===0){ih&&!m&&Vl(c,d,0,!1);break}else{if(p=c.current.alternate,E&&!nK(p)){w=tR(c,d,!1),E=!1;continue}if(w===2){if(E=d,c.errorRecoveryDisabledLanes&E)var V=0;else V=c.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){d=V;e:{var j=c;w=Wp;var q=j.current.memoizedState.isDehydrated;if(q&&(lh(j,V).flags|=256),V=tR(j,V,!1),V!==2){if($0&&!q){j.errorRecoveryDisabledLanes|=E,mu|=E,w=4;break e}E=Fi,Fi=w,E!==null&&(Fi===null?Fi=E:Fi.push.apply(Fi,E))}w=V}if(E=!1,w!==2)continue}}if(w===1){lh(c,0),Vl(c,d,0,!0);break}e:{switch(m=c,E=w,E){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Vl(m,d,Ps,!kl);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(w=Y0+300-Ve(),10<w)){if(Vl(m,d,Ps,!kl),_n(m,0,!0)!==0)break e;m.timeoutHandle=zk(pk.bind(null,m,p,Fi,eC,K0,d,Ps,mu,sh,kl,E,2,-0,0),w);break e}pk(m,p,Fi,eC,K0,d,Ps,mu,sh,kl,E,0,-0,0)}}break}while(!0);_o(c)}function pk(c,d,p,m,w,E,V,j,q,ce,Ce,Se,he,fe){if(c.timeoutHandle=-1,Se=d.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(Jp={stylesheets:null,count:0,unsuspend:NK},ak(d),Se=BK(),Se!==null)){c.cancelPendingCommit=Se(bk.bind(null,c,d,E,p,m,w,V,j,q,Ce,1,he,fe)),Vl(c,E,V,!ce);return}bk(c,d,E,p,m,w,V,j,q)}function nK(c){for(var d=c;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var w=p[m],E=w.getSnapshot;w=w.value;try{if(!Ki(E(),w))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Vl(c,d,p,m){d&=~q0,d&=~mu,c.suspendedLanes|=d,c.pingedLanes&=~d,m&&(c.warmLanes|=d),m=c.expirationTimes;for(var w=d;0<w;){var E=31-Be(w),V=1<<E;m[E]=-1,w&=~V}p!==0&&hi(c,p,d)}function tC(){return(cn&6)===0?(qp(0),!1):!0}function J0(){if(_t!==null){if(un===0)var c=_t.return;else c=_t,Fa=uu=null,m0(c),eh=null,Np=0,c=_t;for(;c!==null;)q_(c.alternate,c),c=c.return;_t=null}}function lh(c,d){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,wK(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),J0(),bn=c,_t=p=Aa(c.current,null),Ut=d,un=0,Zi=null,kl=!1,ih=vr(c,d),$0=!1,sh=Ps=q0=mu=Ol=Un=0,Fi=Wp=null,K0=!1,(d&8)!==0&&(d|=d&32);var m=c.entangledLanes;if(m!==0)for(c=c.entanglements,m&=d;0<m;){var w=31-Be(m),E=1<<w;d|=c[w],m&=~E}return Ba=d,Ey(),p}function gk(c,d){Pt=null,$.H=zy,d===Ap||d===My?(d=MM(),un=3):d===PM?(d=MM(),un=4):un=d===__?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Zi=d,_t===null&&(Un=1,qy(c,Rs(d,c.current)))}function mk(){var c=$.H;return $.H=zy,c===null?zy:c}function vk(){var c=$.A;return $.A=eK,c}function eR(){Un=4,kl||(Ut&4194048)!==Ut&&As.current!==null||(ih=!0),(Ol&134217727)===0&&(mu&134217727)===0||bn===null||Vl(bn,Ut,Ps,!1)}function tR(c,d,p){var m=cn;cn|=2;var w=mk(),E=vk();(bn!==c||Ut!==d)&&(eC=null,lh(c,d)),d=!1;var V=Un;e:do try{if(un!==0&&_t!==null){var j=_t,q=Zi;switch(un){case 8:J0(),V=6;break e;case 3:case 2:case 9:case 6:As.current===null&&(d=!0);var ce=un;if(un=0,Zi=null,ch(c,j,q,ce),p&&ih){V=0;break e}break;default:ce=un,un=0,Zi=null,ch(c,j,q,ce)}}rK(),V=Un;break}catch(Ce){gk(c,Ce)}while(!0);return d&&c.shellSuspendCounter++,Fa=uu=null,cn=m,$.H=w,$.A=E,_t===null&&(bn=null,Ut=0,Ey()),V}function rK(){for(;_t!==null;)yk(_t)}function iK(c,d){var p=cn;cn|=2;var m=mk(),w=vk();bn!==c||Ut!==d?(eC=null,Jy=Ve()+500,lh(c,d)):ih=vr(c,d);e:do try{if(un!==0&&_t!==null){d=_t;var E=Zi;t:switch(un){case 1:un=0,Zi=null,ch(c,d,E,1);break;case 2:case 9:if(IM(E)){un=0,Zi=null,Ck(d);break}d=function(){un!==2&&un!==9||bn!==c||(un=7),_o(c)},E.then(d,d);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:IM(E)?(un=0,Zi=null,Ck(d)):(un=0,Zi=null,ch(c,d,E,7));break;case 5:var V=null;switch(_t.tag){case 26:V=_t.memoizedState;case 5:case 27:var j=_t;if(!V||eO(V)){un=0,Zi=null;var q=j.sibling;if(q!==null)_t=q;else{var ce=j.return;ce!==null?(_t=ce,nC(ce)):_t=null}break t}}un=0,Zi=null,ch(c,d,E,5);break;case 6:un=0,Zi=null,ch(c,d,E,6);break;case 8:J0(),Un=6;break e;default:throw Error(r(462))}}sK();break}catch(Ce){gk(c,Ce)}while(!0);return Fa=uu=null,$.H=m,$.A=w,cn=p,_t!==null?0:(bn=null,Ut=0,Ey(),Un)}function sK(){for(;_t!==null&&!Ne();)yk(_t)}function yk(c){var d=W_(c.alternate,c,Ba);c.memoizedProps=c.pendingProps,d===null?nC(c):_t=d}function Ck(c){var d=c,p=d.alternate;switch(d.tag){case 15:case 0:d=B_(p,d,d.pendingProps,d.type,void 0,Ut);break;case 11:d=B_(p,d,d.pendingProps,d.type.render,d.ref,Ut);break;case 5:m0(d);default:q_(p,d),d=_t=wM(d,Ba),d=W_(p,d,Ba)}c.memoizedProps=c.pendingProps,d===null?nC(c):_t=d}function ch(c,d,p,m){Fa=uu=null,m0(d),eh=null,Np=0;var w=d.return;try{if(Kq(c,w,d,p,Ut)){Un=1,qy(c,Rs(p,c.current)),_t=null;return}}catch(E){if(w!==null)throw _t=w,E;Un=1,qy(c,Rs(p,c.current)),_t=null;return}d.flags&32768?(Zt||m===1?c=!0:ih||(Ut&536870912)!==0?c=!1:(kl=c=!0,(m===2||m===9||m===3||m===6)&&(m=As.current,m!==null&&m.tag===13&&(m.flags|=16384))),wk(d,c)):nC(d)}function nC(c){var d=c;do{if((d.flags&32768)!==0){wk(d,kl);return}c=d.return;var p=Xq(d.alternate,d,Ba);if(p!==null){_t=p;return}if(d=d.sibling,d!==null){_t=d;return}_t=d=c}while(d!==null);Un===0&&(Un=5)}function wk(c,d){do{var p=Qq(c.alternate,c);if(p!==null){p.flags&=32767,_t=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(c=c.sibling,c!==null)){_t=c;return}_t=c=p}while(c!==null);Un=6,_t=null}function bk(c,d,p,m,w,E,V,j,q){c.cancelPendingCommit=null;do rC();while(zr!==0);if((cn&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(E=d.lanes|d.childLanes,E|=WE,vl(c,p,E,V,j,q),c===bn&&(_t=bn=null,Ut=0),oh=d,Nl=c,ah=p,X0=E,Q0=w,dk=m,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,cK(Et,function(){return Tk(),null})):(c.callbackNode=null,c.callbackPriority=0),m=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,w=Z.p,Z.p=2,V=cn,cn|=4;try{Zq(c,d,p)}finally{cn=V,Z.p=w,$.T=m}}zr=1,Sk(),Ek(),Rk()}}function Sk(){if(zr===1){zr=0;var c=Nl,d=oh,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=$.T,$.T=null;var m=Z.p;Z.p=2;var w=cn;cn|=4;try{ik(d,c);var E=fR,V=uM(c.containerInfo),j=E.focusedElem,q=E.selectionRange;if(V!==j&&j&&j.ownerDocument&&cM(j.ownerDocument.documentElement,j)){if(q!==null&&HE(j)){var ce=q.start,Ce=q.end;if(Ce===void 0&&(Ce=ce),"selectionStart"in j)j.selectionStart=ce,j.selectionEnd=Math.min(Ce,j.value.length);else{var Se=j.ownerDocument||document,he=Se&&Se.defaultView||window;if(he.getSelection){var fe=he.getSelection(),mt=j.textContent.length,lt=Math.min(q.start,mt),pn=q.end===void 0?lt:Math.min(q.end,mt);!fe.extend&&lt>pn&&(V=pn,pn=lt,lt=V);var se=lM(j,lt),J=lM(j,pn);if(se&&J&&(fe.rangeCount!==1||fe.anchorNode!==se.node||fe.anchorOffset!==se.offset||fe.focusNode!==J.node||fe.focusOffset!==J.offset)){var le=Se.createRange();le.setStart(se.node,se.offset),fe.removeAllRanges(),lt>pn?(fe.addRange(le),fe.extend(J.node,J.offset)):(le.setEnd(J.node,J.offset),fe.addRange(le))}}}}for(Se=[],fe=j;fe=fe.parentNode;)fe.nodeType===1&&Se.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Se.length;j++){var be=Se[j];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}gC=!!hR,fR=hR=null}finally{cn=w,Z.p=m,$.T=p}}c.current=d,zr=2}}function Ek(){if(zr===2){zr=0;var c=Nl,d=oh,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=$.T,$.T=null;var m=Z.p;Z.p=2;var w=cn;cn|=4;try{ek(c,d.alternate,d)}finally{cn=w,Z.p=m,$.T=p}}zr=3}}function Rk(){if(zr===4||zr===3){zr=0,Ze();var c=Nl,d=oh,p=ah,m=dk;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?zr=5:(zr=0,oh=Nl=null,xk(c,c.pendingLanes));var w=c.pendingLanes;if(w===0&&(Ll=null),yl(p),d=d.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(ne,d,void 0,(d.current.flags&128)===128)}catch{}if(m!==null){d=$.T,w=Z.p,Z.p=2,$.T=null;try{for(var E=c.onRecoverableError,V=0;V<m.length;V++){var j=m[V];E(j.value,{componentStack:j.stack})}}finally{$.T=d,Z.p=w}}(ah&3)!==0&&rC(),_o(c),w=c.pendingLanes,(p&4194090)!==0&&(w&42)!==0?c===Z0?$p++:($p=0,Z0=c):$p=0,qp(0)}}function xk(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Tp(d)))}function rC(c){return Sk(),Ek(),Rk(),Tk()}function Tk(){if(zr!==5)return!1;var c=Nl,d=X0;X0=0;var p=yl(ah),m=$.T,w=Z.p;try{Z.p=32>p?32:p,$.T=null,p=Q0,Q0=null;var E=Nl,V=ah;if(zr=0,oh=Nl=null,ah=0,(cn&6)!==0)throw Error(r(331));var j=cn;if(cn|=4,ck(E.current),ok(E,E.current,V,p),cn=j,qp(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(ne,E)}catch{}return!0}finally{Z.p=w,$.T=m,xk(c,d)}}function Dk(c,d,p){d=Rs(p,d),d=I0(c.stateNode,d,2),c=Dl(c,d,2),c!==null&&(Js(c,2),_o(c))}function Cn(c,d,p){if(c.tag===3)Dk(c,c,p);else for(;d!==null;){if(d.tag===3){Dk(d,c,p);break}else if(d.tag===1){var m=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ll===null||!Ll.has(m))){c=Rs(p,c),p=F_(2),m=Dl(d,p,2),m!==null&&(M_(p,m,d,c),Js(m,2),_o(m));break}}d=d.return}}function nR(c,d,p){var m=c.pingCache;if(m===null){m=c.pingCache=new tK;var w=new Set;m.set(d,w)}else w=m.get(d),w===void 0&&(w=new Set,m.set(d,w));w.has(p)||($0=!0,w.add(p),c=oK.bind(null,c,d,p),d.then(c,c))}function oK(c,d,p){var m=c.pingCache;m!==null&&m.delete(d),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,bn===c&&(Ut&p)===p&&(Un===4||Un===3&&(Ut&62914560)===Ut&&300>Ve()-Y0?(cn&2)===0&&lh(c,0):q0|=p,sh===Ut&&(sh=0)),_o(c)}function Ak(c,d){d===0&&(d=Wc()),c=jd(c,d),c!==null&&(Js(c,d),_o(c))}function aK(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),Ak(c,p)}function lK(c,d){var p=0;switch(c.tag){case 13:var m=c.stateNode,w=c.memoizedState;w!==null&&(p=w.retryLane);break;case 19:m=c.stateNode;break;case 22:m=c.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(d),Ak(c,p)}function cK(c,d){return Ot(c,d)}var iC=null,uh=null,rR=!1,sC=!1,iR=!1,vu=0;function _o(c){c!==uh&&c.next===null&&(uh===null?iC=uh=c:uh=uh.next=c),sC=!0,rR||(rR=!0,dK())}function qp(c,d){if(!iR&&sC){iR=!0;do for(var p=!1,m=iC;m!==null;){if(c!==0){var w=m.pendingLanes;if(w===0)var E=0;else{var V=m.suspendedLanes,j=m.pingedLanes;E=(1<<31-Be(42|c)+1)-1,E&=w&~(V&~j),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(p=!0,Mk(m,E))}else E=Ut,E=_n(m,m===bn?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||vr(m,E)||(p=!0,Mk(m,E));m=m.next}while(p);iR=!1}}function uK(){Pk()}function Pk(){sC=rR=!1;var c=0;vu!==0&&(CK()&&(c=vu),vu=0);for(var d=Ve(),p=null,m=iC;m!==null;){var w=m.next,E=Ik(m,d);E===0?(m.next=null,p===null?iC=w:p.next=w,w===null&&(uh=p)):(p=m,(c!==0||(E&3)!==0)&&(sC=!0)),m=w}qp(c)}function Ik(c,d){for(var p=c.suspendedLanes,m=c.pingedLanes,w=c.expirationTimes,E=c.pendingLanes&-62914561;0<E;){var V=31-Be(E),j=1<<V,q=w[V];q===-1?((j&p)===0||(j&m)!==0)&&(w[V]=xr(j,d)):q<=d&&(c.expiredLanes|=j),E&=~j}if(d=bn,p=Ut,p=_n(c,c===d?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m=c.callbackNode,p===0||c===d&&(un===2||un===9)||c.cancelPendingCommit!==null)return m!==null&&m!==null&&Oe(m),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||vr(c,p)){if(d=p&-p,d===c.callbackPriority)return d;switch(m!==null&&Oe(m),yl(p)){case 2:case 8:p=at;break;case 32:p=Et;break;case 268435456:p=Mt;break;default:p=Et}return m=Fk.bind(null,c),p=Ot(p,m),c.callbackPriority=d,c.callbackNode=p,d}return m!==null&&m!==null&&Oe(m),c.callbackPriority=2,c.callbackNode=null,2}function Fk(c,d){if(zr!==0&&zr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(rC()&&c.callbackNode!==p)return null;var m=Ut;return m=_n(c,c===bn?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m===0?null:(fk(c,m,d),Ik(c,Ve()),c.callbackNode!=null&&c.callbackNode===p?Fk.bind(null,c):null)}function Mk(c,d){if(rC())return null;fk(c,d,!0)}function dK(){bK(function(){(cn&6)!==0?Ot(Tt,uK):Pk()})}function sR(){return vu===0&&(vu=Ca()),vu}function _k(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Md(""+c)}function kk(c,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,c.id&&p.setAttribute("form",c.id),d.parentNode.insertBefore(p,d),c=new FormData(c),p.parentNode.removeChild(p),c}function hK(c,d,p,m,w){if(d==="submit"&&p&&p.stateNode===w){var E=_k((w[De]||null).action),V=m.submitter;V&&(d=(d=V[De]||null)?_k(d.formAction):V.getAttribute("formAction"),d!==null&&(E=d,V=null));var j=new _d("action","action",null,m,w);c.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(vu!==0){var q=V?kk(w,V):new FormData(w);x0(p,{pending:!0,data:q,method:w.method,action:E},null,q)}}else typeof E=="function"&&(j.preventDefault(),q=V?kk(w,V):new FormData(w),x0(p,{pending:!0,data:q,method:w.method,action:E},E,q))},currentTarget:w}]})}}for(var oR=0;oR<jE.length;oR++){var aR=jE[oR],fK=aR.toLowerCase(),pK=aR[0].toUpperCase()+aR.slice(1);no(fK,"on"+pK)}no(fM,"onAnimationEnd"),no(pM,"onAnimationIteration"),no(gM,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(Fq,"onTransitionRun"),no(Mq,"onTransitionStart"),no(_q,"onTransitionCancel"),no(mM,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kp));function Ok(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var m=c[p],w=m.event;m=m.listeners;e:{var E=void 0;if(d)for(var V=m.length-1;0<=V;V--){var j=m[V],q=j.instance,ce=j.currentTarget;if(j=j.listener,q!==E&&w.isPropagationStopped())break e;E=j,w.currentTarget=ce;try{E(w)}catch(Ce){$y(Ce)}w.currentTarget=null,E=q}else for(V=0;V<m.length;V++){if(j=m[V],q=j.instance,ce=j.currentTarget,j=j.listener,q!==E&&w.isPropagationStopped())break e;E=j,w.currentTarget=ce;try{E(w)}catch(Ce){$y(Ce)}w.currentTarget=null,E=q}}}}function kt(c,d){var p=d[Ye];p===void 0&&(p=d[Ye]=new Set);var m=c+"__bubble";p.has(m)||(Lk(d,c,2,!1),p.add(m))}function lR(c,d,p){var m=0;d&&(m|=4),Lk(p,c,m,d)}var oC="_reactListening"+Math.random().toString(36).slice(2);function cR(c){if(!c[oC]){c[oC]=!0,Qt.forEach(function(p){p!=="selectionchange"&&(gK.has(p)||lR(p,!1,c),lR(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[oC]||(d[oC]=!0,lR("selectionchange",!1,d))}}function Lk(c,d,p,m){switch(oO(d)){case 2:var w=zK;break;case 8:w=UK;break;default:w=ER}p=w.bind(null,d,p,c),w=void 0,!Ss||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(w=!0),m?w!==void 0?c.addEventListener(d,p,{capture:!0,passive:w}):c.addEventListener(d,p,!0):w!==void 0?c.addEventListener(d,p,{passive:w}):c.addEventListener(d,p,!1)}function uR(c,d,p,m,w){var E=m;if((d&1)===0&&(d&2)===0&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var j=m.stateNode.containerInfo;if(j===w)break;if(V===4)for(V=m.return;V!==null;){var q=V.tag;if((q===3||q===4)&&V.stateNode.containerInfo===w)return;V=V.return}for(;j!==null;){if(V=xt(j),V===null)return;if(q=V.tag,q===5||q===6||q===26||q===27){m=E=V;continue e}j=j.parentNode}}m=m.return}ly(function(){var ce=E,Ce=bs(p),Se=[];e:{var he=vM.get(c);if(he!==void 0){var fe=_d,mt=c;switch(c){case"keypress":if(Ro(p)===0)break e;case"keydown":case"keyup":fe=Bd;break;case"focusin":mt="focus",fe=Ld;break;case"focusout":mt="blur",fe=Ld;break;case"beforeblur":case"afterblur":fe=Ld;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=LE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=my;break;case fM:case pM:case gM:fe=Nd;break;case mM:fe=yy;break;case"scroll":case"scrollend":fe=cy;break;case"wheel":fe=Hd;break;case"copy":case"cut":case"paste":fe=Vd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=yp;break;case"toggle":case"beforetoggle":fe=wy}var lt=(d&4)!==0,pn=!lt&&(c==="scroll"||c==="scrollend"),se=lt?he!==null?he+"Capture":null:he;lt=[];for(var J=ce,le;J!==null;){var be=J;if(le=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||le===null||se===null||(be=Xc(J,se),be!=null&&lt.push(Yp(J,be,le))),pn)break;J=J.return}0<lt.length&&(he=new fe(he,mt,null,p,Ce),Se.push({event:he,listeners:lt}))}}if((d&7)===0){e:{if(he=c==="mouseover"||c==="pointerover",fe=c==="mouseout"||c==="pointerout",he&&p!==Sa&&(mt=p.relatedTarget||p.fromElement)&&(xt(mt)||mt[He]))break e;if((fe||he)&&(he=Ce.window===Ce?Ce:(he=Ce.ownerDocument)?he.defaultView||he.parentWindow:window,fe?(mt=p.relatedTarget||p.toElement,fe=ce,mt=mt?xt(mt):null,mt!==null&&(pn=s(mt),lt=mt.tag,mt!==pn||lt!==5&&lt!==27&&lt!==6)&&(mt=null)):(fe=null,mt=ce),fe!==mt)){if(lt=Es,be="onMouseLeave",se="onMouseEnter",J="mouse",(c==="pointerout"||c==="pointerover")&&(lt=yp,be="onPointerLeave",se="onPointerEnter",J="pointer"),pn=fe==null?he:yn(fe),le=mt==null?he:yn(mt),he=new lt(be,J+"leave",fe,p,Ce),he.target=pn,he.relatedTarget=le,be=null,xt(Ce)===ce&&(lt=new lt(se,J+"enter",mt,p,Ce),lt.target=le,lt.relatedTarget=pn,be=lt),pn=be,fe&&mt)t:{for(lt=fe,se=mt,J=0,le=lt;le;le=dh(le))J++;for(le=0,be=se;be;be=dh(be))le++;for(;0<J-le;)lt=dh(lt),J--;for(;0<le-J;)se=dh(se),le--;for(;J--;){if(lt===se||se!==null&&lt===se.alternate)break t;lt=dh(lt),se=dh(se)}lt=null}else lt=null;fe!==null&&Nk(Se,he,fe,lt,!1),mt!==null&&pn!==null&&Nk(Se,pn,mt,lt,!0)}}e:{if(he=ce?yn(ce):window,fe=he.nodeName&&he.nodeName.toLowerCase(),fe==="select"||fe==="input"&&he.type==="file")var ze=nM;else if(Cr(he))if(rM)ze=Aq;else{ze=Tq;var It=xq}else fe=he.nodeName,!fe||fe.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&dp(ce.elementType)&&(ze=nM):ze=Dq;if(ze&&(ze=ze(c,ce))){Da(Se,ze,p,Ce);break e}It&&It(c,he,ce),c==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&Sl(he,"number",he.value)}switch(It=ce?yn(ce):window,c){case"focusin":(Cr(It)||It.contentEditable==="true")&&(Gd=It,GE=ce,bp=null);break;case"focusout":bp=GE=Gd=null;break;case"mousedown":zE=!0;break;case"contextmenu":case"mouseup":case"dragend":zE=!1,dM(Se,p,Ce);break;case"selectionchange":if(Iq)break;case"keydown":case"keyup":dM(Se,p,Ce)}var et;if(Do)e:{switch(c){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Gt?ve(c,p)&&(ht="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(ht="onCompositionStart");ht&&(L&&p.locale!=="ko"&&(Gt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Gt&&(et=fp()):(Eo=Ce,El="value"in Eo?Eo.value:Eo.textContent,Gt=!0)),It=aC(ce,ht),0<It.length&&(ht=new mp(ht,c,null,p,Ce),Se.push({event:ht,listeners:It}),et?ht.data=et:(et=Me(p),et!==null&&(ht.data=et)))),(et=A?yr(c,p):zt(c,p))&&(ht=aC(ce,"onBeforeInput"),0<ht.length&&(It=new mp("onBeforeInput","beforeinput",null,p,Ce),Se.push({event:It,listeners:ht}),It.data=et)),hK(Se,c,ce,p,Ce)}Ok(Se,d)})}function Yp(c,d,p){return{instance:c,listener:d,currentTarget:p}}function aC(c,d){for(var p=d+"Capture",m=[];c!==null;){var w=c,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=Xc(c,p),w!=null&&m.unshift(Yp(c,w,E)),w=Xc(c,d),w!=null&&m.push(Yp(c,w,E))),c.tag===3)return m;c=c.return}return[]}function dh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Nk(c,d,p,m,w){for(var E=d._reactName,V=[];p!==null&&p!==m;){var j=p,q=j.alternate,ce=j.stateNode;if(j=j.tag,q!==null&&q===m)break;j!==5&&j!==26&&j!==27||ce===null||(q=ce,w?(ce=Xc(p,E),ce!=null&&V.unshift(Yp(p,ce,q))):w||(ce=Xc(p,E),ce!=null&&V.push(Yp(p,ce,q)))),p=p.return}V.length!==0&&c.push({event:d,listeners:V})}var mK=/\r\n?/g,vK=/\u0000|\uFFFD/g;function Vk(c){return(typeof c=="string"?c:""+c).replace(mK,`
`).replace(vK,"")}function Bk(c,d){return d=Vk(d),Vk(c)===d}function lC(){}function fn(c,d,p,m,w,E){switch(p){case"children":typeof m=="string"?d==="body"||d==="textarea"&&m===""||ws(c,m):(typeof m=="number"||typeof m=="bigint")&&d!=="body"&&ws(c,""+m);break;case"className":pi(c,"class",m);break;case"tabIndex":pi(c,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(c,p,m);break;case"style":up(c,m,E);break;case"data":if(d!=="object"){pi(c,"data",m);break}case"src":case"href":if(m===""&&(d!=="a"||p!=="href")){c.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(p);break}m=Md(""+m),c.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(p==="formAction"?(d!=="input"&&fn(c,d,"name",w.name,w,null),fn(c,d,"formEncType",w.formEncType,w,null),fn(c,d,"formMethod",w.formMethod,w,null),fn(c,d,"formTarget",w.formTarget,w,null)):(fn(c,d,"encType",w.encType,w,null),fn(c,d,"method",w.method,w,null),fn(c,d,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(p);break}m=Md(""+m),c.setAttribute(p,m);break;case"onClick":m!=null&&(c.onclick=lC);break;case"onScroll":m!=null&&kt("scroll",c);break;case"onScrollEnd":m!=null&&kt("scrollend",c);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(w.children!=null)throw Error(r(60));c.innerHTML=p}}break;case"multiple":c.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":c.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){c.removeAttribute("xlink:href");break}p=Md(""+m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(p,""+m):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":m===!0?c.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(p,m):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?c.setAttribute(p,m):c.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?c.removeAttribute(p):c.setAttribute(p,m);break;case"popover":kt("beforetoggle",c),kt("toggle",c),$i(c,"popover",m);break;case"xlinkActuate":wt(c,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":wt(c,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":wt(c,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":wt(c,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":wt(c,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":wt(c,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":wt(c,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":wt(c,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":wt(c,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$i(c,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=kE.get(p)||p,$i(c,p,m))}}function dR(c,d,p,m,w,E){switch(p){case"style":up(c,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(w.children!=null)throw Error(r(60));c.innerHTML=p}}break;case"children":typeof m=="string"?ws(c,m):(typeof m=="number"||typeof m=="bigint")&&ws(c,""+m);break;case"onScroll":m!=null&&kt("scroll",c);break;case"onScrollEnd":m!=null&&kt("scrollend",c);break;case"onClick":m!=null&&(c.onclick=lC);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ai.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(w=p.endsWith("Capture"),d=p.slice(2,w?p.length-7:void 0),E=c[De]||null,E=E!=null?E[p]:null,typeof E=="function"&&c.removeEventListener(d,E,w),typeof m=="function")){typeof E!="function"&&E!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(d,m,w);break e}p in c?c[p]=m:m===!0?c.setAttribute(p,""):$i(c,p,m)}}}function Ur(c,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",c),kt("load",c);var m=!1,w=!1,E;for(E in p)if(p.hasOwnProperty(E)){var V=p[E];if(V!=null)switch(E){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:fn(c,d,E,V,p,null)}}w&&fn(c,d,"srcSet",p.srcSet,p,null),m&&fn(c,d,"src",p.src,p,null);return;case"input":kt("invalid",c);var j=E=V=w=null,q=null,ce=null;for(m in p)if(p.hasOwnProperty(m)){var Ce=p[m];if(Ce!=null)switch(m){case"name":w=Ce;break;case"type":V=Ce;break;case"checked":q=Ce;break;case"defaultChecked":ce=Ce;break;case"value":E=Ce;break;case"defaultValue":j=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,d));break;default:fn(c,d,m,Ce,p,null)}}qc(c,E,j,q,ce,V,w,!1),Fd(c);return;case"select":kt("invalid",c),m=V=E=null;for(w in p)if(p.hasOwnProperty(w)&&(j=p[w],j!=null))switch(w){case"value":E=j;break;case"defaultValue":V=j;break;case"multiple":m=j;default:fn(c,d,w,j,p,null)}d=E,p=V,c.multiple=!!m,d!=null?ba(c,!!m,d,!1):p!=null&&ba(c,!!m,p,!0);return;case"textarea":kt("invalid",c),E=w=m=null;for(V in p)if(p.hasOwnProperty(V)&&(j=p[V],j!=null))switch(V){case"value":m=j;break;case"defaultValue":w=j;break;case"children":E=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:fn(c,d,V,j,p,null)}Kc(c,m,w,E),Fd(c);return;case"option":for(q in p)if(p.hasOwnProperty(q)&&(m=p[q],m!=null))switch(q){case"selected":c.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:fn(c,d,q,m,p,null)}return;case"dialog":kt("beforetoggle",c),kt("toggle",c),kt("cancel",c),kt("close",c);break;case"iframe":case"object":kt("load",c);break;case"video":case"audio":for(m=0;m<Kp.length;m++)kt(Kp[m],c);break;case"image":kt("error",c),kt("load",c);break;case"details":kt("toggle",c);break;case"embed":case"source":case"link":kt("error",c),kt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in p)if(p.hasOwnProperty(ce)&&(m=p[ce],m!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:fn(c,d,ce,m,p,null)}return;default:if(dp(d)){for(Ce in p)p.hasOwnProperty(Ce)&&(m=p[Ce],m!==void 0&&dR(c,d,Ce,m,p,void 0));return}}for(j in p)p.hasOwnProperty(j)&&(m=p[j],m!=null&&fn(c,d,j,m,p,null))}function yK(c,d,p,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,V=null,j=null,q=null,ce=null,Ce=null;for(fe in p){var Se=p[fe];if(p.hasOwnProperty(fe)&&Se!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":q=Se;default:m.hasOwnProperty(fe)||fn(c,d,fe,null,m,Se)}}for(var he in m){var fe=m[he];if(Se=p[he],m.hasOwnProperty(he)&&(fe!=null||Se!=null))switch(he){case"type":E=fe;break;case"name":w=fe;break;case"checked":ce=fe;break;case"defaultChecked":Ce=fe;break;case"value":V=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,d));break;default:fe!==Se&&fn(c,d,he,fe,m,Se)}}qi(c,V,j,q,ce,Ce,E,w);return;case"select":fe=V=j=he=null;for(E in p)if(q=p[E],p.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":fe=q;default:m.hasOwnProperty(E)||fn(c,d,E,null,m,q)}for(w in m)if(E=m[w],q=p[w],m.hasOwnProperty(w)&&(E!=null||q!=null))switch(w){case"value":he=E;break;case"defaultValue":j=E;break;case"multiple":V=E;default:E!==q&&fn(c,d,w,E,m,q)}d=j,p=V,m=fe,he!=null?ba(c,!!p,he,!1):!!m!=!!p&&(d!=null?ba(c,!!p,d,!0):ba(c,!!p,p?[]:"",!1));return;case"textarea":fe=he=null;for(j in p)if(w=p[j],p.hasOwnProperty(j)&&w!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:fn(c,d,j,null,m,w)}for(V in m)if(w=m[V],E=p[V],m.hasOwnProperty(V)&&(w!=null||E!=null))switch(V){case"value":he=w;break;case"defaultValue":fe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==E&&fn(c,d,V,w,m,E)}dn(c,he,fe);return;case"option":for(var mt in p)if(he=p[mt],p.hasOwnProperty(mt)&&he!=null&&!m.hasOwnProperty(mt))switch(mt){case"selected":c.selected=!1;break;default:fn(c,d,mt,null,m,he)}for(q in m)if(he=m[q],fe=p[q],m.hasOwnProperty(q)&&he!==fe&&(he!=null||fe!=null))switch(q){case"selected":c.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:fn(c,d,q,he,m,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in p)he=p[lt],p.hasOwnProperty(lt)&&he!=null&&!m.hasOwnProperty(lt)&&fn(c,d,lt,null,m,he);for(ce in m)if(he=m[ce],fe=p[ce],m.hasOwnProperty(ce)&&he!==fe&&(he!=null||fe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,d));break;default:fn(c,d,ce,he,m,fe)}return;default:if(dp(d)){for(var pn in p)he=p[pn],p.hasOwnProperty(pn)&&he!==void 0&&!m.hasOwnProperty(pn)&&dR(c,d,pn,void 0,m,he);for(Ce in m)he=m[Ce],fe=p[Ce],!m.hasOwnProperty(Ce)||he===fe||he===void 0&&fe===void 0||dR(c,d,Ce,he,m,fe);return}}for(var se in p)he=p[se],p.hasOwnProperty(se)&&he!=null&&!m.hasOwnProperty(se)&&fn(c,d,se,null,m,he);for(Se in m)he=m[Se],fe=p[Se],!m.hasOwnProperty(Se)||he===fe||he==null&&fe==null||fn(c,d,Se,he,m,fe)}var hR=null,fR=null;function cC(c){return c.nodeType===9?c:c.ownerDocument}function Hk(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gk(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function pR(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var gR=null;function CK(){var c=window.event;return c&&c.type==="popstate"?c===gR?!1:(gR=c,!0):(gR=null,!1)}var zk=typeof setTimeout=="function"?setTimeout:void 0,wK=typeof clearTimeout=="function"?clearTimeout:void 0,Uk=typeof Promise=="function"?Promise:void 0,bK=typeof queueMicrotask=="function"?queueMicrotask:typeof Uk<"u"?function(c){return Uk.resolve(null).then(c).catch(SK)}:zk;function SK(c){setTimeout(function(){throw c})}function Bl(c){return c==="head"}function jk(c,d){var p=d,m=0,w=0;do{var E=p.nextSibling;if(c.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(0<m&&8>m){p=m;var V=c.ownerDocument;if(p&1&&Xp(V.documentElement),p&2&&Xp(V.body),p&4)for(p=V.head,Xp(p),V=p.firstChild;V;){var j=V.nextSibling,q=V.nodeName;V[$e]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&V.rel.toLowerCase()==="stylesheet"||p.removeChild(V),V=j}}if(w===0){c.removeChild(E),ig(d);return}w--}else p==="$"||p==="$?"||p==="$!"?w++:m=p.charCodeAt(0)-48;else m=0;p=E}while(p);ig(d)}function mR(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":mR(p),qe(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function EK(c,d,p,m){for(;c.nodeType===1;){var w=p;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!m&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(m){if(!c[$e])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(E=c.getAttribute("rel"),E==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(E!==w.rel||c.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||c.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||c.getAttribute("title")!==(w.title==null?null:w.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(E=c.getAttribute("src"),(E!==(w.src==null?null:w.src)||c.getAttribute("type")!==(w.type==null?null:w.type)||c.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&c.getAttribute("name")===E)return c}else return c;if(c=io(c.nextSibling),c===null)break}return null}function RK(c,d,p){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=io(c.nextSibling),c===null))return null;return c}function vR(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function xK(c,d){var p=c.ownerDocument;if(c.data!=="$?"||p.readyState==="complete")d();else{var m=function(){d(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),c._reactRetry=m}}function io(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var yR=null;function Wk(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return c;d--}else p==="/$"&&d++}c=c.previousSibling}return null}function $k(c,d,p){switch(d=cC(p),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function Xp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);qe(c)}var Is=new Map,qk=new Set;function uC(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Ha=Z.d;Z.d={f:TK,r:DK,D:AK,C:PK,L:IK,m:FK,X:_K,S:MK,M:kK};function TK(){var c=Ha.f(),d=tC();return c||d}function DK(c){var d=qt(c);d!==null&&d.tag===5&&d.type==="form"?f_(d):Ha.r(c)}var hh=typeof document>"u"?null:document;function Kk(c,d,p){var m=hh;if(m&&typeof d=="string"&&d){var w=sr(d);w='link[rel="'+c+'"][href="'+w+'"]',typeof p=="string"&&(w+='[crossorigin="'+p+'"]'),qk.has(w)||(qk.add(w),c={rel:c,crossOrigin:p,href:d},m.querySelector(w)===null&&(d=m.createElement("link"),Ur(d,"link",c),St(d),m.head.appendChild(d)))}}function AK(c){Ha.D(c),Kk("dns-prefetch",c,null)}function PK(c,d){Ha.C(c,d),Kk("preconnect",c,d)}function IK(c,d,p){Ha.L(c,d,p);var m=hh;if(m&&c&&d){var w='link[rel="preload"][as="'+sr(d)+'"]';d==="image"&&p&&p.imageSrcSet?(w+='[imagesrcset="'+sr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(w+='[imagesizes="'+sr(p.imageSizes)+'"]')):w+='[href="'+sr(c)+'"]';var E=w;switch(d){case"style":E=fh(c);break;case"script":E=ph(c)}Is.has(E)||(c=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:c,as:d},p),Is.set(E,c),m.querySelector(w)!==null||d==="style"&&m.querySelector(Qp(E))||d==="script"&&m.querySelector(Zp(E))||(d=m.createElement("link"),Ur(d,"link",c),St(d),m.head.appendChild(d)))}}function FK(c,d){Ha.m(c,d);var p=hh;if(p&&c){var m=d&&typeof d.as=="string"?d.as:"script",w='link[rel="modulepreload"][as="'+sr(m)+'"][href="'+sr(c)+'"]',E=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=ph(c)}if(!Is.has(E)&&(c=h({rel:"modulepreload",href:c},d),Is.set(E,c),p.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Zp(E)))return}m=p.createElement("link"),Ur(m,"link",c),St(m),p.head.appendChild(m)}}}function MK(c,d,p){Ha.S(c,d,p);var m=hh;if(m&&c){var w=Xt(m).hoistableStyles,E=fh(c);d=d||"default";var V=w.get(E);if(!V){var j={loading:0,preload:null};if(V=m.querySelector(Qp(E)))j.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},p),(p=Is.get(E))&&CR(c,p);var q=V=m.createElement("link");St(q),Ur(q,"link",c),q._p=new Promise(function(ce,Ce){q.onload=ce,q.onerror=Ce}),q.addEventListener("load",function(){j.loading|=1}),q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,dC(V,d,m)}V={type:"stylesheet",instance:V,count:1,state:j},w.set(E,V)}}}function _K(c,d){Ha.X(c,d);var p=hh;if(p&&c){var m=Xt(p).hoistableScripts,w=ph(c),E=m.get(w);E||(E=p.querySelector(Zp(w)),E||(c=h({src:c,async:!0},d),(d=Is.get(w))&&wR(c,d),E=p.createElement("script"),St(E),Ur(E,"link",c),p.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function kK(c,d){Ha.M(c,d);var p=hh;if(p&&c){var m=Xt(p).hoistableScripts,w=ph(c),E=m.get(w);E||(E=p.querySelector(Zp(w)),E||(c=h({src:c,async:!0,type:"module"},d),(d=Is.get(w))&&wR(c,d),E=p.createElement("script"),St(E),Ur(E,"link",c),p.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function Yk(c,d,p,m){var w=(w=Te.current)?uC(w):null;if(!w)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=fh(p.href),p=Xt(w).hoistableStyles,m=p.get(d),m||(m={type:"style",instance:null,count:0,state:null},p.set(d,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=fh(p.href);var E=Xt(w).hoistableStyles,V=E.get(c);if(V||(w=w.ownerDocument||w,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(c,V),(E=w.querySelector(Qp(c)))&&!E._p&&(V.instance=E,V.state.loading=5),Is.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Is.set(c,p),E||OK(w,c,p,V.state))),d&&m===null)throw Error(r(528,""));return V}if(d&&m!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=ph(p),p=Xt(w).hoistableScripts,m=p.get(d),m||(m={type:"script",instance:null,count:0,state:null},p.set(d,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function fh(c){return'href="'+sr(c)+'"'}function Qp(c){return'link[rel="stylesheet"]['+c+"]"}function Xk(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function OK(c,d,p,m){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?m.loading=1:(d=c.createElement("link"),m.preload=d,d.addEventListener("load",function(){return m.loading|=1}),d.addEventListener("error",function(){return m.loading|=2}),Ur(d,"link",p),St(d),c.head.appendChild(d))}function ph(c){return'[src="'+sr(c)+'"]'}function Zp(c){return"script[async]"+c}function Qk(c,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var m=c.querySelector('style[data-href~="'+sr(p.href)+'"]');if(m)return d.instance=m,St(m),m;var w=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(c.ownerDocument||c).createElement("style"),St(m),Ur(m,"style",w),dC(m,p.precedence,c),d.instance=m;case"stylesheet":w=fh(p.href);var E=c.querySelector(Qp(w));if(E)return d.state.loading|=4,d.instance=E,St(E),E;m=Xk(p),(w=Is.get(w))&&CR(m,w),E=(c.ownerDocument||c).createElement("link"),St(E);var V=E;return V._p=new Promise(function(j,q){V.onload=j,V.onerror=q}),Ur(E,"link",m),d.state.loading|=4,dC(E,p.precedence,c),d.instance=E;case"script":return E=ph(p.src),(w=c.querySelector(Zp(E)))?(d.instance=w,St(w),w):(m=p,(w=Is.get(E))&&(m=h({},p),wR(m,w)),c=c.ownerDocument||c,w=c.createElement("script"),St(w),Ur(w,"link",m),c.head.appendChild(w),d.instance=w);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(m=d.instance,d.state.loading|=4,dC(m,p.precedence,c));return d.instance}function dC(c,d,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,E=w,V=0;V<m.length;V++){var j=m[V];if(j.dataset.precedence===d)E=j;else if(E!==w)break}E?E.parentNode.insertBefore(c,E.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(c,d.firstChild))}function CR(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function wR(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var hC=null;function Zk(c,d,p){if(hC===null){var m=new Map,w=hC=new Map;w.set(p,m)}else w=hC,m=w.get(p),m||(m=new Map,w.set(p,m));if(m.has(c))return m;for(m.set(c,null),p=p.getElementsByTagName(c),w=0;w<p.length;w++){var E=p[w];if(!(E[$e]||E[Ee]||c==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var V=E.getAttribute(d)||"";V=c+V;var j=m.get(V);j?j.push(E):m.set(V,[E])}}return m}function Jk(c,d,p){c=c.ownerDocument||c,c.head.insertBefore(p,d==="title"?c.querySelector("head > title"):null)}function LK(c,d,p){if(p===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function eO(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Jp=null;function NK(){}function VK(c,d,p){if(Jp===null)throw Error(r(475));var m=Jp;if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=fh(p.href),E=c.querySelector(Qp(w));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(m.count++,m=fC.bind(m),c.then(m,m)),d.state.loading|=4,d.instance=E,St(E);return}E=c.ownerDocument||c,p=Xk(p),(w=Is.get(w))&&CR(p,w),E=E.createElement("link"),St(E);var V=E;V._p=new Promise(function(j,q){V.onload=j,V.onerror=q}),Ur(E,"link",p),d.instance=E}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(m.count++,d=fC.bind(m),c.addEventListener("load",d),c.addEventListener("error",d))}}function BK(){if(Jp===null)throw Error(r(475));var c=Jp;return c.stylesheets&&c.count===0&&bR(c,c.stylesheets),0<c.count?function(d){var p=setTimeout(function(){if(c.stylesheets&&bR(c,c.stylesheets),c.unsuspend){var m=c.unsuspend;c.unsuspend=null,m()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(p)}}:null}function fC(){if(this.count--,this.count===0){if(this.stylesheets)bR(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var pC=null;function bR(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,pC=new Map,d.forEach(HK,c),pC=null,fC.call(c))}function HK(c,d){if(!(d.state.loading&4)){var p=pC.get(c);if(p)var m=p.get(null);else{p=new Map,pC.set(c,p);for(var w=c.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var V=w[E];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),m=V)}m&&p.set(null,m)}w=d.instance,V=w.getAttribute("data-precedence"),E=p.get(V)||m,E===m&&p.set(null,w),p.set(V,w),this.count++,m=fC.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),E?E.parentNode.insertBefore(w,E.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(w,c.firstChild)),d.state.loading|=4}}var eg={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function GK(c,d,p,m,w,E,V,j){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.hiddenUpdates=ys(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function tO(c,d,p,m,w,E,V,j,q,ce,Ce,Se){return c=new GK(c,d,p,V,j,q,ce,Se),d=1,E===!0&&(d|=24),E=Yi(3,null,null,d),c.current=E,E.stateNode=c,d=n0(),d.refCount++,c.pooledCache=d,d.refCount++,E.memoizedState={element:m,isDehydrated:p,cache:d},o0(E),c}function nO(c){return c?(c=Wd,c):Wd}function rO(c,d,p,m,w,E){w=nO(w),m.context===null?m.context=w:m.pendingContext=w,m=Tl(d),m.payload={element:p},E=E===void 0?null:E,E!==null&&(m.callback=E),p=Dl(c,m,d),p!==null&&(es(p,c,d),Ip(p,c,d))}function iO(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function SR(c,d){iO(c,d),(c=c.alternate)&&iO(c,d)}function sO(c){if(c.tag===13){var d=jd(c,67108864);d!==null&&es(d,c,67108864),SR(c,67108864)}}var gC=!0;function zK(c,d,p,m){var w=$.T;$.T=null;var E=Z.p;try{Z.p=2,ER(c,d,p,m)}finally{Z.p=E,$.T=w}}function UK(c,d,p,m){var w=$.T;$.T=null;var E=Z.p;try{Z.p=8,ER(c,d,p,m)}finally{Z.p=E,$.T=w}}function ER(c,d,p,m){if(gC){var w=RR(m);if(w===null)uR(c,d,m,mC,p),aO(c,m);else if(WK(w,c,d,p,m))m.stopPropagation();else if(aO(c,m),d&4&&-1<jK.indexOf(c)){for(;w!==null;){var E=qt(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var V=mr(E.pendingLanes);if(V!==0){var j=E;for(j.pendingLanes|=2,j.entangledLanes|=2;V;){var q=1<<31-Be(V);j.entanglements[1]|=q,V&=~q}_o(E),(cn&6)===0&&(Jy=Ve()+500,qp(0))}}break;case 13:j=jd(E,2),j!==null&&es(j,E,2),tC(),SR(E,2)}if(E=RR(m),E===null&&uR(c,d,m,mC,p),E===w)break;w=E}w!==null&&m.stopPropagation()}else uR(c,d,m,null,p)}}function RR(c){return c=bs(c),xR(c)}var mC=null;function xR(c){if(mC=null,c=xt(c),c!==null){var d=s(c);if(d===null)c=null;else{var p=d.tag;if(p===13){if(c=o(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return mC=c,null}function oO(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case Tt:return 2;case at:return 8;case Et:case Rt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var TR=!1,Hl=null,Gl=null,zl=null,tg=new Map,ng=new Map,Ul=[],jK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aO(c,d){switch(c){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":tg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ng.delete(d.pointerId)}}function rg(c,d,p,m,w,E){return c===null||c.nativeEvent!==E?(c={blockedOn:d,domEventName:p,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},d!==null&&(d=qt(d),d!==null&&sO(d)),c):(c.eventSystemFlags|=m,d=c.targetContainers,w!==null&&d.indexOf(w)===-1&&d.push(w),c)}function WK(c,d,p,m,w){switch(d){case"focusin":return Hl=rg(Hl,c,d,p,m,w),!0;case"dragenter":return Gl=rg(Gl,c,d,p,m,w),!0;case"mouseover":return zl=rg(zl,c,d,p,m,w),!0;case"pointerover":var E=w.pointerId;return tg.set(E,rg(tg.get(E)||null,c,d,p,m,w)),!0;case"gotpointercapture":return E=w.pointerId,ng.set(E,rg(ng.get(E)||null,c,d,p,m,w)),!0}return!1}function lO(c){var d=xt(c.target);if(d!==null){var p=s(d);if(p!==null){if(d=p.tag,d===13){if(d=o(p),d!==null){c.blockedOn=d,oe(c.priority,function(){if(p.tag===13){var m=Ji();m=bo(m);var w=jd(p,m);w!==null&&es(w,p,m),SR(p,m)}});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function vC(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=RR(c.nativeEvent);if(p===null){p=c.nativeEvent;var m=new p.constructor(p.type,p);Sa=m,p.target.dispatchEvent(m),Sa=null}else return d=qt(p),d!==null&&sO(d),c.blockedOn=p,!1;d.shift()}return!0}function cO(c,d,p){vC(c)&&p.delete(d)}function $K(){TR=!1,Hl!==null&&vC(Hl)&&(Hl=null),Gl!==null&&vC(Gl)&&(Gl=null),zl!==null&&vC(zl)&&(zl=null),tg.forEach(cO),ng.forEach(cO)}function yC(c,d){c.blockedOn===d&&(c.blockedOn=null,TR||(TR=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$K)))}var CC=null;function uO(c){CC!==c&&(CC=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){CC===c&&(CC=null);for(var d=0;d<c.length;d+=3){var p=c[d],m=c[d+1],w=c[d+2];if(typeof m!="function"){if(xR(m||p)===null)continue;break}var E=qt(p);E!==null&&(c.splice(d,3),d-=3,x0(E,{pending:!0,data:w,method:p.method,action:m},m,w))}}))}function ig(c){function d(q){return yC(q,c)}Hl!==null&&yC(Hl,c),Gl!==null&&yC(Gl,c),zl!==null&&yC(zl,c),tg.forEach(d),ng.forEach(d);for(var p=0;p<Ul.length;p++){var m=Ul[p];m.blockedOn===c&&(m.blockedOn=null)}for(;0<Ul.length&&(p=Ul[0],p.blockedOn===null);)lO(p),p.blockedOn===null&&Ul.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var w=p[m],E=p[m+1],V=w[De]||null;if(typeof E=="function")V||uO(p);else if(V){var j=null;if(E&&E.hasAttribute("formAction")){if(w=E,V=E[De]||null)j=V.formAction;else if(xR(w)!==null)continue}else j=V.action;typeof j=="function"?p[m+1]=j:(p.splice(m,3),m-=3),uO(p)}}}function DR(c){this._internalRoot=c}wC.prototype.render=DR.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,m=Ji();rO(p,m,c,d,null,null)},wC.prototype.unmount=DR.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;rO(c.current,2,null,c,null,null),tC(),d[He]=null}};function wC(c){this._internalRoot=c}wC.prototype.unstable_scheduleHydration=function(c){if(c){var d=Y();c={blockedOn:null,target:c,priority:d};for(var p=0;p<Ul.length&&d!==0&&d<Ul[p].priority;p++);Ul.splice(p,0,c),p===0&&lO(c)}};var dO=t.version;if(dO!=="19.1.1")throw Error(r(527,dO,"19.1.1"));Z.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=l(d),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var qK={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bC.isDisabled&&bC.supportsFiber)try{ne=bC.inject(qK),ye=bC}catch{}}return og.createRoot=function(c,d){if(!i(c))throw Error(r(299));var p=!1,m="",w=D_,E=A_,V=P_,j=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(m=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(E=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(j=d.unstable_transitionCallbacks)),d=tO(c,1,!1,null,null,p,m,w,E,V,j,null),c[He]=d.current,cR(c),new DR(d)},og.hydrateRoot=function(c,d,p){if(!i(c))throw Error(r(299));var m=!1,w="",E=D_,V=A_,j=P_,q=null,ce=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onUncaughtError!==void 0&&(E=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(j=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(q=p.unstable_transitionCallbacks),p.formState!==void 0&&(ce=p.formState)),d=tO(c,1,!0,d,p??null,m,w,E,V,j,q,ce),d.context=nO(null),p=d.current,m=Ji(),m=bo(m),w=Tl(m),w.callback=null,Dl(p,w,m),p=m,d.current.lanes=p,Js(d,p),_o(d),c[He]=d.current,cR(c),new wC(d)},og.version="19.1.1",og}var bO;function nY(){if(bO)return IR.exports;bO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),IR.exports=tY(),IR.exports}var rY=nY();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cz=e=>{throw TypeError(e)},iY=(e,t,n)=>t.has(e)||cz("Cannot "+n),kR=(e,t,n)=>(iY(e,t,"read from private field"),n?n.call(e):t.get(e)),sY=(e,t,n)=>t.has(e)?cz("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),SO="popstate";function oY(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=fl(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fm("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:yc(s))}function r(i,s){Wn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return lY(t,n,r,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aY(){return Math.random().toString(36).substring(2,10)}function EO(e,t){return{usr:e.state,key:e.key,idx:t}}function fm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fl(t):t,state:n,key:t&&t.key||r||aY()}}function yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function lY(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let R=h(),x=R==null?null:R-u;u=R,l&&l({action:a,location:S.location,delta:x})}function g(R,x){a="PUSH";let D=fm(S.location,R,x);n&&n(D,R),u=h()+1;let T=EO(D,u),k=S.createHref(D);try{o.pushState(T,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}s&&l&&l({action:a,location:S.location,delta:1})}function v(R,x){a="REPLACE";let D=fm(S.location,R,x);n&&n(D,R),u=h();let T=EO(D,u),k=S.createHref(D);o.replaceState(T,"",k),s&&l&&l({action:a,location:S.location,delta:0})}function C(R){return uz(R)}let S={get action(){return a},get location(){return e(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SO,f),l=R,()=>{i.removeEventListener(SO,f),l=null}},createHref(R){return t(i,R)},createURL:C,encodeLocation(R){let x=C(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(R){return o.go(R)}};return S}function uz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:yc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Dg,RO=class{constructor(e){if(sY(this,Dg,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(kR(this,Dg).has(e))return kR(this,Dg).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){kR(this,Dg).set(e,t)}};Dg=new WeakMap;var cY=new Set(["lazy","caseSensitive","path","id","index","children"]);function uY(e){return cY.has(e)}var dY=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function hY(e){return dY.has(e)}function fY(e){return e.index===!0}function pm(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Ft(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ft(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),fY(s)){let u={...s,...t(s),id:l};return r[l]=u,u}else{let u={...s,...t(s),id:l,children:void 0};return r[l]=u,s.children&&(u.children=pm(s.children,t,a,r,i)),u}})}function ec(e,t,n="/"){return aw(e,t,n,!1)}function aw(e,t,n,r){let i=typeof t=="string"?fl(t):t,s=$s(i.pathname||"/",n);if(s==null)return null;let o=dz(e);gY(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=TY(s);a=RY(o[l],u,r)}return a}function pY(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function dz(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ft(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=$o([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ft(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),dz(s.children,t,h,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:SY(u,s.index),routesMeta:h})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of hz(s.path))i(s,o,a)}),t}function hz(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hz(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function gY(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EY(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mY=/^:[\w-]+$/,vY=3,yY=2,CY=1,wY=10,bY=-2,xO=e=>e==="*";function SY(e,t){let n=e.split("/"),r=n.length;return n.some(xO)&&(r+=bY),t&&(r+=yY),n.filter(i=>!xO(i)).reduce((i,s)=>i+(mY.test(s)?vY:s===""?CY:wY),r)}function EY(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function RY(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",f=jw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=jw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:$o([s,f.pathname]),pathnameBase:IY($o([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=$o([s,f.pathnameBase]))}return o}function jw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xY(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let C=a[g]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=a[g];return f&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function xY(e,t=!1,n=!0){Wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function TY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $s(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function DY({basename:e,pathname:t}){return t==="/"?e:$o([e,t])}function AY(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fl(e):e;return{pathname:n?n.startsWith("/")?n:PY(n,t):t,search:FY(r),hash:MY(i)}}function PY(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function OR(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hS(e){let t=fz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function fS(e,t,n,r=!1){let i;typeof e=="string"?i=fl(e):(i={...e},Ft(!i.pathname||!i.pathname.includes("?"),OR("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),OR("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),OR("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=AY(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var $o=e=>e.join("/").replace(/\/\/+/g,"/"),IY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ww=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function gm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var pz=["POST","PUT","PATCH","DELETE"],_Y=new Set(pz),kY=["GET",...pz],OY=new Set(kY),LY=new Set([301,302,303,307,308]),NY=new Set([307,308]),LR={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VY={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ag={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZA=e=>BY.test(e),HY=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),gz="remix-router-transitions",mz=Symbol("ResetLoaderData");function GY(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ft(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||HY,s={},o=pm(e.routes,i,void 0,s),a,l=e.basename||"/",u=e.dataStrategy||$Y,h={unstable_middleware:!1,...e.future},f=null,g=new Set,v=null,C=null,S=null,R=e.hydrationData!=null,x=ec(o,e.history.location,l),D=!1,T=null,k;if(x==null&&!e.patchRoutesOnNavigation){let Y=Ls(404,{pathname:e.history.location.pathname}),{matches:oe,route:ue}=NO(o);k=!0,x=oe,T={[ue.id]:Y}}else if(x&&!e.hydrationData&&hi(x,o,e.history.location.pathname).active&&(x=null),x)if(x.some(Y=>Y.route.lazy))k=!1;else if(!x.some(Y=>Y.route.loader))k=!0;else{let Y=e.hydrationData?e.hydrationData.loaderData:null,oe=e.hydrationData?e.hydrationData.errors:null;if(oe){let ue=x.findIndex(Ee=>oe[Ee.route.id]!==void 0);k=x.slice(0,ue+1).every(Ee=>!PT(Ee.route,Y,oe))}else k=x.every(ue=>!PT(ue.route,Y,oe))}else{k=!1,x=[];let Y=hi(null,o,e.history.location.pathname);Y.active&&Y.matches&&(D=!0,x=Y.matches)}let O,P={historyAction:e.history.action,location:e.history.location,matches:x,initialized:k,navigation:LR,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},_="POP",M=!1,N,B=!1,H=new Map,U=null,G=!1,ee=!1,ie=new Set,$=new Map,Z=0,te=-1,pe=new Map,F=new Set,X=new Map,re=new Map,z=new Set,ge=new Map,Ae,Te=null;function ut(){if(f=e.history.listen(({action:Y,location:oe,delta:ue})=>{if(Ae){Ae(),Ae=void 0;return}Wn(ge.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ee=xr({currentLocation:P.location,nextLocation:oe,historyAction:Y});if(Ee&&ue!=null){let De=new Promise(He=>{Ae=He});e.history.go(ue*-1),vr(Ee,{state:"blocked",location:oe,proceed(){vr(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),De.then(()=>e.history.go(ue))},reset(){let He=new Map(P.blockers);He.set(Ee,ag),rt({blockers:He})}});return}return Oe(Y,oe)}),n){rX(t,H);let Y=()=>iX(t,H);t.addEventListener("pagehide",Y),U=()=>t.removeEventListener("pagehide",Y)}return P.initialized||Oe("POP",P.location,{initialHydration:!0}),O}function Ke(){f&&f(),U&&U(),g.clear(),N&&N.abort(),P.fetchers.forEach((Y,oe)=>Be(oe)),P.blockers.forEach((Y,oe)=>_n(oe))}function Ue(Y){return g.add(Y),()=>g.delete(Y)}function rt(Y,oe={}){Y.matches&&(Y.matches=Y.matches.map(De=>{let He=s[De.route.id],Ye=De.route;return Ye.element!==He.element||Ye.errorElement!==He.errorElement||Ye.hydrateFallbackElement!==He.hydrateFallbackElement?{...De,route:He}:De})),P={...P,...Y};let ue=[],Ee=[];P.fetchers.forEach((De,He)=>{De.state==="idle"&&(z.has(He)?ue.push(He):Ee.push(He))}),z.forEach(De=>{!P.fetchers.has(De)&&!$.has(De)&&ue.push(De)}),[...g].forEach(De=>De(P,{deletedFetchers:ue,viewTransitionOpts:oe.viewTransitionOpts,flushSync:oe.flushSync===!0})),ue.forEach(De=>Be(De)),Ee.forEach(De=>P.fetchers.delete(De))}function dt(Y,oe,{flushSync:ue}={}){let Ee=P.actionData!=null&&P.navigation.formMethod!=null&&Oi(P.navigation.formMethod)&&P.navigation.state==="loading"&&Y.state?._isRedirect!==!0,De;oe.actionData?Object.keys(oe.actionData).length>0?De=oe.actionData:De=null:Ee?De=P.actionData:De=null;let He=oe.loaderData?OO(P.loaderData,oe.loaderData,oe.matches||[],oe.errors):P.loaderData,Ye=P.blockers;Ye.size>0&&(Ye=new Map(Ye),Ye.forEach(($e,qe)=>Ye.set(qe,ag)));let je=G?!1:vl(Y,oe.matches||P.matches),We=M===!0||P.navigation.formMethod!=null&&Oi(P.navigation.formMethod)&&Y.state?._isRedirect!==!0;a&&(o=a,a=void 0),G||_==="POP"||(_==="PUSH"?e.history.push(Y,Y.state):_==="REPLACE"&&e.history.replace(Y,Y.state));let st;if(_==="POP"){let $e=H.get(P.location.pathname);$e&&$e.has(Y.pathname)?st={currentLocation:P.location,nextLocation:Y}:H.has(Y.pathname)&&(st={currentLocation:Y,nextLocation:P.location})}else if(B){let $e=H.get(P.location.pathname);$e?$e.add(Y.pathname):($e=new Set([Y.pathname]),H.set(P.location.pathname,$e)),st={currentLocation:P.location,nextLocation:Y}}rt({...oe,actionData:De,loaderData:He,historyAction:_,location:Y,initialized:!0,navigation:LR,revalidation:"idle",restoreScrollPosition:je,preventScrollReset:We,blockers:Ye},{viewTransitionOpts:st,flushSync:ue===!0}),_="POP",M=!1,B=!1,G=!1,ee=!1,Te?.resolve(),Te=null}async function yt(Y,oe){if(typeof Y=="number"){e.history.go(Y);return}let ue=AT(P.location,P.matches,l,Y,oe?.fromRouteId,oe?.relative),{path:Ee,submission:De,error:He}=TO(!1,ue,oe),Ye=P.location,je=fm(P.location,Ee,oe&&oe.state);je={...je,...e.history.encodeLocation(je)};let We=oe&&oe.replace!=null?oe.replace:void 0,st="PUSH";We===!0?st="REPLACE":We===!1||De!=null&&Oi(De.formMethod)&&De.formAction===P.location.pathname+P.location.search&&(st="REPLACE");let $e=oe&&"preventScrollReset"in oe?oe.preventScrollReset===!0:void 0,qe=(oe&&oe.flushSync)===!0,xt=xr({currentLocation:Ye,nextLocation:je,historyAction:st});if(xt){vr(xt,{state:"blocked",location:je,proceed(){vr(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),yt(Y,oe)},reset(){let qt=new Map(P.blockers);qt.set(xt,ag),rt({blockers:qt})}});return}await Oe(st,je,{submission:De,pendingError:He,preventScrollReset:$e,replace:oe&&oe.replace,enableViewTransition:oe&&oe.viewTransition,flushSync:qe})}function Ot(){Te||(Te=sX()),Gn(),rt({revalidation:"loading"});let Y=Te.promise;return P.navigation.state==="submitting"?Y:P.navigation.state==="idle"?(Oe(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),Y):(Oe(_||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:B===!0}),Y)}async function Oe(Y,oe,ue){N&&N.abort(),N=null,_=Y,G=(ue&&ue.startUninterruptedRevalidation)===!0,Js(P.location,P.matches),M=(ue&&ue.preventScrollReset)===!0,B=(ue&&ue.enableViewTransition)===!0;let Ee=a||o,De=ue&&ue.overrideNavigation,He=ue?.initialHydration&&P.matches&&P.matches.length>0&&!D?P.matches:ec(Ee,oe,l),Ye=(ue&&ue.flushSync)===!0;if(He&&P.initialized&&!ee&&ZY(P.location,oe)&&!(ue&&ue.submission&&Oi(ue.submission.formMethod))){dt(oe,{matches:He},{flushSync:Ye});return}let je=hi(He,Ee,oe.pathname);if(je.active&&je.matches&&(He=je.matches),!He){let{error:Xt,notFoundMatches:St,route:Qt}=Ca(oe.pathname);dt(oe,{matches:St,loaderData:{},errors:{[Qt.id]:Xt}},{flushSync:Ye});return}N=new AbortController;let We=Eh(e.history,oe,N.signal,ue&&ue.submission),st=new RO(e.unstable_getContext?await e.unstable_getContext():void 0),$e;if(ue&&ue.pendingError)$e=[Tu(He).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&Oi(ue.submission.formMethod)){let Xt=await Ne(We,oe,ue.submission,He,st,je.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:Ye});if(Xt.shortCircuited)return;if(Xt.pendingActionResult){let[St,Qt]=Xt.pendingActionResult;if(ns(Qt)&&gm(Qt.error)&&Qt.error.status===404){N=null,dt(oe,{matches:Xt.matches,loaderData:{},errors:{[St]:Qt.error}});return}}He=Xt.matches||He,$e=Xt.pendingActionResult,De=NR(oe,ue.submission),Ye=!1,je.active=!1,We=Eh(e.history,We.url,We.signal)}let{shortCircuited:qe,matches:xt,loaderData:qt,errors:yn}=await Ze(We,oe,He,st,je.active,De,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,Ye,$e);qe||(N=null,dt(oe,{matches:xt||He,...LO($e),loaderData:qt,errors:yn}))}async function Ne(Y,oe,ue,Ee,De,He,Ye,je={}){Gn();let We=tX(oe,ue);if(rt({navigation:We},{flushSync:je.flushSync===!0}),He){let qe=await wo(Ee,oe.pathname,Y.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let xt=Tu(qe.partialMatches).route.id;return{matches:qe.partialMatches,pendingActionResult:[xt,{type:"error",error:qe.error}]}}else if(qe.matches)Ee=qe.matches;else{let{notFoundMatches:xt,error:qt,route:yn}=Ca(oe.pathname);return{matches:xt,pendingActionResult:[yn.id,{type:"error",error:qt}]}}}let st,$e=lw(Ee,oe);if(!$e.route.action&&!$e.route.lazy)st={type:"error",error:Ls(405,{method:Y.method,pathname:oe.pathname,routeId:$e.route.id})};else{let qe=Bh(i,s,Y,Ee,$e,Ye?[]:r,De),xt=await Mt(Y,qe,De,null);if(st=xt[$e.route.id],!st){for(let qt of Ee)if(xt[qt.route.id]){st=xt[qt.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(Au(st)){let qe;return je&&je.replace!=null?qe=je.replace:qe=MO(st.response.headers.get("Location"),new URL(Y.url),l)===P.location.pathname+P.location.search,await Rt(Y,st,!0,{submission:ue,replace:qe}),{shortCircuited:!0}}if(ns(st)){let qe=Tu(Ee,$e.route.id);return(je&&je.replace)!==!0&&(_="PUSH"),{matches:Ee,pendingActionResult:[qe.route.id,st,$e.route.id]}}return{matches:Ee,pendingActionResult:[$e.route.id,st]}}async function Ze(Y,oe,ue,Ee,De,He,Ye,je,We,st,$e,qe){let xt=He||NR(oe,Ye),qt=Ye||je||BO(xt),yn=!G&&!st;if(De){if(yn){let Pn=Ve(qe);rt({navigation:xt,...Pn!==void 0?{actionData:Pn}:{}},{flushSync:$e})}let wt=await wo(ue,oe.pathname,Y.signal);if(wt.type==="aborted")return{shortCircuited:!0};if(wt.type==="error"){let Pn=Tu(wt.partialMatches).route.id;return{matches:wt.partialMatches,loaderData:{},errors:{[Pn]:wt.error}}}else if(wt.matches)ue=wt.matches;else{let{error:Pn,notFoundMatches:wa,route:gi}=Ca(oe.pathname);return{matches:wa,loaderData:{},errors:{[gi.id]:Pn}}}}let Xt=a||o,{dsMatches:St,revalidatingFetchers:Qt}=DO(Y,Ee,i,s,e.history,P,ue,qt,oe,st?[]:r,st===!0,ee,ie,z,X,F,Xt,l,e.patchRoutesOnNavigation!=null,qe);if(te=++Z,!e.dataStrategy&&!St.some(wt=>wt.shouldLoad)&&Qt.length===0){let wt=ir();return dt(oe,{matches:ue,loaderData:{},errors:qe&&ns(qe[1])?{[qe[0]]:qe[1].error}:null,...LO(qe),...wt?{fetchers:new Map(P.fetchers)}:{}},{flushSync:$e}),{shortCircuited:!0}}if(yn){let wt={};if(!De){wt.navigation=xt;let Pn=Ve(qe);Pn!==void 0&&(wt.actionData=Pn)}Qt.length>0&&(wt.fetchers=Je(Qt)),rt(wt,{flushSync:$e})}Qt.forEach(wt=>{An(wt.key),wt.controller&&$.set(wt.key,wt.controller)});let Ai=()=>Qt.forEach(wt=>An(wt.key));N&&N.signal.addEventListener("abort",Ai);let{loaderResults:Br,fetcherResults:Tr}=await vn(St,Qt,Y,Ee);if(Y.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Ai),Qt.forEach(wt=>$.delete(wt.key));let fi=SC(Br);if(fi)return await Rt(Y,fi.result,!0,{replace:We}),{shortCircuited:!0};if(fi=SC(Tr),fi)return F.add(fi.key),await Rt(Y,fi.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:Cl,errors:Wi}=kO(P,ue,Br,qe,Qt,Tr);st&&P.errors&&(Wi={...P.errors,...Wi});let Cs=ir(),$i=ei(te),pi=Cs||$i||Qt.length>0;return{matches:ue,loaderData:Cl,errors:Wi,...pi?{fetchers:new Map(P.fetchers)}:{}}}function Ve(Y){if(Y&&!ns(Y[1]))return{[Y[0]]:Y[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Je(Y){return Y.forEach(oe=>{let ue=P.fetchers.get(oe.key),Ee=lg(void 0,ue?ue.data:void 0);P.fetchers.set(oe.key,Ee)}),new Map(P.fetchers)}async function Tt(Y,oe,ue,Ee){An(Y);let De=(Ee&&Ee.flushSync)===!0,He=a||o,Ye=AT(P.location,P.matches,l,ue,oe,Ee?.relative),je=ec(He,Ye,l),We=hi(je,He,Ye);if(We.active&&We.matches&&(je=We.matches),!je){ye(Y,oe,Ls(404,{pathname:Ye}),{flushSync:De});return}let{path:st,submission:$e,error:qe}=TO(!0,Ye,Ee);if(qe){ye(Y,oe,qe,{flushSync:De});return}let xt=new RO(e.unstable_getContext?await e.unstable_getContext():void 0),qt=(Ee&&Ee.preventScrollReset)===!0;if($e&&Oi($e.formMethod)){await at(Y,oe,st,je,xt,We.active,De,qt,$e);return}X.set(Y,{routeId:oe,path:st}),await Et(Y,oe,st,je,xt,We.active,De,qt,$e)}async function at(Y,oe,ue,Ee,De,He,Ye,je,We){Gn(),X.delete(Y);let st=P.fetchers.get(Y);ne(Y,nX(We,st),{flushSync:Ye});let $e=new AbortController,qe=Eh(e.history,ue,$e.signal,We);if(He){let wn=await wo(Ee,new URL(qe.url).pathname,qe.signal,Y);if(wn.type==="aborted")return;if(wn.type==="error"){ye(Y,oe,wn.error,{flushSync:Ye});return}else if(wn.matches)Ee=wn.matches;else{ye(Y,oe,Ls(404,{pathname:ue}),{flushSync:Ye});return}}let xt=lw(Ee,ue);if(!xt.route.action&&!xt.route.lazy){let wn=Ls(405,{method:We.formMethod,pathname:ue,routeId:oe});ye(Y,oe,wn,{flushSync:Ye});return}$.set(Y,$e);let qt=Z,yn=Bh(i,s,qe,Ee,xt,r,De),St=(await Mt(qe,yn,De,Y))[xt.route.id];if(qe.signal.aborted){$.get(Y)===$e&&$.delete(Y);return}if(z.has(Y)){if(Au(St)||ns(St)){ne(Y,Xl(void 0));return}}else{if(Au(St))if($.delete(Y),te>qt){ne(Y,Xl(void 0));return}else return F.add(Y),ne(Y,lg(We)),Rt(qe,St,!1,{fetcherSubmission:We,preventScrollReset:je});if(ns(St)){ye(Y,oe,St.error);return}}let Qt=P.navigation.location||P.location,Ai=Eh(e.history,Qt,$e.signal),Br=a||o,Tr=P.navigation.state!=="idle"?ec(Br,P.navigation.location,l):P.matches;Ft(Tr,"Didn't find any matches after fetcher action");let fi=++Z;pe.set(Y,fi);let Cl=lg(We,St.data);P.fetchers.set(Y,Cl);let{dsMatches:Wi,revalidatingFetchers:Cs}=DO(Ai,De,i,s,e.history,P,Tr,We,Qt,r,!1,ee,ie,z,X,F,Br,l,e.patchRoutesOnNavigation!=null,[xt.route.id,St]);Cs.filter(wn=>wn.key!==Y).forEach(wn=>{let eo=wn.key,wl=P.fetchers.get(eo),bl=lg(void 0,wl?wl.data:void 0);P.fetchers.set(eo,bl),An(eo),wn.controller&&$.set(eo,wn.controller)}),rt({fetchers:new Map(P.fetchers)});let $i=()=>Cs.forEach(wn=>An(wn.key));$e.signal.addEventListener("abort",$i);let{loaderResults:pi,fetcherResults:wt}=await vn(Wi,Cs,Ai,De);if($e.signal.aborted)return;if($e.signal.removeEventListener("abort",$i),pe.delete(Y),$.delete(Y),Cs.forEach(wn=>$.delete(wn.key)),P.fetchers.has(Y)){let wn=Xl(St.data);P.fetchers.set(Y,wn)}let Pn=SC(pi);if(Pn)return Rt(Ai,Pn.result,!1,{preventScrollReset:je});if(Pn=SC(wt),Pn)return F.add(Pn.key),Rt(Ai,Pn.result,!1,{preventScrollReset:je});let{loaderData:wa,errors:gi}=kO(P,Tr,pi,void 0,Cs,wt);ei(fi),P.navigation.state==="loading"&&fi>te?(Ft(_,"Expected pending action"),N&&N.abort(),dt(P.navigation.location,{matches:Tr,loaderData:wa,errors:gi,fetchers:new Map(P.fetchers)})):(rt({errors:gi,loaderData:OO(P.loaderData,wa,Tr,gi),fetchers:new Map(P.fetchers)}),ee=!1)}async function Et(Y,oe,ue,Ee,De,He,Ye,je,We){let st=P.fetchers.get(Y);ne(Y,lg(We,st?st.data:void 0),{flushSync:Ye});let $e=new AbortController,qe=Eh(e.history,ue,$e.signal);if(He){let Qt=await wo(Ee,new URL(qe.url).pathname,qe.signal,Y);if(Qt.type==="aborted")return;if(Qt.type==="error"){ye(Y,oe,Qt.error,{flushSync:Ye});return}else if(Qt.matches)Ee=Qt.matches;else{ye(Y,oe,Ls(404,{pathname:ue}),{flushSync:Ye});return}}let xt=lw(Ee,ue);$.set(Y,$e);let qt=Z,yn=Bh(i,s,qe,Ee,xt,r,De),St=(await Mt(qe,yn,De,Y))[xt.route.id];if($.get(Y)===$e&&$.delete(Y),!qe.signal.aborted){if(z.has(Y)){ne(Y,Xl(void 0));return}if(Au(St))if(te>qt){ne(Y,Xl(void 0));return}else{F.add(Y),await Rt(qe,St,!1,{preventScrollReset:je});return}if(ns(St)){ye(Y,oe,St.error);return}ne(Y,Xl(St.data))}}async function Rt(Y,oe,ue,{submission:Ee,fetcherSubmission:De,preventScrollReset:He,replace:Ye}={}){oe.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let je=oe.response.headers.get("Location");Ft(je,"Expected a Location header on the redirect Response"),je=MO(je,new URL(Y.url),l);let We=fm(P.location,je,{_isRedirect:!0});if(n){let yn=!1;if(oe.response.headers.has("X-Remix-Reload-Document"))yn=!0;else if(ZA(je)){const Xt=uz(je,!0);yn=Xt.origin!==t.location.origin||$s(Xt.pathname,l)==null}if(yn){Ye?t.location.replace(je):t.location.assign(je);return}}N=null;let st=Ye===!0||oe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:$e,formAction:qe,formEncType:xt}=P.navigation;!Ee&&!De&&$e&&qe&&xt&&(Ee=BO(P.navigation));let qt=Ee||De;if(NY.has(oe.response.status)&&qt&&Oi(qt.formMethod))await Oe(st,We,{submission:{...qt,formAction:je},preventScrollReset:He||M,enableViewTransition:ue?B:void 0});else{let yn=NR(We,Ee);await Oe(st,We,{overrideNavigation:yn,fetcherSubmission:De,preventScrollReset:He||M,enableViewTransition:ue?B:void 0})}}async function Mt(Y,oe,ue,Ee){let De,He={};try{De=await qY(u,Y,oe,Ee,ue,!1)}catch(Ye){return oe.filter(je=>je.shouldLoad).forEach(je=>{He[je.route.id]={type:"error",error:Ye}}),He}if(Y.signal.aborted)return He;for(let[Ye,je]of Object.entries(De))if(JY(je)){let We=je.result;He[Ye]={type:"redirect",response:XY(We,Y,Ye,oe,l)}}else He[Ye]=await YY(je);return He}async function vn(Y,oe,ue,Ee){let De=Mt(ue,Y,Ee,null),He=Promise.all(oe.map(async We=>{if(We.matches&&We.match&&We.request&&We.controller){let $e=(await Mt(We.request,We.matches,Ee,We.key))[We.match.route.id];return{[We.key]:$e}}else return Promise.resolve({[We.key]:{type:"error",error:Ls(404,{pathname:We.path})}})})),Ye=await De,je=(await He).reduce((We,st)=>Object.assign(We,st),{});return{loaderResults:Ye,fetcherResults:je}}function Gn(){ee=!0,X.forEach((Y,oe)=>{$.has(oe)&&ie.add(oe),An(oe)})}function ne(Y,oe,ue={}){P.fetchers.set(Y,oe),rt({fetchers:new Map(P.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function ye(Y,oe,ue,Ee={}){let De=Tu(P.matches,oe);Be(Y),rt({errors:{[De.route.id]:ue},fetchers:new Map(P.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Ie(Y){return re.set(Y,(re.get(Y)||0)+1),z.has(Y)&&z.delete(Y),P.fetchers.get(Y)||VY}function Be(Y){let oe=P.fetchers.get(Y);$.has(Y)&&!(oe&&oe.state==="loading"&&pe.has(Y))&&An(Y),X.delete(Y),pe.delete(Y),F.delete(Y),z.delete(Y),ie.delete(Y),P.fetchers.delete(Y)}function Lt(Y){let oe=(re.get(Y)||0)-1;oe<=0?(re.delete(Y),z.add(Y)):re.set(Y,oe),rt({fetchers:new Map(P.fetchers)})}function An(Y){let oe=$.get(Y);oe&&(oe.abort(),$.delete(Y))}function Rr(Y){for(let oe of Y){let ue=Ie(oe),Ee=Xl(ue.data);P.fetchers.set(oe,Ee)}}function ir(){let Y=[],oe=!1;for(let ue of F){let Ee=P.fetchers.get(ue);Ft(Ee,`Expected fetcher: ${ue}`),Ee.state==="loading"&&(F.delete(ue),Y.push(ue),oe=!0)}return Rr(Y),oe}function ei(Y){let oe=[];for(let[ue,Ee]of pe)if(Ee<Y){let De=P.fetchers.get(ue);Ft(De,`Expected fetcher: ${ue}`),De.state==="loading"&&(An(ue),pe.delete(ue),oe.push(ue))}return Rr(oe),oe.length>0}function mr(Y,oe){let ue=P.blockers.get(Y)||ag;return ge.get(Y)!==oe&&ge.set(Y,oe),ue}function _n(Y){P.blockers.delete(Y),ge.delete(Y)}function vr(Y,oe){let ue=P.blockers.get(Y)||ag;Ft(ue.state==="unblocked"&&oe.state==="blocked"||ue.state==="blocked"&&oe.state==="blocked"||ue.state==="blocked"&&oe.state==="proceeding"||ue.state==="blocked"&&oe.state==="unblocked"||ue.state==="proceeding"&&oe.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${oe.state}`);let Ee=new Map(P.blockers);Ee.set(Y,oe),rt({blockers:Ee})}function xr({currentLocation:Y,nextLocation:oe,historyAction:ue}){if(ge.size===0)return;ge.size>1&&Wn(!1,"A router only supports one blocker at a time");let Ee=Array.from(ge.entries()),[De,He]=Ee[Ee.length-1],Ye=P.blockers.get(De);if(!(Ye&&Ye.state==="proceeding")&&He({currentLocation:Y,nextLocation:oe,historyAction:ue}))return De}function Ca(Y){let oe=Ls(404,{pathname:Y}),ue=a||o,{matches:Ee,route:De}=NO(ue);return{notFoundMatches:Ee,route:De,error:oe}}function Wc(Y,oe,ue){if(v=Y,S=oe,C=ue||null,!R&&P.navigation===LR){R=!0;let Ee=vl(P.location,P.matches);Ee!=null&&rt({restoreScrollPosition:Ee})}return()=>{v=null,S=null,C=null}}function ys(Y,oe){return C&&C(Y,oe.map(Ee=>pY(Ee,P.loaderData)))||Y.key}function Js(Y,oe){if(v&&S){let ue=ys(Y,oe);v[ue]=S()}}function vl(Y,oe){if(v){let ue=ys(Y,oe),Ee=v[ue];if(typeof Ee=="number")return Ee}return null}function hi(Y,oe,ue){if(e.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:aw(oe,ue,l,!0)}}else return{active:!0,matches:aw(oe,ue,l,!0)||[]};return{active:!1,matches:null}}async function wo(Y,oe,ue,Ee){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Y};let De=Y;for(;;){let He=a==null,Ye=a||o,je=s;try{await e.patchRoutesOnNavigation({signal:ue,path:oe,matches:De,fetcherKey:Ee,patch:($e,qe)=>{ue.aborted||AO($e,qe,Ye,je,i,!1)}})}catch($e){return{type:"error",error:$e,partialMatches:De}}finally{He&&!ue.aborted&&(o=[...o])}if(ue.aborted)return{type:"aborted"};let We=ec(Ye,oe,l);if(We)return{type:"success",matches:We};let st=aw(Ye,oe,l,!0);if(!st||De.length===st.length&&De.every(($e,qe)=>$e.route.id===st[qe].route.id))return{type:"success",matches:null};De=st}}function bo(Y){s={},a=pm(Y,i,void 0,s)}function yl(Y,oe,ue=!1){let Ee=a==null;AO(Y,oe,a||o,s,i,ue),Ee&&(o=[...o],rt({}))}return O={get basename(){return l},get future(){return h},get state(){return P},get routes(){return o},get window(){return t},initialize:ut,subscribe:Ue,enableScrollRestoration:Wc,navigate:yt,fetch:Tt,revalidate:Ot,createHref:Y=>e.history.createHref(Y),encodeLocation:Y=>e.history.encodeLocation(Y),getFetcher:Ie,deleteFetcher:Lt,dispose:Ke,getBlocker:mr,deleteBlocker:_n,patchRoutes:yl,_internalFetchControllers:$,_internalSetRoutes:bo,_internalSetStateDoNotUseOrYouWillBreakYourApp(Y){rt(Y)}},O}function zY(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function AT(e,t,n,r,i,s){let o,a;if(i){o=[];for(let u of t)if(o.push(u),u.route.id===i){a=u;break}}else o=t,a=t[t.length-1];let l=fS(r||".",hS(o),$s(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let u=JA(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let h=new URLSearchParams(l.search),f=h.getAll("index");h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=DY({basename:n,pathname:l.pathname})),yc(l)}function TO(e,t,n){if(!n||!zY(n))return{path:t};if(n.formMethod&&!eX(n.formMethod))return{path:t,error:Ls(405,{method:n.formMethod})};let r=()=>({path:t,error:Ls(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=Sz(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Oi(s))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,C])=>`${g}${v}=${C}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Oi(s))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}Ft(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=FT(n.formData),l=n.formData;else if(n.body instanceof FormData)a=FT(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=_O(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=_O(a)}catch{return r()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Oi(u.formMethod))return{path:t,submission:u};let h=fl(t);return e&&h.search&&JA(h.search)&&a.append("index",""),h.search=`?${a}`,{path:yc(h),submission:u}}function DO(e,t,n,r,i,s,o,a,l,u,h,f,g,v,C,S,R,x,D,T){let k=T?ns(T[1])?T[1].error:T[1].data:void 0,O=i.createURL(s.location),P=i.createURL(l),_;if(h&&s.errors){let G=Object.keys(s.errors)[0];_=o.findIndex(ee=>ee.route.id===G)}else if(T&&ns(T[1])){let G=T[0];_=o.findIndex(ee=>ee.route.id===G)-1}let M=T?T[1].statusCode:void 0,N=M&&M>=400,B={currentUrl:O,currentParams:s.matches[0]?.params||{},nextUrl:P,nextParams:o[0].params,...a,actionResult:k,actionStatus:M},H=o.map((G,ee)=>{let{route:ie}=G,$=null;if(_!=null&&ee>_?$=!1:ie.lazy?$=!0:ie.loader==null?$=!1:h?$=PT(ie,s.loaderData,s.errors):UY(s.loaderData,s.matches[ee],G)&&($=!0),$!==null)return IT(n,r,e,G,u,t,$);let Z=N?!1:f||O.pathname+O.search===P.pathname+P.search||O.search!==P.search||jY(s.matches[ee],G),te={...B,defaultShouldRevalidate:Z},pe=$w(G,te);return IT(n,r,e,G,u,t,pe,te)}),U=[];return C.forEach((G,ee)=>{if(h||!o.some(re=>re.route.id===G.routeId)||v.has(ee))return;let ie=s.fetchers.get(ee),$=ie&&ie.state!=="idle"&&ie.data===void 0,Z=ec(R,G.path,x);if(!Z){if(D&&$)return;U.push({key:ee,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(S.has(ee))return;let te=lw(Z,G.path),pe=new AbortController,F=Eh(i,G.path,pe.signal),X=null;if(g.has(ee))g.delete(ee),X=Bh(n,r,F,Z,te,u,t);else if($)f&&(X=Bh(n,r,F,Z,te,u,t));else{let re={...B,defaultShouldRevalidate:N?!1:f};$w(te,re)&&(X=Bh(n,r,F,Z,te,u,t,re))}X&&U.push({key:ee,routeId:G.routeId,path:G.path,matches:X,match:te,request:F,controller:pe})}),{dsMatches:H,revalidatingFetchers:U}}function PT(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function UY(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function jY(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function $w(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function AO(e,t,n,r,i,s){let o;if(e){let u=r[e];Ft(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),o=u.children}else o=n;let a=[],l=[];if(t.forEach(u=>{let h=o.find(f=>vz(u,f));h?l.push({existingRoute:h,newRoute:u}):a.push(u)}),a.length>0){let u=pm(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...u)}if(s&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:h,newRoute:f}=l[u],g=h,[v]=pm([f],i,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function vz(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>vz(n,i))):!1}var PO=new WeakMap,yz=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Ft(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=PO.get(i);o||(o={},PO.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let u=uY(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)Wn(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(f)Wn(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},IO=new WeakMap;function WY(e,t,n,r,i){let s=n[e.id];if(Ft(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let h=IO.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let f=(async()=>{Ft(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),v={};for(let C in g){let S=g[C];if(S===void 0)continue;let R=hY(C),D=s[C]!==void 0&&C!=="hasErrorBoundary";R?Wn(!R,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Wn(!D,`Route "${s.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):v[C]=S}Object.assign(s,v),Object.assign(s,{...r(s),lazy:void 0})})();return IO.set(s,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(e.lazy),a=[],l;for(let h of o){if(i&&i.includes(h))continue;let f=yz({key:h,route:e,manifest:n,mapRouteProperties:r});f&&(a.push(f),h===t&&(l=f))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function FO(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function $Y(e){return e.matches.some(t=>t.route.unstable_middleware)?Cz(e,!1,()=>FO(e),(t,n)=>({[n]:{type:"error",result:t}})):FO(e)}async function Cz(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let u=i.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(g=>[f.route.id,g]):[]),h=await wz({request:s,params:o,context:a},u,t,l,n);return t?h:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let h=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,h):h}}async function wz(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,u]=a,h=!1,f,g=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await wz(e,t,n,r,i,s+1)};try{let v=await u({request:e.request,params:e.params,context:e.context},g);return h?v===void 0?f:v:g()}catch(v){throw r.middlewareError?r.middlewareError.error!==v&&(r.middlewareError={routeId:l,error:v}):r.middlewareError={routeId:l,error:v},v}}function bz(e,t,n,r,i){let s=yz({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=WY(r.route,Oi(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function IT(e,t,n,r,i,s,o,a=null){let l=!1,u=bz(e,t,n,r,i);return{...r,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(h){return l=!0,a?typeof h=="boolean"?$w(r,{...a,defaultShouldRevalidate:h}):$w(r,a):o},resolve(h){return l||o||h&&!Oi(n.method)&&(r.route.lazy||r.route.loader)?KY({request:n,match:r,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Bh(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:bz(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:IT(e,t,n,l,s,o,!0,a))}async function qY(e,t,n,r,i,s){n.some(u=>u._lazyPromises?.middleware)&&await Promise.all(n.map(u=>u._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:u=>{let h=o;return Cz(h,!1,()=>u({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(f,g)=>({[g]:{type:"error",result:f}}))}});try{await Promise.all(n.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function KY({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=Oi(e.method),u=l?"action":"loader",h=f=>{let g,v=new Promise((R,x)=>g=x);a=()=>g(),e.signal.addEventListener("abort",a);let C=R=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:s},...R!==void 0?[R]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(x=>C(x)):C())}}catch(R){return{type:"error",result:R}}})();return Promise.race([S,v])};try{let f=l?t.route.action:t.route.loader;if(n||r)if(f){let g,[v]=await Promise.all([h(f).catch(C=>{g=C}),n,r]);if(g!==void 0)throw g;o=v}else{await n;let g=l?t.route.action:t.route.loader;if(g)[o]=await Promise.all([h(g),r]);else if(u==="action"){let v=new URL(e.url),C=v.pathname+v.search;throw Ls(405,{method:e.method,pathname:C,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let g=new URL(e.url),v=g.pathname+g.search;throw Ls(404,{pathname:v})}}catch(f){return{type:"error",result:f}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function YY(e){let{result:t,type:n}=e;if(Ez(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Ww(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?VO(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ww(t.init?.status||500,void 0,t.data),statusCode:gm(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:gm(t)?t.status:void 0}:VO(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function XY(e,t,n,r,i){let s=e.headers.get("Location");if(Ft(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZA(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=AT(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function MO(e,t,n){if(ZA(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=$s(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Eh(e,t,n,r){let i=e.createURL(Sz(t)).toString(),s={signal:n};if(r&&Oi(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=FT(r.formData):s.body=r.formData}return new Request(i,s)}function FT(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function _O(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function QY(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,u={},h=n&&ns(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let g=f.route.id,v=t[g];if(Ft(!Au(v),"Cannot handle redirect results in processLoaderData"),ns(v)){let C=v.error;if(h!==void 0&&(C=h,h=void 0),o=o||{},i)o[g]=C;else{let S=Tu(e,g);o[S.route.id]==null&&(o[S.route.id]=C)}r||(s[g]=mz),l||(l=!0,a=gm(v.error)?v.error.status:500),v.headers&&(u[g]=v.headers)}else s[g]=v.data,v.statusCode&&v.statusCode!==200&&!l&&(a=v.statusCode),v.headers&&(u[g]=v.headers)}),h!==void 0&&n&&(o={[n[0]]:h},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function kO(e,t,n,r,i,s){let{loaderData:o,errors:a}=QY(t,n,r);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:h,controller:f}=l,g=s[u];if(Ft(g,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(ns(g)){let v=Tu(e.matches,h?.route.id);a&&a[v.route.id]||(a={...a,[v.route.id]:g.error}),e.fetchers.delete(u)}else if(Au(g))Ft(!1,"Unhandled fetcher revalidation redirect");else{let v=Xl(g.data);e.fetchers.set(u,v)}}),{loaderData:o,errors:a}}function OO(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==mz).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function LO(e){return e?ns(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Tu(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function NO(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ls(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new Ww(e||500,o,new Error(a),!0)}function SC(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Au(i))return{key:r,result:i}}}function Sz(e){let t=typeof e=="string"?fl(e):e;return yc({...t,hash:""})}function ZY(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function JY(e){return Ez(e.result)&&LY.has(e.result.status)}function ns(e){return e.type==="error"}function Au(e){return(e&&e.type)==="redirect"}function VO(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ez(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function eX(e){return OY.has(e.toUpperCase())}function Oi(e){return _Y.has(e.toUpperCase())}function JA(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function lw(e,t){let n=typeof t=="string"?fl(t).search:t.search;if(e[e.length-1].route.index&&JA(n||""))return e[e.length-1];let r=fz(e);return r[r.length-1]}function BO(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function NR(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tX(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function lg(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nX(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Xl(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rX(e,t){try{let n=e.sessionStorage.getItem(gz);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function iX(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(gz,JSON.stringify(n))}catch(r){Wn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function sX(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var vd=b.createContext(null);vd.displayName="DataRouter";var wv=b.createContext(null);wv.displayName="DataRouterState";b.createContext(!1);var eP=b.createContext({isTransitioning:!1});eP.displayName="ViewTransition";var Rz=b.createContext(new Map);Rz.displayName="Fetchers";var oX=b.createContext(null);oX.displayName="Await";var mo=b.createContext(null);mo.displayName="Navigation";var pS=b.createContext(null);pS.displayName="Location";var Qs=b.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var tP=b.createContext(null);tP.displayName="RouteError";function aX(e,{relative:t}={}){Ft(Lf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(mo),{hash:i,pathname:s,search:o}=bv(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:$o([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Lf(){return b.useContext(pS)!=null}function ma(){return Ft(Lf(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(pS).location}var xz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tz(e){b.useContext(mo).static||b.useLayoutEffect(e)}function nP(){let{isDataRoute:e}=b.useContext(Qs);return e?EX():lX()}function lX(){Ft(Lf(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(vd),{basename:t,navigator:n}=b.useContext(mo),{matches:r}=b.useContext(Qs),{pathname:i}=ma(),s=JSON.stringify(hS(r)),o=b.useRef(!1);return Tz(()=>{o.current=!0}),b.useCallback((l,u={})=>{if(Wn(o.current,xz),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=fS(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$o([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,s,i,e])}var cX=b.createContext(null);function uX(e){let t=b.useContext(Qs).outlet;return t&&b.createElement(cX.Provider,{value:e},t)}function dX(){let{matches:e}=b.useContext(Qs),t=e[e.length-1];return t?t.params:{}}function bv(e,{relative:t}={}){let{matches:n}=b.useContext(Qs),{pathname:r}=ma(),i=JSON.stringify(hS(n));return b.useMemo(()=>fS(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function hX(e,t,n,r){Ft(Lf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(mo),{matches:s}=b.useContext(Qs),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let x=h&&h.path||"";Dz(l,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=ma(),g;g=f;let v=g.pathname||"/",C=v;if(u!=="/"){let x=u.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=ec(e,{pathname:C});return Wn(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Wn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vX(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:$o([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:$o([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r)}function fX(){let e=SX(),t=gm(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,o)}var pX=b.createElement(fX,null),gX=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Qs.Provider,{value:this.props.routeContext},b.createElement(tP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mX({routeContext:e,match:t,children:n}){let r=b.useContext(vd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Qs.Provider,{value:e},n)}function vX(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);Ft(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:f}=n,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,h)=>{let f,g=!1,v=null,C=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,v=u.route.errorElement||pX,o&&(a<0&&h===0?(Dz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,C=null):a===h&&(g=!0,C=u.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,h+1)),R=()=>{let x;return f?x=v:g?x=C:u.route.Component?x=b.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,b.createElement(mX,{match:u,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?b.createElement(gX,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}function rP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yX(e){let t=b.useContext(vd);return Ft(t,rP(e)),t}function CX(e){let t=b.useContext(wv);return Ft(t,rP(e)),t}function wX(e){let t=b.useContext(Qs);return Ft(t,rP(e)),t}function iP(e){let t=wX(e),n=t.matches[t.matches.length-1];return Ft(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bX(){return iP("useRouteId")}function SX(){let e=b.useContext(tP),t=CX("useRouteError"),n=iP("useRouteError");return e!==void 0?e:t.errors?.[n]}function EX(){let{router:e}=yX("useNavigate"),t=iP("useNavigate"),n=b.useRef(!1);return Tz(()=>{n.current=!0}),b.useCallback(async(i,s={})=>{Wn(n.current,xz),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var HO={};function Dz(e,t,n){!t&&!HO[e]&&(HO[e]=!0,Wn(!1,n))}var GO={};function zO(e,t){!e&&!GO[t]&&(GO[t]=!0,console.warn(t))}function RX(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Wn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Wn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Wn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var xX=["HydrateFallback","hydrateFallbackElement"],TX=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function DX({router:e,flushSync:t}){let[n,r]=b.useState(e.state),[i,s]=b.useState(),[o,a]=b.useState({isTransitioning:!1}),[l,u]=b.useState(),[h,f]=b.useState(),[g,v]=b.useState(),C=b.useRef(new Map),S=b.useCallback((T,{deletedFetchers:k,flushSync:O,viewTransitionOpts:P})=>{T.fetchers.forEach((M,N)=>{M.data!==void 0&&C.current.set(N,M.data)}),k.forEach(M=>C.current.delete(M)),zO(O===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(zO(P==null||_,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!_){t&&O?t(()=>r(T)):b.startTransition(()=>r(T));return}if(t&&O){t(()=>{h&&(l&&l.resolve(),h.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let M=e.window.document.startViewTransition(()=>{t(()=>r(T))});M.finished.finally(()=>{t(()=>{u(void 0),f(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>f(M));return}h?(l&&l.resolve(),h.skipTransition(),v({state:T,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(T),a({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,h,l]);b.useLayoutEffect(()=>e.subscribe(S),[e,S]),b.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new TX)},[o]),b.useEffect(()=>{if(l&&i&&e.window){let T=i,k=l.promise,O=e.window.document.startViewTransition(async()=>{b.startTransition(()=>r(T)),await k});O.finished.finally(()=>{u(void 0),f(void 0),s(void 0),a({isTransitioning:!1})}),f(O)}},[i,l,e.window]),b.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,h,n.location,i]),b.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),a({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[o.isTransitioning,g]);let R=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:T=>e.navigate(T),push:(T,k,O)=>e.navigate(T,{state:k,preventScrollReset:O?.preventScrollReset}),replace:(T,k,O)=>e.navigate(T,{replace:!0,state:k,preventScrollReset:O?.preventScrollReset})}),[e]),x=e.basename||"/",D=b.useMemo(()=>({router:e,navigator:R,static:!1,basename:x}),[e,R,x]);return b.createElement(b.Fragment,null,b.createElement(vd.Provider,{value:D},b.createElement(wv.Provider,{value:n},b.createElement(Rz.Provider,{value:C.current},b.createElement(eP.Provider,{value:o},b.createElement(FX,{basename:x,location:n.location,navigationType:n.historyAction,navigator:R},b.createElement(AX,{routes:e.routes,future:e.future,state:n})))))),null)}var AX=b.memo(PX);function PX({routes:e,future:t,state:n}){return hX(e,void 0,n,t)}function Hh({to:e,replace:t,state:n,relative:r}){Ft(Lf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(mo);Wn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Qs),{pathname:o}=ma(),a=nP(),l=fS(e,hS(s),o,r==="path"),u=JSON.stringify(l);return b.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function IX(e){return uX(e.context)}function FX({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ft(!Lf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=fl(n));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:g="default"}=n,v=b.useMemo(()=>{let C=$s(l,o);return C==null?null:{location:{pathname:C,search:u,hash:h,state:f,key:g},navigationType:r}},[o,l,u,h,f,g,r]);return Wn(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:b.createElement(mo.Provider,{value:a},b.createElement(pS.Provider,{children:t,value:v}))}var cw="get",uw="application/x-www-form-urlencoded";function gS(e){return e!=null&&typeof e.tagName=="string"}function MX(e){return gS(e)&&e.tagName.toLowerCase()==="button"}function _X(e){return gS(e)&&e.tagName.toLowerCase()==="form"}function kX(e){return gS(e)&&e.tagName.toLowerCase()==="input"}function OX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LX(e,t){return e.button===0&&(!t||t==="_self")&&!OX(e)}var EC=null;function NX(){if(EC===null)try{new FormData(document.createElement("form"),0),EC=!1}catch{EC=!0}return EC}var VX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function VR(e){return e!=null&&!VX.has(e)?(Wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uw}"`),null):e}function BX(e,t){let n,r,i,s,o;if(_X(e)){let a=e.getAttribute("action");r=a?$s(a,t):null,n=e.getAttribute("method")||cw,i=VR(e.getAttribute("enctype"))||uw,s=new FormData(e)}else if(MX(e)||kX(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?$s(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||cw,i=VR(e.getAttribute("formenctype"))||VR(a.getAttribute("enctype"))||uw,s=new FormData(a,e),!NX()){let{name:u,type:h,value:f}=e;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,f)}}else{if(gS(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cw,r=null,i=uw,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sP(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function HX(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&$s(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function GX(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zX(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UX(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await GX(s,n);return o.links?o.links():[]}return[]}));return qX(r.flat(1).filter(zX).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function UO(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function jX(e,t,{includeHydrateFallback:n}={}){return WX(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function WX(e){return[...new Set(e)]}function $X(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function qX(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify($X(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Az(){let e=b.useContext(vd);return sP(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KX(){let e=b.useContext(wv);return sP(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oP=b.createContext(void 0);oP.displayName="FrameworkContext";function Pz(){let e=b.useContext(oP);return sP(e,"You must render this element inside a <HydratedRouter> element"),e}function YX(e,t){let n=b.useContext(oP),[r,i]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,g=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=x=>{x.forEach(D=>{o(D.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return g.current&&R.observe(g.current),()=>{R.disconnect()}}},[e]),b.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let v=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:cg(a,v),onBlur:cg(l,C),onMouseEnter:cg(u,v),onMouseLeave:cg(h,C),onTouchStart:cg(f,v)}]:[!1,g,{}]}function cg(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function XX({page:e,...t}){let{router:n}=Az(),r=b.useMemo(()=>ec(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(ZX,{page:e,matches:r,...t}):null}function QX(e){let{manifest:t,routeModules:n}=Pz(),[r,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return UX(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function ZX({page:e,matches:t,...n}){let r=ma(),{manifest:i,routeModules:s}=Pz(),{basename:o}=Az(),{loaderData:a,matches:l}=KX(),u=b.useMemo(()=>UO(e,t,l,i,r,"data"),[e,t,l,i,r]),h=b.useMemo(()=>UO(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,S=!1;if(t.forEach(x=>{let D=i.routes[x.route.id];!D||!D.hasLoader||(!u.some(T=>T.route.id===x.route.id)&&x.route.id in a&&s[x.route.id]?.shouldRevalidate||D.hasClientLoader?S=!0:C.add(x.route.id))}),C.size===0)return[];let R=HX(e,o,"data");return S&&C.size>0&&R.searchParams.set("_routes",t.filter(x=>C.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[o,a,r,i,u,t,e,s]),g=b.useMemo(()=>jX(h,i),[h,i]),v=QX(h);return b.createElement(b.Fragment,null,f.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),g.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),v.map(({key:C,link:S})=>b.createElement("link",{key:C,...S})))}function JX(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Iz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iz&&(window.__reactRouterVersion="7.7.1")}catch{}function eQ(e,t){return GY({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:oY({window:t?.window}),hydrationData:tQ(),routes:e,mapRouteProperties:RX,hydrationRouteProperties:xX,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function tQ(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:nQ(e.errors)}),e}function nQ(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ww(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var Fz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mz=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f,...g},v){let{basename:C}=b.useContext(mo),S=typeof u=="string"&&Fz.test(u),R,x=!1;if(typeof u=="string"&&S&&(R=u,Iz))try{let N=new URL(window.location.href),B=u.startsWith("//")?new URL(N.protocol+u):new URL(u),H=$s(B.pathname,C);B.origin===N.origin&&H!=null?u=H+B.search+B.hash:x=!0}catch{Wn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=aX(u,{relative:i}),[T,k,O]=YX(r,g),P=oQ(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function _(N){t&&t(N),N.defaultPrevented||P(N)}let M=b.createElement("a",{...g,...O,href:R||D,onClick:x||s?t:_,ref:JX(v,k),target:l,"data-discover":!S&&n==="render"?"true":void 0});return T&&!S?b.createElement(b.Fragment,null,M,b.createElement(XX,{page:D})):M});Mz.displayName="Link";var rQ=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let f=bv(o,{relative:u.relative}),g=ma(),v=b.useContext(wv),{navigator:C,basename:S}=b.useContext(mo),R=v!=null&&dQ(f)&&a===!0,x=C.encodeLocation?C.encodeLocation(f).pathname:f.pathname,D=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(D=D.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&S&&(T=$s(T,S)||T);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=D===x||!i&&D.startsWith(x)&&D.charAt(k)==="/",P=T!=null&&(T===x||!i&&T.startsWith(x)&&T.charAt(x.length)==="/"),_={isActive:O,isPending:P,isTransitioning:R},M=O?t:void 0,N;typeof r=="function"?N=r(_):N=[r,O?"active":null,P?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(_):s;return b.createElement(Mz,{...u,"aria-current":M,className:N,ref:h,style:B,to:o,viewTransition:a},typeof l=="function"?l(_):l)});rQ.displayName="NavLink";var iQ=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=cw,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...g},v)=>{let C=cQ(),S=uQ(a,{relative:u}),R=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&Fz.test(a),D=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let k=T.nativeEvent.submitter,O=k?.getAttribute("formmethod")||o;C(k||T.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return b.createElement("form",{ref:v,method:R,action:S,onSubmit:r?l:D,...g,"data-discover":!x&&e==="render"?"true":void 0})});iQ.displayName="Form";function sQ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _z(e){let t=b.useContext(vd);return Ft(t,sQ(e)),t}function oQ(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=nP(),l=ma(),u=bv(e,{relative:s});return b.useCallback(h=>{if(LX(h,t)){h.preventDefault();let f=n!==void 0?n:yc(l)===yc(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}var aQ=0,lQ=()=>`__${String(++aQ)}__`;function cQ(){let{router:e}=_z("useSubmit"),{basename:t}=b.useContext(mo),n=bX();return b.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=BX(r,t);if(i.navigate===!1){let h=i.fetcherKey||lQ();await e.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function uQ(e,{relative:t}={}){let{basename:n}=b.useContext(mo),r=b.useContext(Qs);Ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...bv(e||".",{relative:t})},o=ma();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:$o([n,s.pathname])),yc(s)}function dQ(e,{relative:t}={}){let n=b.useContext(eP);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_z("useViewTransitionState"),i=bv(e,{relative:t});if(!n.isTransitioning)return!1;let s=$s(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jw(i.pathname,o)!=null||jw(i.pathname,s)!=null}var Nf=lz();const ac=Of(Nf);function hQ(e){return b.createElement(DX,{flushSync:Nf.flushSync,...e})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jn=function(){return Jn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jn.apply(this,arguments)};function Xu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ci(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function MT(){return MT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MT.apply(this,arguments)}function aP(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var fQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pQ=aP(function(e){return fQ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function gQ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mQ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var vQ=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mQ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=gQ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ii="-ms-",qw="-moz-",Jt="-webkit-",kz="comm",lP="rule",cP="decl",yQ="@import",Oz="@keyframes",CQ=Math.abs,mS=String.fromCharCode,wQ=Object.assign;function bQ(e,t){return qr(e,0)^45?(((t<<2^qr(e,0))<<2^qr(e,1))<<2^qr(e,2))<<2^qr(e,3):0}function Lz(e){return e.trim()}function SQ(e,t){return(e=t.exec(e))?e[0]:e}function rn(e,t,n){return e.replace(t,n)}function _T(e,t){return e.indexOf(t)}function qr(e,t){return e.charCodeAt(t)|0}function mm(e,t,n){return e.slice(t,n)}function Vo(e){return e.length}function uP(e){return e.length}function RC(e,t){return t.push(e),e}function EQ(e,t){return e.map(t).join("")}var vS=1,lf=1,Nz=0,Gi=0,dr=0,Vf="";function yS(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:vS,column:lf,length:o,return:""}}function ug(e,t){return wQ(yS("",null,null,"",null,null,0),e,{length:-e.length},t)}function RQ(){return dr}function xQ(){return dr=Gi>0?qr(Vf,--Gi):0,lf--,dr===10&&(lf=1,vS--),dr}function ds(){return dr=Gi<Nz?qr(Vf,Gi++):0,lf++,dr===10&&(lf=1,vS++),dr}function qo(){return qr(Vf,Gi)}function dw(){return Gi}function Sv(e,t){return mm(Vf,e,t)}function vm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vz(e){return vS=lf=1,Nz=Vo(Vf=e),Gi=0,[]}function Bz(e){return Vf="",e}function hw(e){return Lz(Sv(Gi-1,kT(e===91?e+2:e===40?e+1:e)))}function TQ(e){for(;(dr=qo())&&dr<33;)ds();return vm(e)>2||vm(dr)>3?"":" "}function DQ(e,t){for(;--t&&ds()&&!(dr<48||dr>102||dr>57&&dr<65||dr>70&&dr<97););return Sv(e,dw()+(t<6&&qo()==32&&ds()==32))}function kT(e){for(;ds();)switch(dr){case e:return Gi;case 34:case 39:e!==34&&e!==39&&kT(dr);break;case 40:e===41&&kT(e);break;case 92:ds();break}return Gi}function AQ(e,t){for(;ds()&&e+dr!==57;)if(e+dr===84&&qo()===47)break;return"/*"+Sv(t,Gi-1)+"*"+mS(e===47?e:ds())}function PQ(e){for(;!vm(qo());)ds();return Sv(e,Gi)}function jO(e){return Bz(fw("",null,null,null,[""],e=Vz(e),0,[0],e))}function fw(e,t,n,r,i,s,o,a,l){for(var u=0,h=0,f=o,g=0,v=0,C=0,S=1,R=1,x=1,D=0,T="",k=i,O=s,P=r,_=T;R;)switch(C=D,D=ds()){case 40:if(C!=108&&qr(_,f-1)==58){_T(_+=rn(hw(D),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:_+=hw(D);break;case 9:case 10:case 13:case 32:_+=TQ(C);break;case 92:_+=DQ(dw()-1,7);continue;case 47:switch(qo()){case 42:case 47:RC(IQ(AQ(ds(),dw()),t,n),l);break;default:_+="/"}break;case 123*S:a[u++]=Vo(_)*x;case 125*S:case 59:case 0:switch(D){case 0:case 125:R=0;case 59+h:v>0&&Vo(_)-f&&RC(v>32?$O(_+";",r,n,f-1):$O(rn(_," ","")+";",r,n,f-2),l);break;case 59:_+=";";default:if(RC(P=WO(_,t,n,u,h,i,a,T,k=[],O=[],f),s),D===123)if(h===0)fw(_,t,P,P,k,s,f,a,O);else switch(g===99&&qr(_,3)===110?100:g){case 100:case 109:case 115:fw(e,P,P,r&&RC(WO(e,P,P,0,0,i,a,T,i,k=[],f),O),i,O,f,a,r?k:O);break;default:fw(_,P,P,P,[""],O,0,a,O)}}u=h=v=0,S=x=1,T=_="",f=o;break;case 58:f=1+Vo(_),v=C;default:if(S<1){if(D==123)--S;else if(D==125&&S++==0&&xQ()==125)continue}switch(_+=mS(D),D*S){case 38:x=h>0?1:(_+="\f",-1);break;case 44:a[u++]=(Vo(_)-1)*x,x=1;break;case 64:qo()===45&&(_+=hw(ds())),g=qo(),h=f=Vo(T=_+=PQ(dw())),D++;break;case 45:C===45&&Vo(_)==2&&(S=0)}}return s}function WO(e,t,n,r,i,s,o,a,l,u,h){for(var f=i-1,g=i===0?s:[""],v=uP(g),C=0,S=0,R=0;C<r;++C)for(var x=0,D=mm(e,f+1,f=CQ(S=o[C])),T=e;x<v;++x)(T=Lz(S>0?g[x]+" "+D:rn(D,/&\f/g,g[x])))&&(l[R++]=T);return yS(e,t,n,i===0?lP:a,l,u,h)}function IQ(e,t,n){return yS(e,t,n,kz,mS(RQ()),mm(e,2,-2),0)}function $O(e,t,n,r){return yS(e,t,n,cP,mm(e,0,r),mm(e,r+1,-1),r)}function Ou(e,t){for(var n="",r=uP(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function qO(e,t,n,r){switch(e.type){case yQ:case cP:return e.return=e.return||e.value;case kz:return"";case Oz:return e.return=e.value+"{"+Ou(e.children,r)+"}";case lP:e.value=e.props.join(",")}return Vo(n=Ou(e.children,r))?e.return=e.value+"{"+n+"}":""}function KO(e){var t=uP(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function FQ(e){return function(t){t.root||(t=t.return)&&e(t)}}var MQ=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}},_Q=function(t,n,r){for(var i=0,s=0;i=s,s=qo(),i===38&&s===12&&(n[r]=1),!vm(s);)ds();return Sv(t,Gi)},kQ=function(t,n){var r=-1,i=44;do switch(vm(i)){case 0:i===38&&qo()===12&&(n[r]=1),t[r]+=_Q(Gi-1,n,r);break;case 2:t[r]+=hw(i);break;case 4:if(i===44){t[++r]=qo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=mS(i)}while(i=ds());return t},OQ=function(t,n){return Bz(kQ(Vz(t),n))},YO=new WeakMap,LQ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!YO.get(r))&&!i){YO.set(t,!0);for(var s=[],o=OQ(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var h=0;h<a.length;h++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},NQ=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Hz(e,t){switch(bQ(e,t)){case 5103:return Jt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jt+e+qw+e+ii+e+e;case 6828:case 4268:return Jt+e+ii+e+e;case 6165:return Jt+e+ii+"flex-"+e+e;case 5187:return Jt+e+rn(e,/(\w+).+(:[^]+)/,Jt+"box-$1$2"+ii+"flex-$1$2")+e;case 5443:return Jt+e+ii+"flex-item-"+rn(e,/flex-|-self/,"")+e;case 4675:return Jt+e+ii+"flex-line-pack"+rn(e,/align-content|flex-|-self/,"")+e;case 5548:return Jt+e+ii+rn(e,"shrink","negative")+e;case 5292:return Jt+e+ii+rn(e,"basis","preferred-size")+e;case 6060:return Jt+"box-"+rn(e,"-grow","")+Jt+e+ii+rn(e,"grow","positive")+e;case 4554:return Jt+rn(e,/([^-])(transform)/g,"$1"+Jt+"$2")+e;case 6187:return rn(rn(rn(e,/(zoom-|grab)/,Jt+"$1"),/(image-set)/,Jt+"$1"),e,"")+e;case 5495:case 3959:return rn(e,/(image-set\([^]*)/,Jt+"$1$`$1");case 4968:return rn(rn(e,/(.+:)(flex-)?(.*)/,Jt+"box-pack:$3"+ii+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jt+e+e;case 4095:case 3583:case 4068:case 2532:return rn(e,/(.+)-inline(.+)/,Jt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vo(e)-1-t>6)switch(qr(e,t+1)){case 109:if(qr(e,t+4)!==45)break;case 102:return rn(e,/(.+:)(.+)-([^]+)/,"$1"+Jt+"$2-$3$1"+qw+(qr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_T(e,"stretch")?Hz(rn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qr(e,t+1)!==115)break;case 6444:switch(qr(e,Vo(e)-3-(~_T(e,"!important")&&10))){case 107:return rn(e,":",":"+Jt)+e;case 101:return rn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jt+(qr(e,14)===45?"inline-":"")+"box$3$1"+Jt+"$2$3$1"+ii+"$2box$3")+e}break;case 5936:switch(qr(e,t+11)){case 114:return Jt+e+ii+rn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jt+e+ii+rn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jt+e+ii+rn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Jt+e+ii+e+e}return e}var VQ=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case cP:t.return=Hz(t.value,t.length);break;case Oz:return Ou([ug(t,{value:rn(t.value,"@","@"+Jt)})],i);case lP:if(t.length)return EQ(t.props,function(s){switch(SQ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ou([ug(t,{props:[rn(s,/:(read-\w+)/,":"+qw+"$1")]})],i);case"::placeholder":return Ou([ug(t,{props:[rn(s,/:(plac\w+)/,":"+Jt+"input-$1")]}),ug(t,{props:[rn(s,/:(plac\w+)/,":"+qw+"$1")]}),ug(t,{props:[rn(s,/:(plac\w+)/,ii+"input-$1")]})],i)}return""})}},pw=typeof document<"u",BQ=pw?void 0:MQ(function(){return aP(function(){var e={};return function(t){return e[t]}})}),HQ=[VQ],Gz=function(t){var n=t.key;if(pw&&n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var O=k.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=t.stylisPlugins||HQ,s={},o,a=[];pw&&(o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(k){for(var O=k.getAttribute("data-emotion").split(" "),P=1;P<O.length;P++)s[O[P]]=!0;a.push(k)}));var l,u=[LQ,NQ];if(pw){var h,f=[qO,FQ(function(k){h.insert(k)})],g=KO(u.concat(i,f)),v=function(O){return Ou(jO(O),g)};l=function(O,P,_,M){h=_,v(O?O+"{"+P.styles+"}":P.styles),M&&(T.inserted[P.name]=!0)}}else{var C=[qO],S=KO(u.concat(i,C)),R=function(O){return Ou(jO(O),S)},x=BQ(i)(n),D=function(O,P){var _=P.name;return x[_]===void 0&&(x[_]=R(O?O+"{"+P.styles+"}":P.styles)),x[_]};l=function(O,P,_,M){var N=P.name,B=D(O,P);if(T.compat===void 0)return M&&(T.inserted[N]=!0),B;if(M)T.inserted[N]=B;else return B}}var T={key:n,sheet:new vQ({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return T.sheet.hydrate(a),T},GQ=typeof document<"u",XO=function(t){return t()},zQ=b.useInsertionEffect?b.useInsertionEffect:!1,UQ=GQ&&zQ||XO,jQ=typeof document<"u",Kw=b.createContext(typeof HTMLElement<"u"?Gz({key:"css"}):null);Kw.Provider;var zz=function(t){return b.forwardRef(function(n,r){var i=b.useContext(Kw);return t(n,i,r)})};jQ||(zz=function(t){return function(n){var r=b.useContext(Kw);return r===null?(r=Gz({key:"css"}),b.createElement(Kw.Provider,{value:r},t(n,r))):t(n,r)}});var WQ=b.createContext({}),OT=typeof document<"u";function $Q(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Uz=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||OT===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},qQ=function(t,n,r){Uz(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s="",o=n;do{var a=t.insert(n===o?"."+i:"",o,t.sheet,!0);!OT&&a!==void 0&&(s+=a),o=o.next}while(o!==void 0);if(!OT&&s.length!==0)return s}};function KQ(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var YQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},XQ=/[A-Z]|^ms/g,QQ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jz=function(t){return t.charCodeAt(1)===45},QO=function(t){return t!=null&&typeof t!="boolean"},BR=aP(function(e){return jz(e)?e:e.replace(XQ,"-$&").toLowerCase()}),ZO=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(QQ,function(r,i,s){return Bo={name:i,styles:s,next:Bo},i})}return YQ[t]!==1&&!jz(t)&&typeof n=="number"&&n!==0?n+"px":n};function ym(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Bo={name:n.name,styles:n.styles,next:Bo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Bo={name:r.name,styles:r.styles,next:Bo},r=r.next;var i=n.styles+";";return i}return ZQ(e,t,n)}case"function":{if(e!==void 0){var s=Bo,o=n(e);return Bo=s,ym(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function ZQ(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ym(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":QO(o)&&(r+=BR(s)+":"+ZO(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)QO(o[a])&&(r+=BR(s)+":"+ZO(s,o[a])+";");else{var l=ym(e,t,o);switch(s){case"animation":case"animationName":{r+=BR(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var JO=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Bo,JQ=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Bo=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=ym(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=ym(r,n,t[a]),i&&(s+=o[a]);JO.lastIndex=0;for(var l="",u;(u=JO.exec(s))!==null;)l+="-"+u[1];var h=KQ(s)+l;return{name:h,styles:s,next:Bo}},eZ=pQ,tZ=function(t){return t!=="theme"},eL=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?eZ:tZ},tL=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},nZ=typeof document<"u",rZ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;Uz(n,r,i);var s=UQ(function(){return qQ(n,r,i)});if(!nZ&&s!==void 0){for(var o,a=r.name,l=r.next;l!==void 0;)a+=" "+l.name,l=l.next;return b.createElement("style",(o={},o["data-emotion"]=n.key+" "+a,o.dangerouslySetInnerHTML={__html:s},o.nonce=n.sheet.nonce,o))}return null},iZ=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=tL(t,n,r),l=a||eL(i),u=!l("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var g=h.length,v=1;v<g;v++)f.push(h[v],h[0][v])}var C=zz(function(S,R,x){var D=u&&S.as||i,T="",k=[],O=S;if(S.theme==null){O={};for(var P in S)O[P]=S[P];O.theme=b.useContext(WQ)}typeof S.className=="string"?T=$Q(R.registered,k,S.className):S.className!=null&&(T=S.className+" ");var _=JQ(f.concat(k),R.registered,O);T+=R.key+"-"+_.name,o!==void 0&&(T+=" "+o);var M=u&&a===void 0?eL(D):l,N={};for(var B in S)u&&B==="as"||M(B)&&(N[B]=S[B]);return N.className=T,N.ref=x,b.createElement(b.Fragment,null,b.createElement(rZ,{cache:R,serialized:_,isStringTag:typeof D=="string"}),b.createElement(D,N))});return C.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",C.defaultProps=t.defaultProps,C.__emotion_real=C,C.__emotion_base=i,C.__emotion_styles=f,C.__emotion_forwardProp=a,Object.defineProperty(C,"toString",{value:function(){return"."+o}}),C.withComponent=function(S,R){return e(S,MT({},n,R,{shouldForwardProp:tL(C,R,!0)})).apply(void 0,f)},C}},sZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Nr=iZ.bind();sZ.forEach(function(e){Nr[e]=Nr(e)});var Wz={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Wz);var Sr=Wz.exports,$z=K.createContext(void 0),oZ=function(e){var t=e.children,n=K.useState({collapsed:!1,toggled:!1,broken:!1,rtl:!1,transitionDuration:300}),r=n[0],i=n[1],s=K.useCallback(function(u){i(function(h){return Jn(Jn({},h),u)})},[]),o=K.useCallback(function(){i(function(u){return Jn(Jn({},u),{collapsed:!u?.collapsed})})},[]),a=K.useCallback(function(){i(function(u){return Jn(Jn({},u),{toggled:!u?.toggled})})},[]),l=K.useMemo(function(){return Jn(Jn({},r),{updateSidebarState:s,updateCollapseState:o,updateToggleState:a})},[r,o,s,a]);return K.createElement($z.Provider,{value:l},t)},qz=function(){var e=K.useContext($z);return e},aZ=function(e){var t=K.useState(!!e&&typeof window<"u"&&window.matchMedia(e).matches),n=t[0],r=t[1];return K.useEffect(function(){if(e){var i=window.matchMedia(e),s=function(){i.matches!==n&&r(i.matches)};return s(),i.addEventListener("change",s),function(){return i.removeEventListener("change",s)}}},[n,e]),n},Zn={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},en={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},lZ=Nr.div(nL||(nL=ci([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),nL,cZ={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},uZ=Nr.aside(rL||(rL=ci([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")},function(e){var t=e.width;return t},function(e){var t=e.width;return t},Zn.collapsed,function(e){var t=e.collapsedWidth;return t},function(e){var t=e.collapsedWidth;return t},Zn.rtl,Zn.broken,function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")},Zn.collapsed,function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")},Zn.toggled,function(e){var t=e.rtl;return t?"":"left: 0;"},Zn.rtl,function(e){var t=e.width;return t},Zn.collapsed,function(e){var t=e.collapsedWidth;return t},Zn.toggled,function(e){var t=e.rootStyles;return t}),dZ=Nr.div(iL||(iL=ci([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""}),hZ=Nr.img(sL||(sL=ci([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),Zn.image),CS=K.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),fZ=K.forwardRef(function(e,t){var n,r=e.collapsed,i=e.toggled,s=e.onBackdropClick,o=e.onBreakPoint,a=e.width,l=a===void 0?"250px":a,u=e.collapsedWidth,h=u===void 0?"80px":u,f=e.defaultCollapsed,g=e.className,v=e.children,C=e.breakPoint,S=e.customBreakPoint,R=e.backgroundColor,x=R===void 0?"rgb(249, 249, 249, 0.7)":R,D=e.transitionDuration,T=D===void 0?300:D,k=e.image,O=e.rtl,P=e.rootStyles,_=Xu(e,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),M=function(){if(S)return"(max-width: ".concat(S,")");if(C)return["xs","sm","md","lg","xl","xxl"].includes(C)?"(max-width: ".concat(cZ[C],")"):C==="always"||C==="all"?(C==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(C,")")},N=K.useRef();N.current=function(te){o?.(te)};var B=aZ(M()),H=K.useState(!1),U=H[0],G=H[1],ee=qz(),ie=r??(!U&&f?!0:ee?.collapsed),$=i??ee?.toggled,Z=function(){s?.(),ee?.updateSidebarState({toggled:!1})};return K.useEffect(function(){var te;(te=N.current)===null||te===void 0||te.call(N,B)},[B]),K.useEffect(function(){ee?.updateSidebarState({broken:B,rtl:O,transitionDuration:T})},[B,ee?.updateSidebarState,O,T]),K.useEffect(function(){U||(ee?.updateSidebarState({collapsed:f}),G(!0))},[f,U,ee?.updateSidebarState]),K.createElement(CS.Provider,{value:{collapsed:ie,toggled:$,rtl:O,transitionDuration:T}},K.createElement(uZ,Jn({ref:t,"data-testid":"".concat(Zn.root,"-test-id"),rtl:O,rootStyles:P,width:l,collapsedWidth:h,transitionDuration:T,className:Sr(Zn.root,(n={},n[Zn.collapsed]=ie,n[Zn.toggled]=$,n[Zn.broken]=B,n[Zn.rtl]=O,n),g)},_),K.createElement(dZ,{"data-testid":"".concat(Zn.container,"-test-id"),className:Zn.container,backgroundColor:x},v),k&&K.createElement(hZ,{"data-testid":"".concat(Zn.image,"-test-id"),src:k,alt:"sidebar background",className:Zn.image}),B&&$&&K.createElement(lZ,{"data-testid":"".concat(Zn.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:Z,onKeyPress:Z,className:Zn.backdrop})))}),rL,iL,sL,Kz=Nr.ul(oL||(oL=ci([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),oL,pZ=Nr.nav(aL||(aL=ci([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),en.root,function(e){var t=e.rootStyles;return t}),Yz=K.createContext(void 0),Yw=K.createContext(0),gZ=function(e,t){var n=e.children,r=e.className,i=e.transitionDuration,s=i===void 0?300:i,o=e.closeOnClick,a=o===void 0?!1:o,l=e.rootStyles,u=e.menuItemStyles,h=e.renderExpandIcon,f=Xu(e,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),g=K.useMemo(function(){return{transitionDuration:s,closeOnClick:a,menuItemStyles:u,renderExpandIcon:h}},[s,a,u,h]);return K.createElement(Yz.Provider,{value:g},K.createElement(Yw.Provider,{value:0},K.createElement(pZ,Jn({ref:t,className:Sr(en.root,r),rootStyles:l},f),K.createElement(Kz,null,n))))},mZ=K.forwardRef(gZ),aL,dP=function(){var e=K.useContext(Yz);if(e===void 0)throw new Error("Menu Component is required!");return e},vZ=Nr.div(lL||(lL=ci([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(e){var t=e.transitionDuration;return t},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(e){var t=e.defaultOpen;return t&&"height: auto;display: block;"},function(e){var t=e.collapsed,n=e.firstLevel,r=e.openWhenCollapsed;return t&&n?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(r?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(e){var t=e.rootStyles;return t}),yZ=function(e,t){var n=e.children,r=e.open,i=e.openWhenCollapsed,s=e.firstLevel,o=e.collapsed,a=e.defaultOpen,l=Xu(e,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),u=dP().transitionDuration,h=K.useState(a)[0];return K.createElement(vZ,Jn({"data-testid":"".concat(en.subMenuContent,"-test-id"),ref:t,firstLevel:s,collapsed:o,open:r,openWhenCollapsed:i,transitionDuration:u,defaultOpen:h},l),K.createElement(Kz,null,n))},CZ=K.forwardRef(yZ),lL,Xz=Nr.span(cL||(cL=ci([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(e){var t=e.rootStyles;return t}),cL,Qz=Nr.span(uL||(uL=ci([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 10px;":"margin-right: 10px;"},function(e){var t=e.rootStyles;return t}),uL,Zz=Nr.span(dL||(dL=ci([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 5px;":"margin-right: 5px;"},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),dL,Jz=Nr.span(hL||(hL=ci([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),hL,wZ=Nr.span(fL||(fL=ci([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(e){var t=e.collapsed,n=e.level,r=e.rtl;return t&&n===0&&`
    position: absolute;
    `.concat(r?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(e){var t=e.rootStyles;return t}),bZ=Nr.span(pL||(pL=ci([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(e){var t=e.rtl;return t?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"}),SZ=Nr.span(gL||(gL=ci([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),fL,pL,gL,Vi="top",qs="bottom",Ks="right",Bi="left",hP="auto",Ev=[Vi,qs,Ks,Bi],cf="start",Cm="end",EZ="clippingParents",eU="viewport",dg="popper",RZ="reference",mL=Ev.reduce(function(e,t){return e.concat([t+"-"+cf,t+"-"+Cm])},[]),tU=[].concat(Ev,[hP]).reduce(function(e,t){return e.concat([t,t+"-"+cf,t+"-"+Cm])},[]),xZ="beforeRead",TZ="read",DZ="afterRead",AZ="beforeMain",PZ="main",IZ="afterMain",FZ="beforeWrite",MZ="write",_Z="afterWrite",kZ=[xZ,TZ,DZ,AZ,PZ,IZ,FZ,MZ,_Z];function la(e){return e?(e.nodeName||"").toLowerCase():null}function Zs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qu(e){var t=Zs(e).Element;return e instanceof t||e instanceof Element}function Us(e){var t=Zs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function fP(e){if(typeof ShadowRoot>"u")return!1;var t=Zs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function OZ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!Us(s)||!la(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function LZ(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Us(i)||!la(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var NZ={name:"applyStyles",enabled:!0,phase:"write",fn:OZ,effect:LZ,requires:["computeStyles"]};function Ko(e){return e.split("-")[0]}var Lu=Math.max,Xw=Math.min,uf=Math.round;function LT(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nU(){return!/^((?!chrome|android).)*safari/i.test(LT())}function df(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&Us(e)&&(i=e.offsetWidth>0&&uf(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&uf(r.height)/e.offsetHeight||1);var o=Qu(e)?Zs(e):window,a=o.visualViewport,l=!nU()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,h=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,g=r.height/s;return{width:f,height:g,top:h,right:u+f,bottom:h+g,left:u,x:u,y:h}}function pP(e){var t=df(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rU(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&fP(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tl(e){return Zs(e).getComputedStyle(e)}function VZ(e){return["table","td","th"].indexOf(la(e))>=0}function kc(e){return((Qu(e)?e.ownerDocument:e.document)||window.document).documentElement}function wS(e){return la(e)==="html"?e:e.assignedSlot||e.parentNode||(fP(e)?e.host:null)||kc(e)}function vL(e){return!Us(e)||tl(e).position==="fixed"?null:e.offsetParent}function BZ(e){var t=/firefox/i.test(LT()),n=/Trident/i.test(LT());if(n&&Us(e)){var r=tl(e);if(r.position==="fixed")return null}var i=wS(e);for(fP(i)&&(i=i.host);Us(i)&&["html","body"].indexOf(la(i))<0;){var s=tl(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Rv(e){for(var t=Zs(e),n=vL(e);n&&VZ(n)&&tl(n).position==="static";)n=vL(n);return n&&(la(n)==="html"||la(n)==="body"&&tl(n).position==="static")?t:n||BZ(e)||t}function gP(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hg(e,t,n){return Lu(e,Xw(t,n))}function HZ(e,t,n){var r=Hg(e,t,n);return r>n?n:r}function iU(){return{top:0,right:0,bottom:0,left:0}}function sU(e){return Object.assign({},iU(),e)}function oU(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var GZ=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,sU(typeof t!="number"?t:oU(t,Ev))};function zZ(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ko(n.placement),l=gP(a),u=[Bi,Ks].indexOf(a)>=0,h=u?"height":"width";if(!(!s||!o)){var f=GZ(i.padding,n),g=pP(s),v=l==="y"?Vi:Bi,C=l==="y"?qs:Ks,S=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],R=o[l]-n.rects.reference[l],x=Rv(s),D=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,T=S/2-R/2,k=f[v],O=D-g[h]-f[C],P=D/2-g[h]/2+T,_=Hg(k,P,O),M=l;n.modifiersData[r]=(t={},t[M]=_,t.centerOffset=_-P,t)}}function UZ(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||rU(t.elements.popper,i)&&(t.elements.arrow=i))}var jZ={name:"arrow",enabled:!0,phase:"main",fn:zZ,effect:UZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hf(e){return e.split("-")[1]}var WZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $Z(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:uf(t*i)/i||0,y:uf(n*i)/i||0}}function yL(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,f=e.isFixed,g=o.x,v=g===void 0?0:g,C=o.y,S=C===void 0?0:C,R=typeof h=="function"?h({x:v,y:S}):{x:v,y:S};v=R.x,S=R.y;var x=o.hasOwnProperty("x"),D=o.hasOwnProperty("y"),T=Bi,k=Vi,O=window;if(u){var P=Rv(n),_="clientHeight",M="clientWidth";if(P===Zs(n)&&(P=kc(n),tl(P).position!=="static"&&a==="absolute"&&(_="scrollHeight",M="scrollWidth")),P=P,i===Vi||(i===Bi||i===Ks)&&s===Cm){k=qs;var N=f&&P===O&&O.visualViewport?O.visualViewport.height:P[_];S-=N-r.height,S*=l?1:-1}if(i===Bi||(i===Vi||i===qs)&&s===Cm){T=Ks;var B=f&&P===O&&O.visualViewport?O.visualViewport.width:P[M];v-=B-r.width,v*=l?1:-1}}var H=Object.assign({position:a},u&&WZ),U=h===!0?$Z({x:v,y:S}):{x:v,y:S};if(v=U.x,S=U.y,l){var G;return Object.assign({},H,(G={},G[k]=D?"0":"",G[T]=x?"0":"",G.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",G))}return Object.assign({},H,(t={},t[k]=D?S+"px":"",t[T]=x?v+"px":"",t.transform="",t))}function qZ(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Ko(t.placement),variation:hf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yL(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yL(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var KZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qZ,data:{}},xC={passive:!0};function YZ(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Zs(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",n.update,xC)}),a&&l.addEventListener("resize",n.update,xC),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",n.update,xC)}),a&&l.removeEventListener("resize",n.update,xC)}}var XZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:YZ,data:{}},QZ={left:"right",right:"left",bottom:"top",top:"bottom"};function gw(e){return e.replace(/left|right|bottom|top/g,function(t){return QZ[t]})}var ZZ={start:"end",end:"start"};function CL(e){return e.replace(/start|end/g,function(t){return ZZ[t]})}function mP(e){var t=Zs(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vP(e){return df(kc(e)).left+mP(e).scrollLeft}function JZ(e,t){var n=Zs(e),r=kc(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=nU();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+vP(e),y:l}}function eJ(e){var t,n=kc(e),r=mP(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Lu(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Lu(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+vP(e),l=-r.scrollTop;return tl(i||n).direction==="rtl"&&(a+=Lu(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function yP(e){var t=tl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function aU(e){return["html","body","#document"].indexOf(la(e))>=0?e.ownerDocument.body:Us(e)&&yP(e)?e:aU(wS(e))}function Gg(e,t){var n;t===void 0&&(t=[]);var r=aU(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Zs(r),o=i?[s].concat(s.visualViewport||[],yP(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Gg(wS(o)))}function NT(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tJ(e,t){var n=df(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function wL(e,t,n){return t===eU?NT(JZ(e,n)):Qu(t)?tJ(t,n):NT(eJ(kc(e)))}function nJ(e){var t=Gg(wS(e)),n=["absolute","fixed"].indexOf(tl(e).position)>=0,r=n&&Us(e)?Rv(e):e;return Qu(r)?t.filter(function(i){return Qu(i)&&rU(i,r)&&la(i)!=="body"}):[]}function rJ(e,t,n,r){var i=t==="clippingParents"?nJ(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var h=wL(e,u,r);return l.top=Lu(h.top,l.top),l.right=Xw(h.right,l.right),l.bottom=Xw(h.bottom,l.bottom),l.left=Lu(h.left,l.left),l},wL(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function lU(e){var t=e.reference,n=e.element,r=e.placement,i=r?Ko(r):null,s=r?hf(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Vi:l={x:o,y:t.y-n.height};break;case qs:l={x:o,y:t.y+t.height};break;case Ks:l={x:t.x+t.width,y:a};break;case Bi:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?gP(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case cf:l[u]=l[u]-(t[h]/2-n[h]/2);break;case Cm:l[u]=l[u]+(t[h]/2-n[h]/2);break}}return l}function wm(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?EZ:a,u=n.rootBoundary,h=u===void 0?eU:u,f=n.elementContext,g=f===void 0?dg:f,v=n.altBoundary,C=v===void 0?!1:v,S=n.padding,R=S===void 0?0:S,x=sU(typeof R!="number"?R:oU(R,Ev)),D=g===dg?RZ:dg,T=e.rects.popper,k=e.elements[C?D:g],O=rJ(Qu(k)?k:k.contextElement||kc(e.elements.popper),l,h,o),P=df(e.elements.reference),_=lU({reference:P,element:T,placement:i}),M=NT(Object.assign({},T,_)),N=g===dg?M:P,B={top:O.top-N.top+x.top,bottom:N.bottom-O.bottom+x.bottom,left:O.left-N.left+x.left,right:N.right-O.right+x.right},H=e.modifiersData.offset;if(g===dg&&H){var U=H[i];Object.keys(B).forEach(function(G){var ee=[Ks,qs].indexOf(G)>=0?1:-1,ie=[Vi,qs].indexOf(G)>=0?"y":"x";B[G]+=U[ie]*ee})}return B}function iJ(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?tU:l,h=hf(r),f=h?a?mL:mL.filter(function(C){return hf(C)===h}):Ev,g=f.filter(function(C){return u.indexOf(C)>=0});g.length===0&&(g=f);var v=g.reduce(function(C,S){return C[S]=wm(e,{placement:S,boundary:i,rootBoundary:s,padding:o})[Ko(S)],C},{});return Object.keys(v).sort(function(C,S){return v[C]-v[S]})}function sJ(e){if(Ko(e)===hP)return[];var t=gw(e);return[CL(e),t,CL(t)]}function oJ(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,C=v===void 0?!0:v,S=n.allowedAutoPlacements,R=t.options.placement,x=Ko(R),D=x===R,T=l||(D||!C?[gw(R)]:sJ(R)),k=[R].concat(T).reduce(function(ge,Ae){return ge.concat(Ko(Ae)===hP?iJ(t,{placement:Ae,boundary:h,rootBoundary:f,padding:u,flipVariations:C,allowedAutoPlacements:S}):Ae)},[]),O=t.rects.reference,P=t.rects.popper,_=new Map,M=!0,N=k[0],B=0;B<k.length;B++){var H=k[B],U=Ko(H),G=hf(H)===cf,ee=[Vi,qs].indexOf(U)>=0,ie=ee?"width":"height",$=wm(t,{placement:H,boundary:h,rootBoundary:f,altBoundary:g,padding:u}),Z=ee?G?Ks:Bi:G?qs:Vi;O[ie]>P[ie]&&(Z=gw(Z));var te=gw(Z),pe=[];if(s&&pe.push($[U]<=0),a&&pe.push($[Z]<=0,$[te]<=0),pe.every(function(ge){return ge})){N=H,M=!1;break}_.set(H,pe)}if(M)for(var F=C?3:1,X=function(Ae){var Te=k.find(function(ut){var Ke=_.get(ut);if(Ke)return Ke.slice(0,Ae).every(function(Ue){return Ue})});if(Te)return N=Te,"break"},re=F;re>0;re--){var z=X(re);if(z==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var aJ={name:"flip",enabled:!0,phase:"main",fn:oJ,requiresIfExists:["offset"],data:{_skip:!1}};function bL(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function SL(e){return[Vi,Ks,qs,Bi].some(function(t){return e[t]>=0})}function lJ(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=wm(t,{elementContext:"reference"}),a=wm(t,{altBoundary:!0}),l=bL(o,r),u=bL(a,i,s),h=SL(l),f=SL(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}var cJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lJ};function uJ(e,t,n){var r=Ko(e),i=[Bi,Vi].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Bi,Ks].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function dJ(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=tU.reduce(function(h,f){return h[f]=uJ(f,t.rects,s),h},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var hJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dJ};function fJ(e){var t=e.state,n=e.name;t.modifiersData[n]=lU({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var pJ={name:"popperOffsets",enabled:!0,phase:"read",fn:fJ,data:{}};function gJ(e){return e==="x"?"y":"x"}function mJ(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,g=n.tether,v=g===void 0?!0:g,C=n.tetherOffset,S=C===void 0?0:C,R=wm(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:h}),x=Ko(t.placement),D=hf(t.placement),T=!D,k=gP(x),O=gJ(k),P=t.modifiersData.popperOffsets,_=t.rects.reference,M=t.rects.popper,N=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,B=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),H=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(P){if(s){var G,ee=k==="y"?Vi:Bi,ie=k==="y"?qs:Ks,$=k==="y"?"height":"width",Z=P[k],te=Z+R[ee],pe=Z-R[ie],F=v?-M[$]/2:0,X=D===cf?_[$]:M[$],re=D===cf?-M[$]:-_[$],z=t.elements.arrow,ge=v&&z?pP(z):{width:0,height:0},Ae=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:iU(),Te=Ae[ee],ut=Ae[ie],Ke=Hg(0,_[$],ge[$]),Ue=T?_[$]/2-F-Ke-Te-B.mainAxis:X-Ke-Te-B.mainAxis,rt=T?-_[$]/2+F+Ke+ut+B.mainAxis:re+Ke+ut+B.mainAxis,dt=t.elements.arrow&&Rv(t.elements.arrow),yt=dt?k==="y"?dt.clientTop||0:dt.clientLeft||0:0,Ot=(G=H?.[k])!=null?G:0,Oe=Z+Ue-Ot-yt,Ne=Z+rt-Ot,Ze=Hg(v?Xw(te,Oe):te,Z,v?Lu(pe,Ne):pe);P[k]=Ze,U[k]=Ze-Z}if(a){var Ve,Je=k==="x"?Vi:Bi,Tt=k==="x"?qs:Ks,at=P[O],Et=O==="y"?"height":"width",Rt=at+R[Je],Mt=at-R[Tt],vn=[Vi,Bi].indexOf(x)!==-1,Gn=(Ve=H?.[O])!=null?Ve:0,ne=vn?Rt:at-_[Et]-M[Et]-Gn+B.altAxis,ye=vn?at+_[Et]+M[Et]-Gn-B.altAxis:Mt,Ie=v&&vn?HZ(ne,at,ye):Hg(v?ne:Rt,at,v?ye:Mt);P[O]=Ie,U[O]=Ie-at}t.modifiersData[r]=U}}var vJ={name:"preventOverflow",enabled:!0,phase:"main",fn:mJ,requiresIfExists:["offset"]};function yJ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function CJ(e){return e===Zs(e)||!Us(e)?mP(e):yJ(e)}function wJ(e){var t=e.getBoundingClientRect(),n=uf(t.width)/e.offsetWidth||1,r=uf(t.height)/e.offsetHeight||1;return n!==1||r!==1}function bJ(e,t,n){n===void 0&&(n=!1);var r=Us(t),i=Us(t)&&wJ(t),s=kc(t),o=df(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((la(t)!=="body"||yP(s))&&(a=CJ(t)),Us(t)?(l=df(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=vP(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function SJ(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function EJ(e){var t=SJ(e);return kZ.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function RJ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function xJ(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var EL={placement:"bottom",modifiers:[],strategy:"absolute"};function RL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function TJ(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?EL:i;return function(a,l,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},EL,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],g=!1,v={state:h,setOptions:function(x){var D=typeof x=="function"?x(h.options):x;S(),h.options=Object.assign({},s,h.options,D),h.scrollParents={reference:Qu(a)?Gg(a):a.contextElement?Gg(a.contextElement):[],popper:Gg(l)};var T=EJ(xJ([].concat(r,h.options.modifiers)));return h.orderedModifiers=T.filter(function(k){return k.enabled}),C(),v.update()},forceUpdate:function(){if(!g){var x=h.elements,D=x.reference,T=x.popper;if(RL(D,T)){h.rects={reference:bJ(D,Rv(T),h.options.strategy==="fixed"),popper:pP(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(B){return h.modifiersData[B.name]=Object.assign({},B.data)});for(var k=0;k<h.orderedModifiers.length;k++){if(h.reset===!0){h.reset=!1,k=-1;continue}var O=h.orderedModifiers[k],P=O.fn,_=O.options,M=_===void 0?{}:_,N=O.name;typeof P=="function"&&(h=P({state:h,options:M,name:N,instance:v})||h)}}}},update:RJ(function(){return new Promise(function(R){v.forceUpdate(),R(h)})}),destroy:function(){S(),g=!0}};if(!RL(a,l))return v;v.setOptions(u).then(function(R){!g&&u.onFirstUpdate&&u.onFirstUpdate(R)});function C(){h.orderedModifiers.forEach(function(R){var x=R.name,D=R.options,T=D===void 0?{}:D,k=R.effect;if(typeof k=="function"){var O=k({state:h,name:x,instance:v,options:T}),P=function(){};f.push(O||P)}})}function S(){f.forEach(function(R){return R()}),f=[]}return v}}var DJ=[XZ,pJ,KZ,NZ,hJ,aJ,vJ,jZ,cJ],AJ=TJ({defaultModifiers:DJ}),PJ=function(e){var t=e.level,n=e.buttonRef,r=e.contentRef,i=K.useContext(CS),s=i.collapsed,o=i.toggled,a=i.transitionDuration,l=K.useRef();return K.useEffect(function(){return t===0&&s&&r.current&&n.current&&(l.current=AJ(n.current,r.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var u;return(u=l.current)===null||u===void 0?void 0:u.destroy()}},[t,s,r,n]),K.useEffect(function(){if(r.current&&n.current){var u=new ResizeObserver(function(){var h;(h=l.current)===null||h===void 0||h.update()});u.observe(r.current),u.observe(n.current)}setTimeout(function(){var h;(h=l.current)===null||h===void 0||h.update()},a)},[a,o,r,n]),{popperInstance:l.current}},cU=function(e){var t=e.rtl,n=e.level,r=e.collapsed,i=e.disabled,s=e.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(t?`padding-left: 20px;
           padding-right: `.concat(n===0?20:(r?n:n+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(n===0?20:(r?n:n+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(i&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(s&&"background-color: #e2eef9;",`
  
  `)},IJ=function(e,t){var n=e.className,r=e.component,i=e.children,s=Xu(e,["className","component","children"]);if(r){if(typeof r=="string")return K.createElement(r,Jn(Jn({className:Sr(n)},s),{ref:t}),i);var o=r.props,a=o.className,l=Xu(o,["className"]);return K.cloneElement(r,Jn(Jn(Jn({className:Sr(n,a)},s),l),{ref:t}),i)}else return K.createElement("a",Jn({ref:t,className:Sr(n)},s),i)},uU=K.forwardRef(IJ),FJ=Nr.li(xL||(xL=ci([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},en.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return cU({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),MJ=function(e,t){var n,r=e.children,i=e.className,s=e.label,o=e.icon,a=e.title,l=e.prefix,u=e.suffix,h=e.open,f=e.defaultOpen,g=e.active,v=g===void 0?!1:g,C=e.disabled,S=C===void 0?!1:C,R=e.rootStyles,x=e.component,D=e.onOpenChange,T=e.onClick,k=e.onKeyUp,O=Xu(e,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),P=K.useContext(Yw),_=K.useContext(CS),M=_.collapsed,N=_.rtl,B=_.transitionDuration,H=dP(),U=H.renderExpandIcon,G=H.closeOnClick,ee=H.menuItemStyles,ie=H.transitionDuration,$=K.useState(!!f),Z=$[0],te=$[1],pe=K.useState(!1),F=pe[0],X=pe[1],re=K.useState(!1),z=re[0],ge=re[1],Ae=K.useRef(null),Te=K.useRef(null),ut=K.useRef(),Ke=PJ({level:P,buttonRef:Ae,contentRef:Te}).popperInstance,Ue=K.useCallback(function(){var Ze,Ve=Te.current;if(Ve){var Je=(Ze=Ve?.querySelector(".".concat(en.subMenuContent," > ul")))===null||Ze===void 0?void 0:Ze.clientHeight;Ve.style.overflow="hidden",Ve.style.height="".concat(Je,"px"),ut.current=setTimeout(function(){Ve.style.overflow="auto",Ve.style.height="auto"},ie)}},[ie]),rt=function(){var Ze,Ve=Te.current;if(Ve){var Je=(Ze=Ve?.querySelector(".".concat(en.subMenuContent," > ul")))===null||Ze===void 0?void 0:Ze.clientHeight;Ve.style.overflow="hidden",Ve.style.height="".concat(Je,"px"),Ve.offsetHeight,Ve.style.height="0px"}},dt=function(){P===0&&M||(typeof h>"u"?(clearTimeout(Number(ut.current)),Z?rt():Ue(),D?.(!Z),te(!Z)):D?.(!h))};K.useEffect(function(){!(P===0&&M)&&typeof h<"u"&&z&&(clearTimeout(Number(ut.current)),h?Ue():rt())},[M,Ue,s,P,D,h]);var yt=function(Ze){T?.(Ze),dt()},Ot=function(Ze){k?.(Ze),Ze.key==="Enter"&&dt()},Oe=function(Ze){if(ee){var Ve={level:P,disabled:S,active:v,isSubmenu:!0,open:h??Z},Je=ee.root,Tt=ee.button,at=ee.label,Et=ee.icon,Rt=ee.prefix,Mt=ee.suffix,vn=ee.subMenuContent,Gn=ee.SubMenuExpandIcon;switch(Ze){case"root":return typeof Je=="function"?Je(Ve):Je;case"button":return typeof Tt=="function"?Tt(Ve):Tt;case"label":return typeof at=="function"?at(Ve):at;case"icon":return typeof Et=="function"?Et(Ve):Et;case"prefix":return typeof Rt=="function"?Rt(Ve):Rt;case"suffix":return typeof Mt=="function"?Mt(Ve):Mt;case"SubMenuExpandIcon":return typeof Gn=="function"?Gn(Ve):Gn;case"subMenuContent":return typeof vn=="function"?vn(Ve):vn;default:return}}};K.useEffect(function(){setTimeout(function(){return Ke?.update()},B),M&&P===0&&X(!1)},[M,P,N,B,Ke]),K.useEffect(function(){var Ze=function(at){var Et,Rt,Mt;!F&&(!((Et=Ae.current)===null||Et===void 0)&&Et.contains(at))?X(!0):(G&&!(!((Rt=at.closest(".".concat(en.menuItemRoot)))===null||Rt===void 0)&&Rt.classList.contains(en.subMenuRoot))||!(!((Mt=Te.current)===null||Mt===void 0)&&Mt.contains(at))&&F)&&X(!1)},Ve=function(at){Ze(at.target)},Je=function(at){at.key==="Enter"?Ze(at.target):at.key==="Escape"&&X(!1)},Tt=function(){document.removeEventListener("click",Ve),document.removeEventListener("keyup",Je)};return Tt(),M&&P===0&&(document.addEventListener("click",Ve,!1),document.addEventListener("keyup",Je,!1)),function(){Tt()}},[M,P,G,F]),K.useEffect(function(){ge(!0)},[]);var Ne=(n={},n[en.active]=v,n[en.disabled]=S,n[en.open]=h??Z,n);return K.createElement(FJ,{ref:t,className:Sr(en.menuItemRoot,en.subMenuRoot,Ne,i),menuItemStyles:Oe("root"),level:P,collapsed:M,rtl:N,disabled:S,active:v,buttonStyles:Oe("button"),rootStyles:R},K.createElement(uU,Jn({"data-testid":"".concat(en.button,"-test-id"),ref:Ae,title:a,className:Sr(en.button,Ne),onClick:yt,onKeyUp:Ot,component:x,tabIndex:0},O),o&&K.createElement(Qz,{rtl:N,className:Sr(en.icon,Ne),rootStyles:Oe("icon")},o),l&&K.createElement(Zz,{collapsed:M,transitionDuration:B,firstLevel:P===0,className:Sr(en.prefix,Ne),rtl:N,rootStyles:Oe("prefix")},l),K.createElement(Xz,{className:Sr(en.label,Ne),rootStyles:Oe("label")},s),u&&K.createElement(Jz,{collapsed:M,transitionDuration:B,firstLevel:P===0,className:Sr(en.suffix,Ne),rootStyles:Oe("suffix")},u),K.createElement(wZ,{rtl:N,className:Sr(en.SubMenuExpandIcon,Ne),collapsed:M,level:P,rootStyles:Oe("SubMenuExpandIcon")},U?U({level:P,disabled:S,active:v,open:h??Z}):M&&P===0?K.createElement(SZ,null):K.createElement(bZ,{rtl:N,open:h??Z}))),K.createElement(CZ,{ref:Te,openWhenCollapsed:F,open:h??Z,firstLevel:P===0,collapsed:M,defaultOpen:h&&!z||f,className:Sr(en.subMenuContent,Ne),rootStyles:Oe("subMenuContent")},K.createElement(Yw.Provider,{value:P+1},r)))};K.forwardRef(MJ);var xL,_J=Nr.li(TL||(TL=ci([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},en.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return cU({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),kJ=function(e,t){var n,r=e.children,i=e.icon,s=e.className,o=e.prefix,a=e.suffix,l=e.active,u=l===void 0?!1:l,h=e.disabled,f=h===void 0?!1:h,g=e.component,v=e.rootStyles,C=Xu(e,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),S=K.useContext(Yw),R=K.useContext(CS),x=R.collapsed,D=R.rtl,T=R.transitionDuration,k=dP().menuItemStyles,O=function(_){if(k){var M={level:S,disabled:f,active:u,isSubmenu:!1},N=k.root,B=k.button,H=k.label,U=k.icon,G=k.prefix,ee=k.suffix;switch(_){case"root":return typeof N=="function"?N(M):N;case"button":return typeof B=="function"?B(M):B;case"label":return typeof H=="function"?H(M):H;case"icon":return typeof U=="function"?U(M):U;case"prefix":return typeof G=="function"?G(M):G;case"suffix":return typeof ee=="function"?ee(M):ee;default:return}}},P=(n={},n[en.active]=u,n[en.disabled]=f,n);return K.createElement(_J,{ref:t,className:Sr(en.menuItemRoot,P,s),menuItemStyles:O("root"),level:S,collapsed:x,rtl:D,disabled:f,active:u,buttonStyles:O("button"),rootStyles:v},K.createElement(uU,Jn({className:Sr(en.button,P),"data-testid":"".concat(en.button,"-test-id"),component:g,tabIndex:0},C),i&&K.createElement(Qz,{rtl:D,className:Sr(en.icon,P),rootStyles:O("icon")},i),o&&K.createElement(Zz,{collapsed:x,transitionDuration:T,firstLevel:S===0,className:Sr(en.prefix,P),rtl:D,rootStyles:O("prefix")},o),K.createElement(Xz,{className:Sr(en.label,P),rootStyles:O("label")},r),a&&K.createElement(Jz,{collapsed:x,transitionDuration:T,firstLevel:S===0,className:Sr(en.suffix,P),rootStyles:O("suffix")},a)))},gh=K.forwardRef(kJ),TL,OJ=function(e){var t=e.children;return console.warn("ProSidebarProvider is deprecated and will be removed in the next major release."),K.createElement(oZ,null,t)},LJ=function(){var e=qz();if(e===void 0)throw new Error("useProSidebar must be used within a ProSidebarProvider. Please wrap your component with a ProSidebarProvider to use this hook.");var t=K.useCallback(function(r){r===void 0?e.updateCollapseState():e.updateSidebarState({collapsed:r})},[e.updateCollapseState,e.updateSidebarState]),n=K.useCallback(function(r){r===void 0?e.updateToggleState():e.updateSidebarState({toggled:r})},[e.updateToggleState,e.updateSidebarState]);return K.useEffect(function(){console.warn("useProSidebar is deprecated and will be removed in the next major release. Please use Sidebar props instead.")},[]),{collapseSidebar:t,toggleSidebar:n,collapsed:!!e.collapsed,broken:!!e.broken,toggled:!!e.toggled,rtl:!!e.rtl}},HR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var DL;function NJ(){return DL||(DL=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(HR)),HR.exports}var VJ=NJ();const Qe=Of(VJ);function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bm.apply(null,arguments)}function dU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AL(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function BJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:String(t)}function HJ(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GJ(e,t,n){var r=b.useRef(e!==void 0),i=b.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,b.useCallback(function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),g=1;g<h;g++)f[g-1]=arguments[g];n&&n.apply(void 0,[u].concat(f)),o(u)},[n])]}function CP(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[AL(r)],a=s[r],l=dU(s,[AL(r),r].map(BJ)),u=t[r],h=GJ(a,o,e[u]),f=h[0],g=h[1];return bm({},l,(i={},i[r]=f,i[u]=g,i))},e)}function VT(e,t){return VT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},VT(e,t)}function zJ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,VT(e,t)}const UJ=["xxl","xl","lg","md","sm","xs"],jJ="xs",xv=b.createContext({prefixes:{},breakpoints:UJ,minBreakpoint:jJ}),{Consumer:aUe,Provider:lUe}=xv;function ct(e,t){const{prefixes:n}=b.useContext(xv);return e||n[t]||t}function hU(){const{breakpoints:e}=b.useContext(xv);return e}function fU(){const{minBreakpoint:e}=b.useContext(xv);return e}function WJ(){const{dir:e}=b.useContext(xv);return e==="rtl"}function bS(e){return e&&e.ownerDocument||document}function $J(e){var t=bS(e);return t&&t.defaultView||window}function qJ(e,t){return $J(e).getComputedStyle(e,t)}var KJ=/([A-Z])/g;function YJ(e){return e.replace(KJ,"-$1").toLowerCase()}var XJ=/^ms-/;function TC(e){return YJ(e).replace(XJ,"-ms-")}var QJ=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ZJ(e){return!!(e&&QJ.test(e))}function Ka(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(TC(t))||qJ(e).getPropertyValue(TC(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(TC(i)):ZJ(i)?r+=i+"("+s+") ":n+=TC(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var GR={exports:{}},zR,PL;function JJ(){if(PL)return zR;PL=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zR=e,zR}var UR,IL;function eee(){if(IL)return UR;IL=1;var e=JJ();function t(){}function n(){}return n.resetWarningCache=t,UR=function(){function r(o,a,l,u,h,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},UR}var FL;function tee(){return FL||(FL=1,GR.exports=eee()()),GR.exports}var nee=tee();const Ya=Of(nee),ML={disabled:!1},pU=K.createContext(null);var ree=function(t){return t.scrollTop},Ag="unmounted",Zl="exited",oo="entering",ja="entered",Sm="exiting",pl=function(e){zJ(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Zl,s.appearStatus=oo):l=ja:r.unmountOnExit||r.mountOnEnter?l=Ag:l=Zl,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ag?{status:Zl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==oo&&o!==ja&&(s=oo):(o===oo||o===ja)&&(s=Sm)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===oo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ac.findDOMNode(this);o&&ree(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zl&&this.setState({status:Ag})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ac.findDOMNode(this),a],u=l[0],h=l[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!i&&!o||ML.disabled){this.safeSetState({status:ja},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:oo},function(){s.props.onEntering(u,h),s.onTransitionEnd(g,function(){s.safeSetState({status:ja},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ac.findDOMNode(this);if(!s||ML.disabled){this.safeSetState({status:Zl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Sm},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Zl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ac.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ag)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=dU(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return K.createElement(pU.Provider,{value:null},typeof o=="function"?o(i,a):K.cloneElement(K.Children.only(o),a))},t}(K.Component);pl.contextType=pU;pl.propTypes={};function mh(){}pl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mh,onEntering:mh,onEntered:mh,onExit:mh,onExiting:mh,onExited:mh};pl.UNMOUNTED=Ag;pl.EXITED=Zl;pl.ENTERING=oo;pl.ENTERED=ja;pl.EXITING=Sm;function iee(e){return e.code==="Escape"||e.keyCode===27}function see(){const e=b.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Bf(e){if(!e||typeof e=="function")return null;const{major:t}=see();return t>=19?e.props.ref:e.ref}const Hf=!!(typeof window<"u"&&window.document&&window.document.createElement);var BT=!1,HT=!1;try{var jR={get passive(){return BT=!0},get once(){return HT=BT=!0}};Hf&&(window.addEventListener("test",jR,jR),window.removeEventListener("test",jR,!0))}catch{}function gU(e,t,n,r){if(r&&typeof r!="boolean"&&!HT){var i=r.once,s=r.capture,o=n;!HT&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,BT?r:s)}e.addEventListener(t,n,r)}function GT(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function Qw(e,t,n,r){return gU(e,t,n,r),function(){GT(e,t,n,r)}}function oee(e,t,n,r){if(r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function aee(e){var t=Ka(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function lee(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||oee(e,"transitionend",!0)},t+n),s=Qw(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function mU(e,t,n,r){n==null&&(n=aee(e)||0);var i=lee(e,n,r),s=Qw(e,"transitionend",t);return function(){i(),s()}}function _L(e,t){const n=Ka(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function wP(e,t){const n=_L(e,"transitionDuration"),r=_L(e,"transitionDelay"),i=mU(e,s=>{s.target===e&&(i(),t(s))},n+r)}function hg(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function vU(e){e.offsetHeight}const kL=e=>!e||typeof e=="function"?e:t=>{e.current=t};function cee(e,t){const n=kL(e),r=kL(t);return i=>{n&&n(i),r&&r(i)}}function yU(e,t){return b.useMemo(()=>cee(e,t),[e,t])}function uee(e){return e&&"setState"in e?ac.findDOMNode(e):e??null}const SS=K.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},h)=>{const f=b.useRef(null),g=yU(f,l),v=P=>{g(uee(P))},C=P=>_=>{P&&f.current&&P(f.current,_)},S=b.useCallback(C(e),[e]),R=b.useCallback(C(t),[t]),x=b.useCallback(C(n),[n]),D=b.useCallback(C(r),[r]),T=b.useCallback(C(i),[i]),k=b.useCallback(C(s),[s]),O=b.useCallback(C(o),[o]);return I.jsx(pl,{ref:h,...u,onEnter:S,onEntered:x,onEntering:R,onExit:D,onExited:k,onExiting:T,addEndListener:O,nodeRef:f,children:typeof a=="function"?(P,_)=>a(P,{..._,ref:v}):K.cloneElement(a,{ref:v})})});SS.displayName="TransitionWrapper";const dee={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function hee(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=dee[e];return r+parseInt(Ka(t,i[0]),10)+parseInt(Ka(t,i[1]),10)}const fee={[Zl]:"collapse",[Sm]:"collapsing",[oo]:"collapsing",[ja]:"collapse show"},CU=K.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:h=!1,unmountOnExit:f=!1,appear:g=!1,getDimensionValue:v=hee,...C},S)=>{const R=typeof a=="function"?a():a,x=b.useMemo(()=>hg(P=>{P.style[R]="0"},e),[R,e]),D=b.useMemo(()=>hg(P=>{const _=`scroll${R[0].toUpperCase()}${R.slice(1)}`;P.style[R]=`${P[_]}px`},t),[R,t]),T=b.useMemo(()=>hg(P=>{P.style[R]=null},n),[R,n]),k=b.useMemo(()=>hg(P=>{P.style[R]=`${v(R,P)}px`,vU(P)},r),[r,v,R]),O=b.useMemo(()=>hg(P=>{P.style[R]=null},i),[R,i]);return I.jsx(SS,{ref:S,addEndListener:wP,...C,"aria-expanded":C.role?l:null,onEnter:x,onEntering:D,onEntered:T,onExit:k,onExiting:O,childRef:Bf(o),in:l,timeout:u,mountOnEnter:h,unmountOnExit:f,appear:g,children:(P,_)=>K.cloneElement(o,{..._,className:Qe(s,o.props.className,fee[P],R==="width"&&"collapse-horizontal")})})});CU.displayName="Collapse";function pee(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function Cc(e){const t=pee(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Tv=e=>b.forwardRef((t,n)=>I.jsx("div",{...t,ref:n,className:Qe(t.className,e)})),wU=Tv("h4");wU.displayName="DivStyledAsH4";const bU=b.forwardRef(({className:e,bsPrefix:t,as:n=wU,...r},i)=>(t=ct(t,"alert-heading"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));bU.displayName="AlertHeading";function gee(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function Wa(e){const t=gee(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function mee(){const e=b.useRef(!0),t=b.useRef(()=>e.current);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function vee(e){const t=b.useRef(null);return b.useEffect(()=>{t.current=e}),t.current}const yee=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Cee=typeof document<"u",OL=Cee||yee?b.useLayoutEffect:b.useEffect,wee=["as","disabled"];function bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function See(e){return!e||e.trim()==="#"}function bP({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||r!=null||i!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},u];const h=g=>{if((t||e==="a"&&See(n))&&g.preventDefault(),t){g.stopPropagation();return}o?.(g)},f=g=>{g.key===" "&&(g.preventDefault(),h(g))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:h,onKeyDown:f},u]}const SU=b.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=bee(e,wee);const[s,{tagName:o}]=bP(Object.assign({tagName:n,disabled:r},i));return I.jsx(o,Object.assign({},i,s,{ref:t}))});SU.displayName="Button";const Eee=["onKeyDown"];function Ree(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xee(e){return!e||e.trim()==="#"}const EU=b.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=Ree(e,Eee);const[i]=bP(Object.assign({tagName:"a"},r)),s=Wa(o=>{i.onKeyDown(o),n?.(o)});return xee(r.href)||r.role==="button"?I.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:s})):I.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});EU.displayName="Anchor";const RU=b.forwardRef(({className:e,bsPrefix:t,as:n=EU,...r},i)=>(t=ct(t,"alert-link"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));RU.displayName="AlertLink";const Tee={[oo]:"show",[ja]:"show"},ff=b.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=b.useCallback((l,u)=>{vU(l),r?.(l,u)},[r]);return I.jsx(SS,{ref:s,addEndListener:wP,...o,onEnter:a,childRef:Bf(t),children:(l,u)=>b.cloneElement(t,{...u,className:Qe("fade",e,t.props.className,Tee[l],n[l])})})});ff.displayName="Fade";const Dee={"aria-label":Ya.string,onClick:Ya.func,variant:Ya.oneOf(["white"])},ES=b.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>I.jsx("button",{ref:i,type:"button",className:Qe("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));ES.displayName="CloseButton";ES.propTypes=Dee;const xU=b.forwardRef((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:u,dismissible:h,transition:f=ff,...g}=CP(e,{show:"onClose"}),v=ct(n,"alert"),C=Cc(x=>{u&&u(!1,x)}),S=f===!0?ff:f,R=I.jsxs("div",{role:"alert",...S?void 0:g,ref:t,className:Qe(o,v,l&&`${v}-${l}`,h&&`${v}-dismissible`),children:[h&&I.jsx(ES,{onClick:C,"aria-label":i,variant:s}),a]});return S?I.jsx(S,{unmountOnExit:!0,...g,ref:void 0,in:r,children:R}):r?R:null});xU.displayName="Alert";const Zw=Object.assign(xU,{Link:RU,Heading:bU}),zT=b.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:i,as:s="span",...o},a)=>{const l=ct(e,"badge");return I.jsx(s,{ref:a,...o,className:Qe(i,l,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});zT.displayName="Badge";const nr=b.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const u=ct(t,"btn"),[h,{tagName:f}]=bP({tagName:e,disabled:s,...a}),g=f;return I.jsx(g,{...h,...a,ref:l,disabled:s,className:Qe(o,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&s&&"disabled")})});nr.displayName="Button";const SP=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=ct(t,"card-body"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));SP.displayName="CardBody";const TU=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=ct(t,"card-footer"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));TU.displayName="CardFooter";const DU=b.createContext(null);DU.displayName="CardHeaderContext";const AU=b.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=ct(e,"card-header"),o=b.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return I.jsx(DU.Provider,{value:o,children:I.jsx(n,{ref:i,...r,className:Qe(t,s)})})});AU.displayName="CardHeader";const PU=b.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},s)=>{const o=ct(e,"card-img");return I.jsx(r,{ref:s,className:Qe(n?`${o}-${n}`:o,t),...i})});PU.displayName="CardImg";const IU=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=ct(t,"card-img-overlay"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));IU.displayName="CardImgOverlay";const FU=b.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},i)=>(t=ct(t,"card-link"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));FU.displayName="CardLink";const Aee=Tv("h6"),MU=b.forwardRef(({className:e,bsPrefix:t,as:n=Aee,...r},i)=>(t=ct(t,"card-subtitle"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));MU.displayName="CardSubtitle";const _U=b.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},i)=>(t=ct(t,"card-text"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));_U.displayName="CardText";const Pee=Tv("h5"),kU=b.forwardRef(({className:e,bsPrefix:t,as:n=Pee,...r},i)=>(t=ct(t,"card-title"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));kU.displayName="CardTitle";const OU=b.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},u)=>{const h=ct(e,"card");return I.jsx(a,{ref:u,...l,className:Qe(t,h,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?I.jsx(SP,{children:o}):o})});OU.displayName="Card";const hr=Object.assign(OU,{Img:PU,Title:kU,Subtitle:MU,Body:SP,Link:FU,Text:_U,Header:AU,Footer:TU,ImgOverlay:IU});function Iee(e){const t=b.useRef(e);return t.current=e,t}function Fee(e){const t=Iee(e);b.useEffect(()=>()=>t.current(),[])}function Mee(e,t){return b.Children.toArray(e).some(n=>b.isValidElement(n)&&n.type===t)}function _ee({as:e,bsPrefix:t,className:n,...r}){t=ct(t,"col");const i=hU(),s=fU(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let h,f,g;typeof u=="object"&&u!=null?{span:h,offset:f,order:g}=u:h=u;const v=l!==s?`-${l}`:"";h&&o.push(h===!0?`${t}${v}`:`${t}${v}-${h}`),g!=null&&a.push(`order${v}-${g}`),f!=null&&a.push(`offset${v}-${f}`)}),[{...r,className:Qe(n,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const Yo=b.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=_ee(e);return I.jsx(i,{...r,ref:t,className:Qe(n,!o.length&&s)})});Yo.displayName="Col";const Em=b.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...i},s)=>{const o=ct(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return I.jsx(n,{ref:s,...i,className:Qe(r,t?`${o}${a}`:o)})});Em.displayName="Container";var kee=Function.prototype.bind.call(Function.prototype.call,[].slice);function wu(e,t){return kee(e.querySelectorAll(t))}function Oee(){const[,e]=b.useReducer(t=>t+1,0);return e}function LL(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Jw=b.createContext(null),EP=(e,t=null)=>e!=null?String(e):t||null,RP=b.createContext(null);RP.displayName="NavContext";const Lee="data-rr-ui-",Nee="rrUi";function RS(e){return`${Lee}${e}`}function Vee(e){return`${Nee}${e}`}const LU=b.createContext(Hf?window:void 0);LU.Provider;function xP(){return b.useContext(LU)}const Bee=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Hee=typeof document<"u",Gee=Hee||Bee?b.useLayoutEffect:b.useEffect,NU=b.createContext(null);NU.displayName="InputGroupContext";const Dv=b.createContext(null);Dv.displayName="NavbarContext";const zee={type:Ya.string,tooltip:Ya.bool,as:Ya.elementType},xS=b.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},s)=>I.jsx(e,{...i,ref:s,className:Qe(t,`${n}-${r?"tooltip":"feedback"}`)}));xS.displayName="Feedback";xS.propTypes=zee;const nl=b.createContext({}),Av=b.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=b.useContext(nl);return t=ct(t,"form-check-input"),I.jsx(o,{...a,ref:l,type:r,id:e||u,className:Qe(n,t,i&&"is-valid",s&&"is-invalid")})});Av.displayName="FormCheckInput";const eb=b.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},i)=>{const{controlId:s}=b.useContext(nl);return e=ct(e,"form-check-label"),I.jsx("label",{...r,ref:i,htmlFor:n||s,className:Qe(t,e)})});eb.displayName="FormCheckLabel";const VU=b.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:h,className:f,style:g,title:v="",type:C="checkbox",label:S,children:R,as:x="input",...D},T)=>{t=ct(t,"form-check"),n=ct(n,"form-switch");const{controlId:k}=b.useContext(nl),O=b.useMemo(()=>({controlId:e||k}),[k,e]),P=!R&&S!=null&&S!==!1||Mee(R,eb),_=I.jsx(Av,{...D,type:C==="switch"?"checkbox":C,ref:T,isValid:o,isInvalid:a,disabled:s,as:x});return I.jsx(nl.Provider,{value:O,children:I.jsx("div",{style:g,className:Qe(f,P&&t,r&&`${t}-inline`,i&&`${t}-reverse`,C==="switch"&&n),children:R||I.jsxs(I.Fragment,{children:[_,P&&I.jsx(eb,{title:v,children:S}),u&&I.jsx(xS,{type:h,tooltip:l,children:u})]})})})});VU.displayName="FormCheck";const tb=Object.assign(VU,{Input:Av,Label:eb}),BU=b.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:h="input",...f},g)=>{const{controlId:v}=b.useContext(nl);return e=ct(e,"form-control"),I.jsx(h,{...f,type:t,size:r,ref:g,readOnly:u,id:i||v,className:Qe(s,l?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",a&&"is-invalid")})});BU.displayName="FormControl";const Uee=Object.assign(BU,{Feedback:xS}),HU=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=ct(t,"form-floating"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));HU.displayName="FormFloating";const TP=b.forwardRef(({controlId:e,as:t="div",...n},r)=>{const i=b.useMemo(()=>({controlId:e}),[e]);return I.jsx(nl.Provider,{value:i,children:I.jsx(t,{...n,ref:r})})});TP.displayName="FormGroup";const GU=b.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=b.useContext(nl);t=ct(t,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const h=Qe(i,t,r&&"visually-hidden",n&&u);return s=s||l,n?I.jsx(Yo,{ref:a,as:"label",className:h,htmlFor:s,...o}):I.jsx(e,{ref:a,className:h,htmlFor:s,...o})});GU.displayName="FormLabel";const zU=b.forwardRef(({bsPrefix:e,className:t,id:n,...r},i)=>{const{controlId:s}=b.useContext(nl);return e=ct(e,"form-range"),I.jsx("input",{...r,type:"range",ref:i,className:Qe(t,e),id:n||s})});zU.displayName="FormRange";const UU=b.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=b.useContext(nl);return e=ct(e,"form-select"),I.jsx("select",{...a,size:n,ref:l,className:Qe(r,e,t&&`${e}-${t}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});UU.displayName="FormSelect";const jU=b.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...i},s)=>(e=ct(e,"form-text"),I.jsx(n,{...i,ref:s,className:Qe(t,e,r&&"text-muted")})));jU.displayName="FormText";const WU=b.forwardRef((e,t)=>I.jsx(tb,{...e,ref:t,type:"switch"}));WU.displayName="Switch";const jee=Object.assign(WU,{Input:tb.Input,Label:tb.Label}),nb=b.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:i,...s},o)=>(e=ct(e,"form-floating"),I.jsxs(TP,{ref:o,className:Qe(t,e),controlId:r,...s,children:[n,I.jsx("label",{htmlFor:r,children:i})]})));nb.displayName="FloatingLabel";const Wee={_ref:Ya.any,validated:Ya.bool,as:Ya.elementType},DP=b.forwardRef(({className:e,validated:t,as:n="form",...r},i)=>I.jsx(n,{...r,ref:i,className:Qe(e,t&&"was-validated")}));DP.displayName="Form";DP.propTypes=Wee;const Yt=Object.assign(DP,{Group:TP,Control:Uee,Floating:HU,Check:tb,Switch:jee,Label:GU,Text:jU,Range:zU,Select:UU,FloatingLabel:nb}),TS=b.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=ct(t,"input-group-text"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));TS.displayName="InputGroupText";const $ee=e=>I.jsx(TS,{children:I.jsx(Av,{type:"checkbox",...e})}),qee=e=>I.jsx(TS,{children:I.jsx(Av,{type:"radio",...e})}),$U=b.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:r,as:i="div",...s},o)=>{e=ct(e,"input-group");const a=b.useMemo(()=>({}),[]);return I.jsx(NU.Provider,{value:a,children:I.jsx(i,{ref:o,...s,className:Qe(r,e,t&&`${e}-${t}`,n&&"has-validation")})})});$U.displayName="InputGroup";const Pu=Object.assign($U,{Text:TS,Radio:qee,Checkbox:$ee}),NL=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Kee(e,t){const n=NL(e),r=NL(t);return i=>{n&&n(i),r&&r(i)}}function DS(e,t){return b.useMemo(()=>Kee(e,t),[e,t])}const qU=b.createContext(null),Yee=["as","active","eventKey"];function Xee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KU({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=b.useContext(Jw),a=b.useContext(RP),l=b.useContext(qU);let u=n;const h={role:i};if(a){!i&&a.role==="tablist"&&(h.role="tab");const f=a.getControllerId(e??null),g=a.getControlledId(e??null);h[RS("event-key")]=e,h.id=f||r,u=n==null&&e!=null?a.activeKey===e:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(h["aria-controls"]=g)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Wa(f=>{s||(t?.(f),e!=null&&o&&!f.isPropagationStopped()&&o(e,f))}),[h,{isActive:u}]}const YU=b.forwardRef((e,t)=>{let{as:n=SU,active:r,eventKey:i}=e,s=Xee(e,Yee);const[o,a]=KU(Object.assign({key:EP(i,s.href),active:r},s));return o[RS("active")]=a.isActive,I.jsx(n,Object.assign({},s,o,{ref:t}))});YU.displayName="NavItem";const Qee=["as","onSelect","activeKey","role","onKeyDown"];function Zee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const VL=()=>{},BL=RS("event-key"),XU=b.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,a=Zee(e,Qee);const l=Oee(),u=b.useRef(!1),h=b.useContext(Jw),f=b.useContext(qU);let g,v;f&&(s=s||"tablist",i=f.activeKey,g=f.getControlledId,v=f.getControllerId);const C=b.useRef(null),S=T=>{const k=C.current;if(!k)return null;const O=wu(k,`[${BL}]:not([aria-disabled=true])`),P=k.querySelector("[aria-selected=true]");if(!P||P!==document.activeElement)return null;const _=O.indexOf(P);if(_===-1)return null;let M=_+T;return M>=O.length&&(M=0),M<0&&(M=O.length-1),O[M]},R=(T,k)=>{T!=null&&(r?.(T,k),h?.(T,k))},x=T=>{if(o?.(T),!f)return;let k;switch(T.key){case"ArrowLeft":case"ArrowUp":k=S(-1);break;case"ArrowRight":case"ArrowDown":k=S(1);break;default:return}k&&(T.preventDefault(),R(k.dataset[Vee("EventKey")]||null,T),u.current=!0,l())};b.useEffect(()=>{if(C.current&&u.current){const T=C.current.querySelector(`[${BL}][aria-selected=true]`);T?.focus()}u.current=!1});const D=DS(t,C);return I.jsx(Jw.Provider,{value:R,children:I.jsx(RP.Provider,{value:{role:s,activeKey:EP(i),getControlledId:g||VL,getControllerId:v||VL},children:I.jsx(n,Object.assign({},a,{onKeyDown:x,ref:D,role:s}))})})});XU.displayName="Nav";const Jee=Object.assign(XU,{Item:YU}),QU=b.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},u)=>{e=ct(e,"list-group-item");const[h,f]=KU({key:EP(r,l.href),active:t,...l}),g=Cc(C=>{if(n){C.preventDefault(),C.stopPropagation();return}h.onClick(C)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const v=a||(o?l.href?"a":"button":"div");return I.jsx(v,{ref:u,...l,...h,onClick:g,className:Qe(i,e,f.isActive&&"active",n&&"disabled",s&&`${e}-${s}`,o&&`${e}-action`)})});QU.displayName="ListGroupItem";const ZU=b.forwardRef((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=CP(e,{activeKey:"onSelect"}),u=ct(r,"list-group");let h;return s&&(h=s===!0?"horizontal":`horizontal-${s}`),I.jsx(Jee,{ref:t,...l,as:a,className:Qe(n,u,i&&`${u}-${i}`,h&&`${u}-${h}`,o&&`${u}-numbered`)})});ZU.displayName="ListGroup";const ao=Object.assign(ZU,{Item:QU});var DC;function HL(e){if((!DC&&DC!==0||e)&&Hf){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),DC=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return DC}function ete(){return b.useState(null)}function WR(e){e===void 0&&(e=bS());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function tte(e){const t=b.useRef(e);return t.current=e,t}function nte(e){const t=tte(e);b.useEffect(()=>()=>t.current(),[])}function rte(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const GL=RS("modal-open");class AP{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return rte(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(Ka(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(GL,""),Ka(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(GL),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const $R=(e,t)=>Hf?e==null?(t||bS()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ite(e,t){const n=xP(),[r,i]=b.useState(()=>$R(e,n?.document));if(!r){const s=$R(e);s&&i(s)}return b.useEffect(()=>{},[t,r]),b.useEffect(()=>{const s=$R(e);s!==r&&i(s)},[e,r]),r}function ste({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=b.useRef(null),o=b.useRef(t),a=Wa(n);b.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const l=DS(s,Bf(e)),u=b.cloneElement(e,{ref:l});return t?u:i||!o.current&&r?null:u}const ote=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ate(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lte(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=e,u=ate(e,ote);const h=b.useRef(null),f=DS(h,Bf(l)),g=k=>O=>{k&&h.current&&k(h.current,O)},v=b.useCallback(g(t),[t]),C=b.useCallback(g(n),[n]),S=b.useCallback(g(r),[r]),R=b.useCallback(g(i),[i]),x=b.useCallback(g(s),[s]),D=b.useCallback(g(o),[o]),T=b.useCallback(g(a),[a]);return Object.assign({},u,{nodeRef:h},t&&{onEnter:v},n&&{onEntering:C},r&&{onEntered:S},i&&{onExit:R},s&&{onExiting:x},o&&{onExited:D},a&&{addEndListener:T},{children:typeof l=="function"?(k,O)=>l(k,Object.assign({},O,{ref:f})):b.cloneElement(l,{ref:f})})}const cte=["component"];function ute(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const dte=b.forwardRef((e,t)=>{let{component:n}=e,r=ute(e,cte);const i=lte(r);return I.jsx(n,Object.assign({ref:t},i))});function hte({in:e,onTransition:t}){const n=b.useRef(null),r=b.useRef(!0),i=Wa(t);return OL(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),OL(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function fte({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=b.useState(!t);t&&s&&o(!1);const a=hte({in:!!t,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r?.(u.element,u.initial):(o(!0),n?.(u.element)))};Promise.resolve(i(u)).then(h,f=>{throw u.in||o(!0),f})}}),l=DS(a,Bf(e));return s&&!t?null:b.cloneElement(e,{ref:l})}function zL(e,t,n){return e?I.jsx(dte,Object.assign({},n,{component:e})):t?I.jsx(fte,Object.assign({},n,{transition:t})):I.jsx(ste,Object.assign({},n))}const pte=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function gte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let qR;function mte(e){return qR||(qR=new AP({ownerDocument:e?.document})),qR}function vte(e){const t=xP(),n=e||mte(t),r=b.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:b.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:b.useCallback(i=>{r.current.backdrop=i},[])})}const JU=b.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:f,runTransition:g,backdropTransition:v,runBackdropTransition:C,autoFocus:S=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:D,renderDialog:T,renderBackdrop:k=Ne=>I.jsx("div",Object.assign({},Ne)),manager:O,container:P,onShow:_,onHide:M=()=>{},onExit:N,onExited:B,onExiting:H,onEnter:U,onEntering:G,onEntered:ee}=e,ie=gte(e,pte);const $=xP(),Z=ite(P),te=vte(O),pe=mee(),F=vee(n),[X,re]=b.useState(!n),z=b.useRef(null);b.useImperativeHandle(t,()=>te,[te]),Hf&&!F&&n&&(z.current=WR($?.document)),n&&X&&re(!1);const ge=Wa(()=>{if(te.add(),rt.current=Qw(document,"keydown",Ke),Ue.current=Qw(document,"focus",()=>setTimeout(Te),!0),_&&_(),S){var Ne,Ze;const Ve=WR((Ne=(Ze=te.dialog)==null?void 0:Ze.ownerDocument)!=null?Ne:$?.document);te.dialog&&Ve&&!LL(te.dialog,Ve)&&(z.current=Ve,te.dialog.focus())}}),Ae=Wa(()=>{if(te.remove(),rt.current==null||rt.current(),Ue.current==null||Ue.current(),x){var Ne;(Ne=z.current)==null||Ne.focus==null||Ne.focus(D),z.current=null}});b.useEffect(()=>{!n||!Z||ge()},[n,Z,ge]),b.useEffect(()=>{X&&Ae()},[X,Ae]),nte(()=>{Ae()});const Te=Wa(()=>{if(!R||!pe()||!te.isTopModal())return;const Ne=WR($?.document);te.dialog&&Ne&&!LL(te.dialog,Ne)&&te.dialog.focus()}),ut=Wa(Ne=>{Ne.target===Ne.currentTarget&&(u?.(Ne),a===!0&&M())}),Ke=Wa(Ne=>{l&&iee(Ne)&&te.isTopModal()&&(h?.(Ne),Ne.defaultPrevented||M())}),Ue=b.useRef(),rt=b.useRef(),dt=(...Ne)=>{re(!0),B?.(...Ne)};if(!Z)return null;const yt=Object.assign({role:r,ref:te.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ie,{style:s,className:i,tabIndex:-1});let Ot=T?T(yt):I.jsx("div",Object.assign({},yt,{children:b.cloneElement(o,{role:"document"})}));Ot=zL(f,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:H,onExited:dt,onEnter:U,onEntering:G,onEntered:ee,children:Ot});let Oe=null;return a&&(Oe=k({ref:te.setBackdropRef,onClick:ut}),Oe=zL(v,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Oe})),I.jsx(I.Fragment,{children:ac.createPortal(I.jsxs(I.Fragment,{children:[Oe,Ot]}),Z)})});JU.displayName="Modal";const e4=Object.assign(JU,{Manager:AP});function yte(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Cte(e,t){e.classList?e.classList.add(t):yte(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function UL(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wte(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=UL(e.className,t):e.setAttribute("class",UL(e.className&&e.className.baseVal||"",t))}const vh={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class t4 extends AP{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,Ka(n,{[t]:`${parseFloat(Ka(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],Ka(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Cte(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wu(n,vh.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),wu(n,vh.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),wu(n,vh.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();wte(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wu(n,vh.FIXED_CONTENT).forEach(s=>this.restore(r,s)),wu(n,vh.STICKY_CONTENT).forEach(s=>this.restore(i,s)),wu(n,vh.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let KR;function n4(e){return KR||(KR=new t4(e)),KR}const r4=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=ct(t,"modal-body"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));r4.displayName="ModalBody";const PP=b.createContext({onHide(){}}),IP=b.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},u)=>{e=ct(e,"modal");const h=`${e}-dialog`,f=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return I.jsx("div",{...l,ref:u,className:Qe(h,t,i&&`${e}-${i}`,r&&`${h}-centered`,a&&`${h}-scrollable`,s&&f),children:I.jsx("div",{className:Qe(`${e}-content`,n),children:o})})});IP.displayName="ModalDialog";const i4=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=ct(t,"modal-footer"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));i4.displayName="ModalFooter";const FP=b.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=b.useContext(PP),l=Cc(()=>{a?.onHide(),r?.()});return I.jsxs("div",{ref:o,...s,children:[i,n&&I.jsx(ES,{"aria-label":e,variant:t,onClick:l})]})});FP.displayName="AbstractModalHeader";const s4=b.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=ct(e,"modal-header"),I.jsx(FP,{ref:s,...i,className:Qe(t,e),closeLabel:n,closeButton:r})));s4.displayName="ModalHeader";const bte=Tv("h4"),o4=b.forwardRef(({className:e,bsPrefix:t,as:n=bte,...r},i)=>(t=ct(t,"modal-title"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));o4.displayName="ModalTitle";function Ste(e){return I.jsx(ff,{...e,timeout:null})}function Ete(e){return I.jsx(ff,{...e,timeout:null})}const a4=b.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=IP,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":u,"aria-label":h,show:f=!1,animation:g=!0,backdrop:v=!0,keyboard:C=!0,onEscapeKeyDown:S,onShow:R,onHide:x,container:D,autoFocus:T=!0,enforceFocus:k=!0,restoreFocus:O=!0,restoreFocusOptions:P,onEntered:_,onExit:M,onExiting:N,onEnter:B,onEntering:H,onExited:U,backdropClassName:G,manager:ee,...ie},$)=>{const[Z,te]=b.useState({}),[pe,F]=b.useState(!1),X=b.useRef(!1),re=b.useRef(!1),z=b.useRef(null),[ge,Ae]=ete(),Te=yU($,Ae),ut=Cc(x),Ke=WJ();e=ct(e,"modal");const Ue=b.useMemo(()=>({onHide:ut}),[ut]);function rt(){return ee||n4({isRTL:Ke})}function dt(ne){if(!Hf)return;const ye=rt().getScrollbarWidth()>0,Ie=ne.scrollHeight>bS(ne).documentElement.clientHeight;te({paddingRight:ye&&!Ie?HL():void 0,paddingLeft:!ye&&Ie?HL():void 0})}const yt=Cc(()=>{ge&&dt(ge.dialog)});Fee(()=>{GT(window,"resize",yt),z.current==null||z.current()});const Ot=()=>{X.current=!0},Oe=ne=>{X.current&&ge&&ne.target===ge.dialog&&(re.current=!0),X.current=!1},Ne=()=>{F(!0),z.current=mU(ge.dialog,()=>{F(!1)})},Ze=ne=>{ne.target===ne.currentTarget&&Ne()},Ve=ne=>{if(v==="static"){Ze(ne);return}if(re.current||ne.target!==ne.currentTarget){re.current=!1;return}x?.()},Je=ne=>{C?S?.(ne):(ne.preventDefault(),v==="static"&&Ne())},Tt=(ne,ye)=>{ne&&dt(ne),B?.(ne,ye)},at=ne=>{z.current==null||z.current(),M?.(ne)},Et=(ne,ye)=>{H?.(ne,ye),gU(window,"resize",yt)},Rt=ne=>{ne&&(ne.style.display=""),U?.(ne),GT(window,"resize",yt)},Mt=b.useCallback(ne=>I.jsx("div",{...ne,className:Qe(`${e}-backdrop`,G,!g&&"show")}),[g,G,e]),vn={...n,...Z};vn.display="block";const Gn=ne=>I.jsx("div",{role:"dialog",...ne,style:vn,className:Qe(t,e,pe&&`${e}-static`,!g&&"show"),onClick:v?Ve:void 0,onMouseUp:Oe,"data-bs-theme":a,"aria-label":h,"aria-labelledby":l,"aria-describedby":u,children:I.jsx(o,{...ie,onMouseDown:Ot,className:r,contentClassName:i,children:s})});return I.jsx(PP.Provider,{value:Ue,children:I.jsx(e4,{show:f,ref:Te,backdrop:v,container:D,keyboard:!0,autoFocus:T,enforceFocus:k,restoreFocus:O,restoreFocusOptions:P,onEscapeKeyDown:Je,onShow:R,onHide:x,onEnter:Tt,onEntering:Et,onEntered:_,onExit:at,onExiting:N,onExited:Rt,manager:rt(),transition:g?Ste:void 0,backdropTransition:g?Ete:void 0,renderBackdrop:Mt,renderDialog:Gn})})});a4.displayName="Modal";const On=Object.assign(a4,{Body:r4,Header:s4,Title:o4,Footer:i4,Dialog:IP,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),l4=b.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=ct(e,"navbar-brand");const s=n||(r.href?"a":"span");return I.jsx(s,{...r,ref:i,className:Qe(t,e)})});l4.displayName="NavbarBrand";const c4=b.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=ct(t,"navbar-collapse");const i=b.useContext(Dv);return I.jsx(CU,{in:!!(i&&i.expanded),...n,children:I.jsx("div",{ref:r,className:t,children:e})})});c4.displayName="NavbarCollapse";const u4=b.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{e=ct(e,"navbar-toggler");const{onToggle:l,expanded:u}=b.useContext(Dv)||{},h=Cc(f=>{s&&s(f),l&&l()});return i==="button"&&(o.type="button"),I.jsx(i,{...o,ref:a,onClick:h,"aria-label":r,className:Qe(t,e,!u&&"collapsed"),children:n||I.jsx("span",{className:`${e}-icon`})})});u4.displayName="NavbarToggle";const UT=new WeakMap,jL=(e,t)=>{if(!e||!t)return;const n=UT.get(t)||new Map;UT.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Rte(e,t=typeof window>"u"?void 0:window){const n=jL(e,t),[r,i]=b.useState(()=>n?n.matches:!1);return Gee(()=>{let s=jL(e,t);if(!s)return i(!1);let o=UT.get(t);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[e]),r}function xte(e){const t=Object.keys(e);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function i(a){const l=r(a);let u=e[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(a){let l=e[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,u){let h;typeof a=="object"?(h=a,u=l,l=!0):(l=l||!0,h={[a]:l});let f=b.useMemo(()=>Object.entries(h).reduce((g,[v,C])=>((C==="up"||C===!0)&&(g=n(g,s(v))),(C==="down"||C===!0)&&(g=n(g,i(v))),g),""),[JSON.stringify(h)]);return Rte(f,u)}return o}const Tte=xte({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),d4=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=ct(t,"offcanvas-body"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));d4.displayName="OffcanvasBody";const Dte={[oo]:"show",[ja]:"show"},h4=b.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(e=ct(e,"offcanvas"),I.jsx(SS,{ref:l,addEndListener:wP,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:Bf(n),children:(u,h)=>b.cloneElement(n,{...h,className:Qe(t,n.props.className,(u===oo||u===Sm)&&`${e}-toggling`,Dte[u])})})));h4.displayName="OffcanvasToggling";const f4=b.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=ct(e,"offcanvas-header"),I.jsx(FP,{ref:s,...i,className:Qe(t,e),closeLabel:n,closeButton:r})));f4.displayName="OffcanvasHeader";const Ate=Tv("h5"),p4=b.forwardRef(({className:e,bsPrefix:t,as:n=Ate,...r},i)=>(t=ct(t,"offcanvas-title"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));p4.displayName="OffcanvasTitle";function Pte(e){return I.jsx(h4,{...e})}function Ite(e){return I.jsx(ff,{...e})}const g4=b.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:h,onShow:f,onHide:g,container:v,autoFocus:C=!0,enforceFocus:S=!0,restoreFocus:R=!0,restoreFocusOptions:x,onEntered:D,onExit:T,onExiting:k,onEnter:O,onEntering:P,onExited:_,backdropClassName:M,manager:N,renderStaticNode:B=!1,...H},U)=>{const G=b.useRef();e=ct(e,"offcanvas");const[ee,ie]=b.useState(!1),$=Cc(g),Z=Tte(s||"xs","up");b.useEffect(()=>{ie(s?o&&!Z:o)},[o,s,Z]);const te=b.useMemo(()=>({onHide:$}),[$]);function pe(){return N||(u?(G.current||(G.current=new t4({handleContainerOverflow:!1})),G.current):n4())}const F=(ge,...Ae)=>{ge&&(ge.style.visibility="visible"),O?.(ge,...Ae)},X=(ge,...Ae)=>{ge&&(ge.style.visibility=""),_?.(...Ae)},re=b.useCallback(ge=>I.jsx("div",{...ge,className:Qe(`${e}-backdrop`,M)}),[M,e]),z=ge=>I.jsx("div",{...ge,...H,className:Qe(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return I.jsxs(I.Fragment,{children:[!ee&&(s||B)&&z({}),I.jsx(PP.Provider,{value:te,children:I.jsx(e4,{show:ee,ref:U,backdrop:a,container:v,keyboard:l,autoFocus:C,enforceFocus:S&&!u,restoreFocus:R,restoreFocusOptions:x,onEscapeKeyDown:h,onShow:f,onHide:$,onEnter:F,onEntering:P,onEntered:D,onExit:T,onExiting:k,onExited:X,manager:pe(),transition:Pte,backdropTransition:Ite,renderBackdrop:re,renderDialog:z})})]})});g4.displayName="Offcanvas";const Pg=Object.assign(g4,{Body:d4,Header:f4,Title:p4}),m4=b.forwardRef(({onHide:e,...t},n)=>{const r=b.useContext(Dv),i=Cc(()=>{r==null||r.onToggle==null||r.onToggle(),e?.()});return I.jsx(Pg,{ref:n,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:i})});m4.displayName="NavbarOffcanvas";const v4=b.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=ct(t,"navbar-text"),I.jsx(n,{ref:i,className:Qe(e,t),...r})));v4.displayName="NavbarText";const y4=b.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:h,onToggle:f,onSelect:g,collapseOnSelect:v=!1,...C}=CP(e,{expanded:"onToggle"}),S=ct(n,"navbar"),R=b.useCallback((...T)=>{g?.(...T),v&&h&&f?.(!1)},[g,v,h,f]);C.role===void 0&&u!=="nav"&&(C.role="navigation");let x=`${S}-expand`;typeof r=="string"&&(x=`${x}-${r}`);const D=b.useMemo(()=>({onToggle:()=>f?.(!h),bsPrefix:S,expanded:!!h,expand:r}),[S,h,r,f]);return I.jsx(Dv.Provider,{value:D,children:I.jsx(Jw.Provider,{value:R,children:I.jsx(u,{ref:t,...C,className:Qe(l,S,r&&x,i&&`${S}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});y4.displayName="Navbar";const Fte=Object.assign(y4,{Brand:l4,Collapse:c4,Offcanvas:m4,Text:v4,Toggle:u4}),pf=b.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=ct(e,"row"),o=hU(),a=fU(),l=`${s}-cols`,u=[];return o.forEach(h=>{const f=r[h];delete r[h];let g;f!=null&&typeof f=="object"?{cols:g}=f:g=f;const v=h!==a?`-${h}`:"";g!=null&&u.push(`${l}${v}-${g}`)}),I.jsx(n,{ref:i,...r,className:Qe(t,s,...u)})});pf.displayName="Row";const fo=b.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{e=ct(e,"spinner");const l=`${e}-${n}`;return I.jsx(i,{ref:a,...o,className:Qe(s,l,r&&`${l}-${r}`,t&&`text-${t}`)})});fo.displayName="Spinner";const C4=b.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...u},h)=>{const f=ct(e,"table"),g=Qe(t,f,a&&`${f}-${a}`,o&&`${f}-${o}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,i&&`${f}-borderless`,s&&`${f}-hover`),v=I.jsx("table",{...u,className:g,ref:h});if(l){let C=`${f}-responsive`;return typeof l=="string"&&(C=`${C}-${l}`),I.jsx("div",{className:C,children:v})}return v});C4.displayName="Table";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_te=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),WL=e=>{const t=_te(e);return t.charAt(0).toUpperCase()+t.slice(1)},w4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),kte=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ote={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...Ote,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:w4("lucide",i),...!s&&!kte(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,h])=>b.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(Lte,{ref:s,iconNode:t,className:w4(`lucide-${Mte(WL(e))}`,`lucide-${e}`,r),...i}));return n.displayName=WL(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$L=qn("arrow-right",Nte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],MP=qn("bot",Vte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hte=qn("eye-off",Bte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zte=qn("eye",Gte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],b4=qn("heart",Ute);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wte=qn("image",jte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qte=qn("info",$te);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Yte=qn("layers",Kte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Qte=qn("log-out",Xte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jte=qn("mail",Zte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],tne=qn("map",ene);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],rne=qn("menu",nne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sne=qn("message-square",ine);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pv=qn("plus",one);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lne=qn("refresh-cw",ane);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],une=qn("save",cne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_P=qn("search",dne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fne=qn("send",hne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kP=qn("trash-2",pne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],OP=qn("user-plus",gne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LP=qn("user",mne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xa=qn("users",vne),yne=()=>{};var qL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Cne=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},E4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(g=64)),r.push(n[h],n[f],n[g],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(S4(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Cne(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new wne;const g=s<<2|a>>4;if(r.push(g),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const C=u<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class wne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bne=function(e){const t=S4(e);return E4.encodeByteArray(t,!0)},rb=function(e){return bne(e).replace(/\./g,"")},R4=function(e){try{return E4.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=()=>Sne().__FIREBASE_DEFAULTS__,Rne=()=>{if(typeof process>"u"||typeof qL>"u")return;const e=qL.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xne=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&R4(e[1]);return t&&JSON.parse(t)},AS=()=>{try{return yne()||Ene()||Rne()||xne()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},x4=e=>AS()?.emulatorHosts?.[e],T4=e=>{const t=x4(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},D4=()=>AS()?.config,A4=e=>AS()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NP(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[rb(JSON.stringify(n)),rb(JSON.stringify(o)),""].join(".")}const zg={};function Dne(){const e={prod:[],emulator:[]};for(const t of Object.keys(zg))zg[t]?e.emulator.push(t):e.prod.push(t);return e}function Ane(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let KL=!1;function VP(e,t){if(typeof window>"u"||typeof document>"u"||!Oc(window.location.host)||zg[e]===t||zg[e]||KL)return;zg[e]=t;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Dne().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{KL=!0,o()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=Ane(r),v=n("text"),C=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),D=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;a(T),h(R,S);const k=u();l(D,x),T.append(D,C,R,k),document.body.appendChild(T)}s?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function Ine(){const e=AS()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mne(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _ne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kne(){const e=li();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function One(){return!Ine()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lne(){try{return typeof indexedDB=="object"}catch{return!1}}function Nne(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne="FirebaseError";class vo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Vne,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iv.prototype.create)}}class Iv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Bne(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vo(i,a,r)}}function Bne(e,t){return e.replace(Hne,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Hne=/\{\$([^}]+)}/g;function Gne(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(YL(s)&&YL(o)){if(!rl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YL(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ig(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Fg(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function zne(e,t){const n=new Une(e,t);return n.subscribe.bind(n)}class Une{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jne(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=YR),i.error===void 0&&(i.error=YR),i.complete===void 0&&(i.complete=YR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jne(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function YR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){return e&&e._delegate?e._delegate:e}let wc=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wne=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Tne;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qne(t))try{this.getOrInitializeService({instanceIdentifier:bu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=bu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bu){return this.instances.has(t)}getOptions(t=bu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$ne(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=bu){return this.component?this.component.multipleInstances?t:bu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $ne(e){return e===bu?void 0:e}function qne(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Wne(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Nt||(Nt={}));const Yne={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Xne=Nt.INFO,Qne={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Zne=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Qne[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class BP{constructor(t){this.name=t,this._logLevel=Xne,this._logHandler=Zne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yne[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const Jne=(e,t)=>t.some(n=>e instanceof n);let XL,QL;function ere(){return XL||(XL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tre(){return QL||(QL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I4=new WeakMap,jT=new WeakMap,F4=new WeakMap,XR=new WeakMap,HP=new WeakMap;function nre(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(cc(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&I4.set(n,e)}).catch(()=>{}),HP.set(t,e),t}function rre(e){if(jT.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});jT.set(e,t)}let WT={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jT.get(e);if(t==="objectStoreNames")return e.objectStoreNames||F4.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ire(e){WT=e(WT)}function sre(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(QR(this),t,...n);return F4.set(r,t.sort?t.sort():[t]),cc(r)}:tre().includes(e)?function(...t){return e.apply(QR(this),t),cc(I4.get(this))}:function(...t){return cc(e.apply(QR(this),t))}}function ore(e){return typeof e=="function"?sre(e):(e instanceof IDBTransaction&&rre(e),Jne(e,ere())?new Proxy(e,WT):e)}function cc(e){if(e instanceof IDBRequest)return nre(e);if(XR.has(e))return XR.get(e);const t=ore(e);return t!==e&&(XR.set(e,t),HP.set(t,e)),t}const QR=e=>HP.get(e);function are(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=cc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cc(o.result),l.oldVersion,l.newVersion,cc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const lre=["get","getKey","getAll","getAllKeys","count"],cre=["put","add","delete","clear"],ZR=new Map;function ZL(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ZR.get(t))return ZR.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=cre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lre.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ZR.set(t,s),s}ire(e=>({...e,get:(t,n,r)=>ZL(t,n)||e.get(t,n,r),has:(t,n)=>!!ZL(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dre(e){return e.getComponent()?.type==="VERSION"}const $T="@firebase/app",JL="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new BP("@firebase/app"),hre="@firebase/app-compat",fre="@firebase/analytics-compat",pre="@firebase/analytics",gre="@firebase/app-check-compat",mre="@firebase/app-check",vre="@firebase/auth",yre="@firebase/auth-compat",Cre="@firebase/database",wre="@firebase/data-connect",bre="@firebase/database-compat",Sre="@firebase/functions",Ere="@firebase/functions-compat",Rre="@firebase/installations",xre="@firebase/installations-compat",Tre="@firebase/messaging",Dre="@firebase/messaging-compat",Are="@firebase/performance",Pre="@firebase/performance-compat",Ire="@firebase/remote-config",Fre="@firebase/remote-config-compat",Mre="@firebase/storage",_re="@firebase/storage-compat",kre="@firebase/firestore",Ore="@firebase/ai",Lre="@firebase/firestore-compat",Nre="firebase",Vre="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="[DEFAULT]",Bre={[$T]:"fire-core",[hre]:"fire-core-compat",[pre]:"fire-analytics",[fre]:"fire-analytics-compat",[mre]:"fire-app-check",[gre]:"fire-app-check-compat",[vre]:"fire-auth",[yre]:"fire-auth-compat",[Cre]:"fire-rtdb",[wre]:"fire-data-connect",[bre]:"fire-rtdb-compat",[Sre]:"fire-fn",[Ere]:"fire-fn-compat",[Rre]:"fire-iid",[xre]:"fire-iid-compat",[Tre]:"fire-fcm",[Dre]:"fire-fcm-compat",[Are]:"fire-perf",[Pre]:"fire-perf-compat",[Ire]:"fire-rc",[Fre]:"fire-rc-compat",[Mre]:"fire-gcs",[_re]:"fire-gcs-compat",[kre]:"fire-fst",[Lre]:"fire-fst-compat",[Ore]:"fire-vertex","fire-js":"fire-js",[Nre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map,Hre=new Map,KT=new Map;function eN(e,t){try{e.container.addComponent(t)}catch(n){il.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zu(e){const t=e.name;if(KT.has(t))return il.debug(`There were multiple attempts to register component ${t}.`),!1;KT.set(t,e);for(const n of ib.values())eN(n,e);for(const n of Hre.values())eN(n,e);return!0}function PS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uc=new Iv("app","Firebase",Gre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw uc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=Vre;function M4(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:qT,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw uc.create("bad-app-name",{appName:String(i)});if(n||(n=D4()),!n)throw uc.create("no-options");const s=ib.get(i);if(s){if(rl(n,s.options)&&rl(r,s.config))return s;throw uc.create("duplicate-app",{appName:i})}const o=new Kne(i);for(const l of KT.values())o.addComponent(l);const a=new zre(n,r,o);return ib.set(i,a),a}function GP(e=qT){const t=ib.get(e);if(!t&&e===qT&&D4())return M4();if(!t)throw uc.create("no-app",{appName:e});return t}function Xo(e,t,n){let r=Bre[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),il.warn(o.join(" "));return}Zu(new wc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure="firebase-heartbeat-database",jre=1,Rm="firebase-heartbeat-store";let JR=null;function _4(){return JR||(JR=are(Ure,jre,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Rm)}catch(n){console.warn(n)}}}}).catch(e=>{throw uc.create("idb-open",{originalErrorMessage:e.message})})),JR}async function Wre(e){try{const n=(await _4()).transaction(Rm),r=await n.objectStore(Rm).get(k4(e));return await n.done,r}catch(t){if(t instanceof vo)il.warn(t.message);else{const n=uc.create("idb-get",{originalErrorMessage:t?.message});il.warn(n.message)}}}async function tN(e,t){try{const r=(await _4()).transaction(Rm,"readwrite");await r.objectStore(Rm).put(t,k4(e)),await r.done}catch(n){if(n instanceof vo)il.warn(n.message);else{const r=uc.create("idb-set",{originalErrorMessage:n?.message});il.warn(r.message)}}}function k4(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $re=1024,qre=30;class Kre{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nN();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qre){const i=Qre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){il.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nN(),{heartbeatsToSend:n,unsentEntries:r}=Yre(this._heartbeatsCache.heartbeats),i=rb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return il.warn(t),""}}}function nN(){return new Date().toISOString().substring(0,10)}function Yre(e,t=$re){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rN(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rN(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xre{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lne()?Nne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Wre(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return tN(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return tN(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function rN(e){return rb(JSON.stringify({version:2,heartbeats:e})).length}function Qre(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(e){Zu(new wc("platform-logger",t=>new ure(t),"PRIVATE")),Zu(new wc("heartbeat",t=>new Kre(t),"PRIVATE")),Xo($T,JL,e),Xo($T,JL,"esm2020"),Xo("fire-js","")}Zre("");var Jre="firebase",eie="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(Jre,eie,"app");const tie="AIzaSyCw5stPCkMrXawbxzgT-aFT8Q3_swl5Ms4",nie="tutordecolonial.firebaseapp.com",rie="tutordecolonial",iie="tutordecolonial.firebasestorage.app",sie="1086836762849",oie="1:1086836762849:web:ed4d9b2715c421e4eeafa0",aie={apiKey:tie,authDomain:nie,projectId:rie,storageBucket:iie,messagingSenderId:sie,appId:oie};function O4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lie=O4,L4=new Iv("auth","Firebase",O4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new BP("@firebase/auth");function cie(e,...t){sb.logLevel<=Nt.WARN&&sb.warn(`Auth (${yd}): ${e}`,...t)}function mw(e,...t){sb.logLevel<=Nt.ERROR&&sb.error(`Auth (${yd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e,...t){throw zP(e,...t)}function Qo(e,...t){return zP(e,...t)}function N4(e,t,n){const r={...lie(),[t]:n};return new Iv("auth","Firebase",r).create(t,{appName:e.name})}function Qa(e){return N4(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zP(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return L4.create(e,...t)}function gt(e,t,...n){if(!e)throw zP(t,...n)}function $a(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mw(t),new Error(t)}function sl(e,t){e||$a(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return typeof self<"u"&&self.location?.href||""}function uie(){return iN()==="http:"||iN()==="https:"}function iN(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function die(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uie()||Mne()||"connection"in navigator)?navigator.onLine:!0}function hie(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t,n){this.shortDelay=t,this.longDelay=n,sl(n>t,"Short delay should be less than long delay!"),this.isMobile=Pne()||_ne()}get(){return die()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(e,t){sl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gie=new Mv(3e4,6e4);function Lc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Nc(e,t,n,r,i={}){return B4(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Fv({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...s};return Fne()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Oc(e.emulatorConfig.host)&&(u.credentials="include"),V4.fetch()(await H4(e,e.config.apiHost,n,a),u)})}async function B4(e,t,n){e._canInitEmulator=!1;const r={...fie,...t};try{const i=new vie(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw AC(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw AC(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw AC(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw AC(e,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw N4(e,h,u);po(e,h)}}catch(i){if(i instanceof vo)throw i;po(e,"network-request-failed",{message:String(i)})}}async function _v(e,t,n,r,i={}){const s=await Nc(e,t,n,r,i);return"mfaPendingCredential"in s&&po(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function H4(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?UP(e.config,i):`${e.config.apiScheme}://${i}`;return pie.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function mie(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qo(this.auth,"network-request-failed")),gie.get())})}}function AC(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qo(e,t,r);return i.customData._tokenResponse=n,i}function sN(e){return e!==void 0&&e.enterprise!==void 0}class yie{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return mie(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cie(e,t){return Nc(e,"GET","/v2/recaptchaConfig",Lc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wie(e,t){return Nc(e,"POST","/v1/accounts:delete",t)}async function ob(e,t){return Nc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bie(e,t=!1){const n=Dn(e),r=await n.getIdToken(t),i=jP(r);gt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ug(ex(i.auth_time)),issuedAtTime:Ug(ex(i.iat)),expirationTime:Ug(ex(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ex(e){return Number(e)*1e3}function jP(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return mw("JWT malformed, contained fewer than 3 sections"),null;try{const i=R4(n);return i?JSON.parse(i):(mw("Failed to decode base64 JWT payload"),null)}catch(i){return mw("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oN(e){const t=jP(e);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof vo&&Sie(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Sie({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ug(this.lastLoginAt),this.creationTime=Ug(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(e){const t=e.auth,n=await e.getIdToken(),r=await xm(e,ob(t,{idToken:n}));gt(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?G4(i.providerUserInfo):[],o=xie(e.providerData,s),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,u=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new XT(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function Rie(e){const t=Dn(e);await ab(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xie(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function G4(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(e,t){const n=await B4(e,{},async()=>{const r=Fv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await H4(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&Oc(e.emulatorConfig.host)&&(l.credentials="include"),V4.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Die(e,t){return Nc(e,"POST","/v2/accounts:revokeToken",Lc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oN(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=oN(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Tie(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Gh;return r&&(gt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(gt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(gt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gh,this.toJSON())}_performRefresh(){return $a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e,t){gt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class lo{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Eie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new XT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await xm(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return bie(this,t)}reload(){return Rie(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new lo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ab(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Qa(this.auth));const t=await this.getIdToken();return await xm(this,wie(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:v,providerData:C,stsTokenManager:S}=n;gt(f&&S,t,"internal-error");const R=Gh.fromJSON(this.name,S);gt(typeof f=="string",t,"internal-error"),Wl(r,t.name),Wl(i,t.name),gt(typeof g=="boolean",t,"internal-error"),gt(typeof v=="boolean",t,"internal-error"),Wl(s,t.name),Wl(o,t.name),Wl(a,t.name),Wl(l,t.name),Wl(u,t.name),Wl(h,t.name);const x=new lo({uid:f,auth:t,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:R,createdAt:u,lastLoginAt:h});return C&&Array.isArray(C)&&(x.providerData=C.map(D=>({...D}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(t,n,r=!1){const i=new Gh;i.updateFromServerResponse(n);const s=new lo({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ab(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];gt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?G4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Gh;a.updateFromIdToken(r);const l=new lo({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new XT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Map;function qa(e){sl(e instanceof Function,"Expected a class definition");let t=aN.get(e);return t?(sl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,aN.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}z4.type="NONE";const lN=z4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e,t,n){return`firebase:${e}:${t}:${n}`}class zh{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vw(this.userKey,i.apiKey,s),this.fullPersistenceKey=vw("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ob(this.auth,{idToken:t}).catch(()=>{});return n?lo._fromGetAccountInfoResponse(this.auth,n,t):null}return lo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new zh(qa(lN),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qa(lN);const o=vw(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const g=await ob(t,{idToken:h}).catch(()=>{});if(!g)break;f=await lo._fromGetAccountInfoResponse(t,g,h)}else f=lo._fromJSON(t,h);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new zh(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new zh(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($4(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U4(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(K4(t))return"Blackberry";if(Y4(t))return"Webos";if(j4(t))return"Safari";if((t.includes("chrome/")||W4(t))&&!t.includes("edge/"))return"Chrome";if(q4(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function U4(e=li()){return/firefox\//i.test(e)}function j4(e=li()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function W4(e=li()){return/crios\//i.test(e)}function $4(e=li()){return/iemobile/i.test(e)}function q4(e=li()){return/android/i.test(e)}function K4(e=li()){return/blackberry/i.test(e)}function Y4(e=li()){return/webos/i.test(e)}function WP(e=li()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Aie(e=li()){return WP(e)&&!!window.navigator?.standalone}function Pie(){return kne()&&document.documentMode===10}function X4(e=li()){return WP(e)||q4(e)||Y4(e)||K4(e)||/windows phone/i.test(e)||$4(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e,t=[]){let n;switch(e){case"Browser":n=cN(li());break;case"Worker":n=`${cN(li())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie(e,t={}){return Nc(e,"GET","/v2/passwordPolicy",Lc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie=6;class _ie{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Mie,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uN(this),this.idTokenSubscription=new uN(this),this.beforeStateQueue=new Iie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zh.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ob(this,{idToken:t}),r=await lo._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(rs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ab(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hie()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(rs(this.app))return Promise.reject(Qa(this));const n=t?Dn(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return rs(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qa(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Fie(this),n=new _ie(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Iv("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Die(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qa(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await zh.create(this,[qa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cie(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Cd(e){return Dn(e)}class uN{constructor(t){this.auth=t,this.observer=null,this.addObserver=zne(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oie(e){IS=e}function Z4(e){return IS.loadJS(e)}function Lie(){return IS.recaptchaEnterpriseScript}function Nie(){return IS.gapiScript}function Vie(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class Bie{constructor(){this.enterprise=new Hie}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Hie{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Gie="recaptcha-enterprise",J4="NO_RECAPTCHA";class zie{constructor(t){this.type=Gie,this.auth=Cd(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Cie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new yie(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;sN(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(J4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bie().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&sN(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Lie();l.length!==0&&(l+=a),Z4(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function dN(e,t,n,r=!1,i=!1){const s=new zie(e);let o;if(i)o=J4;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function QT(e,t,n,r,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await dN(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await dN(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(e,t){const n=PS(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rl(s,t??{}))return i;po(i,"already-initialized")}return n.initialize({options:t})}function jie(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qa);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Wie(e,t,n){const r=Cd(e);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=ej(t),{host:o,port:a}=$ie(t),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(rl(u,r.config.emulator)&&rl(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Oc(o)?(NP(`${s}//${o}${l}`),VP("Auth",!0)):qie()}function ej(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $ie(e){const t=ej(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:hN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:hN(o)}}}function hN(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function qie(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $a("not implemented")}_getIdTokenResponse(t){return $a("not implemented")}_linkToIdToken(t,n){return $a("not implemented")}_getReauthenticationResolver(t){return $a("not implemented")}}async function Kie(e,t){return Nc(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yie(e,t){return _v(e,"POST","/v1/accounts:signInWithPassword",Lc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xie(e,t){return _v(e,"POST","/v1/accounts:signInWithEmailLink",Lc(e,t))}async function Qie(e,t){return _v(e,"POST","/v1/accounts:signInWithEmailLink",Lc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends $P{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Tm(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Tm(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QT(t,n,"signInWithPassword",Yie);case"emailLink":return Xie(t,{email:this._email,oobCode:this._password});default:po(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QT(t,r,"signUpPassword",Kie);case"emailLink":return Qie(t,{idToken:n,email:this._email,oobCode:this._password});default:po(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(e,t){return _v(e,"POST","/v1/accounts:signInWithIdp",Lc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie="http://localhost";class Ju extends $P{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ju(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):po("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Ju(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Uh(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Uh(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Uh(t,n)}buildRequest(){const t={requestUri:Zie,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Fv(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jie(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ese(e){const t=Ig(Fg(e)).link,n=t?Ig(Fg(t)).deep_link_id:null,r=Ig(Fg(e)).deep_link_id;return(r?Ig(Fg(r)).link:null)||r||n||t||e}class qP{constructor(t){const n=Ig(Fg(t)),r=n.apiKey??null,i=n.oobCode??null,s=Jie(n.mode??null);gt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=ese(t);try{return new qP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.providerId=Gf.PROVIDER_ID}static credential(t,n){return Tm._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=qP.parseLink(n);return gt(r,"argument-error"),Tm._fromEmailAndCode(t,r.code,r.tenantId)}}Gf.PROVIDER_ID="password";Gf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends tj{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends kv{constructor(){super("facebook.com")}static credential(t){return Ju._fromParams({providerId:tc.PROVIDER_ID,signInMethod:tc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tc.credentialFromTaggedObject(t)}static credentialFromError(t){return tc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tc.credential(t.oauthAccessToken)}catch{return null}}}tc.FACEBOOK_SIGN_IN_METHOD="facebook.com";tc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends kv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ju._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return nc.credentialFromTaggedObject(t)}static credentialFromError(t){return nc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return nc.credential(n,r)}catch{return null}}}nc.GOOGLE_SIGN_IN_METHOD="google.com";nc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends kv{constructor(){super("github.com")}static credential(t){return Ju._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rc.credentialFromTaggedObject(t)}static credentialFromError(t){return rc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rc.credential(t.oauthAccessToken)}catch{return null}}}rc.GITHUB_SIGN_IN_METHOD="github.com";rc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends kv{constructor(){super("twitter.com")}static credential(t,n){return Ju._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ic.credentialFromTaggedObject(t)}static credentialFromError(t){return ic.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ic.credential(n,r)}catch{return null}}}ic.TWITTER_SIGN_IN_METHOD="twitter.com";ic.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tse(e,t){return _v(e,"POST","/v1/accounts:signUp",Lc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await lo._fromIdTokenResponse(t,r,i),o=fN(r);return new ed({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=fN(r);return new ed({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function fN(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends vo{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lb.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new lb(t,n,r,i)}}function nj(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lb._fromErrorAndOperation(e,s,t,r):s})}async function nse(e,t,n=!1){const r=await xm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ed._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rse(e,t,n=!1){const{auth:r}=e;if(rs(r.app))return Promise.reject(Qa(r));const i="reauthenticate";try{const s=await xm(e,nj(r,i,t,e),n);gt(s.idToken,r,"internal-error");const o=jP(s.idToken);gt(o,r,"internal-error");const{sub:a}=o;return gt(e.uid===a,r,"user-mismatch"),ed._forOperation(e,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&po(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(e,t,n=!1){if(rs(e.app))return Promise.reject(Qa(e));const r="signIn",i=await nj(e,r,t),s=await ed._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ise(e,t){return rj(Cd(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(e){const t=Cd(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function sse(e,t,n){if(rs(e.app))return Promise.reject(Qa(e));const r=Cd(e),o=await QT(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tse).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ij(e),l}),a=await ed._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ose(e,t,n){return rs(e.app)?Promise.reject(Qa(e)):ise(Dn(e),Gf.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ij(e),r})}function ase(e,t,n,r){return Dn(e).onIdTokenChanged(t,n,r)}function lse(e,t,n){return Dn(e).beforeAuthStateChanged(t,n)}function cse(e){return Dn(e).signOut()}const cb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cb,"1"),this.storage.removeItem(cb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const use=1e3,dse=10;class oj extends sj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Pie()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,dse):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},use)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}oj.type="LOCAL";const hse=oj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends sj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}aj.type="SESSION";const lj=aj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new FS(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await fse(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}FS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=KP("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return window}function gse(e){Zo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(){return typeof Zo().WorkerGlobalScope<"u"&&typeof Zo().importScripts=="function"}async function mse(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vse(){return navigator?.serviceWorker?.controller||null}function yse(){return cj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="firebaseLocalStorageDb",Cse=1,ub="firebaseLocalStorage",dj="fbase_key";class Ov{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function MS(e,t){return e.transaction([ub],t?"readwrite":"readonly").objectStore(ub)}function wse(){const e=indexedDB.deleteDatabase(uj);return new Ov(e).toPromise()}function ZT(){const e=indexedDB.open(uj,Cse);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(ub,{keyPath:dj})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(ub)?t(r):(r.close(),await wse(),t(await ZT()))})})}async function pN(e,t,n){const r=MS(e,!0).put({[dj]:t,value:n});return new Ov(r).toPromise()}async function bse(e,t){const n=MS(e,!1).get(t),r=await new Ov(n).toPromise();return r===void 0?null:r.value}function gN(e,t){const n=MS(e,!0).delete(t);return new Ov(n).toPromise()}const Sse=800,Ese=3;class hj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ZT(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Ese)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=FS._getInstance(yse()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mse(),!this.activeServiceWorker)return;this.sender=new pse(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ZT();return await pN(t,cb,"1"),await gN(t,cb),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pN(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>bse(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gN(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=MS(i,!1).getAll();return new Ov(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hj.type="LOCAL";const Rse=hj;new Mv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xse(e,t){return t?qa(t):(gt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP extends $P{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Uh(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Uh(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Uh(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Tse(e){return rj(e.auth,new YP(e),e.bypassAuthState)}function Dse(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),rse(n,new YP(e),e.bypassAuthState)}async function Ase(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),nse(n,new YP(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Tse;case"linkViaPopup":case"linkViaRedirect":return Ase;case"reauthViaPopup":case"reauthViaRedirect":return Dse;default:po(this.auth,"internal-error")}}resolve(t){sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse=new Mv(2e3,1e4);class Ih extends fj{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ih.currentPopupAction&&Ih.currentPopupAction.cancel(),Ih.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){sl(this.filter.length===1,"Popup operations only handle one event");const t=KP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ih.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Pse.get())};t()}}Ih.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise="pendingRedirect",yw=new Map;class Fse extends fj{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=yw.get(this.auth._key());if(!t){try{const r=await Mse(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}yw.set(this.auth._key(),t)}return this.bypassAuthState||yw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mse(e,t){const n=Ose(t),r=kse(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _se(e,t){yw.set(e._key(),t)}function kse(e){return qa(e._redirectPersistence)}function Ose(e){return vw(Ise,e.config.apiKey,e.name)}async function Lse(e,t,n=!1){if(rs(e.app))return Promise.reject(Qa(e));const r=Cd(e),i=xse(r,t),o=await new Fse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nse=600*1e3;class Vse{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Bse(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!pj(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Qo(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nse&&this.cachedEventUids.clear(),this.cachedEventUids.has(mN(t))}saveEventToCache(t){this.cachedEventUids.add(mN(t)),this.lastProcessedEventTime=Date.now()}}function mN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pj({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Bse(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pj(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hse(e,t={}){return Nc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zse=/^https?/;async function Use(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Hse(e);for(const n of t)try{if(jse(n))return}catch{}po(e,"unauthorized-domain")}function jse(e){const t=YT(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zse.test(n))return!1;if(Gse.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse=new Mv(3e4,6e4);function vN(){const e=Zo().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function $se(e){return new Promise((t,n)=>{function r(){vN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vN(),n(Qo(e,"network-request-failed"))},timeout:Wse.get()})}if(Zo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Zo().gapi?.load)r();else{const i=Vie("iframefcb");return Zo()[i]=()=>{gapi.load?r():n(Qo(e,"network-request-failed"))},Z4(`${Nie()}?onload=${i}`).catch(s=>n(s))}}).catch(t=>{throw Cw=null,t})}let Cw=null;function qse(e){return Cw=Cw||$se(e),Cw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kse=new Mv(5e3,15e3),Yse="__/auth/iframe",Xse="emulator/auth/iframe",Qse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jse(e){const t=e.config;gt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?UP(t,Xse):`https://${e.config.authDomain}/${Yse}`,r={apiKey:t.apiKey,appName:e.name,v:yd},i=Zse.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fv(r).slice(1)}`}async function eoe(e){const t=await qse(e),n=Zo().gapi;return gt(n,e,"internal-error"),t.open({where:document.body,url:Jse(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qse,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qo(e,"network-request-failed"),a=Zo().setTimeout(()=>{s(o)},Kse.get());function l(){Zo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const toe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},noe=500,roe=600,ioe="_blank",soe="http://localhost";class yN{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ooe(e,t,n,r=noe,i=roe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...toe,width:r.toString(),height:i.toString(),top:s,left:o},u=li().toLowerCase();n&&(a=W4(u)?ioe:n),U4(u)&&(t=t||soe,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,C])=>`${g}${v}=${C},`,"");if(Aie(u)&&a!=="_self")return aoe(t||"",a),new yN(null);const f=window.open(t||"",a,h);gt(f,e,"popup-blocked");try{f.focus()}catch{}return new yN(f)}function aoe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe="__/auth/handler",coe="emulator/auth/handler",uoe=encodeURIComponent("fac");async function CN(e,t,n,r,i,s){gt(e.config.authDomain,e,"auth-domain-config-required"),gt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yd,eventId:i};if(t instanceof tj){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Gne(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(t instanceof kv){const h=t.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await e._getAppCheckToken(),u=l?`#${uoe}=${encodeURIComponent(l)}`:"";return`${doe(e)}?${Fv(a).slice(1)}${u}`}function doe({config:e}){return e.emulator?UP(e,coe):`https://${e.authDomain}/${loe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="webStorageSupport";class hoe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lj,this._completeRedirectFn=Lse,this._overrideRedirectResult=_se}async _openPopup(t,n,r,i){sl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await CN(t,n,r,YT(),i);return ooe(t,s,KP())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await CN(t,n,r,YT(),i);return gse(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(sl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await eoe(t),r=new Vse(t);return n.register("authEvent",i=>(gt(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tx,{type:tx},i=>{const s=i?.[0]?.[tx];s!==void 0&&n(!!s),po(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Use(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return X4()||j4()||WP()}}const foe=hoe;var wN="@firebase/auth",bN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function moe(e){Zu(new wc("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;gt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q4(e)},u=new kie(r,i,s,l);return jie(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Zu(new wc("auth-internal",t=>{const n=Cd(t.getProvider("auth").getImmediate());return(r=>new poe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(wN,bN,goe(e)),Xo(wN,bN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=300,yoe=A4("authIdTokenMaxAge")||voe;let SN=null;const Coe=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yoe)return;const i=n?.token;SN!==i&&(SN=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function woe(e=GP()){const t=PS(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Uie(e,{popupRedirectResolver:foe,persistence:[Rse,hse,lj]}),r=A4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Coe(s.toString());lse(n,o,()=>o(n.currentUser)),ase(n,a=>o(a))}}const i=x4("auth");return i&&Wie(n,`http://${i}`),n}function boe(){return document.getElementsByTagName("head")?.[0]??document}Oie({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Qo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",boe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});moe("Browser");var EN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dc,gj;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,M){function N(){}N.prototype=M.prototype,_.D=M.prototype,_.prototype=new N,_.prototype.constructor=_,_.C=function(B,H,U){for(var G=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)G[ee-2]=arguments[ee];return M.prototype[H].apply(B,G)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,M,N){N||(N=0);var B=Array(16);if(typeof M=="string")for(var H=0;16>H;++H)B[H]=M.charCodeAt(N++)|M.charCodeAt(N++)<<8|M.charCodeAt(N++)<<16|M.charCodeAt(N++)<<24;else for(H=0;16>H;++H)B[H]=M[N++]|M[N++]<<8|M[N++]<<16|M[N++]<<24;M=_.g[0],N=_.g[1],H=_.g[2];var U=_.g[3],G=M+(U^N&(H^U))+B[0]+3614090360&4294967295;M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[1]+3905402710&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[2]+606105819&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[3]+3250441966&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(U^N&(H^U))+B[4]+4118548399&4294967295,M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[5]+1200080426&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[6]+2821735955&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[7]+4249261313&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(U^N&(H^U))+B[8]+1770035416&4294967295,M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[9]+2336552879&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[10]+4294925233&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[11]+2304563134&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(U^N&(H^U))+B[12]+1804603682&4294967295,M=N+(G<<7&4294967295|G>>>25),G=U+(H^M&(N^H))+B[13]+4254626195&4294967295,U=M+(G<<12&4294967295|G>>>20),G=H+(N^U&(M^N))+B[14]+2792965006&4294967295,H=U+(G<<17&4294967295|G>>>15),G=N+(M^H&(U^M))+B[15]+1236535329&4294967295,N=H+(G<<22&4294967295|G>>>10),G=M+(H^U&(N^H))+B[1]+4129170786&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[6]+3225465664&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[11]+643717713&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[0]+3921069994&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(H^U&(N^H))+B[5]+3593408605&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[10]+38016083&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[15]+3634488961&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[4]+3889429448&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(H^U&(N^H))+B[9]+568446438&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[14]+3275163606&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[3]+4107603335&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[8]+1163531501&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(H^U&(N^H))+B[13]+2850285829&4294967295,M=N+(G<<5&4294967295|G>>>27),G=U+(N^H&(M^N))+B[2]+4243563512&4294967295,U=M+(G<<9&4294967295|G>>>23),G=H+(M^N&(U^M))+B[7]+1735328473&4294967295,H=U+(G<<14&4294967295|G>>>18),G=N+(U^M&(H^U))+B[12]+2368359562&4294967295,N=H+(G<<20&4294967295|G>>>12),G=M+(N^H^U)+B[5]+4294588738&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[8]+2272392833&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[11]+1839030562&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[14]+4259657740&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(N^H^U)+B[1]+2763975236&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[4]+1272893353&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[7]+4139469664&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[10]+3200236656&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(N^H^U)+B[13]+681279174&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[0]+3936430074&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[3]+3572445317&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[6]+76029189&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(N^H^U)+B[9]+3654602809&4294967295,M=N+(G<<4&4294967295|G>>>28),G=U+(M^N^H)+B[12]+3873151461&4294967295,U=M+(G<<11&4294967295|G>>>21),G=H+(U^M^N)+B[15]+530742520&4294967295,H=U+(G<<16&4294967295|G>>>16),G=N+(H^U^M)+B[2]+3299628645&4294967295,N=H+(G<<23&4294967295|G>>>9),G=M+(H^(N|~U))+B[0]+4096336452&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[7]+1126891415&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[14]+2878612391&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[5]+4237533241&4294967295,N=H+(G<<21&4294967295|G>>>11),G=M+(H^(N|~U))+B[12]+1700485571&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[3]+2399980690&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[10]+4293915773&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[1]+2240044497&4294967295,N=H+(G<<21&4294967295|G>>>11),G=M+(H^(N|~U))+B[8]+1873313359&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[15]+4264355552&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[6]+2734768916&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[13]+1309151649&4294967295,N=H+(G<<21&4294967295|G>>>11),G=M+(H^(N|~U))+B[4]+4149444226&4294967295,M=N+(G<<6&4294967295|G>>>26),G=U+(N^(M|~H))+B[11]+3174756917&4294967295,U=M+(G<<10&4294967295|G>>>22),G=H+(M^(U|~N))+B[2]+718787259&4294967295,H=U+(G<<15&4294967295|G>>>17),G=N+(U^(H|~M))+B[9]+3951481745&4294967295,_.g[0]=_.g[0]+M&4294967295,_.g[1]=_.g[1]+(H+(G<<21&4294967295|G>>>11))&4294967295,_.g[2]=_.g[2]+H&4294967295,_.g[3]=_.g[3]+U&4294967295}r.prototype.u=function(_,M){M===void 0&&(M=_.length);for(var N=M-this.blockSize,B=this.B,H=this.h,U=0;U<M;){if(H==0)for(;U<=N;)i(this,_,U),U+=this.blockSize;if(typeof _=="string"){for(;U<M;)if(B[H++]=_.charCodeAt(U++),H==this.blockSize){i(this,B),H=0;break}}else for(;U<M;)if(B[H++]=_[U++],H==this.blockSize){i(this,B),H=0;break}}this.h=H,this.o+=M},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var M=1;M<_.length-8;++M)_[M]=0;var N=8*this.o;for(M=_.length-8;M<_.length;++M)_[M]=N&255,N/=256;for(this.u(_),_=Array(16),M=N=0;4>M;++M)for(var B=0;32>B;B+=8)_[N++]=this.g[M]>>>B&255;return _};function s(_,M){var N=a;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=M(_)}function o(_,M){this.h=M;for(var N=[],B=!0,H=_.length-1;0<=H;H--){var U=_[H]|0;B&&U==M||(N[H]=U,B=!1)}this.g=N}var a={};function l(_){return-128<=_&&128>_?s(_,function(M){return new o([M|0],0>M?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return R(u(-_));for(var M=[],N=1,B=0;_>=N;B++)M[B]=_/N|0,N*=4294967296;return new o(M,0)}function h(_,M){if(_.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(_.charAt(0)=="-")return R(h(_.substring(1),M));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(M,8)),B=f,H=0;H<_.length;H+=8){var U=Math.min(8,_.length-H),G=parseInt(_.substring(H,H+U),M);8>U?(U=u(Math.pow(M,U)),B=B.j(U).add(u(G))):(B=B.j(N),B=B.add(u(G)))}return B}var f=l(0),g=l(1),v=l(16777216);e=o.prototype,e.m=function(){if(S(this))return-R(this).m();for(var _=0,M=1,N=0;N<this.g.length;N++){var B=this.i(N);_+=(0<=B?B:4294967296+B)*M,M*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C(this))return"0";if(S(this))return"-"+R(this).toString(_);for(var M=u(Math.pow(_,6)),N=this,B="";;){var H=k(N,M).g;N=x(N,H.j(M));var U=((0<N.g.length?N.g[0]:N.h)>>>0).toString(_);if(N=H,C(N))return U+B;for(;6>U.length;)U="0"+U;B=U+B}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function C(_){if(_.h!=0)return!1;for(var M=0;M<_.g.length;M++)if(_.g[M]!=0)return!1;return!0}function S(_){return _.h==-1}e.l=function(_){return _=x(this,_),S(_)?-1:C(_)?0:1};function R(_){for(var M=_.g.length,N=[],B=0;B<M;B++)N[B]=~_.g[B];return new o(N,~_.h).add(g)}e.abs=function(){return S(this)?R(this):this},e.add=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0,H=0;H<=M;H++){var U=B+(this.i(H)&65535)+(_.i(H)&65535),G=(U>>>16)+(this.i(H)>>>16)+(_.i(H)>>>16);B=G>>>16,U&=65535,G&=65535,N[H]=G<<16|U}return new o(N,N[N.length-1]&-2147483648?-1:0)};function x(_,M){return _.add(R(M))}e.j=function(_){if(C(this)||C(_))return f;if(S(this))return S(_)?R(this).j(R(_)):R(R(this).j(_));if(S(_))return R(this.j(R(_)));if(0>this.l(v)&&0>_.l(v))return u(this.m()*_.m());for(var M=this.g.length+_.g.length,N=[],B=0;B<2*M;B++)N[B]=0;for(B=0;B<this.g.length;B++)for(var H=0;H<_.g.length;H++){var U=this.i(B)>>>16,G=this.i(B)&65535,ee=_.i(H)>>>16,ie=_.i(H)&65535;N[2*B+2*H]+=G*ie,D(N,2*B+2*H),N[2*B+2*H+1]+=U*ie,D(N,2*B+2*H+1),N[2*B+2*H+1]+=G*ee,D(N,2*B+2*H+1),N[2*B+2*H+2]+=U*ee,D(N,2*B+2*H+2)}for(B=0;B<M;B++)N[B]=N[2*B+1]<<16|N[2*B];for(B=M;B<2*M;B++)N[B]=0;return new o(N,0)};function D(_,M){for(;(_[M]&65535)!=_[M];)_[M+1]+=_[M]>>>16,_[M]&=65535,M++}function T(_,M){this.g=_,this.h=M}function k(_,M){if(C(M))throw Error("division by zero");if(C(_))return new T(f,f);if(S(_))return M=k(R(_),M),new T(R(M.g),R(M.h));if(S(M))return M=k(_,R(M)),new T(R(M.g),M.h);if(30<_.g.length){if(S(_)||S(M))throw Error("slowDivide_ only works with positive integers.");for(var N=g,B=M;0>=B.l(_);)N=O(N),B=O(B);var H=P(N,1),U=P(B,1);for(B=P(B,2),N=P(N,2);!C(B);){var G=U.add(B);0>=G.l(_)&&(H=H.add(N),U=G),B=P(B,1),N=P(N,1)}return M=x(_,H.j(M)),new T(H,M)}for(H=f;0<=_.l(M);){for(N=Math.max(1,Math.floor(_.m()/M.m())),B=Math.ceil(Math.log(N)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),U=u(N),G=U.j(M);S(G)||0<G.l(_);)N-=B,U=u(N),G=U.j(M);C(U)&&(U=g),H=H.add(U),_=x(_,G)}return new T(H,_)}e.A=function(_){return k(this,_).h},e.and=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0;B<M;B++)N[B]=this.i(B)&_.i(B);return new o(N,this.h&_.h)},e.or=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0;B<M;B++)N[B]=this.i(B)|_.i(B);return new o(N,this.h|_.h)},e.xor=function(_){for(var M=Math.max(this.g.length,_.g.length),N=[],B=0;B<M;B++)N[B]=this.i(B)^_.i(B);return new o(N,this.h^_.h)};function O(_){for(var M=_.g.length+1,N=[],B=0;B<M;B++)N[B]=_.i(B)<<1|_.i(B-1)>>>31;return new o(N,_.h)}function P(_,M){var N=M>>5;M%=32;for(var B=_.g.length-N,H=[],U=0;U<B;U++)H[U]=0<M?_.i(U+N)>>>M|_.i(U+N+1)<<32-M:_.i(U+N);return new o(H,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,dc=o}).apply(typeof EN<"u"?EN:typeof self<"u"?self:typeof window<"u"?window:{});var PC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mj,Mg,vj,ww,JT,yj,Cj,wj;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,A,L){return y==Array.prototype||y==Object.prototype||(y[A]=L.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof PC=="object"&&PC];for(var A=0;A<y.length;++A){var L=y[A];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var L=r;y=y.split(".");for(var W=0;W<y.length-1;W++){var ae=y[W];if(!(ae in L))break e;L=L[ae]}y=y[y.length-1],W=L[y],A=A(W),A!=W&&A!=null&&t(L,y,{configurable:!0,writable:!0,value:A})}}function s(y,A){y instanceof String&&(y+="");var L=0,W=!1,ae={next:function(){if(!W&&L<y.length){var ve=L++;return{value:A(ve,y[ve]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(y){return y||function(){return s(this,function(A,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(y){var A=typeof y;return A=A!="object"?A:y?Array.isArray(y)?"array":A:"null",A=="array"||A=="object"&&typeof y.length=="number"}function u(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function h(y,A,L){return y.call.apply(y.bind,arguments)}function f(y,A,L){if(!y)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,W),y.apply(A,ae)}}return function(){return y.apply(A,arguments)}}function g(y,A,L){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function v(y,A){var L=Array.prototype.slice.call(arguments,1);return function(){var W=L.slice();return W.push.apply(W,arguments),y.apply(this,W)}}function C(y,A){function L(){}L.prototype=A.prototype,y.aa=A.prototype,y.prototype=new L,y.prototype.constructor=y,y.Qb=function(W,ae,ve){for(var Me=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)Me[Gt-2]=arguments[Gt];return A.prototype[ae].apply(W,Me)}}function S(y){const A=y.length;if(0<A){const L=Array(A);for(let W=0;W<A;W++)L[W]=y[W];return L}return[]}function R(y,A){for(let L=1;L<arguments.length;L++){const W=arguments[L];if(l(W)){const ae=y.length||0,ve=W.length||0;y.length=ae+ve;for(let Me=0;Me<ve;Me++)y[ae+Me]=W[Me]}else y.push(W)}}class x{constructor(A,L){this.i=A,this.j=L,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function D(y){return/^[\s\xa0]*$/.test(y)}function T(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function k(y){return k[" "](y),y}k[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(y,A,L){for(const W in y)A.call(L,y[W],W,y)}function _(y,A){for(const L in y)A.call(void 0,y[L],L,y)}function M(y){const A={};for(const L in y)A[L]=y[L];return A}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(y,A){let L,W;for(let ae=1;ae<arguments.length;ae++){W=arguments[ae];for(L in W)y[L]=W[L];for(let ve=0;ve<N.length;ve++)L=N[ve],Object.prototype.hasOwnProperty.call(W,L)&&(y[L]=W[L])}}function H(y){var A=1;y=y.split(":");const L=[];for(;0<A&&y.length;)L.push(y.shift()),A--;return y.length&&L.push(y.join(":")),L}function U(y){a.setTimeout(()=>{throw y},0)}function G(){var y=pe;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class ee{constructor(){this.h=this.g=null}add(A,L){const W=ie.get();W.set(A,L),this.h?this.h.next=W:this.g=W,this.h=W}}var ie=new x(()=>new $,y=>y.reset());class ${constructor(){this.next=this.g=this.h=null}set(A,L){this.h=A,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,te=!1,pe=new ee,F=()=>{const y=a.Promise.resolve(void 0);Z=()=>{y.then(X)}};var X=()=>{for(var y;y=G();){try{y.h.call(y.g)}catch(L){U(L)}var A=ie;A.j(y),100>A.h&&(A.h++,y.next=A.g,A.g=y)}te=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const L=()=>{};a.addEventListener("test",L,A),a.removeEventListener("test",L,A)}catch{}return y}();function Ae(y,A){if(z.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var L=this.type=y.type,W=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget){if(O){e:{try{k(A.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(A=null)}}else L=="mouseover"?A=y.fromElement:L=="mouseout"&&(A=y.toElement);this.relatedTarget=A,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Te[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Ae.aa.h.call(this)}}C(Ae,z);var Te={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ue(y,A,L,W,ae){this.listener=y,this.proxy=null,this.src=A,this.type=L,this.capture=!!W,this.ha=ae,this.key=++Ke,this.da=this.fa=!1}function rt(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function dt(y){this.src=y,this.g={},this.h=0}dt.prototype.add=function(y,A,L,W,ae){var ve=y.toString();y=this.g[ve],y||(y=this.g[ve]=[],this.h++);var Me=Ot(y,A,W,ae);return-1<Me?(A=y[Me],L||(A.fa=!1)):(A=new Ue(A,this.src,ve,!!W,ae),A.fa=L,y.push(A)),A};function yt(y,A){var L=A.type;if(L in y.g){var W=y.g[L],ae=Array.prototype.indexOf.call(W,A,void 0),ve;(ve=0<=ae)&&Array.prototype.splice.call(W,ae,1),ve&&(rt(A),y.g[L].length==0&&(delete y.g[L],y.h--))}}function Ot(y,A,L,W){for(var ae=0;ae<y.length;++ae){var ve=y[ae];if(!ve.da&&ve.listener==A&&ve.capture==!!L&&ve.ha==W)return ae}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),Ne={};function Ze(y,A,L,W,ae){if(Array.isArray(A)){for(var ve=0;ve<A.length;ve++)Ze(y,A[ve],L,W,ae);return null}return L=Gn(L),y&&y[ut]?y.K(A,L,u(W)?!!W.capture:!1,ae):Ve(y,A,L,!1,W,ae)}function Ve(y,A,L,W,ae,ve){if(!A)throw Error("Invalid event type");var Me=u(ae)?!!ae.capture:!!ae,Gt=Mt(y);if(Gt||(y[Oe]=Gt=new dt(y)),L=Gt.add(A,L,W,Me,ve),L.proxy)return L;if(W=Je(),L.proxy=W,W.src=y,W.listener=L,y.addEventListener)ge||(ae=Me),ae===void 0&&(ae=!1),y.addEventListener(A.toString(),W,ae);else if(y.attachEvent)y.attachEvent(Et(A.toString()),W);else if(y.addListener&&y.removeListener)y.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Je(){function y(L){return A.call(y.src,y.listener,L)}const A=Rt;return y}function Tt(y,A,L,W,ae){if(Array.isArray(A))for(var ve=0;ve<A.length;ve++)Tt(y,A[ve],L,W,ae);else W=u(W)?!!W.capture:!!W,L=Gn(L),y&&y[ut]?(y=y.i,A=String(A).toString(),A in y.g&&(ve=y.g[A],L=Ot(ve,L,W,ae),-1<L&&(rt(ve[L]),Array.prototype.splice.call(ve,L,1),ve.length==0&&(delete y.g[A],y.h--)))):y&&(y=Mt(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Ot(A,L,W,ae)),(L=-1<y?A[y]:null)&&at(L))}function at(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[ut])yt(A.i,y);else{var L=y.type,W=y.proxy;A.removeEventListener?A.removeEventListener(L,W,y.capture):A.detachEvent?A.detachEvent(Et(L),W):A.addListener&&A.removeListener&&A.removeListener(W),(L=Mt(A))?(yt(L,y),L.h==0&&(L.src=null,A[Oe]=null)):rt(y)}}}function Et(y){return y in Ne?Ne[y]:Ne[y]="on"+y}function Rt(y,A){if(y.da)y=!0;else{A=new Ae(A,this);var L=y.listener,W=y.ha||y.src;y.fa&&at(y),y=L.call(W,A)}return y}function Mt(y){return y=y[Oe],y instanceof dt?y:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(y){return typeof y=="function"?y:(y[vn]||(y[vn]=function(A){return y.handleEvent(A)}),y[vn])}function ne(){re.call(this),this.i=new dt(this),this.M=this,this.F=null}C(ne,re),ne.prototype[ut]=!0,ne.prototype.removeEventListener=function(y,A,L,W){Tt(this,y,A,L,W)};function ye(y,A){var L,W=y.F;if(W)for(L=[];W;W=W.F)L.push(W);if(y=y.M,W=A.type||A,typeof A=="string")A=new z(A,y);else if(A instanceof z)A.target=A.target||y;else{var ae=A;A=new z(W,y),B(A,ae)}if(ae=!0,L)for(var ve=L.length-1;0<=ve;ve--){var Me=A.g=L[ve];ae=Ie(Me,W,!0,A)&&ae}if(Me=A.g=y,ae=Ie(Me,W,!0,A)&&ae,ae=Ie(Me,W,!1,A)&&ae,L)for(ve=0;ve<L.length;ve++)Me=A.g=L[ve],ae=Ie(Me,W,!1,A)&&ae}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var y=this.i,A;for(A in y.g){for(var L=y.g[A],W=0;W<L.length;W++)rt(L[W]);delete y.g[A],y.h--}}this.F=null},ne.prototype.K=function(y,A,L,W){return this.i.add(String(y),A,!1,L,W)},ne.prototype.L=function(y,A,L,W){return this.i.add(String(y),A,!0,L,W)};function Ie(y,A,L,W){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();for(var ae=!0,ve=0;ve<A.length;++ve){var Me=A[ve];if(Me&&!Me.da&&Me.capture==L){var Gt=Me.listener,yr=Me.ha||Me.src;Me.fa&&yt(y.i,Me),ae=Gt.call(yr,W)!==!1&&ae}}return ae&&!W.defaultPrevented}function Be(y,A,L){if(typeof y=="function")L&&(y=g(y,L));else if(y&&typeof y.handleEvent=="function")y=g(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(y,A||0)}function Lt(y){y.g=Be(()=>{y.g=null,y.i&&(y.i=!1,Lt(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class An extends re{constructor(A,L){super(),this.m=A,this.l=L,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(y){re.call(this),this.h=y,this.g={}}C(Rr,re);var ir=[];function ei(y){P(y.g,function(A,L){this.g.hasOwnProperty(L)&&at(A)},y),y.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),ei(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=a.JSON.stringify,_n=a.JSON.parse,vr=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function xr(){}xr.prototype.h=null;function Ca(y){return y.h||(y.h=y.i())}function Wc(){}var ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Js(){z.call(this,"d")}C(Js,z);function vl(){z.call(this,"c")}C(vl,z);var hi={},wo=null;function bo(){return wo=wo||new ne}hi.La="serverreachability";function yl(y){z.call(this,hi.La,y)}C(yl,z);function Y(y){const A=bo();ye(A,new yl(A))}hi.STAT_EVENT="statevent";function oe(y,A){z.call(this,hi.STAT_EVENT,y),this.stat=A}C(oe,z);function ue(y){const A=bo();ye(A,new oe(A,y))}hi.Ma="timingevent";function Ee(y,A){z.call(this,hi.Ma,y),this.size=A}C(Ee,z);function De(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},A)}function He(){this.g=!0}He.prototype.xa=function(){this.g=!1};function Ye(y,A,L,W,ae,ve){y.info(function(){if(y.g)if(ve)for(var Me="",Gt=ve.split("&"),yr=0;yr<Gt.length;yr++){var zt=Gt[yr].split("=");if(1<zt.length){var Ar=zt[0];zt=zt[1];var Cr=Ar.split("_");Me=2<=Cr.length&&Cr[1]=="type"?Me+(Ar+"="+zt+"&"):Me+(Ar+"=redacted&")}}else Me=null;else Me=ve;return"XMLHTTP REQ ("+W+") [attempt "+ae+"]: "+A+`
`+L+`
`+Me})}function je(y,A,L,W,ae,ve,Me){y.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ae+"]: "+A+`
`+L+`
`+ve+" "+Me})}function We(y,A,L,W){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+$e(y,L)+(W?" "+W:"")})}function st(y,A){y.info(function(){return"TIMEOUT: "+A})}He.prototype.info=function(){};function $e(y,A){if(!y.g)return A;if(!A)return null;try{var L=JSON.parse(A);if(L){for(y=0;y<L.length;y++)if(Array.isArray(L[y])){var W=L[y];if(!(2>W.length)){var ae=W[1];if(Array.isArray(ae)&&!(1>ae.length)){var ve=ae[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(var Me=1;Me<ae.length;Me++)ae[Me]=""}}}}return mr(L)}catch{return A}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qt;function yn(){}C(yn,xr),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},qt=new yn;function Xt(y,A,L,W){this.j=y,this.i=A,this.l=L,this.R=W||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Qt={},Ai={};function Br(y,A,L){y.L=1,y.v=Kc(qi(A)),y.m=L,y.P=!0,Tr(y,null)}function Tr(y,A){y.F=Date.now(),Wi(y),y.A=qi(y.v);var L=y.A,W=y.R;Array.isArray(W)||(W=[String(W)]),hp(L.i,"t",W),y.C=0,L=y.j.J,y.h=new St,y.g=yy(y.j,L?A:null,!y.m),0<y.O&&(y.M=new An(g(y.Y,y,y.g),y.O)),A=y.U,L=y.g,W=y.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ir[0]=ae.toString()),ae=ir);for(var ve=0;ve<ae.length;ve++){var Me=Ze(L,ae[ve],W||A.handleEvent,!1,A.h||A);if(!Me)break;A.g[Me.key]=Me}A=y.H?M(y.H):{},y.m?(y.u||(y.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,A)):(y.u="GET",y.g.ea(y.A,y.u,null,A)),Y(),Ye(y.i,y.u,y.A,y.l,y.R,y.m)}Xt.prototype.ca=function(y){y=y.target;const A=this.M;A&&Es(y)==3?A.j():this.Y(y)},Xt.prototype.Y=function(y){try{if(y==this.g)e:{const Cr=Es(this.g);var A=this.g.Ba();const Da=this.g.Z();if(!(3>Cr)&&(Cr!=3||this.g&&(this.h.h||this.g.oa()||uy(this.g)))){this.J||Cr!=4||A==7||(A==8||0>=Da?Y(3):Y(2)),$i(this);var L=this.g.Z();this.X=L;t:if(fi(this)){var W=uy(this.g);y="";var ae=W.length,ve=Es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wt(this),pi(this);var Me="";break t}this.h.i=new a.TextDecoder}for(A=0;A<ae;A++)this.h.h=!0,y+=this.h.i.decode(W[A],{stream:!(ve&&A==ae-1)});W.length=0,this.h.g+=y,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=L==200,je(this.i,this.u,this.A,this.l,this.R,Cr,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,yr=this.g;if((Gt=yr.g?yr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Gt)){var zt=Gt;break t}}zt=null}if(L=zt)We(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pn(this,L);else{this.o=!1,this.s=3,ue(12),wt(this),pi(this);break e}}if(this.P){L=!0;let Hr;for(;!this.J&&this.C<Me.length;)if(Hr=Cl(this,Me),Hr==Ai){Cr==4&&(this.s=4,ue(14),L=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(Hr==Qt){this.s=4,ue(15),We(this.i,this.l,Me,"[Invalid Chunk]"),L=!1;break}else We(this.i,this.l,Hr,null),Pn(this,Hr);if(fi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cr!=4||Me.length!=0||this.h.h||(this.s=1,ue(16),L=!1),this.o=this.o&&L,!L)We(this.i,this.l,Me,"[Invalid Chunked Response]"),wt(this),pi(this);else if(0<Me.length&&!this.W){this.W=!0;var Ar=this.j;Ar.g==this&&Ar.ba&&!Ar.M&&(Ar.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),nu(Ar),Ar.M=!0,ue(11))}}else We(this.i,this.l,Me,null),Pn(this,Me);Cr==4&&wt(this),this.o&&!this.J&&(Cr==4?gy(this.j,this):(this.o=!1,Wi(this)))}else LE(this.g),L==400&&0<Me.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),wt(this),pi(this)}}}catch{}finally{}};function fi(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Cl(y,A){var L=y.C,W=A.indexOf(`
`,L);return W==-1?Ai:(L=Number(A.substring(L,W)),isNaN(L)?Qt:(W+=1,W+L>A.length?Ai:(A=A.slice(W,W+L),y.C=W+L,A)))}Xt.prototype.cancel=function(){this.J=!0,wt(this)};function Wi(y){y.S=Date.now()+y.I,Cs(y,y.I)}function Cs(y,A){if(y.B!=null)throw Error("WatchDog timer not null");y.B=De(g(y.ba,y),A)}function $i(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Xt.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(st(this.i,this.A),this.L!=2&&(Y(),ue(17)),wt(this),this.s=2,pi(this)):Cs(this,this.S-y)};function pi(y){y.j.G==0||y.J||gy(y.j,y)}function wt(y){$i(y);var A=y.M;A&&typeof A.ma=="function"&&A.ma(),y.M=null,ei(y.U),y.g&&(A=y.g,y.g=null,A.abort(),A.ma())}function Pn(y,A){try{var L=y.j;if(L.G!=0&&(L.g==y||wl(L.h,y))){if(!y.K&&wl(L.h,y)&&L.G==3){try{var W=L.Da.g.parse(A)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ae=W;if(ae[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<y.F)Bd(L),Nd(L);else break e;vp(L),ue(18)}}else L.za=ae[1],0<L.za-L.T&&37500>ae[2]&&L.F&&L.v==0&&!L.C&&(L.C=De(g(L.Za,L),6e3));if(1>=eo(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Ta(L,11)}else if((y.K||L.g==y)&&Bd(L),!D(A))for(ae=L.Da.g.parse(A),A=0;A<ae.length;A++){let zt=ae[A];if(L.T=zt[0],zt=zt[1],L.G==2)if(zt[0]=="c"){L.K=zt[1],L.ia=zt[2];const Ar=zt[3];Ar!=null&&(L.la=Ar,L.j.info("VER="+L.la));const Cr=zt[4];Cr!=null&&(L.Aa=Cr,L.j.info("SVER="+L.Aa));const Da=zt[5];Da!=null&&typeof Da=="number"&&0<Da&&(W=1.5*Da,L.L=W,L.j.info("backChannelRequestTimeoutMs_="+W)),W=L;const Hr=y.g;if(Hr){const Ao=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ao){var ve=W.h;ve.g||Ao.indexOf("spdy")==-1&&Ao.indexOf("quic")==-1&&Ao.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(bl(ve,ve.h),ve.h=null))}if(W.D){const Cp=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cp&&(W.ya=Cp,dn(W.I,W.D,Cp))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-y.F,L.j.info("Handshake RTT: "+L.R+"ms")),W=L;var Me=y;if(W.qa=vy(W,W.J?W.ia:null,W.W),Me.K){mi(W.h,Me);var Gt=Me,yr=W.L;yr&&(Gt.I=yr),Gt.B&&($i(Gt),Wi(Gt)),W.g=Me}else fy(W);0<L.i.length&&Vd(L)}else zt[0]!="stop"&&zt[0]!="close"||Ta(L,7);else L.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Ta(L,7):gp(L):zt[0]!="noop"&&L.l&&L.l.ta(zt),L.v=0)}}Y(4)}catch{}}var wa=class{constructor(y,A){this.g=y,this.map=A}};function gi(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function eo(y){return y.h?1:y.g?y.g.size:0}function wl(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function bl(y,A){y.g?y.g.add(A):y.h=A}function mi(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}gi.prototype.cancel=function(){if(this.i=lp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function lp(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const L of y.g.values())A=A.concat(L.D);return A}return S(y.i)}function ME(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var A=[],L=y.length,W=0;W<L;W++)A.push(y[W]);return A}A=[],L=0;for(W in y)A[L++]=y[W];return A}function Fd(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var A=[];y=y.length;for(var L=0;L<y;L++)A.push(L);return A}A=[],L=0;for(const W in y)A[L++]=W;return A}}}function cp(y,A){if(y.forEach&&typeof y.forEach=="function")y.forEach(A,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,A,void 0);else for(var L=Fd(y),W=ME(y),ae=W.length,ve=0;ve<ae;ve++)A.call(void 0,W[ve],L&&L[ve],y)}var $c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _E(y,A){if(y){y=y.split("&");for(var L=0;L<y.length;L++){var W=y[L].indexOf("="),ae=null;if(0<=W){var ve=y[L].substring(0,W);ae=y[L].substring(W+1)}else ve=y[L];A(ve,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function sr(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof sr){this.h=y.h,qc(this,y.j),this.o=y.o,this.g=y.g,Sl(this,y.s),this.l=y.l;var A=y.i,L=new Sa;L.i=A.i,A.g&&(L.g=new Map(A.g),L.h=A.h),ba(this,L),this.m=y.m}else y&&(A=String(y).match($c))?(this.h=!1,qc(this,A[1]||"",!0),this.o=ws(A[2]||""),this.g=ws(A[3]||"",!0),Sl(this,A[4]),this.l=ws(A[5]||"",!0),ba(this,A[6]||"",!0),this.m=ws(A[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}sr.prototype.toString=function(){var y=[],A=this.j;A&&y.push(Yc(A,up,!0),":");var L=this.g;return(L||A=="file")&&(y.push("//"),(A=this.o)&&y.push(Yc(A,up,!0),"@"),y.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&y.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&y.push("/"),y.push(Yc(L,L.charAt(0)=="/"?kE:dp,!0))),(L=this.i.toString())&&y.push("?",L),(L=this.m)&&y.push("#",Yc(L,Md)),y.join("")};function qi(y){return new sr(y)}function qc(y,A,L){y.j=L?ws(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function Sl(y,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);y.s=A}else y.s=null}function ba(y,A,L){A instanceof Sa?(y.i=A,ly(y.i,y.h)):(L||(A=Yc(A,OE)),y.i=new Sa(A,y.h))}function dn(y,A,L){y.i.set(A,L)}function Kc(y){return dn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function ws(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Yc(y,A,L){return typeof y=="string"?(y=encodeURI(y).replace(A,ay),L&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ay(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var up=/[#\/\?@]/g,dp=/[#\?:]/g,kE=/[#\?]/g,OE=/[#\?@]/g,Md=/#/g;function Sa(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function bs(y){y.g||(y.g=new Map,y.h=0,y.i&&_E(y.i,function(A,L){y.add(decodeURIComponent(A.replace(/\+/g," ")),L)}))}e=Sa.prototype,e.add=function(y,A){bs(this),this.i=null,y=So(this,y);var L=this.g.get(y);return L||this.g.set(y,L=[]),L.push(A),this.h+=1,this};function Ea(y,A){bs(y),A=So(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function Ra(y,A){return bs(y),A=So(y,A),y.g.has(A)}e.forEach=function(y,A){bs(this),this.g.forEach(function(L,W){L.forEach(function(ae){y.call(A,ae,W,this)},this)},this)},e.na=function(){bs(this);const y=Array.from(this.g.values()),A=Array.from(this.g.keys()),L=[];for(let W=0;W<A.length;W++){const ae=y[W];for(let ve=0;ve<ae.length;ve++)L.push(A[W])}return L},e.V=function(y){bs(this);let A=[];if(typeof y=="string")Ra(this,y)&&(A=A.concat(this.g.get(So(this,y))));else{y=Array.from(this.g.values());for(let L=0;L<y.length;L++)A=A.concat(y[L])}return A},e.set=function(y,A){return bs(this),this.i=null,y=So(this,y),Ra(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},e.get=function(y,A){return y?(y=this.V(y),0<y.length?String(y[0]):A):A};function hp(y,A,L){Ea(y,A),0<L.length&&(y.i=null,y.g.set(So(y,A),S(L)),y.h+=L.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(var L=0;L<A.length;L++){var W=A[L];const ve=encodeURIComponent(String(W)),Me=this.V(W);for(W=0;W<Me.length;W++){var ae=ve;Me[W]!==""&&(ae+="="+encodeURIComponent(String(Me[W]))),y.push(ae)}}return this.i=y.join("&")};function So(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function ly(y,A){A&&!y.j&&(bs(y),y.i=null,y.g.forEach(function(L,W){var ae=W.toLowerCase();W!=ae&&(Ea(this,W),hp(this,ae,L))},y)),y.j=A}function Xc(y,A){const L=new He;if(a.Image){const W=new Image;W.onload=v(Ss,L,"TestLoadImage: loaded",!0,A,W),W.onerror=v(Ss,L,"TestLoadImage: error",!1,A,W),W.onabort=v(Ss,L,"TestLoadImage: abort",!1,A,W),W.ontimeout=v(Ss,L,"TestLoadImage: timeout",!1,A,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=y}else A(!1)}function to(y,A){const L=new He,W=new AbortController,ae=setTimeout(()=>{W.abort(),Ss(L,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:W.signal}).then(ve=>{clearTimeout(ae),ve.ok?Ss(L,"TestPingServer: ok",!0,A):Ss(L,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(ae),Ss(L,"TestPingServer: error",!1,A)})}function Ss(y,A,L,W,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),W(L)}catch{}}function Qc(){this.g=new vr}function Eo(y,A,L){const W=L||"";try{cp(y,function(ae,ve){let Me=ae;u(ae)&&(Me=mr(ae)),A.push(W+ve+"="+encodeURIComponent(Me))})}catch(ae){throw A.push(W+"type="+encodeURIComponent("_badmap")),ae}}function El(y){this.l=y.Ub||null,this.j=y.eb||!1}C(El,xr),El.prototype.g=function(){return new xa(this.l,this.j)},El.prototype.i=function(y){return function(){return y}}({});function xa(y,A){ne.call(this),this.D=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(xa,ne),e=xa.prototype,e.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=A,this.readyState=1,xo(this)},e.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(A.body=y),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},e.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fp(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function fp(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}e.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?Ro(this):xo(this),this.readyState==3&&fp(this)}},e.Ra=function(y){this.g&&(this.response=this.responseText=y,Ro(this))},e.Qa=function(y){this.g&&(this.response=y,Ro(this))},e.ga=function(){this.g&&Ro(this)};function Ro(y){y.readyState=4,y.l=null,y.j=null,y.v=null,xo(y)}e.setRequestHeader=function(y,A){this.u.append(y,A)},e.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var L=A.next();!L.done;)L=L.value,y.push(L[0]+": "+L[1]),L=A.next();return y.join(`\r
`)};function xo(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function pp(y){let A="";return P(y,function(L,W){A+=W,A+=":",A+=L,A+=`\r
`}),A}function Dr(y,A,L){e:{for(W in L){var W=!1;break e}W=!0}W||(L=pp(L),typeof y=="string"?L!=null&&encodeURIComponent(String(L)):dn(y,A,L))}function nn(y){ne.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nn,ne);var _d=/^https?$/i,Zc=["POST","PUT"];e=nn.prototype,e.Ha=function(y){this.J=y},e.ea=function(y,A,L,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qt.g(),this.v=this.o?Ca(this.o):Ca(qt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(ve){cy(this,ve);return}if(y=L||"",L=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ae in W)L.set(ae,W[ae]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const ve of W.keys())L.set(ve,W.get(ve));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(L.keys()).find(ve=>ve.toLowerCase()=="content-type"),ae=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Zc,A,void 0))||W||ae||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,Me]of L)this.g.setRequestHeader(ve,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jc(this),this.u=!0,this.g.send(y),this.u=!1}catch(ve){cy(this,ve)}};function cy(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.m=5,kd(y),To(y)}function kd(y){y.A||(y.A=!0,ye(y,"complete"),ye(y,"error"))}e.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ye(this,"complete"),ye(this,"abort"),To(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),nn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Od(this):this.bb())},e.bb=function(){Od(this)};function Od(y){if(y.h&&typeof o<"u"&&(!y.v[1]||Es(y)!=4||y.Z()!=2)){if(y.u&&Es(y)==4)Be(y.Ea,0,y);else if(ye(y,"readystatechange"),Es(y)==4){y.h=!1;try{const Me=y.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var L;if(!(L=A)){var W;if(W=Me===0){var ae=String(y.D).match($c)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),W=!_d.test(ae?ae.toLowerCase():"")}L=W}if(L)ye(y,"complete"),ye(y,"success");else{y.m=6;try{var ve=2<Es(y)?y.g.statusText:""}catch{ve=""}y.l=ve+" ["+y.Z()+"]",kd(y)}}finally{To(y)}}}}function To(y,A){if(y.g){Jc(y);const L=y.g,W=y.v[0]?()=>{}:null;y.g=null,y.v=null,A||ye(y,"ready");try{L.onreadystatechange=W}catch{}}}function Jc(y){y.I&&(a.clearTimeout(y.I),y.I=null)}e.isActive=function(){return!!this.g};function Es(y){return y.g?y.g.readyState:0}e.Z=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),_n(A)}};function uy(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function LE(y){const A={};y=(y.g&&2<=Es(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<y.length;W++){if(D(y[W]))continue;var L=H(y[W]);const ae=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const ve=A[ae]||[];A[ae]=ve,ve.push(L)}_(A,function(W){return W.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function eu(y,A,L){return L&&L.internalChannelParams&&L.internalChannelParams[y]||A}function Ld(y){this.Aa=0,this.i=[],this.j=new He,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=eu("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=eu("baseRetryDelayMs",5e3,y),this.cb=eu("retryDelaySeedMs",1e4,y),this.Wa=eu("forwardChannelMaxRetries",2,y),this.wa=eu("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(y&&y.concurrentRequestLimit),this.Da=new Qc,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ld.prototype,e.la=8,e.G=1,e.connect=function(y,A,L,W){ue(0),this.W=y,this.H=A||{},L&&W!==void 0&&(this.H.OSID=L,this.H.OAID=W),this.F=this.X,this.I=vy(this,null,this.W),Vd(this)};function gp(y){if(dy(y),y.G==3){var A=y.U++,L=qi(y.I);if(dn(L,"SID",y.K),dn(L,"RID",A),dn(L,"TYPE","terminate"),tu(y,L),A=new Xt(y,y.j,A),A.L=2,A.v=Kc(qi(L)),L=!1,a.navigator&&a.navigator.sendBeacon)try{L=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!L&&a.Image&&(new Image().src=A.v,L=!0),L||(A.g=yy(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Wi(A)}my(y)}function Nd(y){y.g&&(nu(y),y.g.cancel(),y.g=null)}function dy(y){Nd(y),y.u&&(a.clearTimeout(y.u),y.u=null),Bd(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function Vd(y){if(!wn(y.h)&&!y.s){y.s=!0;var A=y.Ga;Z||F(),te||(Z(),te=!0),pe.add(A,y),y.B=0}}function NE(y,A){return eo(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=A.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=De(g(y.Ga,y,A),yp(y,y.B)),y.B++,!0)}e.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ae=new Xt(this,this.j,y);let ve=this.o;if(this.S&&(ve?(ve=M(ve),B(ve,this.S)):ve=this.S),this.m!==null||this.O||(ae.H=ve,ve=null),this.P)e:{for(var A=0,L=0;L<this.i.length;L++){t:{var W=this.i[L];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(A+=W,4096<A){A=L;break e}if(A===4096||L===this.i.length-1){A=L+1;break e}}A=1e3}else A=1e3;A=hy(this,ae,A),L=qi(this.I),dn(L,"RID",y),dn(L,"CVER",22),this.D&&dn(L,"X-HTTP-Session-Id",this.D),tu(this,L),ve&&(this.O?A="headers="+encodeURIComponent(String(pp(ve)))+"&"+A:this.m&&Dr(L,this.m,ve)),bl(this.h,ae),this.Ua&&dn(L,"TYPE","init"),this.P?(dn(L,"$req",A),dn(L,"SID","null"),ae.T=!0,Br(ae,L,null)):Br(ae,L,A),this.G=2}}else this.G==3&&(y?mp(this,y):this.i.length==0||wn(this.h)||mp(this))};function mp(y,A){var L;A?L=A.l:L=y.U++;const W=qi(y.I);dn(W,"SID",y.K),dn(W,"RID",L),dn(W,"AID",y.T),tu(y,W),y.m&&y.o&&Dr(W,y.m,y.o),L=new Xt(y,y.j,L,y.B+1),y.m===null&&(L.H=y.o),A&&(y.i=A.D.concat(y.i)),A=hy(y,L,1e3),L.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),bl(y.h,L),Br(L,W,A)}function tu(y,A){y.H&&P(y.H,function(L,W){dn(A,W,L)}),y.l&&cp({},function(L,W){dn(A,W,L)})}function hy(y,A,L){L=Math.min(y.i.length,L);var W=y.l?g(y.l.Na,y.l,y):null;e:{var ae=y.i;let ve=-1;for(;;){const Me=["count="+L];ve==-1?0<L?(ve=ae[0].g,Me.push("ofs="+ve)):ve=0:Me.push("ofs="+ve);let Gt=!0;for(let yr=0;yr<L;yr++){let zt=ae[yr].g;const Ar=ae[yr].map;if(zt-=ve,0>zt)ve=Math.max(0,ae[yr].g-100),Gt=!1;else try{Eo(Ar,Me,"req"+zt+"_")}catch{W&&W(Ar)}}if(Gt){W=Me.join("&");break e}}}return y=y.i.splice(0,L),A.D=y,W}function fy(y){if(!y.g&&!y.u){y.Y=1;var A=y.Fa;Z||F(),te||(Z(),te=!0),pe.add(A,y),y.v=0}}function vp(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=De(g(y.Fa,y),yp(y,y.v)),y.v++,!0)}e.Fa=function(){if(this.u=null,py(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=De(g(this.ab,this),y)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Nd(this),py(this))};function nu(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function py(y){y.g=new Xt(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var A=qi(y.qa);dn(A,"RID","rpc"),dn(A,"SID",y.K),dn(A,"AID",y.T),dn(A,"CI",y.F?"0":"1"),!y.F&&y.ja&&dn(A,"TO",y.ja),dn(A,"TYPE","xmlhttp"),tu(y,A),y.m&&y.o&&Dr(A,y.m,y.o),y.L&&(y.g.I=y.L);var L=y.g;y=y.ia,L.L=1,L.v=Kc(qi(A)),L.m=null,L.P=!0,Tr(L,y)}e.Za=function(){this.C!=null&&(this.C=null,Nd(this),vp(this),ue(19))};function Bd(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function gy(y,A){var L=null;if(y.g==A){Bd(y),nu(y),y.g=null;var W=2}else if(wl(y.h,A))L=A.D,mi(y.h,A),W=1;else return;if(y.G!=0){if(A.o)if(W==1){L=A.m?A.m.length:0,A=Date.now()-A.F;var ae=y.B;W=bo(),ye(W,new Ee(W,L)),Vd(y)}else fy(y);else if(ae=A.s,ae==3||ae==0&&0<A.X||!(W==1&&NE(y,A)||W==2&&vp(y)))switch(L&&0<L.length&&(A=y.h,A.i=A.i.concat(L)),ae){case 1:Ta(y,5);break;case 4:Ta(y,10);break;case 3:Ta(y,6);break;default:Ta(y,2)}}}function yp(y,A){let L=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(L*=2),L*A}function Ta(y,A){if(y.j.info("Error code "+A),A==2){var L=g(y.fb,y),W=y.Xa;const ae=!W;W=new sr(W||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(W,"https"),Kc(W),ae?Xc(W.toString(),L):to(W.toString(),L)}else ue(2);y.G=0,y.l&&y.l.sa(A),my(y),dy(y)}e.fb=function(y){y?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function my(y){if(y.G=0,y.ka=[],y.l){const A=lp(y.h);(A.length!=0||y.i.length!=0)&&(R(y.ka,A),R(y.ka,y.i),y.h.i.length=0,S(y.i),y.i.length=0),y.l.ra()}}function vy(y,A,L){var W=L instanceof sr?qi(L):new sr(L);if(W.g!="")A&&(W.g=A+"."+W.g),Sl(W,W.s);else{var ae=a.location;W=ae.protocol,A=A?A+"."+ae.hostname:ae.hostname,ae=+ae.port;var ve=new sr(null);W&&qc(ve,W),A&&(ve.g=A),ae&&Sl(ve,ae),L&&(ve.l=L),W=ve}return L=y.D,A=y.ya,L&&A&&dn(W,L,A),dn(W,"VER",y.la),tu(y,W),W}function yy(y,A,L){if(A&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Ca&&!y.pa?new nn(new El({eb:L})):new nn(y.pa),A.Ha(y.J),A}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cy(){}e=Cy.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Hd(){}Hd.prototype.g=function(y,A){return new vi(y,A)};function vi(y,A){ne.call(this),this.g=new Ld(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(y?y["X-WebChannel-Client-Profile"]=A.va:y={"X-WebChannel-Client-Profile":A.va}),this.g.S=y,(y=A&&A.Sb)&&!D(y)&&(this.g.m=y),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!D(A)&&(this.g.D=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new Do(this)}C(vi,ne),vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){gp(this.g)},vi.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var L={};L.__data__=y,y=L}else this.u&&(L={},L.__data__=mr(y),y=L);A.i.push(new wa(A.Ya++,y)),A.G==3&&Vd(A)},vi.prototype.N=function(){this.g.l=null,delete this.j,gp(this.g),delete this.g,vi.aa.N.call(this)};function wy(y){Js.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const L in A){y=L;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}C(wy,Js);function by(){vl.call(this),this.status=1}C(by,vl);function Do(y){this.g=y}C(Do,Cy),Do.prototype.ua=function(){ye(this.g,"a")},Do.prototype.ta=function(y){ye(this.g,new wy(y))},Do.prototype.sa=function(y){ye(this.g,new by)},Do.prototype.ra=function(){ye(this.g,"b")},Hd.prototype.createWebChannel=Hd.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,wj=function(){return new Hd},Cj=function(){return bo()},yj=hi,JT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,ww=qe,xt.COMPLETE="complete",vj=xt,Wc.EventType=ys,ys.OPEN="a",ys.CLOSE="b",ys.ERROR="c",ys.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Mg=Wc,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,mj=nn}).apply(typeof PC<"u"?PC:typeof self<"u"?self:typeof window<"u"?window:{});const RN="@firebase/firestore",xN="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new BP("@firebase/firestore");function Rh(){return td.logLevel}function Ge(e,...t){if(td.logLevel<=Nt.DEBUG){const n=t.map(XP);td.debug(`Firestore (${zf}): ${e}`,...n)}}function ol(e,...t){if(td.logLevel<=Nt.ERROR){const n=t.map(XP);td.error(`Firestore (${zf}): ${e}`,...n)}}function gf(e,...t){if(td.logLevel<=Nt.WARN){const n=t.map(XP);td.warn(`Firestore (${zf}): ${e}`,...n)}}function XP(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,bj(e,r,n)}function bj(e,t,n){let r=`FIRESTORE (${zf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ol(r),new Error(r)}function $t(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||bj(t,i,r)}function bt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends vo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Soe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(si.UNAUTHENTICATED))}shutdown(){}}class Eoe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Roe{constructor(t){this.t=t,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jo,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jo)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new Sj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new si(t)}}class xoe{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=si.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Toe{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new xoe(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Doe{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TN(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Aoe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function Vt(e,t){return e<t?-1:e>t?1:0}function eD(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return nx(i)===nx(s)?Vt(i,s):nx(i)?1:-1}return Vt(e.length,t.length)}const Poe=55296,Ioe=57343;function nx(e){const t=e.charCodeAt(0);return t>=Poe&&t<=Ioe}function mf(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="__name__";class No{constructor(t,n,r){n===void 0?n=0:n>t.length&&ot(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&ot(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return No.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof No?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=No.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return Vt(t.length,n.length)}static compareSegments(t,n){const r=No.isNumericId(t),i=No.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?No.extractNumericId(t).compare(No.extractNumericId(n)):eD(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dc.fromString(t.substring(4,t.length-2))}}class gn extends No{construct(t,n,r){return new gn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Le(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new gn(n)}static emptyPath(){return new gn([])}}const Foe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends No{construct(t,n,r){return new Kr(t,n,r)}static isValidIdentifier(t){return Foe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DN}static keyField(){return new Kr([DN])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Le(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Le(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Le(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Le(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kr(n)}static emptyPath(){return new Kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.path=t}static fromPath(t){return new it(gn.fromString(t))}static fromName(t){return new it(gn.fromString(t).popFirst(5))}static empty(){return new it(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&gn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return gn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new gn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(e,t,n){if(!n)throw new Le(we.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Moe(e,t,n,r){if(t===!0&&r===!0)throw new Le(we.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function AN(e){if(!it.isDocumentKey(e))throw new Le(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function PN(e){if(it.isDocumentKey(e))throw new Le(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Rj(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function _S(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ot(12329,{type:typeof e})}function Ti(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Le(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_S(e);throw new Le(we.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e,t){const n={typeString:e};return t&&(n.value=t),n}function Lv(e,t){if(!Rj(e))throw new Le(we.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Le(we.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=-62135596800,FN=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(t){return xn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*FN);return new xn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<IN)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FN}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lv(t,xn._jsonSchema))return new xn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-IN;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xn._jsonSchemaVersion="firestore/timestamp/1.0",xn._jsonSchema={type:gr("string",xn._jsonSchemaVersion),seconds:gr("number"),nanoseconds:gr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new xn(0,0))}static max(){return new pt(new xn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function _oe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new bc(i,it.empty(),t)}function koe(e){return new bc(e.readTime,e.key,Dm)}class bc{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new bc(pt.min(),it.empty(),Dm)}static max(){return new bc(pt.max(),it.empty(),Dm)}}function Ooe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=it.comparator(e.documentKey,t.documentKey),n!==0?n:Vt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Noe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(e){if(e.code!==we.FAILED_PRECONDITION||e.message!==Loe)throw e;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Re.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Re.reject(n)}static resolve(t){return new Re((n,r)=>{n(t)})}static reject(t){return new Re((n,r)=>{r(t)})}static waitFor(t){return new Re((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=Re.resolve(!1);for(const r of t)n=n.next(i=>i?Re.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Re((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(t,n){return new Re((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Voe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jf(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}kS.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=-1;function Nv(e){return e==null}function db(e){return e===0&&1/e==-1/0}function Boe(e){return typeof e=="number"&&Number.isInteger(e)&&!db(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="";function Hoe(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=MN(t)),t=Goe(e.get(n),t);return MN(t)}function Goe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case xj:n+="";break;default:n+=s}}return n}function MN(e){return e+xj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,n){this.comparator=t,this.root=n||$r.EMPTY}insert(t,n){return new Bn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(t){return new Bn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$r.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new IC(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new IC(this.root,t,this.comparator,!1)}getReverseIterator(){return new IC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new IC(this.root,t,this.comparator,!0)}}class IC{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $r{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??$r.RED,this.left=i??$r.EMPTY,this.right=s??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new $r(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return $r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ot(27949);return t+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new $r(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.comparator=t,this.data=new Bn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new kN(this.data.getIterator())}getIteratorFrom(t){return new kN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Er)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Er(this.comparator);return n.data=t,n}}class kN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.fields=t,t.sort(Kr.comparator)}static empty(){return new ss([])}unionWith(t){let n=new Er(Kr.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ss(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mf(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Dj("Invalid base64 string: "+s):s}}(t);return new Jr(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Jr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const zoe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(e){if($t(!!e,39018),typeof e=="string"){let t=0;const n=zoe.exec(e);if($t(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:er(e.seconds),nanos:er(e.nanos)}}function er(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ec(e){return typeof e=="string"?Jr.fromBase64String(e):Jr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="server_timestamp",Pj="__type__",Ij="__previous_value__",Fj="__local_write_time__";function JP(e){return(e?.mapValue?.fields||{})[Pj]?.stringValue===Aj}function OS(e){const t=e.mapValue.fields[Ij];return JP(t)?OS(t):t}function Am(e){const t=Sc(e.mapValue.fields[Fj].timestampValue);return new xn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(t,n,r,i,s,o,a,l,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const hb="(default)";class Pm{constructor(t,n){this.projectId=t,this.database=n||hb}static empty(){return new Pm("","")}get isDefaultDatabase(){return this.database===hb}isEqual(t){return t instanceof Pm&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="__type__",joe="__max__",FC={mapValue:{}},_j="__vector__",fb="value";function Rc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?JP(e)?4:$oe(e)?9007199254740991:Woe(e)?10:11:ot(28295,{value:e})}function ca(e,t){if(e===t)return!0;const n=Rc(e);if(n!==Rc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Am(e).isEqual(Am(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Sc(i.timestampValue),a=Sc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Ec(i.bytesValue).isEqual(Ec(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return er(i.geoPointValue.latitude)===er(s.geoPointValue.latitude)&&er(i.geoPointValue.longitude)===er(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return er(i.integerValue)===er(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=er(i.doubleValue),a=er(s.doubleValue);return o===a?db(o)===db(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return mf(e.arrayValue.values||[],t.arrayValue.values||[],ca);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_N(o)!==_N(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ca(o[l],a[l])))return!1;return!0}(e,t);default:return ot(52216,{left:e})}}function Im(e,t){return(e.values||[]).find(n=>ca(n,t))!==void 0}function vf(e,t){if(e===t)return 0;const n=Rc(e),r=Rc(t);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=er(s.integerValue||s.doubleValue),l=er(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return ON(e.timestampValue,t.timestampValue);case 4:return ON(Am(e),Am(t));case 5:return eD(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Ec(s),l=Ec(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Vt(a[u],l[u]);if(h!==0)return h}return Vt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Vt(er(s.latitude),er(o.latitude));return a!==0?a:Vt(er(s.longitude),er(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return LN(e.arrayValue,t.arrayValue);case 10:return function(s,o){const a=s.fields||{},l=o.fields||{},u=a[fb]?.arrayValue,h=l[fb]?.arrayValue,f=Vt(u?.values?.length||0,h?.values?.length||0);return f!==0?f:LN(u,h)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===FC.mapValue&&o===FC.mapValue)return 0;if(s===FC.mapValue)return 1;if(o===FC.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const g=eD(l[f],h[f]);if(g!==0)return g;const v=vf(a[l[f]],u[h[f]]);if(v!==0)return v}return Vt(l.length,h.length)}(e.mapValue,t.mapValue);default:throw ot(23264,{he:n})}}function ON(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Vt(e,t);const n=Sc(e),r=Sc(t),i=Vt(n.seconds,r.seconds);return i!==0?i:Vt(n.nanos,r.nanos)}function LN(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=vf(n[i],r[i]);if(s)return s}return Vt(n.length,r.length)}function yf(e){return tD(e)}function tD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Sc(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ec(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return it.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=tD(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${tD(n.fields[o])}`;return i+"}"}(e.mapValue):ot(61005,{value:e})}function bw(e){switch(Rc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=OS(e);return t?16+bw(t):16;case 5:return 2*e.stringValue.length;case 6:return Ec(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+bw(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Vc(r.fields,(s,o)=>{i+=s.length+bw(o)}),i}(e.mapValue);default:throw ot(13486,{value:e})}}function NN(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function nD(e){return!!e&&"integerValue"in e}function eI(e){return!!e&&"arrayValue"in e}function VN(e){return!!e&&"nullValue"in e}function BN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sw(e){return!!e&&"mapValue"in e}function Woe(e){return(e?.mapValue?.fields||{})[Mj]?.stringValue===_j}function jg(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Vc(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=jg(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jg(e.arrayValue.values[n]);return t}return{...e}}function $oe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===joe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t){this.value=t}static empty(){return new Ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Sw(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jg(n)}setAll(t){let n=Kr.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=jg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Sw(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ca(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Sw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Vc(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ei(jg(this.value))}}function kj(e){const t=[];return Vc(e.fields,(n,r)=>{const i=new Kr([n]);if(Sw(r)){const s=kj(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new ss(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new kr(t,0,pt.min(),pt.min(),pt.min(),Ei.empty(),0)}static newFoundDocument(t,n,r,i){return new kr(t,1,n,pt.min(),r,i,0)}static newNoDocument(t,n){return new kr(t,2,n,pt.min(),pt.min(),Ei.empty(),0)}static newUnknownDocument(t,n){return new kr(t,3,n,pt.min(),pt.min(),Ei.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof kr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,n){this.position=t,this.inclusive=n}}function HN(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=it.comparator(it.fromName(o.referenceValue),n.key):r=vf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function GN(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ca(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n="asc"){this.field=t,this.dir=n}}function qoe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{}class pr extends Oj{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Yoe(t,n,r):n==="array-contains"?new Zoe(t,r):n==="in"?new Joe(t,r):n==="not-in"?new eae(t,r):n==="array-contains-any"?new tae(t,r):new pr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Xoe(t,r):new Qoe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vf(n,this.value)):n!==null&&Rc(this.value)===Rc(n)&&this.matchesComparison(vf(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends Oj{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new go(t,n)}matches(t){return Lj(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lj(e){return e.op==="and"}function Nj(e){return Koe(e)&&Lj(e)}function Koe(e){for(const t of e.filters)if(t instanceof go)return!1;return!0}function rD(e){if(e instanceof pr)return e.field.canonicalString()+e.op.toString()+yf(e.value);if(Nj(e))return e.filters.map(t=>rD(t)).join(",");{const t=e.filters.map(n=>rD(n)).join(",");return`${e.op}(${t})`}}function Vj(e,t){return e instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.field.isEqual(i.field)&&ca(r.value,i.value)}(e,t):e instanceof go?function(r,i){return i instanceof go&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Vj(o,i.filters[a]),!0):!1}(e,t):void ot(19439)}function Bj(e){return e instanceof pr?function(n){return`${n.field.canonicalString()} ${n.op} ${yf(n.value)}`}(e):e instanceof go?function(n){return n.op.toString()+" {"+n.getFilters().map(Bj).join(" ,")+"}"}(e):"Filter"}class Yoe extends pr{constructor(t,n,r){super(t,n,r),this.key=it.fromName(r.referenceValue)}matches(t){const n=it.comparator(t.key,this.key);return this.matchesComparison(n)}}class Xoe extends pr{constructor(t,n){super(t,"in",n),this.keys=Hj("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Qoe extends pr{constructor(t,n){super(t,"not-in",n),this.keys=Hj("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Hj(e,t){return(t.arrayValue?.values||[]).map(n=>it.fromName(n.referenceValue))}class Zoe extends pr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eI(n)&&Im(n.arrayValue,this.value)}}class Joe extends pr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Im(this.value.arrayValue,n)}}class eae extends pr{constructor(t,n){super(t,"not-in",n)}matches(t){if(Im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Im(this.value.arrayValue,n)}}class tae extends pr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Im(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function zN(e,t=null,n=[],r=[],i=null,s=null,o=null){return new nae(e,t,n,r,i,s,o)}function tI(e){const t=bt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>rD(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>yf(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>yf(r)).join(",")),t.Te=n}return t.Te}function nI(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qoe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!GN(e.startAt,t.startAt)&&GN(e.endAt,t.endAt)}function iD(e){return it.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rae(e,t,n,r,i,s,o,a){return new Wf(e,t,n,r,i,s,o,a)}function LS(e){return new Wf(e)}function UN(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Gj(e){return e.collectionGroup!==null}function Wg(e){const t=bt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Er(Kr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Fm(s,r))}),n.has(Kr.keyField().canonicalString())||t.Ie.push(new Fm(Kr.keyField(),r))}return t.Ie}function ea(e){const t=bt(e);return t.Ee||(t.Ee=iae(t,Wg(e))),t.Ee}function iae(e,t){if(e.limitType==="F")return zN(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fm(i.field,s)});const n=e.endAt?new pb(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pb(e.startAt.position,e.startAt.inclusive):null;return zN(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function sD(e,t){const n=e.filters.concat([t]);return new Wf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function oD(e,t,n){return new Wf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function NS(e,t){return nI(ea(e),ea(t))&&e.limitType===t.limitType}function zj(e){return`${tI(ea(e))}|lt:${e.limitType}`}function xh(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Bj(i)).join(", ")}]`),Nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yf(i)).join(",")),`Target(${r})`}(ea(e))}; limitType=${e.limitType})`}function VS(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):it.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Wg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=HN(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Wg(r),i)||r.endAt&&!function(o,a,l){const u=HN(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Wg(r),i))}(e,t)}function sae(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Uj(e){return(t,n)=>{let r=!1;for(const i of Wg(e)){const s=oae(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oae(e,t,n){const r=e.field.isKeyField()?it.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?vf(l,u):ot(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ot(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Vc(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Tj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae=new Bn(it.comparator);function al(){return aae}const jj=new Bn(it.comparator);function _g(...e){let t=jj;for(const n of e)t=t.insert(n.key,n);return t}function Wj(e){let t=jj;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Iu(){return $g()}function $j(){return $g()}function $g(){return new wd(e=>e.toString(),(e,t)=>e.isEqual(t))}const lae=new Bn(it.comparator),cae=new Er(it.comparator);function Bt(...e){let t=cae;for(const n of e)t=t.add(n);return t}const uae=new Er(Vt);function dae(){return uae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:db(t)?"-0":t}}function qj(e){return{integerValue:""+e}}function Kj(e,t){return Boe(t)?qj(t):rI(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this._=void 0}}function hae(e,t,n){return e instanceof gb?function(i,s){const o={fields:{[Pj]:{stringValue:Aj},[Fj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&JP(s)&&(s=OS(s)),s&&(o.fields[Ij]=s),{mapValue:o}}(n,t):e instanceof Cf?Xj(e,t):e instanceof wf?Qj(e,t):function(i,s){const o=Yj(i,s),a=jN(o)+jN(i.Ae);return nD(o)&&nD(i.Ae)?qj(a):rI(i.serializer,a)}(e,t)}function fae(e,t,n){return e instanceof Cf?Xj(e,t):e instanceof wf?Qj(e,t):n}function Yj(e,t){return e instanceof Mm?function(r){return nD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class gb extends BS{}class Cf extends BS{constructor(t){super(),this.elements=t}}function Xj(e,t){const n=Zj(t);for(const r of e.elements)n.some(i=>ca(i,r))||n.push(r);return{arrayValue:{values:n}}}class wf extends BS{constructor(t){super(),this.elements=t}}function Qj(e,t){let n=Zj(t);for(const r of e.elements)n=n.filter(i=>!ca(i,r));return{arrayValue:{values:n}}}class Mm extends BS{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function jN(e){return er(e.integerValue||e.doubleValue)}function Zj(e){return eI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n){this.field=t,this.transform=n}}function pae(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Cf&&i instanceof Cf||r instanceof wf&&i instanceof wf?mf(r.elements,i.elements,ca):r instanceof Mm&&i instanceof Mm?ca(r.Ae,i.Ae):r instanceof gb&&i instanceof gb}(e.transform,t.transform)}class gae{constructor(t,n){this.version=t,this.transformResults=n}}class Yr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yr}static exists(t){return new Yr(void 0,t)}static updateTime(t){return new Yr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ew(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class HS{}function Jj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new GS(e.key,Yr.none()):new Vv(e.key,e.data,Yr.none());{const n=e.data,r=Ei.empty();let i=new Er(Kr.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bc(e.key,r,new ss(i.toArray()),Yr.none())}}function mae(e,t,n){e instanceof Vv?function(i,s,o){const a=i.value.clone(),l=$N(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Bc?function(i,s,o){if(!Ew(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=$N(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(e3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function qg(e,t,n,r){return e instanceof Vv?function(s,o,a,l){if(!Ew(s.precondition,o))return a;const u=s.value.clone(),h=qN(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bc?function(s,o,a,l){if(!Ew(s.precondition,o))return a;const u=qN(s.fieldTransforms,l,o),h=o.data;return h.setAll(e3(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return Ew(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function vae(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Yj(r.transform,i||null);s!=null&&(n===null&&(n=Ei.empty()),n.set(r.field,s))}return n||null}function WN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mf(r,i,(s,o)=>pae(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Vv extends HS{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bc extends HS{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function e3(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function $N(e,t,n){const r=new Map;$t(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,fae(o,a,n[i]))}return r}function qN(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hae(s,o,t))}return r}class GS extends HS{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t3 extends HS{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&mae(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=qg(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=qg(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=$j();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Jj(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Bt())}isEqual(t){return this.batchId===t.batchId&&mf(this.mutations,t.mutations,(n,r)=>WN(n,r))&&mf(this.baseMutations,t.baseMutations,(n,r)=>WN(n,r))}}class sI{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return lae}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sI(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr,jt;function n3(e){switch(e){case we.OK:return ot(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return ot(15467,{code:e})}}function r3(e){if(e===void 0)return ol("GRPC error has no .code"),we.UNKNOWN;switch(e){case lr.OK:return we.OK;case lr.CANCELLED:return we.CANCELLED;case lr.UNKNOWN:return we.UNKNOWN;case lr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case lr.INTERNAL:return we.INTERNAL;case lr.UNAVAILABLE:return we.UNAVAILABLE;case lr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case lr.NOT_FOUND:return we.NOT_FOUND;case lr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case lr.ABORTED:return we.ABORTED;case lr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case lr.DATA_LOSS:return we.DATA_LOSS;default:return ot(39323,{code:e})}}(jt=lr||(lr={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae=new dc([4294967295,4294967295],0);function KN(e){const t=bae().encode(e),n=new gj;return n.update(t),new Uint8Array(n.digest())}function YN(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new dc([n,r],0),new dc([i,s],0)]}class oI{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kg(`Invalid padding: ${n}`);if(r<0)throw new kg(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new kg(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new kg(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=dc.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(dc.fromNumber(r)));return i.compare(Sae)===1&&(i=new dc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=KN(t),[r,i]=YN(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new oI(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=KN(t),[r,i]=YN(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Bv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new zS(pt.min(),i,new Bn(Vt),al(),Bt())}}class Bv{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Bv(r,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class i3{constructor(t,n){this.targetId=t,this.Ce=n}}class s3{constructor(t,n,r=Jr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XN{constructor(){this.ve=0,this.Fe=QN(),this.Me=Jr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),r=Bt();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot(38017,{changeType:s})}}),new Bv(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=QN()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Eae{constructor(t){this.Ge=t,this.ze=new Map,this.je=al(),this.Je=MC(),this.He=MC(),this.Ye=new Bn(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:ot(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(iD(s))if(r===0){const o=new it(s.path);this.et(n,o,kr.newNoDocument(o,pt.min()))}else $t(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ec(r).toUint8Array()}catch(l){if(l instanceof Dj)return gf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oI(o,i,s)}catch(l){return gf(l instanceof kg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&iD(a.target)){const l=new it(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,kr.newNoDocument(l,t))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Bt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new zS(t,n,this.Ye,this.je,r);return this.je=al(),this.Je=MC(),this.He=MC(),this.Ye=new Bn(Vt),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new XN,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Er(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Er(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new XN),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function MC(){return new Bn(it.comparator)}function QN(){return new Bn(it.comparator)}const Rae={asc:"ASCENDING",desc:"DESCENDING"},xae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tae={and:"AND",or:"OR"};class Dae{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function aD(e,t){return e.useProto3Json||Nv(t)?t:{value:t}}function mb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o3(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Aae(e,t){return mb(e,t.toTimestamp())}function hs(e){return $t(!!e,49232),pt.fromTimestamp(function(n){const r=Sc(n);return new xn(r.seconds,r.nanos)}(e))}function aI(e,t){return lD(e,t).canonicalString()}function lD(e,t){const n=function(i){return new gn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function a3(e){const t=gn.fromString(e);return $t(f3(t),10190,{key:t.toString()}),t}function vb(e,t){return aI(e.databaseId,t.path)}function Kg(e,t){const n=a3(t);if(n.get(1)!==e.databaseId.projectId)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new it(c3(n))}function l3(e,t){return aI(e.databaseId,t)}function Pae(e){const t=a3(e);return t.length===4?gn.emptyPath():c3(t)}function cD(e){return new gn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function c3(e){return $t(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ZN(e,t,n){return{name:vb(e,t),fields:n.value.mapValue.fields}}function Iae(e,t){return"found"in t?function(r,i){$t(!!i.found,43571),i.found.name,i.found.updateTime;const s=Kg(r,i.found.name),o=hs(i.found.updateTime),a=i.found.createTime?hs(i.found.createTime):pt.min(),l=new Ei({mapValue:{fields:i.found.fields}});return kr.newFoundDocument(s,o,a,l)}(e,t):"missing"in t?function(r,i){$t(!!i.missing,3894),$t(!!i.readTime,22933);const s=Kg(r,i.missing),o=hs(i.readTime);return kr.newNoDocument(s,o)}(e,t):ot(7234,{result:t})}function Fae(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ot(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?($t(h===void 0||typeof h=="string",58123),Jr.fromBase64String(h||"")):($t(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Jr.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const h=u.code===void 0?we.UNKNOWN:r3(u.code);return new Le(h,u.message||"")}(o);n=new s3(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kg(e,r.document.name),s=hs(r.document.updateTime),o=r.document.createTime?hs(r.document.createTime):pt.min(),a=new Ei({mapValue:{fields:r.document.fields}}),l=kr.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Rw(u,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Kg(e,r.document),s=r.readTime?hs(r.readTime):pt.min(),o=kr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Rw([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Kg(e,r.document),s=r.removedTargetIds||[];n=new Rw([],s,i,null)}else{if(!("filter"in t))return ot(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wae(i,s),a=r.targetId;n=new i3(a,o)}}return n}function u3(e,t){let n;if(t instanceof Vv)n={update:ZN(e,t.key,t.value)};else if(t instanceof GS)n={delete:vb(e,t.key)};else if(t instanceof Bc)n={update:ZN(e,t.key,t.data),updateMask:Hae(t.fieldMask)};else{if(!(t instanceof t3))return ot(16599,{Vt:t.type});n={verify:vb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof gb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mm)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ot(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Aae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ot(27497)}(e,t.precondition)),n}function Mae(e,t){return e&&e.length>0?($t(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?hs(i.updateTime):hs(s);return o.isEqual(pt.min())&&(o=hs(s)),new gae(o,i.transformResults||[])}(n,t))):[]}function _ae(e,t){return{documents:[l3(e,t.path)]}}function kae(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=l3(e,i);const s=function(u){if(u.length!==0)return h3(go.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Th(g.field),direction:Nae(g.dir)}}(h))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=aD(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:i}}function Oae(e){let t=Pae(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let s=[];n.where&&(s=function(f){const g=d3(f);return g instanceof go&&Nj(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(C){return new Fm(Dh(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Nv(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,v=f.values||[];return new pb(v,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,v=f.values||[];return new pb(v,g)}(n.endAt)),rae(t,i,o,s,a,"F",l,u)}function Lae(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function d3(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Dh(n.unaryFilter.field);return pr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Dh(n.unaryFilter.field);return pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Dh(n.unaryFilter.field);return pr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dh(n.unaryFilter.field);return pr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}}(e):e.fieldFilter!==void 0?function(n){return pr.create(Dh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return go.create(n.compositeFilter.filters.map(r=>d3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot(1026)}}(n.compositeFilter.op))}(e):ot(30097,{filter:e})}function Nae(e){return Rae[e]}function Vae(e){return xae[e]}function Bae(e){return Tae[e]}function Th(e){return{fieldPath:e.canonicalString()}}function Dh(e){return Kr.fromServerFormat(e.fieldPath)}function h3(e){return e instanceof pr?function(n){if(n.op==="=="){if(BN(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NAN"}};if(VN(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BN(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NOT_NAN"}};if(VN(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(n.field),op:Vae(n.op),value:n.value}}}(e):e instanceof go?function(n){const r=n.getFilters().map(i=>h3(i));return r.length===1?r[0]:{compositeFilter:{op:Bae(n.op),filters:r}}}(e):ot(54877,{filter:e})}function Hae(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function f3(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n,r,i,s=pt.min(),o=pt.min(),a=Jr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new lc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(t){this.yt=t}}function zae(e){const t=Oae({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?oD(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(){this.Cn=new jae}addToCollectionParentIndex(t,n){return this.Cn.add(n),Re.resolve()}getCollectionParents(t,n){return Re.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Re.resolve()}deleteFieldIndex(t,n){return Re.resolve()}deleteAllFieldIndexes(t){return Re.resolve()}createTargetIndexes(t,n){return Re.resolve()}getDocumentsMatchingTarget(t,n){return Re.resolve(null)}getIndexType(t,n){return Re.resolve(0)}getFieldIndexes(t,n){return Re.resolve([])}getNextCollectionGroupToUpdate(t){return Re.resolve(null)}getMinOffset(t,n){return Re.resolve(bc.min())}getMinOffsetFromCollectionGroup(t,n){return Re.resolve(bc.min())}updateCollectionGroup(t,n,r){return Re.resolve()}updateIndexEntries(t,n){return Re.resolve()}}class jae{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Er(gn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Er(gn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p3=41943040;class ki{static withCacheSize(t){return new ki(t,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(p3,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new bf(0)}static cr(){return new bf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="LruGarbageCollector",Wae=1048576;function tV([e,t],[n,r]){const i=Vt(e,n);return i===0?Vt(t,r):i}class $ae{constructor(t){this.Ir=t,this.buffer=new Er(tV),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tV(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qae{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ge(eV,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jf(n)?Ge(eV,"Ignoring IndexedDB error during garbage collection: ",n):await Uf(n)}await this.Vr(3e5)})}}class Kae{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Re.resolve(kS.ce);const r=new $ae(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(JN)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JN):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),Rh()<=Nt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Yae(e,t){return new Kae(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(){this.changes=new wd(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,kr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&qg(r.mutation,i,ss.empty(),xn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Bt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Bt()){const i=Iu();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=_g();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Iu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Bt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=al();const o=$g(),a=function(){return $g()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Bc)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),qg(h.mutation,u,h.mutation.getFieldMask(),xn.now())):o.set(u.key,ss.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new Qae(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(t,n){const r=$g();let i=new Bn((o,a)=>o-a),s=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||ss.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||Bt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=$j();h.forEach(g=>{if(!s.has(g)){const v=Jj(n.get(g),r.get(g));v!==null&&f.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return Re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Gj(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Re.resolve(Iu());let a=Dm,l=s;return o.next(u=>Re.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?Re.resolve():this.remoteDocumentCache.getEntry(t,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Bt())).next(h=>({batchId:a,changes:Wj(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new it(n)).next(r=>{let i=_g();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=_g();return this.indexManager.getCollectionParents(t,s).next(a=>Re.forEach(a,l=>{const u=function(f,g){return new Wf(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,kr.newInvalidDocument(h)))});let a=_g();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&qg(h.mutation,u,ss.empty(),xn.now()),VS(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Re.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hs(i.createTime)}}(n)),Re.resolve()}getNamedQuery(t,n){return Re.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:zae(i.bundledQuery),readTime:hs(i.readTime)}}(n)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(){this.overlays=new Bn(it.comparator),this.qr=new Map}getOverlay(t,n){return Re.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Iu();return Re.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),Re.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Re.resolve()}getOverlaysForCollection(t,n,r){const i=Iu(),s=n.length+1,o=new it(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Re.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Bn((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Iu(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Iu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return Re.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cae(n,r));let s=this.qr.get(n);s===void 0&&(s=Bt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tle{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(t){return Re.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.Qr=new Er(_r.$r),this.Ur=new Er(_r.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new _r(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new _r(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new it(new gn([])),r=new _r(n,t),i=new _r(n,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new it(new gn([])),r=new _r(n,t),i=new _r(n,t+1);let s=Bt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new _r(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class _r{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return it.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||it.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nle{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Er(_r.$r)}checkEmpty(t){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yae(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new _r(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(t,n){return Re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?ZP:this.tr-1)}getAllMutationBatches(t){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Er(Vt);return n.forEach(i=>{const s=new _r(i,0),o=new _r(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),Re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;it.isDocumentKey(s)||(s=s.child(""));const o=new _r(new it(s),0);let a=new Er(Vt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),Re.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Re.forEach(n.mutations,i=>{const s=new _r(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new _r(n,0),i=this.Zr.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Re.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(t){this.ri=t,this.docs=function(){return new Bn(it.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():kr.newInvalidDocument(n))}getEntries(t,n){let r=al();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kr.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=al();const o=n.path,a=new it(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Ooe(koe(h),r)<=0||(i.has(h.key)||VS(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ot(9500)}ii(t,n){return Re.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new ile(this)}getSize(t){return Re.resolve(this.size)}}class ile extends Xae{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),Re.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(t){this.persistence=t,this.si=new wd(n=>tI(n),nI),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new lI,this.targetCount=0,this.ai=bf.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Re.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new bf(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Re.resolve()}updateTargetData(t,n){return this.Pr(n),Re.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Re.waitFor(s).next(()=>i)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return Re.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),Re.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Re.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Re.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return Re.resolve(r)}containsKey(t,n){return Re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(t,n){this.ui={},this.overlays={},this.ci=new kS(0),this.li=!1,this.li=!0,this.hi=new tle,this.referenceDelegate=t(this),this.Pi=new sle(this),this.indexManager=new Uae,this.remoteDocumentCache=function(i){return new rle(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Gae(n),this.Ii=new Jae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ele,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new nle(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Ge("MemoryPersistence","Starting transaction:",t);const i=new ole(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,n){return Re.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class ole extends Noe{constructor(t){super(),this.currentSequenceNumber=t}}class cI{constructor(t){this.persistence=t,this.Ri=new lI,this.Vi=null}static mi(t){return new cI(t)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Re.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Re.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,r=>{const i=it.fromPath(r);return this.gi(t,i).next(s=>{s||n.removeEntry(i,pt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return Re.or([()=>Re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class yb{constructor(t,n){this.persistence=t,this.pi=new wd(r=>Hoe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Yae(this,n)}static mi(t,n){return new yb(t,n)}Ei(){}di(t){return Re.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return Re.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?Re.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,n).next(a=>{a||(r++,s.removeEntry(o,pt.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Re.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Re.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Re.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Re.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bw(t.data.value)),n}br(t,n,r){return Re.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=Bt(),i=Bt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uI(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return One()?8:Voe(li())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ys(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ale;return this.Ss(t,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(t,n,o,a.size)})}).next(()=>s.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(Rh()<=Nt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",xh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(Rh()<=Nt.DEBUG&&Ge("QueryEngine","Query:",xh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Rh()<=Nt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",xh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ea(n))):Re.resolve())}ys(t,n){if(UN(n))return Re.resolve(null);let r=ea(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=oD(n,null,"F"),r=ea(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Bt(...s);return this.ps.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(t,oD(n,null,"F")):this.vs(t,u,n,l)}))})))}ws(t,n,r,i){return UN(n)||i.isEqual(pt.min())?Re.resolve(null):this.ps.getDocuments(t,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Re.resolve(null):(Rh()<=Nt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xh(n)),this.vs(t,o,n,_oe(i,Dm)).next(a=>a))})}Ds(t,n){let r=new Er(Uj(t));return n.forEach((i,s)=>{VS(t,s)&&(r=r.add(s))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,n,r){return Rh()<=Nt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",xh(n)),this.ps.getDocumentsMatchingQuery(t,n,bc.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="LocalStore",cle=3e8;class ule{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new Bn(Vt),this.xs=new wd(s=>tI(s),nI),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zae(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function dle(e,t,n,r){return new ule(e,t,n,r)}async function m3(e,t){const n=bt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Bt();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function hle(e,t){const n=bt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,g=f.keys();let v=Re.resolve();return g.forEach(C=>{v=v.next(()=>h.getEntry(l,C)).next(S=>{const R=u.docVersions.get(C);$t(R!==null,48541),S.version.compareTo(R)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Bt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function v3(e){const t=bt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function fle(e,t){const n=bt(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((h,f)=>{const g=i.get(f);if(!g)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let v=g.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?v=v.withResumeToken(Jr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),function(S,R,x){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=cle?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,v,h)&&a.push(n.Pi.updateTargetData(s,v))});let l=al(),u=Bt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(ple(s,o,t.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(pt.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return Re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function ple(e,t,n){let r=Bt(),i=Bt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=al();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Ge(dI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function gle(e,t){const n=bt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=ZP),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function mle(e,t){const n=bt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(s=>s?(i=s,Re.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new lc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function uD(e,t,n){const r=bt(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jf(o))throw o;Ge(dI,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function nV(e,t,n){const r=bt(e);let i=pt.min(),s=Bt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=bt(l),g=f.xs.get(h);return g!==void 0?Re.resolve(f.Ms.get(g)):f.Pi.getTargetData(u,h)}(r,o,ea(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,n?i:pt.min(),n?s:Bt())).next(a=>(vle(r,sae(t),a),{documents:a,Qs:s})))}function vle(e,t,n){let r=e.Os.get(t)||pt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Os.set(t,r)}class rV{constructor(){this.activeTargetIds=dae()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yle{constructor(){this.Mo=new rV,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new rV,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="ConnectivityMonitor";class sV{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(iV,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ge(iV,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _C=null;function dD(){return _C===null?_C=function(){return 268435456+Math.round(2147483648*Math.random())}():_C++,"0x"+_C.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="RestConnection",wle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ble{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===hb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,s){const o=dD(),a=this.zo(t,n.toUriEncodedString());Ge(rx,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),h=Oc(u);return this.Jo(t,a,l,r,h).then(f=>(Ge(rx,`Received RPC '${t}' ${o}: `,f),f),f=>{throw gf(rx,`RPC '${t}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(t,n,r,i,s,o){return this.Go(t,n,r,i,s)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,n){const r=wle[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sle{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="WebChannelConnection";class Ele extends ble{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,s){const o=dD();return new Promise((a,l)=>{const u=new mj;u.setWithCredentials(!0),u.listenOnce(vj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ww.NO_ERROR:const f=u.getResponseJson();Ge(ri,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),a(f);break;case ww.TIMEOUT:Ge(ri,`RPC '${t}' ${o} timed out`),l(new Le(we.DEADLINE_EXCEEDED,"Request time out"));break;case ww.HTTP_ERROR:const g=u.getStatus();if(Ge(ri,`RPC '${t}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v?.error;if(C&&C.status&&C.message){const S=function(x){const D=x.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(D)>=0?D:we.UNKNOWN}(C.status);l(new Le(S,C.message))}else l(new Le(we.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Le(we.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ge(ri,`RPC '${t}' ${o} completed.`)}});const h=JSON.stringify(i);Ge(ri,`RPC '${t}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(t,n,r){const i=dD(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=wj(),a=Cj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Ge(ri,`Creating RPC '${t}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let g=!1,v=!1;const C=new Sle({Yo:R=>{v?Ge(ri,`Not sending because RPC '${t}' stream ${i} is closed:`,R):(g||(Ge(ri,`Opening RPC '${t}' stream ${i} transport.`),f.open(),g=!0),Ge(ri,`RPC '${t}' stream ${i} sending:`,R),f.send(R))},Zo:()=>f.close()}),S=(R,x,D)=>{R.listen(x,T=>{try{D(T)}catch(k){setTimeout(()=>{throw k},0)}})};return S(f,Mg.EventType.OPEN,()=>{v||(Ge(ri,`RPC '${t}' stream ${i} transport opened.`),C.o_())}),S(f,Mg.EventType.CLOSE,()=>{v||(v=!0,Ge(ri,`RPC '${t}' stream ${i} transport closed`),C.a_(),this.E_(f))}),S(f,Mg.EventType.ERROR,R=>{v||(v=!0,gf(ri,`RPC '${t}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new Le(we.UNAVAILABLE,"The operation could not be completed")))}),S(f,Mg.EventType.MESSAGE,R=>{if(!v){const x=R.data[0];$t(!!x,16349);const D=x,T=D?.error||D[0]?.error;if(T){Ge(ri,`RPC '${t}' stream ${i} received error:`,T);const k=T.status;let O=function(M){const N=lr[M];if(N!==void 0)return r3(N)}(k),P=T.message;O===void 0&&(O=we.INTERNAL,P="Unknown error status: "+k+" with message "+T.message),v=!0,C.a_(new Le(O,P)),f.close()}else Ge(ri,`RPC '${t}' stream ${i} received:`,x),C.u_(x)}}),S(a,yj.STAT_EVENT,R=>{R.stat===JT.PROXY?Ge(ri,`RPC '${t}' stream ${i} detected buffering proxy`):R.stat===JT.NOPROXY&&Ge(ri,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function ix(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(e){return new Dae(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="PersistentStream";class y3{constructor(t,n,r,i,s,o,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hI(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(ol(n.toString()),ol("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new Le(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ge(oV,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Ge(oV,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rle extends y3{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Fae(this.serializer,t),r=function(s){if(!("targetChange"in s))return pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?hs(o.readTime):pt.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=cD(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=iD(l)?{documents:_ae(s,l)}:{query:kae(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=o3(s,o.resumeToken);const u=aD(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(pt.min())>0){a.readTime=mb(s,o.snapshotVersion.toTimestamp());const u=aD(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=Lae(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=cD(this.serializer),n.removeTarget=t,this.q_(n)}}class xle extends y3{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Mae(t.writeResults,t.commitTime),r=hs(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=cD(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>u3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tle{}class Dle extends Tle{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,lD(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(we.UNKNOWN,s.toString())})}Ho(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(t,lD(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(we.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Ale{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ol(n),this.aa=!1):Ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="RemoteStore";class Ple{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{bd(this)&&(Ge(nd,"Restarting streams for network reachability change."),await async function(l){const u=bt(l);u.Ea.add(4),await Hv(u),u.Ra.set("Unknown"),u.Ea.delete(4),await jS(u)}(this))})}),this.Ra=new Ale(r,i)}}async function jS(e){if(bd(e))for(const t of e.da)await t(!0)}async function Hv(e){for(const t of e.da)await t(!1)}function C3(e,t){const n=bt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mI(n)?gI(n):$f(n).O_()&&pI(n,t))}function fI(e,t){const n=bt(e),r=$f(n);n.Ia.delete(t),r.O_()&&w3(n,t),n.Ia.size===0&&(r.O_()?r.L_():bd(n)&&n.Ra.set("Unknown"))}function pI(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$f(e).Y_(t)}function w3(e,t){e.Va.Ue(t),$f(e).Z_(t)}function gI(e){e.Va=new Eae({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$f(e).start(),e.Ra.ua()}function mI(e){return bd(e)&&!$f(e).x_()&&e.Ia.size>0}function bd(e){return bt(e).Ea.size===0}function b3(e){e.Va=void 0}async function Ile(e){e.Ra.set("Online")}async function Fle(e){e.Ia.forEach((t,n)=>{pI(e,t)})}async function Mle(e,t){b3(e),mI(e)?(e.Ra.ha(t),gI(e)):e.Ra.set("Unknown")}async function _le(e,t,n){if(e.Ra.set("Online"),t instanceof s3&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(r){Ge(nd,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Cb(e,r)}else if(t instanceof Rw?e.Va.Ze(t):t instanceof i3?e.Va.st(t):e.Va.tt(t),!n.isEqual(pt.min()))try{const r=await v3(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Jr.EMPTY_BYTE_STRING,h.snapshotVersion)),w3(s,l);const f=new lc(h.target,l,u,h.sequenceNumber);pI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ge(nd,"Failed to raise snapshot:",r),await Cb(e,r)}}async function Cb(e,t,n){if(!jf(t))throw t;e.Ea.add(1),await Hv(e),e.Ra.set("Offline"),n||(n=()=>v3(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ge(nd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await jS(e)})}function S3(e,t){return t().catch(n=>Cb(e,n,t))}async function WS(e){const t=bt(e),n=xc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ZP;for(;kle(t);)try{const i=await gle(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,Ole(t,i)}catch(i){await Cb(t,i)}E3(t)&&R3(t)}function kle(e){return bd(e)&&e.Ta.length<10}function Ole(e,t){e.Ta.push(t);const n=xc(e);n.O_()&&n.X_&&n.ea(t.mutations)}function E3(e){return bd(e)&&!xc(e).x_()&&e.Ta.length>0}function R3(e){xc(e).start()}async function Lle(e){xc(e).ra()}async function Nle(e){const t=xc(e);for(const n of e.Ta)t.ea(n.mutations)}async function Vle(e,t,n){const r=e.Ta.shift(),i=sI.from(r,t,n);await S3(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await WS(e)}async function Ble(e,t){t&&xc(e).X_&&await async function(r,i){if(function(o){return n3(o)&&o!==we.ABORTED}(i.code)){const s=r.Ta.shift();xc(r).B_(),await S3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await WS(r)}}(e,t),E3(e)&&R3(e)}async function aV(e,t){const n=bt(e);n.asyncQueue.verifyOperationInProgress(),Ge(nd,"RemoteStore received new credentials");const r=bd(n);n.Ea.add(3),await Hv(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await jS(n)}async function Hle(e,t){const n=bt(e);t?(n.Ea.delete(2),await jS(n)):t||(n.Ea.add(2),await Hv(n),n.Ra.set("Unknown"))}function $f(e){return e.ma||(e.ma=function(n,r,i){const s=bt(n);return s.sa(),new Rle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:Ile.bind(null,e),t_:Fle.bind(null,e),r_:Mle.bind(null,e),H_:_le.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),mI(e)?gI(e):e.Ra.set("Unknown")):(await e.ma.stop(),b3(e))})),e.ma}function xc(e){return e.fa||(e.fa=function(n,r,i){const s=bt(n);return s.sa(),new xle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Lle.bind(null,e),r_:Ble.bind(null,e),ta:Nle.bind(null,e),na:Vle.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await WS(e)):(await e.fa.stop(),e.Ta.length>0&&(Ge(nd,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new vI(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yI(e,t){if(ol("AsyncQueue",`${t}: ${e}`),jf(e))return new Le(we.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{static emptySet(t){return new jh(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=_g(),this.sortedSet=new Bn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof jh)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new jh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.ga=new Bn(it.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):ot(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Sf{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sf(t,n,jh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&NS(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class zle{constructor(){this.queries=cV(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=bt(n),s=i.queries;i.queries=cV(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Le(we.ABORTED,"Firestore shutting down"))}}function cV(){return new wd(e=>zj(e),NS)}async function CI(e,t){const n=bt(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Gle,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=yI(o,`Initialization of query '${xh(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&bI(n)}async function wI(e,t){const n=bt(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ule(e,t){const n=bt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&bI(n)}function jle(e,t,n){const r=bt(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function bI(e){e.Ca.forEach(t=>{t.next()})}var hD,uV;(uV=hD||(hD={})).Ma="default",uV.Cache="cache";class SI{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Sf(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Sf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hD.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(t){this.key=t}}class T3{constructor(t){this.key=t}}class Wle{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=Uj(t),this.tu=new jh(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new lV,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,f)=>{const g=i.get(h),v=VS(this.query,f)?f:null,C=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;g&&v?g.data.isEqual(v.data)?C!==S&&(r.track({type:3,doc:v}),R=!0):this.su(g,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),R=!0):g&&!v&&(r.track({type:1,doc:g}),R=!0,(l||u)&&(a=!0)),R&&(v?(o=o.add(v),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((h,f)=>function(v,C){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:R})}};return S(v)-S(C)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Sf(this.query,t.tu,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lV,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new T3(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new x3(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Sf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const EI="SyncEngine";class $le{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class qle{constructor(t){this.key=t,this.hu=!1}}class Kle{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new wd(a=>zj(a),NS),this.Iu=new Map,this.Eu=new Set,this.du=new Bn(it.comparator),this.Au=new Map,this.Ru=new lI,this.Vu={},this.mu=new Map,this.fu=bf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yle(e,t,n=!0){const r=M3(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await D3(r,t,n,!0),i}async function Xle(e,t){const n=M3(e);await D3(n,t,!0,!1)}async function D3(e,t,n,r){const i=await mle(e.localStore,ea(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Qle(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&C3(e.remoteStore,i),a}async function Qle(e,t,n,r,i){e.pu=(f,g,v)=>async function(S,R,x,D){let T=R.view.ru(x);T.Cs&&(T=await nV(S.localStore,R.query,!1).then(({documents:_})=>R.view.ru(_,T)));const k=D&&D.targetChanges.get(R.targetId),O=D&&D.targetMismatches.get(R.targetId)!=null,P=R.view.applyChanges(T,S.isPrimaryClient,k,O);return hV(S,R.targetId,P.au),P.snapshot}(e,f,g,v);const s=await nV(e.localStore,t,!0),o=new Wle(t,s.Qs),a=o.ru(s.documents),l=Bv.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);hV(e,n,u.au);const h=new $le(t,n,o);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function Zle(e,t,n){const r=bt(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!NS(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uD(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fI(r.remoteStore,i.targetId),fD(r,i.targetId)}).catch(Uf)):(fD(r,i.targetId),await uD(r.localStore,i.targetId,!0))}async function Jle(e,t){const n=bt(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fI(n.remoteStore,r.targetId))}async function ece(e,t,n){const r=ace(e);try{const i=await function(o,a){const l=bt(o),u=xn.now(),h=a.reduce((v,C)=>v.add(C.key),Bt());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=al(),S=Bt();return l.Ns.getEntries(v,h).next(R=>{C=R,C.forEach((x,D)=>{D.isValidDocument()||(S=S.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,C)).next(R=>{f=R;const x=[];for(const D of a){const T=vae(D,f.get(D.key).overlayedDocument);T!=null&&x.push(new Bc(D.key,T,kj(T.value.mapValue),Yr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,x,a)}).next(R=>{g=R;const x=R.applyToLocalDocumentSet(f,S);return l.documentOverlayCache.saveOverlays(v,R.batchId,x)})}).then(()=>({batchId:g.batchId,changes:Wj(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Bn(Vt)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Gv(r,i.changes),await WS(r.remoteStore)}catch(i){const s=yI(i,"Failed to persist write");n.reject(s)}}async function A3(e,t){const n=bt(e);try{const r=await fle(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?$t(o.hu,14607):i.removedDocuments.size>0&&($t(o.hu,42227),o.hu=!1))}),await Gv(n,r,t)}catch(r){await Uf(r)}}function dV(e,t,n){const r=bt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=bt(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const g of f.Sa)g.va(a)&&(u=!0)}),u&&bI(l)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tce(e,t,n){const r=bt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new Bn(it.comparator);o=o.insert(s,kr.newNoDocument(s,pt.min()));const a=Bt().add(s),l=new zS(pt.min(),new Map,new Bn(Vt),o,a);await A3(r,l),r.du=r.du.remove(s),r.Au.delete(t),RI(r)}else await uD(r.localStore,t,!1).then(()=>fD(r,t,n)).catch(Uf)}async function nce(e,t){const n=bt(e),r=t.batch.batchId;try{const i=await hle(n.localStore,t);I3(n,r,null),P3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gv(n,i)}catch(i){await Uf(i)}}async function rce(e,t,n){const r=bt(e);try{const i=await function(o,a){const l=bt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>($t(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,t);I3(r,t,n),P3(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gv(r,i)}catch(i){await Uf(i)}}function P3(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function I3(e,t,n){const r=bt(e);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function fD(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||F3(e,r)})}function F3(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(fI(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),RI(e))}function hV(e,t,n){for(const r of n)r instanceof x3?(e.Ru.addReference(r.key,t),ice(e,r)):r instanceof T3?(Ge(EI,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||F3(e,r.key)):ot(19791,{wu:r})}function ice(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ge(EI,"New document in limbo: "+n),e.Eu.add(r),RI(e))}function RI(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new it(gn.fromString(t)),r=e.fu.next();e.Au.set(r,new qle(n)),e.du=e.du.insert(n,r),C3(e.remoteStore,new lc(ea(LS(n.path)),r,"TargetPurposeLimboResolution",kS.ce))}}async function Gv(e,t,n){const r=bt(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=uI.As(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const h=bt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Re.forEach(u,g=>Re.forEach(g.Es,v=>h.persistence.referenceDelegate.addReference(f,g.targetId,v)).next(()=>Re.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(f,g.targetId,v)))))}catch(f){if(!jf(f))throw f;Ge(dI,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const v=h.Ms.get(g),C=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(g,S)}}}(r.localStore,s))}async function sce(e,t){const n=bt(e);if(!n.currentUser.isEqual(t)){Ge(EI,"User change. New user:",t.toKey());const r=await m3(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new Le(we.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gv(n,r.Ls)}}function oce(e,t){const n=bt(e),r=n.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let i=Bt();const s=n.Iu.get(t);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function M3(e){const t=bt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=A3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oce.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tce.bind(null,t),t.Pu.H_=Ule.bind(null,t.eventManager),t.Pu.yu=jle.bind(null,t.eventManager),t}function ace(e){const t=bt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nce.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rce.bind(null,t),t}class wb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=US(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return dle(this.persistence,new lle,t.initialUser,this.serializer)}Cu(t){return new g3(cI.mi,this.serializer)}Du(t){return new yle}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wb.provider={build:()=>new wb};class lce extends wb{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof yb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qae(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new g3(r=>yb.mi(r,n),this.serializer)}}class pD{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sce.bind(null,this.syncEngine),await Hle(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new zle}()}createDatastore(t){const n=US(t.databaseInfo.databaseId),r=function(s){return new Ele(s)}(t.databaseInfo);return function(s,o,a,l){return new Dle(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Ple(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>dV(this.syncEngine,n,0),function(){return sV.v()?new sV:new Cle}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,h){const f=new Kle(i,s,o,a,l,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=bt(n);Ge(nd,"RemoteStore shutting down."),r.Ea.add(5),await Hv(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pD.provider={build:()=>new pD};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ol("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cce{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Le(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=bt(i),a={documents:s.map(f=>vb(o.serializer,f))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,gn.emptyPath(),a,s.length),u=new Map;l.forEach(f=>{const g=Iae(o.serializer,f);u.set(g.key.toString(),g)});const h=[];return s.forEach(f=>{const g=u.get(f.toString());$t(!!g,55234,{key:f}),h.push(g)}),h}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new GS(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=it.fromPath(r);this.mutations.push(new t3(i,this.precondition(i)))}),await async function(r,i){const s=bt(r),o={writes:i.map(a=>u3(s.serializer,a))};await s.Go("Commit",s.serializer.databaseId,gn.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ot(50498,{Gu:t.constructor.name});n=pt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Le(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(pt.min())?Yr.exists(!1):Yr.updateTime(n):Yr.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(pt.min()))throw new Le(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yr.updateTime(n)}return Yr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new hI(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const t=new cce(this.datastore),n=this.Hu(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(t){try{const n=this.updateFunction(t);return!Nv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(t)}Zu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!n3(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="FirestoreClient";class dce{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=si.UNAUTHENTICATED,this.clientId=QP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ge(Tc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ge(Tc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=yI(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function sx(e,t){e.asyncQueue.verifyOperationInProgress(),Ge(Tc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await m3(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function fV(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hce(e);Ge(Tc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>aV(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>aV(t.remoteStore,i)),e._onlineComponents=t}async function hce(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ge(Tc,"Using user provided OfflineComponentProvider");try{await sx(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;gf("Error using user provided cache. Falling back to memory cache: "+n),await sx(e,new wb)}}else Ge(Tc,"Using default OfflineComponentProvider"),await sx(e,new lce(void 0));return e._offlineComponents}async function TI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ge(Tc,"Using user provided OnlineComponentProvider"),await fV(e,e._uninitializedComponentsProvider._online)):(Ge(Tc,"Using default OnlineComponentProvider"),await fV(e,new pD))),e._onlineComponents}function fce(e){return TI(e).then(t=>t.syncEngine)}function pce(e){return TI(e).then(t=>t.datastore)}async function bb(e){const t=await TI(e),n=t.eventManager;return n.onListen=Yle.bind(null,t.syncEngine),n.onUnlisten=Zle.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Xle.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Jle.bind(null,t.syncEngine),n}function gce(e,t,n={}){const r=new Jo;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new xI({next:g=>{h.Nu(),o.enqueueAndForget(()=>wI(s,f));const v=g.docs.has(a);!v&&g.fromCache?u.reject(new Le(we.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?u.reject(new Le(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new SI(LS(a.path),h,{includeMetadataChanges:!0,qa:!0});return CI(s,f)}(await bb(e),e.asyncQueue,t,n,r)),r.promise}function mce(e,t,n={}){const r=new Jo;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new xI({next:g=>{h.Nu(),o.enqueueAndForget(()=>wI(s,f)),g.fromCache&&l.source==="server"?u.reject(new Le(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new SI(a,h,{includeMetadataChanges:!0,qa:!0});return CI(s,f)}(await bb(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="firestore.googleapis.com",gV=!0;class mV{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Le(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k3,this.ssl=gV}else this.host=t.host,this.ssl=t.ssl??gV;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Wae)throw new Le(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Moe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_3(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $S{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mV({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Le(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mV(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Soe;switch(r.type){case"firstParty":return new Toe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pV.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),pV.delete(n),r.terminate())}(this),Promise.resolve()}}function vce(e,t,n,r={}){e=Ti(e,$S);const i=Oc(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(NP(`https://${a}`),VP("Firestore",!0)),s.host!==k3&&s.host!==a&&gf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!rl(l,o)&&(e._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=si.MOCK_USER;else{u=P4(r.mockUserToken,e._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Le(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new si(f)}e._authCredentials=new Eoe(new Sj(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Hc(this.firestore,t,this._query)}}class Vn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vn(this.firestore,t,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Lv(n,Vn._jsonSchema))return new Vn(t,r||null,new it(gn.fromString(n.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:gr("string",Vn._jsonSchemaVersion),referencePath:gr("string")};class hc extends Hc{constructor(t,n,r){super(t,n,LS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vn(this.firestore,null,new it(t))}withConverter(t){return new hc(this.firestore,t,this._path)}}function qf(e,t,...n){if(e=Dn(e),Ej("collection","path",t),e instanceof $S){const r=gn.fromString(t,...n);return PN(r),new hc(e,null,r)}{if(!(e instanceof Vn||e instanceof hc))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(gn.fromString(t,...n));return PN(r),new hc(e.firestore,null,r)}}function ua(e,t,...n){if(e=Dn(e),arguments.length===1&&(t=QP.newId()),Ej("doc","path",t),e instanceof $S){const r=gn.fromString(t,...n);return AN(r),new Vn(e,null,new it(r))}{if(!(e instanceof Vn||e instanceof hc))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(gn.fromString(t,...n));return AN(r),new Vn(e.firestore,e instanceof hc?e.converter:null,new it(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="AsyncQueue";class yV{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hI(this,"async_queue_retry"),this._c=()=>{const r=ix();r&&Ge(vV,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=ix();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ix();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Jo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jf(t))throw t;Ge(vV,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,ol("INTERNAL UNHANDLED ERROR: ",CV(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=vI.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ot(47125,{Pc:CV(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CV(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class da extends $S{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new yV,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yV(t),this._firestoreClient=void 0,await t}}}function yce(e,t){const n=typeof e=="object"?e:GP(),r=typeof e=="string"?e:hb,i=PS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=T4("firestore");s&&vce(i,...s)}return i}function zv(e){if(e._terminated)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Cce(e),e._firestoreClient}function Cce(e){const t=e._freezeSettings(),n=function(i,s,o,a){return new Uoe(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,_3(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new dce(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this._byteString=t}static fromBase64String(t){try{return new is(Jr.fromBase64String(t))}catch(n){throw new Le(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new is(Jr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lv(t,is._jsonSchema))return is.fromBase64String(t.bytes)}}is._jsonSchemaVersion="firestore/bytes/1.0",is._jsonSchema={type:gr("string",is._jsonSchemaVersion),bytes:gr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Le(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Le(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Le(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ta._jsonSchemaVersion}}static fromJSON(t){if(Lv(t,ta._jsonSchema))return new ta(t.latitude,t.longitude)}}ta._jsonSchemaVersion="firestore/geoPoint/1.0",ta._jsonSchema={type:gr("string",ta._jsonSchemaVersion),latitude:gr("number"),longitude:gr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:na._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lv(t,na._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new na(t.vectorValues);throw new Le(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}na._jsonSchemaVersion="firestore/vectorValue/1.0",na._jsonSchema={type:gr("string",na._jsonSchemaVersion),vectorValues:gr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=/^__.*__$/;class bce{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Bc(t,this.data,this.fieldMask,n,this.fieldTransforms):new Vv(t,this.data,n,this.fieldTransforms)}}class O3{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Bc(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function L3(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:e})}}class qS{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new qS({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Sb(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(L3(this.Ac)&&wce.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Sce{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||US(t)}Cc(t,n,r,i=!1){return new qS({Ac:t,methodName:n,Dc:r,path:Kr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jv(e){const t=e._freezeSettings(),n=US(e._databaseId);return new Sce(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DI(e,t,n,r,i,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);FI("Data must be an object, but it was:",o,r);const a=H3(r,o);let l,u;if(s.merge)l=new ss(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const g=gD(t,f,n);if(!o.contains(g))throw new Le(we.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);z3(h,g)||h.push(g)}l=new ss(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new bce(new Ei(a),l,u)}class KS extends Kf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof KS}}function N3(e,t,n){return new qS({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class AI extends Kf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=N3(this,t,!0),r=this.vc.map(s=>Sd(s,n)),i=new Cf(r);return new iI(t.path,i)}isEqual(t){return t instanceof AI&&rl(this.vc,t.vc)}}class PI extends Kf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=N3(this,t,!0),r=this.vc.map(s=>Sd(s,n)),i=new wf(r);return new iI(t.path,i)}isEqual(t){return t instanceof PI&&rl(this.vc,t.vc)}}class II extends Kf{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new Mm(t.serializer,Kj(t.serializer,this.Fc));return new iI(t.path,n)}isEqual(t){return t instanceof II&&this.Fc===t.Fc}}function V3(e,t,n,r){const i=e.Cc(1,t,n);FI("Data must be an object, but it was:",i,r);const s=[],o=Ei.empty();Vc(r,(l,u)=>{const h=MI(t,l,n);u=Dn(u);const f=i.yc(h);if(u instanceof KS)s.push(h);else{const g=Sd(u,f);g!=null&&(s.push(h),o.set(h,g))}});const a=new ss(s);return new O3(o,a,i.fieldTransforms)}function B3(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[gD(t,r,n)],l=[i];if(s.length%2!=0)throw new Le(we.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(gD(t,s[g])),l.push(s[g+1]);const u=[],h=Ei.empty();for(let g=a.length-1;g>=0;--g)if(!z3(u,a[g])){const v=a[g];let C=l[g];C=Dn(C);const S=o.yc(v);if(C instanceof KS)u.push(v);else{const R=Sd(C,S);R!=null&&(u.push(v),h.set(v,R))}}const f=new ss(u);return new O3(h,f,o.fieldTransforms)}function Ece(e,t,n,r=!1){return Sd(n,e.Cc(r?4:3,t))}function Sd(e,t){if(G3(e=Dn(e)))return FI("Unsupported field value:",t,e),H3(e,t);if(e instanceof Kf)return function(r,i){if(!L3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Sd(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xn.fromDate(r);return{timestampValue:mb(i.serializer,s)}}if(r instanceof xn){const s=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mb(i.serializer,s)}}if(r instanceof ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof is)return{bytesValue:o3(i.serializer,r._byteString)};if(r instanceof Vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof na)return function(o,a){return{mapValue:{fields:{[Mj]:{stringValue:_j},[fb]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return rI(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${_S(r)}`)}(e,t)}function H3(e,t){const n={};return Tj(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vc(e,(r,i)=>{const s=Sd(i,t.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function G3(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof xn||e instanceof ta||e instanceof is||e instanceof Vn||e instanceof Kf||e instanceof na)}function FI(e,t,n){if(!G3(n)||!Rj(n)){const r=_S(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function gD(e,t,n){if((t=Dn(t))instanceof Uv)return t._internalPath;if(typeof t=="string")return MI(e,t);throw Sb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rce=new RegExp("[~\\*/\\[\\]]");function MI(e,t,n){if(t.search(Rce)>=0)throw Sb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Uv(...t.split("."))._internalPath}catch{throw Sb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Sb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Le(we.INVALID_ARGUMENT,a+e+l)}function z3(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(YS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xce extends Eb{data(){return super.data()}}function YS(e,t){return typeof t=="string"?MI(e,t):t instanceof Uv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Le(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _I{}class j3 extends _I{}function XS(e,t,...n){let r=[];t instanceof _I&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof OI).length,a=s.filter(l=>l instanceof QS).length;if(o>1||o>0&&a>0)throw new Le(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class QS extends j3{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new QS(t,n,r)}_apply(t){const n=this._parse(t);return $3(t._query,n),new Hc(t.firestore,t.converter,sD(t._query,n))}_parse(t){const n=jv(t.firestore);return function(s,o,a,l,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Le(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){SV(f,h);const C=[];for(const S of f)C.push(bV(l,s,S));g={arrayValue:{values:C}}}else g=bV(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||SV(f,h),g=Ece(a,o,f,h==="in"||h==="not-in");return pr.create(u,h,g)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function kI(e,t,n){const r=t,i=YS("where",e);return QS._create(i,r,n)}class OI extends _I{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new OI(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:go.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)$3(o,l),o=sD(o,l)}(t._query,n),new Hc(t.firestore,t.converter,sD(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class LI extends j3{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new LI(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fm(s,o)}(t._query,this._field,this._direction);return new Hc(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function W3(e,t="asc"){const n=t,r=YS("orderBy",e);return LI._create(r,n)}function bV(e,t,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new Le(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gj(t)&&n.indexOf("/")!==-1)throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(gn.fromString(n));if(!it.isDocumentKey(r))throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NN(e,new it(r))}if(n instanceof Vn)return NN(e,n._key);throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_S(n)}.`)}function SV(e,t){if(!Array.isArray(e)||e.length===0)throw new Le(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $3(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Le(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Le(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class q3{convertValue(t,n="none"){switch(Rc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return er(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ec(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ot(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Vc(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){const n=t.fields?.[fb].arrayValue?.values?.map(r=>er(r.doubleValue));return new na(n)}convertGeoPoint(t){return new ta(er(t.latitude),er(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=OS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Am(t));default:return null}}convertTimestamp(t){const n=Sc(t);return new xn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=gn.fromString(t);$t(f3(r),9688,{name:t});const i=new Pm(r.get(1),r.get(3)),s=new it(r.popFirst(5));return i.isEqual(n)||ol(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Tce extends q3{constructor(t){super(),this.firestore=t}convertBytes(t){return new is(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}class Fh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fc extends Eb{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new xw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(YS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=fc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fc._jsonSchemaVersion="firestore/documentSnapshot/1.0",fc._jsonSchema={type:gr("string",fc._jsonSchemaVersion),bundleSource:gr("string","DocumentSnapshot"),bundleName:gr("string"),bundle:gr("string")};class xw extends fc{data(t={}){return super.data(t)}}class Nu{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new xw(this._firestore,this._userDataWriter,r.key,r,new Fh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new xw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new xw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Dce(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=QP.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Dce(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ace(e){e=Ti(e,Vn);const t=Ti(e.firestore,da);return gce(zv(t),e._key).then(n=>Z3(t,e,n))}Nu._jsonSchemaVersion="firestore/querySnapshot/1.0",Nu._jsonSchema={type:gr("string",Nu._jsonSchemaVersion),bundleSource:gr("string","QuerySnapshot"),bundleName:gr("string"),bundle:gr("string")};class ZS extends q3{constructor(t){super(),this.firestore=t}convertBytes(t){return new is(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function K3(e){e=Ti(e,Hc);const t=Ti(e.firestore,da),n=zv(t),r=new ZS(t);return U3(e._query),mce(n,e._query).then(i=>new Nu(t,r,e,i))}function Y3(e,t,n){e=Ti(e,Vn);const r=Ti(e.firestore,da),i=NI(e.converter,t,n);return JS(r,[DI(jv(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Yr.none())])}function mD(e,t,n,...r){e=Ti(e,Vn);const i=Ti(e.firestore,da),s=jv(i);let o;return o=typeof(t=Dn(t))=="string"||t instanceof Uv?B3(s,"updateDoc",e._key,t,n,r):V3(s,"updateDoc",e._key,t),JS(i,[o.toMutation(e._key,Yr.exists(!0))])}function X3(e){return JS(Ti(e.firestore,da),[new GS(e._key,Yr.none())])}function Pce(e,t){const n=Ti(e.firestore,da),r=ua(e),i=NI(e.converter,t);return JS(n,[DI(jv(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function Q3(e,...t){e=Dn(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||wV(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wV(t[r])){const l=t[r];t[r]=l.next?.bind(l),t[r+1]=l.error?.bind(l),t[r+2]=l.complete?.bind(l)}let s,o,a;if(e instanceof Vn)o=Ti(e.firestore,da),a=LS(e._key.path),s={next:l=>{t[r]&&t[r](Z3(o,e,l))},error:t[r+1],complete:t[r+2]};else{const l=Ti(e,Hc);o=Ti(l.firestore,da),a=l._query;const u=new ZS(o);s={next:h=>{t[r]&&t[r](new Nu(o,u,l,h))},error:t[r+1],complete:t[r+2]},U3(e._query)}return function(u,h,f,g){const v=new xI(g),C=new SI(h,v,f);return u.asyncQueue.enqueueAndForget(async()=>CI(await bb(u),C)),()=>{v.Nu(),u.asyncQueue.enqueueAndForget(async()=>wI(await bb(u),C))}}(zv(o),a,i,s)}function JS(e,t){return function(r,i){const s=new Jo;return r.asyncQueue.enqueueAndForget(async()=>ece(await fce(r),i,s)),s.promise}(zv(e),t)}function Z3(e,t,n){const r=n.docs.get(t._key),i=new ZS(e);return new fc(e,i,t._key,r,new Fh(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice={maxAttempts:5};function Og(e,t){if((e=Dn(e)).firestore!==t)throw new Le(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=jv(t)}get(t){const n=Og(t,this._firestore),r=new Tce(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ot(24041);const s=i[0];if(s.isFoundDocument())return new Eb(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Eb(this._firestore,r,n._key,null,n.converter);throw ot(18433,{doc:s})})}set(t,n,r){const i=Og(t,this._firestore),s=NI(i.converter,n,r),o=DI(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(t,n,r,...i){const s=Og(t,this._firestore);let o;return o=typeof(n=Dn(n))=="string"||n instanceof Uv?B3(this._dataReader,"Transaction.update",s._key,n,r,i):V3(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(t){const n=Og(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mce extends Fce{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Og(t,this._firestore),r=new ZS(this._firestore);return super.get(t).then(i=>new fc(this._firestore,r,n._key,i._document,new Fh(!1,!1),n.converter))}}function _ce(e,t,n){e=Ti(e,da);const r={...Ice,...n};return function(s){if(s.maxAttempts<1)throw new Le(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Jo;return s.asyncQueue.enqueueAndForget(async()=>{const u=await pce(s);new uce(s.asyncQueue,u,a,o,l).ju()}),l.promise}(zv(e),i=>t(new Mce(e,i)),r)}function kce(...e){return new AI("arrayUnion",e)}function Oce(...e){return new PI("arrayRemove",e)}function Lce(e){return new II("increment",e)}(function(t,n=!0){(function(i){zf=i})(yd),Zu(new wc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new da(new Roe(r.getProvider("auth-internal")),new Doe(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pm(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xo(RN,xN,t),Xo(RN,xN,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="firebasestorage.googleapis.com",e5="storageBucket",Nce=120*1e3,Vce=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends vo{constructor(t,n,r=0){super(ox(t),`Firebase Storage: ${n} (${ox(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ox(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $n;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($n||($n={}));function ox(e){return"storage/"+e}function VI(){const e="An unknown error occurred, please check the error payload for server response.";return new Kn($n.UNKNOWN,e)}function Bce(e){return new Kn($n.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Hce(e){return new Kn($n.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gce(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kn($n.UNAUTHENTICATED,e)}function zce(){return new Kn($n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Uce(e){return new Kn($n.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function jce(){return new Kn($n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wce(){return new Kn($n.CANCELED,"User canceled the upload/download.")}function $ce(e){return new Kn($n.INVALID_URL,"Invalid URL '"+e+"'.")}function qce(e){return new Kn($n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Kce(){return new Kn($n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e5+"' property when initializing the app?")}function Yce(){return new Kn($n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xce(){return new Kn($n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Qce(e){return new Kn($n.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vD(e){return new Kn($n.INVALID_ARGUMENT,e)}function t5(){return new Kn($n.APP_DELETED,"The Firebase app was deleted.")}function Zce(e){return new Kn($n.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yg(e,t){return new Kn($n.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function fg(e){throw new Kn($n.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=os.makeFromUrl(t,n)}catch{return new os(t,"")}if(r.path==="")return r;throw qce(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${i}/o${g}`,"i"),C={bucket:1,path:3},S=n===J3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",x=new RegExp(`^https?://${S}/${i}/${R}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:v,indices:C,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<T.length;k++){const O=T[k],P=O.regex.exec(t);if(P){const _=P[O.indices.bucket];let M=P[O.indices.path];M||(M=""),r=new os(_,M),O.postModify(r);break}}if(r==null)throw $ce(t);return r}}class Jce{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eue(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...R){u||(u=!0,t.apply(null,R))}function f(R){i=setTimeout(()=>{i=null,e(v,l())},R)}function g(){s&&clearTimeout(s)}function v(R,...x){if(u){g();return}if(R){g(),h.call(null,R,...x);return}if(l()||o){g(),h.call(null,R,...x);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let C=!1;function S(R){C||(C=!0,g(),!u&&(i!==null?(R||(a=2),clearTimeout(i),f(0)):R||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function tue(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nue(e){return e!==void 0}function rue(e){return typeof e=="object"&&!Array.isArray(e)}function BI(e){return typeof e=="string"||e instanceof String}function EV(e){return HI()&&e instanceof Blob}function HI(){return typeof Blob<"u"}function RV(e,t,n,r){if(r<t)throw vD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw vD(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function n5(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Vu||(Vu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iue(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(t,n,r,i,s,o,a,l,u,h,f,g=!0,v=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,S)=>{this.resolve_=C,this.reject_=S,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new kC(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Vu.NO_ERROR,l=s.getStatus();if(!a||iue(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Vu.ABORT;r(!1,new kC(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kC(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());nue(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=VI();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?t5():Wce();o(l)}else{const l=jce();o(l)}};this.canceled_?n(!1,new kC(!1,null,!0)):this.backoffId_=eue(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&tue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kC{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function oue(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function aue(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function lue(e,t){t&&(e["X-Firebase-GMPID"]=t)}function cue(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function uue(e,t,n,r,i,s,o=!0,a=!1){const l=n5(e.urlParams),u=e.url+l,h=Object.assign({},e.headers);return lue(h,t),oue(h,n),aue(h,s),cue(h,r),new sue(u,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function due(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hue(...e){const t=due();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(HI())return new Blob(e);throw new Kn($n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fue(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(e){if(typeof atob>"u")throw Qce("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ax{constructor(t,n){this.data=t,this.contentType=n||null}}function gue(e,t){switch(e){case jo.RAW:return new ax(r5(t));case jo.BASE64:case jo.BASE64URL:return new ax(i5(e,t));case jo.DATA_URL:return new ax(vue(t),yue(t))}throw VI()}function r5(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function mue(e){let t;try{t=decodeURIComponent(e)}catch{throw Yg(jo.DATA_URL,"Malformed data URL.")}return r5(t)}function i5(e,t){switch(e){case jo.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Yg(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case jo.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Yg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pue(t)}catch(i){throw i.message.includes("polyfill")?i:Yg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class s5{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Yg(jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Cue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function vue(e){const t=new s5(e);return t.base64?i5(jo.BASE64,t.rest):mue(t.rest)}function yue(e){return new s5(e).contentType}function Cue(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n){let r=0,i="";EV(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(EV(this.data_)){const r=this.data_,i=fue(r,t,n);return i===null?null:new sc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new sc(r,!0)}}static getBlob(...t){if(HI()){const n=t.map(r=>r instanceof sc?r.data_:r);return new sc(hue.apply(null,n))}else{const n=t.map(o=>BI(o)?gue(jo.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new sc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(e){let t;try{t=JSON.parse(e)}catch{return null}return rue(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wue(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function bue(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function a5(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sue(e,t){return t}class Ci{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Sue}}let OC=null;function Eue(e){return!BI(e)||e.length<2?e:a5(e)}function l5(){if(OC)return OC;const e=[];e.push(new Ci("bucket")),e.push(new Ci("generation")),e.push(new Ci("metageneration")),e.push(new Ci("name","fullPath",!0));function t(s,o){return Eue(o)}const n=new Ci("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ci("size");return i.xform=r,e.push(i),e.push(new Ci("timeCreated")),e.push(new Ci("updated")),e.push(new Ci("md5Hash",null,!0)),e.push(new Ci("cacheControl",null,!0)),e.push(new Ci("contentDisposition",null,!0)),e.push(new Ci("contentEncoding",null,!0)),e.push(new Ci("contentLanguage",null,!0)),e.push(new Ci("contentType",null,!0)),e.push(new Ci("metadata","customMetadata",!0)),OC=e,OC}function Rue(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new os(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function xue(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Rue(r,e),r}function c5(e,t,n){const r=o5(t);return r===null?null:xue(e,r,n)}function Tue(e,t,n,r){const i=o5(t);if(i===null||!BI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const h=e.bucket,f=e.fullPath,g="/b/"+o(h)+"/o/"+o(f),v=eE(g,n,r),C=n5({alt:"media",token:u});return v+C})[0]}function Due(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class GI{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(e){if(!e)throw VI()}function Aue(e,t){function n(r,i){const s=c5(e,i,t);return u5(s!==null),s}return n}function Pue(e,t){function n(r,i){const s=c5(e,i,t);return u5(s!==null),Tue(s,i,e.host,e._protocol)}return n}function d5(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zce():i=Gce():n.getStatus()===402?i=Hce(e.bucket):n.getStatus()===403?i=Uce(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function h5(e){const t=d5(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=Bce(e.path)),s.serverResponse=i.serverResponse,s}return n}function Iue(e,t,n){const r=t.fullServerUrl(),i=eE(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new GI(i,s,Pue(e,n),o);return a.errorHandler=h5(t),a}function Fue(e,t){const n=t.fullServerUrl(),r=eE(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(l,u){}const a=new GI(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=h5(t),a}function Mue(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function _ue(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Mue(null,t)),r}function kue(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let k=0;k<2;k++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=_ue(t,r,i),h=Due(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=sc.getBlob(f,r,g);if(v===null)throw Yce();const C={name:u.fullPath},S=eE(s,e.host,e._protocol),R="POST",x=e.maxUploadRetryTime,D=new GI(S,R,Aue(e,n),x);return D.urlParams=C,D.headers=o,D.body=v.uploadData(),D.errorHandler=d5(t),D}class Oue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vu.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vu.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vu.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,s){if(this.sent_)throw fg("cannot .send() more than once");if(Oc(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Lue extends Oue{initXhr(){this.xhr_.responseType="text"}}function zI(){return new Lue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,n){this._service=t,n instanceof os?this._location=n:this._location=os.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new rd(t,n)}get root(){const t=new os(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a5(this._location.path)}get storage(){return this._service}get parent(){const t=wue(this._location.path);if(t===null)return null;const n=new os(this._location.bucket,t);return new rd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Zce(t)}}function Nue(e,t,n){e._throwIfRoot("uploadBytes");const r=kue(e.storage,e._location,l5(),new sc(t,!0),n);return e.storage.makeRequestWithTokens(r,zI).then(i=>({metadata:i,ref:e}))}function Vue(e){e._throwIfRoot("getDownloadURL");const t=Iue(e.storage,e._location,l5());return e.storage.makeRequestWithTokens(t,zI).then(n=>{if(n===null)throw Xce();return n})}function Bue(e){e._throwIfRoot("deleteObject");const t=Fue(e.storage,e._location);return e.storage.makeRequestWithTokens(t,zI)}function Hue(e,t){const n=bue(e._location.path,t),r=new os(e._location.bucket,n);return new rd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gue(e){return/^[A-Za-z]+:\/\//.test(e)}function zue(e,t){return new rd(e,t)}function f5(e,t){if(e instanceof UI){const n=e;if(n._bucket==null)throw Kce();const r=new rd(n,n._bucket);return t!=null?f5(r,t):r}else return t!==void 0?Hue(e,t):e}function Uue(e,t){if(t&&Gue(t)){if(e instanceof UI)return zue(e,t);throw vD("To use ref(service, url), the first argument must be a Storage instance.")}else return f5(e,t)}function xV(e,t){const n=t?.[e5];return n==null?null:os.makeFromBucketSpec(n,e)}function jue(e,t,n,r={}){e.host=`${t}:${n}`;const i=Oc(t);i&&(NP(`https://${e.host}/b`),VP("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:P4(s,e.app.options.projectId))}class UI{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=J3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nce,this._maxUploadRetryTime=Vce,this._requests=new Set,i!=null?this._bucket=os.makeFromBucketSpec(i,this._host):this._bucket=xV(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=os.makeFromBucketSpec(this._url,t):this._bucket=xV(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){RV("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){RV("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rd(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Jce(t5());{const o=uue(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const TV="@firebase/storage",DV="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="storage";function Wue(e,t,n){return e=Dn(e),Nue(e,t,n)}function $ue(e){return e=Dn(e),Vue(e)}function que(e){return e=Dn(e),Bue(e)}function g5(e,t){return e=Dn(e),Uue(e,t)}function Kue(e=GP(),t){e=Dn(e);const r=PS(e,p5).getImmediate({identifier:t}),i=T4("storage");return i&&Yue(r,...i),r}function Yue(e,t,n,r={}){jue(e,t,n,r)}function Xue(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new UI(n,r,i,t,yd)}function Que(){Zu(new wc(p5,Xue,"PUBLIC").setMultipleInstances(!0)),Xo(TV,DV,""),Xo(TV,DV,"esm2020")}Que();const jI=M4(aie),WI=woe(jI),zi=yce(jI),m5=Kue(jI);var Fn=(e=>(e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMINISTRATOR="ADMINISTRATOR",e))(Fn||{});const $I="users",Zue=async(e,t)=>{await Y3(ua(zi,$I,t),e)},Jue=async e=>(await Ace(ua(zi,$I,e))).data(),v5=async()=>(await K3(XS(qf(zi,$I),kI("role","==",Fn.STUDENT)))).docs.map(t=>t.data()),ede=async(e,t)=>{const n=await ose(WI,e,t);return await Jue(n.user.uid)},tde=async e=>{const t=e.name.slice(0,3)+e.email.slice(0,3),n=await sse(WI,e.email,t);return e={...e,id:n.user.uid},await Zue(e,n.user.uid),e},nde=async()=>{await cse(WI)},AV=e=>{let t;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const g=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(v=>v(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,i,a);return a},rde=e=>e?AV(e):AV,ide=e=>e;function sde(e,t=ide){const n=K.useSyncExternalStore(e.subscribe,K.useCallback(()=>t(e.getState()),[e,t]),K.useCallback(()=>t(e.getInitialState()),[e,t]));return K.useDebugValue(n),n}const PV=e=>{const t=rde(e),n=r=>sde(t,r);return Object.assign(n,t),n},tE=e=>e?PV(e):PV,va=tE(e=>({user:null,setUser:t=>e({user:t})})),IV=({onNavigate:e})=>{const t=nP(),{user:n,setUser:r}=va(),i=a=>{t(a),e&&e()},s=()=>{nde(),t("/"),r(null),localStorage.removeItem("user")},o=n?.role===Fn.TEACHER||n?.role===Fn.ADMINISTRATOR;return I.jsxs(mZ,{children:[I.jsx(gh,{icon:I.jsx(tne,{size:18}),onClick:()=>i("/dashboard/mapa"),children:"Mapa Interactivo"}),o&&I.jsxs(I.Fragment,{children:[I.jsx(gh,{icon:I.jsx(Xa,{size:18}),onClick:()=>i("/dashboard/estudiantes"),children:"Estudiantes"}),I.jsx(gh,{icon:I.jsx(Yte,{size:18}),onClick:()=>i("/dashboard/grupos"),children:"Grupos"})]}),I.jsx(gh,{icon:I.jsx(MP,{size:18}),onClick:()=>i("/dashboard/chatbot"),children:"Chatbot"}),I.jsx(gh,{icon:I.jsx(Wte,{size:18}),onClick:()=>i("/dashboard/galeria/default-session"),children:"Galería"}),I.jsx(gh,{icon:I.jsx(Qte,{size:18}),onClick:s,children:"Cerrar Sesión"})]})},ode=()=>{const[e,t]=b.useState(!1),{collapseSidebar:n,collapsed:r}=LJ();return I.jsxs("div",{className:"d-flex flex-column vh-100",children:[I.jsx(Fte,{bg:"light",expand:"lg",className:"border-bottom px-3",children:I.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[I.jsx("div",{className:"fw-bold fs-4",children:"TutorInglés"}),I.jsx("div",{className:"d-lg-none",children:I.jsx(nr,{variant:"outline-primary",onClick:()=>t(!0),children:I.jsx(rne,{size:20})})}),I.jsx("div",{className:"d-none d-lg-block",children:I.jsx(nr,{variant:"outline-secondary",onClick:()=>n(),size:"sm",children:r?"☰":"←"})})]})}),I.jsxs("div",{className:"flex-grow-1 d-flex",children:[I.jsx("div",{className:"d-none d-lg-block",children:I.jsx(fZ,{breakPoint:"lg",collapsed:!1,style:{height:"100%"},className:"bg-dark",children:I.jsx(IV,{})})}),I.jsx("div",{className:"flex-grow-1 p-3",style:{overflowY:"auto"},children:I.jsx(IX,{})})]}),I.jsxs(Pg,{show:e,onHide:()=>t(!1),placement:"end",children:[I.jsx(Pg.Header,{closeButton:!0,children:I.jsx(Pg.Title,{children:"Menú"})}),I.jsx(Pg.Body,{children:I.jsx(IV,{onNavigate:()=>t(!1)})})]})]})};function y5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=y5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bu(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=y5(e))&&(r&&(r+=" "),r+=t);return r}function ade(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}ade(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Wv=e=>typeof e=="number"&&!isNaN(e),id=e=>typeof e=="string",ll=e=>typeof e=="function",lde=e=>id(e)||Wv(e),yD=e=>id(e)||ll(e)?e:null,cde=(e,t)=>e===!1||Wv(e)&&e>0?e:t,CD=e=>b.isValidElement(e)||id(e)||ll(e)||Wv(e);function ude(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function dde({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:h,playToast:f}){let g=n?`${e}--${o}`:e,v=n?`${t}--${o}`:t,C=b.useRef(0);return b.useLayoutEffect(()=>{let S=u.current,R=g.split(" "),x=D=>{D.target===u.current&&(f(),S.removeEventListener("animationend",x),S.removeEventListener("animationcancel",x),C.current===0&&D.type!=="animationcancel"&&S.classList.remove(...R))};S.classList.add(...R),S.addEventListener("animationend",x),S.addEventListener("animationcancel",x)},[]),b.useEffect(()=>{let S=u.current,R=()=>{S.removeEventListener("animationend",R),r?ude(S,l,i):l()};h||(a?R():(C.current=1,S.className+=` ${v}`,S.addEventListener("animationend",R)))},[h]),K.createElement(K.Fragment,null,s)}}function FV(e,t){return{content:C5(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function C5(e,t,n=!1){return b.isValidElement(e)&&!id(e.type)?b.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ll(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function hde({closeToast:e,theme:t,ariaLabel:n="close"}){return K.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},K.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},K.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function fde({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:h}){let f=i||o&&a===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(g.transform=`scaleX(${a})`);let v=Bu("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),C=ll(s)?s({rtl:l,type:r,defaultClassName:v}):Bu(v,s),S={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return K.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},K.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),K.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:C,style:g,...S}))}var pde=1,w5=()=>`${pde++}`;function gde(e,t,n){let r=1,i=0,s=[],o=[],a=t,l=new Map,u=new Set,h=D=>(u.add(D),()=>u.delete(D)),f=()=>{o=Array.from(l.values()),u.forEach(D=>D())},g=({containerId:D,toastId:T,updateId:k})=>{let O=D?D!==e:e!==1,P=l.has(T)&&k==null;return O||P},v=(D,T)=>{l.forEach(k=>{var O;(T==null||T===k.props.toastId)&&((O=k.toggle)==null||O.call(k,D))})},C=D=>{var T,k;(k=(T=D.props)==null?void 0:T.onClose)==null||k.call(T,D.removalReason),D.isActive=!1},S=D=>{if(D==null)l.forEach(C);else{let T=l.get(D);T&&C(T)}f()},R=()=>{i-=s.length,s=[]},x=D=>{var T,k;let{toastId:O,updateId:P}=D.props,_=P==null;D.staleId&&l.delete(D.staleId),D.isActive=!0,l.set(O,D),f(),n(FV(D,_?"added":"updated")),_&&((k=(T=D.props).onOpen)==null||k.call(T))};return{id:e,props:a,observe:h,toggle:v,removeToast:S,toasts:l,clearQueue:R,buildToast:(D,T)=>{if(g(T))return;let{toastId:k,updateId:O,data:P,staleId:_,delay:M}=T,N=O==null;N&&i++;let B={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(T).filter(([U,G])=>G!=null)),toastId:k,updateId:O,data:P,isIn:!1,className:yD(T.className||a.toastClassName),progressClassName:yD(T.progressClassName||a.progressClassName),autoClose:T.isLoading?!1:cde(T.autoClose,a.autoClose),closeToast(U){l.get(k).removalReason=U,S(k)},deleteToast(){let U=l.get(k);if(U!=null){if(n(FV(U,"removed")),l.delete(k),i--,i<0&&(i=0),s.length>0){x(s.shift());return}f()}}};B.closeButton=a.closeButton,T.closeButton===!1||CD(T.closeButton)?B.closeButton=T.closeButton:T.closeButton===!0&&(B.closeButton=CD(a.closeButton)?a.closeButton:!0);let H={content:D,props:B,staleId:_};a.limit&&a.limit>0&&i>a.limit&&N?s.push(H):Wv(M)?setTimeout(()=>{x(H)},M):x(H)},setProps(D){a=D},setToggle:(D,T)=>{let k=l.get(D);k&&(k.toggle=T)},isToastActive:D=>{var T;return(T=l.get(D))==null?void 0:T.isActive},getSnapshot:()=>o}}var Ri=new Map,_m=[],wD=new Set,mde=e=>wD.forEach(t=>t(e)),b5=()=>Ri.size>0;function vde(){_m.forEach(e=>E5(e.content,e.options)),_m=[]}var yde=(e,{containerId:t})=>{var n;return(n=Ri.get(t||1))==null?void 0:n.toasts.get(e)};function S5(e,t){var n;if(t)return!!((n=Ri.get(t))!=null&&n.isToastActive(e));let r=!1;return Ri.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function Cde(e){if(!b5()){_m=_m.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||lde(e))Ri.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ri.get(e.containerId);t?t.removeToast(e.id):Ri.forEach(n=>{n.removeToast(e.id)})}}var wde=(e={})=>{Ri.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function E5(e,t){CD(e)&&(b5()||_m.push({content:e,options:t}),Ri.forEach(n=>{n.buildToast(e,t)}))}function bde(e){var t;(t=Ri.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function R5(e,t){Ri.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function Sde(e){let t=e.containerId||1;return{subscribe(n){let r=gde(t,e,mde);Ri.set(t,r);let i=r.observe(n);return vde(),()=>{i(),Ri.delete(t)}},setProps(n){var r;(r=Ri.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ri.get(t))==null?void 0:n.getSnapshot()}}}function Ede(e){return wD.add(e),()=>{wD.delete(e)}}function Rde(e){return e&&(id(e.toastId)||Wv(e.toastId))?e.toastId:w5()}function $v(e,t){return E5(e,t),t.toastId}function nE(e,t){return{...t,type:t&&t.type||e,toastId:Rde(t)}}function rE(e){return(t,n)=>$v(t,nE(e,n))}function sn(e,t){return $v(e,nE("default",t))}sn.loading=(e,t)=>$v(e,nE("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function xde(e,{pending:t,error:n,success:r},i){let s;t&&(s=id(t)?sn.loading(t,i):sn.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,h,f)=>{if(h==null){sn.dismiss(s);return}let g={type:u,...o,...i,data:f},v=id(h)?{render:h}:h;return s?sn.update(s,{...g,...v}):sn(v.render,{...g,...v}),f},l=ll(e)?e():e;return l.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),l}sn.promise=xde;sn.success=rE("success");sn.info=rE("info");sn.error=rE("error");sn.warning=rE("warning");sn.warn=sn.warning;sn.dark=(e,t)=>$v(e,nE("default",{theme:"dark",...t}));function Tde(e){Cde(e)}sn.dismiss=Tde;sn.clearWaitingQueue=wde;sn.isActive=S5;sn.update=(e,t={})=>{let n=yde(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:w5()};s.toastId!==e&&(s.staleId=e);let o=s.render||i;delete s.render,$v(o,s)}};sn.done=e=>{sn.update(e,{progress:1})};sn.onChange=Ede;sn.play=e=>R5(!0,e);sn.pause=e=>R5(!1,e);function Dde(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=b.useRef(Sde(e)).current;i(e);let s=(t=b.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:h}=u.props;l.has(h)||l.set(h,[]),l.get(h).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:S5,count:s?.length}}function Ade(e){let[t,n]=b.useState(!1),[r,i]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:h,closeOnClick:f}=e;bde({id:e.toastId,containerId:e.containerId,fn:n}),b.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{v()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||x(),window.addEventListener("focus",R),window.addEventListener("blur",x)}function v(){window.removeEventListener("focus",R),window.removeEventListener("blur",x)}function C(_){if(e.draggable===!0||e.draggable===_.pointerType){D();let M=s.current;o.canCloseOnClick=!0,o.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function S(_){let{top:M,bottom:N,left:B,right:H}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_.clientX>=B&&_.clientX<=H&&_.clientY>=M&&_.clientY<=N?x():R()}function R(){n(!0)}function x(){n(!1)}function D(){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",O)}function T(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",O)}function k(_){let M=s.current;if(o.canDrag&&M){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=_.clientX-o.start:o.delta=_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1);let N=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;M.style.transform=`translate3d(${N},0)`,M.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function O(){T();let _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let P={onPointerDown:C,onPointerUp:S};return a&&l&&(P.onMouseEnter=x,e.stacked||(P.onMouseLeave=R)),f&&(P.onClick=_=>{h&&h(_),o.canCloseOnClick&&u(!0)}),{playToast:R,pauseToast:x,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:P}}var Pde=typeof window<"u"?b.useLayoutEffect:b.useEffect,iE=({theme:e,type:t,isLoading:n,...r})=>K.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function Ide(e){return K.createElement(iE,{...e},K.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Fde(e){return K.createElement(iE,{...e},K.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Mde(e){return K.createElement(iE,{...e},K.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function _de(e){return K.createElement(iE,{...e},K.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function kde(){return K.createElement("div",{className:"Toastify__spinner"})}var bD={info:Fde,warning:Ide,success:Mde,error:_de,spinner:kde},Ode=e=>e in bD;function Lde({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(ll(r)?i=r({...s,isLoading:n}):b.isValidElement(r)?i=b.cloneElement(r,s):n?i=bD.spinner():Ode(t)&&(i=bD[t](s))),i}var Nde=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=Ade(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:h,hideProgressBar:f,closeToast:g,transition:v,position:C,className:S,style:R,progressClassName:x,updateId:D,role:T,progress:k,rtl:O,toastId:P,deleteToast:_,isIn:M,isLoading:N,closeOnClick:B,theme:H,ariaLabel:U}=e,G=Bu("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":B}),ee=ll(S)?S({rtl:O,position:C,type:h,defaultClassName:G}):Bu(G,S),ie=Lde(e),$=!!k||!l,Z={closeToast:g,type:h,theme:H},te=null;return o===!1||(ll(o)?te=o(Z):b.isValidElement(o)?te=b.cloneElement(o,Z):te=hde(Z)),K.createElement(v,{isIn:M,done:_,position:C,preventExitTransition:n,nodeRef:r,playToast:s},K.createElement("div",{id:P,tabIndex:0,onClick:u,"data-in":M,className:ee,...i,style:R,ref:r,...M&&{role:T,"aria-label":U}},ie!=null&&K.createElement("div",{className:Bu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},ie),C5(a,e,!t),te,!e.customProgressBar&&K.createElement(fde,{...D&&!$?{key:`p-${D}`}:{},rtl:O,theme:H,delay:l,isRunning:t,isIn:M,closeToast:g,hide:f,type:h,className:x,controlledProgress:$,progress:k||0})))},Vde=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),x5=dde(Vde("bounce",!0)),Bde={position:"top-right",transition:x5,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function T5(e){let t={...Bde,...e},n=e.stacked,[r,i]=b.useState(!0),s=b.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=Dde(t),{className:u,style:h,rtl:f,containerId:g,hotKeys:v}=t;function C(R){let x=Bu("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":f});return ll(u)?u({position:R,rtl:f,defaultClassName:x}):Bu(x,yD(u))}function S(){n&&(i(!0),sn.play())}return Pde(()=>{var R;if(n){let x=s.current.querySelectorAll('[data-in="true"]'),D=12,T=(R=t.position)==null?void 0:R.includes("top"),k=0,O=0;Array.from(x).reverse().forEach((P,_)=>{let M=P;M.classList.add("Toastify__toast--stacked"),_>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=T?"top":"bot");let N=k*(r?.2:1)+(r?0:D*_);M.style.setProperty("--y",`${T?N:N*-1}px`),M.style.setProperty("--g",`${D}`),M.style.setProperty("--s",`${1-(r?O:0)}`),k+=M.offsetHeight,O+=.025})}},[r,l,n]),b.useEffect(()=>{function R(x){var D;let T=s.current;v(x)&&((D=T.querySelector('[tabIndex="0"]'))==null||D.focus(),i(!1),sn.pause()),x.key==="Escape"&&(document.activeElement===T||T!=null&&T.contains(document.activeElement))&&(i(!0),sn.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[v]),K.createElement("section",{ref:s,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),sn.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((R,x)=>{let D=x.length?{...h}:{...h,pointerEvents:"none"};return K.createElement("div",{tabIndex:-1,className:C(R),"data-stacked":n,style:D,key:`c-${R}`},x.map(({content:T,props:k})=>K.createElement(Nde,{...k,stacked:n,collapseAll:S,isIn:a(k.toastId,k.containerId),key:`t-${k.key}`},T)))}))}const D5=e=>{if(console.log(e),e instanceof vo)switch(e.code){case"auth/invalid-credential":return"Correo electrónico o contraseña inválidos";case"auth/email-already-in-use":return"El correo electrónico ya está en uso";default:return"Ocurrió un error al iniciar sesión"}return"Ocurrió un error al iniciar sesión"},Hde=()=>{const{setUser:e}=va(),[t,n]=b.useState(""),[r,i]=b.useState(""),[s,o]=b.useState(!1),[a,l]=b.useState(!1),u=f=>{f.preventDefault(),l(!0),ede(t,r).then(g=>{e(g),localStorage.setItem("user",JSON.stringify(g))}).catch(g=>{sn.error(D5(g),{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{l(!1)})},h=()=>{o(f=>!f)};return I.jsxs(Em,{className:"d-flex align-items-center justify-content-center min-vh-100",children:[I.jsx(pf,{className:"w-100 justify-content-center",children:I.jsx(Yo,{xs:12,sm:10,md:6,lg:4,children:I.jsxs(hr,{className:"p-4 shadow",children:[I.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesión"}),I.jsxs(Yt,{onSubmit:u,children:[I.jsxs(Yt.Group,{className:"mb-3",controlId:"formEmail",children:[I.jsx(Yt.Label,{children:"Correo electrónico"}),I.jsx(Yt.Control,{type:"email",placeholder:"ejemplo@email.com",value:t,onChange:f=>n(f.target.value),required:!0})]}),I.jsxs(Yt.Group,{className:"mb-3",controlId:"formPassword",children:[I.jsx(Yt.Label,{children:"Contraseña"}),I.jsxs(Pu,{children:[I.jsx(Yt.Control,{type:s?"text":"password",placeholder:"••••••••",value:r,onChange:f=>i(f.target.value),required:!0}),I.jsx(nr,{variant:"outline-secondary",onClick:h,tabIndex:-1,children:s?I.jsx(Hte,{size:20}):I.jsx(zte,{size:20})})]})]}),I.jsx("div",{className:"d-grid",children:I.jsx(nr,{variant:"primary",type:"submit",disabled:a,children:a?I.jsx(fo,{animation:"border",size:"sm",className:"me-2"}):"Ingresar"})})]})]})})}),I.jsx(T5,{})]})},Gde="/TutorIngles/assets/avatar_1-DnfOShYq.mp4",zde="/TutorIngles/assets/avatar_2-D6oLQbC_.mp4",Ude="/TutorIngles/assets/avatar_3-BcPrN9QN.mp4",jde="/TutorIngles/assets/avatar_4-BVmCFxuO.mp4",Wde="/TutorIngles/assets/avatar_5-DQdjSsDe.mp4",MV="/TutorIngles/assets/mapa-colombia-1Bl1cRkB.png",$de="/TutorIngles/assets/choco-BBZz_lSB.png",qde="/TutorIngles/assets/narino-BPiHBDGg.png",Kde="/TutorIngles/assets/palenquera-CKdrs8GG.png",Yde="/TutorIngles/assets/nasa-Bgu4UTQT.png",Xde="/TutorIngles/assets/ni%C3%B1osikuani-CNppRRPB.png",Qde=[{id:1,region:"Vichada",position:{x:650,y:490},avatarImage:Xde,text:"Hello, my name is Jomo and I belong to the Sikuani indigenous people. I am from Vichada and I am ten years old. My language is Sikuani. I like to fish, hunt, gather fruits, and live in harmony with nature. My favorite tradition is when we dance and sing el cacho de venado.",videoSrc:Gde},{id:2,region:"Cauca",position:{x:200,y:630},avatarImage:Yde,text:"Hello everyone. My name is Wiya, which means 'bird' in Nasa Yuwe. I am eleven years old and I speak Nasa Yuwe, Spanish, and English. I like to play palmo, a traditional game in my community. My favorite tradition is weaving ruanas and backpacks called kwetanderas.",videoSrc:zde},{id:3,region:"Bolívar",position:{x:270,y:170},avatarImage:Kde,text:"Hi there. My name is Rosalina. I am twelve years old. I am from San Basilio de Palenque, Bolívar. I speak Spanish and Palenquera. I love designing colorful dresses with my grandmother and playing the marimba.",videoSrc:Ude},{id:4,region:"Nariño",position:{x:140,y:720},avatarImage:qde,text:"Hello everyone. My name is Santiago. I am nine years old. I speak Spanish and English. I was born in Pasto, Nariño. I love La Laguna de la Cocha and the Gold Museum. My favorite food is pusandao and paila ice cream.",videoSrc:jde},{id:5,region:"Chocó",position:{x:160,y:440},avatarImage:$de,text:"Hello everyone. My name is Camila. I am ten years old. I was born in Quibdó, Chocó. I like to dance chirimía and eat fish sancocho. I also love chontaduro with salt and sugar.",videoSrc:Wde}];function Zde(){const[e,t]=b.useState(null),[n,r]=b.useState(!1),i=b.useRef(null),s=()=>{e&&i.current&&(i.current.muted=!1,i.current.paused?i.current.play():i.current.pause())};return b.useEffect(()=>{const o=i.current;if(!o)return;const a=()=>r(!0),l=()=>r(!1),u=()=>r(!1);return o.addEventListener("play",a),o.addEventListener("pause",l),o.addEventListener("ended",u),()=>{o.removeEventListener("play",a),o.removeEventListener("pause",l),o.removeEventListener("ended",u)}},[e]),b.useEffect(()=>{e||r(!1)},[e]),I.jsxs("div",{className:"map-container",children:[I.jsx("img",{src:MV,alt:"Mapa de Colombia",className:"map-image",onError:o=>{const a=o.target;a.onerror=null,a.src=MV,console.error("Error loading map image")}}),Qde.map(o=>I.jsx("button",{className:"map-point",style:{left:`${o.position.x}px`,top:`${o.position.y}px`},onClick:()=>t(o),"aria-label":`Ver avatar de ${o.region}`},o.id)),I.jsxs(On,{show:!!e,onHide:()=>t(null),centered:!0,children:[I.jsx(On.Header,{closeButton:!0,children:I.jsx(On.Title,{children:e?.region})}),I.jsx(On.Body,{className:"text-center",children:e&&I.jsxs(I.Fragment,{children:[e.videoSrc?I.jsx("video",{ref:i,src:e.videoSrc,className:"avatar-video",width:"80%",controls:!1}):I.jsx("img",{src:e.avatarImage,alt:`Avatar de ${e.region}`,className:"avatar-image",onError:o=>{const a=o.target;a.onerror=null,a.src="/assets/default-avatar.png"}}),I.jsx("p",{className:"mt-3",children:e.text}),I.jsx(nr,{variant:"primary",onClick:s,children:n?"⏸ Pause":"▶ Play"})]})})]})]})}var sd=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:r}=this,i=a=>{const l=r?()=>r.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&i(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)i(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Jde(e,t){return t}function A5(e){return e?.getLocaleTextFunc()??Jde}function ehe(e,t,n,r){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(r):i,r)}function Za(e){return e==null||e===""?null:e}function Fe(e){return e!=null&&e!==""}function Tn(e){return!Fe(e)}function SD(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function km(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function the(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var P5=new Set(["__proto__","constructor","prototype"]);function nhe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!P5.has(r)))t(n,e[n])}}function Di(e,t,n=!0,r=!1){Fe(t)&&nhe(t,(i,s)=>{let o=e[i];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),_V(s)&&_V(o)&&!Array.isArray(o)?Di(o,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function Xg(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}function _V(e){return typeof e=="object"&&e!==null}var qI=class Su{static applyGlobalGridOptions(t){if(!Su.gridOptions)return{...t};let n={};return Di(n,Su.gridOptions,!0,!0),Su.mergeStrategy==="deep"?Di(n,t,!0,!0):n={...n,...t},Su.gridOptions.context&&(n.context=Su.gridOptions.context),t.context&&(Su.mergeStrategy==="deep"&&n.context&&Di(t.context,n.context,!0,!0),n.context=t.context),n}};qI.gridOptions=void 0;qI.mergeStrategy="shallow";var I5=qI;function rhe(e){return I5.gridOptions?.[e]}var F5={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function yo(e,t,n){n==null||typeof n=="string"&&n==""?M5(e,t):Co(e,t,n)}function Co(e,t,n){e.setAttribute(_5(t),n.toString())}function M5(e,t){e.removeAttribute(_5(t))}function _5(e){return`aria-${e}`}function od(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function ihe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function she(e){return e.getAttribute("aria-label")}function Ef(e,t){yo(e,"label",t)}function Om(e,t){yo(e,"labelledby",t)}function k5(e,t){yo(e,"live",t)}function ohe(e,t){yo(e,"atomic",t)}function ahe(e,t){yo(e,"relevant",t)}function lhe(e,t){yo(e,"invalid",t)}function che(e,t){yo(e,"disabled",t)}function O5(e,t){yo(e,"hidden",t)}function ED(e,t){Co(e,"expanded",t)}function uhe(e,t){Co(e,"setsize",t)}function dhe(e,t){Co(e,"posinset",t)}function hhe(e,t){Co(e,"rowcount",t)}function L5(e,t){Co(e,"rowindex",t)}function fhe(e,t){Co(e,"rowspan",t)}function phe(e,t){Co(e,"colcount",t)}function N5(e,t){Co(e,"colindex",t)}function ghe(e,t){Co(e,"colspan",t)}function mhe(e,t){Co(e,"sort",t)}function vhe(e){M5(e,"sort")}function RD(e,t){yo(e,"selected",t)}function yhe(e,t){yo(e,"controls",t)}function Che(e,t){yhe(e,t.id),Om(t,e.id)}function kV(e,t){yo(e,"owns",t)}function sE(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var lx,cx,ux,dx,xD,TD,hx;function Ed(){return lx===void 0&&(lx=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),lx}function V5(){return cx===void 0&&(cx=/(firefox)/i.test(navigator.userAgent)),cx}function B5(){return ux===void 0&&(ux=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),ux}function Hu(){return dx===void 0&&(dx=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),dx}function DD(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!V5())?null:t.toString()}function whe(){if(hx!==void 0)return hx;if(!document.body)return-1;let e=1e6;const t=V5()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),hx=e,e}function bhe(){return TD==null&&H5(),TD}function H5(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(TD=n,xD=n===0)}function G5(){return xD==null&&H5(),xD}var She="[tabindex], input, select, button, textarea, [href]",z5="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function KI(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,z5),s=ha(e);return r&&!i&&s}function Ln(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||O5(e,!t)}function Ehe(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||O5(e,!t)}function Lm(e,t){const n="disabled",r=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const s of i)r(s)}function Gu(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function Rd(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:h,marginTop:f,marginRight:g,marginBottom:v,marginLeft:C,boxSizing:S}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(v||"0"),marginLeft:parseFloat(C||"0"),boxSizing:S}}function YI(e){const t=Rd(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Nm(e){const t=Rd(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function U5(e){const{height:t,marginBottom:n,marginTop:r}=Rd(e);return Math.floor(t+n+r)}function Rb(e){const{width:t,marginLeft:n,marginRight:r}=Rd(e);return Math.floor(t+n+r)}function j5(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=Rd(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function xb(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function Tb(e,t,n){n&&(t*=-1),e.scrollLeft=t}function ms(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function cl(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function W5(e){return!!e.offsetParent}function ha(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!W5(e)||window.getComputedStyle(e).visibility!=="visible")}function XI(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Tw(e){return()=>{const t=e();return t?$5(t)||q5(t):!0}}function $5(e){return e.clientWidth<e.scrollWidth}function q5(e){return e.clientHeight<e.scrollHeight}function Db(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ra(e,t)}function ra(e,t){t=QI(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Qg(e,t){t=QI(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function QI(e){return typeof e=="number"?`${e}px`:e}function ZI(e){return e instanceof Node||e instanceof HTMLElement}function as(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function gl(e,t,n){const i=rW(e).ResizeObserver,s=i?new i(n):null;return s?.observe(t),()=>s?.disconnect()}function ml(e,t){const n=rW(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var K5="data-ref",fx;function OV(){return fx??(fx=document.createTextNode(" ")),fx.cloneNode()}function rr(e){const{attrs:t,children:n,cls:r,ref:i,role:s,tag:o}=e,a=document.createElement(o);if(r&&(a.className=r),i&&a.setAttribute(K5,i),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const u of n)u&&(typeof u=="string"?(a.appendChild(document.createTextNode(u)),l=!1):typeof u=="function"?a.appendChild(u()):(l&&(a.appendChild(OV()),l=!1),a.append(rr(u)),a.appendChild(OV())))}return a}var LV={};function JI(e,t){LV[t]||(e(),LV[t]=!0)}function ad(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Zg(e,...t){JI(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Wh(e,...t){JI(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var Rhe={pending:!1,funcs:[]},xhe={pending:!1,funcs:[]};function AD(e,t="setTimeout",n){const r=t==="raf"?xhe:Rhe;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const s=r.funcs.slice();r.funcs.length=0,r.pending=!1,s.forEach(o=>o())};t==="raf"?ml(n,i):window.setTimeout(i,0)}function Xr(e,t,n){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n)}}function NV(e,t){let n=0;return function(...r){const i=this,s=Date.now();s-n<t||(n=s,e.apply(i,r))}}function The(e,t,n=100,r){const i=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-i>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var Y5="https://www.ag-grid.com",ke="34.1.1",VV=2e3,BV=100,X5="_version_",Q5=null,$h=`${Y5}/javascript-data-grid`;function Dhe(e){Q5=e}function Ahe(e){$h=e}function Z5(e,t,n){return Q5?.getConsoleMessage(e,t)??[Mhe(e,t,n)]}function e1(e,t,n,r){e(`error #${t}`,...Z5(t,n,r))}function Phe(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function Ihe(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=Phe(e)),t}function Ab(e){return e===void 0?"undefined":e===null?"null":e}function PD(e,t){return`${e}?${t.toString()}`}function Fhe(e,t,n){const r=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=PD(e,t);for(const[s,o]of r){if(s===X5)continue;const a=i.length-n;if(a<=0)break;const l="...",u=a+l.length,h=o.length-u>BV?o.slice(0,o.length-u)+l:o.slice(0,BV)+l;t.set(s,h),i=PD(e,t)}return i}function J5(e,t){const n=new URLSearchParams;if(n.append(X5,ke),t)for(const s of Object.keys(t))n.append(s,Ihe(t[s]));const r=`${$h}/errors/${e}`,i=PD(r,n);return i.length<=VV?i:Fhe(r,n,VV)}var Mhe=(e,t,n)=>{const r=J5(e,t);return`${n?n+` 
`:""}Visit ${r}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function xe(...e){e1(Zg,e[0],e[1])}function an(...e){e1(Wh,e[0],e[1])}function Lg(e,t,n){e1(Wh,e,t,n)}function _he(e,t){const n=t[0];return`error #${n} `+Z5(n,t[1],e).join(" ")}function ia(...e){return _he(void 0,e)}function eW(e,t){return e.get("rowModelType")===t}function fr(e,t){return eW(e,"clientSide")}function xd(e,t){return eW(e,"serverSide")}function Zr(e,t){return e.get("domLayout")===t}function zu(e){return Ib(e)!==void 0}function tW(e){return typeof e.get("getRowHeight")=="function"}function khe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Dc(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),tW(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},u=i.getCallback("getRowHeight")(l);if(ID(u))return u===0&&xe(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&i.get("masterDetail"))return Ohe(i);const o=i.get("rowHeight");return{height:o&&ID(o)?o:r,estimated:!1}}function Ohe(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return ID(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Uu(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||Tn(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(xe(24),t.getDefaultRowHeight())}function ID(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function nW(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function ld(e,t,n,r){const i=e.getDomDataKey();let s=t[i];Tn(s)&&(s={},t[i]=s),s[n]=r}function Or(e){const{gos:t,eGridDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&Fe(i)?r=i():n&&(r=n.ownerDocument),r&&Fe(r)?r:document}function rW(e){return Or(e).defaultView||window}function Vm(e){return e.eGridDiv.getRootNode()}function Hn(e){return Vm(e).activeElement}function t1(e){let t=null,n=null;try{t=Or(e).fullscreenElement}catch{}finally{t||(t=Vm(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function Lhe(e){return t1(e)?.clientWidth??(window.innerWidth||-1)}function Nhe(e){return t1(e)?.clientHeight??(window.innerHeight||-1)}function Vhe(e,t,n){const i=e.getBoundingClientRect().height,s=Lhe(n)-2,o=Nhe(n)-2;if(!e.offsetParent)return;const l=j5(e.offsetParent),{clientY:u,clientX:h}=t;let f=u-l.top-i/2,g=h-l.left-10;const v=Or(n),C=v.defaultView||window,S=C.pageYOffset||v.documentElement.scrollTop,R=C.pageXOffset||v.documentElement.scrollLeft;s>0&&g+e.clientWidth>s+R&&(g=s+R-e.clientWidth),g<0&&(g=0),o>0&&f+e.clientHeight>o+S&&(f=o+S-e.clientHeight),f<0&&(f=0),e.style.left=`${g}px`,e.style.top=`${f}px`}function iW(e){const t=Hn(e);return t===null||t===Or(e).body}function qh(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function sW(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Zr(e,"print"))}function Ho(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function FD(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function oW(e){return e.get("grandTotalRow")}function aW(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function lW(e,t,n){return!!t.group&&!t.footer&&aW(e,n)}function Rf(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(JI(()=>xe(25,{id:r}),"getRowIdString"),r=String(r)),r}}function Bhe(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Hhe(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Kh(e){return e?.checkboxes??!0}function Dw(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function Pb(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function px(e){return e?.hideDisabledCheckboxes??!1}function Ghe(e){return typeof e.get("rowSelection")!="string"}function Ac(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function cW(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function zhe(e){const t=cW(e);return t===!0||t==="enableSelection"}function Uhe(e){const t=cW(e);return t===!0||t==="enableDeselection"}function MD(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function Ib(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Fb(e){return Ib(e)==="multiRow"}function jhe(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Mb(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function uW(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Bm(e){const t=Mb(e);return t==="descendants"||t==="filteredDescendants"}function HV(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function Whe(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function ls(e){return e.get("columnMenu")==="legacy"}function $he(e){return!ls(e)}function qhe(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Khe(e,t,n){typeof e!="object"&&(e={});const r={...e};return n.forEach(i=>{const s=t[i];typeof s<"u"&&(r[i]=s)}),r}function Yhe(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function nt(e,t){return e.addGridCommonParams(t)}function dW(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function Aw(e,t){return e[t]??e.gridOptions?.[t]??rhe(t)??F5[t]}var hW="__ag_Grid_Stop_Propagation",Xhe=["touchstart","touchend","touchmove","touchcancel","scroll"],Qhe=["wheel"],gx={};function cd(e){e[hW]=!0}function Ja(e){return e[hW]===!0}var fW=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof gx[n]=="boolean")return gx[n];const r=document.createElement(e[n]||"div");return n="on"+n,gx[n]=n in r}})();function pW(e,t,n){let r=t;for(;r;){const i=nW(e,r,n);if(i)return i;r=r.parentElement}return null}function Zhe(e,t){return!t||!e?!1:efe(t).indexOf(e)>=0}function Jhe(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function efe(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Jhe(t)}function tfe(e,t,n,r){const i=gW(n);let s;i!=null&&(s={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,r,s)}var gW=e=>{const t=Xhe.includes(e),n=Qhe.includes(e);if(t)return!0;if(n)return!1},me=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new sd),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;return nfe(e)?(e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?tfe(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),r=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,r))}getLocaleTextFunc(){return A5(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function nfe(e){return e.__addEventListener!==void 0}var rfe=/[&<>"']/g,ife={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Yf(e){return e?.toString().toString()??null}function Pw(e){return Yf(e)?.replace(rfe,t=>ife[t])??null}var sfe={resizable:!0,sortable:!0},ofe=0;function mW(){return ofe++}function Pc(e){return e instanceof Td}var Td=class extends me{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=mW(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new sd,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Pw(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=Fe(t)&&t.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=Fe(n)&&n.indexOf(".")>=0&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return nt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??sfe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return nt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Tn(this.sort)}isSorting(){return Fe(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return xe(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return nt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Tn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Tn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&Di(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function oi(e){return e instanceof Iw}var Iw=class extends me{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=mW(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)Pc(t)?e(t):oi(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{Pc(t)?e.push(t):oi(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,o=r.length;s<o;s++){const a=r[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{oi(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},afe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function GV(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var lfe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=SD(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const i=String(r);return e&&n>0&&xe(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}},_b=Object.freeze([]);function on(e){if(e?.length)return e[e.length-1]}function Dd(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function LC(e,t){if(e)for(const n of e)t(n)}function Ys(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function zV(e,t,n){for(let r=0;r<t.length;r++)Ys(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var oE="ag-Grid-AutoColumn",vW="ag-Grid-SelectionColumn",yW="ag-Grid-RowNumbersColumn";function CW(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];Pc(s)?t.push(s):oi(s)&&n(s.getChildren())}};return n(e),t}function Ga(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function kb(e,t,n){const r={};if(!t)return;el(null,t,s=>{r[s.getInstanceId()]=s}),n&&el(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function n1(e){return e.getId().startsWith(oE)}function Gc(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(vW)??!1}function pc(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(yW)??!1}function cfe(e){return Gc(e)||pc(e)}function Ob(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function ufe(e,t){return Dd(e,t,(n,r)=>n.getColId()===r.getColId())}function dfe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Yh(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function wW(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var hfe=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),Fe(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),Fe(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function ffe(e,t=null,n,r,i){const s=new lfe,{existingCols:o,existingGroups:a,existingColKeys:l}=pfe(r);s.addExistingKeys(l);const u=bW(e,t,0,n,o,s,a,i),{colGroupSvc:h}=e,f=h?.findMaxDepth(u,0)??0,g=h?h.balanceColumnTree(u,0,f,s):u;return el(null,g,(C,S)=>{oi(C)&&C.setupExpandable(),C.originalParent=S}),{columnTree:g,treeDepth:f}}function pfe(e){const t=[],n=[],r=[];return e&&el(null,e,i=>{if(oi(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function bW(e,t,n,r,i,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let h=0;h<u.length;h++){const f=t[h];l&&wfe(f)?u[h]=l.createProvidedColumnGroup(r,f,n,i,s,o,a):u[h]=gfe(e,r,f,i,s,a)}return u}function gfe(e,t,n,r,i,s){const o=vfe(n,r);o&&r?.splice(o.idx,1);let a=o?.column;if(a){const l=_D(e,n,a.getColId());a.setColDef(l,n,s),mfe(e,a,l,s)}else{const l=i.getUniqueKey(n.colId,n.field),u=_D(e,n,l);a=new Td(u,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function SW(e,t,n,r,i,s,o,a){const{sortSvc:l,pinnedCols:u,colFlex:h}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,r,a),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&u?.setColPinned(t,s),o!==void 0&&h?.setColFlex(t,o)}function mfe(e,t,n,r){SW(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function vfe(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function _D(e,t,n,r){const{gos:i,dataTypeSvc:s}=e,o={},a=i.get("defaultColDef");Di(o,a,!1,!0);const l=yfe(e,o,t,n);l&&Cfe(e,l,o);const u=o.cellDataType;Di(o,t,!1,!0),u!==void 0&&(o.cellDataType=u);const h=i.get("autoGroupColumnDef"),f=Ho(i);return t.rowGroup&&h&&f&&Di(o,{sort:h.sort,initialSort:h.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),i.validateColDef(o,n,r),o}function yfe(e,t,n,r){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?Ob(s):void 0}function Cfe(e,t,n){if(!t.length)return;const r=Object.assign({},afe),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in r?xe(34,{key:s}):(o.type&&xe(35),r[s]=o)}t.forEach(s=>{const o=r[s.trim()];o?Di(n,o,!1,!0):xe(36,{t:s})})}function wfe(e){return e.children!==void 0}function el(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];oi(i)&&el(i,i.getChildren(),n),n(i,e)}}function EW(e,t){const n=[],r=[],i=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?i.push(o):a==="left"||a===!0?n.push(o):r.push(o)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function RW(e,t){let n=!0;return el(null,t,r=>{if(!oi(r))return;const i=r,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(g=>{const v=e.indexOf(g);a.push(v)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),h=l-u,f=i.getLeafColumns().length-1;h>f&&(n=!1)}),n}function xW(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function TW(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=xW(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function bfe(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=xW(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function Sfe(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function xf(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function uo(e,t,n){const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:h,environment:f,valueColsSvc:g,eventSvc:v,gos:C}=e,S=r.getColDefCols()??[],R=a?.getColumns();if(!S?.length&&!R?.length)return!1;if(t?.state&&!t.state.forEach)return xe(32),!1;const x=(O,P,_,M,N)=>{if(!O)return;const B=hfe(P,t.defaultState),H=B("flex").value1;if(SW(e,O,B("hide").value1,B("sort").value1,B("sortIndex").value1,B("pinned").value1,H,n),H==null){const U=B("width").value1;if(U!=null){const G=O.getColDef().minWidth??f.getDefaultColumnMinWidth();G!=null&&U>=G&&O.setActualWidth(U,n)}}N||!O.isPrimary()||(g?.syncColumnWithState(O,n,B),i?.syncColumnWithState(O,n,B,_),s?.syncColumnWithState(O,n,B,M))},D=(O,P,_)=>{const M=DW(e,n),N=P.slice(),B={},H={},U=[],G=[],ee=[];let ie=0;const $=i?.columns.slice()??[],Z=s?.columns.slice()??[];O.forEach(F=>{const X=F.colId;if(X.startsWith(oE)){U.push(F),ee.push(F);return}if(Gc(X)){G.push(F),ee.push(F);return}const z=_(X);z?(x(z,F,B,H,!1),Ys(N,z)):(ee.push(F),ie+=1)});const te=F=>x(F,null,B,H,!1);N.forEach(te),i?.sortColumns(UV.bind(i,B,$)),s?.sortColumns(UV.bind(s,H,Z)),r.refreshCols(!1);const pe=(F,X,re=[])=>{X.forEach(z=>{const ge=F(z.colId);Ys(re,ge),x(ge,z,null,null,!0)}),re.forEach(te)};return pe(F=>o?.getColumn(F)??null,U,o?.getColumns()?.slice()),pe(F=>a?.getColumn(F)??null,G,a?.getColumns()?.slice()),Rfe(t,r,C),u.refresh(n),v.dispatchEvent({type:"columnEverythingChanged",source:n}),M(),{unmatchedAndAutoStates:ee,unmatchedCount:ie}};l?.start();let{unmatchedAndAutoStates:T,unmatchedCount:k}=D(t.state||[],S,O=>r.getColDefCol(O));if(T.length>0||Fe(t.defaultState)){const O=h?.getPivotResultCols()?.list??[];k=D(T,O,P=>h?.getPivotResultCol(P)??null).unmatchedCount}return l?.finish(),k===0}function Efe(e,t){const{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),u=CW(l),h=[];let f=1e3,g=1e3;const v=D=>{const T=AW(D);Tn(T.rowGroupIndex)&&T.rowGroup&&(T.rowGroupIndex=f++),Tn(T.pivotIndex)&&T.pivot&&(T.pivotIndex=g++),h.push(T)};r?.getColumns()?.forEach(v),i?.getColumns()?.forEach(v),u?.forEach(v),uo(e,{state:h},t);const C=r?.getColumns()??[],x=[...i?.getColumns()??[],...C,...a].map(D=>({colId:D.colId}));uo(e,{state:x,applyOrder:!0},t),s.dispatchEvent(nt(o,{type:"columnsReset",source:t}))}function DW(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},u=Lb(e),h={};return u.forEach(f=>{h[f.colId]=f}),()=>{const f=(P,_,M,N)=>{const B=_.map(N),H=M.map(N);if(Dd(B,H))return;const G=new Set(_);M.forEach(ie=>{G.delete(ie)||G.add(ie)});const ee=[...G];a.dispatchEvent({type:P,columns:ee,column:ee.length===1?ee[0]:null,source:t})},g=P=>{const _=[];return s.forAllCols(M=>{const N=h[M.getColId()];N&&P(N,M)&&_.push(M)}),_},v=P=>P.getColId();f("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],v),f("columnPivotChanged",l.pivotColumns,r?.columns??[],v);const S=g((P,_)=>{const M=P.aggFunc!=null,N=M!=_.isValueActive(),B=M&&P.aggFunc!=_.getAggFunc();return N||B});S.length>0&&Sfe(a,"columnValueChanged",S,t),xf(a,g((P,_)=>P.width!=_.getActualWidth()),!0,t),TW(a,g((P,_)=>P.pinned!=_.getPinned()),t),bfe(a,g((P,_)=>P.hide==_.isVisible()),t);const k=g((P,_)=>P.sort!=_.getSort()||P.sortIndex!=_.getSortIndex());k.length>0&&o?.dispatchSortChangedEvents(t,k);const O=Lb(e);Tfe(u,O,t,s,a)}}function Lb(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(Tn(i)||!t.isAlive())return[];const s=n?.columns,o=r?.columns,a=[],l=h=>{const f=h.isRowGroupActive()&&s?s.indexOf(h):null,g=h.isPivotActive()&&o?o.indexOf(h):null,v=h.isValueActive()?h.getAggFunc():null,C=h.getSort()!=null?h.getSort():null,S=h.getSortIndex()!=null?h.getSortIndex():null;a.push({colId:h.getColId(),width:h.getActualWidth(),hide:!h.isVisible(),pinned:h.getPinned(),sort:C,sortIndex:S,aggFunc:v,rowGroup:h.isRowGroupActive(),rowGroupIndex:f,pivot:h.isPivotActive(),pivotIndex:g,flex:h.getFlex()??null})};t.forAllCols(h=>l(h));const u=new Map(t.getCols().map((h,f)=>[h.getColId(),f]));return a.sort((h,f)=>{const g=u.has(h.colId)?u.get(h.colId):-1,v=u.has(f.colId)?u.get(f.colId):-1;return g-v}),a}function AW(e){const t=(C,S)=>C??S??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let u=t(n.rowGroupIndex,n.initialRowGroupIndex),h=t(n.rowGroup,n.initialRowGroup);u==null&&(h==null||h==!1)&&(u=null,h=null);let f=t(n.pivotIndex,n.initialPivotIndex),g=t(n.pivot,n.initialPivot);f==null&&(g==null||g==!1)&&(f=null,g=null);const v=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:h,rowGroupIndex:u,pivot:g,pivotIndex:f,aggFunc:v}}function Rfe(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];e.state.forEach(i=>{i.colId!=null&&r.push(i.colId)}),xfe(t.cols,r,t,n)}function xfe(e,t,n,r){if(e==null)return;let i=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(i.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(oE)?i.splice(o++,0,a):i.push(a)}),i=EW(i,r),!RW(i,n.getColTree())){xe(39);return}e.list=i}function Tfe(e,t,n,r,i){const s={};t.forEach(h=>s[h.colId]=h);const o={};e.forEach(h=>{s[h.colId]&&(o[h.colId]=!0)});const a=e.filter(h=>o[h.colId]),l=t.filter(h=>o[h.colId]),u=[];l.forEach((h,f)=>{const g=a&&a[f];if(g&&g.colId!==h.colId){const v=r.getCol(g.colId);v&&u.push(v)}}),u.length&&i.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:n})}var UV=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),u=t.indexOf(r),h=l>=0,f=u>=0;return h&&f?l-u:h?-1:1},Dfe=class extends me{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(Yh(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Yh(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,u=this.colDefs?DW(t,e):void 0;n?.expire();const h=this.colDefCols?.list,f=this.colDefCols?.tree,g=ffe(t,this.colDefs,!0,f,e);kb(t,this.colDefCols?.tree,g.columnTree);const v=g.columnTree,C=g.treeDepth,S=CW(v),R={};S.forEach(x=>R[x.getId()]=x),this.colDefCols={tree:v,treeDepth:C,list:S,map:R},i?.extractCols(e,h),s?.extractCols(e,h),o?.extractCols(e,h),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),u&&(this.changeEventsDispatching=!0,u(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&r?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:i,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:u,colViewport:h,eventSvc:f}=this.beans,g=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,r,i],g);const v=khe(this.gos,this.showingPivotResult);(!e||v)&&this.restoreColOrder(g),this.positionLockedCols(g),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(g),u.clear(),h.clear(),!Dd(t,this.cols.tree)&&f.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const u=n1(l);if(r){const h=o?.includes(l);return u||h||i&&Gc(l)||s&&pc(l)}else return u||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){uo(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(f=>e.map[f.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=f=>{const g=f.getOriginalParent();return g?g.getChildren().length>1?!0:r(g):!1};if(!n.some(f=>r(f))){const f=new Set(n);for(const g of e.list)f.has(g)||n.push(g);e.list=n;return}const i=new Map;for(let f=0;f<n.length;f++){const g=n[f];i.set(g,f)}const s=e.list.filter(f=>!i.has(f));if(s.length===0){e.list=n;return}const o=(f,g)=>{const v=g?g.getOriginalParent():f.getOriginalParent();if(!v)return null;let C=null,S=null;for(const R of v.getChildren())if(!(R===g||R===f)){if(R instanceof Td){const x=i.get(R);if(x==null)continue;(C==null||C<x)&&(C=x,S=R);continue}R.forEachLeafColumn(x=>{const D=i.get(x);D!=null&&(C==null||C<D)&&(C=D,S=x)})}return S??o(f,v)},a=[],l=new Map;for(const f of s){const g=o(f,null);if(g==null){a.push(f);continue}const v=l.get(g);v===void 0?l.set(g,f):Array.isArray(v)?v.push(f):l.set(g,[v,f])}const u=new Array(e.list.length);let h=u.length-1;for(let f=a.length-1;f>=0;f--)u[h--]=a[f];for(let f=n.length-1;f>=0;f--){const g=n[f],v=l.get(g);if(v)if(Array.isArray(v))for(let C=v.length-1;C>=0;C--){const S=v[C];u[h--]=S}else u[h--]=v;u[h--]=g}e.list=u}positionLockedCols(e){e.list=EW(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=Yh(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){kb(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r}=this.beans;LC(this.colDefCols?.list,e),LC(n?.columns?.list,e),LC(r?.columns?.list,e),LC(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<r.length;i++)if(wW(r[i],e))return r[i];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},PW=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},Xf=class extends me{};function qv(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Kv=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.toggleCss(i,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},Afe=0,Xe=null,mn=class extends me{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Afe++,this.cssManager=new Kv(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(K5):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Xe)this[t]=r??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);n.forEach(r=>{if(!(r instanceof HTMLElement))return;const i=this.createComponentFromElement(r,s=>{const o=s.getGui();if(o)for(const a of r.attributes??[])o.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)})}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,o=s?this.componentSelectors.get(r):null;let a=null;if(o){const l=n&&i?n[i]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,a),a}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=XI(e):r=rr(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),ZI(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;Ehe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Ln(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function IW(e){return typeof e=="object"&&!!e.component}var Ht=class Ng{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new Ng(n=>{let r=t.length;const i=new Array(r);t.forEach((s,o)=>{s.then(a=>{i[o]=a,r--,r===0&&n(i)})})}):Ng.resolve()}static resolve(t=null){return new Ng(n=>n(t))}then(t){return new Ng(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function Pfe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function FW(e,t,n,r){const{name:i}=n;let s,o,a,l,u,h;if(t){const f=t,g=f[i+"Selector"],v=g?g(r):null,C=S=>{typeof S=="string"?s=S:S!=null&&S!==!0&&(e.isFrameworkComponent(S)?a=S:o=S)};v?(C(v.component),l=v.params,u=v.popup,h=v.popupPosition):C(f[i])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:h}}var Ife=class extends me{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:h,popupFromSelector:f,popupPositionFromSelector:g}=FW(this.beans.frameworkOverrides,e,t,r),v,C;const S=T=>{const k=this.registry.getUserComponent(s,T);k&&(l=k.componentFromFramework?void 0:k.component,u=k.componentFromFramework?k.component:void 0,v=k.params,C=k.processParams)};if(a!=null&&S(a),l==null&&u==null&&n!=null&&S(n),l&&o&&!Pfe(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!u){const{validation:T}=this.beans;i&&(a!==n||!n)?a?T?.isProvidedUserComp(a)||an(50,{compName:a}):n?T||an(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):an(216,{name:s}):n&&!T&&an(146,{comp:n});return}const R=this.mergeParams(e,t,r,h,v,C),x=l==null,D=l??u;return{componentFromFramework:x,componentClass:D,params:R,type:t,popupFromSelector:f,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(D,x,R,t)}}newAgStackInstance(e,t,n,r){const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const o=s.init?.(n);return o==null?Ht.resolve(s):o.then(()=>s)}mergeParams(e,t,n,r=null,i,s){const o={...n,...i},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const u=l(n);Di(o,u)}else typeof l=="object"&&Di(o,l);return Di(o,r),s?s(o):o}},Ffe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},Mfe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},_fe={name:"headerComponent",optionalMethods:["refresh"]},kfe={name:"innerHeaderComponent"},Ofe={name:"innerHeaderGroupComponent"},Lfe={name:"headerGroupComponent"},Nfe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Vfe={name:"loadingCellRenderer",cellRenderer:!0},Bfe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Hfe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},Gfe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},zfe={name:"tooltipComponent"},r1={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Ufe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},jfe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Wfe={name:"loadingCellRenderer",cellRenderer:!0},$fe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},qfe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Kfe(e,t){return e.getCompDetailsFromGridOptions(Mfe,"agDragAndDropImage",t,!0)}function Yfe(e,t,n){return e.getCompDetails(t,_fe,"agColumnHeader",n)}function Xfe(e,t,n){return e.getCompDetails(t,kfe,void 0,n)}function Qfe(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Lfe,"agColumnGroupHeader",t)}function Zfe(e,t,n){return e.getCompDetails(t,Ofe,void 0,n)}function Jfe(e,t){return e.getCompDetailsFromGridOptions(jfe,void 0,t,!0)}function epe(e,t){return e.getCompDetailsFromGridOptions(Wfe,"agLoadingCellRenderer",t,!0)}function tpe(e,t){return e.getCompDetailsFromGridOptions($fe,"agGroupRowRenderer",t,!0)}function npe(e,t){return e.getCompDetailsFromGridOptions(qfe,"agDetailCellRenderer",t,!0)}function jV(e,t,n){return e.getCompDetails(t,Nfe,void 0,n)}function WV(e,t,n){return e.getCompDetails(t,Vfe,"agSkeletonCellRenderer",n,!0)}function MW(e,t,n){return e.getCompDetails(t,Bfe,"agCellEditor",n,!0)}function rpe(e,t,n,r){const i=t.filter;return IW(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,r1,r,n,!0)}function ipe(e,t,n){return e.getCompDetails(t,Ffe,"agDateInput",n,!0)}function spe(e,t){return e.getCompDetailsFromGridOptions(Hfe,"agLoadingOverlay",t,!0)}function ope(e,t){return e.getCompDetailsFromGridOptions(Gfe,"agNoRowsOverlay",t,!0)}function ape(e,t){return e.getCompDetails(t.colDef,zfe,"agTooltipComponent",t,!0)}function lpe(e,t,n,r){return e.getCompDetails(t,Ufe,r,n)}function _W(e,t){return FW(e,t,r1)}function mx(e,t,n){return e.mergeParams(t,r1,n)}function Hm(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var kW=new Set,Nb={},ju={},Fw,OW=!1,LW=!1,cpe=!1;function upe(e){const[t,n]=e.version.split(".")||[],[r,i]=Fw.split(".")||[];return t===r&&n===i}function dpe(e){Fw||(Fw=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?upe(e)||Wh(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Fw}.`)):Wh(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||Wh(`${n.message}`)}}function Gm(e,t,n=!1){n||(OW=!0),dpe(e);const r=e.rowModels??["all"];kW.add(e);let i;t!==void 0?(LW=!0,ju[t]===void 0&&(ju[t]={}),i=ju[t]):i=Nb,r.forEach(s=>{i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Gm(s,t,n))}function hpe(e){delete ju[e]}function kD(e,t,n){const r=i=>!!Nb[i]?.[e]||!!ju[t]?.[i]?.[e];return r(n)||r("all")}function i1(){return LW}function fpe(e,t){const n=ju[e]??{};return[...Object.values(Nb.all??{}),...Object.values(n.all??{}),...Object.values(Nb[t]??{}),...Object.values(n[t]??{})]}function ppe(){return new Set(kW)}function gpe(e,t){const n=ju[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function mpe(){return OW}function vpe(){return cpe}var ype=class{static register(e){Gm(e,void 0)}static registerModules(e){e.forEach(t=>Gm(t,void 0))}},Cpe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function wpe(e){return typeof e=="object"&&!!e.getComp}var bpe=class extends Cpe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),hpe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},Spe=class extends me{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new NW,this.rowValidations=new VW,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:u},h)=>{u!==Xs&&(l[h.getColId()]=u)});return n&&o(n,s),i&&o(i,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>t.set(r,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((i,s)=>r.set(s,{...i})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const r=this._getEdit(e);r&&(r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed")}else this.getEditRow(t)?.forEach(r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const i of n.keys())t.push({rowNode:r,column:i,...n.get(i)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){const s=this.getEditRow(n,t);return s?r?i?this.getEdit(e)?.state==="editing":s.has(r)??!1:s.size!==0?i?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:Xs,sourceValue:this.beans.valueSvc.getValue(r,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},NW=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},VW=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Epe(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function BW(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function Rpe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Fe(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function xpe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Tpe(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r?.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function Dpe(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function ul(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Vg(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function Ape(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let s;return s??(s=r?.getRowNode(t)),n?s??(s=i?.getPinnedRowById(t,n)):(s??(s=i?.getPinnedRowById(t,"top")),s??(s=i?.getPinnedRowById(t,"bottom"))),s}function Vb(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(n===0)return r==="top"?null:r==="bottom"&&o.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=r?void 0:o.getRow(n);return HW(e,a,!0)??{rowIndex:n-1,rowPinned:r}}function $V(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(Ppe(e,t))return r==="bottom"?null:r==="top"&&o.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=r?void 0:o.getRow(n);return HW(e,a)??{rowIndex:n+1,rowPinned:r}}function HW(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!t?.sticky||!sW(r))return;const s=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),a=!o.some(f=>f.rowNode.rowIndex===t.rowIndex),l=a?s:o,u=(n?-1:1)*(a?-1:1);let h;for(let f=0;f<l.length;f++)if(l[f].rowNode.rowIndex===t.rowIndex){h=l[f+u];break}return h?{rowIndex:h.rowNode.rowIndex,rowPinned:null}:void 0}function Ppe(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:s}=e;return n==="top"?(i?.getPinnedTopRowCount()??0)-1<=r:n==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=r:s.getLastRow()<=r}function s1(e,t={}){const{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(r?l=Ape(e,r,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function Rn(e,t={}){const{cellCtrl:n,colId:r,columnId:i,column:s}=t;if(n)return n;const o=e.colModel.getCol(r??i??OD(s)),a=t.rowCtrl??s1(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const u=t.rowNode??a?.rowNode;if(u)return e.rowRenderer.getCellCtrls([u],[o])?.[0]}function qV(e){const{editSvc:t}=e;t?.isBatchEditing()?Xh(e):t?.stopEditing(void 0,{source:"api"})}function Ipe(e,t,n){const{gos:r,popupSvc:i}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(DD(a)===null){qV(t);return}let l=n.some(u=>u.contains(a))&&ZW(r,a);l||(l=!!i&&(i.getActivePopups().some(u=>u.contains(a))||i.isElementWithinCustomPopup(a))),l||qV(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function OD(e){if(e)return typeof e=="string"?e:e.getColId()}var Xs=Symbol("unedited");function GW(e,t={}){const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of r){const s=i.comp?.getCellEditor();s&&n.push({ctrl:i,editor:Hm(s)})}return n}var Fpe=(e,t={})=>GW(e,t).map(n=>n.editor);function Mpe(e,t,n,r,i,s){t.length===0&&n?.rowNode&&n?.column&&Tf(e,n,{key:r,event:i,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:u,column:h}=n??{};for(const f of t){const{rowNode:g,column:v}=f,C=Rn(e,f);if(!C){if(g&&v){const R=o.getValue(v,g,void 0,"api"),T=(n?.rowNode===g&&n?.column===v&&r||void 0)??a?.getCellDataValue(f,!1)??o.getValueForDisplay(v,g)?.value??R??Xs;l?.setEdit(f,{pendingValue:T,sourceValue:R,state:"editing"})}continue}const S=s&&u===C.rowNode&&C.column===h;Tf(e,{rowNode:u,column:C.column},{key:S?r:null,event:S?i:null,cellStartedEdit:S})}}function gc({pendingValue:e,sourceValue:t}){return e===Xs&&(e=t),e!==t}function Tf(e,t,n){const{key:r,event:i,cellStartedEdit:s,silent:o}=n??{},a=Rn(e,t),l=a?.comp?.getCellEditor(),u=UW(e,t,r,s),h=e.editModelSvc?.getEdit(t);let f=r?.length===1?r:u.value;if(f===void 0&&(f=h?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:f,state:"editing"}),l){l.refresh?.(u);return}const g=t.column.getColDef(),v=MW(e.userCompFactory,g,u),C=v?.popupFromSelector!=null?v.popupFromSelector:!!g.cellEditorPopup,S=v?.popupPositionFromSelector!=null?v.popupPositionFromSelector:g.cellEditorPopupPosition;jW(v.params,i),a&&(a.editCompDetails=v,a.comp?.setEditDetails(v,C,S,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,i,"cellEditingStarted"))}function zW(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function UW(e,t,n,r){const{valueSvc:i,gos:s,editSvc:o}=e,a=Rn(e,t),l=t.rowNode?.rowIndex??void 0,u=o?.isBatchEditing(),h=e.colModel.getCol(t.column.getId()),{rowNode:f,column:g}=t,v=a.comp?.getCellEditor(),C=o?.getCellDataValue(t,!1)??(v?zW(v)?.editorValue:void 0),S=C===Xs?i.getValueForDisplay(h,f)?.value:C;return nt(s,{value:S,eventKey:n??null,column:g,colDef:g.getColDef(),rowIndex:l,node:f,data:f.data,cellStartedEdit:r??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:R=>{o.stopEditing(t,{source:u?"ui":"api",suppressNavigateAfterEdit:R}),Bb(e,t)},eGridCell:a?.eGui,parseValue:R=>i.parseValue(h,f,R,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function LD(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((r,i)=>{r.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===Xs)||!gc(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:i,column:o})})})}function _pe(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,o=UW(e,t,r,i),a=s.getColDef(),l=MW(e.userCompFactory,a,o);n.refresh(jW(l.params,r))}function jW(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Fu(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const r=Rn(e,n);if(!r)return;const i=r.comp.getCellEditor();if(!i)return;const{editorValue:s,editorValueExists:o}=zW(i);Mw(e,n,t,s,void 0,!o)})}function Mw(e,t,n,r,i,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:u}=t;if(!(l&&u))return;const f=!!Rn(e,t)?.comp?.getCellEditor();let g=o.getEdit(t,!0);g?.sourceValue||(g=o.setEdit(t,{sourceValue:a.getValue(u,l,void 0,"api"),pendingValue:Xs,state:f?"editing":"changed"})),o.setEdit(t,{editorValue:s?g.sourceValue:r,state:f?"editing":"changed"}),n&&kpe(e,t)}function kpe(e,t){const{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function Xh(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(r=>Bb(e,r,n))}function Bb(e,t,n){const{editSvc:r,editModelSvc:i}=e,{rowNode:s,column:o}=t,a=Rn(e,t);if(!a){i?.hasEdits(t)&&s&&o&&i?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor())return;const u=l?.getCellEditor()?.getValidationErrors?.(),h=i?.getCellValidationModel();u?.length?h?.setCellValidation(t,{errorMessages:u}):h?.clearCellValidation(t),i?.getEdit(t)&&i?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const f=i?.getEdit(t);f?.state==="changed"&&!n?.silent&&r?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:gc(f),newValue:f?.pendingValue,oldValue:f?.sourceValue})}function ud(e){const t=GW(e),n=new NW,{ariaAnnounce:r,localeSvc:i,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",u=A5(i)("ariaValidationErrorPrefix","Cell Editor Validation");for(const f of t){const{ctrl:g,editor:v}=f,{rowNode:C,column:S}=g,R=v.getValidationErrors?.()??[],x=v.getValidationElement?.(!1)||!v.isPopup?.()&&g.eGui;if(x){const D=R!=null&&R.length>0,T=D?R.join(". "):"";lhe(x,D),D&&r.announceValue(`${u} ${R}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(T):x.classList.toggle("invalid",D)}R?.length>0&&n.setCellValidation({rowNode:C,column:S},{errorMessages:R})}Fu(e,!1),s?.setCellValidationModel(n);const h=new Set;for(const{ctrl:f}of t)h.add(f.rowCtrl);if(a){const f=Ope(e);s?.setRowValidationModel(f)}for(const f of h.values()){f.rowEditStyleFeature?.applyRowStyles();for(const g of f.getAllCellCtrls())g.tooltipFeature?.refreshTooltip(!0),g.editorTooltipFeature?.refreshTooltip(!0),g.editStyleFeature?.applyCellStyles?.()}}var Ope=e=>{const t=new VW,n=e.gos.get("getFullRowEditValidationErrors"),r=e.editModelSvc?.getEditMap();if(!r)return t;for(const i of r.keys()){const s=r.get(i);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=i;for(const h of s.keys()){const f=s.get(h);if(!f)continue;const{editorValue:g,pendingValue:v,sourceValue:C}=f,S=g??(v===Xs?void 0:v)??C;o.push({column:h,colId:h.getColId(),rowIndex:a,rowPinned:l,oldValue:C,newValue:S})}const u=n?.({editorsState:o})??[];u.length>0&&t.setRowValidation({rowNode:i},{errorMessages:u})}return t};function Lpe(e){ud(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((r,i)=>{r.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:s??null})})}),n}var Npe="ag-column-first",Vpe="ag-column-last";function WW(e,t,n,r){return Tn(e)?[]:Hpe(e.headerClass,e,t,n,r)}function $W(e,t,n){e.toggleCss(Npe,n.isColAtEdge(t,"first")),e.toggleCss(Vpe,n.isColAtEdge(t,"last"))}function Bpe(e,t,n,r){return nt(t,{colDef:e,column:n,columnGroup:r})}function Hpe(e,t,n,r,i){if(Tn(e))return[];let s;if(typeof e=="function"){const o=Bpe(t,n,r,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function Yv(e){return!!(e.rowPinned&&e.pinnedSibling)}function _s(e,t,n,r){const i=t==="top";if(!n)return _s(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return _s(e,t,n,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===r){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var de={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},ND=!1,Hb=0;function Gpe(e){Hb>0||(e.addEventListener("keydown",Gb),e.addEventListener("mousedown",Gb))}function zpe(e){Hb>0||(e.removeEventListener("keydown",Gb),e.removeEventListener("mousedown",Gb))}function Gb(e){const t=ND,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(ND=n)}function Upe(e){const t=Or(e);return Gpe(t),Hb++,()=>{Hb--,zpe(t)}}function jpe(){return ND}function Wpe(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===de.TAB){const i=r.shiftKey;Ad(e,n,!1,i)||Df(e,i)&&r.preventDefault()}}})}function Qh(e,t,n=!1){const r=She;let i=z5;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>ha(l)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((l,u)=>l.filter(h=>u.indexOf(h)===-1))(s,o):s}function dd(e,t=!1,n=!1,r=!1){const i=Qh(e,r?".ag-tab-guard":null,n),s=t?on(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function Ad(e,t,n,r){const i=Qh(t,n?':not([tabindex="-1"])':null),s=Hn(e);let o;n?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(r?-1:1);return a<0||a>=i.length?null:i[a]}function qW(e,t=5){let n=0;for(;e&&DD(e)===null&&++n<=t;)e=e.parentElement;return DD(e)===null?null:e}function $pe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Wu(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function aE(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Df(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function qpe(e,t,n,{rowNode:r,column:i},s){return nt(e.gos,{type:n,node:r,data:r.data,value:s,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function Kpe(e,t=!1){return e===de.DELETE?!0:!t&&e===de.BACKSPACE?B5():!1}var Ype=class extends me{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case de.ENTER:this.onEnterKeyDown(e);break;case de.F2:this.onF2KeyDown(e);break;case de.ESCAPE:this.onEscapeKeyDown(e);break;case de.TAB:this.onTabKeyDown(e);break;case de.BACKSPACE:case de.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case de.DOWN:case de.UP:case de.RIGHT:case de.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===de.LEFT||e.key===de.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=r;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Kpe(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&Ac(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:u}=n,h=this.beans.valueSvc.getDeleteValue(u,i);i.setDataValue(u,h,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,s=r?.isEditing(t),o=t.rowNode,a=r?.isRowEditing(o),l=u=>{r?.startEditing(u,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(ud(n),r?.checkNavWithValidation(void 0,e)==="block-stop")return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const u=e.shiftKey?de.UP:de.DOWN;i?.navigateToNextCell(null,u,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===de.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(ud(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n||r?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===de.SPACE)this.onSpaceKeyDown(e);else if(r?.isCellEditable(i,"ui")){if(r?.hasValidationErrors()&&!r?.hasValidationErrors(i))return;r?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&zu(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,"spaceKey"),e.preventDefault()}};function KW(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}function KV({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var Xpe=class extends me{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Ja(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:u}=a;n&&o&&n.getCellRangeCount(u)>1&&n.intersectLastRange(!0);const h=a.createEvent(e,"cellClicked");t.dispatchEvent(h);const f=l.getColDef();if(f.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{f.onCellClicked(h)})},0),i?.getState(a)!=="editing"){const g=r?.isEditing(),v=i?.getCellValidationModel().getCellValidationMap().size??0,C=i?.getRowValidationModel().getRowValidationMap().size??0;if(g&&(v>0||C>0))return;r?.shouldStartEditing(a,e)?r?.startEditing(a,{event:e}):r?.shouldStopEditing(a,e)&&r?.stopEditing(a)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,editSvc:o,editModelSvc:a}=n,l=t.getColDef(),u=r.createEvent(e,"cellDoubleClicked");if(i.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const h=o?.isEditing(),f=a?.getCellValidationModel().getCellValidationMap().size??0,g=a?.getRowValidationModel().getRowValidationMap().size??0;if(h&&(f>0||g>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:h,gos:f,editSvc:g}=o;if(this.isRightClickInExistingRange(e))return;const v=l&&!l.isEmpty(),C=this.containsWidget(i),{cellPosition:S,column:R}=s,x=pc(R);if(u&&x&&!u.handleMouseDownOnCell(S,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!v){const D=g?.isEditing(s),k=f.get("enableCellTextSelection")&&e.defaultPrevented,O=(Ed()||k)&&!D&&!KI(i)&&!C;s.focusCell(O,e)}if(r&&v&&!h.isCellFocused(S)){e.preventDefault();const D=h.getFocusedCell();if(D){const{column:T,rowIndex:k,rowPinned:O}=D;g?.isEditing(D)&&g?.stopEditing(D),h.setFocusedCell({column:T,rowIndex:k,rowPinned:O,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!C){if(l){x&&e.preventDefault();const D=KV(this.beans,e)&&x;if(r)l.extendLatestRangeToCell(S);else if(!D){const T=t||n;l.setRangeToCell(S,T)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=KV(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return Gu(e,"ag-selection-checkbox",3)||Gu(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},Qpe=class extends me{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Dd(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Tn(i)||s!==i.getPinned()));o++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=on(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Uu(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Zpe="ag-cell",Jpe="ag-cell-auto-height",ege="ag-cell-normal-height",tge="ag-cell-focus",nge="ag-cell-first-right-pinned",rge="ag-cell-last-left-pinned",ige="ag-cell-not-inline-editing",sge="ag-cell-wrap-text",zb="cellCtrl";function YW(e,t){return pW(e,t,zb)}var oge=0,Zh=class extends me{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+oge++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new Qpe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new Xpe(this,e,this.column),this.keyboardListener=new Ype(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Ac(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),pc(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),ud(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=WV(n,s,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const u=new Ht(h=>{l=h});return this.addManagedListeners(i,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:u}}return{loadingComp:a,onReady:Ht.resolve()}}showValue(e,t){const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const u=i.stub&&i.groupData?.[r.getId()]==null,h=r.getColDef();if(u||this.isCellRenderer()){const f=this.createCellRendererParams();!u||pc(r)?l=jV(o,h,f):l=WV(o,h,f)}if(!l&&!u&&n.findSvc?.isMatch(i,r)){const f=this.createCellRendererParams();l=jV(o,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},f)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const f=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});f&&(f.compDetails?l=f.compDetails:f.valueToDisplay&&(a=f.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&ml(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Yv(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=Pb(t),i=Gc(this.column);return n==="custom"&&r!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&Kh(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return nt(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r).value,setValue:h=>l?.setDataValue({rowNode:r,column:n},h)||o.setValue(r,n,h),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(h,f,g,v)=>this.registerRowDragger(h,f,v),setTooltip:(h,f)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(h,f),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const r=this.column.getColDef(),i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,s=e||i||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!n,!1);const u=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!u&&r.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;ld(this.beans.gos,t,zb,this),e.addDestroyFunc(()=>ld(this.beans.gos,t,zb,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return qpe(s,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;$W(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);N5(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=r.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(pc(this.column)&&(e=!0),as(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(nge,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(rge,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(aE(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(tge,n),n&&e&&e.forceBrowserFocus){let i=this.comp.getFocusableElement();if(r){const s=Qh(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Za(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Zpe,!0),e.toggleCss(ige,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(Jpe,t),e.toggleCss(ege,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(sge,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Hn(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},XW="__ag_grid_instance";function QW(e,t){t[XW]=e.gridInstanceId}function zm(e,t){return ZW(e,t.target)}function ZW(e,t){let n=t;for(;n;){const r=n[XW];if(Fe(r))return r===e.gridInstanceId;n=n.parentElement}return!1}function age(e,t){return YW(e,t.target)?.getFocusedCellPosition()??null}function YV(e,t){const n=Zr(e.gos,"normal"),r=t;let i,s;r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),u=a.getHScrollPosition();i+=u.left,s+=l.top}return{x:i,y:s}}var lge=class extends me{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.removeDragSource(r.params),Ys(t,r))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(r=>t.removeDragSource(r.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),s=this.findCurrentDropTarget(e,i),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,r,t),o!==null&&s===null&&a?.onGridExit?.(u),o===null&&s!==null&&a?.onGridEnter?.(u),this.enterDragTargetIfExists(s,e,n,r,t),s&&l){const{comp:h,promise:f}=l;h?h.setIcon(s.getIconName?s.getIconName():null,!1):f.then(g=>{g&&g.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const h=this.createDropTargetEvent(s,e,n,r,t);s.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(a,l)=>{for(const u of l){const{width:h,height:f,left:g,right:v,top:C,bottom:S}=u.getBoundingClientRect();if(h===0||f===0)return!1;const R=a.clientX>=g&&a.clientX<v,x=a.clientY>=C&&a.clientY<S;if(!R||!x)return!1}return!0};for(const a of n)if(i(e,a)){r=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=Vm(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,r){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const o=this.createDropTargetEvent(i,e,t,n,r);i.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,r,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this,h=t.clientX-o.left,f=t.clientY-o.top;return nt(u,{event:t,x:h,y:f,vDirection:r,hDirection:n,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&Vhe(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const r=Kfe(n,nt(t,{dragSource:e}));if(!r)return;const i=r.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),QW(this.gos,r),n.applyThemeClasses(r),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),r.style.top="20px",r.style.left="20px";const s=t1(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(r):xe(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},cge=class extends me{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(r=>r.dragSource===e);n&&(this.removeListener(n),Ys(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");r&&!o&&(s=a=>{KI(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!r})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Vm(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=u=>this.onMouseMove(u,e.eElement),i=u=>this.onMouseUp(u,e.eElement),s=u=>u.preventDefault(),o=u=>{u.key===de.ESCAPE&&this.cancelDrag(e.eElement)},a=Vm(this.beans),l=[{target:a,type:"mousemove",listener:r},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.addEventListener(r,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.removeEventListener(r,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=Fe(n)?n:4;return KW(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){Ed()&&Or(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),r=e.type==="mousemove",i=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&r&&e.cancelable&&zm(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function JW(e,t){return e+"_"+t}function tr(e){return e instanceof Um}var Um=class extends me{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return JW(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{tr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=on(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Pc(t)?e.push(t):tr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Pc(t)?e.push(t):tr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(tr(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},VD="row-group-",o1="t-",a1="b-",uge=0,hd=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=uge++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(an(13),null):this.rowPinned==="top"?o1+this.rowIndex:this.rowPinned==="bottom"?a1+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=Rf(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(VD)&&an(14,{groupPrefix:VD})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:f},data:g,rowIndex:v,rowPinned:C}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:v,rowPinned:C,column:a,colDef:a.colDef,data:g,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o){const f=o.setDataValue({rowNode:this,column:a},t,n);if(f!=null)return f}const u=i.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const h=this.pinnedSibling;return h&&u&&h.dispatchCellChangedEvent(a,t,l),u}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new sd),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new sd),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(xe(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function dge(e,t,n){return nt(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var hge=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function fge(e,t){const n=new hd(t);return Object.keys(e).forEach(r=>{hge.has(r)||(n[r]=e[r])}),n.oldRowTop=null,n}var e6={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},pge=new Set(Object.values(e6));function $l(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function gge(e,t,n,r,i,s){return t.refresh?.({...n,model:r,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;t6(a,l,r,i,s)}})}function t6(e,t,n,r,i){e?.refresh?.({...t,model:n,state:r,source:i})}function n6(e,t,n){const r=e();r?.created&&r.promise.then(i=>{const s=t();t6(i,r.filterParams,s,n()??{model:s},"ui")})}function XV(e,t,n,r,i,s){let o,a=!1,l;switch(e){case"apply":{const u=r();l=u?.model??null,o={state:u?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:n()};break}}i(o),a?s(l):n6(t,n,r)}function Mr(e,t){return e[t]??null}function mge(e){return{tag:"div",cls:e}}var vge=class extends mn{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(mge(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();ms(r);let i;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:u,label:h})=>{const f=x=>{this.dispatchLocalEvent({type:u,event:x})};["apply","clear","reset","cancel"].includes(u)||xe(75);const g=u==="apply",C=rr({tag:"button",attrs:{type:g&&t?"submit":"button"},ref:`${u}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${g?" "+o+"-apply-button":""}`,children:h});this.activateTabIndex([C]),g&&(i=C);const S=x=>{x.key===de.ENTER&&(x.preventDefault(),f(x))},R=this.listeners;C.addEventListener("click",f),R.push(()=>C.removeEventListener("click",f)),C.addEventListener("keydown",S),R.push(()=>C.removeEventListener("keydown",S)),s.append(C)};e.forEach(u=>a(u)),this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),r.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Lm(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},yge={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function oc(e,t,n){return ehe(e,yge,t,n)}function l1(e,t){const{debounceMs:n}=e;return lE(e)?(n!=null&&xe(71),0):n??t}function lE(e){return(e.buttons?.indexOf("apply")??-1)>=0}var Cge=class extends mn{constructor(e,t,n,r,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:i}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&i===o&&km(r,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let u=this.eButtons;if(l){const h=s.map(f=>{const g=`${f}Filter`;return{type:f,label:oc(this,g)}});if(this.applyActive=lE(this.params),!u){u=this.createBean(new vge),this.appendChild(u.getGui());const f=this.column,g=v=>({event:C})=>{this.updateModel(f,v),this.afterAction(v,C)};u?.addManagedListeners(u,{apply:g("apply"),clear:g("clear"),reset:g("reset"),cancel:g("cancel")}),this.eButtons=u}u.updateButtons(h,a)}else this.applyActive=!1,u&&(cl(u.getGui()),this.eButtons=this.destroyBean(u))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n&&n.key;let i;(r===de.ENTER||r===de.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&r&&this.close(t);break}case"reset":{i&&r&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===de.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},wge={tag:"div",cls:"ag-filter"},bge=class extends mn{constructor(e,t,n){super(wge),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Ht.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const u=!!this.enableGlobalButtonCheck,h=this.createBean(new Cge(t,s,r,r.updateModel.bind(r),u&&r.isGlobalButtons,u));this.comp=h,l=h.getGui()}else l=a.getGui(),Fe(l)||xe(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ms(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},c1="T",Sge=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${c1}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Go(e,t){return e.toString().padStart(t,"0")}function fs(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Go(i,2)).join(n);return t&&(r+=c1+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Go(i,2)).join(":")),r}function NC(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Go(e.getDate(),2),Go(e.getHours(),2),`:${Go(e.getMinutes(),2)}`,`:${Go(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Go(e.getDate(),2)].map(String):null}var vx=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function BD(e,t){if(t==null)return fs(e,!1);const n=Go(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>Go(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${vx(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${vx(e.getDate())}`,DD:()=>Go(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${vx(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function _w(e,t=!1){return!!Ui(e,t)}function Ege(e){return _w(e,!0)}function Ui(e,t=!1){if(!e||!Sge.test(e))return null;const[n,r]=e.split(c1);if(!n)return null;const i=n.split("-").map(g=>parseInt(g,10));if(i.filter(g=>!isNaN(g)).length!==3)return null;const[s,o,a]=i,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!r&&t)return null;if(!r||r==="00:00:00")return l;const[u,h,f]=r.split(":").map(g=>parseInt(g,10));if(u>=0&&u<24)l.setHours(u);else if(t)return null;if(h>=0&&h<60)l.setMinutes(h);else if(t)return null;if(f>=0&&f<60)l.setSeconds(f);else if(t)return null;return l}var QV={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ZV=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rge(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function JV(e){return e instanceof Date&&!isNaN(e.getTime())}var HD={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:JV}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&JV(e.dateParser(t))}),dateTime:e=>HD.date(e),dateTimeString:e=>HD.dateString(e),object:()=>{},text:()=>{}},GD={number:()=>({comparator:Rge}),boolean:({t:e})=>({valueFormatter:t=>Fe(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return Fe(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const i=ZV[Number(n)-1];return t(i,QV[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>NC(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const i=e(r);return Fe(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>NC(t.dateParser(r??void 0),!1),treeListFormatter:(r,i)=>{if(i===1&&r!=null){const s=ZV[Number(r)-1];return n(s,QV[s])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=GD.date(e);return t.treeListPathGetter=NC,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=GD.dateString(e);return n.treeListPathGetter=r=>NC(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return Fe(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function xge(e,t,n,r,i,s,o){let a=t,l=n;const u=e==="agSetColumnFilter";!l&&r.baseDataType==="object"&&!u&&(l=({column:v,node:C})=>i({column:v,node:C,value:s.valueSvc.getValue(v,C)}));const f=(u?GD:HD)[r.baseDataType],g=f({dataTypeDefinition:r,formatValue:i,t:o});return a=typeof t=="object"?{...g,...t}:g,{filterParams:a,filterValueGetter:l}}var Tge={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},Dge={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Age(e,t=!1){return(t?Dge:Tge)[e??"text"]}var r6="ag-resizer-wrapper",ql=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),Pge={tag:"div",cls:r6,children:[ql("eTopLeft","topLeft"),ql("eTop","top"),ql("eTopRight","topRight"),ql("eRight","right"),ql("eBottomRight","bottomRight"),ql("eBottom","bottom"),ql("eBottomLeft","bottomLeft"),ql("eLeft","left")]},Ige=class extends me{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,h=0;const f=ha(this.element);if(f){const g=this.findBoundaryElement(),v=window.getComputedStyle(g);if(v.minWidth!=null){const C=g.offsetWidth-this.element.offsetWidth;h=parseInt(v.minWidth,10)-C}if(v.minHeight!=null){const C=g.offsetHeight-this.element.offsetHeight;u=parseInt(v.minHeight,10)-C}}if(this.minHeight=s||u,this.minWidth=r||h,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(f&&n){let g=this.boundaryEl,v=!0;if(g||(g=this.findBoundaryElement(),v=!1),g){const C=parseFloat(g.style.top),S=parseFloat(g.style.left);v?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C,e):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Qg(n,e),e=U5(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Qg(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,o=e?0:i.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:h}=u.getBoundingClientRect();a=h-r.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ra(t,e),e=Rb(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ra(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=gl(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,o)?0:o,u=this.shouldSkipY(t,!!r,s,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=r<0&&e.clientX>a+s.left||r>0&&e.clientX<a+s.left:n?l=r<0&&e.clientX>o.right||r>0&&e.clientX<a+s.left:l=r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=r<0&&e.clientY>a+s.top+n||r>0&&e.clientY<a+s.top:l=r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(rr(Pge)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${r6}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||r,{movementX:u,movementY:h}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),f=this.position.x,g=this.position.y;let v=0,C=0;if(a&&u){const S=o?-1:1,R=this.getWidth(),x=R+u*S;let D=!1;o&&(v=R-x,(f+v<=0||x<=this.minWidth)&&(D=!0,v=0)),D||this.setWidth(x)}if(l&&h){const S=r?-1:1,R=this.getHeight(),x=R+h*S;let D=!1;r?(C=R-x,(g+C<=0||x<=this.minHeight)&&(D=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&v||C)&&this.offsetElement(f+v,g+C)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Fge="ag-focus-managed",Qf=class extends me{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=Ad(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(Fge),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Ja(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){cd(t);return}t.key===de.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},Mge=class extends mn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Qf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new Ige(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const i=t.state,s=this.state;return this.state=i,(i.model!==s.model||i.state!==s.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=lE(e),this.setupApplyDebounced()}doesFilterPass(e){xe(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return xe(284),this.params.model!=null}setupApplyDebounced(){const e=l1(this.params,this.defaultDebounceMs),t=Xr(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return xe(285),this.params.model}setModel(e){xe(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const i=this.params;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return oc(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function _ge(e){return!!e.operator}function kge(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:o}=_W(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(r=n()),r}var kw={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},u1=class extends me{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?kw.AUTO_HEIGHT:t.print?kw.PRINT:kw.NORMAL;this.view.updateLayoutClasses(n,t)}},Kl="Viewport",e2="fakeVScrollComp",yx=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],t2=100,Cx=150,Oge=class extends me{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Xr(this,()=>this.lastScrollSource[1]=null,Cx),this.resetLastVScrollDebounced=Xr(this,()=>this.lastScrollSource[0]=null,Cx)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Kl)});for(const e of yx){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Xr(this,this.onVScroll.bind(this,Kl),t2):this.onVScroll.bind(this,Kl),r=t?Xr(this,this.onVScroll.bind(this,e2),t2):this.onVScroll.bind(this,e2);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...yx,Kl]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Tb(n,e,this.enableRtl)}}getViewportForSource(e){return e===Kl?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=xb(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Kl?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Kl?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Cx)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Hu()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=YI(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of yx)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Kl)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),Tb(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(Zr(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!="number"||e<0||e>=i){xe(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const u=this.ctrlsSvc.getGridBodyCtrl(),h=r.getRow(e);let f,g,v=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:C,stickyBottomHeight:S}=u,R=h.rowTop,x=h.rowHeight,D=o.getPixelOffset(),T=h.rowTop-D,k=T+h.rowHeight,O=this.getVScrollPosition(),P=a.divStretchOffset,_=O.top+P,M=O.bottom+P,N=M-_,B=a.getScrollPositionForPixel(T),H=a.getScrollPositionForPixel(k-N),U=Math.min((B+H)/2,T),G=_+C>T,ee=M-S<k;let ie=null;t==="top"?ie=B-C:t==="bottom"?ie=H+S:t==="middle"?ie=U:G?ie=B-C:ee&&(H-B>N?ie=B-C:ie=H+S),ie!==null&&(this.setVerticalScrollPosition(ie),l.redraw({afterScroll:!0})),f=R!==h.rowTop||x!==h.rowHeight,g=C!==u.stickyTopHeight||S!==u.stickyBottomHeight,v++}while((f||g)&&v<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(h?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const C=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const S=this.getVScrollPosition().top;C!==S&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:r)||i,l=o?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:h,colMiddle:f,colRight:g}=this.getColumnBounds(e);return u?f-s/2:a?o?g:h:o?h-s:g-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:n<i,a=s?n<r:t>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?n-i:i,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},d1=class extends me{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Zr(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=r+i+s:(o=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},Lge=class extends me{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{ml(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=YI(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function h1(e,t,n,r,i,s){if(n==null&&t==null)return;const o={},a={},l=(u,h)=>{u.split(" ").forEach(f=>{f.trim()!=""&&h(f)})};if(n){const u=Object.keys(n);for(let h=0;h<u.length;h++){const f=u[h],g=n[f];let v;typeof g=="string"?v=e?e.evaluate(g,r):!0:typeof g=="function"&&(v=g(r)),l(f,C=>{v?o[C]=!0:a[C]=!0})}}t&&s&&Object.keys(t).forEach(u=>l(u,h=>{o[h]||(a[h]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}function n2(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var Nge=class extends me{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);r(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=nt(r,{data:e.data,node:e,rowIndex:e.rowIndex});h1(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},Vge=0,Ub="renderedRow",jb=class extends me{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Vge++,this.rowId=Pw(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n2(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Pw(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){const{context:i,focusSvc:s}=this.beans;r=qv(this,i,r);const o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,u=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!u&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const h=this.fullWidthGui?.element;h&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>h.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),zu(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>n.toggleCss(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&ED(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),ld(t,e.element,Ub,this),e.compBean.addDestroyFunc(()=>ld(t,e.element,Ub,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Pw(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(AD(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(AD(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,o=!!n||!r.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=lW(this.gos,this.rowNode,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Zh(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(u,h,f)=>{f!=null?r.list.splice(f,0,h):r.list.push(h),r.map[u]=h},s=[];for(const u of t){const h=u.getInstanceId();let f=e.map[h];f&&!this.isCorrectCtrlForSpan(f)&&(f.destroy(),f=void 0),f||(f=this.getNewCellCtrl(u)),f&&i(h,f)}for(const u of e.list){const h=u.column.getInstanceId();if(r.map[h]!=null)continue;!this.isCellEligibleToBeRemoved(u,n)?s.push([h,u]):u.destroy()}if(s.length)for(const[u,h]of s){const f=r.list.findIndex(v=>v.column.getLeft()>h.column.getLeft()),g=f===-1?void 0:Math.max(f-1,0);i(u,h,g)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const u=l.column.getInstanceId();if(!r.map[u]&&a.allCols.includes(l.column)){const f=this.createFocusedCellCtrl();if(f){const g=r.list.findIndex(C=>C.column.getLeft()>f.column.getLeft()),v=g===-1?void 0:Math.max(g-1,0);i(u,f,v)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Zr(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Fe(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",i=t==="below",o=this.gos.get("treeData")&&(i||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const u=l.rowComp;u.toggleCss("ag-row-highlight-above",n),u.toggleCss("ag-row-highlight-inside",r),u.toggleCss("ag-row-highlight-below",i),u.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Za(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),h={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:u?.column??r};l?.navigateToNextCell(e,e.key,h,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Ja(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=Hn(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let o=null;!r&&!s&&(o=Ad(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>ha(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{as(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?r=s==="right"?this.rightGui?.element:this.leftGui?.element:r=this.centerGui?.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(r=>{r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return nt(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Ja(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Gu(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:r}=this.beans;n?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,a=s.element,l=e.target;let u=e.defaultPrevented||Ed();a&&a.contains(l)&&KI(l)&&(u=!1),r.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(Ja(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:r}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),r?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=nt(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,u)=>this.addFullWidthRowDragging(o,a,l,u),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return npe(s,i);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=o,i.valueFormatted=a,tpe(s,i)}case"FullWidthLoading":return epe(s,i);default:return Jfe(s,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=n2(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(s.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&s.push("ag-row-pinned-source"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,r),o.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=tW(this.gos)?Dc(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&qh(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(Hn(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Fe(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(r=>{r.column==e&&(n=r)}),n!=null||t||this.getAllCellCtrls().forEach(r=>{r?.getColSpanningList().indexOf(e)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",r),s.rowComp.toggleCss("ag-row-odd",!r),L5(s.element,i)})}};function i6(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function zD(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=nt(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(o))}function Bge(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=r?null:"top";let o,a;i?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:u}=e,h=l.allCols;!u||!h?.length||u.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var Hge=65,Gge=67,zge=86,Uge=68,jge=90,Wge=89;function $ge(e){const{keyCode:t}=e;let n;switch(t){case Hge:n=de.A;break;case Gge:n=de.C;break;case zge:n=de.V;break;case Uge:n=de.D;break;case jge:n=de.Z;break;case Wge:n=de.Y;break;default:n=e.code}return n}var qge=class extends me{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",fW("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){if(!zm(this.gos,t)||Ja(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:YW(t,e),rowCtrl:pW(t,e,Ub)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!zD(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),i6(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell()?.column;if(!zD(this.gos,n,r,a,!1)){const u=n.key;if(t==="keydown")switch(u){case de.PAGE_HOME:case de.PAGE_END:case de.PAGE_UP:case de.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case de.LEFT:case de.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case de.UP:case de.DOWN:e.onKeyboardNavigate(n);break;case de.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!zm(this.gos,e))return;const n=$ge(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===de.A)return this.onCtrlAndA(e);if(n===de.C)return this.onCtrlAndC(r,e);if(n===de.D)return this.onCtrlAndD(r,e);if(n===de.V)return this.onCtrlAndV(r,e);if(n===de.X)return this.onCtrlAndX(r,e);if(n===de.Y)return this.onCtrlAndY(i);if(n===de.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&Ac(i)&&t.isRowsToRender()?Bge(this.beans):r&&r?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:uW(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},s6=class extends me{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},VC=e=>e.topRowCtrls,BC=e=>e.getStickyTopRowCtrls(),HC=e=>e.getStickyBottomRowCtrls(),GC=e=>e.bottomRowCtrls,zC=e=>e.allRowCtrls,wx=e=>e.getCtrls("top"),bx=e=>e.getCtrls("center"),Sx=e=>e.getCtrls("bottom"),Kge={center:{type:"center",name:"center-cols",getRowCtrls:zC,getSpannedRowCtrls:bx},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:zC,getSpannedRowCtrls:bx},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:zC,getSpannedRowCtrls:bx},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:zC},topCenter:{type:"center",name:"floating-top",getRowCtrls:VC,getSpannedRowCtrls:wx},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:VC,getSpannedRowCtrls:wx},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:VC,getSpannedRowCtrls:wx},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:VC},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:BC},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:BC},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:BC},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:BC},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:HC},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:HC},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:HC},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:HC},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:GC,getSpannedRowCtrls:Sx},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:GC,getSpannedRowCtrls:Sx},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:GC,getSpannedRowCtrls:Sx},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:GC}};function o6(e){return`ag-${Xv(e).name}-viewport`}function Ow(e){const t=Xv(e);return t.container??`ag-${t.name}-container`}function Yge(e){return`ag-${Xv(e).name}-spanned-cells-container`}function Xv(e){return Kge[e]}var Xge=["topCenter","topLeft","topRight"],Qge=["bottomCenter","bottomLeft","bottomRight"],Zge=["center","left","right"],Jge=["center","left","right","fullWidth"],eme=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],tme=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],nme=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],a6=["stickyTopCenter","stickyTopLeft","stickyTopRight"],l6=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],rme=[...a6,"stickyTopFullWidth",...l6,"stickyBottomFullWidth"],ime=[...Xge,...Qge,...Zge,...a6,...l6],sme=class extends me{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Xv(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Lge(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new qge(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(tme,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(nme,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Jge,()=>this.createManagedBean(new s6(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(ime,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(eme,()=>this.createManagedBean(new d1(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(rme.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=Zr(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Nm(this.eViewport)}getCenterViewportScrollLeft(){return xb(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=gl(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return W5(this.eViewport)}getViewportScrollLeft(){return xb(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||$5(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Tb(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Zr(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},ome="ag-force-vertical-scroll",ame="ag-selectable",lme="ag-column-moving",cme=class extends me{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${o6("center")}`),this.eFullWidthContainer=n.querySelector(`.${Ow("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Ow("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Ow("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new u1(this.comp)),this.scrollFeature=this.createManagedBean(new Oge(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=G5()?16:0,i=`calc(100% + ${n+r}px)`;ml(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=Gu(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),o=Gu(i,"ag-root",t);Gu(r,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(lme,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(ame,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?ome:null,n=Zr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&q5(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&qh(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const h of[t,n,r,i])this.addManagedElementListeners(h,{wheel:l});const u=this.onHorizontalWheel.bind(this);for(const h of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(h).eContainer,{wheel:u});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&zm(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=i-s,a=n?o+n:0,l=r?o+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=r+s;n.setStickyBottomBottom(`${o}px`)}},c6=class extends mn{constructor(e,t){super(),this.direction=t,this.eViewport=Xe,this.eContainer=Xe,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",B5()||Hu())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=G5(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ml(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;The(()=>ha(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},ume={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},dme=class extends c6{constructor(){super(ume,"horizontal"),this.eLeftSpacer=Xe,this.eRightSpacer=Xe,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new d1(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),ra(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),ra(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Qg(this.getGui(),s),Qg(this.eViewport,s),Qg(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return xb(this.eViewport,this.enableRtl)}setScrollPosition(e){ha(this.eViewport)||this.attemptSettingScrollPosition(e),Tb(this.eViewport,e,this.enableRtl)}},hme={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},fme=class extends c6{constructor(){super(hme,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new s6(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),ra(this.getGui(),i),ra(this.eViewport,i),ra(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!ha(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Wo(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function f1(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=r.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=pme(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function pme(e,t){let r=e.colModel.isPivotMode()?mme(e):d6(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>r&&o.isAutoHeaderHeight()&&(r=a)}return r}function p1(e){let n=e.colModel.isPivotMode()?gme(e):Qv(e);return e.colModel.forAllCols(r=>{const i=r.getAutoHeaderHeight();i!=null&&i>n&&r.isAutoHeaderHeight()&&(n=i)}),n}function Qv(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function u6(e){return e.gos.get("floatingFiltersHeight")??Qv(e)}function d6(e){return e.gos.get("groupHeaderHeight")??Qv(e)}function gme(e){return e.gos.get("pivotHeaderHeight")??Qv(e)}function mme(e){return e.gos.get("pivotGroupHeaderHeight")??d6(e)}var vme=class extends me{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=r;i&&this.createManagedBean(new Qf(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ml(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=f1(e).reduce((s,o)=>s+o,0),r=p1(e);if(e.filterManager?.hasFloatingFilters()&&(t+=u6(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||Df(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case de.LEFT:t="LEFT";case de.RIGHT:{Fe(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case de.UP:t="UP";case de.DOWN:{Fe(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(Hn(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},g1=class extends me{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?on(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=Fe(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!Zr(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const o=r.bodyWidth;return s+o+t}return s+t}setLeft(e){if(Fe(e)&&(this.eCell.style.left=`${e}px`),tr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&ghe(this.ariaEl,t.length)}}},yme=0,h6="headerCtrl",m1=class extends me{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+yme++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r&&r.suppressHeaderKeyboardEvent;if(!Fe(i))return!1;const s=nt(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return Hn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=f=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:g,paddingBottom:v,borderBottomWidth:C,borderTopWidth:S}=Rd(this.eGui),R=g+v+C+S,D=t.offsetHeight+R;if(f<5){const T=Or(i),k=!T||!T.contains(t),O=D==0;if(k||O){AD(()=>s(f+1),"raf",i);return}}this.setColHeaderHeight(this.column,D)};let o=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!o&&u(),!f&&o&&h()},u=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=gl(this.beans,t,()=>s(0))},h=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>h()),r.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||($W(e,t,n.visibleCols),N5(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Wu(this.beans);this.eGui&&as(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Hn(this.beans),n=e.key===de.LEFT||e.key===de.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===de.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===de.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=h6,{eGui:n,gos:r}=this;ld(r,n,t,this),e.addDestroyFunc(()=>ld(r,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Cme=class extends m1{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:u,colHover:h,rangeSvc:f}=a,g=qv(this,u,i);this.setGui(t,g),this.updateState(),this.setupWidth(g),this.setupMovingCss(g),this.setupMenuClass(g),this.setupSortableClass(g),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:C=>this.setRefreshFunction("measuring",C),compBean:g}),this.addColumnHoverListener(g),this.setupFilterClass(g),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(g),this.setupSelectAll(g),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=g.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):Ln(n,!1),h?.createHoverFeature(g,[o],t),f?.createRangeHighlightFeature(g,o,e),g.createManagedBean(new g1(o,t,a)),g.createManagedBean(new Qf(t,{shouldStopEventPropagation:C=>this.shouldStopEventPropagation(C),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(g),g.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),g.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),g.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const v=()=>this.checkDisplayName();g.addManagedEventListeners({columnValueChanged:v,columnRowGroupChanged:v,columnPivotChanged:v,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),g.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return nt(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Yfe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return nt(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||ls(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===de.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===de.ENTER&&this.onEnterKeyDown(e),e.key===de.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();r2(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),jpe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=WW(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.toggleCss(i,!0)}),r.forEach(i=>this.comp.toggleCss(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=f1(this.beans),s=i.reduce((g,v)=>g+=v,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=p1(r);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const u=(this.column.getFirstRealParent()?.getLevel()??-1)+1,h=i.length-u;let f=0;for(let g=0;g<h;g++)f+=i[i.length-1-g];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${l+f}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(ihe(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!ls(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Hn(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return r2(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function r2(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var wme=0,Ex=class extends me{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=wme++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=Zr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=qv(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Zr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=f1(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=p1(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=u6(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.ctrlsById.set(r,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new Cme(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},bme=class extends me{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const f=r.headerGroupRowCount;i=f;const g=this.groupsRowCtrls.length;if(g!==f){if(g>f){for(let v=f;v<g;v++)this.destroyBean(this.groupsRowCtrls[v]);this.groupsRowCtrls.length=f;return}for(let v=g;v<f;v++){const C=this.createBean(new Ex(v,this.pinned,"group"));this.groupsRowCtrls.push(C)}}},a=()=>{const f=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new Ex(f,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==f&&this.columnsRowCtrl.setRowIndex(f)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}e||f();const g=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==g&&this.filtersRowCtrl.setRowIndex(g):this.filtersRowCtrl=this.createBean(new Ex(g,this.pinned,"filter"))},u=this.getAllCtrls();o(),a(),l();const h=this.getAllCtrls();this.comp.setCtrls(h),this.restoreFocusOnHeader(t,s),u.length!==h.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(r=>r.column===e);if(Pc(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new d1(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Sme=class extends me{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(s2(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){s2(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(ls(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Pc(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Hu()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!ls(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!ls(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return ls(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,r)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,r)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),ml(a,()=>{const u=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);u&&e?.showMenuAfterButtonClick(o,u.getAnchorElementForMenu(r),n,s,r)})}}};function i2(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function s2(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&ls(r)?t:n}var v1=class extends mn{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},cE=class extends v1{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},f6=class extends mn{constructor(){super()}},Eme={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},Rme=class extends f6{init(){const e=Za(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??Eme),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},xme={tag:"span",cls:"ag-overlay-no-rows-center"},Tme=class extends f6{init(){const e=Za(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??xme),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function Dme(e,t,n){const r=Hs(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const i=rr({tag:"span"});return i.appendChild(r),i}function Hs(e,t,n){let r=null;e==="smallDown"?xe(262):e==="smallLeft"?xe(263):e==="smallRight"&&xe(264);const i=n&&n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const s=t.gos.get("icons");s&&(r=s[e])}if(r){let s;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else{xe(38,{iconName:e});return}if(typeof s=="string")return XI(s);if(ZI(s))return s;xe(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),rr({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var Ame=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Pme={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Ime=class extends mn{constructor(){super(),this.dragSource=null,this.eIcon=Xe,this.eLabel=Xe,this.eGhost=Xe,this.registerCSS(Ame)}postConstruct(){const e=t=>Dme(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Pme),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:r,dropIconMap:i,gos:s}=this;ms(n);let o=null;e||(e=r?.getDefaultIconName?r.getDefaultIconName():"notAllowed"),o=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===i.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},Fme=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Mme=class extends mn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Fme)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;ms(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ln(t,!1),od(t,"presentation")):(Ln(t,!0),od(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Db(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Lm(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},p6=class extends Mme{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||she(e)!==null?Om(e,""):Om(e,t??"")}setAriaLabel(e){return Ef(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ra(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function _me(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Mu=class extends p6{constructor(e,t,n="text",r="input"){super(e,e?.template??_me(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Xe,this.eWrapper=Xe,this.eInput=Xe}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,as(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return Db(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return as(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ef(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Lm(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)as(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";as(this.eInput,"autocomplete",t)}return this}},y1=class extends Mu{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},C1={selector:"AG-CHECKBOX",component:y1},kme=".ag-checkbox-cell{height:100%}",Ome={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Lme=class extends mn{constructor(){super(Ome,[C1]),this.eCheckbox=Xe,this.registerCSS(kme)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),k5(r,"polite"),this.addManagedListeners(r,{click:i=>{if(cd(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{cd(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===de.SPACE&&!t.isDisabled()){e.eGridCell===Hn(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const f=i.getColId();f.startsWith(oE)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[f]!==void 0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!i?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),u=sE(l,t),h=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;o.setInputAriaLabel(h)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0});const s=r.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},o2=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Ys(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=Bme(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;const s=oW(n);s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(r=>e(r)?n.delete(r):n.add(r)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function g6(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?g6(t):!1}function Rx(e,t){const{gos:n,rowModel:r,filterManager:i}=e;return xd(n)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!g6(t):n.get("pivotMode")?!t.group:!1}function Nme(e){return!!e.footer&&e.level===-1}function Vme(e){return!!e.pinnedSibling&&Nme(e.pinnedSibling)}function Bme(e){const t=e.findIndex(Vme);if(t>-1)return e.splice(t,1)?.[0]}var a2=class extends me{postConstruct(){const{gos:e,beans:t}=this;this.top=new o2(t,"top"),this.bottom=new o2(t,"bottom");const n=i=>Rx(t,i.pinnedSibling),r=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),i||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Gme),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,Ume(this.beans);return}const r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&zme(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;xx(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=l2(this.beans,e,t),a=this.getContainer(t);a.add(o),Rx(this.beans,e)&&a.hide(l=>Rx(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Dc(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return c2(this.top)}getPinnedBottomTotalHeight(){return c2(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const i=this.beans.rowModel.getRowNode(r);i?this.pinRow(i,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const i=this.beans.rowModel.getRowNode(r);i&&n.add(i)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!fr(e))return;const i=r.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),xx(s)),!o||o.floating!==n){const a=l2(t,i,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),xx(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>Hme(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function Hme(e,t){let n=0;t.forEach((r,i)=>{r.setRowTop(n),(r.rowHeightEstimated||r.rowHeight==null)&&r.setRowHeight(Dc(e,r).height),r.setRowIndex(i),n+=r.rowHeight})}function l2(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=fge(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const i=n==="top"?o1:a1;return r.id=`${i}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function xx(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Gme(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function zme(e,t,n){const{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function c2(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Ume({gos:e,rowModel:t}){fr(e)&&t.refreshModel({step:"map"})}var u2=class extends me{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};pg(this.pinnedBottomRows,t),pg(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Dc(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return pg(this.pinnedBottomRows,n),t=0,pg(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=Rf(this.gos),i=t==="top"?o1:a1,s=new Set(n.order),o=[],a=new Set;let l=0,u=-1;for(const h of e){const f=r?.({data:h,level:0,rowPinned:t})??i+this.nextId++;if(a.has(f)){xe(96,{id:f,data:h});continue}u++,a.add(f),o.push(f);const g=Jg(n,f);if(g!==void 0)g.data!==h&&g.updateData(h),l+=this.setRowTopAndRowIndex(g,l,u),s.delete(f);else{const v=new hd(this.beans);v.id=f,v.data=h,v.rowPinned=t,l+=this.setRowTopAndRowIndex(v,l,u),n.cache[f]=v,n.order.push(f)}}s.forEach(h=>{Jg(n,h)?.clearRowTopAndRowIndex(),delete n.cache[h]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Dc(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return d2(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return d2(this.pinnedBottomRows)}getPinnedTopRowCount(){return jD(this.pinnedTopRows)}getPinnedBottomRowCount(){return jD(this.pinnedBottomRows)}getPinnedTopRow(e){return UD(this.pinnedTopRows,e)}getPinnedBottomRow(e){return UD(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Jg(this.getCache(t),e)}forEachPinnedRow(e,t){return pg(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function d2(e){const t=jD(e);if(t===0)return 0;const n=UD(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Jg(e,t){return e.cache[t]}function UD(e,t){return Jg(e,e.order[t])}function pg(e,t){e.order.forEach((n,r)=>{const i=Jg(e,n);i&&t(i,r)})}function jD(e){return e.order.length}var jme=class extends me{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=oW(e),s=!!n||(r==="pinnedBottom"||r==="pinnedTop"),o=s?this.inner instanceof u2:this.inner instanceof a2;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new a2:new u2))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},Wme="ROOT_NODE_ID",$me=class extends me{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=Wme,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=Rf(this.gos),r=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let u=!1,h=!1,f=!1,g=!1;for(let C=0,S=-1,R=t.length;C<R;C++){const x=t[C];let D=this.getRowNode(n({data:x,level:0}));if(!D)u=!0,D=this.createRowNode(x,-1),i.add(D);else{if(r){const T=D.sourceRowIndex;g||(g=T<=S||u),S=T}D.data!==x&&(f=!0,D.updateData(x),i.update(D))}s.add(D)}const v=[];for(let C=0;C<l;C++){const S=a[C];s.has(S)||(h=!0,S.isSelected()&&v.push(S),S.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(S.pinnedSibling,null),this.rowNodeDeleted(S),i.remove(S))}if(u||h||g){const C=new Array(s.size);let S=0;if(!r)for(let x=0;x<l;++x){const D=a[x];s.delete(D)&&(D.sourceRowIndex=S,C[S++]=D)}for(const x of s)x.sourceRowIndex=S,C[S++]=x;o.allLeafChildren=C;const R=o.sibling;R&&(R.allLeafChildren=C),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=g)}(u||h||g||f)&&(this.deselectNodes(v),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[],i=Rf(this.gos);return this.executeRemove(i,e,n,r),this.executeUpdate(i,e,n,r),this.executeAdd(e,n),this.deselectNodes(r),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let r=this.rootNode.allLeafChildren,i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let f=0;f<r.length;f++)if(r[f]?.rowIndex==i-1){i=f+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let h=0;h<s;h++){const f=this.createRowNode(n[h],i+h);o.add(f),a[h]=f}const l=this.rootNode;if(i<r.length){const h=r.slice(0,i),f=r.slice(i,r.length),g=h.length+a.length;for(let v=0,C=f.length;v<C;++v)f[v].sourceRowIndex=g+v;r=[...h,...a,...f],t.rowsInserted=!0}else r=r.concat(a);l.allLeafChildren=r;const u=l.sibling;u&&(u.allLeafChildren=r),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(u=>{const h=this.lookupRowNode(e,u);h&&(h.isSelected()&&i.push(h),h.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(h.pinnedSibling,null),h.clearRowTopAndRowIndex(),o[h.id]=!0,delete this.allNodesMap[h.id],r.remove.push(h),n.remove(h))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(u=>!o[u.id])??null,a.allLeafChildren?.forEach((u,h)=>{u.sourceRowIndex=h});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&i.push(a),r.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,r=e.length>0;r&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),r&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new hd(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&xe(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const r=e({data:t,level:0});if(n=this.allNodesMap[r],!n)return an(4,{id:r}),null}else if(n=this.rootNode?.allLeafChildren?.find(r=>r.data===t),!n)return an(5,{data:t}),null;return n||null}},qme={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Kme=class extends mn{constructor(){super(qme,[C1]),this.eCheckbox=Xe}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=sE(e,r),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(r,!0),n.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:cd,click:r=>{cd(r),this.beans.selectionSvc?.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?px(r):void 0,o=typeof i=="object"?px(i):void 0;s!==o&&this.onSelectableChanged()}),MD(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const f=n?.callbackParams;if(!e)o=s({...f,node:t,data:t.data});else{const g=e.createColumnFunctionCallbackParams(t);o=s({...f,...g})}}else o=s??!1;const a=i&&!o||!i&&o,l=i||o,u=r.get("rowSelection"),h=u&&typeof u!="string"?!px(u):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?h:!0)),this.setDisplayed(l&&(a?h:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Kh(t):this.column?.getColDef()?.checkboxSelection}},Yme=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r?.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return _s(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=_s(n,"bottom",void 0,e),s=r.getRowCount(),o=r.getRow(s-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return _s(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=_s(n,"top",t,void 0),s=_s(n,"bottom",void 0,e),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return _s(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=_s(n,"top",e,void 0),s=_s(n,"bottom",void 0,t),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return _s(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=_s(n,"bottom",void 0,t),s=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},Xme=class extends me{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Hn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new y1);this.cbSelectAll=t,t.addCss("ag-header-select-all"),od(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(r)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue(),o=sE(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${a} (${o})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return Fb(this.gos)?!0:(xe(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return fr(t)||xd(t)?!0:(xe(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return m6(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=uW(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function m6({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;if(typeof r=="object"){const l=Gc(n),u=n1(n);(Pb(r)==="autoGroupColumn"&&u||l&&t?.isSelectionColumnEnabled())&&(o=Dw(r))}else typeof s=="function"?o=s(nt(e,{column:n,colDef:i})):o=!!s;return o}var Qme=class extends me{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Yme(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=MD(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=MD(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Kme}createSelectAllFeature(e){if(m6(this.beans,e))return new Xme(e)}isMultiSelect(){return Fb(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",r);const s=i.element;RD(s,r),s.contains(Hn(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(r,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Yv(e)||!zu(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Bm(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const i=e.childrenAfterGroup[r];let s=i.isSelected();if(!i.selectable){const o=this.calculateSelectedFromChildren(i);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...dge(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=Gc(e)&&Kh(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),a=Bm(i),l=zhe(i),u=Uhe(i),h=this.isMultiSelect(),f=r==="rowClicked";if(f&&!(l||u))return null;if(t&&n&&h){const g=s.getRoot();if(g)if(g.isSelected()){const v=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:v.discard,select:v.keep,reset:!1}}else{const v=s.extend(e,a);return{select:[],deselect:v.keep,reset:!1}}else return null}else if(t&&h){const g=s.selectAll?this.beans.rowModel.getRow(0):void 0,v=s.getRoot(g),C=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:C.keep,deselect:C.discard,reset:s.selectAll||!!(v&&!v.isSelected())}}else if(n){if(f){const g=!o;return g&&!l||!g&&!u?null:(s.setRoot(e),{node:e,newValue:g,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!h}}else{s.setRoot(e);const g=jhe(i),v=Mb(i)==="filteredDescendants",C=f&&(!g||!l);if(v&&o===void 0&&fr(i))return{node:e,newValue:!1,clearSelection:!h||C};if(f){const S=o?!g:l;return S===o&&!C||S&&!l||!S&&!u?null:{node:e,newValue:S,clearSelection:!h||C,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!h||C}}}},Zme=class extends y1{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Pd=class extends Mu{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=Fe(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{i6(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const r=n.clipboardData?.getData("text");r&&r.split("").some(i=>!e.test(i))&&n.preventDefault()}})}},uE={selector:"AG-INPUT-TEXT-FIELD",component:Pd},Jme=class extends Mu{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},eve={selector:"AG-INPUT-TEXT-AREA",component:Jme},w1=class extends Pd{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){Hn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=parseFloat(e).toFixed(n);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,as(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,as(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,as(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(Fe(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},tve={selector:"AG-INPUT-NUMBER-FIELD",component:w1},nve=class extends Pd{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Ed();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Hn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?fs(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,as(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?fs(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,as(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,as(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Ui(this.getValue())??void 0}setDate(e,t){this.setValue(fs(e??null,this.includeTime),t)}},v6={selector:"AG-INPUT-DATE-FIELD",component:nve},rve=class extends mn{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case de.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case de.DOWN:case de.UP:e.preventDefault(),this.navigate(t);break;case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===de.DOWN;let n;const{itemEls:r,highlightedEl:i}=this;if(!i)n=r[t?0:r.length-1];else{let o=r.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),r.length-1),n=r[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===de.PAGE_HOME?a=0:e===de.PAGE_END?a=i:e===de.PAGE_DOWN?a=Math.min(r+o,i):e===de.PAGE_UP&&(a=Math.max(r-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{cl(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();od(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{dhe(t,n+1),uhe(t,e.length)})}renderOption(e,t){const n=rr({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),r=rr({tag:"span",children:t});n.appendChild(r),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!ha(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),RD(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>n+r||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!ha(e)||(e.classList.remove(this.activeClass),RD(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},ive=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",sve={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},ove=class extends p6{constructor(e){if(super(e,e?.template||sve,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Xe,this.eWrapper=Xe,this.eDisplayField=Xe,this.eIcon=Xe,this.registerCSS(ive),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=Hs(n,this.beans);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),ED(e,!1),this.ariaRole&&od(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case de.UP:case de.DOWN:case de.ENTER:case de.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case de.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:h}=this,f={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const S=iW(u);this.beforeHidePicker(),S&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:h};e.style.position="absolute";const g=u.popupSvc,v=g.addPopup(f);l?(o&&(e.style.minWidth=o),e.style.width=QI(Rb(h)),a&&(e.style.maxWidth=a)):Db(e,a??Rb(h));const C=s??`${YI(g.getPopupParent())}px`;return e.style.setProperty("max-height",C),this.alignPickerToComponent(),v.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,o=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();ED(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return Db(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},ave=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",b1=class extends ove{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(ave)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Tw(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new rve("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),Che(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===de.TAB&&this.hidePicker(),t){case de.ENTER:case de.UP:case de.DOWN:case de.PAGE_UP:case de.PAGE_DOWN:case de.PAGE_HOME:case de.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case de.ESCAPE:super.onKeyDown(e);break;case de.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},lve={selector:"AG-SELECT",component:b1},Jh={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},y6=class extends me{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:h,onTabKeyDown:f,handleKeyDown:g,isEmpty:v,eFocusableElement:C}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=C,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=g,this.providedIsEmpty=v}postConstruct(){this.createManagedBean(new Qf(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Qh(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Or(this.beans),n=Qh(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const o=n.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,u)=>{const h=parseInt(l.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return f===a?1:h===a?-1:h===0?1:f===0?-1:h-f}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Qh(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Ad(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},cve=class extends me{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],s={setTabIndex:R=>{i.forEach(x=>R!=null?x.setAttribute("tabindex",R):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:f,shouldStopEventPropagation:g,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}=e;this.tabGuardCtrl=this.createManagedBean(new y6({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:f,shouldStopEventPropagation:g,isEmpty:v,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Or(this.beans).createElement("div"),n=e==="top"?Jh.TAB_GUARD_TOP:Jh.TAB_GUARD_BOTTOM;return t.classList.add(Jh.TAB_GUARD,n),od(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];ms(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){ZI(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;cl(e),cl(t),super.destroy()}},uve=class extends mn{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new cve(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},Eu=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new sd,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",r,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!KW(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},dve=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},C6=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${Y5}/${this.frameworkName}-data-grid`,Ahe(this.baseDocLink)}setInterval(e,t){return new Ht(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){let i={};if(typeof r=="object"?i=r:typeof r=="boolean"&&(i={capture:r}),i.passive==null){const s=gW(t);s!=null&&(i.passive=s)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function hve(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var fve=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],h2=Object.fromEntries(fve.map((e,t)=>[e,t]));function pve(e,t){const n=(e.beanName?h2[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?h2[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function gve(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var mve=class extends me{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),QW(this.gos,t),this.createManagedBean(new u1(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=gl(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){return qW(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,a=on(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(on(n),e);const o=on(s);if(r.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Wu(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(dd(n[o].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!aE(e)||!Wu(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=Hn(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=dd(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},ft=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},f2={dispatchEvent:"CommunityCore",...ft("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...ft("GridState",{getState:0,setState:0}),...ft("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...ft("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...ft("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...ft("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...ft("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...ft("ValueCache",{expireValueCache:0}),...ft("CellApi",{getCellValue:0}),...ft("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...ft("Sort",{onSortChanged:0}),...ft("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...ft("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...ft("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...ft("HighlightChanges",{flashCells:0}),...ft("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...ft("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...ft("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...ft("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...ft("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...ft("ColumnResize",{setColumnWidths:0}),...ft("ColumnHover",{isColumnHovered:0}),...ft("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...ft("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...ft("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...ft("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...ft("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...ft("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...ft("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...ft("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...ft("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...ft("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...ft("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...ft("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...ft("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...ft("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...ft("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...ft("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...ft("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...ft("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...ft("ContextMenu",{showContextMenu:0}),...ft("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...ft("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...ft("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...ft("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...ft("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...ft("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...ft("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...ft("StatusBar",{getStatusPanel:0})},Tx={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},vve=(e,t)=>e.eventSvc.dispatchEvent(t),w6=class{};Reflect.defineProperty(w6,"name",{value:"GridApi"});var yve=class extends me{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new w6,this.fns={...Tx,dispatchEvent:vve},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(f2))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:r}=this;n!==Tx&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)xe(26,{fnName:e,preDestroyLink:r});else{const i=f2[e];n.assertModuleRegistered(i,`api.${e}`)&&xe(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=Tx,this.beans=null}};function Cve(e){return e.context.getGridId()}function wve(e){e.gridDestroySvc.destroy()}function bve(e){return e.gridDestroySvc.destroyCalled}function Sve(e,t){return e.gos.get(t)}function Eve(e,t,n){b6(e,{[t]:n})}function b6(e,t){e.gos.updateGridOptions({options:t})}function Rve(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var xve={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},Tve=class extends mn{constructor(e,t,n){super(xve),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Hs("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),s){const a=nt(i,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Dve(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function Ave(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function Pve(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function Ive(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function Fve(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=r?.rowIndex;s==null||i==="none"?n.clear():n.set(r,i)}var Mve=class extends me{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},_ve={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},kve=class extends mn{constructor(e,t,n,r,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:r}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(_ve),this.getGui().appendChild(Hs("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=r.get("rowDragManaged")?new Lve(this,t,n):new Ove(this,t,n);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const r=this.getDragItem(),i=r.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},S6=class extends me{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let r=!t,i=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;i=typeof l=="function",r=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}i?(a.setDisplayed(!0,n),a.setVisible(r&&!t,n)):(a.setDisplayed(r,n),a.setVisible(!t,n))}}},Ove=class extends S6{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Lve=class extends S6{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,r=e.rowDragFeature,i=r&&r.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=i&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},jm=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const o=r[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},Nve=class extends me{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;fr(t)&&(this.clientSideRowModel=e),n.whenReady(this,r=>{const i=r.gridBodyCtrl;let s=0;const o=()=>i.scrollFeature.getVScrollPosition().top;this.autoScrollService=new dve({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>i.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:r}=this.beans,i=this.isFromThisGrid(e);if(!(r.get("rowDragManaged")&&this.shouldPreventRowMove()))if(r.get("suppressMoveWhenRowDragging")||!i){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(on(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:r}=e.dragItem,s=r?.length&&(n??r[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,u=l.rootNode,h=YV(o,e).y;let f=l.getRowIndexAtPixel(h),g=l.getRow(f)??null;const v=s!==g;let C=g?(h-g.rowTop-g.rowHeight/2)/g.rowHeight||0:1;const S=this.isFromThisGrid(e),x=dW(a)!=="group"&&S;let D=null;if(x&&g?.footer){D=g.sibling??u;const H=em(l,-1,g)??em(l,1,g);C=H&&H.rowIndex>g.rowIndex?-.5:.5,g=H??null}let T=C<0,k=!1;if(S&&g){if(v){if(k=r.indexOf(g)>=0,k){const H=Vve(l,f<s.rowIndex,r);H?.parent===g.parent&&(g=H,f=g.rowIndex)}}else{if(Math.abs(C)<=.5)return this.makeGroupThrottleClear(),null;k=!0}(k||!x&&Math.abs(f-s.rowIndex)===1)&&(T=f<s.rowIndex)}const O=this.makeGroupThrottleTarget;O!==null&&O!==g&&this.makeGroupThrottleClear(),g?.expanded&&g.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=g),D===null&&x&&(!g||C>=.5&&g.rowIndex===o.pageBounds.getLastRow()?D=u:this.targetShouldBeParent(g,C,k,r)&&(this.makeGroupThrottled&&(D=g),t&&(D===null||!g.expanded)&&(this.makeGroupThrottleTarget=g,this.makeGroupThrottleStart())),D??(D=g?.parent??u));let P=!1;if(D!==null){if(D===g&&D!==u){P=!0;const H=D.expanded?em(l,1,g):null;H?.parent===D&&(g=H,P=!1,T=!0)}if(g&&!P){let H=g;for(;H&&H!==u&&H!==D;)g=H,H=H.parent}Hve(r,D)&&(D=null)}if(!D&&k&&(x||s===g))return null;const _=P?"inside":T?"above":"below",M={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:S,position:_,source:s,target:g,newParent:D,rows:r};let N=!1;const B=a.get("isRowValidDropPosition");if(B){const H=B(M);H?typeof H=="object"&&(H.rows!==void 0&&(M.rows=H.rows??_b),H.newParent!==void 0&&(M.newParent=H.newParent),H.target!==void 0&&(M.target=H.target),H.position&&(N=!0,M.position=H.position)):M.rows=_b}return(!M.newParent||!M.rows.length)&&!N&&(M.position=T?"above":"below"),M}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,r){const i=e?.rowIndex;if(n||i===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=i+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const u=e.childrenAfterGroup;if(o&&o.parent===e&&u?.length){const h=new Set(r);for(const f of u)if(f.rowIndex!==null&&!h.has(f))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){xe(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){xe(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(n.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(n.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(n.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(n.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{r(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:r,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:r,rowModel:i,gos:s}=n,o=YV(this.beans,t).y,a=o>r.getCurrentPagePixelRange().pageLastPixel;let l=-1,u;return a||(l=i.getRowIndexAtPixel(o),u=i.getRow(l)),nt(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const r=this.managedRowsDrop(e,!1);r&&this.dropRows(r),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const r=Rf(this.gos),i=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!i.getRowNode(r?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?p2(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new jm(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:r}){let i=!1;const s=this.clientSideRowModel,o=new Set;for(const h of n){if(h.footer||h.rowTop===null&&h!==s.getRowNode(h.id))continue;if(r&&h.parent!==r){if(Bve(h,r))continue;h.treeParent=r,i=!0}const f=E6(h);f&&o.add(f)}if(!i&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),u=l&&Vg(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(i=!0),i?(this.refreshModelAfterDrop(),u?u.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const r=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let i=p2(t);i<0||i>=r?i=r:n||++i;let s=i,o=Math.min(i,r-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,i,o]}reorderLeafChildren(e,t,n,r){let i=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const u=s[l];e.has(u)||(u.sourceRowIndex!==o&&(u.sourceRowIndex=o,s[o]=u,i=!0),++o)}let a=r;for(let l=r;l>=n;--l){const u=s[l];e.has(u)||(u.sourceRowIndex!==a&&(u.sourceRowIndex=a,s[a]=u,i=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,i=!0),++o;return i}},Vve=(e,t,n)=>t?em(e,-1,n[0]):em(e,1,on(n)),em=(e,t,n)=>{if(n){const r=e.getRowCount();let i=n.rowIndex+t;for(;i>=0&&i<r;){const s=e.getRow(i);if(!s||!s.footer)return s;i+=t}}},Bve=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},Hve=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},p2=e=>{const t=E6(e);return t!==void 0?t.sourceRowIndex:-1},E6=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},Gve=class extends me{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new Nve(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,s){return new kve(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(Ac(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!fr(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}},zve=class extends me{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,i=t!==this.position,s=r!==this.uiLevel;(n||i||s)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},R6={moduleName:"Drag",version:ke,beans:[cge]},Uve={moduleName:"DragAndDrop",version:ke,dynamicBeans:{dndSourceComp:Tve},icons:{rowDrag:"grip"}},x6={moduleName:"SharedDragAndDrop",version:ke,beans:[lge],dependsOn:[R6],userComponents:{agDragAndDropImage:Ime},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},jve={moduleName:"RowDrag",version:ke,beans:[zve,Gve],apiFunctions:{addRowDropZone:Dve,removeRowDropZone:Ave,getRowDropZoneParams:Pve,getRowDropPositionIndicator:Ive,setRowDropPositionIndicator:Fve},dependsOn:[x6]},Wve={moduleName:"HorizontalResize",version:ke,beans:[Mve],dependsOn:[R6]},$ve=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",qve=class extends me{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function Kve(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function Yve(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var Xve=class extends me{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function Qve(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),o=e.indexOf(i);return s-o})}function Zve(e){const t=[...e];return e.forEach(n=>{let r=null,i=n.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)r=i,i=i.getParent();r!=null&&(!!r.getColGroupDef()?.marryChildren?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function Jve(e,t,n,r){const i=r.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],u=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(u))continue;const h=u.filter(g=>i.includes(g));if(o===null)o=h;else if(!Dd(h,o))break;const f=tye(u);(s===null||f<s.fragCount)&&(s={move:l,fragCount:f})}return s}function T6(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:u,visibleCols:h}=e;let{allMovingColumns:f}=e;t&&(f=Zve(f));const g=f.slice();Qve(l.getCols(),g);const v=rye({movingCols:g,draggingRight:n,xPosition:r,pinned:o,gos:a,colModel:l,visibleCols:h}),C=eye(g,l);if(v.length===0)return;const S=v[0];if(C!==null&&(t||!i)&&!s&&(!n&&S>=C||n&&S<=C))return;const x=Jve(v,g,u,h);if(!x)return;const D=x.move;if(!(D>l.getCols().length-g.length))return{columns:g,toIndex:D}}function D6(e){const{columns:t,toIndex:n}=T6(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function eye(e,t){const n=t.getCols(),r=e.map(l=>n.indexOf(l)).sort((l,u)=>l-u),i=r[0];return on(r)-i!==r.length-1?null:i}function tye(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function nye(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function rye(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(T=>T.getColDef().suppressMovable))return[];const u=nye(a,i),h=o.getCols(),f=u.filter(T=>t.includes(T)),g=u.filter(T=>!t.includes(T)),v=h.filter(T=>!t.includes(T));let C=0,S=r;if(n){let T=0;f.forEach(k=>T+=k.getActualWidth()),S-=T}if(S>0){for(let T=0;T<g.length;T++){const k=g[T];if(S-=k.getActualWidth(),S<0)break;C++}n&&C++}let R;if(C>0){const T=g[C-1];R=v.indexOf(T)+1}else R=v.indexOf(g[0]),R===-1&&(R=0);const x=[R],D=(T,k)=>T-k;if(n){let T=R+1;const k=h.length-1;for(;T<=k;)x.push(T),T++;x.sort(D)}else{let T=R;const k=h.length-1;let O=h[T];for(;T<=k&&u.indexOf(O)<0;)T++,x.push(T),O=h[T];T=R-1;const P=0;for(;T>=P;)x.push(T),T--;x.sort(D).reverse()}return x}function WD(e){const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function Dx(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var g2=7,$D=100,UC=$D/2,iye=5,sye=100,oye=class extends me{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Fe(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(const i of r){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(o=>i[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&Tn(e.hDirection))return;const a=WD({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,r):this.handleColumnDragWhileAllowingMovement(e,t,n,a,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const r=e.filter(i=>!i.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),u=D6({...l,finished:i});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:u,visibleCols:h}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:u,visibleCols:h}}highlightHoveredColumn(e,t){const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(h=>h.isVisible()&&h.getPinned()===this.pinned);let o=null,a=null,l=null;for(const h of s){if(a=h.getActualWidth(),o=this.getNormalisedColumnLeft(h,0,i),o!=null){const f=o+a;if(o<=t&&f>=t){l=h;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let h=s.length-1;h>=0;h--){const f=s[h],g=s[h].getParent();if(!g){l=f;break}const v=g?.getDisplayedLeafColumns();if(v.length){l=on(v);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==i?u=0:u=1,m2(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const l=r.allCols,u=l.indexOf(s),h=l.indexOf(o),f=a===0!==i,g=u<h||u===h&&!f;let v=0;if(f?g&&(v-=1):g||(v+=1),h+v===u)return;const C=l[h+v];if(!C)return;const S=this.getNormalisedColumnLeft(C,20,i);return{fromLeft:g,xPosition:S}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=aye(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return WD({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>g2;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=T6(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(m2(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+UC,s=e>r-UC):(s=e<n+UC,i=e>r-UC),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),sye),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*iye,e>$D&&(e=$D);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:i,gos:s}=this.beans;if(this.failedMoveAttempts<=g2+1||!r)return;if(i.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i?.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function m2(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function aye(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var lye=class extends me{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new oye(n)),this.bodyDropPivotTarget=this.createManagedBean(new Xve(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},cye=class extends me{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){xe(30,{toIndex:t});return}s?.start();const u=i.getColsForKeys(e);this.doesMovePassRules(u,t)&&(zV(i.getCols(),u,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:r,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!RW(e,t.getColTree())||!(i=>{const s=u=>u?u==="left"||u===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return i.forEach(u=>{const h=s(u.getColDef().lockPosition);o?h>a&&(l=!1):h<a&&(l=!1),a=h}),l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return zV(r,e,t),r}createBodyDropTarget(e,t){return new lye(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:u}=this.beans,h=t.getBoundingClientRect(),f=h.left,g=tr(n),v=g?h.width:n.getActualWidth(),C=e==="left"!==o.get("enableRtl"),S=WD({x:C?f-20:f+v+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:s}),R=u.focusedHeader;D6({allMovingColumns:g?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:S,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let x;if(g){const D=n.getDisplayedLeafColumns();x=C?D[0]:on(D)}else x=n;if(s.getScrollFeature().ensureColumnVisible(x,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&R){let D;if(g){const T=n.getGroupId(),k=n.getLeafColumns();if(!k.length)return;const O=k[0].getParent();if(!O)return;D=uye(O,T)}else D=n;D&&u.focusHeaderPosition({headerPosition:{...R,column:D}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let a=!r.get("suppressDragLeaveHidesColumns");const l=tr(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>hye(t,o.allCols):()=>dye(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),Dx(u,!0)},onDragStopped:()=>Dx(u,!1),onDragCancelled:()=>Dx(u,!1),onGridEnter:g=>{if(a){const{columns:v=[],visibleState:C}=g??{},S=l?x=>!C||C[x.getColId()]:()=>!0,R=v.filter(x=>!x.getColDef().lockVisible&&S(x));i.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:g=>{if(a){const v=g?.columns?.filter(C=>!C.getColDef().lockVisible)||[];i.setColsVisible(v,!1,"uiColumnMoved")}}};return s.addDragSource(f,!0),f}};function uye(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function dye(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function hye(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(a=>r[a.getId()]=a.isVisible());const i=[];t.forEach(a=>{n.indexOf(a)>=0&&(i.push(a),Ys(n,a))}),n.forEach(a=>i.push(a));const s=[],o=e.getLeafColumns();for(const a of i)o.indexOf(a)!==-1&&s.push(a);return{columns:i,columnsInSplit:s,visibleState:r,containerType:s[0]?.pinned}}var fye={moduleName:"ColumnMove",version:ke,beans:[cye,qve],apiFunctions:{moveColumnByIndex:Kve,moveColumns:Yve},dependsOn:[x6],css:[$ve]},pye=class extends me{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),r.appendChild(n);const i=n.offsetWidth;return r.removeChild(n),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&i.add(u)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}},A6={moduleName:"AutoWidth",version:ke,beans:[pye]};function gye(e,t,n=!0,r="api"){e.colResize?.setColumnWidths(t,!1,n,r)}var mye=class extends me{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=l=>l.reduce((u,h)=>u+h.getActualWidth(),0),n=(l,u)=>l.map(h=>h.getActualWidth()/u),r=this.getColumnsToResize(),i=t(r),s=n(r,i),o={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),u=o.groupAfterColumns=l.filter(f=>f.isResizable()),h=o.groupAfterStartWidth=t(u);o.groupAfterRatios=n(u,h)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,h=[];if(h.push({columns:i,ratios:o,width:t}),a){const f=t-s;h.push({columns:a,ratios:u,width:l-f})}this.beans.colResize?.resizeColumnSets({resizeSets:h,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},vye=class extends me{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(Ln(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),a=i+o,l=[{key:n,newWidth:a}],{pinnedCols:u,ctrlsSvc:h,colResize:f}=s;if(this.column.getPinned()){const g=u?.leftWidth??0,v=u?.rightWidth??0,C=Nm(h.getGridBodyCtrl().eBodyViewport)-50;if(g+v+(o-r)>C)return}this.lastResizeAmount=o,f?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},yye=class extends me{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const u=s.getColDefCol(l.key)||s.getCol(l.key);if(!u)return;if(i.push({width:l.newWidth,ratios:[1],columns:[u]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(u);if(!f)return;const g=u.getActualWidth()-l.newWidth,v=f.getActualWidth()+g;i.push({width:v,ratios:[1],columns:[f]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(h=>Cye(h)))){if(n){const h=t&&t.length>0?t[0].columns:null;xf(this.eventSvc,h,n,r)}return}const s=[],o=[];t.forEach(h=>{const{width:f,columns:g,ratios:v}=h,C={},S={};g.forEach(D=>o.push(D));let R=!0,x=0;for(;R;){if(x++,x>1e3){an(31);break}R=!1;const D=[];let T=0,k=f;g.forEach((P,_)=>{if(S[P.getId()])k-=C[P.getId()];else{D.push(P);const N=v[_];T+=N}});const O=1/T;D.forEach((P,_)=>{const M=_===D.length-1;let N;M?N=k:(N=Math.round(v[_]*f*O),k-=N);const B=P.getMinWidth(),H=P.getMaxWidth();N<B?(N=B,S[P.getId()]=!0,R=!0):H>0&&N>H&&(N=H,S[P.getId()]=!0,R=!0),C[P.getId()]=N})}g.forEach(D=>{const T=C[D.getId()];D.getActualWidth()!==T&&(D.setActualWidth(T,r),s.push(D))})});const a=s.length>0;let l=[];if(a){const{colFlex:h,visibleCols:f,colViewport:g}=this.beans;l=h?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],f.setLeftValues(r),f.updateBodyWidths(),g.checkViewportColumns()}const u=o.concat(l);(a||n)&&xf(this.eventSvc,u,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new vye(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new mye(e,t,n,r)}};function Cye(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;t.forEach(l=>{const u=l.getMinWidth();r+=u||0;const h=l.getMaxWidth();h>0?i+=h:s=!1});const o=n>=r,a=!s||n<=i;return o&&a}var wye={moduleName:"ColumnResize",version:ke,beans:[yye],apiFunctions:{setColumnWidths:gye},dependsOn:[Wve,A6]},bye=class extends me{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},Sye=class extends m1{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,r,i){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:u,rangeSvc:h,colResize:f}=o;this.comp=e,i=qv(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.rowCtrl.pinned,v=s.getProvidedColumnGroup().getLeafColumns();u?.createHoverFeature(i,v,t),h?.createRangeHighlightFeature(i,s,e),i.createManagedBean(new g1(s,t,o)),i.createManagedBean(new bye(e,s)),f?this.resizeFeature=i.createManagedBean(f.createGroupResizeFeature(e,n,g,s)):e.setResizableDisplayed(!1),i.createManagedBean(new Qf(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,v),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return nt(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=on(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),u=i===1,h=i===0;n&&(l?a=u:o=h),r&&(l?o=h:a=u)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),o=nt(n,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,u)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,u)},showColumnMenu:(l,u)=>r?.showMenuAfterButtonClick(s,l,"columnMenu",u),showColumnMenuAfterMouseClick:(l,u)=>r?.showMenuAfterMouseEvent(s,l,"columnMenu",u),eGridHeader:this.eGui}),a=Qfe(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=WW(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(r=>this.comp.toggleCss(r,!0))}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===de.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Eye(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function Rye(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function xye(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function Tye(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function Dye(e){return e.colGroupSvc?.getColumnGroupState()??[]}function Aye(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function Pye(e){e.colGroupSvc?.resetColumnGroupState("api")}function Iye(e){return e.visibleCols.treeLeft}function Fye(e){return e.visibleCols.treeCenter}function Mye(e){return e.visibleCols.treeRight}function _ye(e){return e.visibleCols.getAllTrees()}function kye(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var Oye=class extends me{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=Ax(this.treeLeft),this.centerCols=Ax(this.treeCenter),this.rightCols=Ax(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=Ga(this.centerCols),t=Ga(this.leftCols),n=Ga(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?on(n):null):(i=t?on(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===i,r),o.setFirstRightPinned(o===s,r)})}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new PW,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:r,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return tr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{tr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(i){let o=Ga(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}kye(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),h=[a];if(u>1){const g=u-1;for(let v=1;v<=g;v++)h.push(t[o+v]);o+=g}let f;n?(f=!1,h.forEach(g=>{n(g)&&(f=!0)})):f=!0,f&&(i.length===0&&s&&(r&&r(a))&&i.push(s),i.push(a)),s=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};$u(this.treeCenter,!1,e),$u(this.treeLeft,!1,e),$u(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?on(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Ga(this.leftCols)}getDisplayedColumnsRightWidth(){return Ga(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(tr(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:on(s)}else i=e;return(r?n[0]:on(n))===i}};function $u(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(tr(i)){const s=t?i.getDisplayedChildren():i.getChildren();$u(s,t,n)}n(i)}}function Ax(e){const t=[];return $u(e,!0,n=>{Pc(n)&&t.push(n)}),t}var Lye=class extends me{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return el(null,t,n=>{oi(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];el(null,t,r=>{if(oi(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r?.start();const a=[];e.forEach(l=>{const u=l.groupId,h=l.open,f=this.getProvidedColGroup(u);f&&f.isExpanded()!==h&&(f.setExpanded(h),a.push(f))}),i.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),r?.finish()}setColumnGroupOpened(e,t,n){let r;oi(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return el(null,this.beans.colModel.getColTree(),n=>{oi(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?on(r):r[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();$u(e,!1,t=>{tr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(tr(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return $u(n,!1,s=>{if(tr(s)){const o=s;let a;r?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const u=l;l=[];let h=0;const f=g=>{const v=h;h=g;const C=u[v],R=(tr(C)?C.getProvidedColumnGroup():C).getOriginalParent();if(R==null){for(let D=v;D<g;D++)a.push(u[D]);return}const x=this.createColumnGroup(R,n,o,r,s);for(let D=v;D<g;D++)x.addChild(u[D]);l.push(x)};for(let g=1;g<u.length;g++){const v=u[g],S=(tr(v)?v.getProvidedColumnGroup():v).getOriginalParent(),R=u[h],D=(tr(R)?R.getProvidedColumnGroup():R).getOriginalParent();S!==D&&f(g)}h<u.length&&f(u.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,r,i,s,o){const a=i.getUniqueKey(t.groupId||null,null),l=GV(this.beans,t,a),u=new Iw(l,a,!1,n);this.createBean(u);const h=this.findExistingGroup(t,s);h&&s.splice(h.idx,1);const f=h?.group;f&&u.setExpanded(f.isExpanded());const g=bW(this.beans,l.children,n+1,e,r,i,s,o);return u.setChildren(g),u}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(oi(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let u=t;u<n;u++){const h=r.getUniqueKey(null,null),f=GV(this.beans,null,h),g=new Iw(f,h,!0,u);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(i.push(a),e.some(h=>oi(h))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&oi(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(oi(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(r=>{let i=r;for(let s=t-1;s>=0;s--){const o=new Iw(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(r.originalParent=null),n.push(i)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=JW(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Fe(l)?l.reset():(l=new Um(e,s,o,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(tr(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,tr(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}},Nye={moduleName:"ColumnGroup",version:ke,dynamicBeans:{headerGroupCellCtrl:Sye},beans:[Lye],apiFunctions:{getAllDisplayedColumnGroups:_ye,getCenterDisplayedColumnGroups:Fye,getColumnGroup:Rye,getColumnGroupState:Dye,getDisplayNameForColumnGroup:Tye,getLeftDisplayedColumnGroups:Iye,getProvidedColumnGroup:xye,getRightDisplayedColumnGroups:Mye,resetColumnGroupState:Pye,setColumnGroupOpened:Eye,setColumnGroupState:Aye}},Vye={tag:"div",cls:"ag-skeleton-container"},Bye=class extends mn{constructor(){super(Vye)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Om(t.eParentOfValue)),Om(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");Ef(this.getGui(),n)}setupLoading(t){const n=rr({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const o=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${o}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");Ef(this.getGui(),s)}refresh(t){return!1}},Hye={moduleName:"CheckboxCellRenderer",version:ke,userComponents:{agCheckboxCellRenderer:Lme}},Gye={moduleName:"SkeletonCellRenderer",version:ke,userComponents:{agSkeletonCellRenderer:Bye}};function zye(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Uye(e){return e.colModel.getColumnDefs()}function jye(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function Wye(e,t){return e.colModel.getColDefCol(t)}function $ye(e){return e.colModel.getColDefCols()}function qye(e,t){return uo(e,t,"api")}function Kye(e){return Lb(e)}function Yye(e){Efe(e,"api")}function Xye(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Qye(e){return e.visibleCols.isPinningLeft()}function Zye(e){return e.visibleCols.isPinningRight()}function Jye(e,t){return e.visibleCols.getColAfter(t)}function eCe(e,t){return e.visibleCols.getColBefore(t)}function tCe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function nCe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function rCe(e){return e.colModel.getCols()}function iCe(e){return e.visibleCols.leftCols}function sCe(e){return e.visibleCols.centerCols}function oCe(e){return e.visibleCols.rightCols}function aCe(e){return e.visibleCols.allCols}function lCe(e){return e.colViewport.getViewportColumns()}function qD(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||P5.has(i))return;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=qD(s):r[i]=s}),r}var cCe=class extends me{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r){const i=e.slice();t?i.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&i.sort((a,l)=>r.indexOf(a)-r.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(i,s,o)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,u=s.getOriginalParent(),h=null;for(;u;){let f=null;if(u.isPadding()){u=u.getOriginalParent();continue}const g=i[u.getGroupId()];if(g){g.children.push(l),a=!1;break}if(f=this.createDefFromGroup(u),f&&(f.children=[l],i[f.groupId]=f,l=f,u=u.getOriginalParent()),u!=null&&h===u){a=!1;break}h=u}a&&r.push(l)}),r}createDefFromGroup(e){const t=qD(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=qD(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},uCe=class extends me{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:r}=this.beans,i=r.centerCols;let s=-1;if(e.resizingCols){const C=new Set(e.resizingCols);for(let S=i.length-1;S>=0;S--)if(C.has(i[S])){s=S;break}}let o=!1;const a=i.map((C,S)=>{const R=C.getFlex(),x=R!=null&&R>0&&S>s;return o||(o=x),{col:C,isFlex:x,flex:Math.max(0,R??0),initialSize:C.getActualWidth(),min:C.getMinWidth(),max:C.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,u=a.reduce((C,S)=>C+S.flex,0),h=n;const f=(C,S)=>{C.frozenSize=S,C.col.setActualWidth(S,t),h-=S,u-=C.flex,l-=1},g=C=>C.frozenSize!=null;for(const C of a)C.isFlex||f(C,C.initialSize);for(;l>0;){const C=Math.round(u<1?h*u:h);let S,R=0,x=0;for(const k of a){if(g(k))continue;S=k,x+=C*(k.flex/u);const O=x-R,P=Math.round(O);k.targetSize=P,R+=P}S&&(S.targetSize+=C-R);let D=0;for(const k of a){if(g(k))continue;const O=k.targetSize,P=Math.min(Math.max(O,k.min),k.max);D+=P-O,k.violationType=P===O?void 0:P<O?"max":"min",k.targetSize=P}const T=D===0?"all":D>0?"min":"max";for(const k of a)g(k)||(T==="all"||k.violationType===T)&&f(k,k.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const v=a.filter(C=>C.isFlex&&!C.violationType).map(C=>C.col);if(e.fireResizedEvent){const C=a.filter(R=>R.initialSize!==R.frozenSize).map(R=>R.col),S=a.filter(R=>R.flex).map(R=>R.col);xf(this.eventSvc,C,!0,t,S)}return v}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},dCe=["dateTimeString","dateString","text","number","boolean","date"],hCe=class extends me{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===de.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=r==null?"":e({column:s,node:null,value:r}),l=i==null?"":e({column:s,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=h=>f=>{const{column:g,node:v,value:C}=f;let S=g.getColDef().valueFormatter;return S===h.groupSafeValueFormatter&&(S=h.valueFormatter),this.beans.valueSvc.formatValue(g,v,C,S)};for(const h of Object.keys(e)){const f=e[h],g={...f,groupSafeValueFormatter:C2(f,this.gos)};t[h]=g,n[h]=r(g)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const h of Object.keys(i)){const f=i[h],g=this.processDataTypeDefinition(f,i,[h],e);g&&(t[h]=g,f.dataTypeMatcher&&(s[h]=f.dataTypeMatcher),n[h]=r(g))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:u}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=u!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of dCe)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=r[s];const a=t[s];if(o&&a&&(o=a),!y2(e,o,s))return;i=v2(o,e)}else{if(n.includes(s)){xe(44);return}const o=t[s];if(!y2(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],r);if(!a)return;i=v2(a,e)}return{...i,groupSafeValueFormatter:C2(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){xe(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!fr(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Px(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(Ob(i).some(a=>{const l=s[a.trim()];return l&&Px(l,r)}))return!1}return!Px(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Xg(r,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const h=pCe(a,o);h.rowGroup&&h.rowGroupIndex==null&&(r[s]=h),h.pivot&&h.pivotIndex==null&&(i[s]=h),n.push(h)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&uo(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=_D(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>xe(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,s=n[t];r.colFilter?.setColDefPropsForDataType(e,s,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>Ui(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):fs(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Ui(n)??void 0,dateFormatter:n=>fs(n??null,t)??void 0,valueParser:n=>_w(String(n.newValue))?n.newValue:null,valueFormatter:n=>_w(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&_w(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:SD(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&Ege(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>SD(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function v2(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...Ob(e.columnTypes),...Ob(t.columnTypes)]),n}function y2(e,t,n){return t?t.baseDataType!==e.baseDataType?(xe(46),!1):!0:(xe(45,{parentCellDataType:n}),!1)}function C2(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function fCe(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function Px(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>fCe(e,t,n,r))}function pCe(e,t){const n=AW(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}var gCe={moduleName:"DataType",version:ke,beans:[hCe],dependsOn:[Hye]},mCe={moduleName:"ColumnFlex",version:ke,beans:[uCe]},P6={moduleName:"ColumnApi",version:ke,beans:[cCe],apiFunctions:{getColumnDef:zye,getDisplayNameForColumn:jye,getColumn:Wye,getColumns:$ye,applyColumnState:qye,getColumnState:Kye,resetColumnState:Yye,isPinning:Xye,isPinningLeft:Qye,isPinningRight:Zye,getDisplayedColAfter:Jye,getDisplayedColBefore:eCe,setColumnsVisible:tCe,setColumnsPinned:nCe,getAllGridColumns:rCe,getDisplayedLeftColumns:iCe,getDisplayedCenterColumns:sCe,getDisplayedRightColumns:oCe,getAllDisplayedColumns:aCe,getAllDisplayedVirtualColumns:lCe,getColumnDefs:Uye}};function vCe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var yCe=class extends me{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){const s=e.headerValueGetter;if(s){const o=nt(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return vCe(e.field)}return""}},CCe=class extends me{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=r.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||wCe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,o=t>i&&n>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return Fe(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const i=new Set,s={};for(const o of r){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const h=a.getProvidedColumnGroup().getLevel();s[h]??(s[h]=[]),s[h].push(a),i.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function wCe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var bCe=class extends me{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=XI("<span>"+s+"</span>");return}if(s==null){this.eGui=rr({tag:"span"});return}this.eGui=s}}return n}},SCe={moduleName:"CellRendererFunction",version:ke,beans:[bCe]},ECe=class extends me{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(o,a,l,u)=>{this.agGridDefaults[o]=a,(l||u)&&(this.agGridDefaultOverrides[o]={params:l,processParams:u})};for(const o of Object.keys(n)){let a=n[o];if(wpe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:u,processParams:h}=a;s(o,l,u,h)}else s(o,a)}}if(r){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(r))this.dynamicBeans[s]=r[s]}if(i?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,u,h)=>({componentFromFramework:l,component:a,params:u,processParams:h}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const a=r.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(ia(279,{name:e}));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??ia(256));return}return new r(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},RCe=23,xCe=class extends me{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===RCe&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},TCe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',S1=typeof window!="object"||!window?.document?.fonts?.forEach,Af=(e,t,n,r,i,s)=>{if(S1)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=ef.map.get(t);if(o||(o=[],ef.map.set(t,o)),o.find(h=>h.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:i};let u;for(const h of o){if(h.priority>i)break;u=h}if(u){u.el.insertAdjacentElement("afterend",a);const h=o.indexOf(u);o.splice(h+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},I6=(e,t,n)=>{Af(TCe,e,"core",t,0,n),Array.from(ppe()).sort((r,i)=>r.moduleName.localeCompare(i.moduleName)).forEach(r=>r.css?.forEach(i=>Af(i,e,`module-${r.moduleName}`,t,0,n)))},DCe=e=>{ef.grids.add(e)},ACe=e=>{if(ef.grids.delete(e),ef.grids.size===0){ef.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},w2,ef=(w2=typeof window=="object"?window:{}).agStyleInjectionState??(w2.agStyleInjectionState={map:new WeakMap,grids:new Set}),fa=e=>new F6(e),Jl="$default",PCe=0,F6=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[Jl]:{...n[Jl]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++PCe}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const o of this.cssImports??[])i=`@import url(${JSON.stringify(o)});
${i}`;r={css:i,class:s}}else r=!1;this._inject=r}return r&&e&&Af(r.css,e,r.class,t,1,n),r?r.class:!1}},ICe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),M6=e=>`--ag-${ICe(e)}`,pa=e=>`var(${M6(e)})`,FCe=(e,t,n)=>Math.max(t,Math.min(n,e)),MCe=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},Oo=e=>({ref:"accentColor",mix:e}),ks=e=>({ref:"foregroundColor",mix:e}),Bs=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),_Ce=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Li={ref:"backgroundColor"},Ah={ref:"foregroundColor"},za={ref:"accentColor"},Wb={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:ks(.15),chromeBackgroundColor:Bs(.02),browserColorScheme:"light"},kCe={...Wb,textColor:Ah,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Li,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:za,rangeSelectionBackgroundColor:Oo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Oo(.5),rangeHeaderHighlightColor:_Ce(.08),rowNumbersSelectedColor:Oo(.5),rowHoverColor:Oo(.08),columnHoverColor:Oo(.05),selectedRowBackgroundColor:Oo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Li,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Li,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:ks(.7),focusShadow:{spread:3,color:Oo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:ks(.1),iconButtonActiveColor:za,iconButtonActiveBackgroundColor:Oo(.28),iconButtonActiveIndicatorColor:za,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:za,toggleButtonOffBackgroundColor:Bs(.3),toggleButtonSwitchBackgroundColor:Li,toggleButtonSwitchInset:2,menuBorder:{color:ks(.2)},menuBackgroundColor:Bs(.03),menuTextColor:Bs(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:ks(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:za},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:ks(.2)},panelBackgroundColor:Li,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:ks(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:ks(.13)},selectCellBackgroundColor:ks(.07),selectCellBorder:{color:ks(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Li,filterPanelApplyButtonBackgroundColor:za,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:Ah,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Ah,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:ks(.15),statusBarLabelColor:Ah,statusBarLabelFontWeight:500,statusBarValueColor:Ah,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},OCe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",_6={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},LCe={..._6,cellBatchEditTextColor:"#f3d0b3"},NCe=()=>fa({feature:"batchEditStyle",params:_6,css:OCe}),VCe=NCe(),BCe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",HCe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},GCe=()=>fa({feature:"buttonStyle",params:{...HCe,buttonBackgroundColor:Li,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:za}},css:BCe}),zCe=GCe(),UCe=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",jCe=()=>fa({feature:"columnDropStyle",css:UCe}),k6=jCe(),WCe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],$Ce=MCe(e=>(e=e.toLowerCase(),WCe.find(t=>e.endsWith(t.toLowerCase()))??"length")),dE=e=>typeof e=="object"&&e?.ref?pa(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,E1=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=pa(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?pa(e.onto):"transparent"}, ${t} ${FCe(e.mix*100,0,100)}%)`}return!1},qCe=dE,Mh=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${pa(n)} `)})`:e&&"ref"in e?pa(e.ref):!1,KCe=dE,KD=(e,t)=>typeof e=="string"?e:e===!0?KD({},t):e===!1?t==="columnBorder"?KD({color:"transparent"},t):"none":e&&"ref"in e?pa(e.ref):O6(e.style??"solid")+" "+Mh(e.width??{ref:"borderWidth"})+" "+E1(e.color??{ref:"borderColor"}),YCe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?pa(e.ref):[Mh(e.offsetX??0),Mh(e.offsetY??0),Mh(e.radius??0),Mh(e.spread??0),E1(e.color??{ref:"foregroundColor"})].join(" "),O6=dE,L6=e=>typeof e=="string"?e.includes(",")?e:b2(e):e&&"googleFont"in e?L6(e.googleFont):e&&"ref"in e?pa(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),b2(t))).join(", "):!1,b2=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),XCe=dE,N6=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?N6({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?pa(e.ref):!1,QCe=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&an(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?pa(e.ref):!1,ZCe={color:E1,colorScheme:qCe,length:Mh,scale:KCe,border:KD,borderStyle:O6,shadow:YCe,image:N6,fontFamily:L6,fontWeight:XCe,duration:QCe},JCe=(e,t)=>{const n=$Ce(e);return ZCe[n](t,e)},ewe=()=>new V6().withPart(zCe).withPart(k6).withPart(VCe),V6=class B6{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof F6?new B6([...this.parts,t]):(Lg(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(fa({feature:t}))}withParams(t,n=Jl){return this.withPart(fa({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:i}){if(S1)return;nwe(),I6(t,n,r);const s=twe(this);if(s.length>0)for(const o of s)i&&iwe(o,r);for(const o of this.parts)o.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=S2(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Jl]:{...kCe}};for(const r of S2(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const o=n[i]??(n[i]={}),a=new Set;for(const l of Object.keys(s)){const u=s[l];u!==void 0&&(o[l]=u,a.add(l))}if(i===Jl)for(const l of Object.keys(n)){const u=n[l];if(l!==Jl)for(const h of a)delete u[h]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const u=o[l];if(l!==Jl){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=f,s+=f}for(const h of Object.keys(u).sort()){const f=u[h],g=JCe(h,f);if(g===!1)an(107,{key:h,value:f});else{const v=M6(h),C=v.replace("--ag-","--ag-inherited-");i+=`	${v}: var(${C}, ${g});
`,s+=`	${C}: var(${v});
`}}l!==Jl&&(i+=`}
`,s+=`}
`)}let a=`${n} {
${i}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=a}return r.replaceAll(n,`:where(.${t})`)}},S2=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},twe=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},E2=!1,nwe=()=>{if(!E2){E2=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},rwe=new Set,iwe=async(e,t)=>{rwe.add(e);const n=`@import url('https://${swe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Af(n,document.head,`googleFont:${e}`,void 0,0,t)},swe="fonts.googleapis.com",owe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',awe=()=>fa({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Li,checkboxUncheckedBorderColor:Bs(.3),checkboxCheckedBackgroundColor:za,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Li,checkboxIndeterminateBackgroundColor:Bs(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Li,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:owe}),lwe=awe(),H6=()=>({...Wb,...LCe,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Bs(.05),rowHoverColor:Oo(.15),selectedRowBackgroundColor:Oo(.2),menuBackgroundColor:Bs(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:Ah,findMatchColor:Li,findActiveMatchColor:Li,checkboxUncheckedBorderColor:Bs(.4),toggleButtonOffBackgroundColor:Bs(.4),rowBatchEditBackgroundColor:Bs(.1)}),cwe=()=>({...H6(),backgroundColor:"#1f2836"}),uwe=()=>fa({feature:"colorScheme",params:Wb,modeParams:{light:Wb,dark:H6(),"dark-blue":cwe()}}),dwe=uwe(),G6={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},z6={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},hwe=(e={})=>{let t="";for(const n of[...Object.keys(G6),...Object.keys(z6)]){const r=fwe(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},fwe=(e,t=1.5)=>{const n=z6[e];if(n)return n;const r=G6[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},pwe=(e={})=>fa({feature:"iconSet",css:()=>hwe(e)}),gwe=pwe(),mwe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',vwe=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",ywe={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},Cwe=()=>fa({feature:"inputStyle",params:{...ywe,inputBackgroundColor:Li,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:za},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Bs(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>mwe+vwe}),wwe=Cwe(),bwe='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',Swe={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Ewe=()=>fa({feature:"tabStyle",params:{...Swe,tabBarBorder:!0,tabBarBackgroundColor:ks(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Li},css:bwe}),Rwe=Ewe(),xwe=()=>ewe().withPart(lwe).withPart(dwe).withPart(gwe).withPart(Rwe).withPart(wwe).withPart(k6).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),Twe=xwe(),Dwe={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Awe={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},Pwe={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},R2={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},x2={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},T2={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Ix={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},D2={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},Iwe=0,Fwe=class extends me{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++Iwe}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(R2),this.getSizeEl(x2),this.getSizeEl(T2),this.getSizeEl(Ix),this.getSizeEl(D2),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>ACe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(D2)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Ix)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(R2)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(x2)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(Dwe)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Awe),n=this.getCSSVariablePixelValue(Pwe);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(T2)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let r=this.eGridDiv;for(;r;){let i=!1;for(const s of Array.from(r.classList))s.startsWith("ag-theme-")&&(i=!0,n=n?`${n} ${s}`:s);i&&this.mutationObserver.observe(r,{attributes:!0,attributeFilter:["class"]}),r=r.parentElement}}for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){const r=e.className;e.className=r+(r?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Af(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===Fx?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=rr({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=rr({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${Fx}px)`)):t.style.width=`var(${e.cssName}, ${Fx}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&xe(9,{variable:e});const o=gl(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(Ix);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:r}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const o=i??Twe;o instanceof V6?s=o:an(240,{theme:o})}if(s!==r){if(s){DCe(this),I6(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)Af(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=rr({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}S1||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&an(i?106:239)}},Fx=15538,Mwe=class extends me{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new sd}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(nt(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(nt(this.gos,e))}};function U6(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var _we=class extends me{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Or(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=i?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=on(a||[]).type==="filter",u=Wo(this.beans)-1;let h=-1,f=n;for(;f;)h++,f=f.getParent();let g=h;return t&&l&&g===u-1&&g++,g===-1?null:{headerRowIndex:g,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:s}=i,o=i.column,a=Wo(this.beans),l=this.getHeaderRowType(s),u=r.headerGroupRowCount;let{headerRowIndex:h,column:f,headerRowIndexWithoutSpan:g}=e==="UP"?kwe(l,o,s):Owe(o,s,u),v=!1;return h<0&&(h=0,f=o,v=!0),h>=a?(h=-1,this.currentHeaderRowWithoutSpan=-1):g!==void 0&&(this.currentHeaderRowWithoutSpan=g),!v&&!f?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:h,column:f},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s={...r.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const u=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(u){const{headerRowIndex:h}=r.focusedHeader||{};h!=null&&h!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=h)}return u}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let s=null,o;const a=Wo(r),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=on(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:u,headerRowIndex:h}=U6(this.beans,s,o);return h>=a&&(h=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:h},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(tr(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?on(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof Um){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?r.getColBefore(i):r.getColAfter(i);if(!s)return;const o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof Td&&s.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function kwe(e,t,n){const r=n-1;if(e!=="filter"){const i=t instanceof Td&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>r||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function Owe(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof Um){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let o=e.getDisplayedChildren()[0];if(o instanceof Um&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}i.column=o,o instanceof Td&&o.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var Lwe=class extends me{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Upe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Hn(this.beans),h6)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Hn(this.beans);return this.isDomDataPresentInHierarchy(e,zb)?!0:this.isDomDataPresentInHierarchy(e,Ub)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(nW(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Za(r),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:BW(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Wu(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){const l=this.focusedHeader,u=Wo(this.beans);if(n){const h=this.gos.getCallback("tabToNextHeader");h&&(a=this.getHeaderPositionFromUserFunc({userFunc:h,direction:t,currentPosition:l,headerPosition:a,headerRowCount:u}))}else{const h=this.gos.getCallback("navigateToNextHeader");if(h&&i){const f={key:i.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:u,event:i};a=h(f)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(Wu(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,o=Wo(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return a===!0?r:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:h}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});h?.scrollToColumn(o,n);const g=u.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return h&&g&&(i!=null||r)&&(h.currentHeaderRowWithoutSpan=i??-1),g}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=U6(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Wo(this.beans)-1,n=on(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Za(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&dd(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(aE(this.beans))return t&&!Wu(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Df(this.beans,t);const i=t?Dpe(this.beans):Tpe(this.beans);if(i){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=i,l=ul(this.beans,i);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const u=this.gos.get("enableRtl");let h;return!r||r.key===de.TAB?h=u?de.LEFT:de.RIGHT:h=r.key,this.beans.navigation?.navigateToNextCell(null,h,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Za(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Wo(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Nwe=class extends me{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:bhe();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Vwe=class extends me{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},Lw=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Bwe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],R1=Bwe.reduce((e,t)=>(e[t]=qhe(t),e),{}),gg=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),Hwe={tag:"span",cls:"ag-sort-indicator-container",children:[gg("Order","order"),gg("Asc","ascending-icon"),gg("Desc","descending-icon"),gg("Mixed","mixed-icon"),gg("None","none-icon")]},x1=class extends mn{constructor(e){super(),this.eSortOrder=Xe,this.eSortAsc=Xe,this.eSortDesc=Xe,this.eSortMixed=Xe,this.eSortNone=Xe,e||this.setTemplate(Hwe)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=Hs(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(r);if(e&&Ln(e,o==="asc",{skipAriaHidden:!0}),t&&Ln(t,o==="desc",{skipAriaHidden:!0}),n){const a=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),l=o==null;Ln(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;Ho(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Ln(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=i>=0&&s;Ln(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():ms(e)}},Gwe={selector:"AG-SORT-INDICATOR",component:x1},Wm=["asc","desc",null],zwe=class extends me{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=Ho(i);let a=[e];if(o&&e.getColDef().showRowGroup){const f=s?.getSourceColumnsForGroupColumn?.(e)?.filter(g=>g.isSortable());f&&(a=[e,...f])}a.forEach(h=>this.setColSort(h,t,r));const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),u=[];if(!l){const h=this.clearSortBarTheseColumns(a,r);u.push(...h)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(r,u)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=Ho(t),s=r?.getShowRowGroupCol(e.getId()),o=i&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(h=>this.setColSortIndex(h,null));const l=a.filter(h=>i&&h.getColDef().showRowGroup?!1:h!==o);(o.getSort()?[...l,o]:l).forEach((h,f)=>this.setColSortIndex(h,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Wm,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(u=>{u.getSort()&&i.push(u)}),t.isPivotMode()){const u=Ho(e);i=i.filter(h=>{const f=!!h.getAggFunc(),g=!h.isPrimary(),v=u?n?.getShowRowGroupCol(h.getId()):h.getColDef().showRowGroup;return f||g||v})}const s=r?.columns.filter(u=>!!u.getSort())??[],o={};i.forEach((u,h)=>o[u.getId()]=h),i.sort((u,h)=>{const f=u.getSortIndex(),g=h.getSortIndex();if(f!=null&&g!=null)return f-g;if(f==null&&g==null){const v=o[u.getId()],C=o[h.getId()];return v>C?1:-1}else return g==null?-1:1});const a=Ho(e)&&!!s.length;a&&(i=[...new Set(i.map(u=>n?.getShowRowGroupCol(u.getId())??u))]);const l=new Map;return i.forEach((u,h)=>l.set(u,h)),a&&s.forEach(u=>{const h=n.getShowRowGroupCol(u.getId());l.set(u,l.get(h))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Ho(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-r<50;o||l||this.progressSortFromEvent(t,s)}});const i=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(u=>t.getSort()==u.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new x1(e)}getSortIndicatorSelector(){return Gwe}},tf={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},Uwe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),jwe={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?tf[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:tf[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?tf[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},Wwe=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return ia(262);if(t.smallLeft)return ia(263);if(t.smallRight)return ia(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(i=>!Wm.includes(i));if(r.length>0)return`sortingOrder must be an array with elements from [${Wm.map(Ab).join()}], currently it includes [${r.map(Ab).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),$we={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},qwe=()=>Object.keys($we),Kwe=()=>({objectName:"colDef",allProperties:qwe(),docsUrl:"column-properties/",deprecations:Uwe(),validations:Wwe()}),Ywe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],Xwe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],Qwe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],j6=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],Zwe=["theme","rowSelection"],Jwe=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],W6=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],ebe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],tbe=()=>[...Qwe,...Xwe,...Ywe,...j6,...ebe,...W6,...Jwe,...Zwe],nbe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function ko(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var rbe={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},ibe=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return ko("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return ko("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return ko("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:i}){return n&&(r||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return ia(262);if(n.smallLeft)return ia(263);if(n.smallRight)return ia(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return ko("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return ko("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return ko("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return ko("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return ko("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!Wm.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${Wm.map(Ab).join()}], currently it includes [${i.map(Ab).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!i&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return ko("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return ko("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n?.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,i=["default","legacy"];return r&&!i.includes(r)?`renderingMode must be one of [${i.join()}], currently it's ${r}`:null}}},t={};return W6.forEach(n=>{t[n]={expectedType:"boolean"}}),j6.forEach(n=>{t[n]={expectedType:"number"}}),Di(t,e),t},sbe=()=>({objectName:"gridOptions",allProperties:[...tbe(),...Object.values(R1)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:nbe(),validations:ibe()}),obe=0,abe=0,lbe=class extends me{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=abe++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new sd,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=Lw.has(t);if(r&&!e||!r&&e||!cbe(t))return;const i=(s,o)=>{const a=R1[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??F5[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Fe(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:obe++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(n,a);const u=t||typeof l=="object"&&n==="api",h=s[a];if(u||h!==l){s[a]=l;const f={type:a,currentValue:l,previousValue:h,changeSet:r,source:n};i.push(f)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(a=>a.type),i.forEach(a=>{ad(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,rbe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,jwe),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||an(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:i1(),rowModelType:this.get("rowModelType"),isUmd:vpe()}}isModuleRegistered(e){return kD(e,this.gridId,this.get("rowModelType"))}};function cbe(e){return!!R1[e]}function $6(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var ube=$6(!0),dbe=$6(!1),hbe=class extends mn{constructor(){super(...arguments),this.eFilter=Xe,this.eFilterButton=Xe,this.eSortIndicator=Xe,this.eMenu=Xe,this.eLabel=Xe,this.eText=Xe,this.eSortOrder=Xe,this.eSortAsc=Xe,this.eSortDesc=Xe,this.eSortMixed=Xe,this.eSortNone=Xe,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};Di(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?ube:dbe}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Xfe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Yf(t))}addInIcon(e,t,n){const r=Hs(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){cl(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=ls(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,o=t.column,a=ls(n);if(e&&!a){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;r.attachCustomElements(i,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();Ln(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return cl(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},fbe={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},pbe=class extends mn{constructor(){super(fbe),this.agOpened=Xe,this.agClosed=Xe,this.agLabel=Xe,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&xe(89)}workOutInnerHeaderGroupComponent(e,t){const n=Zfe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(Ja(l))return;const u=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const s=l=>{cd(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();Ln(e,r),Ln(t,!r)}else Ln(e,!1),Ln(t,!1)}addInIcon(e,t){const n=Hs(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Ln(t,!1),Ln(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;Fe(t)&&!r&&(this.agLabel.textContent=Yf(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},gbe={moduleName:"ColumnHeaderComp",version:ke,userComponents:{agColumnHeader:hbe},icons:{menu:"menu",menuAlt:"menu-alt"}},mbe={moduleName:"ColumnGroupHeaderComp",version:ke,userComponents:{agColumnGroupHeader:pbe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},vbe=class extends me{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&xe(92)}createTask(e,t,n,r,i=!1){this.verify();let s=n;r&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,u=n.list,h=r.list,f=Date.now();let g=0;const v=e<=0,C=o.getScrollFeature();for(;v||g<e;){if(!C.scrollGridIfNeeded()){let R;if(l.length)this.sortTaskList(t),R=l.pop().task;else if(u.length)this.sortTaskList(n),R=u.pop().task;else if(h.length)a.wrapOutgoing(()=>{for(;(v||g<e)&&!C.scrollGridIfNeeded();){if(h.length)this.sortTaskList(r),R=h.pop().task,R();else break;g=Date.now()-f}}),R=()=>{};else if(i.length)R=i.pop();else break;R()}g=Date.now()-f}l.length||u.length||h.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ml(this.beans,e)}isQueueEmpty(){return!this.ticking}},ybe={moduleName:"AnimationFrame",version:ke,beans:[vbe]},Cbe=class extends me{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Hu())return;const t=(n,r,i)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(i?.target??null);o?.column&&o.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Hu()||fW("dblclick"))return!1;const r=Date.now(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:o}=e,a=new Eu(e.getGui(),!0),l=e.shouldSuppressMenuHide(),u=l&&Fe(s)&&i.enableMenu,h=u?new Eu(s,!0):a;if(i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){const f=u?"tap":"longTap",g=v=>i.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(h,{[f]:g})}if(i.enableSorting){const f=g=>{const v=g.touchStart.target;l&&(s?.contains(v)||o?.contains(v))||n?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:f})}if(i.enableFilterButton&&o){const f=new Eu(o,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>a.destroy()),u&&e.addDestroyFunc(()=>h.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new Eu(t.eGridHeader,!0),r=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new Eu(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!Hu())return;const r=new Eu(t),i=s=>{zm(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},wbe={moduleName:"Touch",version:ke,beans:[Cbe]},bbe=class extends me{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===de.UP,r=e===de.DOWN,i=e===de.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:u,pinnedRowModel:h}=this.beans,{rowPinned:f}=t;if(n||r)f&&h?n?o=0:o=f==="top"?h.getPinnedTopRowCount()-1:h.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const g=l.get("enableRtl");o=t.rowIndex,s=(i!==g?u.allCols:[...u.allCols].reverse()).find(C=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:C}))}return s?{rowIndex:o,rowPinned:f,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case de.UP:n=this.getCellAbove(n);break;case de.DOWN:n=this.getCellBelow(n);break;case de.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case de.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,xe(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=$V(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=Vb(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];const a=$V(this.beans,e);if(Tn(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=on(i);const l=Vb(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Tn(l)||!l.rowPinned&&!(r?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function Sbe(e){return e.focusSvc.getFocusedCell()}function Ebe(e){return e.focusSvc.clearFocusedCell()}function Rbe(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function xbe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function Tbe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function Dbe(e,t,n=!1){const r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var Abe=class extends me{constructor(){super(),this.beanName="navigation",this.onPageDown=NV(this.onPageDown,100),this.onPageUp=NV(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=age(this.gos,e);let a=!1;switch(n){case de.PAGE_HOME:case de.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case de.LEFT:case de.RIGHT:case de.UP:case de.DOWN:if(!o)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case de.PAGE_DOWN:case de.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===de.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;Fe(n)&&!n.isPinned()&&a.ensureColumnVisible(n),Fe(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:u}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),u?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){const t=this.beans,n=Mx(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,a=i.getPixelOffset(),l=n.top+r,u=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,n=Mx(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,o=r.getPixelOffset(),a=n.top,l=i.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),o=r.getFirstRow(),a=r.getLastRow(),l=r.getPixelOffset(),u=i.getRow(e.rowIndex),h=n?u?.rowHeight-s-l:s-l,f=u?.rowTop+h;let g=i.getRowIndexAtPixel(f+l);if(g===e.rowIndex){const C=n?-1:1;t=g=e.rowIndex+C}let v;n?(v="bottom",g<o&&(g=o),t<o&&(t=o)):(v="top",g>a&&(g=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(g))&&(t=g,v="top"),this.navigateTo({scrollIndex:t,scrollType:v,scrollColumn:null,focusIndex:g,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const u=s.getRow(l);if(u){const h=u.rowHeight??0;if(a+h>r)break;a+=h}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=Mx(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r,rowPinned:i}=n,s=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s,rowPinned:i})}onHomeOrEndKey(e){const t=e===de.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,o=t?r.getFirstRow():r.getLastRow(),a=i.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:u,rowPinned:h}=e.getRowPosition();(h?u===0:u===o.getFirstRow())&&(l.get("headerHeight")===0||Wu(i)?Df(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof Zh&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||Df(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let o=Vg(n,s);return!o&&(o=i.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){const{editSvc:i,focusSvc:s}=this.beans;let o;const a=e instanceof Zh?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?o=i?.moveToNextCell(a,t,n,r):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof jb){if(i={...e.getRowPosition(),column:t?r[0]:on(r)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(i.column=o.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Zh)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return Fe(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:u,rangeSvc:h}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const f=a.getCallback("tabToNextCell");if(Fe(f)){const S=f({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(S===!0)i=e;else{if(S===!1)return!1;i={rowIndex:S.rowIndex,column:S.column,rowPinned:S.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const C=Wo(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:C+i.rowIndex,column:i.column},fromCell:!0}),null}const g=a.get("editType")==="fullRow";if(n&&(!g||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const v=Vg(s,i);if(!v){const C=u.getRowByPosition(i);if(!C||!C.isFullWidth()||n)continue;return{...C.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(v.column,v.rowNode))return v.setFocusedCellPosition(i),h?.setRangeToCell(i),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)u.get("enableRtl")?t===de.LEFT&&(i=this.getLastCellOfColSpan(i)):t===de.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),s=Tn(i);if(s&&e&&e.key===de.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const f=u.getCallback("navigateToNextCell");if(Fe(f)){const v=f({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});Fe(v)?i={rowPinned:v.rowPinned,rowIndex:v.rowIndex,column:v.column}:i=null}}if(!i)return;if(i.rowIndex<0){const f=Wo(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const h=this.getNormalisedPosition(i);h?this.focusPosition(h):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=Vg(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,o=n.allCols,a=r.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=i.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?on(o):o[0])};this.focusPosition(u);const h=t??(l!=null&&Rpe(u,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:h}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!ul(this.beans,e)}getLastCellOfColSpan(e){const t=Vg(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:on(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=sW(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&Tn(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function Mx(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Pbe={moduleName:"KeyboardNavigation",version:ke,beans:[Abe,bbe,_we],apiFunctions:{getFocusedCell:Sbe,clearFocusedCell:Ebe,setFocusedCell:Rbe,setFocusedHeader:Dbe,tabToNextCell:xbe,tabToPreviousCell:Tbe}},Ibe=class extends me{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},Fbe=class extends me{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Mbe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",_be=class extends me{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Ln(n,t),ra(n,e))}},kbe=class extends me{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=Zr(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Nm(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let o=i;!o.length&&!s||(r&&(o=r({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!pc(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new _be(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(Zr(o,"print")){xe(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(u=>{if(!u)return;const h=r.getCol(u);h&&h.getPinned()!==a&&(this.setColPinned(h,a),l.push(h))}),l.length&&(s.refresh(n),TW(this.eventSvc,l,n)),i?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&n||!l&&r)?s+u:s;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=Nm(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,u=0;const h=0,f=[];let g=r-h-e;for(;(u<o.length||l<a.length)&&g>0;){if(l<a.length){const v=a[l++];if(v.colDef.lockPinned){i=!0;continue}g-=v.getActualWidth(),f.push(v)}if(u<o.length&&g>0){const v=o[u++];if(v.colDef.lockPinned){i=!0;continue}g-=v.getActualWidth(),f.push(v)}}return{columns:f,hasLockedPinned:i}}},Obe={moduleName:"PinnedColumn",version:ke,beans:[kbe],css:[Mbe]},Lbe=class extends me{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Xr(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Or(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),k5(n,"polite"),ahe(n,"additions text"),ohe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}​`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(ms(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},Nbe={moduleName:"Aria",version:ke,beans:[Lbe]};function Vbe(e){e.overlays?.showLoadingOverlay()}function Bbe(e){e.overlays?.showNoRowsOverlay()}function Hbe(e){e.overlays?.hideOverlay()}var Gbe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",zbe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},q6=class extends mn{constructor(){super(zbe),this.eOverlayWrapper=Xe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(Gbe)}handleKeyDown(e){if(e.key!==de.TAB||e.defaultPrevented||Ja(e))return;const t=this.beans;if(Ad(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:on(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=Df(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:s}=kw;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new u1(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=Hn(this.beans);i&&!iW(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:o})=>{s.refresh?.(nt(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&dd(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ms(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Hn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},Ube={selector:"AG-OVERLAY-WRAPPER",component:q6},jbe=class extends me{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=fr(this.gos),this.isServerSide=!this.isClientSide&&xd(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){xe(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return Ube}getOverlayWrapperCompClass(){return q6}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(spe(this.beans.userCompFactory,nt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(ope(this.beans.userCompFactory,nt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},Wbe={moduleName:"Overlay",version:ke,userComponents:{agLoadingOverlay:Rme,agNoRowsOverlay:Tme},apiFunctions:{showLoadingOverlay:Vbe,showNoRowsOverlay:Bbe,hideOverlay:Hbe},beans:[jbe]},$be=class extends me{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=whe(),ad(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;ad(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},qbe=400,Kbe=class extends me{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},r=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ac(this.gos)?n():r()}),Ac(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:i})=>{(!i&&r||i&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.getShowRowGroupCols();r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Zr(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new Ybe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Zr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));r?.forEachPinnedRow(t,(l,u)=>{const h=e[u];h&&r.getPinnedRowById(h.rowNode.id,t)===void 0&&(h.destroyFirstPass(),h.destroySecondPass()),l.id in o&&n?(e[u]=o[l.id],delete o[l.id]):e[u]=new jb(l,i,!1,!1,s)});const a=(t==="top"?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const i=r[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&qh(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(ia(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Wo(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(nt(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=Vb(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(r);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};r=Vb(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=YD(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return XD(i,t)})}getCellCtrls(e,t){let n;Fe(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);Fe(s)&&(n[s.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const s=this.stickyRowFeature;s&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const h=s.extraTopHeight+s.extraBottomHeight;h&&this.updateContainerHeights(h)}const u=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!l&&!u)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),i!=null)){const h=t?.getFocusCellToUseAfterRefresh();i!=null&&h==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const i=o=>{const a=o.rowNode.rowIndex;a==null||a===r||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))i(o);if(e)for(const o of Object.values(e))i(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i?.active&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=YD(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!XD(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),Fe(i)&&Fe(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),Fe(i))s=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(r=>r()),qbe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Uu(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const h=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),g=this.gos.get("suppressRowVirtualisation");let v=!1,C,S;do{const k=t.getPixelOffset(),{pageFirstPixel:O,pageLastPixel:P}=t.getCurrentPagePixelRange(),_=e.divStretchOffset,M=f.getVScrollPosition(),N=M.top,B=M.bottom;g?(C=O+_,S=P+_):(C=Math.max(N+k-h,O)+_,S=Math.min(B+k+h,P)+_),this.firstVisibleVPixel=Math.max(N+k,O)+_,this.lastVisibleVPixel=Math.min(B+k,P)+_,v=this.ensureAllRowsInRangeHaveHeightsCalculated(C,S)}while(v);let R=n.getRowIndexAtPixel(C),x=n.getRowIndexAtPixel(S);const D=t.getFirstRow(),T=t.getLastRow();R<D&&(R=D),x>T&&(x=T),r=R,i=x}const s=Zr(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&i-r>a&&(i=r+a);const l=r!==this.firstRenderedRow,u=i!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ml(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),s=this.editSvc?.isEditing(e),o=r.detail;return i||s||o?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;const i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new jb(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},Ybe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Ys(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Ys(this.entriesList,e)}getEntries(){return this.entriesList}};function YD(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}function XD(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var Xbe=class extends me{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Ho(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ho(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",u=this.getValue(r,a.column),h=this.getValue(i,a.column);let f;const g=this.getComparator(a,r);if(g?f=g(u,h,r,i,l):f=the(u,h,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(aW(s,r.isPivotActive())){const u=e.allLeafChildren?.[0];return u?n.getValue(t,u,!1):void 0}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function Qbe(e){e.sortSvc?.onSortChanged("api")}var K6={moduleName:"Sort",version:ke,beans:[zwe,Xbe],apiFunctions:{onSortChanged:Qbe},userComponents:{agSortIndicator:x1},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},Zbe=class extends me{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),ad(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Yh(e.source))}}};function Jbe(e){e.valueCache?.expire()}function eSe(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Tn(s))return null;const o=e.valueSvc.getValueForDisplay(s,r,i);return i?o.valueFormatted??Yf(o.value):o.value}var tSe="paste",nSe=class extends me{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;fr(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===tSe||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!r.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new jm(a,o);l.addParentNode(r.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{i.push(u),u.sibling&&i.push(u.sibling)})}n.refreshCells({rowNodes:i})}},rSe=class extends me{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);an(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return an(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},iSe=class extends me{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},sSe={moduleName:"ValueCache",version:ke,beans:[iSe],apiFunctions:{expireValueCache:Jbe}},oSe={moduleName:"Expression",version:ke,beans:[rSe]},aSe={moduleName:"ChangeDetection",version:ke,beans:[nSe]},lSe={moduleName:"CellApi",version:ke,apiFunctions:{getCellValue:eSe}},jC={checkSiblings:!0},cSe=class extends me{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=xd(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const S=s.getGroupValue(t,e);if(S==null)return{value:null,valueFormatted:null};if(!n)return{value:S.value,valueFormatted:null};const R=s.formatAndPrefixGroupColValue(S,e,r);return{value:S.value,valueFormatted:R}}if(!e)return{value:t.key,valueFormatted:null};const u=t.leafGroup&&this.colModel.isPivotMode(),h=t.group&&t.expanded&&!t.footer&&!u,f=this.gos.get("groupSuppressBlankHeader")||!t.sibling,g=h&&!f,v=this.getValue(e,t,g,i),C=n&&!(r&&e.colDef.useValueFormatterForExport===!1);return{value:v,valueFormatted:C?this.formatValue(e,t,v):null}}getValue(e,t,n=!1,r="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId();let a=t.data;if(this.hasEdit&&r==="ui"){const S=this.editSvc;if(S.isRowEditing(t,jC)&&(a=S.getRowDataValue(t,jC)),S.isEditing()){const R=S.getCellDataValue({rowNode:t,column:e},!0);if(R!==void 0)return R}}let l;const u=i.showRowGroup;if(typeof u=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(u)??-1)>t.level)return null;const h=typeof u!="string"||!t.group,f=t.groupData&&o in t.groupData,g=!n&&t.aggData&&t.aggData[o]!==void 0,v=this.isSsrm&&n&&!!i.aggFunc,C=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&g)l=t.aggData[o];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=Xg(a,s,e.isFieldContainsDots());else if(f)l=t.groupData[o];else if(g)l=t.aggData[o];else if(i.valueGetter&&!v){if(!h)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(C)l=Xg(a,t.field,e.isFieldContainsDots());else if(s&&a&&!v){if(!h)return l;l=Xg(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const S=l.substring(1);l=this.executeValueGetter(S,a,e,t)}return l}parseValue(e,t,n,r){const i=e.getColDef(),s=i.valueParser;if(Fe(s)){const o=nt(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return Fe(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(r?a=r:i&&(a=l.valueFormatter),a){let u=t?t.data:null;if(t){const f={rowNode:t};if(this.hasEdit){const g=this.editSvc;g.isEditing(f,jC)&&(u=g.getRowDataValue(t,jC))}}const h=nt(this.gos,{value:n,node:t,data:u,colDef:l,column:e});typeof a=="function"?o=a(h):o=s?s.evaluate(a,h):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,r){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;Tn(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(Tn(s)&&Tn(o))return xe(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return xe(135),!1;const a=nt(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(Fe(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const u=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,u,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,u,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===n,i||(o[a]=n)):o=o[a]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){const i=nt(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=this.expressionSvc?.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=nt(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&xe(121)),i}},uSe={moduleName:"CommunityCore",version:ke,beans:[Vwe,yve,ECe,Ife,$be,Oye,Mwe,lbe,Dfe,Fbe,Ibe,Kbe,cSe,Lwe,Fwe,Nwe,xCe,Zbe,yCe,CCe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Cve,destroy:wve,isDestroyed:bve,getGridOption:Sve,setGridOption:Eve,updateGridOptions:b6,isModuleRegistered:Rve},dependsOn:[gCe,fye,wye,K6,gbe,Nye,mbe,Wbe,aSe,ybe,Pbe,Obe,Nbe,wbe,SCe,mCe,oSe,Gye]};function QD(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e;let s=(n??[]).map((l,u)=>({value:l,relevance:dSe(t,l),idx:u}));if(s.sort((l,u)=>l.relevance-u.relevance),r&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const u=s[0].relevance*i;s=s.filter(h=>u-h.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function dSe(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[];const i=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=i;a++){r[0]=a;for(let l=1;l<=s;l++){const u=e[a-1],h=t[l-1];if(u.toLocaleLowerCase()===h.toLocaleLowerCase())++o,u===h&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<i/2-10&&++o,r[l]=n[l-1];else{const f=r[l-1],g=n[l],v=n[l-1];r[l]=1+Math.min(f,g,v)}}[n,r]=[r,n]}return n[s]/(o+1)}var Y6={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},_x=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],hSe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:_x,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[..._x,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[..._x,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},fSe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function pSe(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(r=>{const i=hSe[r];i?i.forEach(s=>{const o=fSe[s];(!o||o===t)&&n.push(s)}):n.push(r)}),n}var X6=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,gSe=e=>{const t=e.map(r=>`import { ${tm(r)} } from '${Y6[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>tm(r,!0)).join(", ")} ]); 

For more info see: ${$h}/modules/`};function tm(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function mSe(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>Y6[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function Q6({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var A2=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:o})=>{const a=pSe(t,i),l=typeof e=="string"?e:wSe[e];if(o)return mSe(l,a);const u=a.filter(g=>g==="IntegratedCharts"||g==="Sparklines"),h=u.length>0?`${u.map(g=>tm(g)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(g=>tm(g)).join(", "):tm(a[0])} is not registered${n?" for gridId: "+r:""}. ${h} Check if you have registered the module:
`}
${gSe(a)}`+(s?` 

${s}`:"")},P2=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,vSe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,ySe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${vSe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(r??[]).filter(a=>!!r[a])],o=QD({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${$h}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=QD({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:A2,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${$h}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>P2("IntegratedChartsModule"),258:()=>P2("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>A2({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:tf[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${$h}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>X6(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:Q6,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function CSe(e,t){const n=ySe[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${J5(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var wSe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},I2=new WeakMap,F2=new WeakMap,bSe=1,SSe=class{create(e,t,n,r,i,s){const o=I5.applyGlobalGridOptions(t),a=o.gridId??String(bSe++),l=this.getRegisteredModules(i,a,o.rowModelType),u=this.createBeansList(o.rowModelType,l,a),h=this.createProvidedBeans(e,o,i);if(!u)return;const g={providedBeanInstances:h,beanClasses:u,gridId:a,beanInitComparator:pve,beanDestroyComparator:gve,derivedBeans:[hve],destroyCallback:()=>{F2.delete(C),I2.delete(e),s?.()}},v=new bpe(g);this.registerModuleFeatures(v,l),n(v),v.getBean("syncSvc").start(),r?.(v);const C=v.getBean("gridApi");return I2.set(e,C),F2.set(C,e),C}getRegisteredModules(e,t,n){return Gm(uSe,void 0,!0),e?.modules?.forEach(r=>Gm(r,t)),fpe(t,M2(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const s=i.apiFunctions;s&&Object.keys(s).forEach(a=>{r?.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;Tn(r)&&(r=new C6);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=M2(e),s=r[i];if(!s){Lg(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!mpe()){Lg(272,void 0,X6());return}if(!e){const a=Object.entries(r).filter(([l,u])=>kD(u,n,l));if(a.length==1){const[l,u]=a[0];if(l!==i){const h={moduleName:u,rowModelType:l};Lg(275,h,Q6(h));return}}}if(!kD(s,n,i)){Lg(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:s,gridScoped:i1(),gridId:n,rowModelType:i},`Missing module ${s}Module for rowModelType ${i}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function M2(e){return e??"clientSide"}function ya(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function hE(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Z6(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var ESe=class extends me{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(r,i,s)=>t({key:r,defaultValue:i,variableValues:s});const n=e.get("localeText");return(r,i,s)=>{let o=n&&n[r];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??i}}};function RSe(e,t=!1){const n=[],r=[],i=[],s=[],o=[],a=[],l=[],u=[],h=[];let f=0;for(let g=0;g<e.length;g++){const{colId:v,sort:C,sortIndex:S,rowGroup:R,rowGroupIndex:x,aggFunc:D,pivot:T,pivotIndex:k,pinned:O,hide:P,width:_,flex:M}=e[g];h.push(v),C&&(n[S??f++]={colId:v,sort:C}),R&&(r[x??0]=v),typeof D=="string"&&i.push({colId:v,aggFunc:D}),T&&(s[k??0]=v),O&&(O==="right"?a:o).push(v),P&&l.push(v),(M!=null||_)&&u.push({colId:v,flex:M??void 0,width:_})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}function xSe(e){const t=[];return e.forEach(({groupId:n,open:r})=>{r&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var TSe=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);return t?.forEach(s=>{this.createMethod(i,s,!0)}),n?.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&xe(49,{methodName:t}),null)}}},DSe={tag:"div",cls:"ag-tooltip"},ASe=class extends v1{constructor(){super(DSe)}init(e){const{value:t}=e,n=this.getGui();n.textContent=Yf(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},PSe=1e3,ISe=1e3,_2=100,k2,WC=!1,FSe=class extends me{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Hu()&&(WC?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},_2):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||WC)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-k2<PSe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Fe(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),r=nt(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);ape(this.userCompFactory,r)?.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),k2=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Or(this.beans),{keydown:o=>{r.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Hn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?ISe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){WC=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},_2)}unlockService(){WC=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function kx(e){return e.get("tooltipShowMode")==="whenTruncated"}var MSe=class extends me{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new FSe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function _Se(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var kSe=class extends me{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},OSe=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=t===0&&lW(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(nt(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(nt(this.gos,{accumulatedRowIndex:n,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:r,parseValue:g=>this.valueSvc.parseValue(e,i,g,this.valueSvc.getValue(e,i,void 0)),formatValue:g=>this.valueSvc.formatValue(e,i,g)??g}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,u=e.colDef.showRowGroup===!0&&(i.group||o);if(!l&&(s||u)){let g="",v=i;for(;v&&v.level!==-1;){const{value:C,valueFormatted:S}=a.getValueForDisplay(s?void 0:e,v,!0,!0);g=` -> ${S??C??""}${g}`,v=v.parent}return{value:g,valueFormatted:g}}const{value:h,valueFormatted:f}=a.getValueForDisplay(e,i,!0,!0);return{value:h??"",valueFormatted:f}}getHeaderName(e,t){return e?e(nt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function LSe(e,t){const n=document.defaultView||window;if(!n){xe(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var NSe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Mi="clientSide",wi="serverSide",yh="infinite",VSe={onGroupExpandedOrCollapsed:[Mi],refreshClientSideRowModel:[Mi],isRowDataEmpty:[Mi],forEachLeafNode:[Mi],forEachNodeAfterFilter:[Mi],forEachNodeAfterFilterAndSort:[Mi],resetRowHeights:[Mi],applyTransaction:[Mi],applyTransactionAsync:[Mi],flushAsyncTransactions:[Mi],getBestCostNodeSelection:[Mi],getServerSideSelectionState:[wi],setServerSideSelectionState:[wi],applyServerSideTransaction:[wi],applyServerSideTransactionAsync:[wi],applyServerSideRowData:[wi],retryServerSideLoads:[wi],flushServerSideAsyncTransactions:[wi],refreshServerSide:[wi],getServerSideGroupLevelState:[wi],refreshInfiniteCache:[yh],purgeInfiniteCache:[yh],getInfiniteRowCount:[yh],isLastRowIndexKnown:[yh,wi],expandAll:[Mi,wi],collapseAll:[Mi,wi],onRowHeightChanged:[Mi,wi],setRowCount:[yh,wi],getCacheBlockState:[yh,wi]},BSe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function HSe(e,t,n){const r=BSe[e];if(r){const{version:s,new:o,old:a,message:l}=r,u=a??e;return(...h)=>{const f=o?`Please use ${o} instead. `:"";return Zg(`Since ${s} api.${u} is deprecated. ${f}${l??""}`),t.apply(t,h)}}const i=VSe[e];return i?(...s)=>{const o=n.rowModel.getType();if(!i.includes(o)){Wh(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var GSe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},zSe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},USe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},jSe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),WSe=class extends me{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,Dhe(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&NSe[t]&&xe(22,{key:t})}processGridOptions(e){this.processOptions(e,sbe())}validateApiFunction(e,t){return HSe(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=tf[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):xe(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=GSe[e];return t?ia(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){qSe.has(e)&&xe(10,{eventType:e})}validateIcon(e){if(jSe.has(e)&&xe(43,{iconName:e}),zSe[e])return;const t=USe[e];if(t){an(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:i1(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}xe(134,{iconName:e})}isProvidedUserComp(e){return!!tf[e]}validateColDef(e){this.processOptions(e,Kwe())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,o,a);const l=new Set;Object.keys(e).forEach(h=>{const f=r[h];if(f){const{message:D,version:T}=f;l.add(`As of v${T}, ${String(h)} is deprecated. ${D??""}`)}const g=e[h];if(g==null||g===!1)return;const v=n[h];if(!v)return;const{dependencies:C,validate:S,supportedRowModels:R,expectedType:x}=v;if(x){const D=typeof g;if(D!==x){l.add(`${String(h)} should be of type '${x}' but received '${D}' (${g}).`);return}}if(R){const D=this.gridOptions.rowModelType??"clientSide";if(!R.includes(D)){l.add(`${String(h)} is not supported with the '${D}' row model. It is only valid with: ${R.join(", ")}.`);return}}if(C){const D=this.checkForRequiredDependencies(h,C,e);if(D){l.add(D);return}}if(S){const D=S(e,this.gridOptions,this.beans);if(D){l.add(D);return}}}),l.size>0&&l.forEach(h=>{Zg(h)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],o=$Se(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const u=o[l];let h=`invalid ${r} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;n.includes("context")&&(h+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),Zg(h)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);Zg(`to see all the valid ${r} properties please check: ${l}`)}}getConsoleMessage(e,t){return CSe(e,t)}};function $Se(e,t,n){const r={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>r[s]=QD({inputValue:s,allSuggestions:n}).values),r}var qSe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),KSe={moduleName:"Validation",version:ke,beans:[WSe]};function J6(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var YSe=class extends me{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,J6(r)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],u):n(l,u)}n(s,o)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},XSe=class extends m1{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,r,i){this.comp=e;const s=qv(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return nt(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Hs("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Qf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Ef(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(Hn(t)===this.eGui)return;const i=Ad(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case de.UP:case de.DOWN:case de.LEFT:case de.RIGHT:if(t)return;cd(e);case de.ENTER:t&&dd(this.eGui)&&e.preventDefault();break;case de.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Gu(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===de.TAB);if(i&&s){const o=i.shiftKey;dd(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new g1(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!ls(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,i=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(r.get("enableFilterHandlers")){const h=s;let f="filter";h?.afterFloatingFilter?f="ui":h?.afterDataChange?f="dataChanged":s?.source==="api"&&(f="api"),this.updateFloatingFilterParams(this.userCompDetails,f);return}const l=t?.getCurrentFloatingFilterParentModel(n),u=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,u)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(o=>{!o||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(r=>{typeof r?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:Mr(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),r.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function QSe(e,t){const n=e.colModel.getCol(t);if(!n){an(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function ZSe(e){e.menuSvc?.hidePopupMenu()}var JSe={moduleName:"SharedMenu",version:ke,beans:[Sme],apiFunctions:{showColumnMenu:QSe,hidePopupMenu:ZSe}},$C=0,eEe=200,tEe=class extends me{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:r,node:i,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const u=()=>{const h=this.keepXYWithinBounds(n,o.top-a.top,0),f=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${f}px`,l=!0);const v=a.right-a.left-f;let C;return this.gos.get("enableRtl")?(C=R(),C<0&&(C=S(),this.setAlignedStyles(n,"left")),C>v&&(C=0,this.setAlignedStyles(n,"right"))):(C=S(),C>v&&(C=R(),this.setAlignedStyles(n,"right")),C<0&&(C=0,this.setAlignedStyles(n,"left"))),{x:C,y:h};function S(){return o.right-a.left-2}function R(){return o.left-a.left-f}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,r,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:u,type:h}=e,f=s.getBoundingClientRect(),g=this.getParentRect();this.setAlignedTo(s,t);const v=()=>{let C=f.left-g.left;o==="right"&&(C-=t.offsetWidth-f.width);let S;return a==="over"?(S=f.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,g,e.nudgeY||0)==="under"?S=f.top-g.top+f.height:S=f.top-t.offsetHeight-(r||0)*2-g.top),{x:C,y:S}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:v,postProcessCallback:()=>this.callPostProcessPopup(h,t,s,null,l,u)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+r;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}callPostProcessPopup(e,t,n,r,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:h,y:f}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(h+=r),i&&(f+=i),n&&(h=this.keepXYWithinBounds(t,h,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${h}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const u=gl(this.beans,t,()=>l(!0));setTimeout(()=>u(),eEe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Or(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),j5(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=Or(this.beans),u=l.documentElement,h=this.getPopupParent(),f=e.getBoundingClientRect(),g=h.getBoundingClientRect(),v=l.documentElement.getBoundingClientRect(),C=h===l.body,S=Math.ceil(f[o]);let x=C?(r?U5:Rb)(u)+u[a]:h[i];C&&(x-=Math.abs(v[s]-g[s]));const D=x-S;return Math.min(Math.max(t,0),Math.abs(D))}addPopup(e){const t=Or(this.beans),{eChild:n,ariaLabel:r,ariaOwns:i,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return xe(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const u=this.createPopupWrapper(n,!!s,r,i),h=this.addEventListenersToPopup({...e,wrapperEl:u});return o&&o(),this.addPopupToPopupList(n,u,h,a),{hideFunc:h}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();Fe(e.style.top)||(e.style.top=`${n.top*-1}px`),Fe(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const i=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=rr({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||od(e,"dialog"),n?Ef(e,n):r&&(e.id||(e.id=`popup-component-${$C}`),kV(r,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Or(t),r=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:u,ariaOwns:h}=e;let f=!1;const g=R=>{if(!i.contains(Hn(t)))return;R.key===de.ESCAPE&&!Ja(R)&&S({keyboardEvent:R})},v=R=>S({mouseEvent:R}),C=R=>S({touchEvent:R}),S=(R={})=>{const{mouseEvent:x,touchEvent:D,keyboardEvent:T,forceHide:k}=R;!k&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:D},s)||f)||(f=!0,r.removeChild(i),n.removeEventListener("keydown",g),n.removeEventListener("mousedown",v),n.removeEventListener("touchstart",C),n.removeEventListener("contextmenu",v),this.eventSvc.removeEventListener("dragStarted",v),o&&o(x||D||T),this.removePopupFromPopupList(s,h))};return a&&a({hidePopup:S}),window.setTimeout(()=>{l&&n.addEventListener("keydown",g),u&&(n.addEventListener("mousedown",v),this.eventSvc.addEventListener("dragStarted",v),n.addEventListener("touchstart",C),n.addEventListener("contextmenu",v))},0),S}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:$C,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),$C=$C+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&kV(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),o=f=>parseInt(f.substring(0,f.length-1),10),a=(f,g)=>{const v=n[f]-s[f],C=o(i.style[f]);return{initialDiff:v,lastDiff:v,initial:C,last:C,direction:g}},l=a("top",0),u=a("left",1),h=this.beans.frameworkOverrides;return new Ht(f=>{h.wrapIncoming(()=>{h.setInterval(()=>{const g=t.getBoundingClientRect(),v=r.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const S=(R,x)=>{const D=o(i.style[x]);R.last!==D&&(R.initial=D,R.last=D);const T=g[x]-v[x];if(T!=R.lastDiff){const k=this.keepXYWithinBounds(i,R.initial+R.initialDiff-T,R.direction);i.style[x]=`${k}px`,R.last=k}R.lastDiff=T};S(l,"top"),S(u,"left")},200).then(g=>{f(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(Zhe(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Or(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],o=[];for(const g of n)g!==i&&(g.classList.contains("ag-always-on-top")?o.push(g):s.push(g));const a=[],l=o.length,f=i.classList.contains("ag-always-on-top")||!l?[...s,...o,i]:[...s,i,...o];for(let g=0;g<=r;g++){const v=f[g];if(n[g]===f[g]||v===i)continue;v.querySelectorAll("div").forEach(S=>{S.scrollTop!==0&&a.push([S,S.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",v):f[g-1].insertAdjacentElement("afterend",v)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},fE={moduleName:"Popup",version:ke,beans:[tEe]},nEe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function rEe(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function iEe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function sEe(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function oEe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function aEe(e){return e.filterManager?.getFilterModel()??{}}function lEe(e,t,n){const{gos:r,colModel:i,colFilter:s}=e;n&&!r.get("enableFilterHandlers")&&(xe(288),n=!1);const o=i.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function cEe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function uEe(e,t){const n=e.colModel.getCol(t);if(!n){an(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function dEe(e){e.menuSvc?.hideFilterMenu()}function hEe(e,t){const n=e.colModel.getCol(t);if(!n){an(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function fEe(e,t){const{colModel:n,colFilter:r,gos:i}=e;if(!i.get("enableFilterHandlers")){xe(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&r?.updateModel(a,o)}else r?.updateAllModels(o)}var pEe={filterHandler:()=>({doesFilterPass:()=>!0})},gEe=class extends me{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...e6},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:r,filterManager:i}=this.beans;if(r?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const h=e[u];s.push(this.setModelOnFilterWrapper(l,h)),a.delete(u)}),a.forEach(l=>{const u=n.getColDefCol(l)||n.getCol(l);if(!u){xe(62,{colId:l});return}if(!u.isFilterAllowed()){xe(63,{colId:l});return}const h=this.getOrCreateFilterWrapper(u,!0);if(!h){xe(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(h,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});Ht.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((u,h)=>{const f=o?o[h]:null,g=a?a[h]:null;km(f,g)||l.push(u.column)}),l.length>0&&i?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);Fe(a)&&(t[o]=a)}),!e)for(const s of Object.keys(r)){const o=r[s];Fe(o)&&!n.has(s)&&i.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const i=t[r];this.state.set(r,{model:Mr(this.model,r),state:i})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,i)=>{const s=r.state;s!=null&&(n=!0,t[i]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return Mr(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(xe(66),null):r.getModel():Mr(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(xe(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!FD(n),i=u=>{if(!u.isPrimary())return!0;const f=!t.isPivotActive();return!u.isValueActive()||!f?!1:t.isPivotMode()?!0:r},s=[],o=[],a=(u,h,f)=>{h&&(i(u)?s.push(f):o.push(f))},l=[];return this.allColumnFilters.forEach(u=>{const h=u.column,f=h.getColId();if(u.isHandler)l.push(Ht.resolve().then(()=>{a(h,this.isHandlerActive(h),{colId:f,isHandler:!0,handler:u.handler,handlerParams:u.handlerParams})}));else{const g=$l(u);g&&l.push(g.then(v=>{a(h,e(v),{colId:f,isHandler:!1,comp:v})}))}}),Ht.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(r=>{const i=r.column;if(r.isHandler)n.push(Ht.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const s=$l(r);s&&n.push(s.then(o=>{this.setColFilterActive(i,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Ht.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,a=this.model;for(let l=0;l<s.length;l++){const u=s[l],{colId:h,isHandler:f}=u;if(h!==t)if(f){const{handler:g,handlerParams:v}=u;if(!g.doesFilterPass({node:e,data:o,model:Mr(a,h),handlerParams:v}))return!1}else{const g=u.comp;if(typeof g.doesFilterPass!="function"){an(91);continue}if(!g.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{const{column:s,isHandler:o}=i;r!==s.getColId()&&(o&&i.handler.onAnyFilterChanged?.(),$l(i,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const r=n.isHandler;r&&n.handler.onNewRowsLoaded?.();const i=$l(n,r);i&&t.push(i.then(s=>{s.onNewRowsLoaded?.()}))}),Ht.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(i,s)=>{const o=s?r.getCol(s):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():Mr(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=Fe(Mr(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?$l(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=$l(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return Whe(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Age(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,s){const o=()=>{const u=this.createFilterCompParams(e,i,s),h=r(u,i);return rpe(this.beans.userCompFactory,t,h,n)},a=o();return a?{compDetails:a,createFilterUi:u=>(u?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,r,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:u,createFilterUi:h}=l;return this.isGlobalButtons&&(u.params?.buttons?.length||xe(281,{colId:e.getColId()})),{compDetails:u,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:h}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return nt(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>n?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,r);if(s.filterChangedCallback=i,s.filterModifiedCallback=r?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=Mr(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(u,h)=>{this.updateStoredModel(a,u),this.refreshHandlerAndUi(e,u,"ui").then(()=>{i({...h,source:"columnFilter"})})},o.onStateChange=u=>{this.updateState(e,u),this.updateOrRefreshFilterUi(e)},o.onAction=(u,h,f)=>{this.updateModel(e,u,h),this.dispatchLocalEvent({type:"filterAction",column:e,action:u,event:f})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=u=>this.filterUiChanged(e,u),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:"init",model:Mr(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:r,registry:i}=this.beans;let s;const o=f=>{const g=f.filter;if(IW(g)){const v=g.handler;return v||(s=g.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof g=="string"?g:void 0},a=n.get("enableFilterHandlers")?o(e):void 0,l=f=>()=>this.createBean(i.createDynamicBean(f,!0));let u,h;if(typeof a=="string"){const f=n.get("filterHandlers")?.[a];f!=null?u=f:pge.has(a)&&(u=l(a),h=a)}else u=a;if(!u){let f;const{compName:g,jsComp:v,fwComp:C}=_W(r,e);g?f=g:v==null&&C==null&&e.filter===!0&&(f=t),h=this.handlerMap[f],h&&(u=l(h))}if(u)return{filterHandler:u,handlerNameOrCallback:s??h}}createHandler(e,t,n){let r=this.createHandlerFunc(t,n);if(!r){const u=this.gos;if(!u.get("enableFilterHandlers"))return;fr(u)&&xe(277,{colId:e.getColId()}),r=pEe}const i=mx(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=r,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,i);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),i=t(nt(this.gos,{column:e,colDef:r})),s=this.createHandlerParams(e,n);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return nt(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(r,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(r,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{i({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const i=r&&e.every(s=>r.isGroupFilter(s));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:i}=this.beans,s=g=>{const v=this.getOrCreateFilterUi(e);v?.then(C=>{g(Hm(C))})},o=e.getColDef(),a=i?.isSelectable(o)?i.getFilterDef(e,o):o,l=kge(r,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",u=this.gos.get("enableFilterHandlers"),h=mx(n,a,this.createFilterCompParams(e,u,"init",!0)),f=nt(this.gos,{column:e,filterParams:h,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(u){const g=f,v=e.getColId(),C=this.filterChangedCallbackFactory(e);g.onUiChange=S=>this.floatingFilterUiChanged(e,S),g.model=Mr(this.model,v),g.onModelChange=(S,R)=>{this.updateStoredModel(v,S),this.refreshHandlerAndUi(e,S,"floating",!0).then(()=>{C({...R,source:"columnFilter"})})},g.getHandler=()=>this.getHandler(e,!0),g.source="init"}return lpe(n,o,f,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){if(e.isHandler){const i=t.getColId();delete this.initialModel[i],this.state.delete(i);const s=e.filterUi,o=this.createFilterUiForHandler(n,r);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:i,filterUi:s}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(s){if(s.created)return s.promise.then(l=>(n=i?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return Ht.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,i=n.column,s=i.getColDef(),o=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=r.selectableFilter,u=l?.isSelectable(s)?l.getFilterDef(i,s):s,h=o?this.createHandlerFunc(u,this.getDefaultFilter(i)):void 0,f=!!h,g=n.isHandler;if(g!=f){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:v,createFilterUi:C}=(o?this.createFilterComp(i,u,a,R=>R,f,"colDef"):null)??{compDetails:null,createFilterUi:null},S=v?.params??mx(r.userCompFactory,u,this.createFilterCompParams(i,f,"colDef"));if(g){const R=h?.handlerNameOrCallback??h?.filterHandler,x=Mr(this.model,e);if(n.handlerGenerator!=R){const D=n.handler,{handler:T,handlerParams:k}=this.createHandlerFromFunc(i,h.filterHandler,S);n.handler=T,n.handlerParams=k,n.handlerGenerator=R,delete this.model[e],T.init?.({...k,source:"init",model:null}),this.destroyBean(D),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const D=this.createHandlerParams(i,v?.params);n.handlerParams=D,n.handler.refresh?.({...D,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,v)||!n.filterUi||!v){this.destroyFilterUi(n,i,v,C);return}n.filterUi.filterParams=S,$l(n,g)?.then(R=>{(R?.refresh?R.refresh(S):!0)===!1?this.destroyFilterUi(n,i,v,C):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:S})})}refreshHandlerAndUi(e,t,n,r){const i=this.cachedFilter(e);if(!i)return r&&this.getOrCreateFilterWrapper(e,!0),Ht.resolve();if(!i.isHandler)return Ht.resolve();const{filterUi:s,handler:o,handlerParams:a}=i;return gge(()=>{if(s){const{created:l,filterParams:u}=s;if(l)return s.promise.then(h=>h?{filter:h,filterParams:u}:void 0);s.refreshed=!0}return Ht.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(i=>{r(Hm(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:i}=this,s=e.getColId(),o=r.get(s);return o?o.model??null:Mr(i,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const r=new Promise(i=>{n=i});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(r=>n(r))})}getStateForColumn(e){return this.state.get(e)??{model:Mr(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):Ht.resolve()}setColDefPropsForDataType(e,t,n){const r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:u}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,u,t,n)??{}:{filterParams:s,filterValueGetter:o}=xge(i,l,u,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new Ht(r=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){r();return}this.refreshHandlerAndUi(s,t,"api").then(()=>r());return}const i=$l(e);if(i){i.then(s=>{if(typeof s?.setModel!="function"){xe(65),r();return}(s.setModel(t)||Ht.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){Fe(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n?.state};this.state.set(e,r)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const r=e.getColId(),i=()=>this.cachedFilter(e)?.filterUi;XV(t,i,()=>Mr(this.model,r),()=>this.state.get(r),s=>this.updateState(e,s),s=>i()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,i)=>{const s=this.beans.colModel.getColDefCol(i);s&&XV(e,()=>r.filterUi,()=>Mr(this.model,i),()=>this.state.get(i),o=>this.updateState(s,o),o=>{this.updateStoredModel(i,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&Ht.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();n6(()=>this.cachedFilter(e)?.filterUi,()=>Mr(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let r=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==Mr(t,i)&&(r=!0)}return r}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==Mr(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function mEe(e){return!!e.filterManager?.isAnyFilterPresent()}function vEe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var yEe=class extends me{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){FD(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Ht.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:r};n&&Di(i,n),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!FD(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){xe(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},CEe=class extends me{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,ls(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,s="left";const o=ls(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const a=o?void 0:4*i,l=o?void 0:4;this.showPopup(e,u=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,r)}showPopup(e,t,n,r,i,s){const o=e?this.createBean(new bge(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){an(57);return}const a=rr({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:S=>this.trapFocusWithin(S,a)}),a.appendChild(o?.getGui());let l;const u=()=>o?.afterGuiDetached(),h=$he(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=S=>{i2(e,!1,"contextMenu");const R=S instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),R&&r&&ha(r)&&qW(r)?.focus({preventScroll:!0}),u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},g=this.getLocaleTextFunc(),v=i&&n!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),C=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:h,ariaLabel:v});C&&(this.hidePopup=l=C.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),i2(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==de.TAB||e.defaultPrevented||Ad(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),dd(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},wEe=class extends me{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:i,valueSvc:s}=this.beans,o=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,r):s.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:o}=this.beans,a=nt(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},bEe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},SEe=class extends mn{constructor(){super(bEe,[uE]),this.eFloatingFilterText=Xe}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const i=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},T1=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(xe(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;xe(73)}else xe(74)}getCustomOption(e){return this.customFilterOptions[e]}};function nm(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function $b(e){return e==null||typeof e=="string"&&e.trim().length===0}function EEe(e){return e==="AND"||e==="OR"?e:"AND"}function REe(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function xEe(e,t){let n=e.length;return n>t&&(e.splice(t),xe(78),n=t),n}function $m(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var D1=class extends Mge{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new T1;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=EEe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&Dd(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Ht.resolve();if(e.operator){const r=e;let i=r.conditions;i==null&&(i=[],xe(77));const s=xEe(i,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=r.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,u)=>{this.eTypes[u].setValue(l.type,!0),this.setConditionIntoUi(l,u)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Ht.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(xe(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(xe(80),n=1),n>t&&(xe(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new b1);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,i=>this.resetInput(i)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=rr({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new Zme);e.push(r);const i="ag-filter-condition-operator";return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(Lm(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{Ln(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOrs.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,s,o)=>{this.setElementDisplayed(r,i<o),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){nm(e,t,n).forEach(i=>cl(i))}removeComponents(e,t,n){nm(e,t,n).forEach(i=>{cl(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof Mu&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),r=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof Mu))return;const s=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof Mu&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof mn&&Ln(e.getGui(),t)}setElementDisabled(e,t){e instanceof mn&&Lm(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Mu&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=$m(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&n(o,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return $m(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},e$=class{constructor(e,t,n,r,i,s){this.alive=!0,this.context=e,this.eParent=i;const o=ipe(t,n,r);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:u}=this;l&&a.setDate(l),u!=null&&a.setDisabled?.(u),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Ln(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},A1=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function t$(e,t){const{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&Ui(n)||null,r&&Ui(r)||null].slice(0,$m(i,t))}var O2=1e3,L2=1/0,TEe=class extends D1{constructor(){super("dateFilter",t$,A1),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=O2,this.maxValidYear=L2,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,u)=>{const h=e[l];if(h!=null)if(isNaN(h))xe(82,{param:l});else return h==null?u:Number(h);return u},n=t("minValidYear",O2),r=t("maxValidYear",L2);this.minValidYear=n,this.maxValidYear=r,n>r&&xe(83);const{minValidDate:i,maxValidDate:s}=e,o=i instanceof Date?i:Ui(i);this.minValidDate=o;const a=s instanceof Date?s:Ui(s);this.maxValidDate=a,o&&a&&o>a&&xe(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:r},params:i}=this,s=new e$(n,t,i.colDef,nt(r,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=rr({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const i=rr({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),nm(this.eConditionPanelsFrom,e,t),nm(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){nm(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,s)=>{i!==e||!t||r>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=fs(r[0])),r.length>1&&(n.dateTo=fs(r[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},n$=class extends me{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new T1;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);const i=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return r[i](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let s=_ge(t)?t.conditions:[t];const o=n?.map(h=>typeof h=="string"?h:h.displayKey)??this.defaultOptions;if(!(!s||s.every(h=>o.find(f=>f===h.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const u=this.filterType;if((s&&!s.every(h=>h.filterType===u)||t.filterType!==u)&&(s=s.map(h=>({...h,filterType:u})),l=!0),typeof r=="number"&&s&&s.length>r&&(s=s.slice(0,r),l=!0),l){const h=s.length>1?{...t,filterType:u,conditions:s}:{...s[0],filterType:u};this.params={...e,model:h},e.onModelChange(h);return}}individualConditionPasses(e,t,n){const r=this.optionsFactory,i=this.mapValuesFromModel(t,r),s=r.getCustomOption(t.type),o=REe(s,i,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},r$=class extends n${evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return $b(t);case"notBlank":return!$b(t);default:return xe(76,{filterModelType:r}),!0}}},i$={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},DEe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},P1=class extends me{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?oc(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(u=>this.getModelAsString(u,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${oc(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?oc(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:u}=o||{};return a&&l&&u===0?n(a,l):this.conditionToString(s,r,s.type==="inRange"||u===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,s){let o;const a=this.getTypeKey(e);return a&&(o=oc(this,a)),i&&s&&(o=this.getLocaleTextFunc()(i,s)),o!=null?t?`${o} ${oc(this,"filterSummaryInRangeValues",[n(),r()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},s$=class extends P1{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:i}=this.beans,s=t.column,a=r?.getDateFormatterFunction(s)?.(n??void 0);return i.formatValue(s,null,a)}),this.filterTypeKeys=i$}conditionToString(e,t,n,r,i){const{type:s}=e,o=Ui(e.dateFrom),a=Ui(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,u=t?this.formatValue.bind(this):g=>BD(g,l),h=()=>o!==null?u(o):"null",f=()=>a!==null?u(a):"null";if(t){const g=this.conditionForToolPanel(s,n,h,f,r,i);if(g!=null)return g}return n?`${h()}-${f()}`:o!=null?u(o):`${s}`}};function AEe(e,t){const n=t;return n<e?-1:n>e?1:0}var PEe=class extends r${constructor(){super(t$,A1),this.filterType="date",this.FilterModelFormatterClass=s$}comparator(){return this.params.filterParams.comparator??AEe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},o$=class extends mn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new T1;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:i}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},IEe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},FEe=class extends o${constructor(){super(IEe,[uE]),this.eReadOnlyText=Xe,this.eDateWrapper=Xe,this.FilterModelFormatterClass=s$,this.filterType="date",this.defaultOptions=A1}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Ui(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ln(this.eDateWrapper,e),Ln(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=fs(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=l1(e,this.defaultDebounceMs);return nt(this.gos,{onDateChanged:Xr(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new e$(e,t,r.column.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},MEe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},_Ee=class extends mn{constructor(){super(MEe,[uE]),this.eDateInput=Xe,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Ed();const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:u}=e.filterParams||{},h=this.beans.dataTypeSvc,f=l??h?.getDateIncludesTimeFlag?.(u.cellDataType)??!1;if(n?f?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&r&&xe(85),o&&i&&xe(86),s&&o){const[g,v]=[s,o].map(C=>C instanceof Date?C:Ui(C));g&&v&&g.getTime()>v.getTime()&&xe(87)}s?s instanceof Date?t.min=BD(s):t.min=s:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=BD(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ui(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(fs(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},I1=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function ZD(e){const{allowedCharPattern:t}=e??{};return t??null}function JD(e){return e==null||isNaN(e)?null:e}function a$(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[JD(n),JD(r)].slice(0,$m(i,t))}var kEe=class extends D1{constructor(){super("numberFilter",a$,I1),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createEValue(){const e=ZD(this.params),t=rr({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new Pd({allowedCharPattern:r}):new w1);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(JD(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Za(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},l$=class extends P1{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=i$}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const u=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),r,i);if(u!=null)return u}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},OEe=class extends r${constructor(){super(a$,I1),this.filterType="number",this.FilterModelFormatterClass=l$}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},c$=class extends me{constructor(e){super(),this.params=e,this.eInput=Xe,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Pd(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function u$(e){const t=e?.trim();return t===""?e:t}function d$(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,$m(i,t))}var LEe={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},h$=class extends o${constructor(){super(...arguments),this.eFloatingFilterInputContainer=Xe,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(LEe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=lE(e.filterParams),!i){const s=l1(e.filterParams,r),o=Xr(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();ms(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===de.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:i,lastType:s}=this;let o=r.getValue();if(i.filterParams.trimInput&&(o=u$(o),r.setValue(o,!0)),n){const a=i,l=a.model,u=this.convertValue(o),h=u==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:u};a.onModelChange(h,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},NEe=class extends me{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new w1),this.eTextInput=this.createManagedBean(new Pd),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},VEe=class extends h${constructor(){super(...arguments),this.FilterModelFormatterClass=l$,this.filterType="number",this.defaultOptions=I1}updateParams(e){ZD(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=ZD(e.filterParams),this.allowedCharPattern?this.createManagedBean(new c$({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new NEe)}convertValue(e){return e?Number(e):null}},F1=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],BEe=class extends D1{constructor(){super("textFilter",d$,F1),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,s,o)=>{if(i<o){let a=Za(r.getValue());t&&this.params.trimInput&&(a=u$(a)??null,r.setValue(a,!0)),n.push(a)}}),n}createEValue(){const e=rr({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new Pd);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},f$=class extends P1{constructor(){super(...arguments),this.filterTypeKeys=DEe}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e;if(t){const l=h=>()=>oc(this,"filterSummaryTextQuote",[h]),u=this.conditionForToolPanel(a,n,l(s),l(o),r,i);if(u!=null)return u}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},HEe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},GEe=e=>e,zEe=e=>e==null?null:e.toString().toLowerCase(),UEe=class extends n${constructor(){super(d$,F1),this.filterType="text",this.FilterModelFormatterClass=f$}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??HEe,this.formatter=t.textFormatter??(t.caseSensitive?GEe:zEe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(g=>this.formatter(g))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:u,filterParams:{textFormatter:h}}=this.params;if(n.type==="blank")return $b(t);if(n.type==="notBlank")return!$b(t);const f={api:o,colDef:a,column:l,context:u,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:h};return i.some(g=>this.matcher({...f,filterText:g}))}},jEe=class extends h${constructor(){super(...arguments),this.FilterModelFormatterClass=f$,this.filterType="text",this.defaultOptions=F1}createFloatingFilterInputService(){return this.createManagedBean(new c$)}};function WEe(e){return!!e.quickFilter?.isFilterPresent()}function $Ee(e){return e.quickFilter?.getText()}function qEe(e){e.quickFilter?.resetCache()}var KEe=class extends me{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?r?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Fe(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){xe(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return Fe(r)&&r.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=nt(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return Fe(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const r=this.getTextForColumn(n,e);Fe(r)&&t.push(r)}),t.join(`
`)}},YEe={moduleName:"ClientSideRowModelFilter",version:ke,rowModels:["clientSide"],beans:[YSe]},M1={moduleName:"FilterCore",version:ke,beans:[yEe],apiFunctions:{isAnyFilterPresent:mEe,onFilterChanged:vEe},css:[nEe],dependsOn:[YEe]},p$={moduleName:"FilterValue",version:ke,beans:[wEe]},pE={moduleName:"ColumnFilter",version:ke,beans:[gEe,CEe],dynamicBeans:{headerFilterCellCtrl:XSe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:rEe,getColumnFilterInstance:iEe,destroyFilter:sEe,setFilterModel:oEe,getFilterModel:aEe,getColumnFilterModel:lEe,setColumnFilterModel:cEe,showColumnFilter:uEe,hideColumnFilter:dEe,getColumnFilterHandler:hEe,doFilterAction:fEe},dependsOn:[M1,fE,p$,JSe]},XEe={moduleName:"CustomFilter",version:ke,userComponents:{agReadOnlyFloatingFilter:SEe},dependsOn:[pE]},QEe={moduleName:"TextFilter",version:ke,dependsOn:[pE],userComponents:{agTextColumnFilter:{classImp:BEe,params:{useForm:!0}},agTextColumnFloatingFilter:jEe},dynamicBeans:{agTextColumnFilterHandler:UEe}},ZEe={moduleName:"NumberFilter",version:ke,dependsOn:[pE],userComponents:{agNumberColumnFilter:{classImp:kEe,params:{useForm:!0}},agNumberColumnFloatingFilter:VEe},dynamicBeans:{agNumberColumnFilterHandler:OEe}},JEe={moduleName:"DateFilter",version:ke,dependsOn:[pE],userComponents:{agDateColumnFilter:{classImp:TEe,params:{useForm:!0}},agDateInput:_Ee,agDateColumnFloatingFilter:FEe},dynamicBeans:{agDateColumnFilterHandler:PEe}},e0e={moduleName:"QuickFilterCore",version:ke,rowModels:["clientSide"],beans:[KEe],dependsOn:[M1,p$]},t0e={moduleName:"QuickFilter",version:ke,apiFunctions:{isQuickFilterPresent:WEe,getQuickFilter:$Ee,resetQuickFilter:qEe},dependsOn:[e0e]},n0e={moduleName:"ExternalFilter",version:ke,dependsOn:[M1]},r0e=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Ox=(e,t,n)=>{const{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},i0e=class extends me{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=kx(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!r&&i&&!a.headerComponent&&(r=Tw(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:r};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=kx(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!r&&i&&!a?.headerGroupComponent&&(r=Tw(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:r};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:i,editSvc:s}=r,{column:o,rowNode:a}=e;let l="cell";const u=()=>{const v=!!!s?.isEditing(e)&&Ox(r,e,this.getLocaleTextFunc());if(v)return l="cellEditor",v;l="cell";const C=o.getColDef(),S=a.data;if(C.tooltipField&&Fe(S))return Xg(S,C.tooltipField,o.isTooltipFieldContainsDots());const R=C.tooltipValueGetter;return R?R(nt(i,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},h=kx(i);n||(h&&!e.isCellRenderer()?n=()=>{const g=!!s?.isEditing(e);if(!g&&Ox(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const S=Tw(()=>{const R=e.eGui;return R.children.length===0?R:R.querySelector(".ag-cell-value")});return!g&&S()}:n=()=>!s?.isEditing(e));const f={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:u,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(f,r)}setupFullWidthRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(i,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>Ox(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),u=a?.getCellValidationModel()?.getCellValidationMap(),h=!!l&&l.size>0,f=!!u&&u.size>0;return h||f}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Fe(t.tooltipField)||Fe(t.tooltipValueGetter)||Fe(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},g$={moduleName:"Tooltip",version:ke,beans:[i0e],dynamicBeans:{tooltipFeature:MSe},userComponents:{agTooltipComponent:ASe},dependsOn:[fE],css:[r0e]},Ph=class{constructor(e){this.cellValueChanges=e}},Lx=class extends Ph{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},s0e=10,N2=class{constructor(e){this.actionStack=[],this.maxStackSize=e||s0e,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},o0e=class extends me{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&BW(this.activeCellEdit,t),r=this.activeRowEdit!==null&&xpe(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:u}=e,h={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new N2(n),this.redoStack=new N2(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],i),s instanceof Lx?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:s,columnId:o}=r,a={rowIndex:i,rowPinned:s},l=ul(this.beans,a);l.displayed&&l.setDataValue(o,t(r),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=ul(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,a=i.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:r};s.setFocusedCell({...u,forceBrowserFocus:!0}),o?.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Ph(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Ph(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Ph(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Lx(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Ac(n)?e=new Lx(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Ph(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new Ph(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},a0e=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",l0e={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},c0e=class extends cE{constructor(){super(l0e,[C1]),this.eEditor=Xe}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=sE(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},gE=class extends cE{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Xe}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;r?(this.focusAfterAttached=!0,i===de.BACKSPACE||i===de.DELETE?o="":i&&i.length===1?s?a=!1:o=i:(o=t.getStartValue(),i!==de.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:u}=l;(u===de.PAGE_UP||u===de.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ed()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},u0e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},d0e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return u0e}getAgComponents(){return[v6]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:i,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const l=r instanceof Date?r:new Date(r);if(t<l){const u=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${u}`,[u]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const u=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${u}`,[u]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!Fe(n)&&!Fe(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return fs(e,this.includeTime??!1)}},h0e=class extends gE{constructor(){super(new d0e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},f0e={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},p0e=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return f0e}getAgComponents(){return[v6]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:s,getValidationErrors:o}=t;let a=[];if(r){const l=new Date(r),u=this.getLocaleTextFunc();if(i){const h=new Date(i);if(l<h){const f=h.toLocaleDateString();a.push(u("minDateValidation",`Date must be after ${f}`,[f]))}}if(s){const h=new Date(s);if(l>h){const f=h.toLocaleDateString();a.push(u("maxDateValidation",`Date must be before ${f}`,[f]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!Fe(n)&&!Fe(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return fs(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ui(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):fs(e??null,this.includeTime??!1)??void 0}},g0e=class extends gE{constructor(){super(new p0e(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},m0e={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},v0e=class extends cE{constructor(){super(m0e,[eve]),this.eEditor=Xe}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,value:i,maxLength:s,cols:o,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(a||10);let l;n?(this.focusAfterAttached=!0,r===de.BACKSPACE||r===de.DELETE?l="":r&&r.length===1?l=r:(l=i.toString(),r!==de.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=i.toString()),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===de.LEFT||t===de.UP||t===de.RIGHT||t===de.DOWN||e.shiftKey&&t===de.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!Fe(r)&&!Fe(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},y0e={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},C0e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return y0e}getAgComponents(){return[tve]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),r?r({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===de.UP||e.key===de.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!Fe(n)&&!Fe(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){Ed()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},w0e=class extends gE{constructor(){super(new C0e(()=>this.getLocaleTextFunc()))}},b0e={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},S0e=class extends cE{constructor(){super(b0e,[lve]),this.eEditor=Xe,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:o}=e;if(Tn(i)){xe(58);return}this.startedByEnter=o!=null?o===de.ENTER:!1;let a=!1;i.forEach(f=>{const g={value:f},v=n.formatValue(e.column,null,f),C=v!=null;g.text=C?v:f,t.addOption(g),a=a||s===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:h}=e;l!=null&&t.setPickerGap(l),h!=null&&t.setPickerMaxHeight(h),u!=null&&t.setPickerMaxWidth(u),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let i=[];if(t&&!t.includes(r)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},E0e={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},R0e=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return E0e}getAgComponents(){return[uE]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof r=="string"&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!Fe(n)&&!Fe(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=Fe(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},V2=class extends gE{constructor(){super(new R0e(()=>this.getLocaleTextFunc()))}};function x0e(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function T0e(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function m$(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function v$(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function D0e(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function A0e(e){e.undoRedo?.undo("api")}function P0e(e){e.undoRedo?.redo("api")}function I0e(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((r,i)=>{const{rowIndex:s,rowPinned:o}=i;r.forEach((a,l)=>{const{editorValue:u,pendingValue:h,sourceValue:f,state:g}=a,v=gc(a);let C=u??h;C===Xs&&(C=void 0);const S={newValue:C,oldValue:f,state:g,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(g==="editing"||g==="changed"&&v)&&n.push(S)})}),n}function F0e(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(r=>{r.state==="editing"&&n.revertSingleCellEdit(r)}):Fu(e,!0),Xh(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function M0e(e,t){const n=Rn(e,t);return e.editSvc?.isEditing(n)??!1}function _0e(e,t){const{key:n,colKey:r,rowIndex:i,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(r);if(!l){xe(12,{colKey:r});return}const h=ul(e,{rowIndex:i,rowPinned:s||null});if(!h){xe(290,{rowIndex:i,rowPinned:s});return}if(!l.isCellEditable(h))return;s==null&&v$(e,i),m$(e,r),o?.startEditing({rowNode:h,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function k0e(e){return e.editSvc?.validateEdit()||null}function O0e(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function L0e(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var N0e={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},V0e=class extends v1{constructor(e){super(N0e),this.params=e}postConstruct(){ld(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{zD(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},qb=(e,t=!1)=>{if(e!==void 0)return gc(e)||t&&e.state==="editing"};function y$(e,t,n=!1){return qb(e.editModelSvc?.getEdit(t),n)}function C$(e,t){const{editModelSvc:n}=e,{column:r,rowNode:i}=t;if(e.gos.get("groupTotalRow")&&!i?.footer)return!1;for(const s of i?.allLeafChildren??[])if(qb(n?.getEdit({rowNode:s,column:r}))||qb(n?.getEdit({rowNode:s.pinnedSibling,column:r})))return!0}function w$(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return qb(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var B0e=class extends me{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=y$(n,e)||C$(n,e)||w$(n,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},H0e=class extends me{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,i=t?.getEditRow(r);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){const o=Array.from(i.keys()).some(a=>{const l={rowNode:r,column:a};return y$(n,l,!0)||C$(n,l)||w$(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",r&&t),i.toggleCss("ag-row-batch-edit",r&&t&&n),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},G0e=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const i=new Set;return e.forEachNode(s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("top",s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("bottom",s=>r.has(s)&&i.add(s)),r.forEach(s=>{i.has(s)||n.removeEdits({rowNode:s})}),i},z0e=({editModelSvc:e},t,n)=>{t.forEach(r=>e?.getEditRow(r)?.forEach((i,s)=>!n.has(s)&&e.removeEdits({rowNode:r,column:s})))},U0e=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());z0e(e,G0e(e,r),t)},j0e=new Set(["undo","redo"]),b$={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},W0e=new Set(Object.keys(b$)),$0e=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),qC={cancel:!0,source:"api"},q0e={cancel:!1,source:"api"},Ch={checkSiblings:!0},mg={force:!0,suppressFlash:!0},K0e=class extends me{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,qC),this.createStrategy(r)});const t=U0e(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||i?this.stopEditing(void 0,qC):this.isEditing()&&(this.isBatchEditing()?Xh(e,this.model.getEditPositions()):this.stopEditing(void 0,q0e)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,qC)):(this.stopEditing(void 0,qC),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,i=e??n.get("editType")??"singleCell";if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,r)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return Lpe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Ch)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:i="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=Rn(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const a=this.shouldStartEditing?.(e,r,n,i);if(a===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&this.stopEditing(void 0,{source:i}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,r,i,s)}stopEditing(e,t){const{event:n,cancel:r,source:i="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(W0e.has(i))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:b$[i]});if(!(this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,Ch))||!this.strategy)return!1;const u=Rn(o,e);u&&(u.onEditorAttachedFuncs=[]);let h=a.getEditMap(!0),f=!1;const g=!r&&!!this.shouldStopEditing(e,n,i),v=r&&!!this.shouldCancelEditing(e,n,i);if(g||v){Fu(o,!0);const C=a.getEditMap();this.processEdits(C,r),this.strategy?.stop(r,n),this.bulkRefresh(void 0,h),h=C,f||(f=g)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const C=n.key,S=C===de.ENTER,R=C===de.ESCAPE,x=C===de.TAB;(S||x||R)&&(S||x?Fu(o,!0):R&&this.revertSingleCellEdit(u),this.isBatchEditing()?this.strategy?.cleanupEditors():Xh(o,a.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,h,{suppressFlash:!0}),h=a.getEditMap())}else Fu(o,!0),h=a.getEditMap();return f&&e&&this.model.removeEdits(e),!s&&u&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,u.cellPosition),LD(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),v&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(h.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),f&&g&&this.dispatchBatchEvent("batchEditingStopped",h)),f}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?de.UP:de.DOWN;this.beans.navigation?.navigateToNextCell(null,r,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:r}=this,i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const a=e.get(o);for(const l of a.keys()){const u=a.get(l),h={rowNode:o,column:l},f=Rn(r,h),g=gc(u),v=f?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!v&&g&&!i&&(this.setNodeDataValue(o,l,u.pendingValue)||s.push(h)),f?.refreshCell(mg)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,r){const{beans:i}=this,s=Rn(i,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),r&&s?.refreshCell(mg),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(mg)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:i}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:r,gos:i}=this,{editModelSvc:s,rowModel:o}=r;fr(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const u of a.keys())this.refCell({rowNode:l,column:u},a.get(u),n)}))}refCell({rowNode:e,column:t},n,r={}){const{beans:i,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const u=e.sibling;u&&a.add(u);let h=e.parent;for(;h;)h.sibling?.footer&&s.get("groupTotalRow")||!h.parent&&h.sibling&&s.get("grandTotalRow")?a.add(h.sibling):a.add(h),h=h.parent;o.forEach(f=>this.dispatchEditValuesChanged({rowNode:f,column:t},n)),o.forEach(f=>Rn(i,{rowNode:f,column:t})?.refreshCell(r)),a.forEach(f=>Rn(i,{rowNode:f,column:t})?.refreshCell(r))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const r=Rn(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(r&&this.revertSingleCellEdit(r),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=Rn(this.beans,e);n?.comp?.getCellEditor()&&(Xh(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Tf(this.beans,e,{silent:!0}),ud(this.beans),n?.refreshCell(mg),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){ud(this.beans);const t=Rn(this.beans,e);t&&(t.refreshCell(mg),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){let i;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof Zh&&s&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const o=this.model.getEdit({rowNode:i,column:t});o&&(r=o)}const s=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return s===Xs||!r?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){Ipe(this,this.beans,e)}createPopupEditorWrapper(e){return new V0e(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!$0e.has(n))return;const{beans:r}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":"api";if(!n||j0e.has(n))return Mw(r,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return Mw(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return Mw(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){_pe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Ch))return;const{rowNode:r,column:i}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(r,Ch),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,Ch);if(o!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,r)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return nt(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:r,rangeSvc:i,valueSvc:s}=this;Fu(r,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(u=>{if(i?.forEachRowInRange(u,h=>{const f=ul(r,h);if(f===void 0)return;const g=o.get(f)??new Map;for(const v of u.columns)if(v&&this.isCellEditable({rowNode:f,column:v},"api")){const C=s.getValue(v,f,!0,"api");let S=s.parseValue(v,f??null,a,C);Number.isNaN(S)&&(S=null),g.set(v,{editorValue:void 0,pendingValue:S,sourceValue:C,state:"changed"})}g.size>0&&o.set(f,g)}),this.setEditMap(o),this.batch){this.cleanupEditors(),LD(r),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=Rn(r,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new B0e(e,t)}createRowStyleFeature(e,t){return new H0e(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:i}=n,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:u,rowPinned:h,newValue:f,state:g})=>{const v=o?r.getCol(o):l?r.getCol(l):a;if(!v)return;const C=ul(n,{rowIndex:u,rowPinned:h});if(!C)return;const S=i.getValue(v,C,!0,"api");if(!gc({pendingValue:f,sourceValue:S})&&g!=="editing")return;let R=s.get(C);R||(R=new Map,s.set(C,R)),f===void 0&&(f=Xs),R.set(v,{editorValue:void 0,pendingValue:f,sourceValue:S,state:g??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=Rn(this.beans,e);if(!t||!this.isEditing(t,Ch))return;const n=this.model.getEdit(t);if(!n||!gc(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return Rn(this.beans,e)}},S$=class extends me{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=Rn(i,n));const{gos:o,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:u,rowIndex:h,rowPinned:f}=e,g={column:u,rowNode:ul(i,{rowIndex:h,rowPinned:f})},v=o.get("invalidEditValueMode")==="block";if(v)return;const C=!v,S=!!a?.getCellValidationModel().hasCellValidation(g),R=C&&S;(n||l?r.stopEditing(void 0,{cancel:R,source:l&&C?"api":void 0,event:s}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(r.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){r.fail.push(s);return}r.pass.push(s)}),e)return n.forEach(s=>{Bb(this.beans,s),this.model.stop(s)}),!0;const i=this.processValidationResults(r);return i.destroy.length>0&&i.destroy.forEach(s=>{Bb(this.beans,s,{event:t}),this.model.stop(s)}),i.keep.length>0&&i.keep.forEach(s=>{const o=Rn(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Fu(this.beans,!1);const n=this.model.getEditPositions(),r=[];e?n.forEach(i=>{!e||i.rowNode===e||r.push(i)}):n.forEach(i=>{r.push(i)}),Xh(this.beans,r),LD(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,r,i=!1){const s=r instanceof KeyboardEvent&&!i&&r.key||void 0;Mpe(this.beans,e,t,s,r,n)}dispatchCellEvent(e,t,n,r){const i=Rn(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t){const n=s1(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,r="ui"){if(t instanceof KeyboardEvent&&(t.key===de.TAB||t.key===de.ENTER||t.key===de.F2||t.key===de.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:r==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===de.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===de.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((r,i)=>{r.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:i,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const r=n.at(-1),i=r.pendingValue===Xs?void 0:r.pendingValue;this.start(r,new KeyboardEvent("keydown",{key:i}),"api");const s=Rn(this.beans,r);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},Y0e=class extends S${constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(i=>super.isCellEditable({rowNode:e.rowNode,column:i},t))}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!s1(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",r){const{rowNode:i}=e;this.rowNode!==i&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:i},"rowEditingStarted"),this.startedRows.push(i);const s=this.beans.visibleCols.allCols,o=[];s.forEach(a=>{if(!a.isCellEditable(i))return;const l={rowNode:i,column:a};o.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=i,this.setupEditors(o,e,!0,t,r)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];return e||this.model.getEditMap().forEach((i,s)=>{if(!(!i||i.size===0)){for(const o of i.values())if(gc(o)){r.push(s);break}}}),ud(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),r.forEach(i=>this.dispatchRowEvent({rowNode:i},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const r=Rn(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),u=o.isCellEditable(),h=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const f=this.gos.get("suppressStartEditOnTab");return u&&!i?f?o.focusCell(!0,n):(o.comp?.getCellEditor()||Tf(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(u&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!h&&!i&&(this.cleanupEditors(o,!0),f?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{if(n!=="editing")return;const i=Rn(this.beans,{rowNode:t,column:r});i&&!i.comp?.getCellEditor()&&Tf(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},X0e=class extends S${constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",r){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,r)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:s}=e,o=ul(this.beans,{rowIndex:r,rowPinned:s}),a=OD(i),l=t.getCol(a),u=e.previousParams;if(u){const h=OD(u.column);if(u?.rowIndex===r&&h===a&&u?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,u=e.isCellEditable(),h=o.isCellEditable(),f=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;u&&!i&&this.setFocusOutOnEditor(e);const g=this.gos.get("suppressStartEditOnTab");return!f&&!i&&(super.cleanupEditors(o,!0),g?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),h&&!i?(o.focusCell(!1,n),g?o.focusCell(!0,n):o.comp?.getCellEditor()||(Tf(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(h&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},zc={moduleName:"EditCore",version:ke,beans:[Spe,K0e],apiFunctions:{getEditingCells:I0e,getCellEditorInstances:Fpe,startEditingCell:_0e,stopEditing:F0e,isEditing:M0e,validateEdit:k0e},dynamicBeans:{singleCell:X0e,fullRow:Y0e},dependsOn:[fE,g$],css:[a0e]},Q0e={moduleName:"UndoRedoEdit",version:ke,beans:[o0e],apiFunctions:{undoCellEditing:A0e,redoCellEditing:P0e,getCurrentUndoSize:O0e,getCurrentRedoSize:L0e},dependsOn:[zc]},Z0e={moduleName:"TextEditor",version:ke,userComponents:{agCellEditor:V2,agTextCellEditor:V2},dependsOn:[zc]},J0e={moduleName:"NumberEditor",version:ke,userComponents:{agNumberCellEditor:{classImp:w0e}},dependsOn:[zc]},eRe={moduleName:"DateEditor",version:ke,userComponents:{agDateCellEditor:h0e,agDateStringCellEditor:g0e},dependsOn:[zc]},tRe={moduleName:"CheckboxEditor",version:ke,userComponents:{agCheckboxCellEditor:c0e},dependsOn:[zc]},nRe={moduleName:"SelectEditor",version:ke,userComponents:{agSelectCellEditor:S0e},dependsOn:[zc]},rRe={moduleName:"LargeTextEditor",version:ke,userComponents:{agLargeTextCellEditor:v0e},dependsOn:[zc]},iRe={moduleName:"CustomEditor",version:ke,dependsOn:[zc]},sRe=class extends me{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Yh(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),dfe(e))}createColumns(e,t){const n=()=>{kb(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,s=(this.columns?.treeDepth??-1)==r,o=this.generateSelectionCols();if(ufe(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,u=l?.findDepth(e.tree)??0,h=l?.balanceTreeForAutoCols(o,u)??[];this.columns={list:o,tree:h,treeDepth:u,map:{}},t(g=>{if(!g)return null;const v=g.filter(C=>!Gc(C));return[...o,...v]})}updateColumns(e){const t=Yh(e.source);this.columns?.list.forEach(n=>{const r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),uo(this.beans,{state:[{...r,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>wW(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!zu(e))return!1;const r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!Kh(n),s=Dw(n);return i||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(a,l,u,h){const f=u.isSelected(),g=h.isSelected();return f===g?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:vW,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new Td(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?Kh(t):void 0,i=e&&typeof e!="string"?Kh(e):void 0,s=r!==i,o=t&&typeof t!="string"?Dw(t):void 0,a=e&&typeof e!="string"?Dw(e):void 0,l=o!==a,u=Pb(e),h=Pb(t);(s||l||u!==h)&&this.beans.colModel.refreshAll(n)}destroy(){kb(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const r=e.length+t.length+n.length;if(r===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&Ys(l,i)};(this.beans.rowNumbersSvc?.getColumn(yW)?2:1)===r&&s()}};function oRe(e,t){if(!t.nodes.every(o=>o.rowPinned&&!Yv(o)?(xe(59),!1):o.id===void 0?(xe(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function aRe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function lRe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function cRe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function uRe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function dRe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function hRe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function fRe(e){return e.selectionSvc?.getSelectedNodes()??[]}function pRe(e){return e.selectionSvc?.getSelectedRows()??[]}var gRe=class extends Qme{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=Ib(e),this.groupSelectsDescendants=Bm(e),this.groupSelectsFiltered=Mb(e)==="filteredDescendants",this.masterSelectsDetail=HV(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Bm(e),n=Ib(e),r=Mb(e)==="filteredDescendants";this.masterSelectsDetail=HV(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return r==null?0:(this.selectionCtx.selectAll=!1,"select"in r?(r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n)):this.setNodesSelected({nodes:[r.node],newValue:r.newValue,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s,keepDescendants:o=!1}){if(!zu(this.gos)&&e)return xe(132),0;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return xe(130),0;let a=0;for(let l=0;l<r.length;l++){const u=r[l],h=wh(u),f=this.groupSelectsFiltered&&h.group;if(h.rowPinned&&!Yv(h)){xe(59);continue}if(h.id===void 0){xe(60);continue}f||this.selectRowNode(h,e,i,s)&&(this.detailSelection.delete(h.id),a++),this.groupSelectsDescendants&&h.childrenAfterGroup?.length&&(a+=this.selectChildren(h,e,s))}return n||(r.length===1&&s==="api"&&this.selectionCtx.setRoot(wh(r[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(wh(r[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let r=0;return e.forEach(i=>{const s=wh(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!fr(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new jm(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!vRe(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new hd(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!fr(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=fr(this.gos);let r=!1;const i=s=>{const o=this.selectRowNode(wh(s),!1,void 0,e);r||(r=o)};if(t==="currentPage"||t==="filtered"){if(!n){an(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return E$(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(i);return}this.groupSelectsDescendants||n(i)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!zu(t)){xe(132);return}if(Ghe(t)&&!Fb(t)){xe(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const a=this.selectRowNode(wh(o),!0,void 0,r);s||(s=a)}),n.selectAll=!0,fr(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(r);s||(s=o)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){an(103);return}const r=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!fr(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!zu(t))return;const r="selectableChanged",i=e!==void 0,s=fr(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(i&&!l.group)return;if(s&&l.group){const h=l.childrenAfterGroup?.some(f=>f.selectable)??!1;this.setRowSelectable(l,h,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new jm(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&s&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const r=mRe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!Fb(t)){xe(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const o=n.getRowNode(s);o&&i.push(o)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function wh(e){return Yv(e)?e.pinnedSibling:e.footer?e.sibling:e}function mRe(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),E$(t,n)}function E$(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function vRe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var yRe={moduleName:"SharedRowSelection",version:ke,beans:[sRe],apiFunctions:{setNodesSelected:oRe,selectAll:aRe,deselectAll:lRe,selectAllFiltered:cRe,deselectAllFiltered:uRe,selectAllOnCurrentPage:dRe,deselectAllOnCurrentPage:hRe,getSelectedNodes:fRe,getSelectedRows:pRe}},CRe={moduleName:"RowSelection",version:ke,rowModels:["clientSide","infinite","viewport"],beans:[gRe],dependsOn:[yRe]};function wRe(e){e.expansionSvc?.expandAll(!0)}function bRe(e){e.expansionSvc?.expandAll(!1)}function SRe(e){const t=ya(e),n=Z6(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function ERe(e,t,n){const r=Z6(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){an(238);return}r.setRowCount(t,n);return}an(28);return}const i=hE(e);if(i){i.setRowCount(t,n);return}}function RRe(e){return xd(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function xRe(e){return e.rowModel.isLastRowIndexKnown()}var TRe={moduleName:"CsrmSsrmSharedApi",version:ke,apiFunctions:{expandAll:wRe,collapseAll:bRe,onRowHeightChanged:SRe}},DRe={moduleName:"SsrmInfiniteSharedApi",version:ke,apiFunctions:{setRowCount:ERe,getCacheBlockState:RRe,isLastRowIndexKnown:xRe}},ARe=class extends me{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{if(!r){an(18),t||an(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?i.current?.api:(i.api||an(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":xe(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(g=>({colId:g.colId}));uo(r,{state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));uo(r,{state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));uo(r,{state:f},"alignedGridChanged")}break;case"columnResized":{const h=e,f={};a.forEach(g=>{f[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),h.flexColumns?.forEach(g=>{f[g.getId()]&&delete f[g.getId()]}),i?.setColumnWidths(Object.values(f),!1,h.finished,"alignedGridChanged");break}}const u=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(h=>{h.setGridOption("alwaysShowVerticalScroll",u)})}},PRe={moduleName:"AlignedGrids",version:ke,beans:[ARe],dependsOn:[P6]},IRe=class extends $me{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},Nx=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function FRe(e){if(Tn(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,s=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.lastChild!==s&&(r.lastChild=s,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==n&&(r.childIndex=n,r.dispatchRowEvent("childIndexChanged"))}}function R$(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),FRe(e)}var MRe=class extends me{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),r=Fe(n)&&n.length>0,i=r&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>Ho(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,r,i,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,r,i,s,o){const{gos:a,colModel:l,rowGroupColsSvc:u,rowNodeSorter:h,rowRenderer:f,showRowGroupCols:g}=e,v=a.get("groupMaintainOrder"),C=l.getCols().some(T=>T.isRowGroupActive()),S=l.isPivotMode(),R=a.getCallback("postSortRows");let x=!1;const D=T=>{const k=S&&T.leafGroup,O=v&&C&&!T.leafGroup&&!o;let P;if(O){const M=u?.columns?.[T.level+1]?.getSort()===null,N=T.childrenAfterAggFilter.slice(0);if(T.childrenAfterSort&&!M){const B={};T.childrenAfterSort.forEach((H,U)=>{B[H.id]=U}),N.sort((H,U)=>(B[H.id]??0)-(B[U.id]??0))}P=N}else!n||k?P=T.childrenAfterAggFilter.slice(0):r&&i?P=_Re(h,T,i,s,t):P=h.doFullSort(T.childrenAfterAggFilter,t);if(x||(x=T.childrenAfterSort?.[0]!==P[0]),T.childrenAfterSort=P,R$(T),R){const _={nodes:T.childrenAfterSort};R(_)}};if(s?.forEachChangedNodeDepthFirst(D),x&&this.gos.get("groupHideOpenParents")){const T=g?.getShowRowGroupCols();T?.length&&f.refreshCells({columns:T,force:!0})}}};function _Re(e,t,n,r,i){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const a=new Set,l=[],{updates:u,adds:h}=n;for(let g=0,v=s.length;g<v;++g){const C=s[g];u.has(C)||h.has(C)||r&&!r.canSkip(C)?l.push({currentPos:l.length,rowNode:C}):a.add(C.id)}const f=o.filter(g=>a.has(g.id)).map((g,v)=>({currentPos:v,rowNode:g}));return l.sort((g,v)=>e.compareRowNodes(i,g,v)),kRe(e,i,l,f)}function kRe(e,t,n,r){const i=[];let s=0,o=0;const a=n.length,l=r.length;for(;s<a&&o<l;){const u=n[s],h=r[o],f=e.compareRowNodes(t,u,h);let g;f<0?(g=u,++s):(g=h,++o),i.push(g.rowNode)}for(;s<a;)i.push(n[s++].rowNode);for(;o<l;)i.push(r[o++].rowNode);return i}var ORe=class extends me{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Xr(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new hd(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return dW(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),u=Math.min(a,r);for(let h=l;h<=u;h++){const f=this.getRow(h);if(f.rowHeightEstimated){const g=Dc(this.beans,f);f.setRowHeight(g.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),r={step:"nothing",changedProps:n},i=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||i&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||i)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,xe(1))),a&&(i||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))r.keepRenderedRows=!0,r.animate=!this.gos.get("suppressAnimationFrame"),r.changedRowNodes=new Nx,o.setImmutableRowData(r,l);else{r.rowDataUpdated=!0,r.newData=!0;const{selectionSvc:h,pinnedRowModel:f}=this.beans;h?.reset("rowDataChanged"),f?.isManual()&&f.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(r.rowDataUpdated)r.step="group";else if(r.step==="nothing"){for(const{refreshProps:u,step:h}of this.orderedStages)if(e.some(f=>u.has(f))){r.step=h;break}}r.step!=="nothing"&&this.refreshModel(r)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let r=0;const i=new Set,s=Zr(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&i.add(l.id),l.rowHeight==null){const u=Dc(e,l,s,n);l.setRowHeight(u.height,u.estimated)}l.setRowTop(r),l.setRowIndex(o),r+=l.rowHeight}return i}clearRowTopAndRowIndex(e,t){const n=e.active,r=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(s!==null&&(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,r=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+r}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,s=a=>{let l=i[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,i,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);for(i.footer&&(i=i.sibling);i.parent&&i.parent!==t;)i=i.parent;const s=t.childrenAfterSort?.findIndex(o=>o===i);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=qh(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=qh(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=qh(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new jm(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const r=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(e.changedRowNodes,r);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=Bm(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(n&&(o===t||o===e)&&(r=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){i.push(o);return}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,r=t.length-1;if(e<=0)return 0;if(on(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+r)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(r=a-1),s===n&&o===r))return a;s=n,o=r}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const o=r===this.rootNode;o||e(r,s++);const{footerSvc:a}=this.beans;if(r.hasChildren()&&!r.footer){const l=n(r);if(l){s=a?.addTotalRows(s,r,e,t,o,"top")??s;for(const u of l)s=this.depthFirstSearchRowNodes(e,t,n,u,s);return a?.addTotalRows(s,r,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),R$(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const r=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,r&&(r.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,J6(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(VD)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new Nx;let r=!1;this.rowDataTransactionBatch?.forEach(i=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(i.rowDataTransaction,n);o&&(r=!0),t.push(s),i.callback&&e.push(i.callback.bind(null,s))}),this.commitTransactions(r,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new Nx,{rowNodeTransaction:n,rowsInserted:r}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(r,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const r of n)r.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=_b,this.rowsToDisplay=_b}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function LRe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function NRe(e,t){const n=ya(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function VRe(e){return ya(e)?.isEmpty()??!0}function BRe(e,t){ya(e)?.forEachLeafNode(t)}function HRe(e,t){ya(e)?.forEachNodeAfterFilter(t)}function GRe(e,t){ya(e)?.forEachNodeAfterFilterAndSort(t)}function zRe(e){if(e.rowAutoHeight?.active){xe(3);return}ya(e)?.resetRowHeights()}function URe(e,t){return e.frameworkOverrides.wrapIncoming(()=>ya(e)?.updateRowData(t))}function jRe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>ya(e)?.batchUpdateRowData(t,n))}function WRe(e){e.frameworkOverrides.wrapIncoming(()=>ya(e)?.flushAsyncTransactions())}function $Re(e){return e.selectionSvc?.getBestCostNodeSelection()}var qRe={moduleName:"ClientSideRowModel",version:ke,rowModels:["clientSide"],beans:[IRe,ORe,MRe],dependsOn:[K6]},KRe={moduleName:"ClientSideRowModelApi",version:ke,apiFunctions:{onGroupExpandedOrCollapsed:LRe,refreshClientSideRowModel:NRe,isRowDataEmpty:VRe,forEachLeafNode:BRe,forEachNodeAfterFilter:HRe,forEachNodeAfterFilterAndSort:GRe,resetRowHeights:zRe,applyTransaction:URe,applyTransactionAsync:jRe,flushAsyncTransactions:WRe,getBestCostNodeSelection:$Re},dependsOn:[TRe]},YRe=class extends me{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,r){const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,u=!!r.footer,h=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&Bhe(this.gos,r);if(!l&&!u&&(t.skipRowGroups||h||a)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!l&&!u||i(nt(this.gos,{node:r})))return;const v=e.onNewBodyRow(r);if(n.forEach((C,S)=>{v.onColumn(C,S,r)}),t.getCustomContentBelowRow){const C=t.getCustomContentBelowRow(nt(this.gos,{node:r}));C&&e.addCustomContent(C)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new PW,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,i=fr(this.gos),s=xd(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(u=>u.rowPinned==null).sort((u,h)=>u.rowIndex-h.rowIndex).map(u=>r.getRow(u.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return i?r.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a),n;if(e.onlySelectedAllPages||o){const u=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?r.forEachNode(a):i||s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(r,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),u=g=>Gc(g)?!1:!pc(g)||r;if(i&&i.length)return s.getColsForKeys(i).filter(u);const h=o.get("treeData");let f=[];return t&&!l?f=s.getCols():f=a.allCols,f=f.filter(g=>u(g)&&(n&&!h?!n1(g):!0)),f}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),e.length>0&&tr(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;n?a=n(nt(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,h,f,g)=>{let v=on(u);return h.getColumnGroupShow()==="open"?(!v||v[1]!=null)&&(v=[f],u.push(v)):v&&v[1]==null&&(v[1]=f-1),f===g.length-1&&v&&v[1]==null&&(v[1]=f),u},[]);r.onColumn(o,a||"",i++,o.getLeafColumns().length-1,l)})}},XRe={moduleName:"SharedExport",version:ke,beans:[YRe]},B2=`\r
`,QRe=class extends OSe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,B2),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(xe(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=B2),this.isFirstLine=!1}},ZRe=class extends kSe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){xe(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(nt(this.gos,{})):t.fileName;LSe(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:f}=e;return new QRe({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:f||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function JRe(e,t){return e.csvCreator?.getDataAsCsv(t)}function exe(e,t){e.csvCreator?.exportDataAsCsv(t)}var txe={moduleName:"CsvExport",version:ke,beans:[ZRe],apiFunctions:{getDataAsCsv:JRe,exportDataAsCsv:exe},dependsOn:[XRe]},nxe=class extends me{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const o=n+s,a=new hd(r);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){Fe(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Tn(this.params.datasource.getRows)){xe(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:nt(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new hd(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},rxe=2,ixe=class extends me{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new nxe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(ad(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=rxe-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,u=r?a>=i:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,Fe(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(i&&r+1!==l.id){o=!0;return}r=l.id,l.forEachNode(u=>{const h=u===e||u===t;(i||h)&&n.push(u),h&&(i=!i)},s,this.rowCount)}}),o||i?[]:n}},sxe=class extends me{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Uu(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Uu(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!km(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;Rf(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Uu(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new ixe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function oxe(e){hE(e)?.refreshCache()}function axe(e){hE(e)?.purgeCache()}function lxe(e){return hE(e)?.getRowCount()}var cxe=class extends me{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Hhe(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Xr(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ys(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){ad(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){ad(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},uxe={moduleName:"InfiniteRowModelCore",version:ke,rowModels:["infinite"],beans:[sxe,cxe]},dxe={moduleName:"InfiniteRowModel",version:ke,apiFunctions:{refreshInfiniteCache:oxe,purgeInfiniteCache:axe,getInfiniteRowCount:lxe},dependsOn:[uxe,DRe]},hxe="↑",fxe="↓",pxe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},gxe=class extends mn{constructor(){super(pxe),this.eValue=Xe,this.eDelta=Xe,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=Fe(r)?r:n,s=t>=0,o=this.eDelta;s?o.textContent=hxe+i:o.textContent=fxe+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ms(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:o}=this;if(n===s||(Fe(r)?i.textContent=r:Fe(n)?i.textContent=n:ms(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const u=a-l;this.showDelta(e,u)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},mxe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",vxe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},yxe=class extends mn{constructor(){super(vxe),this.eCurrent=Xe,this.refreshCount=0,this.registerCSS(mxe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,r=rr({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Tn(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return Fe(e.valueFormatted)?r.textContent=e.valueFormatted:Fe(e.value)?r.textContent=n:ms(r),!0}},Cxe=class extends me{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),o=s+n,a=s+n+r,l={phase:"flash",flashEndTime:o,fadeEndTime:a};i.set(e,l);const u=`ag-cell-${t}`,h=`${u}-animation`,{comp:f,eGui:{style:g}}=e;f.toggleCss(u,!0),f.toggleCss(h,!1),g.removeProperty("transition"),g.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],i=`ag-cell-${n}`,s=`${i}-animation`;for(const[o,a]of r){if(!o.isAlive()||!o.comp){r.delete(o);continue}const{phase:l,flashEndTime:u,fadeEndTime:h}=a,f=l==="flash"?u:h;if(!(e+15>=f)){t=Math.min(f,t??1/0);continue}const{comp:v,eGui:{style:C}}=o;switch(l){case"flash":v.toggleCss(i,!1),v.toggleCss(s,!0),C.transition=`background-color ${h-u}ms`,C.transitionDelay=`${u-e}ms`,t=Math.min(h,t??1/0),a.phase="fade";break;case"fade":v.toggleCss(i,!1),v.toggleCss(s,!1),C.removeProperty("transition"),C.removeProperty("transition-delay"),r.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=Epe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function wxe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>n.flashCell(r,t))})}var bxe={moduleName:"HighlightChanges",version:ke,beans:[Cxe],userComponents:{agAnimateShowChangeCellRenderer:gxe,agAnimateSlideCellRenderer:yxe},apiFunctions:{flashCells:wxe}};function Sxe(e){return e.stateSvc?.getState()??{}}function Exe(e,t,n){return e.stateSvc?.setState(t,n)}function H2(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Rxe(e)}return e.version=ke,e}function Rxe(e){return e.cellSelection=xxe(e,"rangeSelection"),e}function xxe(e,t){if(e&&typeof e=="object")return e[t]}var Txe=class extends me{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Xr(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Xr(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Xr(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=fr(this.gos);const e=H2(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[r,i,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(r(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{i?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=H2(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",i=t?new Set(t):void 0;this.setGridReadyState(n,r,i),this.setColumnsInitialisedState(n,r,!1,i),this.setRowCountState(n,r,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,i),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:i,rowSelection:s,pagination:o}=e,a=(u,h)=>!n?.has(u)&&(h||t==="api");a("filter",r)&&this.setFilterState(r),a("rowGroupExpansion",i)&&this.setRowGroupExpansionState(i,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},r=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:r,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:i,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(f,g)=>!n?.has(f)&&(g||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",r)&&this.setScrollState(r),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const h=this.getRangeSelectionState();u("rangeSelection",h),u("cellSelection",h),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const r=this.getRangeSelectionState();t("rangeSelection",r),t("cellSelection",r)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return RSe(Lb(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:i,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:u,columnSizing:h,columnOrder:f}=e,g=(B,H)=>!r?.has(B)&&(H||t==="api"),v={},C=B=>{let H=v[B];return H||(H={colId:B},v[B]=H,H)},S={},R=g("sort",i);R&&i?.sortModel.forEach(({colId:B,sort:H},U)=>{const G=C(B);G.sort=H,G.sortIndex=U}),(R||!n)&&(S.sort=null,S.sortIndex=null);const x=g("rowGroup",s);x&&s?.groupColIds.forEach((B,H)=>{const U=C(B);U.rowGroup=!0,U.rowGroupIndex=H}),(x||!n)&&(S.rowGroup=null,S.rowGroupIndex=null);const D=g("aggregation",o);D&&o?.aggregationModel.forEach(({colId:B,aggFunc:H})=>{C(B).aggFunc=H}),(D||!n)&&(S.aggFunc=null);const T=g("pivot",a);T&&(a?.pivotColIds.forEach((B,H)=>{const U=C(B);U.pivot=!0,U.pivotIndex=H}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(T||!n)&&(S.pivot=null,S.pivotIndex=null);const k=g("columnPinning",l);k&&(l?.leftColIds.forEach(B=>{C(B).pinned="left"}),l?.rightColIds.forEach(B=>{C(B).pinned="right"})),(k||!n)&&(S.pinned=null);const O=g("columnVisibility",u);O&&u?.hiddenColIds.forEach(B=>{C(B).hide=!0}),(O||!n)&&(S.hide=null);const P=g("columnSizing",h);P&&h?.columnSizingModel.forEach(({colId:B,flex:H,width:U})=>{const G=C(B);G.flex=H??null,G.width=U}),(P||!n)&&(S.flex=null);const _=f?.orderedColIds,M=!!_?.length&&!r?.has("columnOrder"),N=M?_.map(B=>C(B)):Object.values(v);N.length&&(this.columnStates=N,uo(this.beans,{state:N,applyOrder:M,defaultState:S},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:o}=i;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);uo(i,{state:a,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return xSe(t)}setColumnGroupState(e,t,n){const r=this.beans.colGroupSvc;if(!r||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),o=r.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});i.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),r.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:r,startRow:i,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:r,startRow:i,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!Ac(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const h=r.getCol(u);h&&a.push(h)}),!a.length)return;let l=r.getCol(o.startColId);if(!l){const u=i.allCols,h=new Set(a);l=u.find(f=>h.has(f))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:i,page:s}=e??{page:0,pageSize:r.get("paginationPageSize")},o=t==="gridInitializing";i&&!r.get("paginationAutoPageSize")&&n.setPageSize(i,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:r,id:i})=>{r&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const r=e?.expandedRowGroupIds??[];let i;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of r)o.delete(a);i=Array.from(o)}}n.expandRows(r,i)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];km(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),km(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},Dxe={moduleName:"GridState",version:ke,beans:[Txe],apiFunctions:{getState:Sxe,setState:Exe}};function Axe(e){return e.rowModel.isLastRowIndexKnown()}function Pxe(e){return e.pagination?.getPageSize()??100}function Ixe(e){return e.pagination?.getCurrentPage()??0}function Fxe(e){return e.pagination?.getTotalPages()??1}function Mxe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function _xe(e){e.pagination?.goToNextPage()}function kxe(e){e.pagination?.goToPreviousPage()}function Oxe(e){e.pagination?.goToFirstPage()}function Lxe(e){e.pagination?.goToLastPage()}function Nxe(e,t){e.pagination?.goToPage(t)}var Vxe=class extends me{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(Uu(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?Xr(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},vg="paginationPageSizeSelector",Bxe={tag:"span",cls:"ag-paging-page-size"},Hxe=class extends mn{constructor(){super(Bxe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(vg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){ms(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(vg)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(vg)!==!0;xe(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||xe(95,{paginationPageSizeOption:t,paginationPageSizeSelector:vg}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Dd(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new b1).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(vg);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Gxe={selector:"AG-PAGE-SIZE-SELECTOR",component:Hxe},zxe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",Uxe=class extends uve{constructor(){super(),this.btFirst=Xe,this.btPrevious=Xe,this.btNext=Xe,this.btLast=Xe,this.lbRecordCount=Xe,this.lbFirstRowOnPage=Xe,this.lbLastRowOnPage=Xe,this.lbCurrent=Xe,this.lbTotal=Xe,this.pageSizeComp=Xe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(zxe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Gxe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",Hs(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Hs(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",Hs(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",Hs(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):$pe(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===de.ENTER||r.key===de.SPACE)&&(r.preventDefault(),n())}})}),Wpe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):_Se(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){che(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>r&&(a=r));const l=o+s-1,u=!e&&n<l,h=this.formatNumber(o);this.lbFirstRowOnPage.textContent=h;let f;const g=this.getLocaleTextFunc();u?f=g("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const C=t>0?i+1:0,S=this.formatNumber(C);this.lbCurrent.textContent=S;let R,x;if(e)R=this.formatNumber(t),x=this.formatNumber(r);else{const D=g("more","more");R=D,x=D}this.lbTotal.textContent=R,this.lbRecordCount.textContent=x,this.announceAriaStatus(h,f,x,S,R)}announceAriaStatus(e,t,n,r,i){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),u=`${e} ${a} ${t} ${l} ${n}`,h=`${o} ${r} ${l} ${i}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnounce?.announceValue(u,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,this.ariaAnnounce?.announceValue(h,"paginationPage"))}},jxe={selector:"AG-PAGINATION",component:Uxe},Wxe=class extends me{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return jxe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Fe(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Fe(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Fe(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Fe(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let o=n*(i+1)-1;if(o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},$xe={moduleName:"Pagination",version:ke,beans:[Wxe,Vxe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:Axe,paginationGetPageSize:Pxe,paginationGetCurrentPage:Ixe,paginationGetTotalPages:Fxe,paginationGetRowCount:Mxe,paginationGoToNextPage:_xe,paginationGoToPreviousPage:kxe,paginationGoToFirstPage:Oxe,paginationGoToLastPage:Lxe,paginationGoToPage:Nxe},dependsOn:[fE]};function qxe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function x$(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&x$(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function Kxe(e,t){return e.rowModel.getRowNode(t)}function Yxe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function Xxe(e){return e.rowRenderer.getRenderedNodes()}function Qxe(e,t,n){e.rowModel.forEachNode(t,n)}function Zxe(e){return e.rowRenderer.firstRenderedRow}function Jxe(e){return e.rowRenderer.lastRenderedRow}function eTe(e,t){return e.rowModel.getRow(t)}function tTe(e){return e.rowModel.getRowCount()}var nTe={moduleName:"RowApi",version:ke,apiFunctions:{redrawRows:qxe,setRowNodeExpanded:x$,getRowNode:Kxe,addRenderedRowListener:Yxe,getRenderedNodes:Xxe,forEachNode:Qxe,getFirstDisplayedRowIndex:Zxe,getLastDisplayedRowIndex:Jxe,getDisplayedRowAtIndex:eTe,getDisplayedRowCount:tTe}},rTe={moduleName:"ScrollApi",version:ke,apiFunctions:{getVerticalPixelRange:x0e,getHorizontalPixelRange:T0e,ensureColumnVisible:m$,ensureIndexVisible:v$,ensureNodeVisible:D0e}};function iTe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function sTe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function oTe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function aTe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function lTe(e){e.animationFrameSvc?.flushAllFrames()}function cTe(e){return{rowHeight:Uu(e),headerHeight:Qv(e)}}function uTe(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(Hm(o))}),t.columns?.length)return n;const r=[],i=YD(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(i&&!XD(s.rowNode,i)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(Hm(l))}}),[...r,...n]}var dTe={moduleName:"RenderApi",version:ke,apiFunctions:{setGridAriaProperty:iTe,refreshCells:sTe,refreshHeader:oTe,isAnimationFrameQueueEmpty:aTe,flushAllAnimationFrames:lTe,getSizesForCurrentTheme:cTe,getCellRendererInstances:uTe}};function hTe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function T$({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function fTe(e,t){t&&typeof t=="object"?T$(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var pTe=class extends me{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:u,renderStatus:h,colModel:f,autoWidthCalc:g,visibleCols:v}=this.beans;if(u?.flushAllFrames(),this.timesDelayed<5&&h&&!h.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const C=[];let S=-1;const R=Object.fromEntries(a.map(({colId:T,maxWidth:k,minWidth:O})=>[T,{maxWidth:k,minWidth:O}])),x=n??this.gos.get("skipHeaderOnAutoSize"),D=r??x;for(;S!==0;){S=0;const T=[];t.forEach(k=>{if(!k||cfe(k))return;const O=f.getCol(k);if(!O||C.indexOf(O)>=0)return;const P=g.getPreferredWidthForColumn(O,x);if(P>0){const _=R[O.colId]??{};_.minWidth??(_.minWidth=o),_.maxWidth??(_.maxWidth=s);const M=gTe(O,P,_);O.setActualWidth(M,l),C.push(O),S++}T.push(O)}),T.length&&v.refresh(l)}D||this.autoSizeColumnGroupsByColumns(t,l,i),xf(this.eventSvc,C,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set;r.getColsForKeys(e).forEach(u=>{let h=u.getParent();for(;h&&h!=n;)h.isPadding()||s.add(h),h=h.getParent()});let a;const l=[];for(const u of s){for(const h of i.getHeaderRowContainerCtrls())if(a=h.getHeaderCtrlForColumn(u),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new Eu(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.removeEventListener("doubleTap",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:r}=this.beans,i=n.getGridBodyCtrl(),o=i.isVerticalScrollShowing()?r.getScrollbarWidth():0,l=Nm(i.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):xe(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&r?.columnLimits?.forEach(({key:v,...C})=>{i[typeof v=="string"?v:v.getColId()]=C});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===Ga(s)&&s.every(C=>{if(C.colDef.suppressSizeToFit)return!0;const S=i?.[C.getId()],R=S?.minWidth??r?.defaultMinWidth,x=S?.maxWidth??r?.defaultMaxWidth,D=C.getActualWidth();return(R==null||D>=R)&&(x==null||D<=x)}))return;const a=[],l=[];s.forEach(v=>{v.getColDef().suppressSizeToFit===!0?l.push(v):a.push(v)});const u=a.slice(0);let h=!1;const f=v=>{Ys(a,v),l.push(v)};for(a.forEach(v=>{v.resetActualWidth(t);const C=i?.[v.getId()],S=C?.minWidth??r?.defaultMinWidth,R=C?.maxWidth??r?.defaultMaxWidth,x=v.getActualWidth();typeof S=="number"&&x<S?v.setActualWidth(S,t,!0):typeof R=="number"&&x>R&&v.setActualWidth(R,t,!0)});!h;){h=!0;const v=e-Ga(l);if(v<=0)a.forEach(C=>{const S=i?.[C.getId()]?.minWidth??r?.defaultMinWidth;if(typeof S=="number"){C.setActualWidth(S,t,!0);return}C.setActualWidth(C.minWidth,t)});else{const C=v/Ga(a);let S=v;for(let R=a.length-1;R>=0;R--){const x=a[R],D=i?.[x.getId()],T=D?.minWidth??r?.defaultMinWidth,k=D?.maxWidth??r?.defaultMaxWidth,O=x.getMinWidth(),P=x.getMaxWidth(),_=typeof T=="number"&&T>O?T:O,M=typeof k=="number"&&k<P?k:P;let N=Math.round(x.getActualWidth()*C);N<_?(N=_,f(x),h=!1):N>M?(N=M,f(x),h=!1):R===0&&(N=S),x.setActualWidth(N,t,!0),S-=N}}}u.forEach(v=>{v.fireColumnWidthChangedEvent(t)});const g=this.beans.visibleCols;g.setLeftValues(t),g.updateBodyWidths(),!n&&xf(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function gTe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}var mTe={moduleName:"ColumnAutoSize",version:ke,beans:[pTe],apiFunctions:{sizeColumnsToFit:hTe,autoSizeColumns:T$,autoSizeAllColumns:fTe},dependsOn:[A6]},vTe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function yTe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function CTe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function wTe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function bTe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function STe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var ETe={moduleName:"PinnedRow",version:ke,beans:[jme],css:[vTe],apiFunctions:{getPinnedTopRowCount:yTe,getPinnedBottomRowCount:CTe,getPinnedTopRow:wTe,getPinnedBottomRow:bTe,forEachPinnedRow:STe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},RTe=class extends Zh{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,o){this.eWrapper=n,super.setComp(e,t,n,r,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&L5(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){fhe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(aE(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},xTe=class extends jb{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new RTe(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},TTe=class extends me{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,r=this[n],i=r.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const u of s)u.isAlive()&&t?.forEachSpannedColumn(u.rowNode,(h,f)=>{if(o.has(f.firstNode))return;const g=r.get(f.firstNode);if(g){o.set(f.firstNode,g),r.delete(f.firstNode);return}a=!0;const v=new xTe(f.firstNode,this.beans,!1,!1,!1);o.set(f.firstNode,v)});this[n]=o;const l=o.size===i;if(!(!a&&l)){for(const u of r.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const r=`${D$(e.rowPinned)}Ctrls`,i=this[r].get(n.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},D$=e=>e??"center",DTe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},ATe=class extends me{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],u=new Map,h=n.getCallback("isFullWidthRow"),f=a.equals,g=a.spanRows,v=typeof g=="function";let C=null,S=null,R;const x=(T,k)=>{C=T,S=null,R=k},D=T=>{const k=!T.isExpandable()&&!T.group&&!T.detail&&(h?!h({rowNode:T}):!0);if(T.rowIndex==null||!k){x(null,null);return}if(C==null||T.level!==C.level||T.footer||S&&T.rowIndex-1!==S?.getLastNode().rowIndex){x(T,s.getValue(t,T));return}const O=s.getValue(t,T);if(v){const P=nt(n,{valueA:R,nodeA:C,valueB:O,nodeB:T,column:t,colDef:a});if(!g(P)){x(T,O);return}}else if(f?!f(R,O):R!==O){x(T,O);return}if(!S){const P=l?.get(C);P?.firstNode===C?(P.reset(),S=P):S=new DTe(t,C),u.set(C,S)}S.addSpannedNode(T),u.set(T,S)};switch(e){case"center":i.forEachDisplayedNode?.(T=>{(!o||o.isRowInPage(T.rowIndex))&&D(T)});break;case"top":r?.forEachPinnedRow("top",D);break;case"bottom":r?.forEachPinnedRow("bottom",D);break}this[`${e}ValueNodeMap`]=u}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${D$(e.rowPinned)}ValueNodeMap`].get(e)}},PTe=class extends me{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Xr(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Xr(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new ATe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(i);break;case"bottom":o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},ITe={moduleName:"CellSpan",version:ke,beans:[PTe,TTe]},FTe=class extends me{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);h1(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i,i.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return nt(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},MTe=class extends me{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){h1(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new FTe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},_Te={moduleName:"CellStyle",version:ke,beans:[MTe]},kTe={moduleName:"RowStyle",version:ke,beans:[Nge]};function OTe(e,t){return!!e.colHover?.isHovered(t)}var LTe=class extends me{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:i,element:s,columns:o}=this,a=r.colHover;n??!!i.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(u=>u()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},NTe="ag-column-hover",VTe=class extends me{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(NTe,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new LTe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},BTe={moduleName:"ColumnHover",version:ke,beans:[VTe],apiFunctions:{isColumnHovered:OTe}},HTe=class extends me{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,r=!Lw.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addEventListener(e,n,r)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(n);i||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{Lw.has(s)&&t(s,o)},r=(s,o)=>{Lw.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){const{syncListener:o,asyncListener:a}=r.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function GTe(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function zTe(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function UTe(e,t){e.apiEventSvc?.addGlobalListener(t)}function jTe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var WTe={moduleName:"EventApi",version:ke,apiFunctions:{addEventListener:GTe,addGlobalListener:UTe,removeEventListener:zTe,removeGlobalListener:jTe},beans:[HTe]},$Te={moduleName:"Locale",version:ke,beans:[ESe]},qTe=class extends me{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Xr(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let u=Dc(this.beans,a).height;for(const h of i){let f=l?.[h.getColId()];const g=n?.getCellSpan(h,a);if(g){if(g.getLastNode()!==a)continue;if(f=n?.getCellSpan(h,a)?.getLastNodeAutoHeight(),!f)return}if(f==null){if(this.colSpanSkipCell(h,a))continue;return}u=Math.max(f,u)}u!==a.rowHeight&&(a.setRowHeight(u),s=!0)};r?.forEachPinnedRow?.("top",o),r?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,a=h=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:g,borderBottomWidth:v,borderTopWidth:C}=Rd(r),S=f+g+v+C,x=t.offsetHeight+S;if(h<5){const D=Or(o),T=!D||!D.contains(t),k=x==0;if(T||k){window.setTimeout(()=>a(h+1),0);return}}this.setRowAutoHeight(i,x,s)},l=()=>a(0);l();const u=gl(o,t,l);return n.addDestroyFunc(()=>{u(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const i=n.__autoHeights[r.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},KTe={moduleName:"RowAutoHeight",version:ke,beans:[qTe]},YTe={moduleName:"AllCommunity",version:ke,dependsOn:[qRe,txe,dxe,KSe,Z0e,J0e,eRe,tRe,nRe,rRe,iRe,Q0e,QEe,ZEe,JEe,XEe,t0e,n0e,Dxe,PRe,$xe,P6,nTe,rTe,dTe,mTe,jve,ETe,CRe,sSe,_Te,BTe,kTe,WTe,lSe,bxe,g$,$Te,KTe,Uve,KRe,ITe]},ui=K.createContext({}),A$=K.createContext("default"),Zv=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),n.appendChild(a),G2(r,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),r&&G2(r,void 0))}},G2=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Ns=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),Gs=class P${constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new P$;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Zf=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},eA=K.version?.split(".")[0],I$=eA==="16"||eA==="17";function XTe(){return eA==="19"}var Nw=!1;function QTe(e){return Nw||setTimeout(()=>Nw=!1,0),Nw=!0,e()}var qm=(e,t)=>{!I$&&e&&!Nw?ac.flushSync(t):t()},ZTe=e=>{I$?e():K.startTransition(e)};function JTe(e,t,n){return K.useSyncExternalStore?K.useSyncExternalStore(e,t):n}function Kb(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;s.has(u)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var F$=b.forwardRef((e,t)=>{const{registry:n,context:r}=b.useContext(ui),i=b.useRef(null),s=b.useRef(null),o=b.useRef(null),a=b.useRef(null),l=b.useRef(null),u=b.useRef(),[h,f]=b.useState(),[g,v]=b.useState(),[C,S]=b.useState(),[R,x]=b.useState(()=>new Gs),[D,T]=b.useState(()=>new Gs("ag-hidden")),[k,O]=b.useState(()=>new Gs("ag-hidden")),[P,_]=b.useState(()=>new Gs("ag-invisible"));b.useImperativeHandle(t,()=>({refresh(){return!1}})),b.useLayoutEffect(()=>Zv(h,r,s.current),[h]);const M=b.useCallback(Z=>{if(i.current=Z,!Z){u.current=r.destroyBean(u.current);return}const te={setInnerRenderer:(F,X)=>{f(F),S(X)},setChildCount:F=>v(F),toggleCss:(F,X)=>x(re=>re.setClass(F,X)),setContractedDisplayed:F=>O(X=>X.setClass("ag-hidden",!F)),setExpandedDisplayed:F=>T(X=>X.setClass("ag-hidden",!F)),setCheckboxVisible:F=>_(X=>X.setClass("ag-invisible",!F)),setCheckboxSpacing:F=>_(X=>X.setClass("ag-group-checkbox-spacing",F))},pe=n.createDynamicBean("groupCellRendererCtrl",!0);pe&&(u.current=r.createBean(pe),u.current.init(te,Z,o.current,a.current,l.current,F$,e))},[]),N=b.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),B=b.useMemo(()=>`ag-group-expanded ${D.toString()}`,[D]),H=b.useMemo(()=>`ag-group-contracted ${k.toString()}`,[k]),U=b.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),G=h?.componentFromFramework,ee=G?h.componentClass:void 0,ie=h==null&&C!=null,$=Yf(C);return K.createElement("span",{className:N,ref:M,...e.colDef?{}:{role:u.current?.getCellAriaRole()}},K.createElement("span",{className:B,ref:a}),K.createElement("span",{className:H,ref:l}),K.createElement("span",{className:U,ref:o}),K.createElement("span",{className:"ag-group-value",ref:s},ie?$:G?K.createElement(ee,{...h.params}):null),K.createElement("span",{className:"ag-group-child-count"},g))}),z2=F$,_1=b.createContext({setMethods:()=>{}}),eDe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...o},a]=b.useState(t);return b.useEffect(()=>{n(l=>a(l))},[]),K.createElement(_1.Provider,{value:{setMethods:i}},K.createElement(r,{key:s,...o}))},tDe=b.memo(eDe),nDe=0;function U2(){return`agPortalKey_${++nDe}`}var M$=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=U2(),this.portalKey=U2(),this.instanceCreated=this.isStatelessComponent()?Ht.resolve(!1):new Ht(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Ht(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Nf.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return b.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function mE(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var vs=class extends M${constructor(){super(...arguments),this.awaitUpdateCallback=new Ht(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=tDe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Ht(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,mE(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ht(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},rDe=class extends vs{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},iDe=class extends vs{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},sDe=class extends vs{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},oDe=class extends vs{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Ht(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Ht(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},aDe=class extends vs{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Ht(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function _$(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Ht.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var lDe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){mE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),_$(this.floatingFilterParams,e)}},cDe=class extends vs{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),_$(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},uDe=class extends vs{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},dDe=class extends vs{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},hDe=class extends vs{refresh(e){this.sourceParams=e,this.refreshProps()}},fDe=class extends vs{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},pDe=class extends vs{refresh(e){this.sourceParams=e,this.refreshProps()}},gDe=class extends vs{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},mDe=class extends vs{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function k1(){xe(231)}var vDe=1e3,yDe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||vDe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){qm(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},CDe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=b.useContext(ui),r=t?e.column.getColId():void 0,[i,s]=b.useState(),[o,a]=b.useState(),l=b.useRef(),u=b.useRef(null),h=b.useRef(null),f=b.useRef(null),g=b.useRef(),v=b.useRef();t&&!v.current&&(v.current=new Kv(()=>u.current));const C=b.useCallback(D=>{if(u.current=D,l.current=D?n.createBean(new Xf):n.destroyBean(l.current),!D||!e.isAlive())return;const T=()=>{const O=e.getSelectAllGui();O&&(h.current?.insertAdjacentElement("afterend",O),l.current.addDestroyFunc(()=>O.remove()))},k={setWidth:O=>{u.current&&(u.current.style.width=O)},toggleCss:(O,P)=>v.current.toggleCss(O,P),setUserStyles:O=>a(O),setAriaSort:O=>{u.current&&(O?mhe(u.current,O):vhe(u.current))},setUserCompDetails:O=>s(O),getUserCompInstance:()=>g.current||void 0,refreshSelectAllGui:T,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(k,D,h.current,f.current,l.current),T()},[]);b.useLayoutEffect(()=>Zv(i,n,f.current,g),[i]),b.useEffect(()=>{e.setDragSource(u.current)},[i]);const S=b.useMemo(()=>!!(i?.componentFromFramework&&Zf(i.componentClass)),[i]),R=i?.componentFromFramework,x=i?.componentClass;return K.createElement("div",{ref:C,style:o,className:"ag-header-cell","col-id":r,role:"columnheader"},K.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),K.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},R?S?K.createElement(x,{...i.params}):K.createElement(x,{...i.params,ref:g}):null))},wDe=b.memo(CDe),bDe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){mE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},SDe=({ctrl:e})=>{const{context:t,gos:n}=b.useContext(ui),[r,i]=b.useState(),[s,o]=b.useState(()=>new Gs("ag-header-cell","ag-floating-filter")),[a,l]=b.useState(()=>new Gs),[u,h]=b.useState(()=>new Gs("ag-floating-filter-button","ag-hidden")),[f,g]=b.useState("false"),[v,C]=b.useState(),[,S]=b.useState(1),R=b.useRef(),x=b.useRef(null),D=b.useRef(null),T=b.useRef(null),k=b.useRef(null),O=b.useRef(),P=b.useRef(),_=F=>{F!=null&&O.current&&O.current(F)},M=b.useCallback(F=>{if(x.current=F,R.current=F?t.createBean(new Xf):t.destroyBean(R.current),!F||!e.isAlive())return;P.current=new Ht(re=>{O.current=re});const X={toggleCss:(re,z)=>o(ge=>ge.setClass(re,z)),setUserStyles:re=>i(re),addOrRemoveBodyCssClass:(re,z)=>l(ge=>ge.setClass(re,z)),setButtonWrapperDisplayed:re=>{h(z=>z.setClass("ag-hidden",!re)),g(re?"false":"true")},setWidth:re=>{x.current&&(x.current.style.width=re)},setCompDetails:re=>C(re),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:re=>k.current?.appendChild(re)};e.setComp(X,F,k.current,D.current,R.current)},[]);b.useLayoutEffect(()=>Zv(v,t,D.current,_),[v]);const N=b.useMemo(()=>s.toString(),[s]),B=b.useMemo(()=>a.toString(),[a]),H=b.useMemo(()=>u.toString(),[u]),U=b.useMemo(()=>!!(v&&v.componentFromFramework&&Zf(v.componentClass)),[v]),G=b.useMemo(()=>n.get("reactiveCustomComponents"),[]),ee=b.useMemo(()=>n.get("enableFilterHandlers"),[]),[ie,$]=b.useState();b.useEffect(()=>{if(v?.componentFromFramework)if(G){const F=ee?bDe:lDe,X=new F(v.params,()=>S(re=>re+1));_(X),$(X)}else k1()},[v]);const Z=ie?.getProps(),te=v?.componentFromFramework,pe=v?.componentClass;return K.createElement("div",{ref:M,style:r,className:N,role:"gridcell"},K.createElement("div",{ref:D,className:B,role:"presentation"},te?G?Z&&K.createElement(_1.Provider,{value:{setMethods:F=>ie.setMethods(F)}},K.createElement(pe,{...Z})):K.createElement(pe,{...v.params,ref:U?()=>{}:_}):null),K.createElement("div",{ref:T,"aria-hidden":f,className:H,role:"presentation"},K.createElement("button",{ref:k,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},EDe=b.memo(SDe),RDe=({ctrl:e})=>{const{context:t}=b.useContext(ui),[n,r]=b.useState(),[i,s]=b.useState(()=>new Gs),[o,a]=b.useState(()=>new Gs),[l,u]=b.useState("false"),[h,f]=b.useState(),[g,v]=b.useState(),C=b.useMemo(()=>e.column.getUniqueId(),[]),S=b.useRef(),R=b.useRef(null),x=b.useRef(null),D=b.useRef(null),T=b.useRef(),k=b.useCallback(B=>{if(R.current=B,S.current=B?t.createBean(new Xf):t.destroyBean(S.current),!B||!e.isAlive())return;const H={setWidth:U=>{R.current&&(R.current.style.width=U)},toggleCss:(U,G)=>s(ee=>ee.setClass(U,G)),setUserStyles:U=>r(U),setHeaderWrapperHidden:U=>{const G=D.current;G&&(U?G.style.setProperty("display","none"):G.style.removeProperty("display"))},setHeaderWrapperMaxHeight:U=>{const G=D.current;G&&(U!=null?G.style.setProperty("max-height",`${U}px`):G.style.removeProperty("max-height"),G.classList.toggle("ag-header-cell-comp-wrapper-limited-height",U!=null))},setUserCompDetails:U=>v(U),setResizableDisplayed:U=>{a(G=>G.setClass("ag-hidden",!U)),u(U?"false":"true")},setAriaExpanded:U=>f(U),getUserCompInstance:()=>T.current||void 0};e.setComp(H,B,x.current,D.current,S.current)},[]);b.useLayoutEffect(()=>Zv(g,t,D.current),[g]),b.useEffect(()=>{R.current&&e.setDragSource(R.current)},[g]);const O=b.useMemo(()=>!!(g?.componentFromFramework&&Zf(g.componentClass)),[g]),P=b.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),_=b.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),M=g?.componentFromFramework,N=g?.componentClass;return K.createElement("div",{ref:k,style:n,className:P,"col-id":C,role:"columnheader","aria-expanded":h},K.createElement("div",{ref:D,className:"ag-header-cell-comp-wrapper",role:"presentation"},M?O?K.createElement(N,{...g.params}):K.createElement(N,{...g.params,ref:T}):null),K.createElement("div",{ref:x,"aria-hidden":l,className:_}))},xDe=b.memo(RDe),TDe=({ctrl:e})=>{const{context:t}=b.useContext(ui),{topOffset:n,rowHeight:r}=b.useMemo(()=>e.getTopAndHeight(),[]),[i,s]=b.useState(e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=b.useState(()=>r+"px"),[u,h]=b.useState(()=>n+"px"),f=b.useRef([]),[g,v]=b.useState(()=>e.getUpdatedHeaderCtrls()),C=b.useRef(),S=b.useRef(null),R=b.useCallback(T=>{if(S.current=T,C.current=T?t.createBean(new Xf):t.destroyBean(C.current),!T)return;const k={setHeight:O=>l(O),setTop:O=>h(O),setHeaderCtrls:(O,P,_)=>{const M=f.current,N=Kb(M,O,P);N!==M&&(f.current=N,qm(_,()=>v(N)))},setWidth:O=>{S.current&&(S.current.style.width=O)},setRowIndex:O=>{s(O)}};e.setComp(k,C.current,!1)},[]),x=b.useMemo(()=>({height:a,top:u}),[a,u]),D=b.useCallback(T=>{switch(e.type){case"group":return K.createElement(xDe,{ctrl:T,key:T.instanceId});case"filter":return K.createElement(EDe,{ctrl:T,key:T.instanceId});default:return K.createElement(wDe,{ctrl:T,key:T.instanceId})}},[]);return K.createElement("div",{ref:R,className:o,role:"row",style:x,"aria-rowindex":i},g.map(D))},DDe=b.memo(TDe),ADe=({pinned:e})=>{const[t,n]=b.useState(!0),[r,i]=b.useState([]),{context:s}=b.useContext(ui),o=b.useRef(null),a=b.useRef(null),l=b.useRef(),u=e==="left",h=e==="right",f=!u&&!h,g=b.useCallback(S=>{if(o.current=S,l.current=S?s.createBean(new bme(e)):s.destroyBean(l.current),!S)return;const R={setDisplayed:n,setCtrls:x=>i(x),setCenterWidth:x=>{a.current&&(a.current.style.width=x)},setViewportScrollLeft:x=>{o.current&&(o.current.scrollLeft=x)},setPinnedContainerWidth:x=>{o.current&&(o.current.style.width=x,o.current.style.minWidth=x,o.current.style.maxWidth=x)}};l.current.setComp(R,o.current)},[]),v=t?"":"ag-hidden",C=()=>r.map(S=>K.createElement(DDe,{ctrl:S,key:S.instanceId}));return u?K.createElement("div",{ref:g,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},C()):h?K.createElement("div",{ref:g,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},C()):f?K.createElement("div",{ref:g,className:"ag-header-viewport "+v,role:"presentation",tabIndex:-1},K.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},C())):null},Vx=b.memo(ADe),PDe=()=>{const[e,t]=b.useState(()=>new Gs),[n,r]=b.useState(),{context:i}=b.useContext(ui),s=b.useRef(null),o=b.useRef(),a=b.useCallback(h=>{if(s.current=h,o.current=h?i.createBean(new vme):i.destroyBean(o.current),!h)return;const f={toggleCss:(g,v)=>t(C=>C.setClass(g,v)),setHeightAndMinHeight:g=>r(g)};o.current.setComp(f,h,h)},[]),l=b.useMemo(()=>"ag-header "+e.toString(),[e]),u=b.useMemo(()=>({height:n,minHeight:n}),[n]);return K.createElement("div",{ref:a,className:l,style:u,role:"presentation"},K.createElement(Vx,{pinned:"left"}),K.createElement(Vx,{pinned:null}),K.createElement(Vx,{pinned:"right"}))},IDe=b.memo(PDe),FDe=(e,t)=>{b.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},Du=FDe,MDe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ht(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){mE(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},_De=e=>{const t=b.useRef(e),n=b.useRef(),r=b.useRef(!1),i=b.useRef(!1),[,s]=b.useState(0);r.current&&(i.current=!0),b.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(o=>o+1),()=>{i.current&&n.current?.()}),[])},kDe=e=>{const[t,n]=b.useState(),r=b.useContext(ui),{context:i,popupSvc:s,gos:o,editSvc:a}=r,{editDetails:l,cellCtrl:u,eParentCell:h}=e;return _De(()=>{const{compDetails:f}=l,g=o.get("stopEditingWhenCellsLoseFocus"),v=i.createBean(a.createPopupEditorWrapper(f.params)),C=v.getGui();if(e.jsChildComp){const O=e.jsChildComp.getGui();O&&C.appendChild(O)}const{column:S,rowNode:R}=u,x={column:S,rowNode:R,type:"popupCellEditor",eventSource:h,ePopup:C,position:l.popupPosition,keepWithinBounds:!0},D=s?.positionPopupByComponent.bind(s,x),T=s?.addPopup({modal:g,eChild:C,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:h,positionCallback:D,ariaOwns:h}),k=T?T.hideFunc:void 0;return n(v),e.jsChildComp?.afterGuiAttached?.(),()=>{k?.(),i.destroyBean(v)}}),b.useLayoutEffect(()=>()=>{u.isCellFocused()&&t?.getGui().contains(Hn(r))&&h.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Nf.createPortal(e.wrappedContent,t.getGui()):null},j2=b.memo(kDe),ODe=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=Zf(t);return K.createElement(_1.Provider,{value:{setMethods:o=>r.setMethods(o)}},s?K.createElement(t,{...i}):K.createElement(t,{...i,ref:o=>r.setRef(o)}))},W2=(e,t,n)=>e.compProxy?ODe(e,t,n):K.createElement(t,{...e.compDetails.params,ref:n}),LDe=(e,t,n,r,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,u=!s.componentFromFramework&&e.popup;return a?W2(e,o,t):l?K.createElement(j2,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:W2(e,o,t)}):u&&i?K.createElement(j2,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},NDe=(e,t,n,r,i,s)=>{const{context:o}=b.useContext(ui),a=b.useCallback(()=>{const l=i.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),i.current=void 0},[]);b.useEffect(()=>{const l=e!=null,u=e?.compDetails&&!e.compDetails.componentFromFramework,h=t&&n==null;if(!(l&&u&&!h)){a();return}const g=e.compDetails;if(i.current){const C=i.current,R=C.refresh!=null&&e.force==!1?C.refresh(g.params):!1;if(R===!0||R===void 0)return;a()}g.newAgStackInstance().then(C=>{if(!C)return;const S=C.getGui();if(!S)return;(t?n:s.current).appendChild(S),i.current=C})},[e,t,r]),b.useEffect(()=>a,[])},k$=NDe,VDe=({cellCtrl:e,parent:t})=>{const n=b.useRef(),r=b.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(k$(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){const i=r.compDetails.componentClass;return K.createElement(i,{...r.compDetails.params})}return K.createElement(K.Fragment,null)},BDe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=b.useContext(ui),{context:i}=r,{column:{colIdSanitised:s},instanceId:o}=e,a=b.useRef(),[l,u]=b.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[h,f]=b.useState(),[g,v]=b.useState(1),[C,S]=b.useState(),[R,x]=b.useState(!1),[D,T]=b.useState(!1),[k,O]=b.useState(!1),[P,_]=b.useState(),M=b.useMemo(()=>e.isForceWrapper(),[e]),N=b.useMemo(()=>e.getCellAriaRole(),[e]),B=b.useRef(null),H=b.useRef(null),U=b.useRef(null),G=b.useRef(),ee=b.useRef(),ie=b.useRef(),$=b.useRef([]),Z=b.useRef(),[te,pe]=b.useState(0),F=b.useCallback(Oe=>{Z.current=Oe,pe(Ne=>Ne+1)},[]),X=l!=null&&(R||k||D)&&(h==null||!!h.popup),re=M||X,z=b.useCallback(Oe=>{if(ee.current=Oe,Oe){const Ne=Oe.isCancelBeforeStart&&Oe.isCancelBeforeStart();setTimeout(()=>{Ne?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(Oe))})}},[e]),ge=b.useRef();ge.current||(ge.current=new Kv(()=>B.current)),k$(l,re,Z.current,te,G,B);const Ae=b.useRef();b.useLayoutEffect(()=>{const Oe=Ae.current,Ne=l;if(Ae.current=l,Oe==null||Oe.compDetails==null||Ne==null||Ne.compDetails==null)return;const Ze=Oe.compDetails,Ve=Ne.compDetails;if(Ze.componentClass!=Ve.componentClass||U.current?.refresh==null)return;U.current.refresh(Ve.params)!=!0&&v(Tt=>Tt+1)},[l]),b.useLayoutEffect(()=>{if(!(h&&!h.compDetails.componentFromFramework))return;const Ne=h.compDetails,Ze=h.popup===!0,Ve=Ne.newAgStackInstance();return Ve.then(Je=>{if(!Je)return;const Tt=Je.getGui();z(Je),Ze||((M?ie:B).current?.appendChild(Tt),Je.afterGuiAttached&&Je.afterGuiAttached()),_(Je)}),()=>{Ve.then(Je=>{const Tt=Je.getGui();e.disableEditorTooltipFeature(),i.destroyBean(Je),z(void 0),_(void 0),Tt?.parentElement?.removeChild(Tt)})}},[h]);const Te=b.useCallback(Oe=>{if(ie.current=Oe,!Oe){$.current.forEach(Ze=>Ze()),$.current=[];return}const Ne=Ze=>{if(Ze){const Ve=Ze.getGui();Oe.insertAdjacentElement("afterbegin",Ve),$.current.push(()=>{i.destroyBean(Ze),cl(Ve)})}return Ze};if(R){const Ze=e.createSelectionCheckbox();Ne(Ze)}k&&Ne(e.createDndSource()),D&&Ne(e.createRowDragComp())},[e,i,k,D,R]),ut=b.useCallback(()=>{const Oe=!e.isCellSpanning()||H.current,Ne=B.current;if(a.current=Ne?i.createBean(new Xf):i.destroyBean(a.current),!Ne||!Oe||!e)return;const Ze={toggleCss:(Je,Tt)=>ge.current.toggleCss(Je,Tt),setUserStyles:Je=>S(Je),getFocusableElement:()=>B.current,setIncludeSelection:Je=>x(Je),setIncludeRowDrag:Je=>T(Je),setIncludeDndSource:Je=>O(Je),getCellEditor:()=>ee.current||null,getCellRenderer:()=>U.current??G.current,getParentOfValue:()=>Z.current??ie.current??B.current,setRenderDetails:(Je,Tt,at)=>{const Et=()=>{u(Rt=>Rt?.compDetails!==Je||Rt?.value!==Tt||Rt?.force!==at?{value:Tt,compDetails:Je,force:at}:Rt)};if(Je?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Rt,onReady:Mt}=e.getDeferLoadingCellRenderer();if(Rt){u({value:void 0,compDetails:Rt,force:!1}),Mt.then(()=>ZTe(Et));return}}Et()},setEditDetails:(Je,Tt,at,Et)=>{if(Je){let Rt;Je.componentFromFramework&&(Et?Rt=new MDe(Je.params,()=>v(Mt=>Mt+1)):k1()),f({compDetails:Je,popup:Tt,popupPosition:at,compProxy:Rt}),Tt||u(void 0)}else e.hasBrowserFocus()&&Ze.getFocusableElement().focus({preventScroll:!0}),f(Mt=>{Mt?.compProxy&&(ee.current=void 0)})},refreshEditStyles:(Je,Tt)=>{if(!B.current)return;const{current:at}=ge;at.toggleCss("ag-cell-value",!re),at.toggleCss("ag-cell-inline-editing",!!Je&&!Tt),at.toggleCss("ag-cell-popup-editing",!!Je&&!!Tt),at.toggleCss("ag-cell-not-inline-editing",!Je||!!Tt)}},Ve=ie.current||void 0;e.setComp(Ze,Ne,H.current??void 0,Ve,t,n,a.current)},[]),Ke=b.useCallback(Oe=>{B.current=Oe,ut()},[]),Ue=b.useCallback(Oe=>{H.current=Oe,ut()},[]),rt=b.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Zf(l.compDetails.componentClass)),[l]);b.useLayoutEffect(()=>{if(!B.current)return;const{current:Oe}=ge;Oe.toggleCss("ag-cell-value",!re),Oe.toggleCss("ag-cell-inline-editing",!!h&&!h.popup),Oe.toggleCss("ag-cell-popup-editing",!!h&&!!h.popup),Oe.toggleCss("ag-cell-not-inline-editing",!h||!!h.popup)});const dt=()=>{const{compDetails:Oe,value:Ne}=l;if(!Oe)return Ne?.toString?.()??Ne;if(Oe.componentFromFramework){const Ze=Oe.componentClass;return K.createElement(b.Suspense,{fallback:K.createElement(VDe,{cellCtrl:e,parent:B})},rt?K.createElement(Ze,{...Oe.params,key:g}):K.createElement(Ze,{...Oe.params,key:g,ref:U}))}},yt=()=>{const Oe=()=>l==null?null:re?K.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:F},dt()):dt(),Ne=Ze=>LDe(Ze,z,B.current,e,P);return h!=null?h.popup?K.createElement(K.Fragment,null,Oe(),Ne(h)):Ne(h):Oe()},Ot=()=>K.createElement("div",{ref:Ke,style:C,role:N,"col-id":s},re?K.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Te},yt()):yt());return e.isCellSpanning()?K.createElement("div",{ref:Ue,className:"ag-spanned-cell-wrapper",role:"presentation"},Ot()):Ot()},HDe=b.memo(BDe),GDe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:i}=b.useContext(ui),s=b.useContext(A$)==="default",o=b.useRef(),a=b.useRef(e.getDomOrder()),l=e.isFullWidth(),u=e.rowNode.displayed,[h,f]=b.useState(()=>u?e.rowNode.getRowIndexString():null),[g,v]=b.useState(()=>e.rowId),[C,S]=b.useState(()=>e.businessKey),[R,x]=b.useState(()=>e.rowStyles),D=b.useRef(null),[T,k]=b.useState(()=>null),[O,P]=b.useState(),[_,M]=b.useState(()=>u?e.getInitialRowTop(t):void 0),[N,B]=b.useState(()=>u?e.getInitialTransform(t):void 0),H=b.useRef(null),U=b.useRef(),G=b.useRef(!1),[ee,ie]=b.useState(0);b.useEffect(()=>{if(G.current||!O||ee>10)return;const Ue=H.current?.firstChild;Ue?(e.setupDetailRowAutoHeight(Ue),G.current=!0):ie(rt=>rt+1)},[O,ee]);const $=b.useRef();$.current||($.current=new Kv(()=>H.current));const Z=b.useRef(()=>{}),te=b.useCallback(Ue=>(Z.current=Ue,()=>{Z.current=()=>{}}),[]),pe=JTe(te,()=>D.current,[]),F=s?pe:T,X=b.useCallback(Ue=>{if(H.current=Ue,o.current=Ue?n.createBean(new Xf):n.destroyBean(o.current),!Ue){e.unsetComp(t);return}if(!e.isAlive())return;const rt={setTop:M,setTransform:B,toggleCss:(dt,yt)=>$.current.toggleCss(dt,yt),setDomOrder:dt=>a.current=dt,setRowIndex:f,setRowId:v,setRowBusinessKey:S,setUserStyles:x,setCellCtrls:(dt,yt)=>{const Ot=D.current,Oe=Kb(Ot,dt,a.current);Oe!==Ot&&(D.current=Oe,s?Z.current():qm(yt,()=>k(Oe)))},showFullWidth:dt=>P(dt),getFullWidthCellRenderer:()=>U.current,refreshFullWidth:dt=>Te.current?(P(yt=>({...yt,params:dt()})),!0):!U.current||!U.current.refresh?!1:U.current.refresh(dt())};e.setComp(rt,Ue,t,o.current)},[]);b.useLayoutEffect(()=>Zv(O,n,H.current,U),[O]);const re=b.useMemo(()=>{const Ue={top:_,transform:N};return Object.assign(Ue,R),Ue},[_,N,R]),z=l&&O?.componentFromFramework,ge=!l&&F!=null,Ae=b.useMemo(()=>!!(O?.componentFromFramework&&Zf(O.componentClass)),[O]),Te=b.useRef(!1);b.useEffect(()=>{Te.current=Ae&&!!O&&!!r.get("reactiveCustomComponents")},[Ae,O]);const ut=()=>F?.map(Ue=>K.createElement(HDe,{cellCtrl:Ue,editingCell:i?.isEditing(Ue,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Ue.instanceId})),Ke=()=>{const Ue=O.componentClass;return Ae?K.createElement(Ue,{...O.params}):K.createElement(Ue,{...O.params,ref:U})};return K.createElement("div",{ref:X,role:"row",style:re,"row-index":h,"row-id":g,"row-business-key":C},ge?ut():z?Ke():null)},$2=b.memo(GDe),zDe=({name:e})=>{const{context:t,gos:n}=b.useContext(ui),r=b.useMemo(()=>Xv(e),[e]),i=b.useRef(null),s=b.useRef(null),o=b.useRef(null),a=b.useRef([]),l=b.useRef([]),[u,h]=b.useState(()=>[]),f=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,g=b.useRef([]),v=b.useRef([]),[C,S]=b.useState(()=>[]),R=b.useRef(!1),x=b.useRef(),D=b.useMemo(()=>Ns("ag-viewport",o6(e)),[e]),T=b.useMemo(()=>Ns(Ow(e)),[e]),k=b.useMemo(()=>Ns("ag-spanning-container",Yge(e)),[e]),O=r.type==="center"||f,P=O?i:s;Du(" AG Row Container "+e+" ",P);const _=b.useCallback(()=>{const ie=!O||i.current!=null,$=s.current!=null,Z=!f||o.current!=null;return ie&&$&&Z},[]),M=b.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),N=b.useCallback(()=>{if(M()&&(x.current=t.destroyBean(x.current)),_()){const ie=te=>{const pe=Kb(l.current,a.current,R.current);pe!==l.current&&(l.current=pe,qm(te,()=>h(pe)))},$=te=>{const pe=Kb(v.current,g.current,R.current);pe!==v.current&&(v.current=pe,qm(te,()=>S(pe)))},Z={setHorizontalScroll:te=>{i.current&&(i.current.scrollLeft=te)},setViewportHeight:te=>{i.current&&(i.current.style.height=te)},setRowCtrls:({rowCtrls:te,useFlushSync:pe})=>{const F=!!pe&&a.current.length>0&&te.length>0;a.current=te,ie(F)},setSpannedRowCtrls:(te,pe)=>{const F=!!pe&&g.current.length>0&&te.length>0;g.current=te,$(F)},setDomOrder:te=>{R.current!=te&&(R.current=te,ie(!1))},setContainerWidth:te=>{s.current&&(s.current.style.width=te)},setOffsetTop:te=>{s.current&&(s.current.style.transform=`translateY(${te})`)}};x.current=t.createBean(new sme(e)),x.current.setComp(Z,s.current,o.current??void 0,i.current)}},[_,M]),B=b.useCallback(ie=>{s.current=ie,N()},[N]),H=b.useCallback(ie=>{o.current=ie,N()},[N]),U=b.useCallback(ie=>{i.current=ie,N()},[N]),G=()=>K.createElement("div",{className:T,ref:B,role:"rowgroup"},u.map(ie=>K.createElement($2,{rowCtrl:ie,containerType:r.type,key:ie.instanceId})));if(!O)return G();const ee=()=>K.createElement("div",{className:k,ref:H,role:"rowgroup"},C.map(ie=>K.createElement($2,{rowCtrl:ie,containerType:r.type,key:ie.instanceId})));return K.createElement("div",{className:D,ref:U,role:"presentation"},G(),f?ee():null)},UDe=b.memo(zDe),jDe=()=>{const e=b.useContext(ui),{context:t,overlays:n}=e,[r,i]=b.useState(""),[s,o]=b.useState(0),[a,l]=b.useState(0),[u,h]=b.useState("0px"),[f,g]=b.useState("0px"),[v,C]=b.useState("100%"),[S,R]=b.useState("0px"),[x,D]=b.useState("0px"),[T,k]=b.useState("100%"),[O,P]=b.useState(!0),[_,M]=b.useState(!0),[N,B]=b.useState(null),[H,U]=b.useState(""),[G,ee]=b.useState(null),[ie,$]=b.useState("ag-layout-normal"),Z=b.useRef();Z.current||(Z.current=new Kv(()=>te.current));const te=b.useRef(null),pe=b.useRef(null),F=b.useRef(null),X=b.useRef(null),re=b.useRef(null),z=b.useRef(null),ge=b.useRef(null),Ae=b.useRef([]),Te=b.useRef([]);Du(" AG Grid Body ",te),Du(" AG Pinned Top ",pe),Du(" AG Sticky Top ",F),Du(" AG Middle ",z),Du(" AG Pinned Bottom ",ge);const ut=b.useCallback(Et=>{if(te.current=Et,!Et){Ae.current=t.destroyBeans(Ae.current),Te.current.forEach(Ie=>Ie()),Te.current=[];return}if(!t)return;const Rt=(Ie,Be)=>{Ie.appendChild(Be),Te.current.push(()=>Ie.removeChild(Be))},Mt=Ie=>{const Be=t.createBean(new Ie);return Ae.current.push(Be),Be},vn=(Ie,Be,Lt)=>{Rt(Ie,document.createComment(Lt)),Rt(Ie,Mt(Be).getGui())};vn(Et,dme," AG Fake Horizontal Scroll ");const Gn=n?.getOverlayWrapperCompClass();Gn&&vn(Et,Gn," AG Overlay Wrapper "),re.current&&vn(re.current,fme," AG Fake Vertical Scroll ");const ne={setRowAnimationCssOnBodyViewport:i,setColumnCount:Ie=>{te.current&&phe(te.current,Ie)},setRowCount:Ie=>{te.current&&hhe(te.current,Ie)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:C,setTopInvisible:P,setBottomInvisible:M,setColumnMovingCss:(Ie,Be)=>Z.current.toggleCss(Ie,Be),updateLayoutClasses:$,setAlwaysVerticalScrollClass:B,setPinnedTopBottomOverflowY:U,setCellSelectableCss:(Ie,Be)=>ee(Be?Ie:null),setBodyViewportWidth:Ie=>{z.current&&(z.current.style.width=Ie)},registerBodyViewportResizeListener:Ie=>{if(z.current){const Be=gl(e,z.current,Ie);Te.current.push(()=>Be())}},setStickyBottomHeight:R,setStickyBottomBottom:D,setStickyBottomWidth:k,setGridRootRole:Ie=>Et.setAttribute("role",Ie)},ye=t.createBean(new cme);Ae.current.push(ye),ye.setComp(ne,Et,z.current,pe.current,ge.current,F.current,X.current)},[]),Ke=b.useMemo(()=>Ns("ag-root","ag-unselectable",ie),[ie]),Ue=b.useMemo(()=>Ns("ag-body-viewport",r,ie,N,G),[r,ie,N,G]),rt=b.useMemo(()=>Ns("ag-body",ie),[ie]),dt=b.useMemo(()=>Ns("ag-floating-top",O?"ag-invisible":null,G),[G,O]),yt=b.useMemo(()=>Ns("ag-sticky-top",G),[G]),Ot=b.useMemo(()=>Ns("ag-sticky-bottom",S==="0px"?"ag-invisible":null,G),[G,S]),Oe=b.useMemo(()=>Ns("ag-floating-bottom",_?"ag-invisible":null,G),[G,_]),Ne=b.useMemo(()=>({height:s,minHeight:s,overflowY:H}),[s,H]),Ze=b.useMemo(()=>({height:u,top:f,width:v}),[u,f,v]),Ve=b.useMemo(()=>({height:S,bottom:x,width:T}),[S,x,T]),Je=b.useMemo(()=>({height:a,minHeight:a,overflowY:H}),[a,H]),Tt=Et=>K.createElement(UDe,{name:Et,key:`${Et}-container`}),at=({section:Et,children:Rt,className:Mt,style:vn})=>K.createElement("div",{ref:Et,className:Mt,role:"presentation",style:vn},Rt.map(Tt));return K.createElement("div",{ref:ut,className:Ke},K.createElement(IDe,null),at({section:pe,className:dt,style:Ne,children:["topLeft","topCenter","topRight","topFullWidth"]}),K.createElement("div",{className:rt,ref:re,role:"presentation"},at({section:z,className:Ue,children:["left","center","right","fullWidth"]})),at({section:F,className:yt,style:Ze,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),at({section:X,className:Ot,style:Ve,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),at({section:ge,className:Oe,style:Je,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},WDe=b.memo(jDe),$De=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=b.useContext(ui),u=b.useRef(null),h=b.useRef(null),f=b.useRef(),g=x=>{const D=x==null?void 0:parseInt(x,10).toString();[u,h].forEach(T=>{D===void 0?T.current?.removeAttribute("tabindex"):T.current?.setAttribute("tabindex",D)})};b.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){f.current?.forceFocusOutOfContainer(x)}}));const v=b.useCallback(()=>{const x=u.current,D=h.current;if(!x&&!D){f.current=l.destroyBean(f.current);return}if(x&&D){const T={setTabIndex:g};f.current=l.createBean(new y6({comp:T,eTopGuard:x,eBottomGuard:D,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:k=>s.focusInnerElement(k),isEmpty:a}))}},[]),C=b.useCallback(x=>{u.current=x,v()},[v]),S=b.useCallback(x=>{h.current=x,v()},[v]),R=x=>{const D=x==="top"?Jh.TAB_GUARD_TOP:Jh.TAB_GUARD_BOTTOM;return K.createElement("div",{className:`${Jh.TAB_GUARD} ${D}`,role:"presentation",ref:x==="top"?C:S})};return K.createElement(K.Fragment,null,R("top"),n,R("bottom"))},qDe=b.forwardRef($De),KDe=b.memo(qDe),YDe=({context:e})=>{const[t,n]=b.useState(""),[r,i]=b.useState(""),[s,o]=b.useState(null),[a,l]=b.useState(null),[u,h]=b.useState(!1),[f,g]=b.useState(),v=b.useRef(),C=b.useRef(null),S=b.useRef(),[R,x]=b.useState(null),D=b.useRef(()=>{}),T=b.useRef(),k=b.useRef([]),O=b.useCallback(()=>{},[]),P=b.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Du(" AG Grid ",C);const _=b.useCallback(G=>{if(C.current=G,v.current=G?e.createBean(new mve):e.destroyBean(v.current),!G||e.isDestroyed())return;const ee=v.current;D.current=ee.focusInnerElement.bind(ee);const ie={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:$=>{if(!$&&T.current?.isDisplayed()){T.current.forceFocusOutOfContainer($);return}S.current?.forceFocusOutOfContainer($)},updateLayoutClasses:i,getFocusableContainers:()=>{const $=[],Z=C.current?.querySelector(".ag-root");return Z&&$.push({getGui:()=>Z}),k.current.forEach(te=>{te.isDisplayed()&&$.push(te)}),$},setCursor:o,setUserSelect:l};ee.setComp(ie,G,G),h(!0)},[]);b.useEffect(()=>{const G=v.current,ee=C.current;if(!f||!P||!G||!R||!ee||e.isDestroyed())return;const ie=[],{watermarkSelector:$,paginationSelector:Z,sideBarSelector:te,statusBarSelector:pe,gridHeaderDropZonesSelector:F}=G.getOptionalSelectors(),X=[];if(F){const z=e.createBean(new F.component),ge=z.getGui();ee.insertAdjacentElement("afterbegin",ge),X.push(ge),ie.push(z)}if(te){const z=e.createBean(new te.component),ge=z.getGui(),Ae=R.querySelector(".ag-tab-guard-bottom");Ae&&(Ae.insertAdjacentElement("beforebegin",ge),X.push(ge)),ie.push(z),k.current.push(z)}const re=z=>{const ge=e.createBean(new z),Ae=ge.getGui();return ee.insertAdjacentElement("beforeend",Ae),X.push(Ae),ie.push(ge),ge};if(pe&&re(pe.component),Z){const z=re(Z.component);T.current=z,k.current.push(z)}return $&&re($.component),()=>{e.destroyBeans(ie),X.forEach(z=>{z.parentElement?.removeChild(z)})}},[f,R,P]);const M=b.useMemo(()=>Ns("ag-root-wrapper",t,r),[t,r]),N=b.useMemo(()=>Ns("ag-root-wrapper-body","ag-focus-managed",r),[r]),B=b.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),H=b.useCallback(G=>{S.current=G,g(G!==null)},[]),U=b.useCallback(()=>!v.current?.isFocusable(),[]);return K.createElement("div",{ref:_,className:M,style:B,role:"presentation"},K.createElement("div",{className:N,ref:x,role:"presentation"},u&&R&&P&&K.createElement(ui.Provider,{value:P},K.createElement(KDe,{ref:H,eFocusableElement:R,onTabKeyDown:O,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:U},K.createElement(WDe,null)))))},XDe=b.memo(YDe),QDe=class extends me{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},O$={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},ZDe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...O$},L$=new Set(Object.keys(ZDe)),JDe=new Set(Object.keys(O$)),N$=e=>{const t=b.useRef(),n=b.useRef(null),r=b.useRef(null),i=b.useRef([]),s=b.useRef([]),o=b.useRef(e),a=b.useRef(),l=b.useRef(),u=b.useRef(!1),[h,f]=b.useState(void 0),[,g]=b.useState(0),v=b.useCallback(x=>{if(n.current=x,!x){i.current.forEach(H=>H()),i.current.length=0;return}const D=e.modules||[];r.current||(r.current=new yDe(()=>g(H=>H+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));const T=Khe(e.gridOptions,e,Object.keys(e).filter(H=>!L$.has(H))),k=()=>{if(u.current){const H=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let U=H();for(;U;)U(),U=H()}},O=new rAe(k);a.current=O;const P=new QDe,_={providedBeanInstances:{frameworkCompWrapper:new tAe(r.current,T),renderStatus:P},modules:D,frameworkOverrides:O,setThemeOnGridDiv:!0},M=H=>{f(H),H.createBean(P),i.current.push(()=>{H.destroy()}),H.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{i.current.push(U)}},()=>{if(H.isDestroyed())return;const U=t.current;U&&e.passGridApi?.(U)})},N=H=>{H.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{i.current.push(U)}},()=>{s.current.forEach(U=>U()),s.current.length=0,u.current=!0})},B=new SSe;T.gridId??(T.gridId=l.current),t.current=B.create(x,T,M,N,_),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),C=b.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),S=b.useCallback(x=>{u.current&&!a.current?.shouldQueueUpdates()?x():s.current.push(x)},[]);b.useEffect(()=>{const x=eAe(o.current,e);o.current=e,S(()=>{t.current&&Yhe(x,t.current)})},[e]);const R=!K.useSyncExternalStore||Aw(e,"renderingMode")==="legacy"?"legacy":"default";return K.createElement("div",{style:C,className:e.className,ref:v},K.createElement(A$.Provider,{value:R},h&&!h.isDestroyed()?K.createElement(XDe,{context:h}):null,r.current?.getPortals()??null))};function eAe(e,t){const n={};return Object.keys(t).forEach(r=>{if(L$.has(r)){JDe.has(r)&&xe(274,{prop:r});return}const i=t[r];e[r]!==i&&(n[r]=i)}),n}var tAe=class extends TSe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(Aw(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return Aw(n,"enableFilterHandlers")?aDe:oDe;case"floatingFilterComponent":return Aw(n,"enableFilterHandlers")?uDe:cDe;case"dateComponent":return iDe;case"dragAndDropImageComponent":return sDe;case"loadingOverlayComponent":return hDe;case"noRowsOverlayComponent":return pDe;case"statusPanel":return gDe;case"toolPanel":return mDe;case"menuItem":return fDe;case"cellRenderer":return rDe;case"innerHeaderComponent":return dDe}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":k1();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new M$(e,this.parent,t,i)}},nAe=b.forwardRef((e,t)=>{const n=b.useContext(ui),{registry:r,context:i,gos:s,rowModel:o}=n,[a,l]=b.useState(()=>new Gs),[u,h]=b.useState(()=>new Gs),[f,g]=b.useState(),[v,C]=b.useState(),S=b.useRef(),R=b.useRef(null),x=b.useRef(),D=b.useMemo(()=>gpe(e.api.getGridId(),f?.rowModelType??"clientSide"),[e]),T=b.useMemo(()=>a.toString()+" ag-details-row",[a]),k=b.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&b.useImperativeHandle(t,()=>({refresh(){return S.current?.refresh()??!1}})),e.template&&xe(230);const O=b.useCallback(_=>{if(R.current=_,!_){S.current=i.destroyBean(S.current),x.current?.();return}const M={toggleCss:(B,H)=>l(U=>U.setClass(B,H)),toggleDetailGridCss:(B,H)=>h(U=>U.setClass(B,H)),setDetailGrid:B=>g(B),setRowData:B=>C(B),getGui:()=>R.current},N=r.createDynamicBean("detailCellRendererCtrl",!0);if(N&&(i.createBean(N),N.init(M,e),S.current=N,s.get("detailRowAutoHeight"))){const B=()=>{if(R.current==null)return;const H=R.current.clientHeight;H!=null&&H>0&&setTimeout(()=>{e.node.setRowHeight(H),(fr(s)||xd(s))&&o.onRowHeightChanged()},0)};x.current=gl(n,_,B),B()}},[]),P=b.useCallback(_=>{S.current?.registerDetailWithMaster(_)},[]);return K.createElement("div",{className:T,ref:O},f&&K.createElement(N$,{className:k,...f,modules:D,rowData:v,passGridApi:P}))}),rAe=class extends C6{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:z2,agGroupRowRenderer:z2,agDetailCellRenderer:nAe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?QTe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return XTe()}},iAe=class extends b.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return K.createElement(N$,{...this.props,passGridApi:this.setGridApi})}};const O1=tE(e=>({users:[],setUsers:t=>e({users:t}),addUser:t=>e(n=>({users:[...n.users,t]})),showForm:!1,setShowForm:t=>e({showForm:t})})),sAe=()=>I.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:I.jsx(fo,{animation:"border",size:"sm"})}),oAe=()=>{const e=b.useRef(null),{users:t,setUsers:n}=O1(),[r,i]=b.useState(""),[s,o]=b.useState(!0),a=b.useCallback(f=>{f.api.sizeColumnsToFit()},[]),[l]=b.useState([{field:"name",headerName:"Nombre",flex:2,minWidth:150,sortable:!0,filter:!0,cellStyle:{fontWeight:"500"}},{field:"email",headerName:"Correo Electrónico",flex:3,minWidth:200,sortable:!0,filter:!0},{field:"role",headerName:"Rol",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:f=>{const g=f.value,v=g==="TEACHER"?"badge bg-primary":"badge bg-success",C=g==="TEACHER"?"Profesor":"Estudiante";return I.jsx("span",{className:v,children:C})}}]),u={sortable:!0,filter:!0,resizable:!0,cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}},h=b.useCallback(f=>{const g=f.target.value;i(g)},[]);return b.useEffect(()=>{if(o(!0),t.length>0){o(!1);return}v5().then(f=>{if(f.length===0){o(!1);return}n(f),o(!1)})},[n,o,t]),I.jsx(Em,{fluid:!0,className:"p-0",children:I.jsxs(hr,{className:"shadow-sm border-0",children:[I.jsx(hr.Header,{className:"bg-white border-bottom",children:I.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(Xa,{size:24,className:"text-primary me-2"}),I.jsxs("div",{children:[I.jsx("h5",{className:"mb-0 fw-bold",children:"Gestión de Usuarios"}),I.jsxs("small",{className:"text-muted",children:[t.length," usuario",t.length!==1?"s":""," ","registrado",t.length!==1?"s":""]})]})]}),I.jsx("div",{style:{width:"300px"},children:I.jsxs(Pu,{className:"search-input-group",children:[I.jsx(Pu.Text,{className:"bg-light border-end-0",children:I.jsx(_P,{size:16,className:"text-muted"})}),I.jsx(Yt.Control,{type:"text",placeholder:"Buscar usuarios...",value:r,onChange:h,className:"border-start-0 ps-2",style:{boxShadow:"none",borderColor:"#dee2e6"}})]})})]})}),I.jsx(hr.Body,{className:"p-0",children:I.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:I.jsx(iAe,{ref:e,rowData:t,columnDefs:l,defaultColDef:u,onGridReady:a,quickFilterText:r,animateRows:!0,rowSelection:"multiple",rowHeight:50,headerHeight:45,suppressCellFocus:!0,suppressRowHoverHighlight:!1,domLayout:"normal",suppressMovableColumns:!0,loading:s,loadingOverlayComponent:sAe,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:100}})})})]})})},aAe=({onSubmit:e})=>{const{addUser:t,setShowForm:n}=O1(),[r,i]=b.useState(!1),[s,o]=b.useState({id:"",name:"",email:"",role:Fn.STUDENT}),[a,l]=b.useState(!1),u=async f=>{f.preventDefault(),f.currentTarget.checkValidity()===!1?f.stopPropagation():(i(!0),e(s).then(v=>{t(v),l(!0),n(!1),sn.success("Usuario creado correctamente",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",transition:x5})}).catch(v=>{sn.error(D5(v),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{i(!1)}))},h=f=>{const{name:g,value:v}=f.target;o({...s,[g]:v})};return I.jsxs(Yt,{noValidate:!0,validated:a,onSubmit:u,className:"p-2",children:[I.jsxs(pf,{className:"g-3",children:[I.jsx(Yo,{xs:12,children:I.jsx(Yt.Group,{controlId:"formUserName",children:I.jsxs(Pu,{hasValidation:!0,children:[I.jsx(Pu.Text,{children:I.jsx(LP,{size:18,className:"text-muted"})}),I.jsxs(nb,{label:"Nombre completo",children:[I.jsx(Yt.Control,{type:"text",name:"name",placeholder:"Nombre completo",value:s.name,onChange:h,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),I.jsx(Yt.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre."})]})]})})}),I.jsx(Yo,{xs:12,children:I.jsx(Yt.Group,{controlId:"formUserEmail",children:I.jsxs(Pu,{hasValidation:!0,children:[I.jsx(Pu.Text,{children:I.jsx(Jte,{size:18,className:"text-muted"})}),I.jsxs(nb,{label:"Correo electrónico",children:[I.jsx(Yt.Control,{type:"email",name:"email",placeholder:"Correo electrónico",value:s.email,onChange:h,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),I.jsx(Yt.Control.Feedback,{type:"invalid",children:"Por favor, introduce un correo válido."})]})]})})})]}),I.jsxs(Zw,{variant:"info",className:"mt-4 d-flex align-items-center",children:[I.jsx(qte,{size:24,className:"me-3"}),I.jsxs("div",{children:[I.jsx(Zw.Heading,{as:"h6",className:"mb-1 fw-bold",children:"Generación de Contraseña"}),I.jsx("p",{className:"mb-0 small",children:"La contraseña se creará automáticamente con los 3 primeros caracteres del nombre y del correo."})]})]}),I.jsx("div",{className:"d-grid mt-4",children:I.jsx(nr,{variant:"primary",type:"submit",size:"lg",disabled:r,children:r?I.jsx(fo,{animation:"border",size:"sm",className:"me-2"}):I.jsxs(I.Fragment,{children:[I.jsx(une,{size:16,className:"me-2"}),"Crear Usuario"]})})})]})},lAe=()=>{const{showForm:e,setShowForm:t}=O1();return I.jsxs("div",{children:[I.jsxs(nr,{variant:"outline-success",onClick:()=>t(!0),className:"mb-3",children:[I.jsx(Pv,{size:16,className:"me-2"}),"Agregar Usuario"]}),I.jsx(oAe,{}),e&&I.jsxs(On,{show:e,onHide:()=>t(!1),children:[I.jsx(On.Header,{closeButton:!0,children:I.jsx(On.Title,{children:"Agregar Usuario"})}),I.jsx(On.Body,{children:I.jsx(aAe,{onSubmit:tde})})]}),I.jsx(T5,{})]})};function Si(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cAe=typeof Symbol=="function"&&Symbol.observable||"@@observable",q2=cAe,K2=()=>Math.random().toString(36).substring(7).split("").join("."),uAe={INIT:`@@redux/INIT${K2()}`,REPLACE:`@@redux/REPLACE${K2()}`},Y2=uAe;function dAe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function V$(e,t,n){if(typeof e!="function")throw new Error(Si(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Si(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Si(1));return n(V$)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((R,x)=>{o.set(x,R)}))}function h(){if(l)throw new Error(Si(3));return i}function f(R){if(typeof R!="function")throw new Error(Si(4));if(l)throw new Error(Si(5));let x=!0;u();const D=a++;return o.set(D,R),function(){if(x){if(l)throw new Error(Si(6));x=!1,u(),o.delete(D),s=null}}}function g(R){if(!dAe(R))throw new Error(Si(7));if(typeof R.type>"u")throw new Error(Si(8));if(typeof R.type!="string")throw new Error(Si(17));if(l)throw new Error(Si(9));try{l=!0,i=r(i,R)}finally{l=!1}return(s=o).forEach(D=>{D()}),R}function v(R){if(typeof R!="function")throw new Error(Si(10));r=R,g({type:Y2.REPLACE})}function C(){const R=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Si(11));function D(){const k=x;k.next&&k.next(h())}return D(),{unsubscribe:R(D)}},[q2](){return this}}}return g({type:Y2.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:v,[q2]:C}}function X2(e,t){return function(...n){return t(e.apply(this,n))}}function Q2(e,t){if(typeof e=="function")return X2(e,t);if(typeof e!="object"||e===null)throw new Error(Si(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=X2(i,t))}return n}function B$(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function hAe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Si(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=B$(...a)(i.dispatch),{...i,dispatch:s}}}var Bx={exports:{}},Hx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function fAe(){if(Z2)return Hx;Z2=1;var e=dS();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return Hx.useSyncExternalStoreWithSelector=function(l,u,h,f,g){var v=i(null);if(v.current===null){var C={hasValue:!1,value:null};v.current=C}else C=v.current;v=o(function(){function R(O){if(!x){if(x=!0,D=O,O=f(O),g!==void 0&&C.hasValue){var P=C.value;if(g(P,O))return T=P}return T=O}if(P=T,n(D,O))return P;var _=f(O);return g!==void 0&&g(P,_)?(D=O,P):(D=O,T=_)}var x=!1,D,T,k=h===void 0?null:h;return[function(){return R(u())},k===null?void 0:function(){return R(k())}]},[u,h,f,g]);var S=r(l,v[0],v[1]);return s(function(){C.hasValue=!0,C.value=S},[S]),a(S),S},Hx}var J2;function pAe(){return J2||(J2=1,Bx.exports=fAe()),Bx.exports}pAe();var gAe=b.version.startsWith("19"),mAe=Symbol.for(gAe?"react.transitional.element":"react.element"),vAe=Symbol.for("react.portal"),yAe=Symbol.for("react.fragment"),CAe=Symbol.for("react.strict_mode"),wAe=Symbol.for("react.profiler"),bAe=Symbol.for("react.consumer"),SAe=Symbol.for("react.context"),H$=Symbol.for("react.forward_ref"),EAe=Symbol.for("react.suspense"),RAe=Symbol.for("react.suspense_list"),L1=Symbol.for("react.memo"),xAe=Symbol.for("react.lazy"),TAe=H$,DAe=L1;function AAe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case mAe:switch(e=e.type,e){case yAe:case wAe:case CAe:case EAe:case RAe:return e;default:switch(e=e&&e.$$typeof,e){case SAe:case H$:case xAe:case L1:return e;case bAe:return e;default:return t}}case vAe:return t}}}function PAe(e){return AAe(e)===L1}function IAe(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,h,f,g;function v(D,T){return l=D,u=T,h=e(l,u),f=t(r,u),g=n(h,f,u),a=!0,g}function C(){return h=e(l,u),t.dependsOnOwnProps&&(f=t(r,u)),g=n(h,f,u),g}function S(){return e.dependsOnOwnProps&&(h=e(l,u)),t.dependsOnOwnProps&&(f=t(r,u)),g=n(h,f,u),g}function R(){const D=e(l,u),T=!o(D,h);return h=D,T&&(g=n(h,f,u)),g}function x(D,T){const k=!s(T,u),O=!i(D,l,T,u);return l=D,u=T,k&&O?C():k?S():O?R():g}return function(T,k){return a?x(T,k):v(T,k)}}function FAe(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),o=n(e,i),a=r(e,i);return IAe(s,o,a,e,i)}function MAe(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function tA(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function eB(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function G$(e,t){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=eB(e);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=eB(u),u=s(a,l)),u},s}}function N1(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function _Ae(e){return e&&typeof e=="object"?tA(t=>MAe(e,t)):e?typeof e=="function"?G$(e):N1(e,"mapDispatchToProps"):tA(t=>({dispatch:t}))}function kAe(e){return e?typeof e=="function"?G$(e):N1(e,"mapStateToProps"):tA(()=>({}))}function OAe(e,t,n){return{...n,...e,...t}}function LAe(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,u,h){const f=e(l,u,h);return s?i(f,o)||(o=f):(s=!0,o=f),o}}}function NAe(e){return e?typeof e=="function"?LAe(e):N1(e,"mergeProps"):()=>OAe}function VAe(e){e()}function BAe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){VAe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var tB={notify(){},get:()=>[]};function z$(e,t){let n,r=tB,i=0,s=!1;function o(S){h();const R=r.subscribe(S);let x=!1;return()=>{x||(x=!0,R(),f())}}function a(){r.notify()}function l(){C.onStateChange&&C.onStateChange()}function u(){return s}function h(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=BAe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=tB)}function g(){s||(s=!0,h())}function v(){s&&(s=!1,f())}const C={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return C}var HAe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GAe=HAe(),zAe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UAe=zAe(),jAe=()=>GAe||UAe?b.useLayoutEffect:b.useEffect,Yb=jAe();function nB(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Gx(e,t){if(nB(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!nB(e[n[i]],t[n[i]]))return!1;return!0}var WAe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$Ae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qAe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KAe={[TAe]:qAe,[DAe]:U$};function rB(e){return PAe(e)?U$:KAe[e.$$typeof]||WAe}var YAe=Object.defineProperty,XAe=Object.getOwnPropertyNames,iB=Object.getOwnPropertySymbols,QAe=Object.getOwnPropertyDescriptor,ZAe=Object.getPrototypeOf,sB=Object.prototype;function nA(e,t){if(typeof t!="string"){if(sB){const s=ZAe(t);s&&s!==sB&&nA(e,s)}let n=XAe(t);iB&&(n=n.concat(iB(t)));const r=rB(e),i=rB(t);for(let s=0;s<n.length;++s){const o=n[s];if(!$Ae[o]&&!(i&&i[o])&&!(r&&r[o])){const a=QAe(t,o);try{YAe(e,o,a)}catch{}}}}return e}var JAe=Symbol.for("react-redux-context"),ePe=typeof globalThis<"u"?globalThis:{};function tPe(){if(!b.createContext)return{};const e=ePe[JAe]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var j$=tPe(),nPe=[null,null];function rPe(e,t,n){Yb(()=>e(...t),n)}function iPe(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function sPe(e,t,n,r,i,s,o,a,l,u,h){if(!e)return()=>{};let f=!1,g=null;const v=()=>{if(f||!a.current)return;const S=t.getState();let R,x;try{R=r(S,i.current)}catch(D){x=D,g=D}x||(g=null),R===s.current?o.current||u():(s.current=R,l.current=R,o.current=!0,h())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function oPe(e,t){return e===t}function aPe(e,t,n,{pure:r,areStatesEqual:i=oPe,areOwnPropsEqual:s=Gx,areStatePropsEqual:o=Gx,areMergedPropsEqual:a=Gx,forwardRef:l=!1,context:u=j$}={}){const h=u,f=kAe(e),g=_Ae(t),v=NAe(n),C=!!e;return R=>{const x=R.displayName||R.name||"Component",D=`Connect(${x})`,T={shouldHandleStateChanges:C,displayName:D,wrappedComponentName:x,WrappedComponent:R,initMapStateToProps:f,initMapDispatchToProps:g,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function k(_){const[M,N,B]=b.useMemo(()=>{const{reactReduxForwardedRef:yt,...Ot}=_;return[_.context,yt,Ot]},[_]),H=b.useMemo(()=>{let yt=h;return M?.Consumer,yt},[M,h]),U=b.useContext(H),G=!!_.store&&!!_.store.getState&&!!_.store.dispatch,ee=!!U&&!!U.store,ie=G?_.store:U.store,$=ee?U.getServerState:ie.getState,Z=b.useMemo(()=>FAe(ie.dispatch,T),[ie]),[te,pe]=b.useMemo(()=>{if(!C)return nPe;const yt=z$(ie,G?void 0:U.subscription),Ot=yt.notifyNestedSubs.bind(yt);return[yt,Ot]},[ie,G,U]),F=b.useMemo(()=>G?U:{...U,subscription:te},[G,U,te]),X=b.useRef(void 0),re=b.useRef(B),z=b.useRef(void 0),ge=b.useRef(!1),Ae=b.useRef(!1),Te=b.useRef(void 0);Yb(()=>(Ae.current=!0,()=>{Ae.current=!1}),[]);const ut=b.useMemo(()=>()=>z.current&&B===re.current?z.current:Z(ie.getState(),B),[ie,B]),Ke=b.useMemo(()=>Ot=>te?sPe(C,ie,te,Z,re,X,ge,Ae,z,pe,Ot):()=>{},[te]);rPe(iPe,[re,X,ge,B,z,pe]);let Ue;try{Ue=b.useSyncExternalStore(Ke,ut,$?()=>Z($(),B):ut)}catch(yt){throw Te.current&&(yt.message+=`
The error may be correlated with this previous error:
${Te.current.stack}

`),yt}Yb(()=>{Te.current=void 0,z.current=void 0,X.current=Ue});const rt=b.useMemo(()=>b.createElement(R,{...Ue,ref:N}),[N,R,Ue]);return b.useMemo(()=>C?b.createElement(H.Provider,{value:F},rt):rt,[H,rt,F])}const P=b.memo(k);if(P.WrappedComponent=R,P.displayName=k.displayName=D,l){const M=b.forwardRef(function(B,H){return b.createElement(P,{...B,reactReduxForwardedRef:H})});return M.displayName=D,M.WrappedComponent=R,nA(M,R)}return nA(P,R)}}var W$=aPe;function lPe(e){const{children:t,context:n,serverState:r,store:i}=e,s=b.useMemo(()=>{const l=z$(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=b.useMemo(()=>i.getState(),[i]);Yb(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||j$;return b.createElement(a.Provider,{value:s},t)}var cPe=lPe,uPe="Invariant failed";function dPe(e,t){throw new Error(uPe)}var co=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},V1=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},oB=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},hPe=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},zx={top:0,right:0,bottom:0,left:0},B1=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?zx:r,s=t.border,o=s===void 0?zx:s,a=t.padding,l=a===void 0?zx:a,u=co(V1(n,i)),h=co(oB(n,o)),f=co(oB(h,l));return{marginBox:u,borderBox:co(n),paddingBox:h,contentBox:f,margin:i,border:o,padding:l}},Fs=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&dPe(),i},fPe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Xb=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,a=hPe(r,n);return B1({borderBox:a,border:i,margin:s,padding:o})},Qb=function(t,n){return n===void 0&&(n=fPe()),Xb(t,n)},$$=function(t,n){var r={top:Fs(n.marginTop),right:Fs(n.marginRight),bottom:Fs(n.marginBottom),left:Fs(n.marginLeft)},i={top:Fs(n.paddingTop),right:Fs(n.paddingRight),bottom:Fs(n.paddingBottom),left:Fs(n.paddingLeft)},s={top:Fs(n.borderTopWidth),right:Fs(n.borderRightWidth),bottom:Fs(n.borderBottomWidth),left:Fs(n.borderLeftWidth)};return B1({borderBox:t,margin:r,padding:i,border:s})},q$=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return $$(n,r)},Km=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function K$(e,t){}K$.bind(null,"warn");K$.bind(null,"error");function mc(){}function pPe(e,t){return{...e,...t}}function zs(e,t,n){const r=t.map(i=>{const s=pPe(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const gPe="Invariant failed";class Zb extends Error{}Zb.prototype.toString=function(){return this.message};function _e(e,t){throw new Zb(gPe)}class mPe extends K.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=mc,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Zb&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=zs(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Zb){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const vPe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Jb=e=>e+1,yPe=e=>`
  You have lifted an item in position ${Jb(e.source.index)}
`,Y$=(e,t)=>{const n=e.droppableId===t.droppableId,r=Jb(e.index),i=Jb(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},X$=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,CPe=e=>{const t=e.destination;if(t)return Y$(e.source,t);const n=e.combine;return n?X$(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},aB=e=>`
  The item has returned to its starting position
  of ${Jb(e.index)}
`,wPe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${aB(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${Y$(e.source,t)}
    `:n?`
      You have dropped the item.
      ${X$(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${aB(e.source)}
  `},Vw={dragHandleUsageInstructions:vPe,onDragStart:yPe,onDragUpdate:CPe,onDragEnd:wPe};function bPe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Q$(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!bPe(e[n],t[n]))return!1;return!0}function Wt(e,t){const n=b.useState(()=>({inputs:t,result:e()}))[0],r=b.useRef(!0),i=b.useRef(n),o=r.current||!!(t&&i.current.inputs&&Q$(t,i.current.inputs))?i.current:{inputs:t,result:e()};return b.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function tt(e,t){return Wt(()=>e,t)}const Vr={x:0,y:0},Qr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),cs=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),vc=(e,t)=>e.x===t.x&&e.y===t.y,Jf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),fd=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Ym=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),lB=(e,t)=>Math.min(...t.map(n=>Ym(e,n))),Z$=e=>t=>({x:e(t.x),y:e(t.y)});var SPe=(e,t)=>{const n=co({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Jv=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),cB=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],EPe={top:0,right:0,bottom:0,left:0},RPe=(e,t)=>t?Jv(e,t.scroll.diff.displacement):e,xPe=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,TPe=(e,t)=>t&&t.shouldClipSubject?SPe(t.pageMarginBox,e):co(e);var Pf=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=RPe(e.marginBox,r),s=xPe(i,n,t),o=TPe(s,r);return{page:e,withPlaceholder:t,active:o}},H1=(e,t)=>{e.frame||_e();const n=e.frame,r=cs(t,n.scroll.initial),i=Jf(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Pf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function Lr(e,t=Q$){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const J$=Lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),e9=Lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),vE=Lr(e=>Object.values(e)),DPe=Lr(e=>Object.values(e));var ep=Lr((e,t)=>DPe(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function G1(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function yE(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var CE=Lr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),APe=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!G1(i))return null;function o(v){const C={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...i,at:C}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const u=CE(t,r);if(!l){if(!u.length)return null;const v=u[u.length-1];return o(v.descriptor.id)}const h=u.findIndex(v=>v.descriptor.id===l);h===-1&&_e();const f=h-1;if(f<0)return null;const g=u[f];return o(g.descriptor.id)},tp=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const t9={point:Vr,value:0},Xm={invisible:{},visible:{},all:[]},PPe={displaced:Xm,displacedBy:t9,at:null};var js=(e,t)=>n=>e<=n&&n<=t,n9=e=>{const t=js(e.top,e.bottom),n=js(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return l&&u?!0:l&&o||u&&s}},IPe=e=>{const t=js(e.top,e.bottom),n=js(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const z1={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},r9={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var FPe=e=>t=>{const n=js(t.top,t.bottom),r=js(t.left,t.right);return i=>e===z1?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const MPe=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Vr;return Jv(e,n)},_Pe=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,kPe=(e,t,n)=>n(t)(e),U1=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?MPe(e,t):e;return _Pe(s,t,i)&&kPe(s,n,i)},OPe=e=>U1({...e,isVisibleThroughFrameFn:n9}),i9=e=>U1({...e,isVisibleThroughFrameFn:IPe}),LPe=e=>U1({...e,isVisibleThroughFrameFn:FPe(e.destination.axis)}),NPe=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const s=i[e];return s?s.shouldAnimate:!0};function VPe(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return co(V1(n,r))}function Qm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return e.reduce(function(a,l){const u=VPe(l,n),h=l.descriptor.id;if(a.all.push(h),!OPe({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const g=NPe(h,s,i),v={draggableId:h,shouldAnimate:g};return a.visible[h]=v,a},{all:[],visible:{},invisible:{}})}function BPe(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function uB({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=BPe(e,{inHomeList:t});return{displaced:Xm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function eS({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=tp(e,n);if(o==null)return uB({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const u=t.find(C=>C.descriptor.index===o);if(!u)return uB({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const h=CE(e,t),f=t.indexOf(u),g=h.slice(f);return{displaced:Qm({afterDragging:g,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Ic(e,t){return!!t.effected[e]}var HPe=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return Ic(s,i)?e?a:a-1:e?a+1:a},GPe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=e?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return s<o||s>l?null:s},zPe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const u=o.at;if(u||_e(),u.type==="REORDER"){const f=GPe({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:s});return f==null?null:eS({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:f})}const h=HPe({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:l});return h==null?null:eS({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})},UPe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Ic(n,t)?i?Vr:Jf(r.point):i?r.point:Vr},jPe=({afterCritical:e,impact:t,draggables:n})=>{const r=yE(t);r||_e();const i=r.draggableId,s=n[i].page.borderBox.center,o=UPe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Qr(s,o)};const s9=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,WPe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,j1=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,dB=({axis:e,moveRelativeTo:t,isMoving:n})=>fd(e.line,t.marginBox[e.end]+s9(e,n),j1(e,t.marginBox,n)),hB=({axis:e,moveRelativeTo:t,isMoving:n})=>fd(e.line,t.marginBox[e.start]-WPe(e,n),j1(e,t.marginBox,n)),$Pe=({axis:e,moveInto:t,isMoving:n})=>fd(e.line,t.contentBox[e.start]+s9(e,n),j1(e,t.contentBox,n));var qPe=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const s=ep(r.descriptor.id,n),o=t.page,a=r.axis;if(!s.length)return $Pe({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:u}=e,h=l.all[0];if(h){const g=n[h];if(Ic(h,i))return hB({axis:a,moveRelativeTo:g.page,isMoving:o});const v=Xb(g.page,u.point);return hB({axis:a,moveRelativeTo:v,isMoving:o})}const f=s[s.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Ic(f.descriptor.id,i)){const g=Xb(f.page,Jf(i.displacedBy.point));return dB({axis:a,moveRelativeTo:g,isMoving:o})}return dB({axis:a,moveRelativeTo:f.page,isMoving:o})},rA=(e,t)=>{const n=e.frame;return n?Qr(t,n.scroll.diff.displacement):t};const KPe=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?qPe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):jPe({impact:e,draggables:r,afterCritical:i})};var wE=e=>{const t=KPe(e),n=e.droppable;return n?rA(n,t):t},o9=(e,t)=>{const n=cs(t,e.scroll.initial),r=Jf(n);return{frame:co({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function fB(e,t){return e.map(n=>t[n])}function YPe(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var XPe=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const s=o9(t,Qr(t.scroll.current,i)),o=n.frame?H1(n,Qr(n.frame.scroll.current,i)):n,a=e.displaced,l=Qm({afterDragging:fB(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=Qm({afterDragging:fB(a.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),h={},f={},g=[a,l,u];return a.all.forEach(C=>{const S=YPe(C,g);if(S){f[C]=S;return}h[C]=!0}),{...e,displaced:{all:a.all,invisible:h,visible:f}}},QPe=(e,t)=>Qr(e.scroll.diff.displacement,t),W1=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=QPe(n,e),i=cs(r,t.page.borderBox.center);return Qr(t.client.borderBox.center,i)},a9=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=cs(n,e.page.borderBox.center),l={target:Jv(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return s?LPe(l):i9(l)},ZPe=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=ep(n.descriptor.id,r),h=tp(t,n),f=APe({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:i})||zPe({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:s,afterCritical:l});if(!f)return null;const g=wE({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:l});if(a9({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:W1({pageBorderBoxCenter:g,draggable:t,viewport:s}),impact:f,scrollJumpRequest:null};const C=cs(g,o),S=XPe({impact:f,viewport:s,destination:n,draggables:r,maxScrollChange:C});return{clientSelection:a,impact:S,scrollJumpRequest:C}};const bi=e=>{const t=e.subject.active;return t||_e(),t};var JPe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=js(s[o.start],s[o.end]),l=vE(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>n9(i.frame)(bi(h))).filter(h=>{const f=bi(h);return e?s[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<s[o.crossAxisStart]}).filter(h=>{const f=bi(h),g=js(f[o.start],f[o.end]);return a(f[o.start])||a(f[o.end])||g(s[o.start])||g(s[o.end])}).sort((h,f)=>{const g=bi(h)[o.crossAxisStart],v=bi(f)[o.crossAxisStart];return e?g-v:v-g}).filter((h,f,g)=>bi(h)[o.crossAxisStart]===bi(g[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(h=>js(bi(h)[o.start],bi(h)[o.end])(t[o.line]));return u.length===1?u[0]:u.length>1?u.sort((h,f)=>bi(h)[o.start]-bi(f)[o.start])[0]:l.sort((h,f)=>{const g=lB(t,cB(bi(h))),v=lB(t,cB(bi(f)));return g!==v?g-v:bi(h)[o.start]-bi(f)[o.start]})[0]};const pB=(e,t)=>{const n=e.page.borderBox.center;return Ic(e.descriptor.id,t)?cs(n,t.displacedBy.point):n},eIe=(e,t)=>{const n=e.page.borderBox;return Ic(e.descriptor.id,t)?Jv(n,Jf(t.displacedBy.point)):n};var tIe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>i9({target:eIe(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=Ym(e,rA(n,pB(o,i))),u=Ym(e,rA(n,pB(a,i)));return l<u?-1:u<l?1:o.descriptor.index-a.descriptor.index})[0]||null,ey=Lr(function(t,n){const r=n[t.line];return{value:r,point:fd(t.line,r)}});const nIe=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return fd(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=ep(e.descriptor.id,n).reduce((u,h)=>u+h.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:fd(r.line,l)},l9=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),c9=(e,t,n)=>{const r=e.frame;tp(t,e)&&_e(),e.subject.withPlaceholder&&_e();const i=ey(e.axis,t.displaceBy).point,s=nIe(e,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Pf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const a=s?Qr(r.scroll.max,s):r.scroll.max,l=l9(r,a),u=Pf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:u,frame:l}},rIe=e=>{const t=e.subject.withPlaceholder;t||_e();const n=e.frame;if(!n){const o=Pf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||_e();const i=l9(n,r),s=Pf({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:s,frame:i}};var iIe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!t){if(n.length)return null;const f={displaced:Xm,displacedBy:t9,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},g=wE({impact:f,draggable:r,droppable:s,draggables:i,afterCritical:a}),v=tp(r,s)?s:c9(s,r,i);return a9({draggable:r,destination:v,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?f:f+1})(),h=ey(s.axis,r.displaceBy);return eS({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:h,last:Xm,index:u})},sIe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=JPe({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:o});if(!l)return null;const u=ep(l.descriptor.id,i),h=tIe({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:u,afterCritical:a}),f=iIe({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:u,viewport:o,afterCritical:a});if(!f)return null;const g=wE({impact:f,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:W1({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null}},ps=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const oIe=(e,t)=>{const n=ps(e);return n?t[n]:null};var aIe=({state:e,type:t})=>{const n=oIe(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:f,droppables:g}=e.dimensions;return a?ZPe({isMovingForward:l,previousPageBorderBoxCenter:h,draggable:u,destination:s,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):sIe({isMovingForward:l,previousPageBorderBoxCenter:h,draggable:u,isOver:s,draggables:f,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Ru(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function u9(e){const t=js(e.top,e.bottom),n=js(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function lIe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function cIe({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=fd(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Ym(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function uIe({pageBorderBox:e,draggable:t,droppables:n}){const r=vE(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!lIe(e,s))return!1;if(u9(s)(e.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=e[o.crossAxisStart],u=e[o.crossAxisEnd],h=js(s[o.crossAxisStart],s[o.crossAxisEnd]),f=h(l),g=h(u);return!f&&!g?!0:f?l<a:u>a});return r.length?r.length===1?r[0].descriptor.id:cIe({pageBorderBox:e,draggable:t,candidates:r}):null}const d9=(e,t)=>co(Jv(e,t));var dIe=(e,t)=>{const n=e.frame;return n?d9(t,n.scroll.diff.value):t};function h9({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function hIe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var fIe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=ey(n.axis,t.displaceBy),u=l.value,h=e[a.start],f=e[a.end],v=CE(t,r).find(S=>{const R=S.descriptor.id,x=S.page.borderBox.center[a.line],D=Ic(R,o),T=h9({displaced:i,id:R});return D?T?f<=x:h<x-u:T?f<=x+u:h<x})||null,C=hIe({draggable:t,closest:v,inHomeList:tp(t,n)});return eS({draggable:t,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:C})};const pIe=4;var gIe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=ey(r.axis,e.displaceBy),l=a.value,u=t[o.start],h=t[o.end],g=CE(e,i).find(C=>{const S=C.descriptor.id,R=C.page.borderBox,D=R[o.size]/pIe,T=Ic(S,s),k=h9({displaced:n.displaced,id:S});return T?k?h>R[o.start]+D&&h<R[o.end]-D:u>R[o.start]-l+D&&u<R[o.end]-l-D:k?h>R[o.start]+l+D&&h<R[o.end]+l-D:u>R[o.start]+D&&u<R[o.end]-D});return g?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},f9=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=d9(t.page.borderBox,e),l=uIe({pageBorderBox:a,draggable:t,droppables:r});if(!l)return PPe;const u=r[l],h=ep(u.descriptor.id,n),f=dIe(u,a);return gIe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:i,destination:u,insideDestination:h,afterCritical:o})||fIe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:h,last:i.displaced,viewport:s,afterCritical:o})},$1=(e,t)=>({...e,[t.descriptor.id]:t});const mIe=({previousImpact:e,impact:t,droppables:n})=>{const r=ps(e),i=ps(t);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=rIe(s);return $1(n,o)};var vIe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const s=mIe({previousImpact:r,impact:i,droppables:n}),o=ps(i);if(!o)return s;const a=n[o];if(tp(e,a)||a.subject.withPlaceholder)return s;const l=c9(a,e,t);return $1(s,l)},rm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,u=cs(l,e.initial.client.selection),h={offset:u,selection:l,borderBoxCenter:Qr(e.initial.client.borderBoxCenter,u)},f={selection:Qr(h.selection,o.scroll.current),borderBoxCenter:Qr(h.borderBoxCenter,o.scroll.current),offset:Qr(h.offset,o.scroll.diff.value)},g={client:h,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:g};const v=a.draggables[e.critical.draggable.id],C=i||f9({pageOffset:f.offset,draggable:v,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),S=vIe({draggable:v,impact:C,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:g,dimensions:{draggables:a.draggables,droppables:S},impact:C,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function yIe(e,t){return e.map(n=>t[n])}var p9=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=e.displaced,o=yIe(s.all,n),a=Qm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:s});return{...e,displaced:a}},g9=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=wE({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return W1({pageBorderBoxCenter:o,draggable:t,viewport:i})},m9=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&_e();const r=e.impact,i=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:a}=s,l=o[e.critical.draggable.id],u=ps(r);u||_e();const h=a[u],f=p9({impact:r,viewport:i,destination:h,draggables:o}),g=g9({impact:f,draggable:l,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return rm({impact:f,clientSelection:g,state:e,dimensions:s,viewport:i})},CIe=e=>({index:e.index,droppableId:e.droppableId}),v9=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=ey(t.axis,e.displaceBy),s=ep(t.descriptor.id,n),o=s.indexOf(e);o===-1&&_e();const a=s.slice(o+1),l=a.reduce((g,v)=>(g[v.descriptor.id]=!0,g),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Qm({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:CIe(e.descriptor)}},afterCritical:u}},wIe=(e,t)=>({draggables:e.draggables,droppables:$1(e.droppables,t)}),bIe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Xb(e.client,t),i=Qb(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},SIe=e=>{const t=e.frame;return t||_e(),t},EIe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const s=i.descriptor.droppableId,o=t[s],l=SIe(o).scroll.diff.value,u=Qr(r,l);return bIe({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},RIe=({state:e,published:t})=>{const n=t.modified.map(x=>{const D=e.dimensions.droppables[x.droppableId];return H1(D,x.scroll)}),r={...e.dimensions.droppables,...J$(n)},i=e9(EIe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...i};t.removals.forEach(x=>{delete s[x]});const o={droppables:r,draggables:s},a=ps(e.impact),l=a?o.droppables[a]:null,u=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:g}=v9({draggable:u,home:h,draggables:s,viewport:e.viewport}),v=l&&l.isCombineEnabled?e.impact:f,C=f9({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:v,viewport:e.viewport,afterCritical:g}),S={...e,phase:"DRAGGING",impact:C,onLiftImpact:f,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const iA=e=>e.movementMode==="SNAP",Ux=(e,t,n)=>{const r=wIe(e.dimensions,t);return!iA(e)||n?rm({state:e,dimensions:r}):m9({state:e,dimensions:r})};function jx(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const gB={phase:"IDLE",completed:null,shouldFlush:!1};var xIe=(e=gB,t)=>{if(t.type==="FLUSH")return{...gB,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&_e();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Vr},h={client:u,page:{selection:Qr(u.selection,i.scroll.initial),borderBoxCenter:Qr(u.selection,i.scroll.initial),offset:Qr(u.selection,i.scroll.diff.value)}},f=vE(s.droppables).every(S=>!S.isFixedOnPage),{impact:g,afterCritical:v}=v9({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:h,current:h,isWindowScrollAllowed:f,impact:g,afterCritical:v,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&_e(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||_e(),RIe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ru(e)||_e();const{client:n}=t.payload;return vc(n,e.current.client.selection)?e:rm({state:e,clientSelection:n,impact:iA(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return jx(e);Ru(e)||_e();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const s=H1(i,r);return Ux(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ru(e)||_e();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||_e(),i.isEnabled===r&&_e();const s={...i,isEnabled:r};return Ux(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ru(e)||_e();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||_e(),i.isCombineEnabled===r&&_e();const s={...i,isCombineEnabled:r};return Ux(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ru(e)||_e(),e.isWindowScrollAllowed||_e();const n=t.payload.newScroll;if(vc(e.viewport.scroll.current,n))return jx(e);const r=o9(e.viewport,n);return iA(e)?m9({state:e,viewport:r}):rm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ru(e))return e;const n=t.payload.maxScroll;if(vc(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&_e();const n=aIe({state:e,type:t.type});return n?rm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&_e(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||_e(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function ln(e,t){return e instanceof Object&&"type"in e&&e.type===t}const TIe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),DIe=e=>({type:"LIFT",payload:e}),AIe=e=>({type:"INITIAL_PUBLISH",payload:e}),PIe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),IIe=()=>({type:"COLLECTION_STARTING",payload:null}),FIe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),MIe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),_Ie=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),y9=e=>({type:"MOVE",payload:e}),kIe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),OIe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),LIe=()=>({type:"MOVE_UP",payload:null}),NIe=()=>({type:"MOVE_DOWN",payload:null}),VIe=()=>({type:"MOVE_RIGHT",payload:null}),BIe=()=>({type:"MOVE_LEFT",payload:null}),q1=()=>({type:"FLUSH",payload:null}),HIe=e=>({type:"DROP_ANIMATE",payload:e}),K1=e=>({type:"DROP_COMPLETE",payload:e}),C9=e=>({type:"DROP",payload:e}),GIe=e=>({type:"DROP_PENDING",payload:e}),w9=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var zIe=e=>({getState:t,dispatch:n})=>r=>i=>{if(!ln(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(K1({completed:l.completed})),t().phase!=="IDLE"&&_e(),n(q1()),n(TIe({draggableId:s,movementMode:a}));const h={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:g,viewport:v}=e.startPublishing(h);n(AIe({critical:f,dimensions:g,clientSelection:o,movementMode:a,viewport:v}))},UIe=e=>()=>t=>n=>{ln(n,"INITIAL_PUBLISH")&&e.dragging(),ln(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(ln(n,"FLUSH")||ln(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Y1={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Zm={opacity:{drop:0,combining:.7},scale:{drop:.75}},b9={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},yu=`${b9.outOfTheWay}s ${Y1.outOfTheWay}`,im={fluid:`opacity ${yu}`,snap:`transform ${yu}, opacity ${yu}`,drop:e=>{const t=`${e}s ${Y1.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${yu}`,placeholder:`height ${yu}, width ${yu}, margin ${yu}`},mB=e=>vc(e,Vr)?void 0:`translate(${e.x}px, ${e.y}px)`,sA={moveTo:mB,drop:(e,t)=>{const n=mB(e);if(n)return t?`${n} scale(${Zm.scale.drop})`:n}},{minDropTime:oA,maxDropTime:S9}=b9,jIe=S9-oA,vB=1500,WIe=.6;var $Ie=({current:e,destination:t,reason:n})=>{const r=Ym(e,t);if(r<=0)return oA;if(r>=vB)return S9;const i=r/vB,s=oA+jIe*i,o=n==="CANCEL"?s*WIe:s;return Number(o.toFixed(2))},qIe=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=ps(e),l=a?o[a]:null,u=o[t.descriptor.droppableId],h=g9({impact:e,draggable:t,draggables:s,afterCritical:i,droppable:l||u,viewport:r});return cs(h,t.client.borderBox.center)},KIe=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:p9({draggables:e,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Xm},didDropInsideDroppable:!0};const YIe=({getState:e,dispatch:t})=>n=>r=>{if(!ln(r,"DROP")){n(r);return}const i=e(),s=r.payload.reason;if(i.phase==="COLLECTING"){t(GIe({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&_e(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||_e();const a=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:f}=KIe({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=f?G1(h):null,v=f?yE(h):null,C={index:a.draggable.index,droppableId:a.droppable.id},S={draggableId:u.descriptor.id,type:u.descriptor.type,source:C,reason:s,mode:i.movementMode,destination:g,combine:v},R=qIe({impact:h,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:S,impact:h};if(!(!vc(i.current.client.offset,R)||!!S.combine)){t(K1({completed:x}));return}const T=$Ie({current:i.current.client.offset,destination:R,reason:s});t(HIe({newHomeClientOffset:R,dropDuration:T,completed:x}))};var E9=()=>({x:window.pageXOffset,y:window.pageYOffset});function XIe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function QIe({onWindowScroll:e}){function t(){e(E9())}const n=Km(t),r=XIe(n);let i=mc;function s(){return i!==mc}function o(){s()&&_e(),i=zs(window,[r])}function a(){s()||_e(),n.cancel(),i(),i=mc}return{start:o,stop:a,isActive:s}}const ZIe=e=>ln(e,"DROP_COMPLETE")||ln(e,"DROP_ANIMATE")||ln(e,"FLUSH"),JIe=e=>{const t=QIe({onWindowScroll:n=>{e.dispatch(kIe({newScroll:n}))}});return n=>r=>{!t.isActive()&&ln(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&ZIe(r)&&t.stop(),n(r)}};var e1e=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=()=>t,i},t1e=()=>{const e=[],t=i=>{const s=e.findIndex(a=>a.timerId===i);s===-1&&_e();const[o]=e.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const n1e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,r1e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,i1e=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},yg=(e,t)=>{t()},KC=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Wx(e,t,n,r){if(!e){n(r(t));return}const i=e1e(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var s1e=(e,t)=>{const n=t1e();let r=null;const i=(f,g)=>{r&&_e(),yg("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:f,mode:g})})},s=(f,g)=>{r&&_e(),yg("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(KC(f,g))})},o=(f,g)=>{r&&_e();const v=KC(f,g);r={mode:g,lastCritical:f,lastLocation:v.source,lastCombine:null},n.add(()=>{yg("onDragStart",()=>Wx(e().onDragStart,v,t,Vw.onDragStart))})},a=(f,g)=>{const v=G1(g),C=yE(g);r||_e();const S=!i1e(f,r.lastCritical);S&&(r.lastCritical=f);const R=!n1e(r.lastLocation,v);R&&(r.lastLocation=v);const x=!r1e(r.lastCombine,C);if(x&&(r.lastCombine=C),!S&&!R&&!x)return;const D={...KC(f,r.mode),combine:C,destination:v};n.add(()=>{yg("onDragUpdate",()=>Wx(e().onDragUpdate,D,t,Vw.onDragUpdate))})},l=()=>{r||_e(),n.flush()},u=f=>{r||_e(),r=null,yg("onDragEnd",()=>Wx(e().onDragEnd,f,t,Vw.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const f={...KC(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},o1e=(e,t)=>{const n=s1e(e,t);return r=>i=>s=>{if(ln(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(ln(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(ln(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),ln(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const a1e=e=>t=>n=>{if(!ln(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&_e(),e.dispatch(K1({completed:r.completed}))},l1e=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>s=>{if((ln(s,"FLUSH")||ln(s,"DROP_COMPLETE")||ln(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!ln(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(w9())}};n=requestAnimationFrame(()=>{n=null,t=zs(window,[o])})}};var c1e=e=>()=>t=>n=>{(ln(n,"DROP_COMPLETE")||ln(n,"FLUSH")||ln(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},u1e=e=>{let t=!1;return()=>n=>r=>{if(ln(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(ln(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(ln(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const d1e=e=>ln(e,"DROP_COMPLETE")||ln(e,"DROP_ANIMATE")||ln(e,"FLUSH");var h1e=e=>t=>n=>r=>{if(d1e(r)){e.stop(),n(r);return}if(ln(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&_e(),e.start(i);return}n(r),e.scroll(t.getState())};const f1e=e=>t=>n=>{if(t(n),!ln(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(C9({reason:r.reason})))},p1e=B$;var g1e=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>V$(xIe,p1e(hAe(UIe(n),c1e(e),zIe(e),YIe,a1e,l1e,f1e,h1e(s),JIe,u1e(t),o1e(r,i))));const $x=()=>({additions:{},removals:{},modified:{}});function m1e({registry:e,callbacks:t}){let n=$x(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:u,modified:h}=n,f=Object.keys(l).map(C=>e.draggable.getById(C).getDimension(Vr)).sort((C,S)=>C.descriptor.index-S.descriptor.index),g=Object.keys(h).map(C=>{const R=e.droppable.getById(C).callbacks.getScrollWhileDragging();return{droppableId:C,scroll:R}}),v={additions:f,removals:Object.keys(u),modified:g};n=$x(),t.publish(v)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=$x())}}}var R9=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=cs({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},x9=()=>{const e=document.documentElement;return e||_e(),e},T9=()=>{const e=x9();return R9({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},v1e=()=>{const e=E9(),t=T9(),n=e.y,r=e.x,i=x9(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:co({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Vr,displacement:Vr}}}},y1e=({critical:e,scrollOptions:t,registry:n})=>{const r=v1e(),i=r.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:e9(a),droppables:J$(o)},critical:e,viewport:r}};function yB(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var C1e=(e,t)=>{let n=null;const r=m1e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,v)=>{e.droppable.exists(g)||_e(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:v})},s=(g,v)=>{n&&(e.droppable.exists(g)||_e(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},o=(g,v)=>{n&&(e.droppable.exists(g)||_e(),t.updateDroppableScroll({id:g,newScroll:v}))},a=(g,v)=>{n&&e.droppable.getById(g).callbacks.scroll(v)},l=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},u=g=>{n||_e();const v=n.critical.draggable;g.type==="ADDITION"&&yB(e,v,g.value)&&r.add(g.value),g.type==="REMOVAL"&&yB(e,v,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:g=>{n&&_e();const v=e.draggable.getById(g.draggableId),C=e.droppable.getById(v.descriptor.droppableId),S={draggable:v.descriptor,droppable:C.descriptor},R=e.subscribe(u);return n={critical:S,unsubscribe:R},y1e({critical:S,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:l}},D9=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",w1e=e=>{window.scrollBy(e.x,e.y)};const b1e=Lr(e=>vE(e).filter(t=>!(!t.isEnabled||!t.frame))),S1e=(e,t)=>b1e(t).find(r=>(r.frame||_e(),u9(r.frame.pageMarginBox)(e)))||null;var E1e=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return S1e(e,n)};const Jm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var R1e=(e,t,n=()=>Jm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},A9=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},X1=1,x1e=(e,t,n=()=>Jm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return X1;const s=1-A9({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},T1e=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=t,a=s,u=Date.now()-o;if(u>=s)return e;if(u<i)return X1;const h=A9({startOfRange:i,endOfRange:a,current:u}),f=e*r.ease(h);return Math.ceil(f)},CB=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=x1e(e,t,i);return s===0?0:r?Math.max(T1e(s,n,i),X1):s},wB=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=R1e(e,r,s);return t[r.end]<t[r.start]?CB({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*CB({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},D1e=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const A1e=Z$(e=>e===0?0:e);var P9=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=wB({container:t,distanceToEdges:o,dragStartTime:e,axis:z1,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=wB({container:t,distanceToEdges:o,dragStartTime:e,axis:r9,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),u=A1e({x:l,y:a});if(vc(u,Vr))return null;const h=D1e({container:t,subject:n,proposedScroll:u});return h?vc(h,Vr)?null:h:null};const P1e=Z$(e=>e===0?0:e>0?1:-1),Q1=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Qr(t,r),s={x:e(i.x,n.x),y:e(i.y,n.y)};return vc(s,Vr)?null:s}})(),I9=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=P1e(n),s=Q1({max:r,current:t,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},Z1=(e,t)=>I9({current:e.scroll.current,max:e.scroll.max,change:t}),I1e=(e,t)=>{if(!Z1(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Q1({current:r,max:n,change:t})},J1=(e,t)=>{const n=e.frame;return n?I9({current:n.scroll.current,max:n.scroll.max,change:t}):!1},F1e=(e,t)=>{const n=e.frame;return!n||!J1(e,t)?null:Q1({current:n.scroll.current,max:n.scroll.max,change:t})};var M1e=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=P9({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&Z1(e,o)?o:null},_1e=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const a=P9({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&J1(e,a)?a:null},bB=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,g=M1e({dragStartTime:t,viewport:f,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(g){r(g);return}}const u=E1e({center:o,destination:ps(e.impact),droppables:e.dimensions.droppables});if(!u)return;const h=_1e({dragStartTime:t,droppable:u,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});h&&i(u.descriptor.id,h)},k1e=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Jm})=>{const r=Km(e),i=Km(t);let s=null;const o=u=>{s||_e();const{shouldUseTimeDampening:h,dragStartTime:f}=s;bB({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:u=>{s&&_e();const h=Date.now();let f=!1;const g=()=>{f=!0};bB({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),s={dragStartTime:h,shouldUseTimeDampening:f},f&&o(u)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},O1e=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const u=Qr(a.current.client.selection,l);e({client:u})},i=(a,l)=>{if(!J1(a,l))return l;const u=F1e(a,l);if(!u)return t(a.descriptor.id,l),null;const h=cs(l,u);return t(a.descriptor.id,h),cs(l,h)},s=(a,l,u)=>{if(!a||!Z1(l,u))return u;const h=I1e(l,u);if(!h)return n(u),null;const f=cs(u,h);return n(f),cs(u,f)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=ps(a.impact);u||_e();const h=i(a.dimensions.droppables[u],l);if(!h)return;const f=a.viewport,g=s(a.isWindowScrollAllowed,f,h);g&&r(a,g)}},L1e=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=k1e({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=O1e({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const If="data-rfd",Ff=(()=>{const e=`${If}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),aA=(()=>{const e=`${If}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),N1e=(()=>{const e=`${If}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),SB={contextId:`${If}-scroll-container-context-id`},V1e=e=>t=>`[${t}="${e}"]`,Cg=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),B1e="pointer-events: none;";var H1e=e=>{const t=V1e(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ff.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:B1e,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${im.outOfTheWay};
    `;return{selector:t(aA.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(N1e.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Cg(o,"always"),resting:Cg(o,"resting"),dragging:Cg(o,"dragging"),dropAnimating:Cg(o,"dropAnimating"),userCancel:Cg(o,"userCancel")}};const gs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,qx=()=>{const e=document.querySelector("head");return e||_e(),e},EB=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function G1e(e,t){const n=Wt(()=>H1e(e),[e]),r=b.useRef(null),i=b.useRef(null),s=tt(Lr(f=>{const g=i.current;g||_e(),g.textContent=f}),[]),o=tt(f=>{const g=r.current;g||_e(),g.textContent=f},[]);gs(()=>{!r.current&&!i.current||_e();const f=EB(t),g=EB(t);return r.current=f,i.current=g,f.setAttribute(`${If}-always`,e),g.setAttribute(`${If}-dynamic`,e),qx().appendChild(f),qx().appendChild(g),o(n.always),s(n.resting),()=>{const v=C=>{const S=C.current;S||_e(),qx().removeChild(S),C.current=null};v(r),v(i)}},[t,o,s,n.always,n.resting,e]);const a=tt(()=>s(n.dragging),[s,n.dragging]),l=tt(f=>{if(f==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=tt(()=>{i.current&&s(n.resting)},[s,n.resting]);return Wt(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function F9(e,t){return Array.from(e.querySelectorAll(t))}var M9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function bE(e){return e instanceof M9(e).HTMLElement}function z1e(e,t){const n=`[${Ff.contextId}="${e}"]`,r=F9(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Ff.draggableId)===t);return!i||!bE(i)?null:i}function U1e(e){const t=b.useRef({}),n=b.useRef(null),r=b.useRef(null),i=b.useRef(!1),s=tt(function(g,v){const C={id:g,focus:v};return t.current[g]=C,function(){const R=t.current;R[g]!==C&&delete R[g]}},[]),o=tt(function(g){const v=z1e(e,g);v&&v!==document.activeElement&&v.focus()},[e]),a=tt(function(g,v){n.current===g&&(n.current=v)},[]),l=tt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&o(g)}))},[o]),u=tt(function(g){n.current=null;const v=document.activeElement;v&&v.getAttribute(Ff.draggableId)===g&&(n.current=g)},[]);return gs(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),Wt(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,u,l,a])}function j1e(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const v=t.indexOf(f);v!==-1&&t.splice(v,1)}}function r(f){t.length&&t.forEach(g=>g(f))}function i(f){return e.draggables[f]||null}function s(f){const g=i(f);return g||_e(),g}const o={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,g)=>{const v=e.draggables[g.descriptor.id];v&&v.uniqueId===f.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const g=f.descriptor.id,v=i(g);v&&f.uniqueId===v.uniqueId&&(delete e.draggables[g],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:s,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(e.draggables).filter(g=>g.descriptor.type===f)};function a(f){return e.droppables[f]||null}function l(f){const g=a(f);return g||_e(),g}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const g=a(f.descriptor.id);g&&f.uniqueId===g.uniqueId&&delete e.droppables[f.descriptor.id]},getById:l,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.droppables).filter(g=>g.descriptor.type===f)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:n,clean:h}}function W1e(){const e=Wt(j1e,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var eF=K.createContext(null),tS=()=>{const e=document.body;return e||_e(),e};const $1e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},q1e=e=>`rfd-announcement-${e}`;function K1e(e){const t=Wt(()=>q1e(e),[e]),n=b.useRef(null);return b.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),bm(s.style,$1e),tS().appendChild(s),function(){setTimeout(function(){const l=tS();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]),tt(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const Y1e={separator:"::"};function tF(e,t=Y1e){const n=K.useId();return Wt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function X1e({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Q1e({contextId:e,text:t}){const n=tF("hidden-text",{separator:"-"}),r=Wt(()=>X1e({contextId:e,uniqueId:n}),[n,e]);return b.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",tS().appendChild(s),function(){const a=tS();a.contains(s)&&a.removeChild(s)}},[r,t]),r}var SE=K.createContext(null);function _9(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),t}function Z1e(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&_e();const a={abandon:o};return e=a,a}function i(){e||_e(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}function ev(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const J1e=9,eFe=13,nF=27,k9=32,tFe=33,nFe=34,rFe=35,iFe=36,sFe=37,oFe=38,aFe=39,lFe=40,cFe={[eFe]:!0,[J1e]:!0};var O9=e=>{cFe[e.keyCode]&&e.preventDefault()};const EE=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),L9=0,RB=5;function uFe(e,t){return Math.abs(t.x-e.x)>=RB||Math.abs(t.y-e.y)>=RB}const xB={type:"IDLE"};function dFe({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==L9)return;const l={x:o,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&_e();const h=u.point;if(!uFe(h,l))return;i.preventDefault();const f=u.actions.fluidLift(l);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===nF){i.preventDefault(),e();return}O9(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&_e(),s.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:EE,fn:e}]}function hFe(e){const t=b.useRef(xB),n=b.useRef(mc),r=Wt(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==L9||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const g=e.findClosestDraggableId(f);if(!g)return;const v=e.tryGetLock(g,o,{sourceEvent:f});if(!v)return;f.preventDefault();const C={x:f.clientX,y:f.clientY};n.current(),u(v,C)}}),[e]),i=Wt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const f=e.findClosestDraggableId(h);if(!f)return;const g=e.findOptionsForDraggable(f);g&&(g.shouldRespectForcePress||e.canGetLock(f)&&h.preventDefault())}}),[e]),s=tt(function(){const f={passive:!1,capture:!0};n.current=zs(window,[i,r],f)},[i,r]),o=tt(()=>{t.current.type!=="IDLE"&&(t.current=xB,n.current(),s())},[s]),a=tt(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),l=tt(function(){const f={capture:!0,passive:!1},g=dFe({cancel:a,completed:o,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=zs(window,g,f)},[a,o]),u=tt(function(f,g){t.current.type!=="IDLE"&&_e(),t.current={type:"PENDING",point:g,actions:f},l()},[l]);gs(function(){return s(),function(){n.current()}},[s])}function fFe(){}const pFe={[nFe]:!0,[tFe]:!0,[iFe]:!0,[rFe]:!0};function gFe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===nF){i.preventDefault(),n();return}if(i.keyCode===k9){i.preventDefault(),r();return}if(i.keyCode===lFe){i.preventDefault(),e.moveDown();return}if(i.keyCode===oFe){i.preventDefault(),e.moveUp();return}if(i.keyCode===aFe){i.preventDefault(),e.moveRight();return}if(i.keyCode===sFe){i.preventDefault(),e.moveLeft();return}if(pFe[i.keyCode]){i.preventDefault();return}O9(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:EE,fn:n}]}function mFe(e){const t=b.useRef(fFe),n=Wt(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==k9)return;const o=e.findClosestDraggableId(s);if(!o)return;const a=e.tryGetLock(o,h,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const u=a.snapLift();t.current();function h(){l||_e(),l=!1,t.current(),r()}t.current=zs(window,gFe(u,h),{capture:!0,passive:!1})}}),[e]),r=tt(function(){const s={passive:!1,capture:!0};t.current=zs(window,[n],s)},[n]);gs(function(){return r(),function(){t.current()}},[r])}const Kx={type:"IDLE"},vFe=120,yFe=.15;function CFe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===nF&&n.preventDefault(),e()}},{eventName:EE,fn:e}]}function wFe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&_e();const s=r.touches[0];if(!s||!(s.force>=yFe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:EE,fn:e}]}function bFe(e){const t=b.useRef(Kx),n=b.useRef(mc),r=tt(function(){return t.current},[]),i=tt(function(v){t.current=v},[]),s=Wt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const C=e.findClosestDraggableId(v);if(!C)return;const S=e.tryGetLock(C,a,{sourceEvent:v});if(!S)return;const R=v.touches[0],{clientX:x,clientY:D}=R,T={x,y:D};n.current(),f(S,T)}}),[e]),o=tt(function(){const v={capture:!0,passive:!1};n.current=zs(window,[s],v)},[s]),a=tt(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Kx),n.current(),o())},[o,i]),l=tt(()=>{const g=t.current;a(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[a]),u=tt(function(){const v={capture:!0,passive:!1},C={cancel:l,completed:a,getPhase:r},S=zs(window,wFe(C),v),R=zs(window,CFe(C),v);n.current=function(){S(),R()}},[l,r,a]),h=tt(function(){const v=r();v.type!=="PENDING"&&_e();const C=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:C,hasMoved:!1})},[r,i]),f=tt(function(v,C){r().type!=="IDLE"&&_e();const S=setTimeout(h,vFe);i({type:"PENDING",point:C,actions:v,longPressTimerId:S}),u()},[u,r,i,h]);gs(function(){return o(),function(){n.current();const C=r();C.type==="PENDING"&&(clearTimeout(C.longPressTimerId),i(Kx))}},[r,o,i]),gs(function(){return zs(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const SFe=["input","button","textarea","select","option","optgroup","video","audio"];function N9(e,t){if(t==null)return!1;if(SFe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:N9(e,t.parentElement)}function EFe(e,t){const n=t.target;return bE(n)?N9(e,n):!1}var RFe=e=>co(e.getBoundingClientRect()).center;function xFe(e){return e instanceof M9(e).Element}const TFe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function V9(e,t){return e==null?null:e[TFe](t)?e:V9(e.parentElement,t)}function DFe(e,t){return e.closest?e.closest(t):V9(e,t)}function AFe(e){return`[${Ff.contextId}="${e}"]`}function PFe(e,t){const n=t.target;if(!xFe(n))return null;const r=AFe(e),i=DFe(n,r);return!i||!bE(i)?null:i}function IFe(e,t){const n=PFe(e,t);return n?n.getAttribute(Ff.draggableId):null}function FFe(e,t){const n=`[${aA.contextId}="${e}"]`,i=F9(document,n).find(s=>s.getAttribute(aA.id)===t);return!i||!bE(i)?null:i}function MFe(e){e.preventDefault()}function YC({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function B9({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!D9(t.getState(),r))}function _Fe({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!B9({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),u=FFe(t,l.descriptor.id);if(!u||o&&!l.options.canDragInteractiveElements&&EFe(u,o))return null;const h=e.claim(s||mc);let f="PRE_DRAG";function g(){return l.options.shouldRespectForcePress}function v(){return e.isActive(h)}function C(O,P){YC({expected:O,phase:f,isLockActive:v,shouldWarn:!0})&&n.dispatch(P())}const S=C.bind(null,"DRAGGING");function R(O){function P(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(P(),_e()),n.dispatch(DIe(O.liftActionArgs)),f="DRAGGING";function _(M,N={shouldBlockNextClick:!1}){if(O.cleanup(),N.shouldBlockNextClick){const B=zs(window,[{eventName:"click",fn:MFe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}P(),n.dispatch(C9({reason:M}))}return{isActive:()=>YC({expected:"DRAGGING",phase:f,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,drop:M=>_("DROP",M),cancel:M=>_("CANCEL",M),...O.actions}}function x(O){const P=Km(M=>{S(()=>y9({client:M}))});return{...R({liftActionArgs:{id:i,clientSelection:O,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function D(){const O={moveUp:()=>S(LIe),moveRight:()=>S(VIe),moveDown:()=>S(NIe),moveLeft:()=>S(BIe)};return R({liftActionArgs:{id:i,clientSelection:RFe(u),movementMode:"SNAP"},cleanup:mc,actions:O})}function T(){YC({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>YC({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:x,snapLift:D,abort:T}}const kFe=[hFe,mFe,bFe];function OFe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?kFe:[],...r||[]],o=b.useState(()=>Z1e())[0],a=tt(function(R,x){ev(R)&&!ev(x)&&o.tryAbandon()},[o]);gs(function(){let R=t.getState();return t.subscribe(()=>{const D=t.getState();a(R,D),R=D})},[o,t,a]),gs(()=>o.tryAbandon,[o.tryAbandon]);const l=tt(S=>B9({lockAPI:o,registry:n,store:t,draggableId:S}),[o,n,t]),u=tt((S,R,x)=>_Fe({lockAPI:o,registry:n,contextId:e,store:t,draggableId:S,forceSensorStop:R||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,o,n,t]),h=tt(S=>IFe(e,S),[e]),f=tt(S=>{const R=n.draggable.findById(S);return R?R.options:null},[n.draggable]),g=tt(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(q1()))},[o,t]),v=tt(()=>o.isClaimed(),[o]),C=Wt(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:g,isLockClaimed:v}),[l,u,h,f,g,v]);for(let S=0;S<s.length;S++)s[S](C)}const LFe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Nf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),NFe=e=>({...Jm,...e.autoScrollerOptions,durationDampening:{...Jm.durationDampening,...e.autoScrollerOptions}});function wg(e){return e.current||_e(),e.current}function VFe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=e,o=b.useRef(null),a=_9(e),l=tt(()=>LFe(a.current),[a]),u=tt(()=>NFe(a.current),[a]),h=K1e(t),f=Q1e({contextId:t,text:s}),g=G1e(t,i),v=tt(B=>{wg(o).dispatch(B)},[]),C=Wt(()=>Q2({publishWhileDragging:PIe,updateDroppableScroll:FIe,updateDroppableIsEnabled:MIe,updateDroppableIsCombineEnabled:_Ie,collectionStarting:IIe},v),[v]),S=W1e(),R=Wt(()=>C1e(S,C),[S,C]),x=Wt(()=>L1e({scrollWindow:w1e,scrollDroppable:R.scrollDroppable,getAutoScrollerOptions:u,...Q2({move:y9},v)}),[R.scrollDroppable,v,u]),D=U1e(t),T=Wt(()=>g1e({announce:h,autoScroller:x,dimensionMarshal:R,focusMarshal:D,getResponders:l,styleMarshal:g}),[h,x,R,D,l,g]);o.current=T;const k=tt(()=>{const B=wg(o);B.getState().phase!=="IDLE"&&B.dispatch(q1())},[]),O=tt(()=>{const B=wg(o).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),P=Wt(()=>({isDragging:O,tryAbort:k}),[O,k]);n(P);const _=tt(B=>D9(wg(o).getState(),B),[]),M=tt(()=>Ru(wg(o).getState()),[]),N=Wt(()=>({marshal:R,focus:D,contextId:t,canLift:_,isMovementAllowed:M,dragHandleUsageInstructionsId:f,registry:S}),[t,R,f,D,_,M,S]);return OFe({contextId:t,store:T,registry:S,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>k,[k]),K.createElement(SE.Provider,{value:N},K.createElement(cPe,{context:eF,store:T},e.children))}function BFe(){return K.useId()}function HFe(e){const t=BFe(),n=e.dragHandleUsageInstructions||Vw.dragHandleUsageInstructions;return K.createElement(mPe,null,r=>K.createElement(VFe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const TB={dragging:5e3,dropAnimating:4500},GFe=(e,t)=>t?im.drop(t.duration):e?im.snap:im.fluid,zFe=(e,t)=>{if(e)return t?Zm.opacity.drop:Zm.opacity.combining},UFe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function jFe(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:s}=e,o=!!i,a=UFe(e),l=!!s,u=l?sA.drop(r,o):sA.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:GFe(a,s),transform:u,opacity:zFe(o,l),zIndex:l?TB.dropAnimating:TB.dragging,pointerEvents:"none"}}function WFe(e){return{transform:sA.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function $Fe(e){return e.type==="DRAGGING"?jFe(e):WFe(e)}function qFe(e,t,n=Vr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=$$(i,r),o=Qb(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:o}}function KFe(e){const t=tF("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=e,l=Wt(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),u=tt(v=>{const C=i();return C||_e(),qFe(n,C,v)},[n,i]),h=Wt(()=>({uniqueId:t,descriptor:n,options:l,getDimension:u}),[n,u,l,t]),f=b.useRef(h),g=b.useRef(!0);gs(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),gs(()=>{if(g.current){g.current=!1;return}const v=f.current;f.current=h,r.draggable.update(h,v)},[h,r.draggable])}var rF=K.createContext(null);function nS(e){const t=b.useContext(e);return t||_e(),t}function YFe(e){e.preventDefault()}const XFe=e=>{const t=b.useRef(null),n=tt((P=null)=>{t.current=P},[]),r=tt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=nS(SE),{type:a,droppableId:l}=nS(rF),u=Wt(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:h,draggableId:f,isEnabled:g,shouldRespectForcePress:v,canDragInteractiveElements:C,isClone:S,mapped:R,dropAnimationFinished:x}=e;if(!S){const P=Wt(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:v,isEnabled:g}),[u,o,r,C,v,g]);KFe(P)}const D=Wt(()=>g?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:YFe}:null,[i,s,f,g]),T=tt(P=>{R.type==="DRAGGING"&&R.dropping&&P.propertyName==="transform"&&Nf.flushSync(x)},[x,R]),k=Wt(()=>{const P=$Fe(R),_=R.type==="DRAGGING"&&R.dropping?T:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:P,onTransitionEnd:_},dragHandleProps:D}},[i,D,f,R,T,n]),O=Wt(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return K.createElement(K.Fragment,null,h(k,R.snapshot,O))};var H9=(e,t)=>e===t,G9=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const QFe=e=>e.combine?e.combine.draggableId:null,ZFe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function JFe(){const e=Lr((i,s)=>({x:i,y:s})),t=Lr((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=Lr((i,s,o,a,l=null,u=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(s,a,l,u,null)}}));return(i,s)=>{if(ev(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=ps(i.impact),u=ZFe(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,a,s.isClone,l,u,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],u=o.result,h=u.mode,f=G9(u),g=QFe(u),C={duration:i.dropDuration,curve:Y1.drop,moveTo:i.newHomeClientOffset,opacity:g?Zm.opacity.drop:null,scale:g?Zm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:C,draggingOver:f,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,a,f,g,C)}}}return null}}function z9(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const eMe={mapped:{type:"SECONDARY",offset:Vr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:z9(null)}};function tMe(){const e=Lr((o,a)=>({x:o,y:a})),t=Lr(z9),n=Lr((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=o=>o?n(Vr,o,!0):null,i=(o,a,l,u)=>{const h=l.displaced.visible[o],f=!!(u.inVirtualList&&u.effected[o]),g=yE(l),v=g&&g.draggableId===o?a:null;if(!h){if(!f)return r(v);if(l.displaced.invisible[o])return null;const R=Jf(u.displacedBy.point),x=e(R.x,R.y);return n(x,v,!0)}if(f)return r(v);const C=l.displacedBy.point,S=e(C.x,C.y);return n(S,v,h.shouldAnimate)};return(o,a)=>{if(ev(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const nMe=()=>{const e=JFe(),t=tMe();return(r,i)=>e(r,i)||t(r,i)||eMe},rMe={dropAnimationFinished:w9},iMe=W$(nMe,rMe,null,{context:eF,areStatePropsEqual:H9})(XFe);function U9(e){return nS(rF).isUsingCloneFor===e.draggableId&&!e.isClone?null:K.createElement(iMe,e)}function DB(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return K.createElement(U9,bm({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const j9=e=>t=>e===t,sMe=j9("scroll"),oMe=j9("auto"),AB=(e,t)=>t(e.overflowX)||t(e.overflowY),aMe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return AB(n,sMe)||AB(n,oMe)},lMe=()=>!1,W9=e=>e==null?null:e===document.body?lMe()?e:null:e===document.documentElement?null:aMe(e)?e:W9(e.parentElement);var lA=e=>({x:e.scrollLeft,y:e.scrollTop});const $9=e=>e?window.getComputedStyle(e).position==="fixed"?!0:$9(e.parentElement):!1;var cMe=e=>{const t=W9(e),n=$9(e);return{closestScrollable:t,isFixedOnPage:n}},uMe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:g,client:v}=a,C=R9({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:C,diff:{value:Vr,displacement:Vr}}}})(),u=i==="vertical"?z1:r9,h=Pf({page:o,withPlaceholder:null,axis:u,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:s,page:o,frame:l,subject:h}};const dMe=(e,t)=>{const n=q$(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,o=i+t.scrollWidth,l=V1({top:r,right:o,bottom:s,left:i},n.border);return B1({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var hMe=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,u=dMe(e,l),h=Qb(u,r),f=(()=>{if(!l)return null;const v=q$(l),C={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:v,page:Qb(v,r),scroll:lA(l),scrollSize:C,shouldClipSubject:a}})();return uMe({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:h,closest:f})};const fMe={passive:!1},pMe={passive:!0};var PB=e=>e.shouldPublishImmediately?fMe:pMe;const XC=e=>e&&e.env.closestScrollable||null;function gMe(e){const t=b.useRef(null),n=nS(SE),r=tF("droppable"),{registry:i,marshal:s}=n,o=_9(e),a=Wt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=b.useRef(a),u=Wt(()=>Lr((k,O)=>{t.current||_e();const P={x:k,y:O};s.updateDroppableScroll(a.id,P)}),[a.id,s]),h=tt(()=>{const k=t.current;return!k||!k.env.closestScrollable?Vr:lA(k.env.closestScrollable)},[]),f=tt(()=>{const k=h();u(k.x,k.y)},[h,u]),g=Wt(()=>Km(f),[f]),v=tt(()=>{const k=t.current,O=XC(k);if(k&&O||_e(),k.scrollOptions.shouldPublishImmediately){f();return}g()},[g,f]),C=tt((k,O)=>{t.current&&_e();const P=o.current,_=P.getDroppableRef();_||_e();const M=cMe(_),N={ref:_,descriptor:a,env:M,scrollOptions:O};t.current=N;const B=hMe({ref:_,descriptor:a,env:M,windowScroll:k,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=M.closestScrollable;return H&&(H.setAttribute(SB.contextId,n.contextId),H.addEventListener("scroll",v,PB(N.scrollOptions))),B},[n.contextId,a,v,o]),S=tt(()=>{const k=t.current,O=XC(k);return k&&O||_e(),lA(O)},[]),R=tt(()=>{const k=t.current;k||_e();const O=XC(k);t.current=null,O&&(g.cancel(),O.removeAttribute(SB.contextId),O.removeEventListener("scroll",v,PB(k.scrollOptions)))},[v,g]),x=tt(k=>{const O=t.current;O||_e();const P=XC(O);P||_e(),P.scrollTop+=k.y,P.scrollLeft+=k.x},[]),D=Wt(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:S,dragStopped:R,scroll:x}),[R,C,S,x]),T=Wt(()=>({uniqueId:r,descriptor:a,callbacks:D}),[D,a,r]);gs(()=>(l.current=T.descriptor,i.droppable.register(T),()=>{t.current&&R(),i.droppable.unregister(T)}),[D,a,R,T,s,i.droppable]),gs(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),gs(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function Yx(){}const IB={width:0,height:0,margin:EPe},mMe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?IB:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},vMe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=mMe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?im.placeholder:null}},yMe=e=>{const t=b.useRef(null),n=tt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=e,[a,l]=b.useState(e.animate==="open");b.useEffect(()=>a?r!=="open"?(n(),l(!1),Yx):t.current?Yx:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):Yx,[r,a,n]);const u=tt(f=>{f.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),h=vMe({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return K.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})};var CMe=K.memo(yMe);class wMe extends K.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const bMe=e=>{const t=b.useContext(SE);t||_e();const{contextId:n,isMovementAllowed:r}=t,i=b.useRef(null),s=b.useRef(null),{children:o,droppableId:a,type:l,mode:u,direction:h,ignoreContainerClipping:f,isDropDisabled:g,isCombineEnabled:v,snapshot:C,useClone:S,updateViewportMaxScroll:R,getContainerForClone:x}=e,D=tt(()=>i.current,[]),T=tt((H=null)=>{i.current=H},[]);tt(()=>s.current,[]);const k=tt((H=null)=>{s.current=H},[]),O=tt(()=>{r()&&R({maxScroll:T9()})},[r,R]);gMe({droppableId:a,type:l,mode:u,direction:h,isDropDisabled:g,isCombineEnabled:v,ignoreContainerClipping:f,getDroppableRef:D});const P=Wt(()=>K.createElement(wMe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:U,animate:G})=>K.createElement(CMe,{placeholder:U,onClose:H,innerRef:k,animate:G,contextId:n,onTransitionEnd:O})),[n,O,e.placeholder,e.shouldAnimatePlaceholder,k]),_=Wt(()=>({innerRef:T,placeholder:P,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,P,T]),M=S?S.dragging.draggableId:null,N=Wt(()=>({droppableId:a,type:l,isUsingCloneFor:M}),[a,M,l]);function B(){if(!S)return null;const{dragging:H,render:U}=S,G=K.createElement(U9,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ee,ie)=>U(ee,ie,H));return ac.createPortal(G,x())}return K.createElement(rF.Provider,{value:N},o(_,C),B())};function SMe(){return document.body||_e(),document.body}const FB={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:SMe},q9=e=>{let t={...e},n;for(n in FB)e[n]===void 0&&(t={...t,[n]:FB[n]});return t},Xx=(e,t)=>e===t.droppable.type,MB=(e,t)=>t.draggables[e.draggable.id],EMe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Lr(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=Lr((s,o,a,l,u,h)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===s){const C=h?{render:h,dragging:n(u.descriptor)}:null,S={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:C}}if(!o)return t;if(!l)return e;const v={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(s,o)=>{const a=q9(o),l=a.droppableId,u=a.type,h=!a.isDropDisabled,f=a.renderClone;if(ev(s)){const g=s.critical;if(!Xx(u,g))return t;const v=MB(g,s.dimensions),C=ps(s.impact)===l;return r(l,h,C,C,v,f)}if(s.phase==="DROP_ANIMATING"){const g=s.completed;if(!Xx(u,g.critical))return t;const v=MB(g.critical,s.dimensions);return r(l,h,G9(g.result)===l,ps(g.impact)===l,v,f)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const g=s.completed;if(!Xx(u,g.critical))return t;const v=ps(g.impact)===l,C=!!(g.impact.at&&g.impact.at.type==="COMBINE"),S=g.critical.droppable.id===l;return v?C?e:t:S?e:t}return t}},RMe={updateViewportMaxScroll:OIe},_B=W$(EMe,RMe,(e,t,n)=>({...q9(n),...e,...t}),{context:eF,areStatePropsEqual:H9})(bMe),xMe=tE((e,t)=>({groups:[],availableStudents:[],allStudents:[],setGroups:n=>e({groups:n}),setAvailableStudents:n=>e({availableStudents:n}),setAllStudents:n=>e({allStudents:n}),addGroup:n=>e(r=>({groups:[...r.groups,n]})),updateGroup:(n,r)=>e(i=>({groups:i.groups.map(s=>s.id===n?{...s,...r}:s)})),removeGroup:n=>e(r=>{const i=r.groups.find(s=>s.id===n);if(i){const s=r.availableStudents.filter(o=>i.studentIds.includes(o.id));return{groups:r.groups.filter(o=>o.id!==n),availableStudents:[...r.availableStudents,...s]}}return r}),moveStudentToGroup:(n,r,i)=>e(s=>{let o=[...s.groups],a=[...s.availableStudents];if(r?o=o.map(l=>l.id===r?{...l,studentIds:l.studentIds.filter(u=>u!==n)}:l):a=a.filter(l=>l.id!==n),i)o=o.map(l=>l.id===i?{...l,studentIds:[...l.studentIds,n]}:l);else{const l=t().allStudents.find(u=>u.id===n);l&&(a=[...a,l])}return{groups:o,availableStudents:a}}),getStudentById:n=>t().allStudents.find(i=>i.id===n)})),jr=[];for(let e=0;e<256;++e)jr.push((e+256).toString(16).slice(1));function TMe(e,t=0){return(jr[e[t+0]]+jr[e[t+1]]+jr[e[t+2]]+jr[e[t+3]]+"-"+jr[e[t+4]]+jr[e[t+5]]+"-"+jr[e[t+6]]+jr[e[t+7]]+"-"+jr[e[t+8]]+jr[e[t+9]]+"-"+jr[e[t+10]]+jr[e[t+11]]+jr[e[t+12]]+jr[e[t+13]]+jr[e[t+14]]+jr[e[t+15]]).toLowerCase()}let Qx;const DMe=new Uint8Array(16);function AMe(){if(!Qx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qx=crypto.getRandomValues.bind(crypto)}return Qx(DMe)}const PMe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kB={randomUUID:PMe};function nf(e,t,n){if(kB.randomUUID&&!e)return kB.randomUUID();e=e||{};const r=e.random??e.rng?.()??AMe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,TMe(r)}const RE="groups",IMe=async e=>{const t=nf(),n={id:t,name:e.name,studentIds:[],createdAt:new Date,teacherId:e.teacherId};return await Y3(ua(zi,RE,t),n),n},FMe=async e=>{const t=XS(qf(zi,RE),kI("teacherId","==",e));return(await K3(t)).docs.map(i=>i.data()).sort((i,s)=>new Date(s.createdAt).getTime()-new Date(i.createdAt).getTime())},QC=async(e,t)=>{await mD(ua(zi,RE,e),t)},MMe=async e=>{await X3(ua(zi,RE,e))},K9=(e=768)=>{const[t,n]=b.useState(!1);return b.useEffect(()=>{const r=window.matchMedia(`(max-width: ${e}px)`),i=s=>{n(s.matches)};return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t},_Me=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onDragEnd:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>I.jsx(HFe,{onDragEnd:i,children:I.jsxs(pf,{children:[I.jsx(Yo,{lg:3,className:"mb-4",children:I.jsxs(hr,{className:"h-100",children:[I.jsxs(hr.Header,{className:"bg-light",children:[I.jsxs("div",{className:"d-flex align-items-center mb-2",children:[I.jsx(OP,{size:18,className:"me-2 text-muted"}),I.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),I.jsx(Yt.Group,{className:"mb-2",children:I.jsxs("div",{className:"position-relative",children:[I.jsx(Yt.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),I.jsx(_P,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})}),I.jsx("small",{className:"text-muted",children:o.trim()?`${t.length} de ${t.length+e.flatMap(l=>l.studentIds).length} estudiantes`:`${t.length} estudiantes`})]}),I.jsx(hr.Body,{style:{minHeight:"500px"},children:I.jsx(_B,{droppableId:"available",children:(l,u)=>I.jsxs("div",{ref:l.innerRef,...l.droppableProps,className:`p-2 rounded ${u.isDraggingOver?"bg-light":""}`,style:{minHeight:"100px"},children:[t.length===0?I.jsxs("div",{className:"text-center text-muted py-4",children:[I.jsx(Xa,{size:32,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0",children:"Todos los estudiantes están asignados"})]}):t.map((h,f)=>I.jsx(DB,{draggableId:h.id,index:f,children:(g,v)=>I.jsxs("div",{ref:g.innerRef,...g.draggableProps,...g.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${v.isDragging?"shadow":""}`,style:{...g.draggableProps.style,cursor:"grab"},children:[I.jsx("div",{className:"fw-medium",children:h.name}),I.jsx("small",{className:"text-muted",children:h.email})]})},h.id)),l.placeholder]})})})]})}),I.jsx(Yo,{lg:9,children:e.length===0?I.jsxs(Zw,{variant:"info",className:"text-center py-5",children:[I.jsx(Xa,{size:48,className:"mb-3 opacity-50"}),I.jsx("h5",{children:"No hay grupos creados"}),I.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),I.jsxs(nr,{variant:"primary",onClick:r,children:[I.jsx(Pv,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):I.jsx(pf,{children:e.map(l=>I.jsx(Yo,{md:6,lg:4,className:"mb-4",children:I.jsxs(hr,{className:"h-100",children:[I.jsxs(hr.Header,{className:"d-flex justify-content-between align-items-center",children:[I.jsxs("div",{children:[I.jsx("h6",{className:"mb-0",children:l.name}),I.jsxs("small",{className:"text-muted",children:[l.studentIds.length," estudiante",l.studentIds.length!==1?"s":""]})]}),I.jsx(nr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:I.jsx(kP,{size:14})})]}),I.jsx(hr.Body,{style:{minHeight:"300px"},children:I.jsx(_B,{droppableId:l.id,children:(u,h)=>I.jsxs("div",{ref:u.innerRef,...u.droppableProps,className:`p-2 rounded ${h.isDraggingOver?"bg-light":""}`,style:{minHeight:"200px"},children:[l.studentIds.length===0?I.jsxs("div",{className:"text-center text-muted py-4",children:[I.jsx(Xa,{size:24,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0 small",children:"Arrastra estudiantes aquí"})]}):l.studentIds.map((f,g)=>{const v=s(f);return v?I.jsx(DB,{draggableId:f,index:g,children:(C,S)=>I.jsxs("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${S.isDragging?"shadow":""}`,style:{...C.draggableProps.style,cursor:"grab"},children:[I.jsx("div",{className:"fw-medium",children:v.name}),I.jsx("small",{className:"text-muted",children:v.email})]})},f):null}),u.placeholder]})})})]})},l.id))})})]})}),kMe=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onSelectStudent:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>I.jsxs("div",{children:[I.jsxs(hr,{className:"mb-4",children:[I.jsxs(hr.Header,{className:"bg-light",children:[I.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(OP,{size:18,className:"me-2 text-muted"}),I.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),I.jsx(zT,{bg:"secondary",className:"badge-count",children:t.length})]}),I.jsx(Yt.Group,{children:I.jsxs("div",{className:"position-relative",children:[I.jsx(Yt.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),I.jsx(_P,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})})]}),I.jsx(hr.Body,{className:"p-2",children:t.length===0?I.jsxs("div",{className:"text-center text-muted py-4",children:[I.jsx(Xa,{size:32,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0",children:"Todos los estudiantes están asignados"})]}):I.jsx(ao,{variant:"flush",children:t.map(l=>I.jsxs(ao.Item,{action:!0,onClick:()=>i(l),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:l.name}),I.jsx("small",{className:"text-muted",children:l.email})]}),I.jsx($L,{size:16,className:"text-muted"})]},l.id))})})]}),e.length===0?I.jsxs(Zw,{variant:"info",className:"text-center py-5",children:[I.jsx(Xa,{size:48,className:"mb-3 opacity-50"}),I.jsx("h5",{children:"No hay grupos creados"}),I.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),I.jsxs(nr,{variant:"primary",onClick:r,children:[I.jsx(Pv,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):e.map(l=>I.jsxs(hr,{className:"mb-3",children:[I.jsxs(hr.Header,{className:"d-flex justify-content-between align-items-center",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx("h6",{className:"mb-0 me-2",children:l.name}),I.jsx(zT,{bg:"primary",className:"badge-count",children:l.studentIds.length})]}),I.jsx(nr,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:I.jsx(kP,{size:14})})]}),I.jsx(hr.Body,{className:"p-2",children:l.studentIds.length===0?I.jsxs("div",{className:"text-center text-muted py-3",children:[I.jsx(Xa,{size:24,className:"mb-2 opacity-50"}),I.jsx("p",{className:"mb-0 small",children:"No hay estudiantes asignados"})]}):I.jsx(ao,{variant:"flush",children:l.studentIds.map(u=>{const h=s(u);return h?I.jsxs(ao.Item,{action:!0,onClick:()=>i(h,l.id),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:h.name}),I.jsx("small",{className:"text-muted",children:h.email})]}),I.jsx($L,{size:16,className:"text-muted"})]},u):null})})})]},l.id))]}),OMe=()=>{const{user:e}=va(),{groups:t,availableStudents:n,setGroups:r,setAvailableStudents:i,setAllStudents:s,addGroup:o,removeGroup:a,moveStudentToGroup:l,getStudentById:u}=xMe(),h=K9(),[f,g]=b.useState(!0),[v,C]=b.useState(!1),[S,R]=b.useState(""),[x,D]=b.useState(!1),[T,k]=b.useState(!1),[O,P]=b.useState(null),[_,M]=b.useState(),[N,B]=b.useState(""),U=(pe=>{let F=pe;if(N.trim()){const X=N.toLowerCase().trim();F=pe.filter(re=>re.name.toLowerCase().includes(X)||re.email.toLowerCase().includes(X))}return F.sort((X,re)=>X.name.localeCompare(re.name))})(n);b.useEffect(()=>{(async()=>{if(e?.id)try{g(!0);const[F,X]=await Promise.all([FMe(e.id),v5()]),re=F.flatMap(ge=>ge.studentIds),z=X.filter(ge=>!re.includes(ge.id));r(F),s(X),i(z)}catch(F){console.error("Error loading data:",F)}finally{g(!1)}})()},[e?.id,r,i,s]);const G=async()=>{if(!(!S.trim()||!e?.id))try{D(!0);const pe=await IMe({name:S.trim(),teacherId:e.id});o(pe),R(""),C(!1)}catch(pe){console.error("Error creating group:",pe)}finally{D(!1)}},ee=async pe=>{try{await MMe(pe),a(pe)}catch(F){console.error("Error deleting group:",F)}},ie=async pe=>{const{destination:F,source:X,draggableId:re}=pe;if(!F||F.droppableId===X.droppableId&&F.index===X.index)return;const z=X.droppableId==="available"?null:X.droppableId,ge=F.droppableId==="available"?null:F.droppableId;await te(re,z,ge)},$=(pe,F)=>{P(pe),M(F),k(!0)},Z=async pe=>{O&&(await te(O.id,_||null,pe),k(!1),P(null),M(void 0))},te=async(pe,F,X)=>{l(pe,F,X);try{if(F&&X){const re=t.find(ge=>ge.id===F),z=t.find(ge=>ge.id===X);re&&z&&(await QC(F,{studentIds:re.studentIds.filter(ge=>ge!==pe)}),await QC(X,{studentIds:[...z.studentIds,pe]}))}else if(F&&!X){const re=t.find(z=>z.id===F);re&&await QC(F,{studentIds:re.studentIds.filter(z=>z!==pe)})}else if(!F&&X){const re=t.find(z=>z.id===X);re&&await QC(X,{studentIds:[...re.studentIds,pe]})}}catch(re){console.error("Error updating groups:",re)}};return f?I.jsx(Em,{fluid:!0,className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:I.jsx(fo,{animation:"border",variant:"primary"})}):I.jsxs(Em,{fluid:!0,children:[I.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"mb-1",children:"Gestión de Grupos"}),I.jsx("p",{className:"text-muted mb-0",children:h?"Toca un estudiante para moverlo":"Arrastra estudiantes para asignarlos a grupos"})]}),I.jsxs(nr,{variant:"primary",onClick:()=>C(!0),className:"d-flex align-items-center",children:[I.jsx(Pv,{size:16,className:"me-2"}),"Crear Grupo"]})]}),h?I.jsx(kMe,{groups:t,availableStudents:U,onDeleteGroup:ee,onShowCreateModal:()=>C(!0),onSelectStudent:$,getStudentById:u,searchTerm:N,onSearchChange:B}):I.jsx(_Me,{groups:t,availableStudents:U,onDeleteGroup:ee,onShowCreateModal:()=>C(!0),onDragEnd:ie,getStudentById:u,searchTerm:N,onSearchChange:B}),I.jsxs(On,{show:v,onHide:()=>C(!1),children:[I.jsx(On.Header,{closeButton:!0,children:I.jsx(On.Title,{children:"Crear Nuevo Grupo"})}),I.jsx(On.Body,{children:I.jsxs(Yt.Group,{children:[I.jsx(Yt.Label,{children:"Nombre del Grupo"}),I.jsx(Yt.Control,{type:"text",placeholder:"Ej: Grupo A, Equipo 1, etc.",value:S,onChange:pe=>R(pe.target.value),autoFocus:!0})]})}),I.jsxs(On.Footer,{children:[I.jsx(nr,{variant:"secondary",onClick:()=>C(!1),children:"Cancelar"}),I.jsx(nr,{variant:"primary",onClick:G,disabled:!S.trim()||x,children:x?I.jsxs(I.Fragment,{children:[I.jsx(fo,{size:"sm",className:"me-2"}),"Creando..."]}):"Crear Grupo"})]})]}),I.jsxs(On,{show:T,onHide:()=>k(!1),children:[I.jsx(On.Header,{closeButton:!0,children:I.jsxs(On.Title,{children:["Mover a ",O?.name]})}),I.jsxs(On.Body,{children:[I.jsxs("p",{className:"text-muted mb-3",children:["Selecciona el destino para ",O?.name,":"]}),I.jsxs(ao,{children:[_&&I.jsxs(ao.Item,{action:!0,onClick:()=>Z(null),className:"d-flex align-items-center",children:[I.jsx(OP,{size:18,className:"me-3 text-muted"}),I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:"Estudiantes Disponibles"}),I.jsx("small",{className:"text-muted",children:"Quitar del grupo actual"})]})]}),t.filter(pe=>pe.id!==_).map(pe=>I.jsxs(ao.Item,{action:!0,onClick:()=>Z(pe.id),className:"d-flex align-items-center",children:[I.jsx(Xa,{size:18,className:"me-3 text-primary"}),I.jsxs("div",{children:[I.jsx("div",{className:"fw-medium",children:pe.name}),I.jsxs("small",{className:"text-muted",children:[pe.studentIds.length," estudiante",pe.studentIds.length!==1?"s":""]})]})]},pe.id))]})]})]})]})},bg=({children:e,allowedRoles:t})=>{const{user:n}=va(),r=ma();return n?t.includes(n.role)?I.jsx(I.Fragment,{children:e}):I.jsx(Hh,{to:"/dashboard/mapa",replace:!0}):I.jsx(Hh,{to:"/login",state:{from:r},replace:!0})},LMe=({children:e})=>{const{user:t}=va(),r=ma().state?.from?.pathname||"/";return t?I.jsx(Hh,{to:r,replace:!0}):I.jsx(I.Fragment,{children:e})},NMe={BASE_URL:"/TutorIngles/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var VMe={};const BMe=e=>NMe[e]||VMe[e]||null,Y9=BMe("VITE_CLOUD_FUNCTIONS_BASE_URL"),HMe=async e=>(await fetch(`${Y9}/classifyTask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})})).text(),GMe=async(e,t)=>{const n=await fetch(`${Y9}/generateText`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,mode:t})});if(!n.ok)throw new Error("Network response was not ok");return n.json()};function zMe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const UMe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jMe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WMe={};function OB(e,t){return(WMe.jsx?jMe:UMe).test(e)}const $Me=/[ \t\n\f\r]/g;function qMe(e){return typeof e=="object"?e.type==="text"?LB(e.value):!1:LB(e)}function LB(e){return e.replace($Me,"")===""}class ty{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ty.prototype.normal={};ty.prototype.property={};ty.prototype.space=void 0;function X9(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ty(n,r,t)}function cA(e){return e.toLowerCase()}class ji{constructor(t,n){this.attribute=n,this.property=t}}ji.prototype.attribute="";ji.prototype.booleanish=!1;ji.prototype.boolean=!1;ji.prototype.commaOrSpaceSeparated=!1;ji.prototype.commaSeparated=!1;ji.prototype.defined=!1;ji.prototype.mustUseProperty=!1;ji.prototype.number=!1;ji.prototype.overloadedBoolean=!1;ji.prototype.property="";ji.prototype.spaceSeparated=!1;ji.prototype.space=void 0;let KMe=0;const At=Id(),cr=Id(),uA=Id(),Pe=Id(),Sn=Id(),rf=Id(),ts=Id();function Id(){return 2**++KMe}const dA=Object.freeze(Object.defineProperty({__proto__:null,boolean:At,booleanish:cr,commaOrSpaceSeparated:ts,commaSeparated:rf,number:Pe,overloadedBoolean:uA,spaceSeparated:Sn},Symbol.toStringTag,{value:"Module"})),Zx=Object.keys(dA);class iF extends ji{constructor(t,n,r,i){let s=-1;if(super(t,n),NB(this,"space",i),typeof r=="number")for(;++s<Zx.length;){const o=Zx[s];NB(this,Zx[s],(r&dA[o])===dA[o])}}}iF.prototype.defined=!0;function NB(e,t,n){n&&(e[t]=n)}function np(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new iF(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[cA(r)]=r,n[cA(s.attribute)]=r}return new ty(t,n,e.space)}const Q9=np({properties:{ariaActiveDescendant:null,ariaAtomic:cr,ariaAutoComplete:null,ariaBusy:cr,ariaChecked:cr,ariaColCount:Pe,ariaColIndex:Pe,ariaColSpan:Pe,ariaControls:Sn,ariaCurrent:null,ariaDescribedBy:Sn,ariaDetails:null,ariaDisabled:cr,ariaDropEffect:Sn,ariaErrorMessage:null,ariaExpanded:cr,ariaFlowTo:Sn,ariaGrabbed:cr,ariaHasPopup:null,ariaHidden:cr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Sn,ariaLevel:Pe,ariaLive:null,ariaModal:cr,ariaMultiLine:cr,ariaMultiSelectable:cr,ariaOrientation:null,ariaOwns:Sn,ariaPlaceholder:null,ariaPosInSet:Pe,ariaPressed:cr,ariaReadOnly:cr,ariaRelevant:null,ariaRequired:cr,ariaRoleDescription:Sn,ariaRowCount:Pe,ariaRowIndex:Pe,ariaRowSpan:Pe,ariaSelected:cr,ariaSetSize:Pe,ariaSort:null,ariaValueMax:Pe,ariaValueMin:Pe,ariaValueNow:Pe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Z9(e,t){return t in e?e[t]:t}function J9(e,t){return Z9(e,t.toLowerCase())}const YMe=np({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rf,acceptCharset:Sn,accessKey:Sn,action:null,allow:null,allowFullScreen:At,allowPaymentRequest:At,allowUserMedia:At,alt:null,as:null,async:At,autoCapitalize:null,autoComplete:Sn,autoFocus:At,autoPlay:At,blocking:Sn,capture:null,charSet:null,checked:At,cite:null,className:Sn,cols:Pe,colSpan:null,content:null,contentEditable:cr,controls:At,controlsList:Sn,coords:Pe|rf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:At,defer:At,dir:null,dirName:null,disabled:At,download:uA,draggable:cr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:At,formTarget:null,headers:Sn,height:Pe,hidden:uA,high:Pe,href:null,hrefLang:null,htmlFor:Sn,httpEquiv:Sn,id:null,imageSizes:null,imageSrcSet:null,inert:At,inputMode:null,integrity:null,is:null,isMap:At,itemId:null,itemProp:Sn,itemRef:Sn,itemScope:At,itemType:Sn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:At,low:Pe,manifest:null,max:null,maxLength:Pe,media:null,method:null,min:null,minLength:Pe,multiple:At,muted:At,name:null,nonce:null,noModule:At,noValidate:At,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:At,optimum:Pe,pattern:null,ping:Sn,placeholder:null,playsInline:At,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:At,referrerPolicy:null,rel:Sn,required:At,reversed:At,rows:Pe,rowSpan:Pe,sandbox:Sn,scope:null,scoped:At,seamless:At,selected:At,shadowRootClonable:At,shadowRootDelegatesFocus:At,shadowRootMode:null,shape:null,size:Pe,sizes:null,slot:null,span:Pe,spellCheck:cr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pe,step:null,style:null,tabIndex:Pe,target:null,title:null,translate:null,type:null,typeMustMatch:At,useMap:null,value:cr,width:Pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Sn,axis:null,background:null,bgColor:null,border:Pe,borderColor:null,bottomMargin:Pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:At,declare:At,event:null,face:null,frame:null,frameBorder:null,hSpace:Pe,leftMargin:Pe,link:null,longDesc:null,lowSrc:null,marginHeight:Pe,marginWidth:Pe,noResize:At,noHref:At,noShade:At,noWrap:At,object:null,profile:null,prompt:null,rev:null,rightMargin:Pe,rules:null,scheme:null,scrolling:cr,standby:null,summary:null,text:null,topMargin:Pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:At,disableRemotePlayback:At,prefix:null,property:null,results:Pe,security:null,unselectable:null},space:"html",transform:J9}),XMe=np({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ts,accentHeight:Pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pe,amplitude:Pe,arabicForm:null,ascent:Pe,attributeName:null,attributeType:null,azimuth:Pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pe,by:null,calcMode:null,capHeight:Pe,className:Sn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pe,diffuseConstant:Pe,direction:null,display:null,dur:null,divisor:Pe,dominantBaseline:null,download:At,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pe,enableBackground:null,end:null,event:null,exponent:Pe,externalResourcesRequired:null,fill:null,fillOpacity:Pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rf,g2:rf,glyphName:rf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pe,horizOriginX:Pe,horizOriginY:Pe,id:null,ideographic:Pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pe,k:Pe,k1:Pe,k2:Pe,k3:Pe,k4:Pe,kernelMatrix:ts,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pe,overlineThickness:Pe,paintOrder:null,panose1:null,path:null,pathLength:Pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Sn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pe,pointsAtY:Pe,pointsAtZ:Pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ts,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ts,rev:ts,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ts,requiredFeatures:ts,requiredFonts:ts,requiredFormats:ts,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pe,specularExponent:Pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pe,strikethroughThickness:Pe,string:null,stroke:null,strokeDashArray:ts,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pe,strokeOpacity:Pe,strokeWidth:null,style:null,surfaceScale:Pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ts,tabIndex:Pe,tableValues:null,target:null,targetX:Pe,targetY:Pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ts,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pe,underlineThickness:Pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pe,values:null,vAlphabetic:Pe,vMathematical:Pe,vectorEffect:null,vHanging:Pe,vIdeographic:Pe,version:null,vertAdvY:Pe,vertOriginX:Pe,vertOriginY:Pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Z9}),e7=np({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),t7=np({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:J9}),n7=np({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),QMe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ZMe=/[A-Z]/g,VB=/-[a-z]/g,JMe=/^data[-\w.:]+$/i;function e_e(e,t){const n=cA(t);let r=t,i=ji;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&JMe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(VB,n_e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!VB.test(s)){let o=s.replace(ZMe,t_e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=iF}return new i(r,t)}function t_e(e){return"-"+e.toLowerCase()}function n_e(e){return e.charAt(1).toUpperCase()}const r_e=X9([Q9,YMe,e7,t7,n7],"html"),sF=X9([Q9,XMe,e7,t7,n7],"svg");function i_e(e){return e.join(" ").trim()}var bh={},Jx,BB;function s_e(){if(BB)return Jx;BB=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",h="*",f="",g="comment",v="declaration";Jx=function(S,R){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];R=R||{};var x=1,D=1;function T(G){var ee=G.match(t);ee&&(x+=ee.length);var ie=G.lastIndexOf(l);D=~ie?G.length-ie:D+G.length}function k(){var G={line:x,column:D};return function(ee){return ee.position=new O(G),M(),ee}}function O(G){this.start=G,this.end={line:x,column:D},this.source=R.source}O.prototype.content=S;function P(G){var ee=new Error(R.source+":"+x+":"+D+": "+G);if(ee.reason=G,ee.filename=R.source,ee.line=x,ee.column=D,ee.source=S,!R.silent)throw ee}function _(G){var ee=G.exec(S);if(ee){var ie=ee[0];return T(ie),S=S.slice(ie.length),ee}}function M(){_(n)}function N(G){var ee;for(G=G||[];ee=B();)ee!==!1&&G.push(ee);return G}function B(){var G=k();if(!(u!=S.charAt(0)||h!=S.charAt(1))){for(var ee=2;f!=S.charAt(ee)&&(h!=S.charAt(ee)||u!=S.charAt(ee+1));)++ee;if(ee+=2,f===S.charAt(ee-1))return P("End of comment missing");var ie=S.slice(2,ee-2);return D+=2,T(ie),S=S.slice(ee),D+=2,G({type:g,comment:ie})}}function H(){var G=k(),ee=_(r);if(ee){if(B(),!_(i))return P("property missing ':'");var ie=_(s),$=G({type:v,property:C(ee[0].replace(e,f)),value:ie?C(ie[0].replace(e,f)):f});return _(o),$}}function U(){var G=[];N(G);for(var ee;ee=H();)ee!==!1&&(G.push(ee),N(G));return G}return M(),U()};function C(S){return S?S.replace(a,f):f}return Jx}var HB;function o_e(){if(HB)return bh;HB=1;var e=bh&&bh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bh,"__esModule",{value:!0}),bh.default=n;var t=e(s_e());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,h=l.value;a?i(u,h,l):h&&(s=s||{},s[u]=h)}}),s}return bh}var Sg={},GB;function a_e(){if(GB)return Sg;GB=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||e.test(u)},o=function(u,h){return h.toUpperCase()},a=function(u,h){return"".concat(h,"-")},l=function(u,h){return h===void 0&&(h={}),s(u)?u:(u=u.toLowerCase(),h.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,o))};return Sg.camelCase=l,Sg}var Eg,zB;function l_e(){if(zB)return Eg;zB=1;var e=Eg&&Eg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(o_e()),n=a_e();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,Eg=r,Eg}var c_e=l_e();const u_e=Of(c_e),r7=i7("end"),oF=i7("start");function i7(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function d_e(e){const t=oF(e),n=r7(e);if(t&&n)return{start:t,end:n}}function sm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?UB(e.position):"start"in e||"end"in e?UB(e):"line"in e||"column"in e?hA(e):""}function hA(e){return jB(e&&e.line)+":"+jB(e&&e.column)}function UB(e){return hA(e&&e.start)+"-"+hA(e&&e.end)}function jB(e){return e&&typeof e=="number"?e:1}class di extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=sm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}di.prototype.file="";di.prototype.name="";di.prototype.reason="";di.prototype.message="";di.prototype.stack="";di.prototype.column=void 0;di.prototype.line=void 0;di.prototype.ancestors=void 0;di.prototype.cause=void 0;di.prototype.fatal=void 0;di.prototype.place=void 0;di.prototype.ruleId=void 0;di.prototype.source=void 0;const aF={}.hasOwnProperty,h_e=new Map,f_e=/[A-Z]/g,p_e=new Set(["table","tbody","thead","tfoot","tr"]),g_e=new Set(["td","th"]),s7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function m_e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=R_e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=E_e(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?sF:r_e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=o7(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function o7(e,t,n){if(t.type==="element")return v_e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return y_e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return w_e(e,t,n);if(t.type==="mdxjsEsm")return C_e(e,t);if(t.type==="root")return b_e(e,t,n);if(t.type==="text")return S_e(e,t)}function v_e(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=sF,e.schema=i),e.ancestors.push(t);const s=l7(e,t.tagName,!1),o=x_e(e,t);let a=cF(e,t);return p_e.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!qMe(l):!0})),a7(e,o,s,t),lF(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function y_e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}tv(e,t.position)}function C_e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);tv(e,t.position)}function w_e(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=sF,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:l7(e,t.name,!0),o=T_e(e,t),a=cF(e,t);return a7(e,o,s,t),lF(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function b_e(e,t,n){const r={};return lF(r,cF(e,t)),e.create(t,e.Fragment,r,n)}function S_e(e,t){return t.value}function a7(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function lF(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function E_e(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function R_e(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=oF(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function x_e(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&aF.call(t.properties,i)){const s=D_e(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&g_e.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function T_e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else tv(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else tv(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function cF(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:h_e;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=o7(e,s,o);a!==void 0&&n.push(a)}return n}function D_e(e,t,n){const r=e_e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?zMe(n):i_e(n)),r.property==="style"){let i=typeof n=="object"?n:A_e(e,String(n));return e.stylePropertyNameCase==="css"&&(i=P_e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?QMe[r.property]||r.property:r.attribute,n]}}function A_e(e,t){try{return u_e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new di("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=s7+"#cannot-parse-style-attribute",i}}function l7(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=OB(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=OB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return aF.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);tv(e)}function tv(e,t){const n=new di("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=s7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function P_e(e){const t={};let n;for(n in e)aF.call(e,n)&&(t[I_e(n)]=e[n]);return t}function I_e(e){let t=e.replace(f_e,F_e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function F_e(e){return"-"+e.toLowerCase()}const eT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},M_e={};function __e(e,t){const n=M_e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return c7(e,r,i)}function c7(e,t,n){if(k_e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return WB(e.children,t,n)}return Array.isArray(e)?WB(e,t,n):""}function WB(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=c7(e[i],t,n);return r.join("")}function k_e(e){return!!(e&&typeof e=="object")}const $B=document.createElement("i");function uF(e){const t="&"+e+";";$B.innerHTML=t;const n=$B.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ga(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Vs(e,t){return e.length>0?(ga(e,e.length,0,t),e):t}const qB={}.hasOwnProperty;function O_e(e){const t={};let n=-1;for(;++n<e.length;)L_e(t,e[n]);return t}function L_e(e,t){let n;for(n in t){const i=(qB.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){qB.call(i,o)||(i[o]=[]);const a=s[o];N_e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function N_e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ga(e,0,0,r)}function u7(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function sf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zo=Uc(/[A-Za-z]/),us=Uc(/[\dA-Za-z]/),V_e=Uc(/[#-'*+\--9=?A-Z^-~]/);function fA(e){return e!==null&&(e<32||e===127)}const pA=Uc(/\d/),B_e=Uc(/[\dA-Fa-f]/),H_e=Uc(/[!-/:-@[-`{-~]/);function Ct(e){return e!==null&&e<-2}function Hi(e){return e!==null&&(e<0||e===32)}function tn(e){return e===-2||e===-1||e===32}const G_e=Uc(new RegExp("\\p{P}|\\p{S}","u")),z_e=Uc(/\s/);function Uc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function rp(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&us(e.charCodeAt(n+1))&&us(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function En(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return tn(l)?(e.enter(n),a(l)):t(l)}function a(l){return tn(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const U_e={tokenize:j_e};function j_e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),En(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Ct(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const W_e={tokenize:$_e},KB={tokenize:q_e};function $_e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(T){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,u)(T)}return u(T)}function l(T){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&D();const k=t.events.length;let O=k,P;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){P=t.events[O][1].end;break}x(r);let _=k;for(;_<t.events.length;)t.events[_][1].end={...P},_++;return ga(t.events,O+1,0,t.events.slice(k)),t.events.length=_,u(T)}return a(T)}function u(T){if(r===n.length){if(!i)return g(T);if(i.currentConstruct&&i.currentConstruct.concrete)return C(T);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(KB,h,f)(T)}function h(T){return i&&D(),x(r),g(T)}function f(T){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,C(T)}function g(T){return t.containerState={},e.attempt(KB,v,C)(T)}function v(T){return r++,n.push([t.currentConstruct,t.containerState]),g(T)}function C(T){if(T===null){i&&D(),x(0),e.consume(T);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(T)}function S(T){if(T===null){R(e.exit("chunkFlow"),!0),x(0),e.consume(T);return}return Ct(T)?(e.consume(T),R(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(T),S)}function R(T,k){const O=t.sliceStream(T);if(k&&O.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(O),t.parser.lazy[T.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<o&&(!i.events[P][1].end||i.events[P][1].end.offset>o))return;const _=t.events.length;let M=_,N,B;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(N){B=t.events[M][1].end;break}N=!0}for(x(r),P=_;P<t.events.length;)t.events[P][1].end={...B},P++;ga(t.events,M+1,0,t.events.slice(_)),t.events.length=P}}function x(T){let k=n.length;for(;k-- >T;){const O=n[k];t.containerState=O[1],O[0].exit.call(t,e)}n.length=T}function D(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function q_e(e,t,n){return En(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function YB(e){if(e===null||Hi(e)||z_e(e))return 1;if(G_e(e))return 2}function dF(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const gA={name:"attention",resolveAll:K_e,tokenize:Y_e};function K_e(e,t){let n=-1,r,i,s,o,a,l,u,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},g={...e[n][1].start};XB(f,-l),XB(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Vs(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Vs(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Vs(u,dF(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Vs(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,u=Vs(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,ga(e,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Y_e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=YB(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),h=YB(l),f=!h||h===2&&i||n.includes(l),g=!i||i===2&&h||n.includes(r);return u._open=!!(s===42?f:f&&(i||!g)),u._close=!!(s===42?g:g&&(h||!f)),t(l)}}function XB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const X_e={name:"autolink",tokenize:Q_e};function Q_e(e,t,n){let r=0;return i;function i(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(v){return zo(v)?(e.consume(v),o):v===64?n(v):u(v)}function o(v){return v===43||v===45||v===46||us(v)?(r=1,a(v)):u(v)}function a(v){return v===58?(e.consume(v),r=0,l):(v===43||v===45||v===46||us(v))&&r++<32?(e.consume(v),a):(r=0,u(v))}function l(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||fA(v)?n(v):(e.consume(v),l)}function u(v){return v===64?(e.consume(v),h):V_e(v)?(e.consume(v),u):n(v)}function h(v){return us(v)?f(v):n(v)}function f(v){return v===46?(e.consume(v),r=0,h):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):g(v)}function g(v){if((v===45||us(v))&&r++<63){const C=v===45?g:f;return e.consume(v),C}return n(v)}}const xE={partial:!0,tokenize:Z_e};function Z_e(e,t,n){return r;function r(s){return tn(s)?En(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ct(s)?t(s):n(s)}}const d7={continuation:{tokenize:eke},exit:tke,name:"blockQuote",tokenize:J_e};function J_e(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return tn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function eke(e,t,n){const r=this;return i;function i(o){return tn(o)?En(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(d7,t,n)(o)}}function tke(e){e.exit("blockQuote")}const h7={name:"characterEscape",tokenize:nke};function nke(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return H_e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const f7={name:"characterReference",tokenize:rke};function rke(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=us,h(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=B_e,h):(e.enter("characterReferenceValue"),s=7,o=pA,h(f))}function h(f){if(f===59&&i){const g=e.exit("characterReferenceValue");return o===us&&!uF(r.sliceSerialize(g))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),h):n(f)}}const QB={partial:!0,tokenize:ske},ZB={concrete:!0,name:"codeFenced",tokenize:ike};function ike(e,t,n){const r=this,i={partial:!0,tokenize:O};let s=0,o=0,a;return l;function l(P){return u(P)}function u(P){const _=r.events[r.events.length-1];return s=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(P)}function h(P){return P===a?(o++,e.consume(P),h):o<3?n(P):(e.exit("codeFencedFenceSequence"),tn(P)?En(e,f,"whitespace")(P):f(P))}function f(P){return P===null||Ct(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(QB,S,k)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Ct(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(P)):tn(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),En(e,v,"whitespace")(P)):P===96&&P===a?n(P):(e.consume(P),g)}function v(P){return P===null||Ct(P)?f(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(P))}function C(P){return P===null||Ct(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(P)):P===96&&P===a?n(P):(e.consume(P),C)}function S(P){return e.attempt(i,k,R)(P)}function R(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),x}function x(P){return s>0&&tn(P)?En(e,D,"linePrefix",s+1)(P):D(P)}function D(P){return P===null||Ct(P)?e.check(QB,S,k)(P):(e.enter("codeFlowValue"),T(P))}function T(P){return P===null||Ct(P)?(e.exit("codeFlowValue"),D(P)):(e.consume(P),T)}function k(P){return e.exit("codeFenced"),t(P)}function O(P,_,M){let N=0;return B;function B(ie){return P.enter("lineEnding"),P.consume(ie),P.exit("lineEnding"),H}function H(ie){return P.enter("codeFencedFence"),tn(ie)?En(P,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):U(ie)}function U(ie){return ie===a?(P.enter("codeFencedFenceSequence"),G(ie)):M(ie)}function G(ie){return ie===a?(N++,P.consume(ie),G):N>=o?(P.exit("codeFencedFenceSequence"),tn(ie)?En(P,ee,"whitespace")(ie):ee(ie)):M(ie)}function ee(ie){return ie===null||Ct(ie)?(P.exit("codeFencedFence"),_(ie)):M(ie)}}}function ske(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const tT={name:"codeIndented",tokenize:ake},oke={partial:!0,tokenize:lke};function ake(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),En(e,s,"linePrefix",5)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Ct(u)?e.attempt(oke,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||Ct(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function lke(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ct(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):En(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Ct(o)?i(o):n(o)}}const cke={name:"codeText",previous:dke,resolve:uke,tokenize:hke};function uke(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function dke(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hke(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),i=0,h(f)):Ct(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Ct(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function h(f){return f===96?(e.consume(f),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class fke{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Rg(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Rg(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Rg(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Rg(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Rg(this.left,n.reverse())}}}function Rg(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function p7(e){const t={};let n=-1,r,i,s,o,a,l,u;const h=new fke(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,pke(h,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return ga(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function pke(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let h,f,g=-1,v=n,C=0,S=0;const R=[S];for(;v;){for(;e.get(++i)[1]!==v;);s.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),f&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=v,v=v.next}for(v=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(S=g+1,R.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):R.pop(),g=R.length;g--;){const x=a.slice(R[g],R[g+1]),D=s.pop();l.push([D,D+x.length-1]),e.splice(D,2,x)}for(l.reverse(),g=-1;++g<l.length;)u[C+l[g][0]]=C+l[g][1],C+=l[g][1]-l[g][0]-1;return u}const gke={resolve:vke,tokenize:yke},mke={partial:!0,tokenize:Cke};function vke(e){return p7(e),e}function yke(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Ct(a)?e.check(mke,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Cke(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),En(e,s,"linePrefix")}function s(o){if(o===null||Ct(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function g7(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(x),e.exit(s),g):x===null||x===32||x===41||fA(x)?n(x):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),S(x))}function g(x){return x===62?(e.enter(s),e.consume(x),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),v(x))}function v(x){return x===62?(e.exit("chunkString"),e.exit(a),g(x)):x===null||x===60||Ct(x)?n(x):(e.consume(x),x===92?C:v)}function C(x){return x===60||x===62||x===92?(e.consume(x),v):v(x)}function S(x){return!h&&(x===null||x===41||Hi(x))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(x)):h<u&&x===40?(e.consume(x),h++,S):x===41?(e.consume(x),h--,S):x===null||x===32||x===40||fA(x)?n(x):(e.consume(x),x===92?R:S)}function R(x){return x===40||x===41||x===92?(e.consume(x),S):S(x)}}function m7(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(v){return e.enter(r),e.enter(i),e.consume(v),e.exit(i),e.enter(s),h}function h(v){return a>999||v===null||v===91||v===93&&!l||v===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(e.exit(s),e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):Ct(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===null||v===91||v===93||Ct(v)||a++>999?(e.exit("chunkString"),h(v)):(e.consume(v),l||(l=!tn(v)),v===92?g:f)}function g(v){return v===91||v===92||v===93?(e.consume(v),a++,f):f(v)}}function v7(e,t,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),u(g))}function u(g){return g===o?(e.exit(s),l(o)):g===null?n(g):Ct(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),En(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===o||g===null||Ct(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?f:h)}function f(g){return g===o||g===92?(e.consume(g),h):h(g)}}function om(e,t){let n;return r;function r(i){return Ct(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):tn(i)?En(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const wke={name:"definition",tokenize:Ske},bke={partial:!0,tokenize:Eke};function Ske(e,t,n){const r=this;let i;return s;function s(v){return e.enter("definition"),o(v)}function o(v){return m7.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function a(v){return i=sf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),l):n(v)}function l(v){return Hi(v)?om(e,u)(v):u(v)}function u(v){return g7(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return e.attempt(bke,f,f)(v)}function f(v){return tn(v)?En(e,g,"whitespace")(v):g(v)}function g(v){return v===null||Ct(v)?(e.exit("definition"),r.parser.defined.push(i),t(v)):n(v)}}function Eke(e,t,n){return r;function r(a){return Hi(a)?om(e,i)(a):n(a)}function i(a){return v7(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return tn(a)?En(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Ct(a)?t(a):n(a)}}const Rke={name:"hardBreakEscape",tokenize:xke};function xke(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Ct(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Tke={name:"headingAtx",resolve:Dke,tokenize:Ake};function Dke(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ga(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Ake(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(e.consume(h),o):h===null||Hi(h)?(e.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(e.enter("atxHeadingSequence"),l(h)):h===null||Ct(h)?(e.exit("atxHeading"),t(h)):tn(h)?En(e,a,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function l(h){return h===35?(e.consume(h),l):(e.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||Hi(h)?(e.exit("atxHeadingText"),a(h)):(e.consume(h),u)}}const Pke=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],JB=["pre","script","style","textarea"],Ike={concrete:!0,name:"htmlFlow",resolveTo:_ke,tokenize:kke},Fke={partial:!0,tokenize:Lke},Mke={partial:!0,tokenize:Oke};function _ke(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function kke(e,t,n){const r=this;let i,s,o,a,l;return u;function u(z){return h(z)}function h(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),f}function f(z){return z===33?(e.consume(z),g):z===47?(e.consume(z),s=!0,S):z===63?(e.consume(z),i=3,r.interrupt?t:F):zo(z)?(e.consume(z),o=String.fromCharCode(z),R):n(z)}function g(z){return z===45?(e.consume(z),i=2,v):z===91?(e.consume(z),i=5,a=0,C):zo(z)?(e.consume(z),i=4,r.interrupt?t:F):n(z)}function v(z){return z===45?(e.consume(z),r.interrupt?t:F):n(z)}function C(z){const ge="CDATA[";return z===ge.charCodeAt(a++)?(e.consume(z),a===ge.length?r.interrupt?t:U:C):n(z)}function S(z){return zo(z)?(e.consume(z),o=String.fromCharCode(z),R):n(z)}function R(z){if(z===null||z===47||z===62||Hi(z)){const ge=z===47,Ae=o.toLowerCase();return!ge&&!s&&JB.includes(Ae)?(i=1,r.interrupt?t(z):U(z)):Pke.includes(o.toLowerCase())?(i=6,ge?(e.consume(z),x):r.interrupt?t(z):U(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):s?D(z):T(z))}return z===45||us(z)?(e.consume(z),o+=String.fromCharCode(z),R):n(z)}function x(z){return z===62?(e.consume(z),r.interrupt?t:U):n(z)}function D(z){return tn(z)?(e.consume(z),D):B(z)}function T(z){return z===47?(e.consume(z),B):z===58||z===95||zo(z)?(e.consume(z),k):tn(z)?(e.consume(z),T):B(z)}function k(z){return z===45||z===46||z===58||z===95||us(z)?(e.consume(z),k):O(z)}function O(z){return z===61?(e.consume(z),P):tn(z)?(e.consume(z),O):T(z)}function P(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),l=z,_):tn(z)?(e.consume(z),P):M(z)}function _(z){return z===l?(e.consume(z),l=null,N):z===null||Ct(z)?n(z):(e.consume(z),_)}function M(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Hi(z)?O(z):(e.consume(z),M)}function N(z){return z===47||z===62||tn(z)?T(z):n(z)}function B(z){return z===62?(e.consume(z),H):n(z)}function H(z){return z===null||Ct(z)?U(z):tn(z)?(e.consume(z),H):n(z)}function U(z){return z===45&&i===2?(e.consume(z),$):z===60&&i===1?(e.consume(z),Z):z===62&&i===4?(e.consume(z),X):z===63&&i===3?(e.consume(z),F):z===93&&i===5?(e.consume(z),pe):Ct(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Fke,re,G)(z)):z===null||Ct(z)?(e.exit("htmlFlowData"),G(z)):(e.consume(z),U)}function G(z){return e.check(Mke,ee,re)(z)}function ee(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),ie}function ie(z){return z===null||Ct(z)?G(z):(e.enter("htmlFlowData"),U(z))}function $(z){return z===45?(e.consume(z),F):U(z)}function Z(z){return z===47?(e.consume(z),o="",te):U(z)}function te(z){if(z===62){const ge=o.toLowerCase();return JB.includes(ge)?(e.consume(z),X):U(z)}return zo(z)&&o.length<8?(e.consume(z),o+=String.fromCharCode(z),te):U(z)}function pe(z){return z===93?(e.consume(z),F):U(z)}function F(z){return z===62?(e.consume(z),X):z===45&&i===2?(e.consume(z),F):U(z)}function X(z){return z===null||Ct(z)?(e.exit("htmlFlowData"),re(z)):(e.consume(z),X)}function re(z){return e.exit("htmlFlow"),t(z)}}function Oke(e,t,n){const r=this;return i;function i(o){return Ct(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Lke(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(xE,t,n)}}const Nke={name:"htmlText",tokenize:Vke};function Vke(e,t,n){const r=this;let i,s,o;return a;function a(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),l}function l(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),O):F===63?(e.consume(F),T):zo(F)?(e.consume(F),M):n(F)}function u(F){return F===45?(e.consume(F),h):F===91?(e.consume(F),s=0,C):zo(F)?(e.consume(F),D):n(F)}function h(F){return F===45?(e.consume(F),v):n(F)}function f(F){return F===null?n(F):F===45?(e.consume(F),g):Ct(F)?(o=f,Z(F)):(e.consume(F),f)}function g(F){return F===45?(e.consume(F),v):f(F)}function v(F){return F===62?$(F):F===45?g(F):f(F)}function C(F){const X="CDATA[";return F===X.charCodeAt(s++)?(e.consume(F),s===X.length?S:C):n(F)}function S(F){return F===null?n(F):F===93?(e.consume(F),R):Ct(F)?(o=S,Z(F)):(e.consume(F),S)}function R(F){return F===93?(e.consume(F),x):S(F)}function x(F){return F===62?$(F):F===93?(e.consume(F),x):S(F)}function D(F){return F===null||F===62?$(F):Ct(F)?(o=D,Z(F)):(e.consume(F),D)}function T(F){return F===null?n(F):F===63?(e.consume(F),k):Ct(F)?(o=T,Z(F)):(e.consume(F),T)}function k(F){return F===62?$(F):T(F)}function O(F){return zo(F)?(e.consume(F),P):n(F)}function P(F){return F===45||us(F)?(e.consume(F),P):_(F)}function _(F){return Ct(F)?(o=_,Z(F)):tn(F)?(e.consume(F),_):$(F)}function M(F){return F===45||us(F)?(e.consume(F),M):F===47||F===62||Hi(F)?N(F):n(F)}function N(F){return F===47?(e.consume(F),$):F===58||F===95||zo(F)?(e.consume(F),B):Ct(F)?(o=N,Z(F)):tn(F)?(e.consume(F),N):$(F)}function B(F){return F===45||F===46||F===58||F===95||us(F)?(e.consume(F),B):H(F)}function H(F){return F===61?(e.consume(F),U):Ct(F)?(o=H,Z(F)):tn(F)?(e.consume(F),H):N(F)}function U(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,G):Ct(F)?(o=U,Z(F)):tn(F)?(e.consume(F),U):(e.consume(F),ee)}function G(F){return F===i?(e.consume(F),i=void 0,ie):F===null?n(F):Ct(F)?(o=G,Z(F)):(e.consume(F),G)}function ee(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Hi(F)?N(F):(e.consume(F),ee)}function ie(F){return F===47||F===62||Hi(F)?N(F):n(F)}function $(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function Z(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),te}function te(F){return tn(F)?En(e,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):pe(F)}function pe(F){return e.enter("htmlTextData"),o(F)}}const hF={name:"labelEnd",resolveAll:zke,resolveTo:Uke,tokenize:jke},Bke={tokenize:Wke},Hke={tokenize:$ke},Gke={tokenize:qke};function zke(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ga(e,0,e.length,n),e}function Uke(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Vs(a,e.slice(s+1,s+r+3)),a=Vs(a,[["enter",h,t]]),a=Vs(a,dF(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Vs(a,[["exit",h,t],e[o-2],e[o-1],["exit",u,t]]),a=Vs(a,e.slice(o+1)),a=Vs(a,[["exit",l,t]]),ga(e,s,e.length,a),e}function jke(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?f(g):(o=r.parser.defined.includes(sf(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(Bke,h,o?h:f)(g):g===91?e.attempt(Hke,h,o?u:f)(g):o?h(g):f(g)}function u(g){return e.attempt(Gke,h,f)(g)}function h(g){return t(g)}function f(g){return s._balanced=!0,n(g)}}function Wke(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Hi(f)?om(e,s)(f):s(f)}function s(f){return f===41?h(f):g7(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Hi(f)?om(e,l)(f):h(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?v7(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function u(f){return Hi(f)?om(e,h)(f):h(f)}function h(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function $ke(e,t,n){const r=this;return i;function i(a){return m7.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(sf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function qke(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Kke={name:"labelStartImage",resolveAll:hF.resolveAll,tokenize:Yke};function Yke(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Xke={name:"labelStartLink",resolveAll:hF.resolveAll,tokenize:Qke};function Qke(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const nT={name:"lineEnding",tokenize:Zke};function Zke(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),En(e,t,"linePrefix")}}const Bw={name:"thematicBreak",tokenize:Jke};function Jke(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ct(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),tn(u)?En(e,a,"whitespace")(u):a(u))}}const _i={continuation:{tokenize:rOe},exit:sOe,name:"list",tokenize:nOe},eOe={partial:!0,tokenize:oOe},tOe={partial:!0,tokenize:iOe};function nOe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(v){const C=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:pA(v)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(Bw,n,u)(v):u(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(v)}return n(v)}function l(v){return pA(v)&&++o<10?(e.consume(v),l):(!r.interrupt||o<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),u(v)):n(v)}function u(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(xE,r.interrupt?n:h,e.attempt(eOe,g,f))}function h(v){return r.containerState.initialBlankLine=!0,s++,g(v)}function f(v){return tn(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function rOe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(xE,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,En(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!tn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tOe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,En(e,e.attempt(_i,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function iOe(e,t,n){const r=this;return En(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function sOe(e){e.exit(this.containerState.type)}function oOe(e,t,n){const r=this;return En(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!tn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const eH={name:"setextUnderline",resolveTo:aOe,tokenize:lOe};function aOe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function lOe(e,t,n){const r=this;let i;return s;function s(u){let h=r.events.length,f;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){f=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),tn(u)?En(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ct(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const cOe={tokenize:uOe};function uOe(e){const t=this,n=e.attempt(xE,r,e.attempt(this.parser.constructs.flowInitial,i,En(e,e.attempt(this.parser.constructs.flow,i,e.attempt(gke,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dOe={resolveAll:C7()},hOe=y7("string"),fOe=y7("text");function y7(e){return{resolveAll:C7(e==="text"?pOe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const f=i[h];let g=-1;if(f)for(;++g<f.length;){const v=f[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function C7(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function pOe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const gOe={42:_i,43:_i,45:_i,48:_i,49:_i,50:_i,51:_i,52:_i,53:_i,54:_i,55:_i,56:_i,57:_i,62:d7},mOe={91:wke},vOe={[-2]:tT,[-1]:tT,32:tT},yOe={35:Tke,42:Bw,45:[eH,Bw],60:Ike,61:eH,95:Bw,96:ZB,126:ZB},COe={38:f7,92:h7},wOe={[-5]:nT,[-4]:nT,[-3]:nT,33:Kke,38:f7,42:gA,60:[X_e,Nke],91:Xke,92:[Rke,h7],93:hF,95:gA,96:cke},bOe={null:[gA,dOe]},SOe={null:[42,95]},EOe={null:[]},ROe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SOe,contentInitial:mOe,disable:EOe,document:gOe,flow:yOe,flowInitial:vOe,insideSpan:bOe,string:COe,text:wOe},Symbol.toStringTag,{value:"Module"}));function xOe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:_(O),check:_(P),consume:D,enter:T,exit:k,interrupt:_(P,{interrupt:!0})},u={code:null,containerState:{},defineSkip:S,events:[],now:C,parser:e,previous:null,sliceSerialize:g,sliceStream:v,write:f};let h=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function f(H){return o=Vs(o,H),R(),o[o.length-1]!==null?[]:(M(t,0),u.events=dF(s,u.events,u),u.events)}function g(H,U){return DOe(v(H),U)}function v(H){return TOe(o,H)}function C(){const{_bufferIndex:H,_index:U,line:G,column:ee,offset:ie}=r;return{_bufferIndex:H,_index:U,line:G,column:ee,offset:ie}}function S(H){i[H.line]=H.column,B()}function R(){let H;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<U.length;)x(U.charCodeAt(r._bufferIndex));else x(U)}}function x(H){h=h(H)}function D(H){Ct(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,B()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=H}function T(H,U){const G=U||{};return G.type=H,G.start=C(),u.events.push(["enter",G,u]),a.push(G),G}function k(H){const U=a.pop();return U.end=C(),u.events.push(["exit",U,u]),U}function O(H,U){M(H,U.from)}function P(H,U){U.restore()}function _(H,U){return G;function G(ee,ie,$){let Z,te,pe,F;return Array.isArray(ee)?re(ee):"tokenize"in ee?re([ee]):X(ee);function X(Te){return ut;function ut(Ke){const Ue=Ke!==null&&Te[Ke],rt=Ke!==null&&Te.null,dt=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return re(dt)(Ke)}}function re(Te){return Z=Te,te=0,Te.length===0?$:z(Te[te])}function z(Te){return ut;function ut(Ke){return F=N(),pe=Te,Te.partial||(u.currentConstruct=Te),Te.name&&u.parser.constructs.disable.null.includes(Te.name)?Ae():Te.tokenize.call(U?Object.assign(Object.create(u),U):u,l,ge,Ae)(Ke)}}function ge(Te){return H(pe,F),ie}function Ae(Te){return F.restore(),++te<Z.length?z(Z[te]):$}}}function M(H,U){H.resolveAll&&!s.includes(H)&&s.push(H),H.resolve&&ga(u.events,U,u.events.length-U,H.resolve(u.events.slice(U),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function N(){const H=C(),U=u.previous,G=u.currentConstruct,ee=u.events.length,ie=Array.from(a);return{from:ee,restore:$};function $(){r=H,u.previous=U,u.currentConstruct=G,u.events.length=ee,a=ie,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function TOe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function DOe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function AOe(e){const r={constructs:O_e([ROe,...(e||{}).extensions||[]]),content:i(U_e),defined:[],document:i(W_e),flow:i(cOe),lazy:{},string:i(hOe),text:i(fOe)};return r;function i(s){return o;function o(a){return xOe(r,s,a)}}}function POe(e){for(;!p7(e););return e}const tH=/[\0\t\n\r]/g;function IOe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,h,f,g,v;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(tH.lastIndex=f,u=tH.exec(s),g=u&&u.index!==void 0?u.index:s.length,v=s.charCodeAt(g),!u){t=s.slice(f);break}if(v===10&&f===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<g&&(l.push(s.slice(f,g)),e+=g-f),v){case 0:{l.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,l.push(-2);e++<h;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const FOe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MOe(e){return e.replace(FOe,_Oe)}function _Oe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return u7(n.slice(s?2:1),s?16:10)}return uF(n)||e}const w7={}.hasOwnProperty;function kOe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),OOe(n)(POe(AOe(n).document().write(IOe()(e,t,!0))))}function OOe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Tt),autolinkProtocol:N,autolinkEmail:N,atxHeading:s(Ne),blockQuote:s(rt),characterEscape:N,characterReference:N,codeFenced:s(dt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(dt,o),codeText:s(yt,o),codeTextData:N,data:N,codeFlowValue:N,definition:s(Ot),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Oe),hardBreakEscape:s(Ze),hardBreakTrailing:s(Ze),htmlFlow:s(Ve,o),htmlFlowData:N,htmlText:s(Ve,o),htmlTextData:N,image:s(Je),label:o,link:s(Tt),listItem:s(Et),listItemValue:g,listOrdered:s(at,f),listUnordered:s(at),paragraph:s(Rt),reference:z,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ne),strong:s(Mt),thematicBreak:s(Gn)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Ue,autolinkProtocol:Ke,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:Te,characterReference:ut,codeFenced:l(R),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:C,codeFlowValue:B,codeIndented:l(x),codeText:l(ie),codeTextData:B,data:B,definition:l(),definitionDestinationString:k,definitionLabelString:D,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(U),hardBreakTrailing:l(U),htmlFlow:l(G),htmlFlowData:B,htmlText:l(ee),htmlTextData:B,image:l(Z),label:pe,labelText:te,lineEnding:H,link:l($),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ge,resourceDestinationString:F,resourceTitleString:X,resource:re,setextHeading:l(M),setextHeadingLineSequence:_,setextHeadingText:P,strong:l(),thematicBreak:l()}};b7(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ne){let ye={type:"root",children:[]};const Ie={stack:[ye],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:h,data:n},Be=[];let Lt=-1;for(;++Lt<ne.length;)if(ne[Lt][1].type==="listOrdered"||ne[Lt][1].type==="listUnordered")if(ne[Lt][0]==="enter")Be.push(Lt);else{const An=Be.pop();Lt=i(ne,An,Lt)}for(Lt=-1;++Lt<ne.length;){const An=t[ne[Lt][0]];w7.call(An,ne[Lt][1].type)&&An[ne[Lt][1].type].call(Object.assign({sliceSerialize:ne[Lt][2].sliceSerialize},Ie),ne[Lt][1])}if(Ie.tokenStack.length>0){const An=Ie.tokenStack[Ie.tokenStack.length-1];(An[1]||nH).call(Ie,void 0,An[0])}for(ye.position={start:Yl(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Yl(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Lt=-1;++Lt<t.transforms.length;)ye=t.transforms[Lt](ye)||ye;return ye}function i(ne,ye,Ie){let Be=ye-1,Lt=-1,An=!1,Rr,ir,ei,mr;for(;++Be<=Ie;){const _n=ne[Be];switch(_n[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{_n[0]==="enter"?Lt++:Lt--,mr=void 0;break}case"lineEndingBlank":{_n[0]==="enter"&&(Rr&&!mr&&!Lt&&!ei&&(ei=Be),mr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mr=void 0}if(!Lt&&_n[0]==="enter"&&_n[1].type==="listItemPrefix"||Lt===-1&&_n[0]==="exit"&&(_n[1].type==="listUnordered"||_n[1].type==="listOrdered")){if(Rr){let vr=Be;for(ir=void 0;vr--;){const xr=ne[vr];if(xr[1].type==="lineEnding"||xr[1].type==="lineEndingBlank"){if(xr[0]==="exit")continue;ir&&(ne[ir][1].type="lineEndingBlank",An=!0),xr[1].type="lineEnding",ir=vr}else if(!(xr[1].type==="linePrefix"||xr[1].type==="blockQuotePrefix"||xr[1].type==="blockQuotePrefixWhitespace"||xr[1].type==="blockQuoteMarker"||xr[1].type==="listItemIndent"))break}ei&&(!ir||ei<ir)&&(Rr._spread=!0),Rr.end=Object.assign({},ir?ne[ir][1].start:_n[1].end),ne.splice(ir||Be,0,["exit",Rr,_n[2]]),Be++,Ie++}if(_n[1].type==="listItemPrefix"){const vr={type:"listItem",_spread:!1,start:Object.assign({},_n[1].start),end:void 0};Rr=vr,ne.splice(Be,0,["enter",vr,_n[2]]),Be++,Ie++,ei=void 0,mr=!0}}}return ne[ye][1]._spread=An,Ie}function s(ne,ye){return Ie;function Ie(Be){a.call(this,ne(Be),Be),ye&&ye.call(this,Be)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ne,ye,Ie){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([ye,Ie||void 0]),ne.position={start:Yl(ye.start),end:void 0}}function l(ne){return ye;function ye(Ie){ne&&ne.call(this,Ie),u.call(this,Ie)}}function u(ne,ye){const Ie=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==ne.type&&(ye?ye.call(this,ne,Be[0]):(Be[1]||nH).call(this,ne,Be[0]));else throw new Error("Cannot close `"+ne.type+"` ("+sm({start:ne.start,end:ne.end})+"): it’s not open");Ie.position.end=Yl(ne.end)}function h(){return __e(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(ne){if(this.data.expectingFirstListItemValue){const ye=this.stack[this.stack.length-2];ye.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.lang=ne}function C(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.meta=ne}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ne.replace(/(\r?\n|\r)$/g,"")}function D(ne){const ye=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ye,Ie.identifier=sf(this.sliceSerialize(ne)).toLowerCase()}function T(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.title=ne}function k(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.url=ne}function O(ne){const ye=this.stack[this.stack.length-1];if(!ye.depth){const Ie=this.sliceSerialize(ne).length;ye.depth=Ie}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function _(ne){const ye=this.stack[this.stack.length-1];ye.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function N(ne){const Ie=this.stack[this.stack.length-1].children;let Be=Ie[Ie.length-1];(!Be||Be.type!=="text")&&(Be=vn(),Be.position={start:Yl(ne.start),end:void 0},Ie.push(Be)),this.stack.push(Be)}function B(ne){const ye=this.stack.pop();ye.value+=this.sliceSerialize(ne),ye.position.end=Yl(ne.end)}function H(ne){const ye=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=ye.children[ye.children.length-1];Ie.position.end=Yl(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ye.type)&&(N.call(this,ne),B.call(this,ne))}function U(){this.data.atHardBreak=!0}function G(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ne}function ee(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ne}function ie(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ne}function $(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=ye,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Z(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=ye,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function te(ne){const ye=this.sliceSerialize(ne),Ie=this.stack[this.stack.length-2];Ie.label=MOe(ye),Ie.identifier=sf(ye).toLowerCase()}function pe(){const ne=this.stack[this.stack.length-1],ye=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Be=ne.children;Ie.children=Be}else Ie.alt=ye}function F(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.url=ne}function X(){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.title=ne}function re(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function ge(ne){const ye=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ye,Ie.identifier=sf(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function Ae(ne){this.data.characterReferenceType=ne.type}function Te(ne){const ye=this.sliceSerialize(ne),Ie=this.data.characterReferenceType;let Be;Ie?(Be=u7(ye,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=uF(ye);const Lt=this.stack[this.stack.length-1];Lt.value+=Be}function ut(ne){const ye=this.stack.pop();ye.position.end=Yl(ne.end)}function Ke(ne){B.call(this,ne);const ye=this.stack[this.stack.length-1];ye.url=this.sliceSerialize(ne)}function Ue(ne){B.call(this,ne);const ye=this.stack[this.stack.length-1];ye.url="mailto:"+this.sliceSerialize(ne)}function rt(){return{type:"blockquote",children:[]}}function dt(){return{type:"code",lang:null,meta:null,value:""}}function yt(){return{type:"inlineCode",value:""}}function Ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function Ne(){return{type:"heading",depth:0,children:[]}}function Ze(){return{type:"break"}}function Ve(){return{type:"html",value:""}}function Je(){return{type:"image",title:null,url:"",alt:null}}function Tt(){return{type:"link",title:null,url:"",children:[]}}function at(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function Et(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function Rt(){return{type:"paragraph",children:[]}}function Mt(){return{type:"strong",children:[]}}function vn(){return{type:"text",value:""}}function Gn(){return{type:"thematicBreak"}}}function Yl(e){return{line:e.line,column:e.column,offset:e.offset}}function b7(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?b7(e,r):LOe(e,r)}}function LOe(e,t){let n;for(n in t)if(w7.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function nH(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+sm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+sm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+sm({start:t.start,end:t.end})+") is still open")}function NOe(e){const t=this;t.parser=n;function n(r){return kOe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function VOe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function BOe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function HOe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function GOe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zOe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UOe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=rp(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function jOe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WOe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function S7(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function $Oe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return S7(e,t);const i={src:rp(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function qOe(e,t){const n={src:rp(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function KOe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function YOe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return S7(e,t);const i={href:rp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function XOe(e,t){const n={href:rp(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function QOe(e,t,n){const r=e.all(t),i=n?ZOe(n):E7(t),s={},o=[];if(typeof t.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function ZOe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=E7(n[r])}return t}function E7(e){const t=e.spread;return t??e.children.length>1}function JOe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function eLe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tLe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function nLe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rLe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=oF(t.children[1]),l=r7(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function iLe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const f=t.children[l],g={},v=o?o[l]:void 0;v&&(g.align=v);let C={type:"element",tagName:s,properties:g,children:[]};f&&(C.children=e.all(f),e.patch(f,C),C=e.applyData(f,C)),u.push(C)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,h),e.applyData(t,h)}function sLe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const rH=9,iH=32;function oLe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(sH(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(sH(t.slice(i),i>0,!1)),s.join("")}function sH(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===rH||s===iH;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===rH||s===iH;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function aLe(e,t){const n={type:"text",value:oLe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lLe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const cLe={blockquote:VOe,break:BOe,code:HOe,delete:GOe,emphasis:zOe,footnoteReference:UOe,heading:jOe,html:WOe,imageReference:$Oe,image:qOe,inlineCode:KOe,linkReference:YOe,link:XOe,listItem:QOe,list:JOe,paragraph:eLe,root:tLe,strong:nLe,table:rLe,tableCell:sLe,tableRow:iLe,text:aLe,thematicBreak:lLe,toml:ZC,yaml:ZC,definition:ZC,footnoteDefinition:ZC};function ZC(){}const R7=-1,TE=0,am=1,rS=2,fF=3,pF=4,gF=5,mF=6,x7=7,T7=8,oH=typeof self=="object"?self:globalThis,uLe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case TE:case R7:return n(o,i);case am:{const a=n([],i);for(const l of o)a.push(r(l));return a}case rS:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case fF:return n(new Date(o),i);case pF:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case gF:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case mF:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case x7:{const{name:a,message:l}=o;return n(new oH[a](l),i)}case T7:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new oH[s](o),i)};return r},aH=e=>uLe(new Map,e)(0),Sh="",{toString:dLe}={},{keys:hLe}=Object,xg=e=>{const t=typeof e;if(t!=="object"||!e)return[TE,t];const n=dLe.call(e).slice(8,-1);switch(n){case"Array":return[am,Sh];case"Object":return[rS,Sh];case"Date":return[fF,Sh];case"RegExp":return[pF,Sh];case"Map":return[gF,Sh];case"Set":return[mF,Sh];case"DataView":return[am,n]}return n.includes("Array")?[am,n]:n.includes("Error")?[x7,n]:[rS,n]},JC=([e,t])=>e===TE&&(t==="function"||t==="symbol"),fLe=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=xg(o);switch(a){case TE:{let h=o;switch(l){case"bigint":a=T7,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([R7],o)}return i([a,h],o)}case am:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),i([l,[...g]],o)}const h=[],f=i([a,h],o);for(const g of o)h.push(s(g));return f}case rS:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const h=[],f=i([a,h],o);for(const g of hLe(o))(e||!JC(xg(o[g])))&&h.push([s(g),s(o[g])]);return f}case fF:return i([a,o.toISOString()],o);case pF:{const{source:h,flags:f}=o;return i([a,{source:h,flags:f}],o)}case gF:{const h=[],f=i([a,h],o);for(const[g,v]of o)(e||!(JC(xg(g))||JC(xg(v))))&&h.push([s(g),s(v)]);return f}case mF:{const h=[],f=i([a,h],o);for(const g of o)(e||!JC(xg(g)))&&h.push(s(g));return f}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},lH=(e,{json:t,lossy:n}={})=>{const r=[];return fLe(!(t||n),!!t,new Map,r)(e),r},iS=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?aH(lH(e,t)):structuredClone(e):(e,t)=>aH(lH(e,t));function pLe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function gLe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function mLe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pLe,r=e.options.footnoteBackLabel||gLe,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const h=e.all(u),f=String(u.identifier).toUpperCase(),g=rp(f.toLowerCase());let v=0;const C=[],S=e.footnoteCounts.get(f);for(;S!==void 0&&++v<=S;){C.length>0&&C.push({type:"text",value:" "});let D=typeof n=="string"?n:n(l,v);typeof D=="string"&&(D={type:"text",value:D}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,v),className:["data-footnote-backref"]},children:Array.isArray(D)?D:[D]})}const R=h[h.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const D=R.children[R.children.length-1];D&&D.type==="text"?D.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...C)}else h.push(...C);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(u,x),a.push(x)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...iS(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const D7=function(e){if(e==null)return wLe;if(typeof e=="function")return DE(e);if(typeof e=="object")return Array.isArray(e)?vLe(e):yLe(e);if(typeof e=="string")return CLe(e);throw new Error("Expected function, string, or object as test")};function vLe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=D7(e[n]);return DE(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function yLe(e){const t=e;return DE(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function CLe(e){return DE(t);function t(n){return n&&n.type===e}}function DE(e){return t;function t(n,r,i){return!!(bLe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function wLe(){return!0}function bLe(e){return e!==null&&typeof e=="object"&&"type"in e}const A7=[],SLe=!0,cH=!1,ELe="skip";function RLe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=D7(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,h){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const v=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=A7,C,S,R;if((!t||s(l,u,h[h.length-1]||void 0))&&(v=xLe(n(l,h)),v[0]===cH))return v;if("children"in l&&l.children){const x=l;if(x.children&&v[0]!==ELe)for(S=(r?x.children.length:-1)+o,R=h.concat(x);S>-1&&S<x.children.length;){const D=x.children[S];if(C=a(D,S,R)(),C[0]===cH)return C;S=typeof C[1]=="number"?C[1]:S+o}}return v}}}function xLe(e){return Array.isArray(e)?e:typeof e=="number"?[SLe,e]:e==null?A7:[e]}function P7(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),RLe(e,s,a,i);function a(l,u){const h=u[u.length-1],f=h?h.children.indexOf(l):void 0;return o(l,f,h)}}const mA={}.hasOwnProperty,TLe={};function DLe(e,t){const n=t||TLe,r=new Map,i=new Map,s=new Map,o={...cLe,...n.handlers},a={all:u,applyData:PLe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:ALe,wrap:FLe};return P7(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();f.has(g)||f.set(g,h)}}),a;function l(h,f){const g=h.type,v=a.handlers[g];if(mA.call(a.handlers,g)&&v)return v(a,h,f);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in h){const{children:S,...R}=h,x=iS(R);return x.children=a.all(h),x}return iS(h)}return(a.options.unknownHandler||ILe)(a,h,f)}function u(h){const f=[];if("children"in h){const g=h.children;let v=-1;for(;++v<g.length;){const C=a.one(g[v],h);if(C){if(v&&g[v-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=uH(C.value)),!Array.isArray(C)&&C.type==="element")){const S=C.children[0];S&&S.type==="text"&&(S.value=uH(S.value))}Array.isArray(C)?f.push(...C):f.push(C)}}}return f}}function ALe(e,t){e.position&&(t.position=d_e(e))}function PLe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,iS(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function ILe(e,t){const n=t.data||{},r="value"in t&&!(mA.call(n,"hProperties")||mA.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function FLe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function uH(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function dH(e,t){const n=DLe(e,t),r=n.one(e,void 0),i=mLe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function MLe(e,t){return e&&"run"in e?async function(n,r){const i=dH(n,{file:r,...t});await e.run(i,r)}:function(n,r){return dH(n,{file:r,...e||t})}}function hH(e){if(e)throw e}var rT,fH;function _Le(){if(fH)return rT;fH=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var h=e.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!h&&!f)return!1;var g;for(g in u);return typeof g>"u"||e.call(u,g)},o=function(u,h){n&&h.name==="__proto__"?n(u,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):u[h.name]=h.newValue},a=function(u,h){if(h==="__proto__")if(e.call(u,h)){if(r)return r(u,h).value}else return;return u[h]};return rT=function l(){var u,h,f,g,v,C,S=arguments[0],R=1,x=arguments.length,D=!1;for(typeof S=="boolean"&&(D=S,S=arguments[1]||{},R=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});R<x;++R)if(u=arguments[R],u!=null)for(h in u)f=a(S,h),g=a(u,h),S!==g&&(D&&g&&(s(g)||(v=i(g)))?(v?(v=!1,C=f&&i(f)?f:[]):C=f&&s(f)?f:{},o(S,{name:h,newValue:l(D,C,g)})):typeof g<"u"&&o(S,{name:h,newValue:g}));return S},rT}var kLe=_Le();const iT=Of(kLe);function vA(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function OLe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const h=e[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,h?LLe(h,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function LLe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return i(h)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Lo={basename:NLe,dirname:VLe,extname:BLe,join:HLe,sep:"/"};function NLe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ny(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function VLe(e){if(ny(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function BLe(e){ny(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function HLe(...e){let t=-1,n;for(;++t<e.length;)ny(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":GLe(n)}function GLe(e){ny(e);const t=e.codePointAt(0)===47;let n=zLe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function zLe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function ny(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ULe={cwd:jLe};function jLe(){return"/"}function yA(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function WLe(e){if(typeof e=="string")e=new URL(e);else if(!yA(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $Le(e)}function $Le(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const sT=["history","path","basename","stem","extname","dirname"];class I7{constructor(t){let n;t?yA(t)?n={path:t}:typeof t=="string"||qLe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ULe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sT.length;){const s=sT[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)sT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Lo.basename(this.path):void 0}set basename(t){aT(t,"basename"),oT(t,"basename"),this.path=Lo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Lo.dirname(this.path):void 0}set dirname(t){pH(this.basename,"dirname"),this.path=Lo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Lo.extname(this.path):void 0}set extname(t){if(oT(t,"extname"),pH(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Lo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){yA(t)&&(t=WLe(t)),aT(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Lo.basename(this.path,this.extname):void 0}set stem(t){aT(t,"stem"),oT(t,"stem"),this.path=Lo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new di(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function oT(e,t){if(e&&e.includes(Lo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Lo.sep+"`")}function aT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function pH(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function qLe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const KLe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},YLe={}.hasOwnProperty;class vF extends KLe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=OLe()}copy(){const t=new vF;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(iT(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(uT("data",this.frozen),this.namespace[t]=n,this):YLe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(uT("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ew(t),r=this.parser||this.Parser;return lT("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),lT("process",this.parser||this.Parser),cT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=ew(t),l=r.parse(a);r.run(l,a,function(h,f,g){if(h||!f||!g)return u(h);const v=f,C=r.stringify(v,g);ZLe(C)?g.value=C:g.result=C,u(h,g)});function u(h,f){h||!f?o(h):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),lT("processSync",this.parser||this.Parser),cT("processSync",this.compiler||this.Compiler),this.process(t,i),mH("processSync","process",n),r;function i(s,o){n=!0,hH(s),r=o}}run(t,n,r){gH(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=ew(n);i.run(t,l,u);function u(h,f,g){const v=f||t;h?a(h):o?o(v):r(void 0,v,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),mH("runSync","run",r),i;function s(o,a){hH(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=ew(n),i=this.compiler||this.Compiler;return cT("stringify",i),gH(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(uT("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...f]=u;l(h,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=iT(!0,i.settings,u.settings))}function a(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const f=u[h];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===u){g=f;break}if(g===-1)r.push([u,...h]);else if(h.length>0){let[v,...C]=h;const S=r[g][1];vA(S)&&vA(v)&&(v=iT(!0,S,v)),r[g]=[u,v,...C]}}}}const XLe=new vF().freeze();function lT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function cT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function uT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gH(e){if(!vA(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mH(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ew(e){return QLe(e)?e:new I7(e)}function QLe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ZLe(e){return typeof e=="string"||JLe(e)}function JLe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eNe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",vH=[],yH={allowDangerousHtml:!0},tNe=/^(https?|ircs?|mailto|xmpp)$/i,nNe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tw(e){const t=rNe(e),n=iNe(e);return sNe(t.runSync(t.parse(n),n),e)}function rNe(e){const t=e.rehypePlugins||vH,n=e.remarkPlugins||vH,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...yH}:yH;return XLe().use(NOe).use(n).use(MLe,r).use(t)}function iNe(e){const t=e.children||"",n=new I7;return typeof t=="string"&&(n.value=t),n}function sNe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||oNe;for(const h of nNe)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+eNe+h.id,void 0);return P7(e,u),m_e(e,{Fragment:I.Fragment,components:i,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function u(h,f,g){if(h.type==="raw"&&g&&typeof f=="number")return o?g.children.splice(f,1):g.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let v;for(v in eT)if(Object.hasOwn(eT,v)&&Object.hasOwn(h.properties,v)){const C=h.properties[v],S=eT[v];(S===null||S.includes(h.tagName))&&(h.properties[v]=l(String(C||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!v&&r&&typeof f=="number"&&(v=!r(h,f,g)),v&&g&&typeof f=="number")return a&&h.children?g.children.splice(f,1,...h.children):g.children.splice(f,1),f}}}function oNe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||tNe.test(e.slice(0,t))?e:""}const yF=b.createContext({});function CF(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const wF=typeof window<"u",F7=wF?b.useLayoutEffect:b.useEffect,AE=b.createContext(null);function bF(e,t){e.indexOf(t)===-1&&e.push(t)}function SF(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const dl=(e,t,n)=>n>t?t:n<e?e:n;let EF=()=>{};const hl={},M7=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _7(e){return typeof e=="object"&&e!==null}const k7=e=>/^0[^.\s]+$/u.test(e);function RF(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ws=e=>e,aNe=(e,t)=>n=>t(e(n)),ry=(...e)=>e.reduce(aNe),nv=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class xF{constructor(){this.subscriptions=[]}add(t){return bF(this.subscriptions,t),()=>SF(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sa=e=>e*1e3,oa=e=>e/1e3;function O7(e,t){return t?e*(1e3/t):0}const L7=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lNe=1e-7,cNe=12;function uNe(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=L7(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>lNe&&++a<cNe);return o}function iy(e,t,n,r){if(e===t&&n===r)return Ws;const i=s=>uNe(s,0,1,e,n);return s=>s===0||s===1?s:L7(i(s),t,r)}const N7=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,V7=e=>t=>1-e(1-t),B7=iy(.33,1.53,.69,.99),TF=V7(B7),H7=N7(TF),G7=e=>(e*=2)<1?.5*TF(e):.5*(2-Math.pow(2,-10*(e-1))),DF=e=>1-Math.sin(Math.acos(e)),z7=V7(DF),U7=N7(DF),dNe=iy(.42,0,1,1),hNe=iy(0,0,.58,1),j7=iy(.42,0,.58,1),fNe=e=>Array.isArray(e)&&typeof e[0]!="number",W7=e=>Array.isArray(e)&&typeof e[0]=="number",pNe={linear:Ws,easeIn:dNe,easeInOut:j7,easeOut:hNe,circIn:DF,circInOut:U7,circOut:z7,backIn:TF,backInOut:H7,backOut:B7,anticipate:G7},gNe=e=>typeof e=="string",CH=e=>{if(W7(e)){EF(e.length===4);const[t,n,r,i]=e;return iy(t,n,r,i)}else if(gNe(e))return pNe[e];return e},nw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mNe(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),e()),h(a)}const u={schedule:(h,f=!1,g=!1)=>{const C=g&&i?n:r;return f&&o.add(h),C.has(h)||C.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(h))}};return u}const vNe=40;function $7(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=nw.reduce((T,k)=>(T[k]=mNe(s),T),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:f,preRender:g,render:v,postRender:C}=o,S=()=>{const T=hl.useManualTiming?i.timestamp:performance.now();n=!1,hl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,vNe),1)),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),f.process(i),g.process(i),v.process(i),C.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(S))},R=()=>{n=!0,r=!0,i.isProcessing||e(S)};return{schedule:nw.reduce((T,k)=>{const O=o[k];return T[k]=(P,_=!1,M=!1)=>(n||R(),O.schedule(P,_,M)),T},{}),cancel:T=>{for(let k=0;k<nw.length;k++)o[nw[k]].cancel(T)},state:i,steps:o}}const{schedule:Mn,cancel:Fc,state:Wr,steps:dT}=$7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ws,!0);let Hw;function yNe(){Hw=void 0}const Ni={now:()=>(Hw===void 0&&Ni.set(Wr.isProcessing||hl.useManualTiming?Wr.timestamp:performance.now()),Hw),set:e=>{Hw=e,queueMicrotask(yNe)}},q7=e=>t=>typeof t=="string"&&t.startsWith(e),AF=q7("--"),CNe=q7("var(--"),PF=e=>CNe(e)?wNe.test(e.split("/*")[0].trim()):!1,wNe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ip={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rv={...ip,transform:e=>dl(0,1,e)},rw={...ip,default:1},lm=e=>Math.round(e*1e5)/1e5,IF=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bNe(e){return e==null}const SNe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FF=(e,t)=>n=>!!(typeof n=="string"&&SNe.test(n)&&n.startsWith(e)||t&&!bNe(n)&&Object.prototype.hasOwnProperty.call(n,t)),K7=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(IF);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ENe=e=>dl(0,255,e),hT={...ip,transform:e=>Math.round(ENe(e))},_u={test:FF("rgb","red"),parse:K7("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+hT.transform(e)+", "+hT.transform(t)+", "+hT.transform(n)+", "+lm(rv.transform(r))+")"};function RNe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const CA={test:FF("#"),parse:RNe,transform:_u.transform},sy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ql=sy("deg"),aa=sy("%"),vt=sy("px"),xNe=sy("vh"),TNe=sy("vw"),wH={...aa,parse:e=>aa.parse(e)/100,transform:e=>aa.transform(e*100)},_h={test:FF("hsl","hue"),parse:K7("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+aa.transform(lm(t))+", "+aa.transform(lm(n))+", "+lm(rv.transform(r))+")"},ur={test:e=>_u.test(e)||CA.test(e)||_h.test(e),parse:e=>_u.test(e)?_u.parse(e):_h.test(e)?_h.parse(e):CA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_u.transform(e):_h.transform(e),getAnimatableNone:e=>{const t=ur.parse(e);return t.alpha=0,ur.transform(t)}},DNe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ANe(e){return isNaN(e)&&typeof e=="string"&&(e.match(IF)?.length||0)+(e.match(DNe)?.length||0)>0}const Y7="number",X7="color",PNe="var",INe="var(",bH="${}",FNe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(FNe,l=>(ur.test(l)?(r.color.push(s),i.push(X7),n.push(ur.parse(l))):l.startsWith(INe)?(r.var.push(s),i.push(PNe),n.push(l)):(r.number.push(s),i.push(Y7),n.push(parseFloat(l))),++s,bH)).split(bH);return{values:n,split:a,indexes:r,types:i}}function Q7(e){return iv(e).values}function Z7(e){const{split:t,types:n}=iv(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===Y7?s+=lm(i[o]):a===X7?s+=ur.transform(i[o]):s+=i[o]}return s}}const MNe=e=>typeof e=="number"?0:ur.test(e)?ur.getAnimatableNone(e):e;function _Ne(e){const t=Q7(e);return Z7(e)(t.map(MNe))}const Mc={test:ANe,parse:Q7,createTransformer:Z7,getAnimatableNone:_Ne};function fT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kNe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=fT(l,a,e+1/3),s=fT(l,a,e),o=fT(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function sS(e,t){return n=>n>0?t:e}const Nn=(e,t,n)=>e+(t-e)*n,pT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ONe=[CA,_u,_h],LNe=e=>ONe.find(t=>t.test(e));function SH(e){const t=LNe(e);if(!t)return!1;let n=t.parse(e);return t===_h&&(n=kNe(n)),n}const EH=(e,t)=>{const n=SH(e),r=SH(t);if(!n||!r)return sS(e,t);const i={...n};return s=>(i.red=pT(n.red,r.red,s),i.green=pT(n.green,r.green,s),i.blue=pT(n.blue,r.blue,s),i.alpha=Nn(n.alpha,r.alpha,s),_u.transform(i))},wA=new Set(["none","hidden"]);function NNe(e,t){return wA.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function VNe(e,t){return n=>Nn(e,t,n)}function MF(e){return typeof e=="number"?VNe:typeof e=="string"?PF(e)?sS:ur.test(e)?EH:GNe:Array.isArray(e)?J7:typeof e=="object"?ur.test(e)?EH:BNe:sS}function J7(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>MF(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function BNe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=MF(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function HNe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const GNe=(e,t)=>{const n=Mc.createTransformer(t),r=iv(e),i=iv(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wA.has(e)&&!i.values.length||wA.has(t)&&!r.values.length?NNe(e,t):ry(J7(HNe(r,i),i.values),n):sS(e,t)};function e8(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Nn(e,t,n):MF(e)(e,t)}const zNe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Mn.update(t,n),stop:()=>Fc(t),now:()=>Wr.isProcessing?Wr.timestamp:Ni.now()}},t8=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},oS=2e4;function _F(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<oS;)t+=n,r=e.next(t);return t>=oS?1/0:t}function UNe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(_F(r),oS);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:oa(i)}}const jNe=5;function n8(e,t,n){const r=Math.max(t-jNe,0);return O7(n-e(r),t-r)}const jn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gT=.001;function WNe({duration:e=jn.duration,bounce:t=jn.bounce,velocity:n=jn.velocity,mass:r=jn.mass}){let i,s,o=1-t;o=dl(jn.minDamping,jn.maxDamping,o),e=dl(jn.minDuration,jn.maxDuration,oa(e)),o<1?(i=u=>{const h=u*o,f=h*e,g=h-n,v=bA(u,o),C=Math.exp(-f);return gT-g/v*C},s=u=>{const f=u*o*e,g=f*n+n,v=Math.pow(o,2)*Math.pow(u,2)*e,C=Math.exp(-f),S=bA(Math.pow(u,2),o);return(-i(u)+gT>0?-1:1)*((g-v)*C)/S}):(i=u=>{const h=Math.exp(-u*e),f=(u-n)*e+1;return-gT+h*f},s=u=>{const h=Math.exp(-u*e),f=(n-u)*(e*e);return h*f});const a=5/e,l=qNe(i,s,a);if(e=sa(e),isNaN(l))return{stiffness:jn.stiffness,damping:jn.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const $Ne=12;function qNe(e,t,n){let r=n;for(let i=1;i<$Ne;i++)r=r-e(r)/t(r);return r}function bA(e,t){return e*Math.sqrt(1-t*t)}const KNe=["duration","bounce"],YNe=["stiffness","damping","mass"];function RH(e,t){return t.some(n=>e[n]!==void 0)}function XNe(e){let t={velocity:jn.velocity,stiffness:jn.stiffness,damping:jn.damping,mass:jn.mass,isResolvedFromDuration:!1,...e};if(!RH(e,YNe)&&RH(e,KNe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*dl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:jn.mass,stiffness:i,damping:s}}else{const n=WNe(e);t={...t,...n,mass:jn.mass},t.isResolvedFromDuration=!0}return t}function aS(e=jn.visualDuration,t=jn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:f,velocity:g,isResolvedFromDuration:v}=XNe({...n,velocity:-oa(n.velocity||0)}),C=g||0,S=u/(2*Math.sqrt(l*h)),R=o-s,x=oa(Math.sqrt(l/h)),D=Math.abs(R)<5;r||(r=D?jn.restSpeed.granular:jn.restSpeed.default),i||(i=D?jn.restDelta.granular:jn.restDelta.default);let T;if(S<1){const O=bA(x,S);T=P=>{const _=Math.exp(-S*x*P);return o-_*((C+S*x*R)/O*Math.sin(O*P)+R*Math.cos(O*P))}}else if(S===1)T=O=>o-Math.exp(-x*O)*(R+(C+x*R)*O);else{const O=x*Math.sqrt(S*S-1);T=P=>{const _=Math.exp(-S*x*P),M=Math.min(O*P,300);return o-_*((C+S*x*R)*Math.sinh(M)+O*R*Math.cosh(M))/O}}const k={calculatedDuration:v&&f||null,next:O=>{const P=T(O);if(v)a.done=O>=f;else{let _=O===0?C:0;S<1&&(_=O===0?sa(C):n8(T,O,P));const M=Math.abs(_)<=r,N=Math.abs(o-P)<=i;a.done=M&&N}return a.value=a.done?o:P,a},toString:()=>{const O=Math.min(_F(k),oS),P=t8(_=>k.next(O*_).value,O,30);return O+"ms "+P},toTransition:()=>{}};return k}aS.applyToOptions=e=>{const t=UNe(e,100,aS);return e.ease=t.ease,e.duration=sa(t.duration),e.type="keyframes",e};function SA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=e[0],g={done:!1,value:f},v=M=>a!==void 0&&M<a||l!==void 0&&M>l,C=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let S=n*t;const R=f+S,x=o===void 0?R:o(R);x!==R&&(S=x-f);const D=M=>-S*Math.exp(-M/r),T=M=>x+D(M),k=M=>{const N=D(M),B=T(M);g.done=Math.abs(N)<=u,g.value=g.done?x:B};let O,P;const _=M=>{v(g.value)&&(O=M,P=aS({keyframes:[g.value,C(g.value)],velocity:n8(T,M,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return _(0),{calculatedDuration:null,next:M=>{let N=!1;return!P&&O===void 0&&(N=!0,k(M),_(M)),O!==void 0&&M>=O?P.next(M-O):(!N&&k(M),g)}}}function QNe(e,t,n){const r=[],i=n||hl.mix||e8,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ws:t;a=ry(l,a)}r.push(a)}return r}function ZNe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(EF(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=QNe(t,r,i),l=a.length,u=h=>{if(o&&h<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const g=nv(e[f],e[f+1],h);return a[f](g)};return n?h=>u(dl(e[0],e[s-1],h)):u}function JNe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=nv(0,t,r);e.push(Nn(n,1,i))}}function eVe(e){const t=[0];return JNe(t,e.length-1),t}function tVe(e,t){return e.map(n=>n*t)}function nVe(e,t){return e.map(()=>t||j7).splice(0,e.length-1)}function cm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=fNe(r)?r.map(CH):CH(r),s={done:!1,value:t[0]},o=tVe(n&&n.length===t.length?n:eVe(t),e),a=ZNe(o,t,{ease:Array.isArray(i)?i:nVe(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const rVe=e=>e!==null;function kF(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(rVe),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const iVe={decay:SA,inertia:SA,tween:cm,keyframes:cm,spring:aS};function r8(e){typeof e.type=="string"&&(e.type=iVe[e.type])}class OF{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const sVe=e=>e/100;class LF extends OF{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ni.now()&&this.tick(Ni.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;r8(t);const{type:n=cm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||cm;l!==cm&&typeof a[0]!="number"&&(this.mixKeyframes=ry(sVe,e8(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_F(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:g,repeatDelay:v,type:C,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,k=r;if(f){const M=Math.min(this.currentTime,i)/a;let N=Math.floor(M),B=M%1;!B&&M>=1&&(B=1),B===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(g==="reverse"?(B=1-B,v&&(B-=v/a)):g==="mirror"&&(k=o)),T=dl(0,1,B)*a}const O=D?{done:!1,value:h[0]}:k.next(T);s&&(O.value=s(O.value));let{done:P}=O;!D&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return _&&C!==SA&&(O.value=kF(h,this.options,R,this.speed)),S&&S(O.value),_&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return oa(this.calculatedDuration)}get time(){return oa(this.currentTime)}set time(t){t=sa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ni.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=oa(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=zNe,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ni.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function oVe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ku=e=>e*180/Math.PI,EA=e=>{const t=ku(Math.atan2(e[1],e[0]));return RA(t)},aVe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:EA,rotateZ:EA,skewX:e=>ku(Math.atan(e[1])),skewY:e=>ku(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},RA=e=>(e=e%360,e<0&&(e+=360),e),xH=EA,TH=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),DH=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),lVe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TH,scaleY:DH,scale:e=>(TH(e)+DH(e))/2,rotateX:e=>RA(ku(Math.atan2(e[6],e[5]))),rotateY:e=>RA(ku(Math.atan2(-e[2],e[0]))),rotateZ:xH,rotate:xH,skewX:e=>ku(Math.atan(e[4])),skewY:e=>ku(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xA(e){return e.includes("scale")?1:0}function TA(e,t){if(!e||e==="none")return xA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=lVe,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=aVe,i=a}if(!i)return xA(t);const s=r[t],o=i[1].split(",").map(uVe);return typeof s=="function"?s(o):o[s]}const cVe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return TA(n,t)};function uVe(e){return parseFloat(e.trim())}const sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],op=new Set(sp),AH=e=>e===ip||e===vt,dVe=new Set(["x","y","z"]),hVe=sp.filter(e=>!dVe.has(e));function fVe(e){const t=[];return hVe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const qu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>TA(t,"x"),y:(e,{transform:t})=>TA(t,"y")};qu.translateX=qu.x;qu.translateY=qu.y;const Ku=new Set;let DA=!1,AA=!1,PA=!1;function i8(){if(AA){const e=Array.from(Ku).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=fVe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}AA=!1,DA=!1,Ku.forEach(e=>e.complete(PA)),Ku.clear()}function s8(){Ku.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(AA=!0)})}function pVe(){PA=!0,s8(),i8(),PA=!1}class NF{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ku.add(this),DA||(DA=!0,Mn.read(s8),Mn.resolveKeyframes(i8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}oVe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ku.delete(this)}cancel(){this.state==="scheduled"&&(Ku.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gVe=e=>e.startsWith("--");function mVe(e,t,n){gVe(t)?e.style.setProperty(t,n):e.style[t]=n}const vVe=RF(()=>window.ScrollTimeline!==void 0),yVe={};function CVe(e,t){const n=RF(e);return()=>yVe[t]??n()}const o8=CVe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bg=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,PH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bg([0,.65,.55,1]),circOut:Bg([.55,0,1,.45]),backIn:Bg([.31,.01,.66,-.59]),backOut:Bg([.33,1.53,.69,.99])};function a8(e,t){if(e)return typeof e=="function"?o8()?t8(e,t):"ease-out":W7(e)?Bg(e):Array.isArray(e)?e.map(n=>a8(n,t)||PH.easeOut):PH[e]}function wVe(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[t]:n};l&&(h.offset=l);const f=a8(a,i);Array.isArray(f)&&(h.easing=f);const g={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),e.animate(h,g)}function l8(e){return typeof e=="function"&&"applyToOptions"in e}function bVe({type:e,...t}){return l8(e)&&o8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class SVe extends OF{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,EF(typeof t.type!="string");const u=bVe(t);this.animation=wVe(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=kF(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):mVe(n,r,h),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return oa(Number(t))}get time(){return oa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=sa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&vVe()?(this.animation.timeline=t,Ws):n(this)}}const c8={anticipate:G7,backInOut:H7,circInOut:U7};function EVe(e){return e in c8}function RVe(e){typeof e.ease=="string"&&EVe(e.ease)&&(e.ease=c8[e.ease])}const IH=10;class xVe extends SVe{constructor(t){RVe(t),r8(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new LF({...o,autoplay:!1}),l=sa(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-IH).value,a.sample(l).value,IH),a.stop()}}const FH=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mc.test(e)||e==="0")&&!e.startsWith("url("));function TVe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function DVe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=FH(i,t),a=FH(s,t);return!o||!a?!1:TVe(e)||(n==="spring"||l8(n))&&r}function IA(e){e.duration=0,e.type}const AVe=new Set(["opacity","clipPath","filter","transform"]),PVe=RF(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IVe(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return PVe()&&n&&AVe.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const FVe=40;class MVe extends OF{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ni.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:h,...f},v=h?.KeyframeResolver||NF;this.keyframeResolver=new v(a,(C,S,R)=>this.onKeyframesResolved(C,S,g,!R),l,u,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=Ni.now(),DVe(t,s,o,a)||((hl.instantAnimations||!l)&&h?.(kF(t,r,n)),t[0]=t[t.length-1],IA(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>FVe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},v=!u&&IVe(g)?new xVe({...g,element:g.motionValue.owner.current}):new LF(g);v.finished.then(()=>this.notifyFinished()).catch(Ws),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pVe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _Ve=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kVe(e){const t=_Ve.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function u8(e,t,n=1){const[r,i]=kVe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return M7(o)?parseFloat(o):o}return PF(i)?u8(i,t,n+1):i}function VF(e,t){return e?.[t]??e?.default??e}const d8=new Set(["width","height","top","left","right","bottom",...sp]),OVe={test:e=>e==="auto",parse:e=>e},h8=e=>t=>t.test(e),f8=[ip,vt,aa,Ql,TNe,xNe,OVe],MH=e=>f8.find(h8(e));function LVe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||k7(e):!0}const NVe=new Set(["brightness","contrast","saturate","opacity"]);function VVe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(IF)||[];if(!r)return e;const i=n.replace(r,"");let s=NVe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const BVe=/\b([a-z-]*)\(.*?\)/gu,FA={...Mc,getAnimatableNone:e=>{const t=e.match(BVe);return t?t.map(VVe).join(" "):e}},_H={...ip,transform:Math.round},HVe={rotate:Ql,rotateX:Ql,rotateY:Ql,rotateZ:Ql,scale:rw,scaleX:rw,scaleY:rw,scaleZ:rw,skew:Ql,skewX:Ql,skewY:Ql,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:rv,originX:wH,originY:wH,originZ:vt},BF={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt,...HVe,zIndex:_H,fillOpacity:rv,strokeOpacity:rv,numOctaves:_H},GVe={...BF,color:ur,backgroundColor:ur,outlineColor:ur,fill:ur,stroke:ur,borderColor:ur,borderTopColor:ur,borderRightColor:ur,borderBottomColor:ur,borderLeftColor:ur,filter:FA,WebkitFilter:FA},p8=e=>GVe[e];function g8(e,t){let n=p8(e);return n!==FA&&(n=Mc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const zVe=new Set(["auto","none","0"]);function UVe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!zVe.has(s)&&iv(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=g8(n,i)}class jVe extends NF{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),PF(u))){const h=u8(u,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!d8.has(r)||t.length!==2)return;const[i,s]=t,o=MH(i),a=MH(s);if(o!==a)if(AH(o)&&AH(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else qu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||LVe(t[i]))&&r.push(i);r.length&&UVe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=qu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function WVe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const m8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function v8(e){return _7(e)&&"offsetHeight"in e}const kH=30,$Ve=e=>!isNaN(parseFloat(e));class qVe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ni.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ni.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$Ve(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xF);const r=this.events[t].add(n);return t==="change"?()=>{r(),Mn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kH)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kH);return O7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mf(e,t){return new qVe(e,t)}const{schedule:HF}=$7(queueMicrotask,!1),so={x:!1,y:!1};function y8(){return so.x||so.y}function KVe(e){return e==="x"||e==="y"?so[e]?null:(so[e]=!0,()=>{so[e]=!1}):so.x||so.y?null:(so.x=so.y=!0,()=>{so.x=so.y=!1})}function C8(e,t){const n=WVe(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function OH(e){return!(e.pointerType==="touch"||y8())}function YVe(e,t,n={}){const[r,i,s]=C8(e,n),o=a=>{if(!OH(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const h=f=>{OH(f)&&(u(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const w8=(e,t)=>t?e===t?!0:w8(e,t.parentElement):!1,GF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,XVe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function QVe(e){return XVe.has(e.tagName)||e.tabIndex!==-1}const Gw=new WeakSet;function LH(e){return t=>{t.key==="Enter"&&e(t)}}function mT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ZVe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=LH(()=>{if(Gw.has(n))return;mT(n,"down");const i=LH(()=>{mT(n,"up")}),s=()=>mT(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function NH(e){return GF(e)&&!y8()}function JVe(e,t,n={}){const[r,i,s]=C8(e,n),o=a=>{const l=a.currentTarget;if(!NH(a))return;Gw.add(l);const u=t(l,a),h=(v,C)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),Gw.has(l)&&Gw.delete(l),NH(v)&&typeof u=="function"&&u(v,{success:C})},f=v=>{h(v,l===window||l===document||n.useGlobalTarget||w8(l,v.target))},g=v=>{h(v,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),v8(a)&&(a.addEventListener("focus",u=>ZVe(u,i)),!QVe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function b8(e){return _7(e)&&"ownerSVGElement"in e}function e2e(e){return b8(e)&&e.tagName==="svg"}const ai=e=>!!(e&&e.getVelocity),t2e=[...f8,ur,Mc],n2e=e=>t2e.find(h8(e)),zF=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class r2e extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=v8(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function i2e({children:e,isPresent:t,anchorX:n,root:r}){const i=b.useId(),s=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=b.useContext(zF);return b.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:f,right:g}=o.current;if(t||!s.current||!l||!u)return;const v=n==="left"?`left: ${f}`:`right: ${g}`;s.current.dataset.motionPopId=i;const C=document.createElement("style");a&&(C.nonce=a);const S=r??document.head;return S.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{S.contains(C)&&S.removeChild(C)}},[t]),I.jsx(r2e,{isPresent:t,childRef:s,sizeRef:o,children:b.cloneElement(e,{ref:s})})}const s2e=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=CF(o2e),h=b.useId();let f=!0,g=b.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:v=>{u.set(v,!0);for(const C of u.values())if(!C)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return s&&f&&(g={...g}),b.useMemo(()=>{u.forEach((v,C)=>u.set(C,!1))},[n]),b.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=I.jsx(i2e,{isPresent:n,anchorX:a,root:l,children:e})),I.jsx(AE.Provider,{value:g,children:e})};function o2e(){return new Map}function S8(e=!0){const t=b.useContext(AE);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=b.useId();b.useEffect(()=>{if(e)return i(s)},[e]);const o=b.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const iw=e=>e.key||"";function VH(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const vT=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=S8(o),f=b.useMemo(()=>VH(e),[e]),g=o&&!u?[]:f.map(iw),v=b.useRef(!0),C=b.useRef(f),S=CF(()=>new Map),[R,x]=b.useState(f),[D,T]=b.useState(f);F7(()=>{v.current=!1,C.current=f;for(let P=0;P<D.length;P++){const _=iw(D[P]);g.includes(_)?S.delete(_):S.get(_)!==!0&&S.set(_,!1)}},[D,g.length,g.join("-")]);const k=[];if(f!==R){let P=[...f];for(let _=0;_<D.length;_++){const M=D[_],N=iw(M);g.includes(N)||(P.splice(_,0,M),k.push(M))}return s==="wait"&&k.length&&(P=k),T(VH(P)),x(f),null}const{forceRender:O}=b.useContext(yF);return I.jsx(I.Fragment,{children:D.map(P=>{const _=iw(P),M=o&&!u?!1:f===D||g.includes(_),N=()=>{if(S.has(_))S.set(_,!0);else return;let B=!0;S.forEach(H=>{H||(B=!1)}),B&&(O?.(),T(C.current),o&&h?.(),r&&r())};return I.jsx(s2e,{isPresent:M,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:M?void 0:N,anchorX:a,children:P},_)})})},E8=b.createContext({strict:!1}),BH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_f={};for(const e in BH)_f[e]={isEnabled:t=>BH[e].some(n=>!!t[n])};function a2e(e){for(const t in e)_f[t]={..._f[t],...e[t]}}const l2e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lS(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||l2e.has(e)}let R8=e=>!lS(e);function c2e(e){typeof e=="function"&&(R8=t=>t.startsWith("on")?!lS(t):e(t))}try{c2e(require("@emotion/is-prop-valid").default)}catch{}function u2e(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(R8(i)||n===!0&&lS(i)||!t&&!lS(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const PE=b.createContext({});function IE(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function sv(e){return typeof e=="string"||Array.isArray(e)}const UF=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jF=["initial",...UF];function FE(e){return IE(e.animate)||jF.some(t=>sv(e[t]))}function x8(e){return!!(FE(e)||e.variants)}function d2e(e,t){if(FE(e)){const{initial:n,animate:r}=e;return{initial:n===!1||sv(n)?n:void 0,animate:sv(r)?r:void 0}}return e.inherit!==!1?t:{}}function h2e(e){const{initial:t,animate:n}=d2e(e,b.useContext(PE));return b.useMemo(()=>({initial:t,animate:n}),[HH(t),HH(n)])}function HH(e){return Array.isArray(e)?e.join(" "):e}const ov={};function f2e(e){for(const t in e)ov[t]=e[t],AF(t)&&(ov[t].isCSSVariable=!0)}function T8(e,{layout:t,layoutId:n}){return op.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ov[e]||e==="opacity")}const p2e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g2e=sp.length;function m2e(e,t,n){let r="",i=!0;for(let s=0;s<g2e;s++){const o=sp[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=m8(a,BF[o]);if(!l){i=!1;const h=p2e[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function WF(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(op.has(l)){o=!0;continue}else if(AF(l)){i[l]=u;continue}else{const h=m8(u,BF[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(t.transform||(o||n?r.transform=m2e(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const $F=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D8(e,t,n){for(const r in t)!ai(t[r])&&!T8(r,n)&&(e[r]=t[r])}function v2e({transformTemplate:e},t){return b.useMemo(()=>{const n=$F();return WF(n,t,e),Object.assign({},n.vars,n.style)},[t])}function y2e(e,t){const n=e.style||{},r={};return D8(r,n,e),Object.assign(r,v2e(e,t)),r}function C2e(e,t){const n={},r=y2e(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const w2e={offset:"stroke-dashoffset",array:"stroke-dasharray"},b2e={offset:"strokeDashoffset",array:"strokeDasharray"};function S2e(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?w2e:b2e;e[s.offset]=vt.transform(-r);const o=vt.transform(t),a=vt.transform(n);e[s.array]=`${o} ${a}`}function A8(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,h){if(WF(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g}=e;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&S2e(f,i,s,o,!1)}const P8=()=>({...$F(),attrs:{}}),I8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function E2e(e,t,n,r){const i=b.useMemo(()=>{const s=P8();return A8(s,t,I8(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};D8(s,e.style,e),i.style={...s,...i.style}}return i}const R2e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qF(e){return typeof e!="string"||e.includes("-")?!1:!!(R2e.indexOf(e)>-1||/[A-Z]/u.test(e))}function x2e(e,t,n,{latestValues:r},i,s=!1){const a=(qF(e)?E2e:C2e)(t,r,i,e),l=u2e(t,typeof e=="string",s),u=e!==b.Fragment?{...l,...a,ref:n}:{},{children:h}=t,f=b.useMemo(()=>ai(h)?h.get():h,[h]);return b.createElement(e,{...u,children:f})}function GH(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function KF(e,t,n,r){if(typeof t=="function"){const[i,s]=GH(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=GH(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function zw(e){return ai(e)?e.get():e}function T2e({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:D2e(n,r,i,e),renderState:t()}}function D2e(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=zw(s[g]);let{initial:o,animate:a}=e;const l=FE(e),u=x8(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!IE(f)){const g=Array.isArray(f)?f:[f];for(let v=0;v<g.length;v++){const C=KF(e,g[v]);if(C){const{transitionEnd:S,transition:R,...x}=C;for(const D in x){let T=x[D];if(Array.isArray(T)){const k=h?T.length-1:0;T=T[k]}T!==null&&(i[D]=T)}for(const D in S)i[D]=S[D]}}}return i}const F8=e=>(t,n)=>{const r=b.useContext(PE),i=b.useContext(AE),s=()=>T2e(e,t,r,i);return n?s():CF(s)};function YF(e,t,n){const{style:r}=e,i={};for(const s in r)(ai(r[s])||t.style&&ai(t.style[s])||T8(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const A2e=F8({scrapeMotionValuesFromProps:YF,createRenderState:$F});function M8(e,t,n){const r=YF(e,t,n);for(const i in e)if(ai(e[i])||ai(t[i])){const s=sp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const P2e=F8({scrapeMotionValuesFromProps:M8,createRenderState:P8}),I2e=Symbol.for("motionComponentSymbol");function kh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function F2e(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):kh(n)&&(n.current=r))},[t])}const XF=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M2e="framerAppearId",_8="data-"+XF(M2e),k8=b.createContext({});function _2e(e,t,n,r,i){const{visualElement:s}=b.useContext(PE),o=b.useContext(E8),a=b.useContext(AE),l=b.useContext(zF).reducedMotion,u=b.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,f=b.useContext(k8);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&k2e(u.current,n,i,f);const g=b.useRef(!1);b.useInsertionEffect(()=>{h&&g.current&&h.update(n,a)});const v=n[_8],C=b.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return F7(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),C.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!C.current&&h.animationState&&h.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),C.current=!1),h.enteringChildren=void 0)}),h}function k2e(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:O8(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&kh(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function O8(e){if(e)return e.options.allowProjection!==!1?e.projection:O8(e.parent)}function yT(e,{forwardMotionProps:t=!1}={},n,r){n&&a2e(n);const i=qF(e)?P2e:A2e;function s(a,l){let u;const h={...b.useContext(zF),...a,layoutId:O2e(a)},{isStatic:f}=h,g=h2e(a),v=i(a,f);if(!f&&wF){L2e();const C=N2e(h);u=C.MeasureLayout,g.visualElement=_2e(e,v,h,r,C.ProjectionNode)}return I.jsxs(PE.Provider,{value:g,children:[u&&g.visualElement?I.jsx(u,{visualElement:g.visualElement,...h}):null,x2e(e,a,F2e(v,g.visualElement,l),v,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=b.forwardRef(s);return o[I2e]=e,o}function O2e({layoutId:e}){const t=b.useContext(yF).id;return t&&e!==void 0?t+"-"+e:e}function L2e(e,t){b.useContext(E8).strict}function N2e(e){const{drag:t,layout:n}=_f;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function V2e(e,t){if(typeof Proxy>"u")return yT;const n=new Map,r=(s,o)=>yT(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,yT(o,void 0,e,t)),n.get(o))})}function L8({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function B2e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function H2e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function CT(e){return e===void 0||e===1}function MA({scale:e,scaleX:t,scaleY:n}){return!CT(e)||!CT(t)||!CT(n)}function xu(e){return MA(e)||N8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function N8(e){return zH(e.x)||zH(e.y)}function zH(e){return e&&e!=="0%"}function cS(e,t,n){const r=e-n,i=t*r;return n+i}function UH(e,t,n,r,i){return i!==void 0&&(e=cS(e,i,r)),cS(e,n,r)+t}function _A(e,t=0,n=1,r,i){e.min=UH(e.min,t,n,r,i),e.max=UH(e.max,t,n,r,i)}function V8(e,{x:t,y:n}){_A(e.x,t.translate,t.scale,t.originPoint),_A(e.y,n.translate,n.scale,n.originPoint)}const jH=.999999999999,WH=1.0000000000001;function G2e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Lh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,V8(e,o)),r&&xu(s.latestValues)&&Lh(e,s.latestValues))}t.x<WH&&t.x>jH&&(t.x=1),t.y<WH&&t.y>jH&&(t.y=1)}function Oh(e,t){e.min=e.min+t,e.max=e.max+t}function $H(e,t,n,r,i=.5){const s=Nn(e.min,e.max,i);_A(e,t,n,s,r)}function Lh(e,t){$H(e.x,t.x,t.scaleX,t.scale,t.originX),$H(e.y,t.y,t.scaleY,t.scale,t.originY)}function B8(e,t){return L8(H2e(e.getBoundingClientRect(),t))}function z2e(e,t,n){const r=B8(e,n),{scroll:i}=t;return i&&(Oh(r.x,i.offset.x),Oh(r.y,i.offset.y)),r}const qH=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nh=()=>({x:qH(),y:qH()}),KH=()=>({min:0,max:0}),Qn=()=>({x:KH(),y:KH()}),kA={current:null},H8={current:!1};function U2e(){if(H8.current=!0,!!wF)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kA.current=e.matches;e.addEventListener("change",t),t()}else kA.current=!1}const j2e=new WeakMap;function W2e(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ai(i))e.addValue(r,i);else if(ai(s))e.addValue(r,Mf(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Mf(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const YH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $2e{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=NF,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ni.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Mn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=FE(n),this.isVariantNode=x8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const v=f[g];l[g]!==void 0&&ai(v)&&v.set(l[g])}}mount(t){this.current=t,j2e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),H8.current||U2e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kA.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fc(this.notifyUpdate),Fc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=op.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Mn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _f){const n=_f[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YH.length;r++){const i=YH[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=W2e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Mf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(M7(r)||k7(r))?r=parseFloat(r):!n2e(r)&&Mc.test(n)&&(r=g8(t,n)),this.setBaseTarget(t,ai(r)?r.get():r)),ai(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=KF(this.props,n,this.presenceContext?.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ai(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xF),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){HF.render(this.render)}}class G8 extends $2e{constructor(){super(...arguments),this.KeyframeResolver=jVe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ai(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function z8(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function q2e(e){return window.getComputedStyle(e)}class K2e extends G8{constructor(){super(...arguments),this.type="html",this.renderInstance=z8}readValueFromInstance(t,n){if(op.has(n))return this.projection?.isProjecting?xA(n):cVe(t,n);{const r=q2e(t),i=(AF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return B8(t,n)}build(t,n,r){WF(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return YF(t,n,r)}}const U8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y2e(e,t,n,r){z8(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(U8.has(i)?i:XF(i),t.attrs[i])}class X2e extends G8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(op.has(n)){const r=p8(n);return r&&r.default||0}return n=U8.has(n)?n:XF(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return M8(t,n,r)}build(t,n,r){A8(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Y2e(t,n,r,i)}mount(t){this.isSVGTag=I8(t.tagName),super.mount(t)}}const Q2e=(e,t)=>qF(e)?new X2e(t):new K2e(t,{allowProjection:e!==b.Fragment});function of(e,t,n){const r=e.getProps();return KF(r,t,n!==void 0?n:r.custom,e)}const OA=e=>Array.isArray(e);function Z2e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mf(n))}function J2e(e){return OA(e)?e[e.length-1]||0:e}function eBe(e,t){const n=of(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=J2e(s[o]);Z2e(e,o,a)}}function tBe(e){return!!(ai(e)&&e.add)}function LA(e,t){const n=e.getValue("willChange");if(tBe(n))return n.add(t);if(!n&&hl.WillChange){const r=new hl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function j8(e){return e.props[_8]}const nBe=e=>e!==null;function rBe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(nBe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const iBe={type:"spring",stiffness:500,damping:25,restSpeed:10},sBe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oBe={type:"keyframes",duration:.8},aBe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lBe=(e,{keyframes:t})=>t.length>2?oBe:op.has(e)?e.startsWith("scale")?sBe(t[1]):iBe:aBe;function cBe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const QF=(e,t,n,r={},i,s)=>o=>{const a=VF(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-sa(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};cBe(a)||Object.assign(h,lBe(e,h)),h.duration&&(h.duration=sa(h.duration)),h.repeatDelay&&(h.repeatDelay=sa(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(IA(h),h.delay===0&&(f=!0)),(hl.instantAnimations||hl.skipAnimations)&&(f=!0,IA(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const g=rBe(h.keyframes,a);if(g!==void 0){Mn.update(()=>{h.onUpdate(g),h.onComplete()});return}}return a.isSync?new LF(h):new MVe(h)};function uBe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function W8(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const f=e.getValue(h,e.latestValues[h]??null),g=a[h];if(g===void 0||u&&uBe(u,h))continue;const v={delay:n,...VF(s||{},h)},C=f.get();if(C!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===C&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const x=j8(e);if(x){const D=window.MotionHandoffAnimation(x,h,Mn);D!==null&&(v.startTime=D,S=!0)}}LA(e,h),f.start(QF(h,f,g,e.shouldReduceMotion&&d8.has(h)?{type:!1}:v,e,S));const R=f.animation;R&&l.push(R)}return o&&Promise.all(l).then(()=>{Mn.update(()=>{o&&eBe(e,o)})}),l}function $8(e,t,n,r=0,i=1){const s=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function NA(e,t,n={}){const r=of(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(W8(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return dBe(e,t,l,u,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function dBe(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(NA(l,t,{...o,delay:n+(typeof r=="function"?0:r)+$8(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function hBe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>NA(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=NA(e,t,n);else{const i=typeof t=="function"?of(e,t,n.custom):t;r=Promise.all(W8(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function q8(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const fBe=jF.length;function K8(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?K8(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<fBe;n++){const r=jF[n],i=e.props[r];(sv(i)||i===!1)&&(t[r]=i)}return t}const pBe=[...UF].reverse(),gBe=UF.length;function mBe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>hBe(e,n,r)))}function vBe(e){let t=mBe(e),n=XH(),r=!0;const i=l=>(u,h)=>{const f=of(e,h,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:v,...C}=f;u={...u,...C,...v}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,h=K8(e.parent)||{},f=[],g=new Set;let v={},C=1/0;for(let R=0;R<gBe;R++){const x=pBe[R],D=n[x],T=u[x]!==void 0?u[x]:h[x],k=sv(T),O=x===l?D.isActive:null;O===!1&&(C=R);let P=T===h[x]&&T!==u[x]&&k;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),D.protectedKeys={...v},!D.isActive&&O===null||!T&&!D.prevProp||IE(T)||typeof T=="boolean")continue;const _=yBe(D.prevProp,T);let M=_||x===l&&D.isActive&&!P&&k||R>C&&k,N=!1;const B=Array.isArray(T)?T:[T];let H=B.reduce(i(x),{});O===!1&&(H={});const{prevResolvedValues:U={}}=D,G={...U,...H},ee=Z=>{M=!0,g.has(Z)&&(N=!0,g.delete(Z)),D.needsAnimating[Z]=!0;const te=e.getValue(Z);te&&(te.liveStyle=!1)};for(const Z in G){const te=H[Z],pe=U[Z];if(v.hasOwnProperty(Z))continue;let F=!1;OA(te)&&OA(pe)?F=!q8(te,pe):F=te!==pe,F?te!=null?ee(Z):g.add(Z):te!==void 0&&g.has(Z)?ee(Z):D.protectedKeys[Z]=!0}D.prevProp=T,D.prevResolvedValues=H,D.isActive&&(v={...v,...H}),r&&e.blockInitialAnimation&&(M=!1);const ie=P&&_;M&&(!ie||N)&&f.push(...B.map(Z=>{const te={type:x};if(typeof Z=="string"&&r&&!ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:pe}=e,F=of(pe,Z);if(pe.enteringChildren&&F){const{delayChildren:X}=F.transition||{};te.delay=$8(pe.enteringChildren,e,X)}}return{animation:Z,options:te}}))}if(g.size){const R={};if(typeof u.initial!="boolean"){const x=of(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(R.transition=x.transition)}g.forEach(x=>{const D=e.getBaseTarget(x),T=e.getValue(x);T&&(T.liveStyle=!0),R[x]=D??null}),f.push({animation:R})}let S=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(f):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,u)),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=XH(),r=!0}}}function yBe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!q8(t,e):!1}function Cu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XH(){return{animate:Cu(!0),whileInView:Cu(),whileHover:Cu(),whileTap:Cu(),whileDrag:Cu(),whileFocus:Cu(),exit:Cu()}}class jc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class CBe extends jc{constructor(t){super(t),t.animationState||(t.animationState=vBe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();IE(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wBe=0;class bBe extends jc{constructor(){super(...arguments),this.id=wBe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const SBe={animation:{Feature:CBe},exit:{Feature:bBe}};function av(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function oy(e){return{point:{x:e.pageX,y:e.pageY}}}const EBe=e=>t=>GF(t)&&e(t,oy(t));function um(e,t,n,r){return av(e,t,EBe(n),r)}const Y8=1e-4,RBe=1-Y8,xBe=1+Y8,X8=.01,TBe=0-X8,DBe=0+X8;function xi(e){return e.max-e.min}function ABe(e,t,n){return Math.abs(e-t)<=n}function QH(e,t,n,r=.5){e.origin=r,e.originPoint=Nn(t.min,t.max,e.origin),e.scale=xi(n)/xi(t),e.translate=Nn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=RBe&&e.scale<=xBe||isNaN(e.scale))&&(e.scale=1),(e.translate>=TBe&&e.translate<=DBe||isNaN(e.translate))&&(e.translate=0)}function dm(e,t,n,r){QH(e.x,t.x,n.x,r?r.originX:void 0),QH(e.y,t.y,n.y,r?r.originY:void 0)}function ZH(e,t,n){e.min=n.min+t.min,e.max=e.min+xi(t)}function PBe(e,t,n){ZH(e.x,t.x,n.x),ZH(e.y,t.y,n.y)}function JH(e,t,n){e.min=t.min-n.min,e.max=e.min+xi(t)}function hm(e,t,n){JH(e.x,t.x,n.x),JH(e.y,t.y,n.y)}function Os(e){return[e("x"),e("y")]}const Q8=({current:e})=>e?e.ownerDocument.defaultView:null,eG=(e,t)=>Math.abs(e-t);function IBe(e,t){const n=eG(e.x,t.x),r=eG(e.y,t.y);return Math.sqrt(n**2+r**2)}class Z8{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=bT(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,C=IBe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!C)return;const{point:S}=g,{timestamp:R}=Wr;this.history.push({...S,timestamp:R});const{onStart:x,onMove:D}=this.handlers;v||(x&&x(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=wT(v,this.transformPagePoint),Mn.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=bT(g.type==="pointercancel"?this.lastMoveEventInfo:wT(v,this.transformPagePoint),this.history);this.startEvent&&C&&C(g,x),S&&S(g,x)},!GF(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=oy(t),l=wT(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=Wr;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,bT(l,this.history)),this.removeListeners=ry(um(this.contextWindow,"pointermove",this.handlePointerMove),um(this.contextWindow,"pointerup",this.handlePointerUp),um(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fc(this.updatePoint)}}function wT(e,t){return t?{point:t(e.point)}:e}function tG(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bT({point:e},t){return{point:e,delta:tG(e,J8(t)),offset:tG(e,FBe(t)),velocity:MBe(t,.1)}}function FBe(e){return e[0]}function J8(e){return e[e.length-1]}function MBe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=J8(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>sa(t)));)n--;if(!r)return{x:0,y:0};const s=oa(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _Be(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Nn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Nn(n,e,r.max):Math.min(e,n)),e}function nG(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function kBe(e,{top:t,left:n,bottom:r,right:i}){return{x:nG(e.x,n,i),y:nG(e.y,t,r)}}function rG(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function OBe(e,t){return{x:rG(e.x,t.x),y:rG(e.y,t.y)}}function LBe(e,t){let n=.5;const r=xi(e),i=xi(t);return i>r?n=nv(t.min,t.max-r,e.min):r>i&&(n=nv(e.min,e.max-i,t.min)),dl(0,1,n)}function NBe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const VA=.35;function VBe(e=VA){return e===!1?e=0:e===!0&&(e=VA),{x:iG(e,"left","right"),y:iG(e,"top","bottom")}}function iG(e,t,n){return{min:sG(e,t),max:sG(e,n)}}function sG(e,t){return typeof e=="number"?e:e[t]||0}const BBe=new WeakMap;class HBe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(oy(f).point)},o=(f,g)=>{const{drag:v,dragPropagation:C,onDragStart:S}=this.getProps();if(v&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KVe(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Os(x=>{let D=this.getAxisMotionValue(x).get()||0;if(aa.test(D)){const{projection:T}=this.visualElement;if(T&&T.layout){const k=T.layout.layoutBox[x];k&&(D=xi(k)*(parseFloat(D)/100))}}this.originPoint[x]=D}),S&&Mn.postRender(()=>S(f,g)),LA(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},a=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:C,onDirectionLock:S,onDrag:R}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:x}=g;if(C&&this.currentDirection===null){this.currentDirection=GBe(x),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,x),this.updateAxis("y",g.point,x),this.visualElement.render(),R&&R(f,g)},l=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Os(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Z8(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:Q8(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Mn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!sw(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=_Be(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&kh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=kBe(r.layoutBox,t):this.constraints=!1,this.elastic=VBe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Os(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=NBe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kh(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=z2e(r,i.root,this.visualElement.getTransformPagePoint());let o=OBe(i.layout.layoutBox,s);if(n){const a=n(B2e(o));this.hasMutatedConstraints=!!a,a&&(o=L8(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Os(h=>{if(!sw(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,C={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,C)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return LA(this.visualElement,t),r.start(QF(t,r,0,n,this.visualElement,!1))}stopAnimation(){Os(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Os(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Os(n=>{const{drag:r}=this.getProps();if(!sw(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Nn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Os(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=LBe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Os(o=>{if(!sw(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Nn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;BBe.set(this.visualElement,this);const t=this.visualElement.current,n=um(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();kh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Mn.read(r);const o=av(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Os(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=VA,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function sw(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function GBe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zBe extends jc{constructor(t){super(t),this.removeGroupControls=Ws,this.removeListeners=Ws,this.controls=new HBe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ws}unmount(){this.removeGroupControls(),this.removeListeners()}}const oG=e=>(t,n)=>{e&&Mn.postRender(()=>e(t,n))};class UBe extends jc{constructor(){super(...arguments),this.removePointerDownListener=Ws}onPointerDown(t){this.session=new Z8(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Q8(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:oG(t),onStart:oG(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Mn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=um(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aG(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Tg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(vt.test(e))e=parseFloat(e);else return e;const n=aG(e,t.target.x),r=aG(e,t.target.y);return`${n}% ${r}%`}},jBe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Mc.parse(e);if(i.length>5)return r;const s=Mc.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=Nn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let ST=!1;class WBe extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;f2e($Be),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),ST&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Uw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,ST=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Mn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),HF.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;ST=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eq(e){const[t,n]=S8(),r=b.useContext(yF);return I.jsx(WBe,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(k8),isPresent:t,safeToRemove:n})}const $Be={borderRadius:{...Tg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tg,borderTopRightRadius:Tg,borderBottomLeftRadius:Tg,borderBottomRightRadius:Tg,boxShadow:jBe};function qBe(e,t,n){const r=ai(e)?e:Mf(e);return r.start(QF("",r,t,n)),r.animation}const KBe=(e,t)=>e.depth-t.depth;class YBe{constructor(){this.children=[],this.isDirty=!1}add(t){bF(this.children,t),this.isDirty=!0}remove(t){SF(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KBe),this.isDirty=!1,this.children.forEach(t)}}function XBe(e,t){const n=Ni.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Fc(r),e(s-t))};return Mn.setup(r,!0),()=>Fc(r)}const tq=["TopLeft","TopRight","BottomLeft","BottomRight"],QBe=tq.length,lG=e=>typeof e=="string"?parseFloat(e):e,cG=e=>typeof e=="number"||vt.test(e);function ZBe(e,t,n,r,i,s){i?(e.opacity=Nn(0,n.opacity??1,JBe(r)),e.opacityExit=Nn(t.opacity??1,0,eHe(r))):s&&(e.opacity=Nn(t.opacity??1,n.opacity??1,r));for(let o=0;o<QBe;o++){const a=`border${tq[o]}Radius`;let l=uG(t,a),u=uG(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||cG(l)===cG(u)?(e[a]=Math.max(Nn(lG(l),lG(u),r),0),(aa.test(u)||aa.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Nn(t.rotate||0,n.rotate||0,r))}function uG(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JBe=nq(0,.5,z7),eHe=nq(.5,.95,Ws);function nq(e,t,n){return r=>r<e?0:r>t?1:n(nv(e,t,r))}function dG(e,t){e.min=t.min,e.max=t.max}function Ms(e,t){dG(e.x,t.x),dG(e.y,t.y)}function hG(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fG(e,t,n,r,i){return e-=t,e=cS(e,1/n,r),i!==void 0&&(e=cS(e,1/i,r)),e}function tHe(e,t=0,n=1,r=.5,i,s=e,o=e){if(aa.test(t)&&(t=parseFloat(t),t=Nn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Nn(s.min,s.max,r);e===s&&(a-=t),e.min=fG(e.min,t,n,a,i),e.max=fG(e.max,t,n,a,i)}function pG(e,t,[n,r,i],s,o){tHe(e,t[n],t[r],t[i],t.scale,s,o)}const nHe=["x","scaleX","originX"],rHe=["y","scaleY","originY"];function gG(e,t,n,r){pG(e.x,t,nHe,n?n.x:void 0,r?r.x:void 0),pG(e.y,t,rHe,n?n.y:void 0,r?r.y:void 0)}function mG(e){return e.translate===0&&e.scale===1}function rq(e){return mG(e.x)&&mG(e.y)}function vG(e,t){return e.min===t.min&&e.max===t.max}function iHe(e,t){return vG(e.x,t.x)&&vG(e.y,t.y)}function yG(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iq(e,t){return yG(e.x,t.x)&&yG(e.y,t.y)}function CG(e){return xi(e.x)/xi(e.y)}function wG(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sHe{constructor(){this.members=[]}add(t){bF(this.members,t),t.scheduleRender()}remove(t){if(SF(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oHe(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:g,skewX:v,skewY:C}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),C&&(r+=`skewY(${C}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ET=["","X","Y","Z"],aHe=1e3;let lHe=0;function RT(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function sq(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=j8(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Mn,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&sq(r)}function oq({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=lHe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dHe),this.nodes.forEach(gHe),this.nodes.forEach(mHe),this.nodes.forEach(hHe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new YBe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xF),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=b8(o)&&!e2e(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let h,f=0;const g=()=>this.root.updateBlockedByResize=!1;Mn.read(()=>{f=window.innerWidth}),e(o,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,h&&h(),h=XBe(g,250),Uw.hasAnimatedSinceResize&&(Uw.hasAnimatedSinceResize=!1,this.nodes.forEach(EG)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||u.getDefaultTransition()||bHe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=u.getProps(),x=!this.targetLayout||!iq(this.targetLayout,v),D=!f&&g;if(this.options.layoutRoot||this.resumeFrom||D||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...VF(C,"layout"),onPlay:S,onComplete:R};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,D)}else f||EG(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vHe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bG);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SG);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pHe),this.nodes.forEach(cHe),this.nodes.forEach(uHe)):this.nodes.forEach(SG),this.clearAllSnapshots();const a=Ni.now();Wr.delta=dl(0,1e3/60,a-Wr.timestamp),Wr.timestamp=a,Wr.isProcessing=!0,dT.update.process(Wr),dT.preRender.process(Wr),dT.render.process(Wr),Wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HF.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fHe),this.sharedNodes.forEach(yHe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xi(this.snapshot.measuredBox.x)&&!xi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!rq(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||xu(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),SHe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Qn();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EHe))){const{scroll:u}=this.root;u&&(Oh(a.x,u.offset.x),Oh(a.y,u.offset.y))}return a}removeElementScroll(o){const a=Qn();if(Ms(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ms(a,o),Oh(a.x,h.offset.x),Oh(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Qn();Ms(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Lh(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),xu(h.latestValues)&&Lh(l,h.latestValues)}return xu(this.latestValues)&&Lh(l,this.latestValues),l}removeTransform(o){const a=Qn();Ms(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!xu(u.latestValues))continue;MA(u.latestValues)&&u.updateSnapshot();const h=Qn(),f=u.measurePageBox();Ms(h,f),gG(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return xu(this.latestValues)&&gG(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Wr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),hm(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qn(),this.targetWithTransforms=Qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PBe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ms(this.target,this.layout.layoutBox),V8(this.target,this.targetDelta)):Ms(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),hm(this.relativeTargetOrigin,this.target,g.target),Ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||MA(this.parent.latestValues)||N8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Wr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Ms(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;G2e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qn());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hG(this.prevProjectionDelta.x,this.projectionDelta.x),hG(this.prevProjectionDelta.y,this.projectionDelta.y)),dm(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!wG(this.projectionDelta.x,this.prevProjectionDelta.x)||!wG(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nh(),this.projectionDelta=Nh(),this.projectionDeltaWithTransform=Nh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=Nh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Qn(),v=l?l.source:void 0,C=this.layout?this.layout.source:void 0,S=v!==C,R=this.getStack(),x=!R||R.members.length<=1,D=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(wHe));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const O=k/1e3;RG(f.x,o.x,O),RG(f.y,o.y,O),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CHe(this.relativeTarget,this.relativeTargetOrigin,g,O),T&&iHe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Qn()),Ms(T,this.relativeTarget)),S&&(this.animationValues=h,ZBe(h,u,this.latestValues,O,D,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mn.update(()=>{Uw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mf(0)),this.currentAnimation=qBe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aHe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&aq(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qn();const f=xi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const g=xi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}Ms(a,l),Lh(a,h),dm(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sHe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&RT("z",o,u,this.animationValues);for(let h=0;h<ET.length;h++)RT(`rotate${ET[h]}`,o,u,this.animationValues),RT(`skew${ET[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=zw(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=zw(a?.pointerEvents)||""),this.hasProjected&&!xu(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=oHe(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),o.transform=f;const{x:g,y:v}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const C in ov){if(h[C]===void 0)continue;const{correct:S,applyTo:R,isCSSVariable:x}=ov[C],D=f==="none"?h[C]:S(h[C],u);if(R){const T=R.length;for(let k=0;k<T;k++)o[R[k]]=D}else x?this.options.visualElement.renderState.vars[C]=D:o[C]=D}this.options.layoutId&&(o.pointerEvents=u===this?zw(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(bG),this.root.sharedNodes.clear()}}}function cHe(e){e.updateLayout()}function uHe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Os(h=>{const f=s?t.measuredBox[h]:t.layoutBox[h],g=xi(f);f.min=n[h].min,f.max=f.min+g}):aq(i,t.layoutBox,n)&&Os(h=>{const f=s?t.measuredBox[h]:t.layoutBox[h],g=xi(n[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const o=Nh();dm(o,n,t.layoutBox);const a=Nh();s?dm(a,e.applyTransform(r,!0),t.measuredBox):dm(a,n,t.layoutBox);const l=!rq(o);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const v=Qn();hm(v,t.layoutBox,f.layoutBox);const C=Qn();hm(C,n,g.layoutBox),iq(v,C)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function dHe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hHe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fHe(e){e.clearSnapshot()}function bG(e){e.clearMeasurements()}function SG(e){e.isLayoutDirty=!1}function pHe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function EG(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gHe(e){e.resolveTargetDelta()}function mHe(e){e.calcProjection()}function vHe(e){e.resetSkewAndRotation()}function yHe(e){e.removeLeadSnapshot()}function RG(e,t,n){e.translate=Nn(t.translate,0,n),e.scale=Nn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xG(e,t,n,r){e.min=Nn(t.min,n.min,r),e.max=Nn(t.max,n.max,r)}function CHe(e,t,n,r){xG(e.x,t.x,n.x,r),xG(e.y,t.y,n.y,r)}function wHe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bHe={duration:.45,ease:[.4,0,.1,1]},TG=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),DG=TG("applewebkit/")&&!TG("chrome/")?Math.round:Ws;function AG(e){e.min=DG(e.min),e.max=DG(e.max)}function SHe(e){AG(e.x),AG(e.y)}function aq(e,t,n){return e==="position"||e==="preserve-aspect"&&!ABe(CG(t),CG(n),.2)}function EHe(e){return e!==e.root&&e.scroll?.wasRoot}const RHe=oq({attachResizeListener:(e,t)=>av(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xT={current:void 0},lq=oq({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xT.current){const e=new RHe({});e.mount(window),e.setOptions({layoutScroll:!0}),xT.current=e}return xT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xHe={pan:{Feature:UBe},drag:{Feature:zBe,ProjectionNode:lq,MeasureLayout:eq}};function PG(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Mn.postRender(()=>s(t,oy(t)))}class THe extends jc{mount(){const{current:t}=this.node;t&&(this.unmount=YVe(t,(n,r)=>(PG(this.node,r,"Start"),i=>PG(this.node,i,"End"))))}unmount(){}}class DHe extends jc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ry(av(this.node.current,"focus",()=>this.onFocus()),av(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IG(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Mn.postRender(()=>s(t,oy(t)))}class AHe extends jc{mount(){const{current:t}=this.node;t&&(this.unmount=JVe(t,(n,r)=>(IG(this.node,r,"Start"),(i,{success:s})=>IG(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const BA=new WeakMap,TT=new WeakMap,PHe=e=>{const t=BA.get(e.target);t&&t(e)},IHe=e=>{e.forEach(PHe)};function FHe({root:e,...t}){const n=e||document;TT.has(n)||TT.set(n,{});const r=TT.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(IHe,{root:e,...t})),r[i]}function MHe(e,t,n){const r=FHe(t);return BA.set(e,n),r.observe(e),()=>{BA.delete(e),r.unobserve(e)}}const _He={some:0,all:1};class kHe extends jc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_He[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),g=u?h:f;g&&g(l)};return MHe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(OHe(t,n))&&this.startObserver()}unmount(){}}function OHe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const LHe={inView:{Feature:kHe},tap:{Feature:AHe},focus:{Feature:DHe},hover:{Feature:THe}},NHe={layout:{ProjectionNode:lq,MeasureLayout:eq}},VHe={...SBe,...LHe,...xHe,...NHe},ZF=V2e(VHe,Q2e),BHe=({content:e})=>{const t=["I","You","He/She/It","We","They"],n=e.forms,r=(i,s)=>{switch(s){case"Present Simple":return i==="He/She/It"?n.thirdPersonSingular:n.base;case"Present Continuous":return i==="I"?`am ${n.gerund}`:i==="He/She/It"?`is ${n.gerund}`:`are ${n.gerund}`;case"Past Simple":return n.pastSimple;case"Present Perfect":return i==="He/She/It"?`has ${n.pastParticiple}`:`have ${n.pastParticiple}`;case"Simple Future":return`will ${n.simpleFuture.replace("will","")}`;default:return n.base}};return I.jsxs(ZF.div,{className:"conjugate-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeInOut"},children:[I.jsx("div",{className:"verb-header text-center p-3 mb-3 bg-light rounded",children:I.jsxs("h2",{children:[e.verbSpanish.charAt(0).toUpperCase()+e.verbSpanish.slice(1)," ","/"," ",e.verbEnglish.charAt(0).toUpperCase()+e.verbEnglish.slice(1)]})}),I.jsxs(C4,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Pronoun"}),I.jsx("th",{children:"Simple Present"}),I.jsx("th",{children:"Present Continuous"}),I.jsx("th",{children:"Simple Past"}),I.jsx("th",{children:"Perfect Present"}),I.jsx("th",{children:"Simple Future"})]})}),I.jsx("tbody",{children:t.map(i=>I.jsxs("tr",{children:[I.jsx("td",{children:i}),I.jsx("td",{children:r(i,"Present Simple")}),I.jsx("td",{children:r(i,"Present Continuous")}),I.jsx("td",{children:r(i,"Past Simple")}),I.jsx("td",{children:r(i,"Present Perfect")}),I.jsx("td",{children:r(i,"Simple Future")})]},i))})]})]})},HHe=({content:e})=>{const{original_text:t,corrections:n}=e,r=K9(),[i,s]=b.useState(null),o=b.useMemo(()=>{const h=[...n].sort((v,C)=>v.position.start-C.position.start),f=[];let g=0;for(const v of h){const C=v.original,S=v.position.start,R=[];let x=g,D;for(;(D=t.indexOf(C,x))>-1;)R.push({start:D,end:D+C.length}),x=D+1;if(R.length===0)continue;const T=R.reduce((k,O)=>{const P=Math.abs(k.start-S);return Math.abs(O.start-S)<P?O:k});f.push({...v,position:{start:T.start,end:T.end}}),g=T.end}return f.sort((v,C)=>v.position.start-C.position.start)},[t,n]),a=h=>{s(f=>f===h?null:h)},l=[];let u=0;return o.forEach((h,f)=>{h.position.start>u&&l.push(I.jsx("span",{children:t.slice(u,h.position.start)},`text-${f}`)),l.push(I.jsxs("span",{className:"correction-group",onClick:r?()=>a(f):void 0,onMouseEnter:r?void 0:()=>s(f),onMouseLeave:r?void 0:()=>s(null),children:[I.jsx("span",{className:"correction-original",children:h.original}),I.jsx("span",{className:"correction-corrected",children:h.corrected}),i===f&&I.jsxs("div",{className:"correction-popup",children:[I.jsxs("div",{className:"explanation-correction",children:[I.jsx("span",{className:"original-word",children:h.original})," →"," ",I.jsx("span",{className:"corrected-word",children:h.corrected})]}),h.explanation&&I.jsx("p",{className:"explanation-text",children:h.explanation})]})]},`group-${f}`)),u=h.position.end}),u<t.length&&l.push(I.jsx("span",{children:t.slice(u)},"final-text")),I.jsxs("div",{className:"correction-container",children:[I.jsxs("p",{className:"correction-intro",children:[I.jsx("span",{className:"correction-intro-icon",children:"💡"})," Pasa el mouse (o haz clic en móvil) sobre las correcciones para ver una explicación detallada."]}),I.jsx("div",{className:"corrected-text-inline",children:l})]})},GHe=({message:e,isLastMessage:t,onRegenerate:n})=>{const[r,i]=b.useState(""),[s,o]=b.useState(!1),a=typeof e.content=="string"?e.content:e.content?.explanation||"";b.useEffect(()=>{if(i(""),o(!1),a){let u=0;const h=setInterval(()=>{i(a.substring(0,u+1)),u++,u>=a.length&&(clearInterval(h),e.content?.examples&&e.content.examples.length>0&&setTimeout(()=>o(!0),500))},20);return()=>clearInterval(h)}},[a,e.content?.examples]),b.useEffect(()=>{console.log(e)},[e]);const l=()=>{switch(e.mode){case"CORRECT":return I.jsx(HHe,{content:e.content});case"CONJUGATE":return I.jsxs(I.Fragment,{children:[I.jsx(BHe,{content:e.content}),I.jsx(tw,{children:r}),s&&I.jsxs("div",{className:"examples-section",children:[I.jsxs("div",{className:"examples-header",children:[I.jsx("span",{className:"examples-icon",children:"💡"}),I.jsx("h4",{children:"Ejemplos de uso:"})]}),I.jsx("div",{className:"examples-grid",children:e.content.examples.map((u,h)=>I.jsxs("div",{className:"example-item",children:[I.jsx("div",{className:"example-number",children:h+1}),I.jsx("div",{className:"example-content",children:I.jsx(tw,{children:u})})]},h))})]})]});default:return I.jsxs(I.Fragment,{children:[I.jsx(tw,{children:r}),s&&I.jsxs("div",{className:"examples-section",children:[I.jsxs("div",{className:"examples-header",children:[I.jsx("span",{className:"examples-icon",children:"💡"}),I.jsx("h4",{children:"Ejemplos de uso:"})]}),I.jsx("div",{className:"examples-grid",children:e.content.examples.map((u,h)=>I.jsxs("div",{className:"example-item",children:[I.jsx("div",{className:"example-number",children:h+1}),I.jsx("div",{className:"example-content",children:I.jsx(tw,{children:u})})]},h))})]})]})}};return I.jsxs("div",{className:"message-container bot-message-container",children:[I.jsx("div",{className:"avatar bot-avatar",children:I.jsx(MP,{size:24})}),I.jsxs("div",{className:"message-content",children:[I.jsx("div",{className:"message-bubble bot-message",children:l()}),t&&I.jsx("button",{className:"regenerate-button",onClick:n,children:I.jsx(lne,{size:16})})]})]})},zHe=({message:e})=>I.jsxs("div",{className:"message-container user-message-container",children:[I.jsx("div",{className:"message-bubble user-message",children:e}),I.jsx("div",{className:"avatar user-avatar",children:I.jsx(LP,{size:24})})]}),UHe=()=>I.jsx("div",{className:"message-bubble bot-message",children:I.jsx(fo,{animation:"border",size:"sm"})}),jHe=()=>I.jsx("div",{className:"welcome-container",children:I.jsx(hr,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:I.jsxs(hr.Body,{children:[I.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:I.jsx(MP,{size:28})}),I.jsx(hr.Title,{as:"h2",className:"mb-3",children:"¡Hola! Soy tu Tutor de Inglés Decolonial"}),I.jsx(hr.Text,{className:"text-muted mb-4",children:"Estoy aquí para ayudarte a explorar el inglés desde una perspectiva decolonial. Puedes hacerme preguntas, pedirme que conjugue verbos o que te explique temas gramaticales."}),I.jsx("h5",{className:"mb-3",children:"Aquí tienes algunas ideas:"}),I.jsxs(ao,{variant:"flush",children:[I.jsx(ao.Item,{children:`"Conjuga el verbo 'walk' en inglés"`}),I.jsx(ao.Item,{children:'"¿Qué es el presente perfecto?"'}),I.jsx(ao.Item,{children:`"Explícame el uso de 'will' y 'going to'"`})]})]})})}),WHe=({messages:e,isLoading:t,onRegenerate:n})=>{const r=b.useRef(null);return b.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[e,t]),I.jsxs("div",{className:"chat-window",children:[e.length===0&&!t?I.jsx(jHe,{}):e.map((i,s)=>{const o=i.sender==="bot"&&s===e.length-1;return i.sender==="bot"?I.jsx(GHe,{message:i,isLastMessage:o,onRegenerate:n},i.id):I.jsx(zHe,{message:i.content},i.id)}),t&&I.jsx(UHe,{}),I.jsx("div",{ref:r})]})},$He=()=>{const[e,t]=b.useState(""),[n,r]=b.useState([]),[i,s]=b.useState(!1),o=async u=>{if(u.preventDefault(),!e.trim()||i)return;const h={id:nf(),sender:"user",content:e};r(f=>[...f,h]),t(""),await l(e)},a=async()=>{if(i)return;const u=[...n].reverse().find(h=>h.sender==="user");u&&(r(h=>h.filter(f=>f.id!==n[n.length-1].id)),await l(u.content))},l=async u=>{s(!0);try{const h=await HMe(u),f=await GMe(u,h),g={id:nf(),sender:"bot",content:f.content,mode:f.mode};r(v=>[...v,g])}catch(h){console.error(h);const f={id:nf(),sender:"bot",content:"Ha ocurrido un error. Por favor, inténtalo de nuevo.",mode:"EXPLAIN"};r(g=>[...g,f])}finally{s(!1)}};return I.jsxs("div",{className:"chat-container",children:[I.jsx("div",{style:{flexGrow:1},children:I.jsx(WHe,{messages:n,isLoading:i,onRegenerate:a})}),I.jsxs("form",{className:"chat-input-form",onSubmit:o,children:[I.jsx("input",{type:"text",value:e,onChange:u=>t(u.target.value),placeholder:"Escribe un mensaje...",disabled:i}),I.jsx("button",{type:"submit",disabled:i||!e.trim(),children:I.jsx(fne,{size:18})})]})]})};async function qHe(e,t){const n=g5(m5,e),r=await Wue(n,t,{contentType:t.type});return{url:await $ue(r.ref),fullPath:r.ref.fullPath}}async function KHe(e){const t=g5(m5,e);await que(t)}const ap="posts",cq="comments",YHe=async e=>{const{imageFile:t,description:n,sessionId:r,teacherId:i}=e,s=`posts/${r}/${nf()}-${t.name}`,{url:o}=await qHe(s,t),a={imageUrl:o,imagePath:s,description:n||"",teacherId:i,sessionId:r,createdAt:new Date,likes:[],commentsCount:0},l=await Pce(qf(zi,ap),a);return{...a,id:l.id}},XHe=(e,t)=>{const n=XS(qf(zi,ap),kI("sessionId","==",e),W3("createdAt","desc"));return Q3(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},QHe=async(e,t,n)=>{const r=ua(zi,ap,e);n?await mD(r,{likes:Oce(t)}):await mD(r,{likes:kce(t)})},ZHe=async(e,t)=>{const n=ua(zi,ap,e),r=qf(n,cq),i={...t,postId:e,createdAt:new Date};return await _ce(zi,async s=>{const o=ua(r);s.set(o,i),s.update(n,{commentsCount:Lce(1)})}),{...i,id:nf()}},JHe=(e,t)=>{const n=XS(qf(zi,ap,e,cq),W3("createdAt","asc"));return Q3(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()}));t(i)})},eGe=async e=>{await KHe(e.imagePath),await X3(ua(zi,ap,e.id))},JF=tE((e,t)=>({posts:[],comments:{},isLoadingPosts:!1,isLoadingComments:!1,error:null,postsUnsubscribe:null,commentsUnsubscribe:{},fetchPosts:n=>{const{postsUnsubscribe:r}=t();r&&r(),e({isLoadingPosts:!0,error:null});const i=XHe(n,s=>{e({posts:s,isLoadingPosts:!1})});e({postsUnsubscribe:i})},fetchComments:n=>{const{commentsUnsubscribe:r}=t();r[n]&&r[n](),e({isLoadingComments:!0,error:null});const i=JHe(n,s=>{e(o=>({comments:{...o.comments,[n]:s},isLoadingComments:!1}))});e(s=>({commentsUnsubscribe:{...s.commentsUnsubscribe,[n]:i}}))},addPost:n=>e(r=>({posts:[n,...r.posts]})),updatePostLikes:(n,r)=>{e(i=>({posts:i.posts.map(s=>s.id===n?{...s,likes:r}:s)}))},removePost:n=>{e(r=>({posts:r.posts.filter(i=>i.id!==n)}))},addComment:(n,r)=>{e(i=>({comments:{...i.comments,[n]:[...i.comments[n]||[],r]}}))},cleanup:()=>{const{postsUnsubscribe:n,commentsUnsubscribe:r}=t();n&&n(),Object.values(r).forEach(i=>{i&&i()}),e({postsUnsubscribe:null,commentsUnsubscribe:{}})}})),tGe=({post:e,onClick:t})=>I.jsxs(ZF.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"post-item-card",onClick:t,children:[I.jsx("img",{src:e.imageUrl,alt:e.description||"Post image",className:"card-image"}),I.jsxs("div",{className:"card-footer",children:[I.jsxs("div",{className:"stat",children:[I.jsx(b4,{size:18}),I.jsx("span",{children:e.likes.length})]}),I.jsxs("div",{className:"stat",children:[I.jsx(sne,{size:18}),I.jsx("span",{children:e.commentsCount||0})]})]})]});var uq="en",eM={},HA={};function dq(){return uq}function nGe(e){uq=e}function rGe(e){return eM[e]}function iGe(e){if(!e)throw new Error("No locale data passed");eM[e.locale]=e,HA[e.locale.toLowerCase()]=e.locale}function FG(e){if(eM[e])return e;if(HA[e.toLowerCase()])return HA[e.toLowerCase()]}function hq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return MG(e);case"best fit":return MG(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function MG(e){var t=FG(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=FG(e);if(r)return r}}var Q={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2);return i==1&&s!=11?"one":i>=2&&i<=4&&(s<12||s>14)?"few":r&&i==0||i>=5&&i<=9||s>=11&&s<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return i==1&&s!=11&&s!=71&&s!=91?"one":i==2&&s!=12&&s!=72&&s!=92?"two":(i==3||i==4||i==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return s&&o==1&&a!=11||l==1&&u!=11?"one":s&&o>=2&&o<=4&&(a<12||a>14)||l>=2&&l<=4&&(u<12||u>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1&&i?"one":r!=0&&s==0&&i?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=i.slice(-1);return s&&(r==1||r==2||r==3)||s&&o!=4&&o!=6&&o!=9||!s&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return t==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return t==1||!i&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-2),a=i.slice(-2);return s&&o==1||a==1?"one":s&&o==2||a==2?"two":s&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1?"one":r!=0&&s==0&&i?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t>=0&&t<2?"one":r!=0&&s==0&&i?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return r==1&&i||r==0&&!i?"one":r==2&&i?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],i=(n[1]||"").replace(/0+$/,""),s=Number(n[0])==t,o=r.slice(-1),a=r.slice(-2);return s&&o==1&&a!=11||i%10==1&&i%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,s=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",i=r.length,s=Number(n[0])==t,o=s&&n[0].slice(-1),a=s&&n[0].slice(-2),l=r.slice(-2),u=r.slice(-1);return s&&o==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":o==1&&a!=11||i==2&&u==1&&l!=11||i!=2&&u==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return s&&o==1&&a!=11||l==1&&u!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||i>=3&&i<=10?"few":i>=11&&i<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return t==1&&i?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&r!=1&&(s==0||s==1)||i&&s>=5&&s<=9||i&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return r==0||r==1?"one":r!=0&&s==0&&i?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,s=i&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&s>=1&&s<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&s==0||i&&s>=5&&s<=9||i&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"";return t==0||t==1||r==0&&i==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-2);return i&&s==1?"one":i&&s==2?"two":i&&(s==3||s==4)||!i?"few":"other"}};Q.as=Q.am;Q.az=Q.af;Q.bal=Q.af;Q.bg=Q.af;Q.bn=Q.am;Q.brx=Q.af;Q.ce=Q.af;Q.chr=Q.af;Q.de=Q.ast;Q.doi=Q.am;Q.ee=Q.af;Q.el=Q.af;Q.en=Q.ast;Q.et=Q.ast;Q.eu=Q.af;Q.fa=Q.am;Q.fi=Q.ast;Q.fil=Q.ceb;Q.fo=Q.af;Q.fur=Q.af;Q.fy=Q.ast;Q.gl=Q.ast;Q.gu=Q.am;Q.ha=Q.af;Q.hi=Q.am;Q.hr=Q.bs;Q.hsb=Q.dsb;Q.hu=Q.af;Q.hy=Q.ff;Q.ia=Q.ast;Q.id=Q.dz;Q.ig=Q.dz;Q.ii=Q.dz;Q.it=Q.ca;Q.ja=Q.dz;Q.jgo=Q.af;Q.jv=Q.dz;Q.ka=Q.af;Q.kea=Q.dz;Q.kk=Q.af;Q.kl=Q.af;Q.km=Q.dz;Q.kn=Q.am;Q.ko=Q.dz;Q.ks=Q.af;Q.ksh=Q.blo;Q.ku=Q.af;Q.ky=Q.af;Q.lb=Q.af;Q.lkt=Q.dz;Q.lo=Q.dz;Q.ml=Q.af;Q.mn=Q.af;Q.mr=Q.af;Q.ms=Q.dz;Q.my=Q.dz;Q.nb=Q.af;Q.ne=Q.af;Q.nl=Q.ast;Q.nn=Q.af;Q.no=Q.af;Q.nqo=Q.dz;Q.om=Q.af;Q.or=Q.af;Q.pa=Q.ak;Q.pcm=Q.am;Q.ps=Q.af;Q.rm=Q.af;Q.sah=Q.dz;Q.sc=Q.ast;Q.sd=Q.af;Q.sk=Q.cs;Q.so=Q.af;Q.sq=Q.af;Q.sr=Q.bs;Q.su=Q.dz;Q.sv=Q.ast;Q.sw=Q.ast;Q.syr=Q.af;Q.ta=Q.af;Q.te=Q.af;Q.th=Q.dz;Q.ti=Q.ak;Q.tk=Q.af;Q.tn=Q.af;Q.to=Q.dz;Q.tr=Q.af;Q.ug=Q.af;Q.uk=Q.ru;Q.ur=Q.ast;Q.uz=Q.af;Q.vec=Q.ca;Q.vi=Q.dz;Q.wae=Q.af;Q.wo=Q.dz;Q.xh=Q.af;Q.yi=Q.ast;Q.yo=Q.dz;Q.yue=Q.dz;Q.zh=Q.dz;Q.zu=Q.am;function _G(e){return e==="pt-PT"?e:oGe(e)}var sGe=/^([a-z0-9]+)/i;function oGe(e){var t=e.match(sGe);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function aGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cGe(r.key),r)}}function lGe(e,t,n){return t&&kG(e.prototype,t),n&&kG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cGe(e){var t=uGe(e,"string");return lv(t)=="symbol"?t:t+""}function uGe(e,t){if(lv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GA=function(){function e(t,n){aGe(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=Q[_G(r[0])]}return lGe(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return Q[_G(r)]})}}]),e}();function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function OG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OG(Object(n),!0).forEach(function(r){dGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dGe(e,t,n){return(t=fq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NG(e,t){return gGe(e)||pGe(e,t)||fGe(e,t)||hGe()}function hGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fGe(e,t){if(e){if(typeof e=="string")return VG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VG(e,t):void 0}}function VG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function gGe(e){if(Array.isArray(e))return e}function mGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vGe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fq(r.key),r)}}function yGe(e,t,n){return t&&vGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fq(e){var t=CGe(e,"string");return kf(t)=="symbol"?t:t+""}function CGe(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wGe=["second","minute","hour","day","week","month","quarter","year"],bGe=["auto","always"],SGe=["long","short","narrow"],EGe=["lookup","best fit"],_c=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mGe(this,e);var r=n.numeric,i=n.style,s=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(bGe.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(i!==void 0){if(SGe.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(s!==void 0){if(EGe.indexOf(s)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(s));this.localeMatcher=s}if(typeof t=="string"&&(t=[t]),t.push(dq()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");GA.supportedLocalesOf(this.locale).length>0?this.pluralRules=new GA(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=hq(this.locale,{localeMatcher:this.localeMatcher})}return yGe(e,[{key:"format",value:function(){var n=BG(arguments),r=NG(n,2),i=r[0],s=r[1];return this.getRule(i,s).replace("{0}",this.formatNumber(Math.abs(i)))}},{key:"formatToParts",value:function(){var n=BG(arguments),r=NG(n,2),i=r[0],s=r[1],o=this.getRule(i,s),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var l=[];return a>0&&l.push({type:"literal",value:o.slice(0,a)}),l=l.concat(this.formatNumberToParts(Math.abs(i)).map(function(u){return LG(LG({},u),{},{unit:s})})),a+3<o.length-1&&l.push({type:"literal",value:o.slice(a+3)}),l}},{key:"getRule",value:function(n,r){var i=rGe(this.locale)[this.style][r];if(typeof i=="string")return i;if(this.numeric==="auto"){if(n===-2||n===-1){var s=i["previous".concat(n===-1?"":"-"+Math.abs(n))];if(s)return s}else if(n===1||n===2){var o=i["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&i.current)return i.current}var a=i[AGe(n)?"past":"future"];if(typeof a=="string")return a;var l=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return a[l]||a.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e}();_c.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return hq(n,t)})};_c.addLocale=iGe;_c.setDefaultLocale=nGe;_c.getDefaultLocale=dq;_c.PluralRules=GA;var DT='Invalid "unit" argument';function RGe(e){if(kf(e)==="symbol")throw new TypeError(DT);if(typeof e!="string")throw new RangeError("".concat(DT,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),wGe.indexOf(e)<0)throw new RangeError("".concat(DT,": ").concat(e));return e}var xGe='Invalid "number" argument';function TGe(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(xGe,": ").concat(e));return e}function DGe(e){return 1/e===-1/0}function AGe(e){return e<0||e===0&&DGe(e)}function BG(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[TGe(e[0]),RGe(e[1])]}function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function PGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IGe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MGe(r.key),r)}}function FGe(e,t,n){return t&&IGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MGe(e){var t=_Ge(e,"string");return pd(t)=="symbol"?t:t+""}function _Ge(e,t){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HG=function(){function e(){PGe(this,e),this.cache={}}return FGe(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o=0,a=i;o<a.length;o++){var l=a[o];if(pd(n)!=="object")return;n=n[l]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var s=r.pop(),o=r.pop(),a=this.cache,l=0,u=r;l<u.length;l++){var h=u[l];pd(a[h])!=="object"&&(a[h]={}),a=a[h]}return a[o]=s}}]),e}();function zA(e){"@babel/helpers - typeof";return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zA(e)}function kGe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=OGe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OGe(e,t){if(e){if(typeof e=="string")return GG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GG(e,t):void 0}}function GG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function LGe(e,t){for(var n=kGe(e),r;!(r=n()).done;){var i=r.value;if(t(i))return i;for(var s=i.split("-");s.length>1;)if(s.pop(),i=s.join("-"),t(i))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function NGe(){var e=(typeof Intl>"u"?"undefined":zA(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function UA(e){"@babel/helpers - typeof";return UA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UA(e)}function VGe(e){return HGe(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var BGe={}.constructor;function HGe(e){return UA(e)!==void 0&&e!==null&&e.constructor===BGe}var Ua=60,uS=60*Ua,Yu=24*uS,jA=7*Yu,WA=30.44*Yu,pq=146097/400*Yu;function af(e){switch(e){case"second":return 1;case"minute":return Ua;case"hour":return uS;case"day":return Yu;case"week":return jA;case"month":return WA;case"year":return pq}}function gq(e){return e.factor!==void 0?e.factor:af(e.unit||e.formatAs)||1}function cv(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function tM(e){switch(e){case"floor":return 1;default:return .5}}function $A(e){"@babel/helpers - typeof";return $A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$A(e)}function mq(e,t){var n=t.prevStep,r=t.timestamp,i=t.now,s=t.future,o=t.round,a;return n&&(n.id||n.unit)&&(a=e["threshold_for_".concat(n.id||n.unit)]),a===void 0&&e.threshold!==void 0&&(a=e.threshold,typeof a=="function"&&(a=a(i,s))),a===void 0&&(a=e.minTime),$A(a)==="object"&&(n&&n.id&&a[n.id]!==void 0?a=a[n.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:s,getMinTimeForUnit:function(u,h){return zG(u,h||n&&n.formatAs,{round:o})}})),a===void 0&&e.test&&(e.test(r,{now:i,future:s})?a=0:a=9007199254740991),a===void 0&&(n?e.formatAs&&n.formatAs&&(a=zG(e.formatAs,n.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),a}function zG(e,t,n){var r=n.round,i=af(e),s;if(t==="now"?s=af(e):s=af(t),i!==void 0&&s!==void 0)return i-s*(1-tM(r))}function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function UG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GGe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UG(Object(n),!0).forEach(function(r){zGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zGe(e,t,n){return(t=UGe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UGe(e){var t=jGe(e,"string");return uv(t)=="symbol"?t:t+""}function jGe(e,t){if(uv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WGe(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.units;e=qGe(e,o);var a=$Ge(e,t,{now:r,future:i,round:s});{if(a){var l=e[e.indexOf(a)-1],u=e[e.indexOf(a)+1];return[l,a,u]}return[void 0,void 0,e[0]]}}function $Ge(e,t,n){var r=n.now,i=n.future,s=n.round;if(e.length!==0){var o=vq(e,t,{now:r,future:i||t<0,round:s});if(o!==-1){var a=e[o];if(a.granularity){var l=cv(s)(Math.abs(t)/gq(a)/a.granularity)*a.granularity;if(l===0&&o>0)return e[o-1]}return a}}}function vq(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=mq(e[r],GGe({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return i===void 0||Math.abs(t)<i?r-1:r===e.length-1?r:vq(e,t,n,r+1)}function qGe(e,t){return e.filter(function(n){var r=n.unit,i=n.formatAs;return r=r||i,r?t.indexOf(r)>=0:!0})}function KGe(e,t,n){var r=n.now,i=n.round;if(af(e)){var s=af(e)*1e3,o=t>r,a=Math.abs(t-r),l=cv(i)(a/s)*s;return o?l>0?a-l+XGe(i,s):a-l+1:-(a-l)+YGe(i,s)}}function YGe(e,t){return tM(e)*t}function XGe(e,t){return(1-tM(e))*t+1}var QGe=365*24*60*60*1e3,yq=1e3*QGe;function ZGe(e,t,n){var r=n.prevStep,i=n.nextStep,s=n.now,o=n.future,a=n.round,l=e.getTime?e.getTime():e,u=function(C){return KGe(C,l,{now:s,round:a})},h=eze(o?t:i,l,{future:o,now:s,round:a,prevStep:o?r:t});if(h!==void 0){var f;if(t&&(t.getTimeToNextUpdate&&(f=t.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:u,getRoundFunction:cv,now:s,future:o,round:a})),f===void 0)){var g=t.unit||t.formatAs;g&&(f=u(g))}return f===void 0?h:Math.min(f,h)}}function JGe(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep,a=mq(e,{timestamp:t,now:r,future:i,round:s,prevStep:o});if(a!==void 0)return i?t-a*1e3+1:a===0&&t===r?yq:t+a*1e3}function eze(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep;if(e){var a=JGe(e,t,{now:r,future:i,round:s,prevStep:o});return a===void 0?void 0:a-r}else return i?t-r+1:yq}var Cq={};function Vh(e){return Cq[e]}function wq(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");Cq[e.locale]=e}const tze=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],qA={steps:tze,labels:"long"};function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function jG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jG(Object(n),!0).forEach(function(r){nze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nze(e,t,n){return(t=rze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rze(e){var t=ize(e,"string");return dv(t)=="symbol"?t:t+""}function ize(e,t){if(dv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const KA=WG(WG({},qA),{},{steps:qA.steps.filter(function(e){return e.formatAs!=="second"})}),bq=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Ua,unit:"minute"},{threshold:2.5*Ua,granularity:5,factor:Ua,unit:"minute"},{threshold:22.5*Ua,factor:.5*uS,unit:"half-hour"},{threshold:42.5*Ua,threshold_for_minute:52.5*Ua,factor:uS,unit:"hour"},{threshold:20.5/24*Yu,factor:Yu,unit:"day"},{threshold:5.5*Yu,factor:jA,unit:"week"},{threshold:3.5*jA,factor:WA,unit:"month"},{threshold:10.5*WA,factor:pq,unit:"year"}],$G={gradation:bq,flavour:"long",units:["now","minute","hour","day","week","month","year"]},sze={gradation:bq,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Sq(e){return e instanceof Date?e:new Date(e)}var YA=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Uo={},oze={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return Uo[n]||(Uo[n]={}),Uo[n].dayMonth||(Uo[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),Uo[n].dayMonth.format(Sq(t))}},aze={minTime:function(t,n){var r=n.future;if(r){var i=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-i)/1e3}else{var s=new Date(new Date(t).getFullYear()+1,0).getTime();return(s-t)/1e3}},format:function(t,n){return Uo[n]||(Uo[n]={}),Uo[n].dayMonthYear||(Uo[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),Uo[n].dayMonthYear.format(Sq(t))}};NGe()?YA.push(oze,aze):YA.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const gd={steps:YA,labels:["mini","short-time","narrow","short"]};function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function qG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qG(Object(n),!0).forEach(function(r){lze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lze(e,t,n){return(t=cze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cze(e){var t=uze(e,"string");return hv(t)=="symbol"?t:t+""}function uze(e,t){if(hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const dze=KG(KG({},gd),{},{steps:[{formatAs:"now"}].concat(gd.steps)});function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function YG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YG(Object(n),!0).forEach(function(r){hze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hze(e,t,n){return(t=fze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fze(e){var t=pze(e,"string");return fv(t)=="symbol"?t:t+""}function pze(e,t){if(fv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const XA=XG(XG({},gd),{},{steps:gd.steps.filter(function(e){return e.formatAs!=="second"})});function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function QG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QG(Object(n),!0).forEach(function(r){gze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gze(e,t,n){return(t=mze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mze(e){var t=vze(e,"string");return pv(t)=="symbol"?t:t+""}function vze(e,t){if(pv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const yze=ZG(ZG({},XA),{},{steps:[{formatAs:"now"}].concat(XA.steps)});function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function JG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ow(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JG(Object(n),!0).forEach(function(r){Cze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cze(e,t,n){return(t=wze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wze(e){var t=bze(e,"string");return gv(t)=="symbol"?t:t+""}function bze(e,t){if(gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Sze=ow(ow({},gd),{},{steps:gd.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?ow(ow({},e),{},{minTime:Ua}):e})}),mv={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ez(Object(n),!0).forEach(function(r){Eze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eze(e,t,n){return(t=Rze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rze(e){var t=xze(e,"string");return vv(t)=="symbol"?t:t+""}function xze(e,t){if(vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Tze=tz(tz({},mv),{},{steps:[{formatAs:"now"}].concat(mv.steps)});function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function nz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nz(Object(n),!0).forEach(function(r){Dze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dze(e,t,n){return(t=Aze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aze(e){var t=Pze(e,"string");return yv(t)=="symbol"?t:t+""}function Pze(e,t){if(yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const QA=rz(rz({},mv),{},{steps:mv.steps.filter(function(e){return e.formatAs!=="second"})});function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function iz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iz(Object(n),!0).forEach(function(r){Ize(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ize(e,t,n){return(t=Fze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fze(e){var t=Mze(e,"string");return Cv(t)=="symbol"?t:t+""}function Mze(e,t){if(Cv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const _ze=sz(sz({},QA),{},{steps:[{formatAs:"now"}].concat(QA.steps)});function kze(e){switch(e){case"default":case"round":return qA;case"round-minute":return KA;case"approximate":return $G;case"time":case"approximate-time":return sze;case"mini":return mv;case"mini-now":return Tze;case"mini-minute":return QA;case"mini-minute-now":return _ze;case"twitter":return gd;case"twitter-now":return dze;case"twitter-minute":return XA;case"twitter-minute-now":return yze;case"twitter-first-minute":return Sze;default:return $G}}function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function Oze(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Eq(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lze(e,t){return Bze(e)||Vze(e,t)||Eq(e,t)||Nze()}function Nze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eq(e,t){if(e){if(typeof e=="string")return oz(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oz(e,t):void 0}}function oz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Bze(e){if(Array.isArray(e))return e}function Hze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uze(r.key),r)}}function zze(e,t,n){return t&&Gze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uze(e){var t=jze(e,"string");return md(t)=="symbol"?t:t+""}function jze(e,t){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ho=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;Hze(this,e),typeof t=="string"&&(t=[t]),this.locale=LGe(t.concat(e.getDefaultLocale()),Vh),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=_c,this.IntlPluralRules=_c.PluralRules),this.relativeTimeFormatCache=new HG,this.pluralRulesCache=new HG}return zze(e,[{key:"format",value:function(n,r,i){i||(r&&!Yze(r)?(i=r,r=void 0):i={}),r||(r=KA),typeof r=="string"&&(r=kze(r));var s=Wze(n),o=this.getLabels(r.flavour||r.labels),a=o.labels,l=o.labelsType,u;r.now!==void 0&&(u=r.now),u===void 0&&i.now!==void 0&&(u=i.now),u===void 0&&(u=Date.now());var h=(u-s)/1e3,f=i.future||h<0,g=Kze(a,Vh(this.locale).now,Vh(this.locale).long,f);if(r.custom){var v=r.custom({now:u,date:new Date(s),time:s,elapsed:h,locale:this.locale});if(v!==void 0)return v}var C=qze(r.units,a,g),S=i.round||r.round,R=WGe(r.gradation||r.steps||KA.steps,h,{now:u,units:C,round:S,future:f}),x=Lze(R,3),D=x[0],T=x[1],k=x[2],O=this.formatDateForStep(s,T,h,{labels:a,labelsType:l,nowLabel:g,now:u,future:f,round:S})||"";if(i.getTimeToNextUpdate){var P=ZGe(s,T,{nextStep:k,prevStep:D,now:u,future:f,round:S});return[O,P]}return O}},{key:"formatDateForStep",value:function(n,r,i,s){var o=this,a=s.labels,l=s.labelsType,u=s.nowLabel,h=s.now,f=s.future,g=s.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(x,D){return o.formatValue(D,x,{labels:a,future:f})},now:h,future:f});var v=r.unit||r.formatAs;if(!v)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(v==="now")return u;var C=Math.abs(i)/gq(r);r.granularity&&(C=cv(g)(C/r.granularity)*r.granularity);var S=-1*Math.sign(i)*cv(g)(C);switch(S===0&&(f?S=0:S=-0),l){case"long":case"short":case"narrow":return this.getFormatter(l).format(S,v);default:return this.formatValue(S,v,{labels:a,future:f})}}}},{key:"formatValue",value:function(n,r,i){var s=i.labels,o=i.future;return this.getFormattingRule(s,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,i,s){var o=s.future;if(this.locale,n=n[r],typeof n=="string")return n;var a=i===0?o?"future":"past":i<0?"past":"future",l=n[a]||n;if(typeof l=="string")return l;var u=this.getPluralRules().select(Math.abs(i));return l[u]||l.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),n=n.concat("long");for(var r=Vh(this.locale),i=Oze(n),s;!(s=i()).done;){var o=s.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e}(),Rq="en";ho.getDefaultLocale=function(){return Rq};ho.setDefaultLocale=function(e){return Rq=e};ho.addDefaultLocale=function(e){if(az)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");az=!0,ho.setDefaultLocale(e.locale),ho.addLocale(e)};var az;ho.addLocale=function(e){wq(e),_c.addLocale(e)};ho.locale=ho.addLocale;ho.addLabels=function(e,t,n){var r=Vh(e);r||(wq({locale:e}),r=Vh(e)),r[t]=n};function Wze(e){if(e.constructor===Date||$ze(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(md(e),", ").concat(e))}function $ze(e){return md(e)==="object"&&typeof e.getTime=="function"}function qze(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(i){return i==="now"||r.indexOf(i)>=0})),r}function Kze(e,t,n,r){var i=e.now||t&&t.now;if(i)return typeof i=="string"?i:r?i.future:i.past;if(n&&n.second&&n.second.current)return n.second.current}function Yze(e){return typeof e=="string"||VGe(e)}const Xze={locale:"es",long:{year:{previous:"el año pasado",current:"este año",next:"el próximo año",past:{one:"hace {0} año",other:"hace {0} años"},future:{one:"dentro de {0} año",other:"dentro de {0} años"}},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el próximo trimestre",past:{one:"hace {0} trimestre",other:"hace {0} trimestres"},future:{one:"dentro de {0} trimestre",other:"dentro de {0} trimestres"}},month:{previous:"el mes pasado",current:"este mes",next:"el próximo mes",past:{one:"hace {0} mes",other:"hace {0} meses"},future:{one:"dentro de {0} mes",other:"dentro de {0} meses"}},week:{previous:"la semana pasada",current:"esta semana",next:"la próxima semana",past:{one:"hace {0} semana",other:"hace {0} semanas"},future:{one:"dentro de {0} semana",other:"dentro de {0} semanas"}},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"mañana","next-2":"pasado mañana",past:{one:"hace {0} día",other:"hace {0} días"},future:{one:"dentro de {0} día",other:"dentro de {0} días"}},hour:{current:"esta hora",past:{one:"hace {0} hora",other:"hace {0} horas"},future:{one:"dentro de {0} hora",other:"dentro de {0} horas"}},minute:{current:"este minuto",past:{one:"hace {0} minuto",other:"hace {0} minutos"},future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"}},second:{current:"ahora",past:{one:"hace {0} segundo",other:"hace {0} segundos"},future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"}}},short:{year:{previous:"el año pasado",current:"este año",next:"el próximo año",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el próximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el próximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"próx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"mañana","next-2":"pasado mañana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},narrow:{year:{previous:"el año pasado",current:"este año",next:"el próximo año",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el próximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el próximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"próx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"mañana","next-2":"pasado mañana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},now:{now:{current:"ahora",future:"enseguida",past:"ahora mismo"}},mini:{year:{one:"{0} año",other:"{0} años"},month:{one:"{0} mes",other:"{0} meses"},week:"{0} sem.",day:{one:"{0} día",other:"{0} días"},hour:{one:"{0} hora",other:"{0} horas"},minute:"{0} min.",second:"{0} seg.",now:"ahora"},"long-time":{year:{one:"{0} año",other:"{0} años"},month:{one:"{0} mes",other:"{0} meses"},week:{one:"{0} semana",other:"{0} semanas"},day:{one:"{0} día",other:"{0} días"},hour:{one:"{0} hora",other:"{0} horas"},minute:{one:"{0} minuto",other:"{0} minutos"},second:{one:"{0} segundo",other:"{0} segundos"}}};ho.addDefaultLocale(Xze);const Qze=new ho("es-CO"),Zze=({comment:e})=>I.jsxs("div",{className:"comment-item",children:[I.jsx("div",{className:"comment-avatar",children:I.jsx(LP,{size:20})}),I.jsxs("div",{className:"comment-body",children:[I.jsxs("div",{className:"comment-header",children:[I.jsx("span",{className:"comment-author",children:e.studentName}),I.jsx("span",{className:"comment-timestamp",children:Qze.format(e.createdAt)})]}),I.jsx("p",{className:"comment-text text-start",children:e.text})]})]}),Jze=({postId:e})=>{const{user:t}=va(),{comments:n,fetchComments:r,isLoadingComments:i}=JF(),s=n[e]||[],[o,a]=b.useState(""),[l,u]=b.useState(!1);b.useEffect(()=>{r&&typeof r=="function"&&r(e)},[e,r]);const h=async f=>{if(f.preventDefault(),!(!o.trim()||!t)){u(!0);try{await ZHe(e,{text:o,studentId:t.id,studentName:t.name}),a("")}catch(g){console.error("Error adding comment:",g)}finally{u(!1)}}};return I.jsxs("div",{className:"d-flex flex-column h-100",children:[I.jsx("h5",{className:"mb-3",children:"Comentarios"}),I.jsxs("div",{className:"flex-grow-1",style:{overflowY:"auto",overflowX:"hidden"},children:[i&&I.jsx("div",{className:"text-center",children:I.jsx(fo,{animation:"border",size:"sm"})}),!i&&s.length===0&&I.jsx("p",{className:"text-muted text-center mt-3",children:"No hay comentarios aún. ¡Sé el primero!"}),I.jsx("div",{children:s.map(f=>I.jsx(Zze,{comment:f},f.id))})]}),t?.role===Fn.STUDENT&&I.jsxs(Yt,{onSubmit:h,className:"mt-auto pt-3 border-top",children:[I.jsx(Yt.Group,{children:I.jsx(Yt.Control,{as:"textarea",rows:2,value:o,onChange:f=>a(f.target.value),placeholder:"Escribe un comentario...",required:!0,className:"mb-2"})}),I.jsx("div",{className:"d-grid",children:I.jsx(nr,{variant:"primary",type:"submit",disabled:l,children:l?"Enviando...":"Enviar Comentario"})})]})]})},eUe=({post:e,onClose:t})=>{const{user:n}=va(),i=JF(g=>g.posts.find(v=>v.id===e.id))||e,[s,o]=b.useState(!1),[a,l]=b.useState(!1),u=b.useMemo(()=>n?i.likes.includes(n.id):!1,[i.likes,n]),h=async()=>{if(!(!n||n.role!==Fn.STUDENT)){o(!0);try{await QHe(i.id,n.id,u)}catch(g){console.error("Error toggling like:",g)}finally{o(!1)}}},f=async()=>{if(!(!n||n.role!==Fn.TEACHER)&&window.confirm("¿Estás seguro de que quieres borrar este post? Esta acción no se puede deshacer.")){l(!0);try{await eGe(i),t()}catch(g){console.error("Error deleting post:",g),alert("Hubo un error al borrar el post.")}finally{l(!1)}}};return I.jsx(On,{show:!0,onHide:t,size:"xl",centered:!0,contentClassName:"bg-transparent border-0",children:I.jsx(ZF.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:I.jsx(On.Body,{className:"p-0",children:I.jsxs(pf,{className:"g-0",children:[I.jsx(Yo,{md:7,className:"d-flex align-items-center justify-content-center bg-dark",children:I.jsx("img",{src:i.imageUrl,alt:i.description,className:"img-fluid",style:{maxHeight:"90vh",objectFit:"contain"}})}),I.jsxs(Yo,{md:5,className:"bg-light p-4 d-flex flex-column",children:[I.jsxs("div",{children:[I.jsx("p",{children:i.description}),I.jsx("hr",{}),I.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[I.jsxs("div",{children:[n?.role===Fn.STUDENT&&I.jsx(nr,{variant:"link",onClick:h,disabled:s,className:"p-0 me-2",children:I.jsx(b4,{size:24,color:u?"red":"black",fill:u?"red":"none"})}),I.jsxs("span",{children:["A ",i.likes.length," personas les gusta esto"]})]}),n?.role===Fn.TEACHER&&I.jsx(nr,{variant:"outline-danger",onClick:f,disabled:a,children:a?I.jsx(fo,{size:"sm"}):I.jsx(kP,{size:20})})]})]}),I.jsx("div",{className:"flex-grow-1 mt-3",children:I.jsx(Jze,{postId:i.id})}),I.jsx(nr,{variant:"secondary",onClick:t,className:"mt-auto",children:"Cerrar"})]})]})})})})},tUe=({sessionId:e,onClose:t})=>{const{user:n}=va(),[r,i]=b.useState(""),[s,o]=b.useState(null),[a,l]=b.useState(!1),[u,h]=b.useState(null),f=v=>{v.target.files&&v.target.files[0]&&o(v.target.files[0])},g=async v=>{if(v.preventDefault(),!s||!n){h("Por favor, selecciona una imagen.");return}l(!0),h(null);const C={imageFile:s,description:r,sessionId:e,teacherId:n.id};try{await YHe(C),t()}catch(S){h("Hubo un error al subir el post. Inténtalo de nuevo."),console.error(S)}finally{l(!1)}};return I.jsxs(On,{show:!0,onHide:t,centered:!0,children:[I.jsx(On.Header,{closeButton:!0,children:I.jsx(On.Title,{children:"Crear Nuevo Post"})}),I.jsx(On.Body,{children:I.jsxs(Yt,{onSubmit:g,children:[I.jsxs(Yt.Group,{controlId:"formFile",className:"mb-3",children:[I.jsx(Yt.Label,{children:"Imagen del Post"}),I.jsx(Yt.Control,{type:"file",accept:"image/*",onChange:f,required:!0})]}),I.jsxs(Yt.Group,{controlId:"formDescription",className:"mb-3",children:[I.jsx(Yt.Label,{children:"Descripción (opcional)"}),I.jsx(Yt.Control,{as:"textarea",rows:3,value:r,onChange:v=>i(v.target.value),placeholder:"Añade una descripción..."})]}),u&&I.jsx("p",{className:"text-danger",children:u}),I.jsx("div",{className:"d-grid",children:I.jsx(nr,{variant:"primary",type:"submit",disabled:a,children:a?I.jsxs(I.Fragment,{children:[I.jsx(fo,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Subiendo..."]}):"Publicar"})})]})})]})},nUe=()=>{const{sessionId:e}=dX(),{user:t}=va(),{posts:n,fetchPosts:r,cleanup:i}=JF(),[s,o]=b.useState(null),[a,l]=b.useState(!1);b.useEffect(()=>(e&&r(e),()=>{i()}),[e,r,i]);const u=v=>{o(v)},h=()=>{o(null)},f=()=>{l(!0)},g=()=>{l(!1)};return I.jsxs("div",{className:"post-gallery-container p-4",children:[t?.role===Fn.TEACHER&&I.jsxs(nr,{variant:"success",size:"lg",onClick:f,className:"mb-3",children:[I.jsx(Pv,{size:24})," Añadir nuevo post"]}),I.jsx("div",{className:"post-gallery-grid",children:I.jsx(vT,{children:n.map(v=>I.jsx(tGe,{post:v,onClick:()=>u(v)},v.id))})}),I.jsx(vT,{children:s&&I.jsx(eUe,{post:s,onClose:h})}),I.jsx(vT,{children:a&&I.jsx(tUe,{sessionId:e,onClose:g})})]})},rUe=()=>I.jsx("div",{children:I.jsx(nUe,{})}),iUe=eQ([{path:"/dashboard",element:I.jsx(OJ,{children:I.jsx(ode,{})}),children:[{index:!0,element:I.jsx(Hh,{to:"mapa",replace:!0})},{path:"mapa",element:I.jsx(bg,{allowedRoles:[Fn.STUDENT,Fn.TEACHER,Fn.ADMINISTRATOR],children:I.jsx(Zde,{})})},{path:"estudiantes",element:I.jsx(bg,{allowedRoles:[Fn.TEACHER,Fn.ADMINISTRATOR],children:I.jsx(lAe,{})})},{path:"grupos",element:I.jsx(bg,{allowedRoles:[Fn.TEACHER,Fn.ADMINISTRATOR],children:I.jsx(OMe,{})})},{path:"chatbot",element:I.jsx(bg,{allowedRoles:[Fn.STUDENT,Fn.TEACHER,Fn.ADMINISTRATOR],children:I.jsx($He,{})})},{path:"galeria/:sessionId",element:I.jsx(bg,{allowedRoles:[Fn.STUDENT,Fn.TEACHER,Fn.ADMINISTRATOR],children:I.jsx(rUe,{})})}]},{path:"/",element:I.jsx(Hh,{to:"/dashboard",replace:!0})},{path:"/login",element:I.jsx(LMe,{children:I.jsx(Hde,{})})},{path:"*",element:I.jsx(Hh,{to:"/",replace:!0})}]);ype.registerModules([YTe]);function sUe(){const[e,t]=b.useState(!0),{setUser:n}=va();return b.useEffect(()=>{const r=localStorage.getItem("user");r&&n(JSON.parse(r)),t(!1)},[]),e?I.jsx(fo,{animation:"border",className:"d-flex justify-content-center align-items-center"}):I.jsx(hQ,{router:iUe})}rY.createRoot(document.getElementById("root")).render(I.jsx(b.StrictMode,{children:I.jsx(sUe,{})}));
